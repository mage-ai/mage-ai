---
title: "Callback blocks"
sidebarTitle: "Overview"
description: "A callback block is associated to another block. When the parent block succeeds or fails, the callback block functions are executed."
---

<Note>Requires version `0.8.61` or greater.</Note>

<Frame>
  <img alt="Callbacks" src="https://i.imgflip.com/3s2icl.jpg" />
</Frame>

Callback blocks are part of your pipeline but don’t run as individual steps in your pipeline
like data loader blocks, transformer blocks, etc.
However, callback blocks are associated to other blocks within the pipeline
(e.g. data loaders, transformers, data exporters, etc).

After those other blocks are executed,
any associated callback blocks will also be executed depending on the status of the parent block.

---

## Example

1. Your pipeline has the following blocks:
    1. `load_data_from_api` (data loader)
    1. `clean_column_names` (transformer)
    1. `save_data` (data exporter)

1. Then, you add the following callback block to your pipeline:

    ```python
    @callback('success')
    def hello_world(**kwargs):
        # some code...


    @callback('failure')
    def alert_me(**kwargs):
        # some code...
    ```

1. You associate the above callback block to the following 2 blocks:

    - `load_data_from_api` (data loader)
    - `clean_column_names` (transformer)

1. When you run the pipeline, it’ll execute the `load_data_from_api` (data loader) block first.
It successfully completes. Then, the callback block will run and execute the function `hello_world`.

1. Next, the pipeline will execute the `clean_column_names` (transformer) block.
It fails due to some error. The callback block will run and execute the function `alert_me`.

---

## How to add callbacks to your pipeline

1. Create a new pipeline or open an existing pipeline.
1. Edit the pipeline.
1. On the right side of the page, click the <b>Callbacks</b> icon in the navigation.
    If you don’t see it, try expanding the right area of the page.
1. Click the button <b>+ Callback block</b>.
1. In the callback block’s code, add a function and decorate it with `@callback`.
    You can have as many functions in a callback block as you want.
1. Use `@callback` or `@callback('success')` to decorate a function that should only run when the
    parent block successfully completes.
1. Use `@callback('failure')` to decorate a function that should only run when the
    parent block fails.

### Supported callbacks

#### `success`
Execute callback function when block runs successfully.

```python
@callback('success')
def only_run_this_function_on_success(**kwargs):
    pass
```

#### `failure`
Execute callback function when block fails.

```python
@callback('failure')
def only_run_this_function_on_failure(**kwargs):
    pass
```

---

## Legacy

<Note>For versions `< 0.8.61`.</Note>

### Adding a callback to your block

1. Create a block as normal.
2. In the top right of the block, click the triple dot icon which should open up a menu
with more options. Click "Add callback".
3. You should now see another code editor under the main editor for your block.
![Block callback](/media/block-callback.png)
4. You can add an `on_success` callback and/or a `on_failure` callback. These callbacks
will run after your block run completes or fails. When you run your block in the
pipeline edit page, it will also run the callback depending on the status of the block.
  1. The callback function will be passed your pipeline's runtime variables as keyword
  arguments, so you can use the same `kwargs.get('<variable>')` syntax in your callback.
