"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{80029:function(e,n,t){var l=t(82394),u=t(82684),i=t(9518),r=t(55485),s=t(30160),o=t(84649),c=t(28598);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.navLinks,t=e.selectedLink,l=e.setSelectedLink,d=(0,u.useContext)(i.ThemeContext);return(0,c.jsx)(c.Fragment,{children:n.map((function(e){var n=e.Icon,u=e.description,i=e.label,p=e.selectedBackgroundColor,h=e.selectedIconProps,j=e.uuid,m=(null==t?void 0:t.uuid)===j,f=a({size:o.ZG},m&&h?h:{});return(0,c.jsx)(o.wj,{onClick:function(){return l(e)},selected:m,children:(0,c.jsxs)(r.ZP,{alignItems:"center",children:[n&&(0,c.jsx)(o.ze,{backgroundColor:m&&p?p(d):null,children:(0,c.jsx)(n,a({},f))}),(0,c.jsxs)(r.ZP,{alignItems:"flex-start",flexDirection:"column",justifyContent:"center",children:[(0,c.jsx)(s.ZP,{bold:!0,large:!0,children:i?i():j}),u&&(0,c.jsx)(s.ZP,{muted:!0,small:!0,children:null==u?void 0:u()})]})]})},j)}))})}},60523:function(e,n,t){var l=t(21831),u=t(82394),i=t(82684),r=t(9518),s=t(34376),o=t(80029),c=t(54750),d=t(71180),a=t(90299),p=t(44898),h=t(55485),j=t(88328),m=t(38276),f=t(4190),x=t(48381),b=t(5755),v=t(30160),g=t(35686),y=t(72473),Z=t(84649),O=t(32929),P=t(15610),w=t(19183),k=t(28598);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t=e.contained,u=e.defaultLinkUUID,C=e.defaultTab,_=e.objectType,S=e.onClickCustomTemplate,I=e.pipelineUUID,U=e.showAddingNewTemplates,D=e.showBreadcrumbs,L=e.tabs,M=(0,s.useRouter)(),A=(0,i.useContext)(r.ThemeContext),E=(0,w.i)(),N=E.height,q=E.width,R=(0,i.useMemo)((function(){return L||O.dP}),[L]),F=(0,i.useState)(U||!1),z=F[0],B=F[1],G=(0,i.useState)(u?O.qy.find((function(e){return e.uuid===u})):O.qy[0]),H=G[0],X=G[1],Y=(0,i.useState)(C?R.find((function(e){return e.uuid===(null==C?void 0:C.uuid)})):R[0]),J=Y[0],K=Y[1],Q=(0,i.useState)(null),V=Q[0],W=Q[1],$=g.ZP.custom_templates.list({object_type:p.Z},{},{pauseFetch:O.n9.uuid!==(null==J?void 0:J.uuid)}),ee=$.data,ne=$.mutate,te=(0,i.useMemo)((function(){var e=(null==ee?void 0:ee.custom_templates)||[];return null!=H&&H.filterTemplates?null==H?void 0:H.filterTemplates(e):e}),[ee,H]),le=g.ZP.custom_templates.list({object_type:p.R},{},{pauseFetch:O.A2.uuid!==(null==J?void 0:J.uuid)}),ue=le.data,ie=le.mutate,re=(0,i.useMemo)((function(){var e=(null==ue?void 0:ue.custom_templates)||[];return null!=H&&H.filterTemplates?null==H?void 0:H.filterTemplates(e):e}),[ue,H]),se=(0,i.useMemo)((function(){return O.hS.map((function(e){var n=e.Icon,t=e.label,l=e.selectedBackgroundColor,u=e.selectedIconProps,i=e.uuid,r=(null==H?void 0:H.uuid)===i,s=T({size:Z.ZG},r&&u?u:{});return(0,k.jsx)(Z.wj,{onClick:function(){return X(e)},selected:r,children:(0,k.jsxs)(h.ZP,{alignItems:"center",children:[(0,k.jsx)(Z.ze,{backgroundColor:r&&l?l(A):null,children:n?(0,k.jsx)(n,T({},s)):(0,k.jsx)(y.BlocksStacked,T({},s))}),(0,k.jsx)(v.ZP,{bold:!0,large:!0,children:t?t():i})]})},i)}))}),[H,A]),oe=(0,i.useMemo)((function(){return null==te?void 0:te.map((function(e){var n=e.description,t=e.name,u=e.tags,i=e.template_uuid,r=e.user,s=[];return null!=u&&u.length?s.push.apply(s,(0,l.Z)(u)):null!=r&&r.username&&s.push(null==r?void 0:r.username),(0,k.jsxs)(Z.UE,{onClick:function(){S?S(e):M.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(i)))},children:[(0,k.jsx)(Z.Tj,{children:(0,k.jsx)(v.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||i})}),(0,k.jsx)(Z.SL,{children:(0,k.jsx)(v.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,k.jsx)(Z.EN,{children:(null==s?void 0:s.length)>=1&&(0,k.jsx)(x.Z,{tags:null==s?void 0:s.map((function(e){return{uuid:e}}))})})]},i)}))}),[te,S,M]),ce=(0,i.useMemo)((function(){return null==re?void 0:re.map((function(e){var n=e.description,t=e.name,u=e.tags,i=e.template_uuid,r=e.user,s=[];return null!=u&&u.length?s.push.apply(s,(0,l.Z)(u)):null!=r&&r.username&&s.push(null==r?void 0:r.username),(0,k.jsxs)(Z.UE,{onClick:function(){S?S(e):M.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(i),"?object_type=").concat(p.R))},children:[(0,k.jsx)(Z.Tj,{children:(0,k.jsx)(v.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||i})}),(0,k.jsx)(Z.SL,{children:(0,k.jsx)(v.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,k.jsx)(Z.EN,{children:(null==s?void 0:s.length)>=1&&(0,k.jsx)(x.Z,{tags:null==s?void 0:s.map((function(e){return{uuid:e}}))})})]},i)}))}),[re,S,M]),de=(0,i.useMemo)((function(){if(!D)return null;var e=[];return z?e.push.apply(e,[{label:function(){return"Templates"},onClick:function(){B(!1)}},{bold:!0,label:function(){return"New custom template"}}]):e.push({label:function(){return"Templates"}}),(0,k.jsx)(Z.FX,{children:(0,k.jsx)(c.Z,{breadcrumbs:e})})}),[z,D]),ae=(0,i.useMemo)((function(){return D?36:0}),[D]),pe=(0,i.useMemo)((function(){return N-ae}),[N,ae]);if(z)return n=p.R===_&&I?(0,k.jsx)(j.Z,{onMutateSuccess:ie,pipelineUUID:I,templateAttributes:H&&(null==H?void 0:H.uuid)!==(null===O.qy||void 0===O.qy?void 0:O.qy[0].uuid)?{pipeline_type:null==H?void 0:H.uuid}:null,templateUUID:null==V?void 0:V.template_uuid}):(0,k.jsx)(b.Z,{contained:t,heightOffset:ae,onCreateCustomTemplate:t?function(e){W(e)}:null,onMutateSuccess:ne,templateAttributes:H&&(null==H?void 0:H.uuid)!==(null===O.qy||void 0===O.qy?void 0:O.qy[0].uuid)?{block_type:null==H?void 0:H.uuid}:null,templateUUID:null==V?void 0:V.template_uuid}),t?(0,k.jsxs)(k.Fragment,{children:[D&&de,(0,k.jsx)(Z.Rd,{height:pe,width:q,children:n})]}):n;var he=(0,k.jsxs)(Z.Nk,{children:[(0,k.jsxs)(Z.bC,{height:t?pe:null,children:[(0,k.jsx)(Z.Yf,{children:(0,k.jsx)(a.Z,{noPadding:!0,onClickTab:function(e){t?K(e):(0,P.u)({object_type:O.A2.uuid===e.uuid?p.R:p.Z})},selectedTabUUID:null==J?void 0:J.uuid,tabs:R})}),(0,k.jsxs)(Z.wl,{contained:t,heightOffset:ae,children:[O.n9.uuid===(null==J?void 0:J.uuid)&&(0,k.jsx)(o.Z,{navLinks:O.qy,selectedLink:H,setSelectedLink:X}),O.A2.uuid===(null==J?void 0:J.uuid)&&se]})]}),(0,k.jsxs)(Z.w5,{children:[O.n9.uuid===(null==J?void 0:J.uuid)&&(0,k.jsx)(Z.HS,{children:(0,k.jsx)(d.ZP,{beforeIcon:(0,k.jsx)(y.Add,{size:Z.ZG}),onClick:function(){B(!0)},primary:!0,children:"New block template"})}),O.n9.uuid===(null==J?void 0:J.uuid)&&(0,k.jsxs)(k.Fragment,{children:[!ee&&(0,k.jsx)(m.Z,{p:2,children:(0,k.jsx)(f.Z,{inverted:!0})}),ee&&!(null!=oe&&oe.length)&&(0,k.jsxs)(m.Z,{p:2,children:[(0,k.jsx)(v.ZP,{children:"There are currently no templates matching your search."}),(0,k.jsx)("br",{}),(0,k.jsx)(v.ZP,{children:"Add a new template by clicking the button above."})]}),(null==oe?void 0:oe.length)>=1&&(0,k.jsx)(Z.n8,{children:oe})]}),O.A2.uuid===(null==J?void 0:J.uuid)&&(0,k.jsxs)(k.Fragment,{children:[!ue&&(0,k.jsx)(m.Z,{p:2,children:(0,k.jsx)(f.Z,{inverted:!0})}),ue&&!(null!=ce&&ce.length)&&(0,k.jsxs)(m.Z,{p:2,children:[(0,k.jsx)(v.ZP,{children:"There are currently no templates matching your search."}),(0,k.jsx)("br",{}),(0,k.jsx)(v.ZP,{children:'Add a new template by right-clicking a pipeline row from the Pipelines page and selecting "Create template".'})]}),(null==ce?void 0:ce.length)>=1&&(0,k.jsx)(Z.n8,{children:ce})]})]})]});return t?(0,k.jsxs)(k.Fragment,{children:[D&&de,(0,k.jsx)(Z.Rd,{height:pe,width:q,children:he})]}):he}}}]);