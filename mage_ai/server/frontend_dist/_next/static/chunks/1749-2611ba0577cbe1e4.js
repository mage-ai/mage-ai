"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1749],{91749:function(n,e,t){t.d(e,{Z:function(){return W}});var i=t(82394),r=t(21831),o=t(82684),c=t(32013),l=t(98777),d=t(81769),s=t(44425),u=t(71180),a=t(15338),v=t(97618),f=t(55485),p=t(85854),m=t(75582),h=t(44085),g=t(38276),x=t(72473),j=t(38626),b=t(44897),Z=t(42631),y=t(55283),I=t(70515),P=t(47041),k=t(91437),w=(I.iI,j.default.div.withConfig({displayName:"indexstyle__AfterFooterStyle",componentId:"sc-1qjqori-0"})(["",""],(function(n){return"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1qjqori-1"})([""," border-style:solid;border-width:1px;position:relative;"," "," "," "," "," "," ",""],y.Kf,(function(n){return!n.noBorderRadiusTop&&"\n    border-top-left-radius: ".concat(Z.n_,"px;\n    border-top-right-radius: ").concat(Z.n_,"px;\n  ")}),(function(n){return n.noBorderRadiusTop&&"\n    border-top: none !important;\n  "}),(function(n){return!n.noBorderRadiusBottom&&"\n    border-bottom-left-radius: ".concat(Z.n_,"px;\n    border-bottom-right-radius: ").concat(Z.n_,"px;\n  ")}),(function(n){return n.noBorderRadiusBottom&&"\n    border-bottom: none !important;\n  "}),(function(n){return!n.noBackground&&"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n  ")}),(function(n){return!n.borderColor&&"\n    border-color: ".concat((n.theme.borders||b.Z.borders).light,";\n  ")}),(function(n){return n.borderColor&&"\n    border-color: ".concat(n.borderColor,";\n  ")}))),C=(j.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1qjqori-2"})(["padding:","px;",""],I.cd*I.iI,(function(n){return"\n    border-bottom: 1px solid ".concat((n.theme.borders||b.Z.borders).light,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__NavigationStyle",componentId:"sc-1qjqori-3"})([""," "," ",""],(0,k.eR)(),(function(n){return!n.selected&&"\n    &:hover {\n      background-color: ".concat((n.theme.interactive||b.Z.interactive).rowHoverBackground,";\n    }\n  ")}),(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.background||b.Z.background).codeTextarea,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__StreamGridGroupStyle",componentId:"sc-1qjqori-4"})(["position:absolute;"]),j.default.div.withConfig({displayName:"indexstyle__StreamGridGroupInnerStyle",componentId:"sc-1qjqori-5"})([""," overflow:auto;position:fixed;",""],P.w5,(function(n){return n.borderRight&&"\n    border-right: 1px solid ".concat((n.theme.borders||b.Z.borders).light,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__StreamGridStyle",componentId:"sc-1qjqori-6"})(["border-radius:","px;padding:","px;margin:","px;"," "," "," "," ",""],Z.n_,I.cd*I.iI,1*I.iI,(function(n){return!n.warning&&"\n    &:hover {\n      cursor: pointer;\n    }\n  "}),(function(n){return!n.selected&&!n.warning&&"\n    border: 1px solid ".concat((n.theme.borders||b.Z.borders).light,";\n  ")}),(function(n){return n.warning&&!n.selected&&"\n    border: 1px solid ".concat((n.theme.accent||b.Z.accent).warningTransparent,";\n  ")}),(function(n){return n.warning&&n.selected&&"\n    border: 1px solid ".concat((n.theme.accent||b.Z.accent).warning,";\n  ")}),(function(n){return n.selected&&!n.warning&&"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n    border: 1px solid ").concat((n.theme.borders||b.Z.borders).contrast,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__BackgroundStyle",componentId:"sc-1qjqori-7"})(["",""],(function(n){return"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__ButtonContainerStyle",componentId:"sc-1qjqori-8"})(["bottom:0;position:fixed;z-index:1;"," ",""],(function(n){return"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n    border-left: 1px solid ").concat((n.theme.borders||b.Z.borders).light,";\n    border-right: 1px solid ").concat((n.theme.borders||b.Z.borders).light,";\n    border-top: 1px solid ").concat((n.theme.borders||b.Z.borders).light,";\n  ")}),(function(n){return n.width&&"\n    width: ".concat(n.width,"px;\n   ")}))),O=t(19452),_=t(30229),E=t(81728),S=t(3314),B=t(86735),T=t(28598);function M(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function N(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?M(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var A=function(n){var e,t,i,r,o=n.index,c=n.permission,l=n.setPermissions,d=n.updatePermission;return(0,T.jsx)(w,{children:(0,T.jsx)(g.Z,{p:I.cd,children:(0,T.jsxs)(f.ZP,{alignItems:"flex-start",flexDirection:"row",children:[(0,T.jsx)(u.Z,{iconOnly:!0,onClick:function(){return l((function(n){return(0,B.oM)(n,o)}))},children:(0,T.jsx)(x.x8,{})}),(0,T.jsx)(g.Z,{mr:I.cd}),(0,T.jsxs)(f.ZP,{flexDirection:"column",children:[(0,T.jsxs)(f.ZP,{alignItems:"center",flexDirection:"row",children:[(0,T.jsx)(p.Z,{level:5,children:"Triggers"}),(0,T.jsx)(g.Z,{mr:I.cd}),(0,T.jsx)(f.ZP,{alignItems:"center",children:(0,T.jsx)(u.Z,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(n){(0,S.j)(n),d(N(N({},c),{},{triggers:((null===c||void 0===c?void 0:c.triggers)||[]).concat({schedule_interval:"",schedule_type:"",uuid:""})}))},secondary:!0,small:!0,children:"Add trigger"})})]}),(null===c||void 0===c||null===(e=c.triggers)||void 0===e?void 0:e.length)>=1&&(0,T.jsx)(g.Z,{mt:I.cd,children:null===c||void 0===c||null===(t=c.triggers)||void 0===t?void 0:t.map((function(n,e){var t=n.schedule_interval,i=n.schedule_type,r=n.uuid;return(0,T.jsx)(g.Z,{mt:e>=1?1:0,children:(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(u.Z,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(n){(0,S.j)(n);var t=(0,B.oM)((null===c||void 0===c?void 0:c.triggers)||[],e);d(N(N({},c),{},{triggers:t}))},children:(0,T.jsx)(x.x8,{})}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(h.Z,{compact:!0,onChange:function(n){var t,i=n.target.value,r=N({},c),o=N({},null===r||void 0===r||null===(t=r.triggers)||void 0===t?void 0:t[e]);o.schedule_type=i,r.triggers[e]=o,d(r)},placeholder:"Type",small:!0,value:i,children:Object.entries(_.Z4).map((function(n){var e=(0,m.Z)(n,2),t=e[0],i=e[1];return(0,T.jsx)("option",{value:t,children:(0,E.kC)(i())},t)}))}),(_.Xm.TIME===i||!i)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(h.Z,{compact:!0,monospace:!0,onChange:function(n){var t,i=n.target.value,r=N({},c),o=N({},null===r||void 0===r||null===(t=r.triggers)||void 0===t?void 0:t[e]);o.schedule_interval=i,r.triggers[e]=o,d(r)},placeholder:"Interval",small:!0,value:t,children:_.Wb.map((function(n){return(0,T.jsx)("option",{value:n,children:n},n)}))})]})]})},"permission-trigger-".concat(o,"-").concat(e,"-").concat(r))}))})]}),(0,T.jsx)(g.Z,{mr:I.Mq}),(0,T.jsxs)(f.ZP,{flexDirection:"column",children:[(0,T.jsxs)(f.ZP,{alignItems:"center",flexDirection:"row",children:[(0,T.jsx)(p.Z,{level:5,children:"Roles"}),(0,T.jsx)(g.Z,{mr:I.cd}),(0,T.jsx)(f.ZP,{alignItems:"center",children:(0,T.jsx)(u.Z,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(n){(0,S.j)(n),d(N(N({},c),{},{roles:((null===c||void 0===c?void 0:c.roles)||[]).concat({role:"",uuid:""})}))},secondary:!0,small:!0,children:"Add role"})})]}),(null===c||void 0===c||null===(i=c.roles)||void 0===i?void 0:i.length)>=1&&(0,T.jsx)(g.Z,{mt:I.cd,children:null===c||void 0===c||null===(r=c.roles)||void 0===r?void 0:r.map((function(n,e){var t=n.role,i=n.uuid;return(0,T.jsx)(g.Z,{mt:e>=1?1:0,children:(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(u.Z,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(n){(0,S.j)(n);var t=(0,B.oM)((null===c||void 0===c?void 0:c.roles)||[],e);d(N(N({},c),{},{roles:t}))},children:(0,T.jsx)(x.x8,{})}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(h.Z,{compact:!0,monospace:!0,onChange:function(n){var t,i=n.target.value,r=N({},c),o=N({},null===r||void 0===r||null===(t=r.roles)||void 0===t?void 0:t[e]);o.role=i,r.roles[e]=o,d(r)},placeholder:"Role",small:!0,value:t,children:O.Z3.map((function(n){return(0,T.jsx)("option",{value:n,children:n},n)}))})]})},"permission-role-".concat(o,"-").concat(e,"-").concat(i))}))})]})]})})})},q=t(30160),R=t(35576),D=t(17488),L=t(3917);function Y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function H(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var W=function(n){var e,t,m=n.blockInteractionsMapping,h=n.containerWidth,j=n.createInteraction,b=n.interactions,Z=n.interactionsMapping,y=n.isLoadingCreateInteraction,P=n.isLoadingUpdatePipelineInteraction,k=n.permissions,O=n.pipeline,_=n.pipelineInteraction,E=n.refAfterFooter,M=n.savePipelineInteraction,N=n.selectedBlock,Y=n.setBlockInteractionsMapping,W=n.setInteractionsMapping,U=n.setPermissions,V=n.setSelectedBlock,F=n.updatePipelineInteraction,G=(0,o.useRef)(null),K=(0,o.useRef)(null),X=(0,o.useRef)(null),J=(0,o.useState)(null),z=J[0],Q=J[1],$=(0,o.useState)(null),nn=$[0],en=$[1],tn=(0,o.useState)(!1),rn=tn[0],on=tn[1],cn=(0,o.useState)(null),ln=cn[0],dn=cn[1],sn=(0,o.useState)(!1),un=sn[0],an=sn[1],vn=(0,o.useState)(null),fn=(vn[0],vn[1]),pn=(0,o.useState)(null),mn=pn[0],hn=pn[1],gn=(0,o.useState)(null),xn=gn[0],jn=gn[1],bn=(0,o.useMemo)((function(){return"undefined"!==typeof m?m:xn}),[m,xn]),Zn=(0,o.useMemo)((function(){return"undefined"!==typeof Z?Z:mn}),[Z,mn]),yn=(0,o.useCallback)((function(n,e){return null!==e&&void 0!==e&&e.initialBootstrap||on(!0),"undefined"!==typeof Y?Y(n):jn(n)}),[Y,jn,on]),In=(0,o.useCallback)((function(n,e){return null!==e&&void 0!==e&&e.initialBootstrap||on(!0),"undefined"!==typeof W?W(n):hn(n)}),[W,hn,on]),Pn=(0,o.useState)(null),kn=Pn[0],wn=Pn[1],Cn=(0,o.useCallback)((function(n,e,t,o){return yn((function(c){var l=(0,r.Z)((null===c||void 0===c?void 0:c[n])||[]);return null!==o&&void 0!==o&&o.remove?l=(0,B.oM)(l,e):l[e]=H(H({},l[e]),t),H(H({},c),{},(0,i.Z)({},n,l))}))}),[yn]),On=(0,o.useCallback)((function(n,e){en(Number(new Date)),null!==e&&void 0!==e&&e.initialBootstrap||on(!0),"undefined"!==typeof U?U(n):wn(n)}),[en,U,wn,on]),_n=(0,o.useMemo)((function(){var n;return null===(n="undefined"!==typeof k?k:kn)||void 0===n?void 0:n.map((function(n,e){var t=n.roles,i=n.triggers;return{roles:null===t||void 0===t?void 0:t.map((function(n,t){return{role:"string"===typeof n?n:null===n||void 0===n?void 0:n.role,uuid:"".concat(e,"-").concat(nn,"-").concat(t)}})),triggers:null===i||void 0===i?void 0:i.map((function(n,t){return H(H({},n),{},{uuid:"".concat(e,"-").concat(nn,"-").concat(t)})})),uuid:"".concat(e,"-").concat(nn)}}))}),[nn,k,kn]),En=(0,o.useCallback)((function(){Q(Number(new Date)),on(!1)}),[Q,on]),Sn=(0,o.useCallback)((function(){M?null===M||void 0===M||M().then((function(){return En()})):null===F||void 0===F||F(H(H({},_),{},{blocks:bn,interactions:Zn,permissions:null===_n||void 0===_n?void 0:_n.map((function(n){var e=n.roles,t=n.triggers;return{roles:null===e||void 0===e?void 0:e.map((function(n){return"string"===typeof n?n:null===n||void 0===n?void 0:n.role})),triggers:null===t||void 0===t?void 0:t.map((function(n){return{schedule_interval:n.schedule_interval,schedule_type:n.schedule_type}}))}}))})).then((function(){return En()}))}),[bn,Zn,_n,_,En,M,F]),Bn=(0,o.useMemo)((function(){return(null===O||void 0===O?void 0:O.blocks)||[]}),[O]),Tn=(0,o.useMemo)((function(){return null===Bn||void 0===Bn?void 0:Bn.reduce((function(n,e,t){return H(H({},n),{},(0,i.Z)({},String(t),!0))}),{})}),[Bn]);(0,o.useEffect)((function(){"undefined"===typeof Z&&!Zn&&(null===b||void 0===b?void 0:b.length)>=1&&In((0,B.HK)(b||[],(function(n){return n.uuid})),{initialBootstrap:!0})}),[b,Zn,Z,In]),(0,o.useEffect)((function(){"undefined"===typeof m&&!bn&&null!==_&&void 0!==_&&_.blocks&&yn(null===_||void 0===_?void 0:_.blocks,{initialBootstrap:!0})}),[bn,m,_,yn]),(0,o.useEffect)((function(){!_n&&null!==_&&void 0!==_&&_.permissions&&On(null===_||void 0===_?void 0:_.permissions,{initialBootstrap:!0})}),[_n,_,On]);var Mn=(0,o.useMemo)((function(){var n=[],e=(null===Bn||void 0===Bn?void 0:Bn.length)||0;return null===Bn||void 0===Bn||Bn.map((function(t,i){var r=(t||{uuid:null}).uuid,o=(null===bn||void 0===bn?void 0:bn[r])||[],c=(null===o||void 0===o?void 0:o.length)>=1,s=(0,T.jsxs)(u.Z,{beforeIcon:c?(0,T.jsx)(x.I8,{}):(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(n){(0,S.j)(n),V(t)},primary:!c,secondary:c,small:!0,children:[c&&"Edit interactions",!c&&"Add interactions"]});n.push((0,T.jsx)(l.Z,{first:0==i,noBorderRadius:i>=1,noPaddingContent:!0,titleXPadding:I.cd*I.iI,titleYPadding:1.5*I.iI,title:(0,T.jsxs)(f.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,T.jsx)(g.Z,{mr:I.cd,py:1,children:(0,T.jsx)(q.ZP,{large:!0,monospace:!0,children:r})}),c&&(0,T.jsx)(f.ZP,{alignItems:"center",children:s})]}),children:(0,T.jsx)(w,{noBackground:!0,noBorderRadiusBottom:i<e-1,noBorderRadiusTop:!0,children:(0,T.jsxs)(g.Z,{p:I.cd,children:[!c&&s,null===o||void 0===o?void 0:o.map((function(n,e){return(0,T.jsx)(g.Z,{mt:e>=1?I.HN:0,children:(0,T.jsx)(d.Z,{blockInteraction:n,containerWidth:h,containerRef:G,interaction:null===Zn||void 0===Zn?void 0:Zn[null===n||void 0===n?void 0:n.uuid],setInteractionsMapping:In,showVariableUUID:!0})},"".concat(null===n||void 0===n?void 0:n.uuid,"-").concat(e))}))]})})},r))})),n}),[Bn,G,h,Zn,yn,In,V]),Nn=(0,o.useMemo)((function(){return(null===Bn||void 0===Bn?void 0:Bn.length)>=1&&(0,T.jsx)(c.Z,{noBackground:!0,noBorder:!0,noBoxShadow:!0,visibleMapping:Tn,children:Mn})}),[Bn,Mn,Tn]),An=(0,o.useMemo)((function(){return(null===bn||void 0===bn?void 0:bn[null===N||void 0===N?void 0:N.uuid])||[]}),[bn,N]),qn=(0,o.useMemo)((function(){var n=[],e={};return null===An||void 0===An||An.forEach((function(t){var i=t.uuid,r=null===Zn||void 0===Zn?void 0:Zn[i],o=null===r||void 0===r?void 0:r.variables;Object.keys(o||{}).forEach((function(t){null!==e&&void 0!==e&&e[t]||(n.push(t),e[t]=!0)}))})),n}),[Zn,An]);return(0,T.jsxs)(g.Z,{p:I.cd,style:{position:"relative"},children:[(0,T.jsxs)(g.Z,{pb:I.cd,ref:G,children:[!N&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.Z,{mb:I.cd,children:(0,T.jsx)(p.Z,{children:"Blocks with interactions"})}),Nn,(0,T.jsxs)(g.Z,{mb:I.cd,mt:I.HN,children:[(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(p.Z,{children:"Permissions"}),(0,T.jsx)(g.Z,{mr:I.cd}),(0,T.jsx)(f.ZP,{alignItems:"center",children:(0,T.jsx)(u.Z,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(){return On((function(n){return n.concat([{roles:[],triggers:[]}])}))},secondary:!0,small:!0,children:"Add permission"})})]}),(0,T.jsx)(g.Z,{mt:1,children:(0,T.jsx)(q.ZP,{default:!0,children:"Add permissions to allow specific user roles the ability to trigger this pipeline using the interactions for this pipeline."})})]}),null===_n||void 0===_n?void 0:_n.map((function(n,e){return(0,T.jsx)(g.Z,{mt:e>=1?I.cd:0,children:(0,T.jsx)(A,{index:e,permission:n,setPermissions:On,updatePermission:function(n){var t=(0,r.Z)(_n);t[e]=n,On(t)}})},"permission-".concat(e))}))]}),N&&(0,T.jsxs)(g.Z,{mb:I.Mq,children:[(0,T.jsxs)(g.Z,{mb:I.Mq,children:[(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(g.Z,{mr:I.cd,py:1,children:(0,T.jsx)(p.Z,{children:"Block interactions"})}),(0,T.jsxs)(f.ZP,{alignItems:"center",children:[!un&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(u.Z,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(n){(0,S.j)(n),an(!0),setTimeout((function(){var n;return null===K||void 0===K||null===(n=K.current)||void 0===n?void 0:n.focus()}),1)},primary:!0,small:!0,children:"Create new set of interactions"})}),un&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(D.Z,{compact:!0,monospace:!0,onChange:function(n){(0,S.j)(n),dn(n.target.value)},onClick:function(n){return(0,S.j)(n)},ref:K,small:!0,value:ln||""}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(u.Z,{compact:!0,loading:y,onClick:function(n){(0,S.j)(n),j({block_uuid:null===N||void 0===N?void 0:N.uuid,inputs:{},layout:[],uuid:"".concat(ln,".").concat(s.t6.YAML),variables:{}}).then((function(n){var e=n.data.interaction,t=null===e||void 0===e?void 0:e.uuid;Cn(null===N||void 0===N?void 0:N.uuid,(null===An||void 0===An?void 0:An.length)||0,{uuid:t}),In((function(n){return H(H({},n),{},(0,i.Z)({},t,e))})),setTimeout((function(){var n;null===X||void 0===X||null===(n=X.current)||void 0===n||n.scrollIntoView()}),l.e+100)})),an(!1),fn(ln),dn(null)},primary:!0,small:!0,children:"Save interaction"}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(u.Z,{compact:!0,onClick:function(n){(0,S.j)(n),an(!1),dn(null)},secondary:!0,small:!0,children:"Cancel"})]})]})]}),(0,T.jsx)(q.ZP,{default:!0,children:"A block can have multiple sets of interactions associated with it."})]}),(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(q.ZP,{bold:!0,large:!0,children:"Variables"}),(0,T.jsx)(g.Z,{mr:I.cd}),(0,T.jsx)(v.Z,{alignItems:"center",flex:1,children:null===qn||void 0===qn?void 0:qn.map((function(n,e){return(0,T.jsx)(g.Z,{mr:1,children:(0,T.jsxs)(q.ZP,{default:!0,monospace:!0,children:[n,(null===qn||void 0===qn?void 0:qn.length)>=2&&e<(null===qn||void 0===qn?void 0:qn.length)-1&&(0,T.jsx)(q.ZP,{inline:!0,monospace:!0,muted:!0,children:","})]})},n)}))})]})]}),null===An||void 0===An?void 0:An.map((function(n,e){var t,i=n||{description:null,name:null},r=i.description,o=i.name,c=null===N||void 0===N?void 0:N.uuid,l=null===n||void 0===n?void 0:n.uuid,s=null===Zn||void 0===Zn?void 0:Zn[l];return(0,T.jsxs)("div",{children:[e>=1&&(0,T.jsx)(g.Z,{my:I.HN,children:(0,T.jsx)(a.Z,{light:!0})}),(0,T.jsx)(d.Z,{blockInteraction:n,containerRef:G,containerWidth:h,interaction:s,isEditing:!0,removeBlockInteraction:function(){return Cn(c,e,n,{remove:!0})},setInteractionsMapping:In,children:(0,T.jsxs)(g.Z,{p:I.cd,children:[(0,T.jsxs)(f.ZP,{alignItems:"flex-start",children:[(0,T.jsxs)(g.Z,{mb:1,style:{width:20*I.iI},children:[(0,T.jsx)(q.ZP,{bold:!0,large:!0,children:"Label"}),(0,T.jsxs)(q.ZP,{muted:!0,children:["Add a label for this",(0,T.jsx)("br",{}),"set of interactions."]})]}),(0,T.jsx)(g.Z,{mr:I.cd}),(0,T.jsx)(v.Z,{flex:1,children:(0,T.jsx)(D.Z,{fullWidth:!0,onChange:function(n){return Cn(c,e,{name:n.target.value})},value:o||""})})]}),(0,T.jsx)(g.Z,{mb:I.cd}),(0,T.jsxs)(f.ZP,{alignItems:"flex-start",children:[(0,T.jsxs)(g.Z,{mb:1,style:{width:20*I.iI},children:[(0,T.jsx)(q.ZP,{bold:!0,large:!0,children:"Description"}),(0,T.jsxs)(q.ZP,{muted:!0,children:["Describe how these",(0,T.jsx)("br",{}),"interactions are used."]})]}),(0,T.jsx)(g.Z,{mr:I.cd}),(0,T.jsx)(v.Z,{flex:1,children:(0,T.jsx)(R.Z,{fullWidth:!0,onChange:function(n){return Cn(c,e,{description:n.target.value})},rows:Math.max(3,Math.min(12,null===r||void 0===r||null===(t=r.split("\n"))||void 0===t?void 0:t.length)),value:r||""})})]})]})}),(0,T.jsx)("div",{ref:e===(null===An||void 0===An?void 0:An.length)-1?X:null})]},"".concat(null===n||void 0===n?void 0:n.uuid,"-").concat(e))}))]}),(0,T.jsx)(C,{ref:E,width:(null===G||void 0===G||null===(e=G.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)||null,children:(0,T.jsx)(g.Z,{p:I.cd,children:(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(u.Z,{beforeIcon:(0,T.jsx)(x.vc,{}),loading:P,onClick:function(){return Sn()},primary:rn,secondary:!rn,children:"Save changes for all interactions"}),(0,T.jsx)(g.Z,{mr:I.cd}),rn&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.uy,{warning:!0}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(q.ZP,{warning:!0,children:"You have unsaved interaction changes"})]}),!rn&&z&&(0,T.jsxs)(q.ZP,{muted:!0,children:["Interactions last saved at ",(0,L.JX)(Number(z)/1e3)]})]})})})]})}},30229:function(n,e,t){t.d(e,{TR:function(){return f},U5:function(){return d},Wb:function(){return v},Xm:function(){return o},Z4:function(){return s},fq:function(){return l},gm:function(){return u},kJ:function(){return a}});var i,r,o,c=t(82394);!function(n){n.API="api",n.EVENT="event",n.TIME="time"}(o||(o={}));var l,d,s=(i={},(0,c.Z)(i,o.API,(function(){return"API"})),(0,c.Z)(i,o.EVENT,(function(){return"event"})),(0,c.Z)(i,o.TIME,(function(){return"schedule"})),i);!function(n){n.ACTIVE="active",n.INACTIVE="inactive"}(l||(l={})),function(n){n.ONCE="@once",n.HOURLY="@hourly",n.DAILY="@daily",n.WEEKLY="@weekly",n.MONTHLY="@monthly",n.ALWAYS_ON="@always_on"}(d||(d={}));var u,a,v=[d.ONCE,d.HOURLY,d.DAILY,d.WEEKLY,d.MONTHLY];!function(n){n.INTERVAL="frequency[]",n.STATUS="status[]",n.TAG="tag[]",n.TYPE="type[]"}(u||(u={})),function(n){n.CREATED_AT="created_at",n.NAME="name",n.PIPELINE="pipeline_uuid",n.STATUS="status",n.TYPE="schedule_type"}(a||(a={}));var f=(r={},(0,c.Z)(r,a.CREATED_AT,"Created at"),(0,c.Z)(r,a.NAME,"Name"),(0,c.Z)(r,a.PIPELINE,"Pipeline"),(0,c.Z)(r,a.STATUS,"Active"),(0,c.Z)(r,a.TYPE,"Type"),r)}}]);