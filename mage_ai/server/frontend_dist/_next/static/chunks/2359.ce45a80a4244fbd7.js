"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2359],{22359:function(n,e,u){u.r(e),u.d(e,{default:function(){return R}});var t=u(77837),r=u(82394),l=u(75582),o=u(21831),i=u(38860),c=u.n(i),a=u(51774),d=u.n(a),v=u(9518),f=u(82684),s=u(78050),p=u(40062),h=u(30210),y=u(11611),b=u(87118),m=u(86735),O=u(10658),w=u(28189);function E(n,e){return j.apply(this,arguments)}function j(){return(j=(0,t.Z)(c().mark((function n(e,t){var l,o,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l={},(0,r.Z)(l,w.KU.BROWSER,(0,r.Z)({},w.dS.SYSTEM,u.e(7568).then(u.bind(u,37568)))),(0,r.Z)(l,w.KU.EDITOR,(0,r.Z)({},w.dS.IDE,u.e(7481).then(u.bind(u,67481)))),i=l,n.abrupt("return",(null==i||null===(o=i[e])||void 0===o?void 0:o[t])||null);case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}var P=u(28598);function g(n,e){var u=Object.keys(n);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(n);e&&(t=t.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),u.push.apply(u,t)}return u}function Z(n){for(var e=1;e<arguments.length;e++){var u=null!=arguments[e]?arguments[e]:{};e%2?g(Object(u),!0).forEach((function(e){(0,r.Z)(n,e,u[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(u)):g(Object(u)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(u,e))}))}return n}var R=function(n){var e,i,a=n.apps,w=n.operations,j=new p.S,g=null==w||null===(e=w[b.T.REMOVE_PANEL])||void 0===e?void 0:e.effect,R=null==w||null===(i=w[b.T.REMOVE_APP])||void 0===i?void 0:i.effect,x=(0,f.useContext)(v.ThemeContext),T=(0,f.useRef)(null),D=(0,f.useRef)({}),S=(0,f.useRef)({}),k=(0,f.useRef)({});function C(n){D.current[null==n?void 0:n.uuid]=n}function _(n,e){var u,t,r=(n||{}).uuid,i={};if(Object.values((null==D?void 0:D.current)||{}).forEach((function(n){var e,u=null==n||null===(e=n.layout)||void 0===e?void 0:e.row;u in i||(i[u]=[]),i[u].push(n)})),e){var c,a,d=null==e?void 0:e.uuid,v=null==D||null===(c=D.current)||void 0===c?void 0:c[d],f=null==v?void 0:v.layout,s=null==e?void 0:e.layout,p=null==i||null===(a=i[null==f?void 0:f.row])||void 0===a?void 0:a.findIndex((function(n){return n.uuid===d})),h=(null==f?void 0:f.row)+((null==s?void 0:s.row)||0),y=p+((null==s?void 0:s.column)||0),b=y<0?0:y;i[h]=i[h]||[],i[h]=(0,m.VS)({column:b,row:h,uuid:r},b,i[h])}var w=Math.max.apply(Math,(0,o.Z)(null===(u=Object.values(i||{}))||void 0===u?void 0:u.map((function(n){return(null==n?void 0:n.length)||0}))));null===(t=(0,m.YC)(Object.entries(i),(function(n){return(0,l.Z)(n,1)[0]})))||void 0===t||t.forEach((function(n,e){var u,t=(0,l.Z)(n,2),r=(t[0],t[1]),o=(null==r?void 0:r.length)||0;null===(u=(0,m.YC)(r,(function(n){var e=n.layout;return null==e?void 0:e.column})))||void 0===u||u.forEach((function(n,u){var t=null==n?void 0:n.uuid,r=u,l=r+Math.floor((w-o)/(o-u)),i=Z(Z({},n),{},{layout:Z(Z({},(null==n?void 0:n.layout)||{}),{},{column:r,columnSpan:l,row:e}),uuid:t});C(i),(0,O.$)(i)}))}))}function A(n,e){var l,o,i,a=n.subtype,p=n.type,y=n.uuid,m=e||{},w=m.container,R=m.grid;(_(n,null==R?void 0:R.relative),y in(null==D?void 0:D.current))||C(Z(Z({},(null==R?void 0:R.absolute)||{}),{},{layout:(null==R||null===(i=R.absolute)||void 0===i?void 0:i.layout)||{column:0,row:0},uuid:y}));var I=null==D||null===(l=D.current)||void 0===l?void 0:l[y];null===(o=w||(null==T?void 0:T.current))||void 0===o||o.appendChild((0,O.$)(I)),setTimeout((function(){var e=document.getElementById(y);if(e&&!k.current[y]){k.current[y]=(0,s.createRoot)(e);var l=(0,f.createRef)();S.current[y]=l;var o=function(){var e=(0,t.Z)(c().mark((function e(){var t,o,i;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E(p,a);case 2:(t=e.sent)&&(i=d()((function(){return u.e(5855).then(u.bind(u,35855))}),{loadableGenerated:{webpack:function(){return[35855]}}}),k.current[y].render((0,P.jsx)(v.ThemeProvider,{theme:x,children:(0,P.jsx)(h.aH,{client:j,children:(0,P.jsx)(i,{app:n,appLoader:null==t?void 0:t.default,operations:(o={},(0,r.Z)(o,b.T.ADD_APP,{effect:A}),(0,r.Z)(o,b.T.ADD_PANEL,{effect:g}),(0,r.Z)(o,b.T.REMOVE_APP,{effect:M}),o),ref:l,uuid:y})})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();o()}}),0)}function M(n){var e,u,t;null!=k&&null!==(e=k.current)&&void 0!==e&&e[n]&&(k.current[n].unmount(),delete k.current[n]);var r=document.getElementById(n);r&&(null==r||r.remove()),null!=S&&null!==(u=S.current)&&void 0!==u&&u[n]&&delete S.current[n],null!=D&&null!==(t=D.current)&&void 0!==t&&t[n]&&delete D.current[n],_(),R&&(null==R||R(n,null==D?void 0:D.current))}return(0,f.useEffect)((function(){var n;null!=T&&T.current&&(null!==(n=Object.keys((null==D?void 0:D.current)||{}))&&void 0!==n&&n.length||(null==a?void 0:a.length)>=1&&(null==a||a.forEach((function(n,e){setTimeout((function(){A(n,null==T?void 0:T.current)}),100*e)}))));return function(){k.current={}}}),[]),(0,P.jsx)(y.Z,{autoColumns:"1fr",autoRows:"1fr",columnGap:12,justifyContent:"stretch",justifyItems:"stretch",ref:T,rowGap:12})}}}]);