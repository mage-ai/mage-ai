"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[523],{60523:function(e,n,t){var i=t(21831),l=t(82394),u=t(82684),o=t(38626),r=t(34376),d=t(54750),c=t(71180),s=t(90299),a=t(44898),p=t(55485),h=t(88328),m=t(38276),v=t(4190),j=t(48381),x=t(5755),f=t(30160),b=t(35686),g=t(72473),Z=t(84649),y=t(32929),k=t(15610),P=t(19183),C=t(28598);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n,t=e.contained,l=e.defaultLinkUUID,w=e.defaultTab,O=e.objectType,T=e.onClickCustomTemplate,_=e.pipelineUUID,U=e.showAddingNewTemplates,M=e.showBreadcrumbs,A=e.tabs,S=(0,r.useRouter)(),N=(0,u.useContext)(o.ThemeContext),D=(0,P.i)(),R=D.height,q=D.width,E=(0,u.useMemo)((function(){return A||y.dP}),[A]),F=(0,u.useState)(U||!1),z=F[0],B=F[1],L=(0,u.useState)(l?y.qy.find((function(e){return e.uuid===l})):y.qy[0]),G=L[0],Y=L[1],H=(0,u.useState)(w?E.find((function(e){return e.uuid===(null===w||void 0===w?void 0:w.uuid)})):E[0]),W=H[0],X=H[1],J=(0,u.useState)(null),K=J[0],Q=J[1],V=b.ZP.custom_templates.list({object_type:a.Z},{},{pauseFetch:y.n9.uuid!==(null===W||void 0===W?void 0:W.uuid)}),$=V.data,ee=V.mutate,ne=(0,u.useMemo)((function(){var e=(null===$||void 0===$?void 0:$.custom_templates)||[];return null!==G&&void 0!==G&&G.filterTemplates?null===G||void 0===G?void 0:G.filterTemplates(e):e}),[$,G]),te=b.ZP.custom_templates.list({object_type:a.R},{},{pauseFetch:y.A2.uuid!==(null===W||void 0===W?void 0:W.uuid)}),ie=te.data,le=te.mutate,ue=(0,u.useMemo)((function(){var e=(null===ie||void 0===ie?void 0:ie.custom_templates)||[];return null!==G&&void 0!==G&&G.filterTemplates?null===G||void 0===G?void 0:G.filterTemplates(e):e}),[ie,G]),oe=(0,u.useMemo)((function(){return y.qy.map((function(e){var n=e.Icon,t=e.label,i=e.selectedBackgroundColor,l=e.selectedIconProps,u=e.uuid,o=(null===G||void 0===G?void 0:G.uuid)===u,r=I({size:Z.ZG},o&&l?l:{});return(0,C.jsx)(Z.wj,{onClick:function(){return Y(e)},selected:o,children:(0,C.jsxs)(p.ZP,{alignItems:"center",children:[(0,C.jsx)(Z.ze,{backgroundColor:o&&i?i(N):null,children:n?(0,C.jsx)(n,I({},r)):(0,C.jsx)(g.pd,I({},r))}),(0,C.jsx)(f.ZP,{bold:!0,large:!0,children:t?t():u})]})},u)}))}),[G,N]),re=(0,u.useMemo)((function(){return y.hS.map((function(e){var n=e.Icon,t=e.label,i=e.selectedBackgroundColor,l=e.selectedIconProps,u=e.uuid,o=(null===G||void 0===G?void 0:G.uuid)===u,r=I({size:Z.ZG},o&&l?l:{});return(0,C.jsx)(Z.wj,{onClick:function(){return Y(e)},selected:o,children:(0,C.jsxs)(p.ZP,{alignItems:"center",children:[(0,C.jsx)(Z.ze,{backgroundColor:o&&i?i(N):null,children:n?(0,C.jsx)(n,I({},r)):(0,C.jsx)(g.pd,I({},r))}),(0,C.jsx)(f.ZP,{bold:!0,large:!0,children:t?t():u})]})},u)}))}),[G,N]),de=(0,u.useMemo)((function(){return null===ne||void 0===ne?void 0:ne.map((function(e){var n=e.description,t=e.name,l=e.tags,u=e.template_uuid,o=e.user,r=[];return null!==l&&void 0!==l&&l.length?r.push.apply(r,(0,i.Z)(l)):null!==o&&void 0!==o&&o.username&&r.push(null===o||void 0===o?void 0:o.username),(0,C.jsxs)(Z.UE,{onClick:function(){T?T(e):S.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(u)))},children:[(0,C.jsx)(Z.Tj,{children:(0,C.jsx)(f.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||u})}),(0,C.jsx)(Z.SL,{children:(0,C.jsx)(f.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,C.jsx)(Z.EN,{children:(null===r||void 0===r?void 0:r.length)>=1&&(0,C.jsx)(j.Z,{tags:null===r||void 0===r?void 0:r.map((function(e){return{uuid:e}}))})})]},u)}))}),[ne,T,S]),ce=(0,u.useMemo)((function(){return null===ue||void 0===ue?void 0:ue.map((function(e){var n=e.description,t=e.name,l=e.tags,u=e.template_uuid,o=e.user,r=[];return null!==l&&void 0!==l&&l.length?r.push.apply(r,(0,i.Z)(l)):null!==o&&void 0!==o&&o.username&&r.push(null===o||void 0===o?void 0:o.username),(0,C.jsxs)(Z.UE,{onClick:function(){T?T(e):S.push("/templates/[...slug]","/templates/".concat(encodeURIComponent(u),"?object_type=").concat(a.R))},children:[(0,C.jsx)(Z.Tj,{children:(0,C.jsx)(f.ZP,{bold:!0,monospace:!0,textOverflow:!0,children:t||u})}),(0,C.jsx)(Z.SL,{children:(0,C.jsx)(f.ZP,{default:!!n,italic:!n,muted:!n,textOverflowLines:2,children:n||"No description"})}),(0,C.jsx)(Z.EN,{children:(null===r||void 0===r?void 0:r.length)>=1&&(0,C.jsx)(j.Z,{tags:null===r||void 0===r?void 0:r.map((function(e){return{uuid:e}}))})})]},u)}))}),[ue,T,S]),se=(0,u.useMemo)((function(){if(!M)return null;var e=[];return z?e.push.apply(e,[{label:function(){return"Templates"},onClick:function(){B(!1)}},{bold:!0,label:function(){return"New custom template"}}]):e.push({label:function(){return"Templates"}}),(0,C.jsx)(Z.FX,{children:(0,C.jsx)(d.Z,{breadcrumbs:e})})}),[z,M]),ae=(0,u.useMemo)((function(){return M?36:0}),[M]),pe=(0,u.useMemo)((function(){return R-ae}),[R,ae]);if(z)return n=a.R===O&&_?(0,C.jsx)(h.Z,{onMutateSuccess:le,pipelineUUID:_,templateAttributes:G&&(null===G||void 0===G?void 0:G.uuid)!==(null===y.qy||void 0===y.qy?void 0:y.qy[0].uuid)?{pipeline_type:null===G||void 0===G?void 0:G.uuid}:null,templateUUID:null===K||void 0===K?void 0:K.template_uuid}):(0,C.jsx)(x.Z,{contained:t,heightOffset:ae,onCreateCustomTemplate:t?function(e){Q(e)}:null,onMutateSuccess:ee,templateAttributes:G&&(null===G||void 0===G?void 0:G.uuid)!==(null===y.qy||void 0===y.qy?void 0:y.qy[0].uuid)?{block_type:null===G||void 0===G?void 0:G.uuid}:null,templateUUID:null===K||void 0===K?void 0:K.template_uuid}),t?(0,C.jsxs)(C.Fragment,{children:[M&&se,(0,C.jsx)(Z.Rd,{height:pe,width:q,children:n})]}):n;var he=(0,C.jsxs)(Z.Nk,{children:[(0,C.jsxs)(Z.bC,{height:t?pe:null,children:[(0,C.jsx)(Z.Yf,{children:(0,C.jsx)(s.Z,{noPadding:!0,onClickTab:function(e){t?X(e):(0,k.u7)({object_type:y.A2.uuid===e.uuid?a.R:a.Z})},selectedTabUUID:null===W||void 0===W?void 0:W.uuid,tabs:E})}),(0,C.jsxs)(Z.wl,{contained:t,heightOffset:ae,children:[y.n9.uuid===(null===W||void 0===W?void 0:W.uuid)&&oe,y.A2.uuid===(null===W||void 0===W?void 0:W.uuid)&&re]})]}),(0,C.jsxs)(Z.w5,{children:[y.n9.uuid===(null===W||void 0===W?void 0:W.uuid)&&(0,C.jsx)(Z.HS,{children:(0,C.jsx)(c.Z,{beforeIcon:(0,C.jsx)(g.mm,{size:Z.ZG}),onClick:function(){B(!0)},primary:!0,children:"New block template"})}),y.n9.uuid===(null===W||void 0===W?void 0:W.uuid)&&(0,C.jsxs)(C.Fragment,{children:[!$&&(0,C.jsx)(m.Z,{p:2,children:(0,C.jsx)(v.Z,{inverted:!0})}),$&&!(null!==de&&void 0!==de&&de.length)&&(0,C.jsxs)(m.Z,{p:2,children:[(0,C.jsx)(f.ZP,{children:"There are currently no templates matching your search."}),(0,C.jsx)("br",{}),(0,C.jsx)(f.ZP,{children:"Add a new template by clicking the button above."})]}),(null===de||void 0===de?void 0:de.length)>=1&&(0,C.jsx)(Z.n8,{children:de})]}),y.A2.uuid===(null===W||void 0===W?void 0:W.uuid)&&(0,C.jsxs)(C.Fragment,{children:[!ie&&(0,C.jsx)(m.Z,{p:2,children:(0,C.jsx)(v.Z,{inverted:!0})}),ie&&!(null!==ce&&void 0!==ce&&ce.length)&&(0,C.jsxs)(m.Z,{p:2,children:[(0,C.jsx)(f.ZP,{children:"There are currently no templates matching your search."}),(0,C.jsx)("br",{}),(0,C.jsx)(f.ZP,{children:"Add a new template by clicking the button above."})]}),(null===ce||void 0===ce?void 0:ce.length)>=1&&(0,C.jsx)(Z.n8,{children:ce})]})]})]});return t?(0,C.jsxs)(C.Fragment,{children:[M&&se,(0,C.jsx)(Z.Rd,{height:pe,width:q,children:he})]}):he}},48381:function(e,n,t){var i=t(82684),l=t(31882),u=t(55485),o=t(30160),r=t(86735),d=t(28598);n.Z=function(e){var n=e.onClickTag,t=e.tags,c=void 0===t?[]:t,s=(0,i.useMemo)((function(){return(null===c||void 0===c?void 0:c.length)||0}),[c]),a=(0,i.useMemo)((function(){return(0,r.YC)(c||[],"uuid")}),[c]);return(0,d.jsx)(u.ZP,{alignItems:"center",flexWrap:"wrap",children:null===a||void 0===a?void 0:a.reduce((function(e,t){return e.push((0,d.jsx)("div",{style:{marginBottom:2,marginRight:s>=2?4:0,marginTop:2},children:(0,d.jsx)(l.Z,{onClick:n?function(){return n(t)}:null,small:!0,children:(0,d.jsx)(o.ZP,{children:t.uuid})})},"tag-".concat(t.uuid))),e}),[])})}},31882:function(e,n,t){var i=t(38626),l=t(71180),u=t(55485),o=t(38276),r=t(30160),d=t(44897),c=t(72473),s=t(70515),a=t(61896),p=t(28598),h=i.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||d.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||d.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((s.iI+a.Al)/2,"px;\n    height: ").concat(1.5*s.iI+a.Al,"px;\n    padding: ").concat(s.iI/1.5,"px ").concat(1.25*s.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((s.iI/2+a.Al)/2,"px;\n    height: ").concat(a.Al+s.iI/2+2,"px;\n    padding: ").concat(s.iI/4,"px ").concat(s.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||d.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,i=e.disabled,d=e.label,a=e.onClick,m=e.primary,v=e.small;return(0,p.jsx)(h,{border:n,primary:m,small:v,children:(0,p.jsx)(l.Z,{basic:!0,disabled:i,noBackground:!0,noPadding:!0,onClick:a,transparent:!0,children:(0,p.jsxs)(u.ZP,{alignItems:"center",children:[t,d&&(0,p.jsx)(r.ZP,{small:v,children:d}),!i&&a&&(0,p.jsx)(o.Z,{ml:1,children:(0,p.jsx)(c.x8,{default:m,muted:!m,size:v?s.iI:1.25*s.iI})})]})})})}}}]);