"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5703],{44162:function(n,e,t){t.d(e,{HC:function(){return g},Kf:function(){return s},Nk:function(){return p},gE:function(){return v},jv:function(){return m},nz:function(){return f},oh:function(){return l},qn:function(){return a},t1:function(){return h},y9:function(){return b}});var o=t(9518),r=t(23831),i=t(73942),c=t(86422),u=t(49125),d=t(90880),l=68;function a(n,e){var t=(e.theme.borders||r.Z.borders).light,o=(e.theme.monotone||r.Z.monotone).grey500,i=e||{},u=i.isSelected,d=i.theme;return u?t=(d.content||r.Z.content).active:c.tf.TRANSFORMER===n?(t=(d.accent||r.Z.accent).purple,o=(d.accent||r.Z.accent).purpleLight):c.tf.DATA_EXPORTER===n?(t=(d.accent||r.Z.accent).yellow,o=(d.accent||r.Z.accent).yellowLight):c.tf.DATA_LOADER===n?(t=(d.accent||r.Z.accent).blue,o=(d.accent||r.Z.accent).blueLight):c.tf.SCRATCHPAD===n?(t=(d.content||r.Z.content).default,o=(d.accent||r.Z.accent).contentDefaultTransparent):c.tf.SENSOR===n?(t=(d.accent||r.Z.accent).pink,o=(d.accent||r.Z.accent).pinkLight):c.tf.DBT===n&&(t=(d.accent||r.Z.accent).dbt,o=(d.accent||r.Z.accent).dbtLight),{accent:t,accentLight:o}}var s=(0,o.css)([""," "," "," "," "," "," ",""],(0,d.eR)(),(function(n){return!n.selected&&!n.hasError&&"\n    border-color: ".concat(a(n.blockType,n).accentLight,";\n  ")}),(function(n){return n.selected&&!n.hasError&&"\n    border-color: ".concat(a(n.blockType,n).accent,";\n  ")}),(function(n){return!n.selected&&n.hasError&&"\n    border-color: ".concat((n.theme.accent||r.Z.accent).negativeTransparent,";\n  ")}),(function(n){return n.selected&&n.hasError&&"\n    border-color: ".concat((n.theme.borders||r.Z.borders).danger,";\n  ")}),(function(n){return n.dynamicBlock&&"\n    border-style: dashed !important;\n  "}),(function(n){return n.dynamicChildBlock&&"\n    border-style: dotted !important;\n  "})),p=o.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;position:relative;"],i.n_),f=o.default.div.withConfig({displayName:"indexstyle__BlockHeaderStyle",componentId:"sc-s5rj34-1"})([""," border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:",";border-top-width:","px;border-left-style:",";border-left-width:","px;border-right-style:",";border-right-width:","px;padding:","px;position:sticky;top:-5px;"," ",""],s,i.n_,i.n_,i.M8,i.mP,i.M8,i.mP,i.M8,i.mP,u.iI,(function(n){return"\n    background-color: ".concat((n.theme||r.Z).background.content,";\n  ")}),(function(n){return n.zIndex&&"\n    z-index: ".concat(6+(n.zIndex||0),";\n  ")})),m=o.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-2"})([""," border-left-style:",";border-left-width:","px;border-right-style:",";border-right-width:","px;padding-bottom:","px;padding-top:","px;position:relative;"," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],s,i.M8,i.mP,i.M8,i.mP,u.iI,u.iI,(function(n){return"\n    background-color: ".concat((n.theme.background||r.Z.background).codeTextarea,";\n  ")}),(function(n){return!n.hasOutput&&"\n    border-bottom-left-radius: ".concat(i.n_,"px;\n    border-bottom-right-radius: ").concat(i.n_,"px;\n    border-bottom-style: ").concat(i.M8,";\n    border-bottom-width: ").concat(i.mP,"px;\n  ")})),v=o.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-3"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:8;bottom:","px;&:hover{"," .block-divider-inner{","}}"],2*u.iI,.5*u.iI,(function(n){return n.additionalZIndex>0&&"\n      z-index: ".concat(8+n.additionalZIndex,";\n    ")}),(function(n){return"\n        background-color: ".concat((n.theme.text||r.Z.text).fileBrowser,";\n      ")})),h=o.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-4"})(["height 1px;width:100%;position:absolute;z-index:-1;top:","px;"],1.5*u.iI),b=o.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-5"})(["margin-bottom:","px;padding-bottom:","px;",""],u.cd*u.iI,u.iI,(function(n){return"\n    border-bottom: 1px solid ".concat((n.theme.borders||r.Z.borders).medium,";\n    padding-left: ").concat(n.normalPadding?u.iI:l,"px;\n  ")})),g=o.default.div.withConfig({displayName:"indexstyle__TimeTrackerStyle",componentId:"sc-s5rj34-6"})(["bottom:","px;left:","px;position:absolute;"],1*u.iI,l)},86532:function(n,e,t){t.d(e,{Z:function(){return $}});var o,r=t(77555),i=t(82394),c=t(12757),u=t(77837),d=t(38860),l=t.n(d),a=t(51774),s=t.n(a),p=t(9518),f=t(4804),m=t(82684),v=t(83455),h=t(86422),b=t(67971),g=t(16634),x=t(86673),y=t(54283),k=t(19711),A=t(23831),R=t(10503),T=t(49125),E=(T.iI,{height:10,width:10}),O=[h.tf.DATA_EXPORTER,h.tf.SENSOR];!function(n){n.NORTH="NORTH",n.SOUTH="SOUTH"}(o||(o={}));var C=t(73942),D=t(37391),w=p.default.div.withConfig({displayName:"indexstyle__GraphContainerStyle",componentId:"sc-bc2ei5-0"})(["div:only-child{","}",""],D.w5,(function(n){return n.height&&"\n    height: ".concat(n.height,"px;\n  ")})),Z=p.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border-radius:","px;border:1px solid transparent;min-width:fit-content;"," "," "," ",""],C.BG,(function(n){return n.selected&&"\n    border-color: ".concat((n.theme.content||A.Z.content).active,";\n  ")}),(function(n){return n.backgroundColor&&"\n    background-color: ".concat(n.backgroundColor,";\n  ")}),(function(n){return(n.isCancelled||n.disabled)&&"\n    // opacity doesn\u2019t work on Safari\n    border-color: ".concat((n.theme.content||A.Z.content).active,";\n    border-style: dashed;\n    cursor: not-allowed;\n  ")}),(function(n){return n.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "})),S=p.default.div.withConfig({displayName:"indexstyle__RuntimeStyle",componentId:"sc-bc2ei5-2"})(["margin-right:","px;padding:12px 4px;height:100%;width:50px;background:rgba(0,0,0,0.2);background-blend-mode:soft-light;"],2*T.iI),_=t(44162),j=t(90211),P=function(n){var e=n/1e3,t=4-Math.floor(e).toString().length,o=(0,j.QV)(e,t>=0?t:0),r="s";return o>1e3&&(o=(0,j.QV)(o/60,0),r="m"),"".concat(o).concat(r)},I=function(n,e){var t=n||{},r=t.id,i=t.side,c=null===e||void 0===e?void 0:e.id;return i===o.NORTH?null===r||void 0===r?void 0:r.endsWith("".concat(c,"-to")):i===o.SOUTH&&(null===r||void 0===r?void 0:r.startsWith(c))},N=t(28598);var B=function(n){var e=n.block,t=n.children,o=n.disabled,r=n.hasFailed,i=n.isCancelled,c=n.isInProgress,u=n.isQueued,d=n.isSuccessful,l=(n.onClick,n.runtime),a=n.selected,s=(0,m.useContext)(p.ThemeContext),f=e.type,v=e.uuid,h=!(c||u||r||d||i),E=d&&!(c||u),C=r&&!(c||u),D="";return h?D="No status":E?D="Successful execution":C?D="Failed execution":c?D="Currently executiing":i&&(D="Cancelled execution"),(0,N.jsx)(Z,{backgroundColor:(0,_.qn)(f,{theme:s}).accent,disabled:o,isCancelled:i,selected:a,children:(0,N.jsxs)(b.Z,{alignItems:"center",children:[l&&(0,N.jsx)(S,{backgroundColor:(0,_.qn)(f,{theme:s}).accent,children:(0,N.jsx)(b.Z,{justifyContent:"center",children:(0,N.jsx)(k.ZP,{inverted:O.includes(f),xsmall:!0,children:P(l)})})}),!l&&(0,N.jsx)(x.Z,{ml:2}),(0,N.jsxs)(b.Z,{alignItems:"center",justifyContent:"center",style:{height:2*T.iI,width:2*T.iI},title:D,children:[c&&(0,N.jsx)(y.Z,{color:(s||A.Z).content.active,small:!0}),E&&(0,N.jsx)(R.Jr,{size:2*T.iI,success:!0}),C&&(0,N.jsx)(R.x8,{danger:!0,size:1.5*T.iI}),h&&(0,N.jsx)(g.Z,{borderSize:1,size:1*T.iI})]}),(0,N.jsx)(x.Z,{ml:1}),(0,N.jsx)(b.Z,{alignItems:"center",justifyContent:"center",style:{padding:"8px 0",height:"100%"},children:(0,N.jsx)(k.ZP,{inverted:O.includes(f),monospace:!0,small:!0,children:t})})]})},v)},L=t(11135),H=t(98781),M=t(55170),U=t(66050),F=t(24224),z=t(25958),X=t(96510),G=t(87323);function Q(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function V(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Q(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Q(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var q=s()((0,u.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(4434),t.e(5987),t.e(3873)]).then(t.t.bind(t,74529,23));case 2:return e=n.sent,n.abrupt("return",e.Canvas);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),W=s()((0,u.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(4434),t.e(5987),t.e(3873)]).then(t.t.bind(t,74529,23));case 2:return e=n.sent,n.abrupt("return",e.Node);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),K=s()((0,u.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(4434),t.e(5987),t.e(3873)]).then(t.t.bind(t,74529,23));case 2:return e=n.sent,n.abrupt("return",e.Edge);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Y=(s()((0,u.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(4434),t.e(5987),t.e(3873)]).then(t.t.bind(t,74529,23));case 2:return e=n.sent,n.abrupt("return",e.MarkerArrow);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),s()((0,u.Z)(l().mark((function n(){var e;return l().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([t.e(4434),t.e(5987),t.e(3873)]).then(t.t.bind(t,74529,23));case 2:return e=n.sent,n.abrupt("return",e.Port);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}));var $=function(n){var e=n.blockRefs,t=n.blockStatus,i=n.editingBlock,u=n.enablePorts,d=void 0!==u&&u,l=n.fetchPipeline,a=n.height,s=n.heightOffset,g=void 0===s?10*T.iI:s,y=n.noStatus,A=n.pipeline,R=n.runningBlocks,O=void 0===R?[]:R,C=n.selectedBlock,D=n.setEditingBlock,Z=n.setErrors,S=n.setSelectedBlock,j=n.showDynamicBlocks,P=void 0!==j&&j,Q=(0,m.useContext)(p.ThemeContext),$=(0,m.useState)([]),J=$[0],nn=$[1],en=(0,m.useState)(!1),tn=en[0],on=en[1],rn=(0,m.useState)(null),cn=rn[0],un=rn[1],dn=d&&tn,ln=(null===i||void 0===i?void 0:i.upstreamBlocks)||{},an=ln.block,sn=ln.values,pn=void 0===sn?[]:sn,fn=(0,m.useMemo)((function(){return pn.length}),[pn]),mn=(0,m.useMemo)((function(){var n;return(null===A||void 0===A||null===(n=A.blocks)||void 0===n?void 0:n.filter((function(n){var e=n.type;return h.tf.SCRATCHPAD!==e})))||[]}),[null===A||void 0===A?void 0:A.blocks]),vn=(0,F.HK)((0,G.cU)(mn,mn),(function(n){return n.block.uuid})),hn=(0,m.useMemo)((function(){return mn}),[mn,vn,P]),bn=(0,m.useMemo)((function(){return(0,F.HK)(hn,(function(n){return n.uuid}))}),[hn]),gn=(0,m.useMemo)((function(){return(0,F.HK)(O,(function(n){return n.uuid}))}),[O]),xn=(0,v.Db)(M.ZP.blocks.pipelines.useUpdate(null===A||void 0===A?void 0:A.uuid,encodeURIComponent(null===an||void 0===an?void 0:an.uuid)),{onSuccess:function(n){return(0,X.wD)(n,{callback:function(){D({upstreamBlocks:null}),null===l||void 0===l||l()},onErrorCallback:function(n,e){return null===Z||void 0===Z?void 0:Z({errors:e,response:n})}})}}),yn=(0,c.Z)(xn,2),kn=yn[0],An=yn[1].isLoading,Rn=(0,v.Db)((function(n){var e=n.fromBlock,t=n.toBlock,o=n.removeDependency;return M.ZP.blocks.pipelines.useUpdate(null===A||void 0===A?void 0:A.uuid,encodeURIComponent(t.uuid))({block:V(V({},t),{},{upstream_blocks:o?t.upstream_blocks.filter((function(n){return n!==e.uuid})):t.upstream_blocks.concat(e.uuid)})})}),{onSuccess:function(n){return(0,X.wD)(n,{callback:function(){null===l||void 0===l||l()},onErrorCallback:function(n,e){return null===Z||void 0===Z?void 0:Z({errors:e,response:n})}})}}),Tn=(0,c.Z)(Rn,1)[0],En=(0,m.useCallback)((function(n){var t=n.type,o=n.uuid;if(null===S||void 0===S||S(n),nn([]),null!==e&&void 0!==e&&e.current){var r,i=e.current["".concat(t,"s/").concat(o,".py")];null===i||void 0===i||null===(r=i.current)||void 0===r||r.scrollIntoView()}}),[e,S]),On=(0,m.useCallback)((function(n){nn([]),D((function(e){var t=e.upstreamBlocks.values||[],o=t.findIndex((function(e){var t=e.uuid;return n.uuid===t}));return V(V({},e),{},{upstreamBlocks:V(V({},e.upstreamBlocks),{},{values:o>=0?(0,F.oM)(t,o):t.concat(n)})})}))}),[D]),Cn=(0,m.useMemo)((function(){var n={};return hn.forEach((function(e){e.upstream_blocks.forEach((function(t){n[t]||(n[t]=[]),n[t].push(e)}))})),n}),[hn]),Dn=(0,m.useCallback)((function(n){var e;if(H.q.INTEGRATION===(null===A||void 0===A?void 0:A.type)&&h.tf.TRANSFORMER!==n.type){var t,o={};if(h.t6.YAML===n.language&&(o=(0,f.Qc)(n.content)),h.tf.DATA_LOADER===n.type)e="".concat(n.uuid,": ").concat(null===(t=o)||void 0===t?void 0:t.source);else if(h.tf.DATA_EXPORTER===n.type){var r;e="".concat(n.uuid,": ").concat(null===(r=o)||void 0===r?void 0:r.destination)}}else h.tf.DBT===n.type&&h.t6.SQL===n.language&&(e=(0,z.$)(n));var i=(null===vn||void 0===vn?void 0:vn[n.uuid])||{},c=i.dynamic,u=i.dynamicUpstreamBlock,d=(i.reduceOutput,i.reduceOutputUpstreamBlock);return e||(e=n.uuid,c?e="[dynamic] ".concat(e):u&&!d&&(e="[dynamic child] ".concat(e))),e}),[vn,A]),wn=(0,m.useMemo)((function(){var n=[],e=[];return hn.forEach((function(i){var c,u=Dn(i),d=i.type,l=i.upstream_blocks,a=void 0===l?[]:l,s=i.uuid,p=Cn[s],f=[];p?f.push.apply(f,(0,r.Z)(p.map((function(n){return V(V({},E),{},{id:"".concat(s,"-").concat(n.uuid,"-from"),side:o.SOUTH})})))):d!==h.tf.DATA_EXPORTER&&f.push(V(V({},E),{},{id:"".concat(s,"-from"),side:o.SOUTH})),0===a.length&&d!==h.tf.DATA_LOADER&&f.push(V(V({},E),{},{id:"".concat(s,"-to"),side:o.NORTH})),null===a||void 0===a||a.forEach((function(n){f.push(V(V({},E),{},{id:"".concat(n,"-").concat(s,"-to"),side:o.NORTH})),e.push({from:n,fromPort:"".concat(n,"-").concat(s,"-from"),id:"".concat(n,"-").concat(s),to:s,toPort:"".concat(n,"-").concat(s,"-to")})})),n.push({data:{block:i},height:37,id:s,ports:f,width:u.length*T.KF+5*T.iI+((null===an||void 0===an?void 0:an.uuid)===i.uuid?19*T.KF:0)+(null!==t&&void 0!==t&&null!==(c=t[i.uuid])&&void 0!==c&&c.runtime?50:0)})})),{edges:e,nodes:n}}),[null===an||void 0===an?void 0:an.uuid,t,hn,Dn,Cn]),Zn=wn.edges,Sn=wn.nodes,_n=(0,m.useCallback)((function(n){if(y)return{};if(t){var e=t[n.uuid]||{},o=e.status,r=e.runtime;return{hasFailed:U.V.FAILED===o,isCancelled:U.V.CANCELLED===o,isInProgress:U.V.RUNNING===o,isQueued:U.V.INITIAL===o,isSuccessful:U.V.COMPLETED===o,runtime:r}}var i;return{hasFailed:h.DA.FAILED===n.status,isInProgress:gn[n.uuid],isQueued:gn[n.uuid]&&(null===(i=O[0])||void 0===i?void 0:i.uuid)!==n.uuid,isSuccessful:h.DA.EXECUTED===n.status}}),[gn,t]);return(0,N.jsxs)(N.Fragment,{children:[an&&(0,N.jsxs)(x.Z,{my:3,px:T.cd,children:[(0,N.jsxs)(x.Z,{mb:T.cd,children:[(0,N.jsxs)(k.ZP,{children:["Select parent block(s) for ",(0,N.jsx)(k.ZP,{color:(0,_.qn)(an.type,{theme:Q}).accent,inline:!0,monospace:!0,children:an.uuid}),":"]}),(0,N.jsx)(x.Z,{mt:1,children:pn.map((function(n,e){var t,o=n.uuid;return(0,N.jsxs)(k.ZP,{color:(0,_.qn)(null===(t=bn[o])||void 0===t?void 0:t.type,{theme:Q}).accent,inline:!0,monospace:!0,children:[o,fn>=2&&e<=fn-2?(0,N.jsx)(k.ZP,{inline:!0,children:",\xa0"}):null]},o)}))})]}),(0,N.jsxs)(b.Z,{alignItems:"center",children:[(0,N.jsx)(L.ZP,{compact:!0,inline:!0,loading:An,onClick:function(){return kn({block:V(V({},an),{},{upstream_blocks:pn.map((function(n){return n.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,N.jsx)(x.Z,{ml:1}),(0,N.jsx)(L.ZP,{compact:!0,inline:!0,noBackground:!0,onClick:function(){nn([]),D({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})]}),(0,N.jsx)(w,{height:a-g,children:(0,N.jsx)(q,{arrow:null,disabled:!1,edge:function(n){var e,t=bn[n.source];return(0,N.jsx)(K,V(V({},n),{},{onClick:function(n,e){un(null),nn([e.id])},onRemove:function(n,e){var t=bn[e.from],o=bn[e.to];Tn({fromBlock:t,removeDependency:!0,toBlock:o}),nn([])},removable:d&&!(null!==i&&void 0!==i&&i.upstreamBlocks),style:{stroke:null===(e=(0,_.qn)(null===t||void 0===t?void 0:t.type,{theme:Q}))||void 0===e?void 0:e.accent}}))},edges:Zn,fit:!0,node:function(n){var e,t,o;return(0,N.jsx)(W,V(V({},n),{},{dragType:"port",linkable:!0,onClick:function(n,e){var t=e.data.block;un(null),(null===an||void 0===an?void 0:an.uuid)===t.uuid||(an?On(t):En(t))},onEnter:function(){null!==i&&void 0!==i&&i.upstreamBlocks||on(!0)},onLeave:function(){return on(!1)},port:dn&&(null===cn||I(cn,n))?(0,N.jsx)(Y,{onDrag:function(){return on(!0)},onDragEnd:function(){on(!1),un(null)},onDragStart:function(n,e,t){un({id:null===t||void 0===t?void 0:t.id,side:null===t||void 0===t?void 0:t.side})},onEnter:function(){return on(!0)},rx:10,ry:10,style:{fill:(0,_.qn)(null===n||void 0===n||null===(e=n.properties)||void 0===e||null===(t=e.data)||void 0===t||null===(o=t.block)||void 0===o?void 0:o.type,{theme:Q}).accent,stroke:"white",strokeWidth:"1px"}}):null,style:{fill:"transparent",stroke:"transparent",strokeWidth:0},children:function(n){var e=n.node.data.block,t=_n(e);return(0,N.jsx)("foreignObject",{height:n.height,style:{pointerEvents:"none"},width:n.width,x:0,y:0,children:(0,N.jsxs)(B,V(V({block:e,disabled:(null===an||void 0===an?void 0:an.uuid)===e.uuid,selected:an?!!(0,F.sE)(pn,(function(n){return n.uuid===e.uuid})):(null===C||void 0===C?void 0:C.uuid)===e.uuid},t),{},{children:[Dn(e),(null===an||void 0===an?void 0:an.uuid)===e.uuid&&" (editing)"]}),e.uuid)})}}))},nodes:Sn,onNodeLink:function(n,e,t,o){var r,i=bn[e.id],c=bn[t.id],u=(null===A||void 0===A?void 0:A.type)===H.q.INTEGRATION&&((null===i||void 0===i?void 0:i.type)===h.tf.DATA_EXPORTER||(null===i||void 0===i?void 0:i.type)===h.tf.DATA_LOADER&&(null===c||void 0===c?void 0:c.type)===h.tf.DATA_EXPORTER);null!==i&&void 0!==i&&null!==(r=i.upstream_blocks)&&void 0!==r&&r.includes(c.uuid)||e.id===t.id||u||Tn({fromBlock:i,toBlock:c})},onNodeLinkCheck:function(n,e,t){return!Zn.some((function(n){return n.from===e.id&&n.to===t.id}))},selections:J,zoomable:!0})})]})}},17903:function(n,e,t){t.d(e,{Z:function(){return R}});var o=t(82394),r=t(12691),i=t.n(r),c=t(82684),u=t(67971),d=t(10919),l=t(86673),a=t(19711),s=t(46261),p=t(9518),f=t(23831),m=t(49125),v=p.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-0"})(["contain:size;width:100%;",""],(function(n){return(n.columnBorders||n.borderCollapseSeparate)&&"\n    border-collapse: separate;\n  "})),h=p.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-1"})(["",""],(function(n){return!n.noHover&&"\n    &:hover {\n      background: ".concat((n.theme.interactive||f.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),b=(0,p.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(n){return!n.alignTop&&"\n    vertical-align: middle;\n  "}),(function(n){return n.alignTop&&"\n    vertical-align: top;\n  "}),(function(n){return!n.noBorder&&"\n    border-bottom: 1px solid ".concat((n.theme.borders||f.Z.borders).light,";\n  ")}),(function(n){return n.compact&&"\n    padding: ".concat(m.iI/2,"px ").concat(m.iI,"px;\n  ")}),(function(n){return!n.compact&&"\n    padding: ".concat(m.iI,"px ").concat(2*m.iI,"px;\n  ")}),(function(n){return n.maxWidth&&"\n    max-width: ".concat(n.maxWidth,";\n  ")})),g=p.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-2"})([""," "," "," ",""],b,(function(n){return n.columnBorders&&"\n    border: 1px solid ".concat((n.theme.borders||f.Z.borders).light,";\n    border-right: none;\n  ")}),(function(n){return n.columnBorders&&n.last&&"\n    border-right: 1px solid ".concat((n.theme.borders||f.Z.borders).light,";\n  ")}),(function(n){return n.sticky&&"\n    background-color: ".concat((n.theme||f.Z).background.panel,";\n    border-bottom: 1px solid ").concat((n.theme.borders||f.Z.borders).medium,";\n    z-index: 1;\n    position: sticky;\n    top: 0;\n\n    &:first-child {\n      left: 0;\n      z-index: 2;\n    }\n  ")})),x=p.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-3"})([""," "," "," "," "," ",""],b,(function(n){return n.columnBorders&&"\n    border-left: 1px solid ".concat((n.theme.borders||f.Z.borders).light,";\n  ")}),(function(n){return n.columnBorders&&n.last&&"\n    border-right: 1px solid ".concat((n.theme.borders||f.Z.borders).light,";\n  ")}),(function(n){return n.stickyFirstColumn&&"\n    background-color: ".concat((n.theme||f.Z).background.panel,";\n    z-index: 1;\n    position: sticky;\n    left: 0;\n  ")}),(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.interactive||f.Z.interactive).activeBorder,";\n  ")}),(function(n){return n.wrapColumns&&"\n    white-space: break-spaces;\n  "})),y=t(28598);function k(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(n);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,o)}return t}function A(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?k(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var R=function(n){var e=n.alignTop,t=n.borderCollapseSeparate,o=n.buildLinkProps,r=n.columnBorders,p=n.columnFlex,f=n.columnMaxWidth,m=n.columns,b=void 0===m?[]:m,k=n.compact,R=n.isSelectedRow,T=n.noBorder,E=n.noHeader,O=n.onClickRow,C=n.rows,D=n.stickyFirstColumn,w=n.stickyHeader,Z=n.uuid,S=n.wrapColumns,_=(0,c.useMemo)((function(){return p.reduce((function(n,e){return n+(e||0)}),0)}),p),j=(0,c.useCallback)((function(n){if(p[n]){var e=Math.round(p[n]/_*100);return"".concat(e,"%")}return null}),[]),P=(0,c.useMemo)((function(){return null===C||void 0===C?void 0:C.map((function(n,t){var u=null===o||void 0===o?void 0:o(t),l=n.map((function(o,i){return(0,y.jsx)(x,{alignTop:e,columnBorders:r,compact:k,last:i===n.length-1,maxWidth:null===f||void 0===f?void 0:f(i),noBorder:T,selected:null===R||void 0===R?void 0:R(t),stickyFirstColumn:D&&0===i,width:j(i),wrapColumns:S,children:o},"".concat(Z,"-row-").concat(t,"-cell-").concat(i))})),a=(0,y.jsx)(h,{noHover:!(u||O),onClick:O?function(){return O(t)}:null,children:l},"".concat(Z,"-row-").concat(t));return u?(0,c.createElement)(i(),A(A({},u),{},{key:"".concat(Z,"-row-link-").concat(t),passHref:!0}),(0,y.jsx)(d.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:a})):a}))}),[e,o,j,f,b,k,R,T,O,C]);return(0,y.jsxs)(v,{borderCollapseSeparate:t,columnBorders:r,children:[(null===b||void 0===b?void 0:b.length)>=1&&!E&&(0,y.jsx)(h,{noHover:!0,children:b.map((function(n,e){return(0,y.jsx)(g,{columnBorders:r,compact:k,last:e===b.length-1,noBorder:T,sticky:w,children:(0,y.jsxs)(u.Z,{alignItems:"center",children:[(0,y.jsx)(a.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:n.label?n.label():n.uuid}),n.tooltipMessage&&(0,y.jsx)(l.Z,{ml:"4px",children:(0,y.jsx)(s.Z,{appearBefore:!0,label:(0,y.jsx)(a.ZP,{leftAligned:!0,children:n.tooltipMessage}),lightBackground:!0,primary:!0})})]})},"".concat(Z,"-col-").concat(n.uuid,"-").concat(e))}))}),P]})}},66050:function(n,e,t){var o;t.d(e,{V:function(){return o}}),function(n){n.CANCELLED="cancelled",n.COMPLETED="completed",n.FAILED="failed",n.INITIAL="initial",n.RUNNING="running"}(o||(o={}))},86422:function(n,e,t){t.d(e,{$W:function(){return s},DA:function(){return a},HX:function(){return m},J8:function(){return f},Qj:function(){return v},Ut:function(){return x},V4:function(){return g},VZ:function(){return p},dO:function(){return l},f2:function(){return b},iZ:function(){return h},t6:function(){return c},tf:function(){return d}});var o,r,i,c,u=t(82394);!function(n){n.PYTHON="python",n.R="r",n.SQL="sql",n.YAML="yaml"}(c||(c={}));var d,l=(o={},(0,u.Z)(o,c.PYTHON,"PY"),(0,u.Z)(o,c.R,"R"),(0,u.Z)(o,c.SQL,"SQL"),(0,u.Z)(o,c.YAML,"YAML"),o);!function(n){n.CHART="chart",n.DATA_EXPORTER="data_exporter",n.DATA_LOADER="data_loader",n.DBT="dbt",n.SCRATCHPAD="scratchpad",n.SENSOR="sensor",n.TRANSFORMER="transformer"}(d||(d={}));var a,s=[d.CHART,d.DATA_EXPORTER,d.DATA_LOADER,d.SCRATCHPAD,d.SENSOR,d.TRANSFORMER],p=[d.DATA_EXPORTER,d.DATA_LOADER],f=[d.DATA_EXPORTER,d.DATA_LOADER,d.TRANSFORMER],m=[d.DATA_EXPORTER,d.DATA_LOADER,d.DBT,d.TRANSFORMER],v=[d.CHART,d.SCRATCHPAD,d.SENSOR],h=[d.SCRATCHPAD];!function(n){n.EXECUTED="executed",n.FAILED="failed",n.NOT_EXECUTED="not_executed",n.UPDATED="updated"}(a||(a={}));var b=[d.DATA_EXPORTER,d.TRANSFORMER],g=(r={},(0,u.Z)(r,d.DATA_EXPORTER,"Data exporter"),(0,u.Z)(r,d.DATA_LOADER,"Data loader"),(0,u.Z)(r,d.SCRATCHPAD,"Scratchpad"),(0,u.Z)(r,d.SENSOR,"Sensor"),(0,u.Z)(r,d.TRANSFORMER,"Transformer"),r),x=[d.DATA_LOADER,d.TRANSFORMER,d.DATA_EXPORTER];i={},(0,u.Z)(i,d.DATA_EXPORTER,"DE"),(0,u.Z)(i,d.DATA_LOADER,"DL"),(0,u.Z)(i,d.SCRATCHPAD,"SP"),(0,u.Z)(i,d.SENSOR,"SR"),(0,u.Z)(i,d.TRANSFORMER,"TF")},87323:function(n,e,t){t.d(e,{cU:function(){return c}});var o=t(82684),r=t(24224);function i(n,e){return function(n,e,t){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{includeAllNodes:!1},i=(0,r.HK)(t,(function(n){return n.uuid})),c=(o||{}).includeAllNodes,u=[];function d(t){if(t){var o=(t[e]||[]).reduce((function(e,t){return n.uuid===t?e:e.concat(i[t])}),[]);(0===o.length||c&&n.uuid!==t.uuid)&&u.push(t),o.forEach((function(n){d(n)}))}}return d(n),u}(n,"upstream_blocks",e,{includeAllNodes:!0})}function c(n,e){return(0,o.useMemo)((function(){return n.map((function(n){var t=function(n,e){var t=i(n,e);return{dynamicUpstreamBlock:t.find((function(e){var t=e.configuration,o=e.uuid;return(null===t||void 0===t?void 0:t.dynamic)&&o!==(null===n||void 0===n?void 0:n.uuid)})),reduceOutputUpstreamBlock:t.find((function(e){var t=e.configuration,o=e.uuid;return(null===t||void 0===t?void 0:t.reduce_output)&&o!==(null===n||void 0===n?void 0:n.uuid)}))}}(n,e),o=t.dynamicUpstreamBlock,r=t.reduceOutputUpstreamBlock,c=(n||{}).configuration||{};return{block:n,dynamic:!!c.dynamic,dynamicUpstreamBlock:o,reduceOutput:!!c.reduce_output,reduceOutputUpstreamBlock:r}}))}),[e,null===e||void 0===e?void 0:e.map((function(n){var e=n.configuration;return null===e||void 0===e?void 0:e.dynamic})),null===e||void 0===e?void 0:e.map((function(n){var e=n.configuration;return null===e||void 0===e?void 0:e.reduce_output})),null===e||void 0===e?void 0:e.map((function(n){return n.upstream_blocks}))])}},25958:function(n,e,t){function o(n){var e,t=null===n||void 0===n||null===(e=n.configuration)||void 0===e?void 0:e.file_path;if(t){var o=t.split("/"),r=o[o.length-1].split(".");return r.pop(),r.join(".")}}t.d(e,{$:function(){return o}})}}]);