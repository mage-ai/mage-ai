"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1749],{91749:function(n,e,t){t.d(e,{Z:function(){return W}});var i=t(82394),o=t(21831),r=t(82684),l=t(32013),c=t(98777),d=t(81769),s=t(44425),u=t(71180),a=t(15338),v=t(97618),f=t(55485),p=t(85854),m=t(75582),h=t(44085),g=t(38276),x=t(72473),j=t(38626),b=t(44897),Z=t(42631),y=t(55283),P=t(70515),I=t(47041),k=t(91437),w=(P.iI,j.default.div.withConfig({displayName:"indexstyle__AfterFooterStyle",componentId:"sc-1qjqori-0"})(["",""],(function(n){return"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1qjqori-1"})([""," border-style:solid;border-width:1px;position:relative;"," "," "," "," "," "," ",""],y.Kf,(function(n){return!n.noBorderRadiusTop&&"\n    border-top-left-radius: ".concat(Z.n_,"px;\n    border-top-right-radius: ").concat(Z.n_,"px;\n  ")}),(function(n){return n.noBorderRadiusTop&&"\n    border-top: none !important;\n  "}),(function(n){return!n.noBorderRadiusBottom&&"\n    border-bottom-left-radius: ".concat(Z.n_,"px;\n    border-bottom-right-radius: ").concat(Z.n_,"px;\n  ")}),(function(n){return n.noBorderRadiusBottom&&"\n    border-bottom: none !important;\n  "}),(function(n){return!n.noBackground&&"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n  ")}),(function(n){return!n.borderColor&&"\n    border-color: ".concat((n.theme.borders||b.Z.borders).light,";\n  ")}),(function(n){return n.borderColor&&"\n    border-color: ".concat(n.borderColor,";\n  ")}))),C=(j.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1qjqori-2"})(["padding:","px;",""],P.cd*P.iI,(function(n){return"\n    border-bottom: 1px solid ".concat((n.theme.borders||b.Z.borders).light,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__NavigationStyle",componentId:"sc-1qjqori-3"})([""," "," ",""],(0,k.eR)(),(function(n){return!n.selected&&"\n    &:hover {\n      background-color: ".concat((n.theme.interactive||b.Z.interactive).rowHoverBackground,";\n    }\n  ")}),(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.background||b.Z.background).codeTextarea,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__StreamGridGroupStyle",componentId:"sc-1qjqori-4"})(["position:absolute;"]),j.default.div.withConfig({displayName:"indexstyle__StreamGridGroupInnerStyle",componentId:"sc-1qjqori-5"})([""," overflow:auto;position:fixed;",""],I.w5,(function(n){return n.borderRight&&"\n    border-right: 1px solid ".concat((n.theme.borders||b.Z.borders).light,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__StreamGridStyle",componentId:"sc-1qjqori-6"})(["border-radius:","px;padding:","px;margin:","px;"," "," "," "," ",""],Z.n_,P.cd*P.iI,1*P.iI,(function(n){return!n.warning&&"\n    &:hover {\n      cursor: pointer;\n    }\n  "}),(function(n){return!n.selected&&!n.warning&&"\n    border: 1px solid ".concat((n.theme.borders||b.Z.borders).light,";\n  ")}),(function(n){return n.warning&&!n.selected&&"\n    border: 1px solid ".concat((n.theme.accent||b.Z.accent).warningTransparent,";\n  ")}),(function(n){return n.warning&&n.selected&&"\n    border: 1px solid ".concat((n.theme.accent||b.Z.accent).warning,";\n  ")}),(function(n){return n.selected&&!n.warning&&"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n    border: 1px solid ").concat((n.theme.borders||b.Z.borders).contrast,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__BackgroundStyle",componentId:"sc-1qjqori-7"})(["",""],(function(n){return"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n  ")})),j.default.div.withConfig({displayName:"indexstyle__ButtonContainerStyle",componentId:"sc-1qjqori-8"})(["bottom:0;position:fixed;z-index:1;"," ",""],(function(n){return"\n    background-color: ".concat((n.theme.background||b.Z.background).panel,";\n    border-left: 1px solid ").concat((n.theme.borders||b.Z.borders).light,";\n    border-right: 1px solid ").concat((n.theme.borders||b.Z.borders).light,";\n    border-top: 1px solid ").concat((n.theme.borders||b.Z.borders).light,";\n  ")}),(function(n){return n.width&&"\n    width: ".concat(n.width,"px;\n   ")}))),_=t(19452),O=t(30229),E=t(81728),S=t(3314),B=t(86735),T=t(28598);function M(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function N(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?M(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):M(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var A=function(n){var e,t,i,o,r=n.index,l=n.permission,c=n.setPermissions,d=n.updatePermission;return(0,T.jsx)(w,{children:(0,T.jsx)(g.Z,{p:P.cd,children:(0,T.jsxs)(f.ZP,{alignItems:"flex-start",flexDirection:"row",children:[(0,T.jsx)(u.ZP,{iconOnly:!0,onClick:function(){return c((function(n){return(0,B.oM)(n,r)}))},children:(0,T.jsx)(x.x8,{})}),(0,T.jsx)(g.Z,{mr:P.cd}),(0,T.jsxs)(f.ZP,{flexDirection:"column",children:[(0,T.jsxs)(f.ZP,{alignItems:"center",flexDirection:"row",children:[(0,T.jsx)(p.Z,{level:5,children:"Triggers"}),(0,T.jsx)(g.Z,{mr:P.cd}),(0,T.jsx)(f.ZP,{alignItems:"center",children:(0,T.jsx)(u.ZP,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(n){(0,S.j)(n),d(N(N({},l),{},{triggers:((null===l||void 0===l?void 0:l.triggers)||[]).concat({schedule_interval:"",schedule_type:"",uuid:""})}))},secondary:!0,small:!0,children:"Add trigger"})})]}),(null===l||void 0===l||null===(e=l.triggers)||void 0===e?void 0:e.length)>=1&&(0,T.jsx)(g.Z,{mt:P.cd,children:null===l||void 0===l||null===(t=l.triggers)||void 0===t?void 0:t.map((function(n,e){var t=n.schedule_interval,i=n.schedule_type,o=n.uuid;return(0,T.jsx)(g.Z,{mt:e>=1?1:0,children:(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(u.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(n){(0,S.j)(n);var t=(0,B.oM)((null===l||void 0===l?void 0:l.triggers)||[],e);d(N(N({},l),{},{triggers:t}))},children:(0,T.jsx)(x.x8,{})}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(h.Z,{compact:!0,onChange:function(n){var t,i=n.target.value,o=N({},l),r=N({},null===o||void 0===o||null===(t=o.triggers)||void 0===t?void 0:t[e]);r.schedule_type=i,o.triggers[e]=r,d(o)},placeholder:"Type",small:!0,value:i,children:Object.entries(O.Z4).map((function(n){var e=(0,m.Z)(n,2),t=e[0],i=e[1];return(0,T.jsx)("option",{value:t,children:(0,E.kC)(i())},t)}))}),(O.Xm.TIME===i||!i)&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(h.Z,{compact:!0,monospace:!0,onChange:function(n){var t,i=n.target.value,o=N({},l),r=N({},null===o||void 0===o||null===(t=o.triggers)||void 0===t?void 0:t[e]);r.schedule_interval=i,o.triggers[e]=r,d(o)},placeholder:"Interval",small:!0,value:t,children:O.Wb.map((function(n){return(0,T.jsx)("option",{value:n,children:n},n)}))})]})]})},"permission-trigger-".concat(r,"-").concat(e,"-").concat(o))}))})]}),(0,T.jsx)(g.Z,{mr:P.Mq}),(0,T.jsxs)(f.ZP,{flexDirection:"column",children:[(0,T.jsxs)(f.ZP,{alignItems:"center",flexDirection:"row",children:[(0,T.jsx)(p.Z,{level:5,children:"Roles"}),(0,T.jsx)(g.Z,{mr:P.cd}),(0,T.jsx)(f.ZP,{alignItems:"center",children:(0,T.jsx)(u.ZP,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(n){(0,S.j)(n),d(N(N({},l),{},{roles:((null===l||void 0===l?void 0:l.roles)||[]).concat({role:"",uuid:""})}))},secondary:!0,small:!0,children:"Add role"})})]}),(null===l||void 0===l||null===(i=l.roles)||void 0===i?void 0:i.length)>=1&&(0,T.jsx)(g.Z,{mt:P.cd,children:null===l||void 0===l||null===(o=l.roles)||void 0===o?void 0:o.map((function(n,e){var t=n.role,i=n.uuid;return(0,T.jsx)(g.Z,{mt:e>=1?1:0,children:(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(u.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(n){(0,S.j)(n);var t=(0,B.oM)((null===l||void 0===l?void 0:l.roles)||[],e);d(N(N({},l),{},{roles:t}))},children:(0,T.jsx)(x.x8,{})}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(h.Z,{compact:!0,monospace:!0,onChange:function(n){var t,i=n.target.value,o=N({},l),r=N({},null===o||void 0===o||null===(t=o.roles)||void 0===t?void 0:t[e]);r.role=i,o.roles[e]=r,d(o)},placeholder:"Role",small:!0,value:t,children:_.Z3.map((function(n){return(0,T.jsx)("option",{value:n,children:n},n)}))})]})},"permission-role-".concat(r,"-").concat(e,"-").concat(i))}))})]})]})})})},q=t(30160),R=t(35576),D=t(17488),L=t(3917);function Y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,i)}return t}function H(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?Y(Object(t),!0).forEach((function(e){(0,i.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var W=function(n){var e,t,m=n.blockInteractionsMapping,h=n.containerWidth,j=n.createInteraction,b=n.interactions,Z=n.interactionsMapping,y=n.isLoadingCreateInteraction,I=n.isLoadingUpdatePipelineInteraction,k=n.permissions,_=n.pipeline,O=n.pipelineInteraction,E=n.refAfterFooter,M=n.savePipelineInteraction,N=n.selectedBlock,Y=n.setBlockInteractionsMapping,W=n.setInteractionsMapping,U=n.setPermissions,V=n.setSelectedBlock,F=n.updatePipelineInteraction,G=(0,r.useRef)(null),K=(0,r.useRef)(null),X=(0,r.useRef)(null),J=(0,r.useState)(null),z=J[0],Q=J[1],$=(0,r.useState)(null),nn=$[0],en=$[1],tn=(0,r.useState)(!1),on=tn[0],rn=tn[1],ln=(0,r.useState)(null),cn=ln[0],dn=ln[1],sn=(0,r.useState)(!1),un=sn[0],an=sn[1],vn=(0,r.useState)(null),fn=(vn[0],vn[1]),pn=(0,r.useState)(null),mn=pn[0],hn=pn[1],gn=(0,r.useState)(null),xn=gn[0],jn=gn[1],bn=(0,r.useMemo)((function(){return"undefined"!==typeof m?m:xn}),[m,xn]),Zn=(0,r.useMemo)((function(){return"undefined"!==typeof Z?Z:mn}),[Z,mn]),yn=(0,r.useCallback)((function(n,e){return null!==e&&void 0!==e&&e.initialBootstrap||rn(!0),"undefined"!==typeof Y?Y(n):jn(n)}),[Y,jn,rn]),Pn=(0,r.useCallback)((function(n,e){return null!==e&&void 0!==e&&e.initialBootstrap||rn(!0),"undefined"!==typeof W?W(n):hn(n)}),[W,hn,rn]),In=(0,r.useState)(null),kn=In[0],wn=In[1],Cn=(0,r.useCallback)((function(n,e,t,r){return yn((function(l){var c=(0,o.Z)((null===l||void 0===l?void 0:l[n])||[]);return null!==r&&void 0!==r&&r.remove?c=(0,B.oM)(c,e):c[e]=H(H({},c[e]),t),H(H({},l),{},(0,i.Z)({},n,c))}))}),[yn]),_n=(0,r.useCallback)((function(n,e){en(Number(new Date)),null!==e&&void 0!==e&&e.initialBootstrap||rn(!0),"undefined"!==typeof U?U(n):wn(n)}),[en,U,wn,rn]),On=(0,r.useMemo)((function(){var n;return null===(n="undefined"!==typeof k?k:kn)||void 0===n?void 0:n.map((function(n,e){var t=n.roles,i=n.triggers;return{roles:null===t||void 0===t?void 0:t.map((function(n,t){return{role:"string"===typeof n?n:null===n||void 0===n?void 0:n.role,uuid:"".concat(e,"-").concat(nn,"-").concat(t)}})),triggers:null===i||void 0===i?void 0:i.map((function(n,t){return H(H({},n),{},{uuid:"".concat(e,"-").concat(nn,"-").concat(t)})})),uuid:"".concat(e,"-").concat(nn)}}))}),[nn,k,kn]),En=(0,r.useCallback)((function(){Q(Number(new Date)),rn(!1)}),[Q,rn]),Sn=(0,r.useCallback)((function(){M?null===M||void 0===M||M().then((function(){return En()})):null===F||void 0===F||F(H(H({},O),{},{blocks:bn,interactions:Zn,permissions:null===On||void 0===On?void 0:On.map((function(n){var e=n.roles,t=n.triggers;return{roles:null===e||void 0===e?void 0:e.map((function(n){return"string"===typeof n?n:null===n||void 0===n?void 0:n.role})),triggers:null===t||void 0===t?void 0:t.map((function(n){return{schedule_interval:n.schedule_interval,schedule_type:n.schedule_type}}))}}))})).then((function(){return En()}))}),[bn,Zn,On,O,En,M,F]),Bn=(0,r.useMemo)((function(){return(null===_||void 0===_?void 0:_.blocks)||[]}),[_]),Tn=(0,r.useMemo)((function(){return null===Bn||void 0===Bn?void 0:Bn.reduce((function(n,e,t){return H(H({},n),{},(0,i.Z)({},String(t),!0))}),{})}),[Bn]);(0,r.useEffect)((function(){"undefined"===typeof Z&&!Zn&&(null===b||void 0===b?void 0:b.length)>=1&&Pn((0,B.HK)(b||[],(function(n){return n.uuid})),{initialBootstrap:!0})}),[b,Zn,Z,Pn]),(0,r.useEffect)((function(){"undefined"===typeof m&&!bn&&null!==O&&void 0!==O&&O.blocks&&yn(null===O||void 0===O?void 0:O.blocks,{initialBootstrap:!0})}),[bn,m,O,yn]),(0,r.useEffect)((function(){!On&&null!==O&&void 0!==O&&O.permissions&&_n(null===O||void 0===O?void 0:O.permissions,{initialBootstrap:!0})}),[On,O,_n]);var Mn=(0,r.useMemo)((function(){var n=[],e=(null===Bn||void 0===Bn?void 0:Bn.length)||0;return null===Bn||void 0===Bn||Bn.map((function(t,i){var o=(t||{uuid:null}).uuid,r=(null===bn||void 0===bn?void 0:bn[o])||[],l=(null===r||void 0===r?void 0:r.length)>=1,s=(0,T.jsxs)(u.ZP,{beforeIcon:l?(0,T.jsx)(x.I8,{}):(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(n){(0,S.j)(n),V(t)},primary:!l,secondary:l,small:!0,children:[l&&"Edit interactions",!l&&"Add interactions"]});n.push((0,T.jsx)(c.Z,{first:0==i,noBorderRadius:i>=1,noPaddingContent:!0,titleXPadding:P.cd*P.iI,titleYPadding:1.5*P.iI,title:(0,T.jsxs)(f.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,T.jsx)(g.Z,{mr:P.cd,py:1,children:(0,T.jsx)(q.ZP,{large:!0,monospace:!0,children:o})}),l&&(0,T.jsx)(f.ZP,{alignItems:"center",children:s})]}),children:(0,T.jsx)(w,{noBackground:!0,noBorderRadiusBottom:i<e-1,noBorderRadiusTop:!0,children:(0,T.jsxs)(g.Z,{p:P.cd,children:[!l&&s,null===r||void 0===r?void 0:r.map((function(n,e){return(0,T.jsx)(g.Z,{mt:e>=1?P.HN:0,children:(0,T.jsx)(d.Z,{blockInteraction:n,containerWidth:h,containerRef:G,interaction:null===Zn||void 0===Zn?void 0:Zn[null===n||void 0===n?void 0:n.uuid],setInteractionsMapping:Pn,showVariableUUID:!0})},"".concat(null===n||void 0===n?void 0:n.uuid,"-").concat(e))}))]})})},o))})),n}),[Bn,G,h,Zn,yn,Pn,V]),Nn=(0,r.useMemo)((function(){return(null===Bn||void 0===Bn?void 0:Bn.length)>=1&&(0,T.jsx)(l.Z,{noBackground:!0,noBorder:!0,noBoxShadow:!0,visibleMapping:Tn,children:Mn})}),[Bn,Mn,Tn]),An=(0,r.useMemo)((function(){return(null===bn||void 0===bn?void 0:bn[null===N||void 0===N?void 0:N.uuid])||[]}),[bn,N]),qn=(0,r.useMemo)((function(){var n=[],e={};return null===An||void 0===An||An.forEach((function(t){var i=t.uuid,o=null===Zn||void 0===Zn?void 0:Zn[i],r=null===o||void 0===o?void 0:o.variables;Object.keys(r||{}).forEach((function(t){null!==e&&void 0!==e&&e[t]||(n.push(t),e[t]=!0)}))})),n}),[Zn,An]),Rn=(0,r.useMemo)((function(){var n=(null===An||void 0===An?void 0:An.length)>=1;return(0,T.jsxs)(f.ZP,{alignItems:"center",children:[!un&&(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(u.ZP,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:n,onClick:function(n){(0,S.j)(n),an(!0),setTimeout((function(){var n;return null===K||void 0===K||null===(n=K.current)||void 0===n?void 0:n.focus()}),1)},primary:!0,small:n,children:"Create new set of interactions"})}),un&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(D.Z,{compact:!0,monospace:!0,onChange:function(n){(0,S.j)(n),dn(n.target.value)},onClick:function(n){return(0,S.j)(n)},ref:K,small:!0,value:cn||""}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(u.ZP,{compact:n,loading:y,onClick:function(n){(0,S.j)(n),j({block_uuid:null===N||void 0===N?void 0:N.uuid,inputs:{},layout:[],uuid:"".concat(cn,".").concat(s.t6.YAML),variables:{}}).then((function(n){var e=n.data.interaction,t=null===e||void 0===e?void 0:e.uuid;Cn(null===N||void 0===N?void 0:N.uuid,(null===An||void 0===An?void 0:An.length)||0,{uuid:t}),Pn((function(n){return H(H({},n),{},(0,i.Z)({},t,e))})),setTimeout((function(){var n;null===X||void 0===X||null===(n=X.current)||void 0===n||n.scrollIntoView()}),c.e+100)})),an(!1),fn(cn),dn(null)},primary:!0,small:n,children:"Save interaction"}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(u.ZP,{compact:n,onClick:function(n){(0,S.j)(n),an(!1),dn(null)},secondary:!0,small:n,children:"Cancel"})]})]})}),[N,An,un,y,cn,Pn,an,fn,dn,Cn]);return(0,T.jsxs)(g.Z,{p:P.cd,style:{position:"relative"},children:[(0,T.jsxs)(g.Z,{pb:P.cd,ref:G,children:[!N&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(g.Z,{mb:P.cd,children:(0,T.jsx)(p.Z,{children:"Blocks with interactions"})}),Nn,(0,T.jsxs)(g.Z,{mb:P.cd,mt:P.HN,children:[(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(p.Z,{children:"Permissions"}),(0,T.jsx)(g.Z,{mr:P.cd}),(0,T.jsx)(f.ZP,{alignItems:"center",children:(0,T.jsx)(u.ZP,{beforeIcon:(0,T.jsx)(x.mm,{}),compact:!0,onClick:function(){return _n((function(n){return n.concat([{roles:[],triggers:[]}])}))},secondary:!0,small:!0,children:"Add permission"})})]}),(0,T.jsx)(g.Z,{mt:1,children:(0,T.jsx)(q.ZP,{default:!0,children:"Add permissions to allow specific user roles the ability to trigger this pipeline using the interactions for this pipeline."})})]}),null===On||void 0===On?void 0:On.map((function(n,e){return(0,T.jsx)(g.Z,{mt:e>=1?P.cd:0,children:(0,T.jsx)(A,{index:e,permission:n,setPermissions:_n,updatePermission:function(n){var t=(0,o.Z)(On);t[e]=n,_n(t)}})},"permission-".concat(e))}))]}),N&&(0,T.jsxs)(g.Z,{mb:P.Mq,children:[(0,T.jsxs)(g.Z,{mb:P.Mq,children:[(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(g.Z,{mr:P.cd,py:1,children:(0,T.jsx)(p.Z,{children:"Block interactions"})}),(null===An||void 0===An?void 0:An.length)>=1&&Rn]}),(0,T.jsx)(q.ZP,{default:!0,children:"A block can have multiple sets of interactions associated with it."})]}),!(null!==An&&void 0!==An&&An.length)&&Rn,(null===qn||void 0===qn?void 0:qn.length)>=1&&(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(q.ZP,{bold:!0,large:!0,children:"Variables"}),(0,T.jsx)(g.Z,{mr:P.cd}),(0,T.jsx)(v.Z,{alignItems:"center",flex:1,children:null===qn||void 0===qn?void 0:qn.map((function(n,e){return(0,T.jsx)(g.Z,{mr:1,children:(0,T.jsxs)(q.ZP,{default:!0,monospace:!0,children:[n,(null===qn||void 0===qn?void 0:qn.length)>=2&&e<(null===qn||void 0===qn?void 0:qn.length)-1&&(0,T.jsx)(q.ZP,{inline:!0,monospace:!0,muted:!0,children:","})]})},n)}))})]})]}),null===An||void 0===An?void 0:An.map((function(n,e){var t,i=n||{description:null,name:null},o=i.description,r=i.name,l=null===N||void 0===N?void 0:N.uuid,c=null===n||void 0===n?void 0:n.uuid,s=null===Zn||void 0===Zn?void 0:Zn[c];return(0,T.jsxs)("div",{children:[e>=1&&(0,T.jsx)(g.Z,{my:P.HN,children:(0,T.jsx)(a.Z,{light:!0})}),(0,T.jsx)(d.Z,{blockInteraction:n,containerRef:G,containerWidth:h,interaction:s,isEditing:!0,removeBlockInteraction:function(){return Cn(l,e,n,{remove:!0})},setInteractionsMapping:Pn,children:(0,T.jsxs)(g.Z,{p:P.cd,children:[(0,T.jsxs)(f.ZP,{alignItems:"flex-start",children:[(0,T.jsxs)(g.Z,{mb:1,style:{width:20*P.iI},children:[(0,T.jsx)(q.ZP,{bold:!0,large:!0,children:"Label"}),(0,T.jsxs)(q.ZP,{muted:!0,children:["Add a label for this",(0,T.jsx)("br",{}),"set of interactions."]})]}),(0,T.jsx)(g.Z,{mr:P.cd}),(0,T.jsx)(v.Z,{flex:1,children:(0,T.jsx)(D.Z,{fullWidth:!0,onChange:function(n){return Cn(l,e,{name:n.target.value})},value:r||""})})]}),(0,T.jsx)(g.Z,{mb:P.cd}),(0,T.jsxs)(f.ZP,{alignItems:"flex-start",children:[(0,T.jsxs)(g.Z,{mb:1,style:{width:20*P.iI},children:[(0,T.jsx)(q.ZP,{bold:!0,large:!0,children:"Description"}),(0,T.jsxs)(q.ZP,{muted:!0,children:["Describe how these",(0,T.jsx)("br",{}),"interactions are used."]})]}),(0,T.jsx)(g.Z,{mr:P.cd}),(0,T.jsx)(v.Z,{flex:1,children:(0,T.jsx)(R.Z,{fullWidth:!0,onChange:function(n){return Cn(l,e,{description:n.target.value})},rows:Math.max(3,Math.min(12,null===o||void 0===o||null===(t=o.split("\n"))||void 0===t?void 0:t.length)),value:o||""})})]})]})}),(0,T.jsx)("div",{ref:e===(null===An||void 0===An?void 0:An.length)-1?X:null})]},"".concat(null===n||void 0===n?void 0:n.uuid,"-").concat(e))}))]}),(0,T.jsx)(C,{ref:E,width:(null===G||void 0===G||null===(e=G.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)||null,children:(0,T.jsx)(g.Z,{p:P.cd,children:(0,T.jsxs)(f.ZP,{alignItems:"center",children:[(0,T.jsx)(u.ZP,{beforeIcon:(0,T.jsx)(x.vc,{}),loading:I,onClick:function(){return Sn()},primary:on,secondary:!on,children:"Save changes for all interactions"}),(0,T.jsx)(g.Z,{mr:P.cd}),on&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(x.uy,{warning:!0}),(0,T.jsx)(g.Z,{mr:1}),(0,T.jsx)(q.ZP,{warning:!0,children:"You have unsaved interaction changes"})]}),!on&&z&&(0,T.jsxs)(q.ZP,{muted:!0,children:["Interactions last saved at ",(0,L.JX)(Number(z)/1e3)]})]})})})]})}},30229:function(n,e,t){t.d(e,{PN:function(){return c},TR:function(){return p},U5:function(){return s},Wb:function(){return f},Xm:function(){return r},Z4:function(){return u},fq:function(){return d},gm:function(){return a},kJ:function(){return v}});var i,o,r,l=t(82394),c="__bookmark_values__";!function(n){n.API="api",n.EVENT="event",n.TIME="time"}(r||(r={}));var d,s,u=(i={},(0,l.Z)(i,r.API,(function(){return"API"})),(0,l.Z)(i,r.EVENT,(function(){return"event"})),(0,l.Z)(i,r.TIME,(function(){return"schedule"})),i);!function(n){n.ACTIVE="active",n.INACTIVE="inactive"}(d||(d={})),function(n){n.ONCE="@once",n.HOURLY="@hourly",n.DAILY="@daily",n.WEEKLY="@weekly",n.MONTHLY="@monthly",n.ALWAYS_ON="@always_on"}(s||(s={}));var a,v,f=[s.ONCE,s.HOURLY,s.DAILY,s.WEEKLY,s.MONTHLY];!function(n){n.INTERVAL="frequency[]",n.STATUS="status[]",n.TAG="tag[]",n.TYPE="type[]"}(a||(a={})),function(n){n.CREATED_AT="created_at",n.NAME="name",n.PIPELINE="pipeline_uuid",n.STATUS="status",n.TYPE="schedule_type"}(v||(v={}));var p=(o={},(0,l.Z)(o,v.CREATED_AT,"Created at"),(0,l.Z)(o,v.NAME,"Name"),(0,l.Z)(o,v.PIPELINE,"Pipeline"),(0,l.Z)(o,v.STATUS,"Active"),(0,l.Z)(o,v.TYPE,"Type"),o)}}]);