"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3883],{1210:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(82394),i=t(21831),o=t(82684),l=t(47999),u=t(49894),a=t(93461),c=t(57384),s=t(41424),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var m=o.forwardRef(p),h=t(32063),v=t(85019),b=t(82531),w=t(66166),y=t(3055),g=t(49125),j=t(91427),x=t(24141);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,O=e.afterWidthOverride,_=e.before,C=e.beforeWidth,I=e.breadcrumbs,S=e.children,P=e.errors,k=e.headerMenuItems,N=e.headerOffset,H=e.mainContainerHeader,z=e.navigationItems,D=e.setErrors,M=e.subheaderChildren,E=e.title,A=e.uuid,T=(0,x.i)().width,B="dashboard_after_width_".concat(A),F="dashboard_before_width_".concat(A),q=(0,o.useRef)(null),L=(0,o.useState)(O?p:(0,j.U2)(B,p)),R=L[0],W=L[1],U=(0,o.useState)(!1),G=U[0],Q=U[1],J=(0,o.useState)(_?Math.max((0,j.U2)(F,C),13*g.iI):null),X=J[0],Y=J[1],K=(0,o.useState)(!1),V=K[0],$=K[1],ee=(0,o.useState)(null)[1],ne=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,te=null===ne||void 0===ne?void 0:ne.projects,re=[];I?re.push.apply(re,(0,i.Z)(I)):(null===te||void 0===te?void 0:te.length)>=1&&re.push.apply(re,[{label:function(){var e;return null===(e=te[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return E}}]),(0,o.useEffect)((function(){null===q||void 0===q||!q.current||G||V||null===ee||void 0===ee||ee(q.current.getBoundingClientRect().width)}),[G,R,V,X,q,ee,T]),(0,o.useEffect)((function(){G||(0,j.t8)(B,R)}),[r,G,R,B]),(0,o.useEffect)((function(){V||(0,j.t8)(F,X)}),[V,X,F]);var ie=(0,w.Z)(p);return(0,o.useEffect)((function(){O&&ie!==p&&W(p)}),[O,p,ie]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Z,{title:E}),(0,f.jsx)(s.Z,{breadcrumbs:re,menuItems:k,project:null===te||void 0===te?void 0:te[0],version:null===te||void 0===te||null===(n=te[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===z||void 0===z?void 0:z.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(v.Z,{navigationItems:z,showMore:!0})}),(0,f.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:t,afterHeightOffset:y.Mz,afterHidden:r,afterMousedownActive:G,afterWidth:R,before:_,beforeHeightOffset:y.Mz,beforeMousedownActive:V,beforeWidth:d.k1+(_?X:0),headerOffset:N,hideAfterCompletely:!0,leftOffset:_?d.k1:null,mainContainerHeader:H,mainContainerRef:q,setAfterMousedownActive:Q,setAfterWidth:W,setBeforeMousedownActive:$,setBeforeWidth:Y,children:[M&&(0,f.jsx)(m,{children:M}),S]})})]}),P&&(0,f.jsx)(l.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,f.jsx)(u.Z,Z(Z({},P),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},63153:function(e,n,t){t.d(n,{Z3:function(){return r},ms:function(){return o},s7:function(){return i}});var r=[{autoComplete:"username",label:"Username",required:!0,uuid:"username"},{autoComplete:"email",disabled:!1,label:"Email",required:!0,type:"email",uuid:"email"}],i="password_current",o=[{autoComplete:"current-password",label:"Current password",type:"password",uuid:i},{autoComplete:"new-password",label:"New password",type:"password",uuid:"password"},{autoComplete:"new-password",label:"Confirm new password",type:"password",uuid:"password_confirmation"}]},20582:function(e,n,t){var r=t(82394),i=t(21831),o=t(75582),l=t(21764),u=t(82684),a=t(83455),c=t(60328),s=t(79891),d=t(67971),f=t(87372),p=t(55378),m=t(86673),h=t(82944),v=t(82531),b=t(66166),w=t(63153),y=t(24224),g=t(9736),j=t(7715),x=t(96510),O=t(28598);function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.disabledFields,t=e.entity,Z=void 0===t?"global":t,C=e.entityID,I=e.hideFields,S=e.newUser,P=e.onDeleteSuccess,k=e.onSaveSuccess,N=e.showDelete,H=e.title,z=e.user,D=(0,u.useState)(!0),M=D[0],E=D[1],A=(0,u.useState)({}),T=A[0],B=A[1],F=(0,u.useState)(null),q=F[0],L=F[1],R=((0,g.PR)()||{}).owner,W=v.ZP.roles.list({entity:Z,entity_ids:C?[C]:[],limit_roles:!!S},{revalidateOnFocus:!1}),U=W.data,G=(W.mutate,(0,u.useMemo)((function(){return(null===U||void 0===U?void 0:U.roles)||[]}),[null===U||void 0===U?void 0:U.roles])),Q=(0,a.Db)(S?v.ZP.users.useCreate():v.ZP.users.useUpdate(null===z||void 0===z?void 0:z.id),{onSuccess:function(e){return(0,x.wD)(e,{callback:function(e){var n=e.user,t=w.Z3.concat(w.ms).map((function(e){return e.uuid}));t.push("id");var r=(0,j.GL)(n,t);L(r),l.Am.success(S?"New user created successfully.":"User profile successfully updated.",{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:"user-update-success-".concat(n.id)}),null===k||void 0===k||k(r)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.exception,i=n.message,o=n.type;l.Am.error((null===t||void 0===t?void 0:t.error)||r||i,{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:o})}})}}),J=(0,o.Z)(Q,2),X=J[0],Y=J[1].isLoading,K=(0,a.Db)(v.ZP.users.useDelete(null===z||void 0===z?void 0:z.id),{onSuccess:function(e){return(0,x.wD)(e,{callback:function(){null===P||void 0===P||P()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;alert(r),console.log(t)}})}}),V=(0,o.Z)(K,2),$=V[0],ee=V[1].isLoading,ne=I?(0,i.Z)(I):[];S&&ne.push(w.s7);var te=!ne||!ne.includes(w.s7),re=(0,b.Z)(z);(0,u.useEffect)((function(){if(z&&(!q||(null===re||void 0===re?void 0:re.id)!==(null===z||void 0===z?void 0:z.id))){var e=w.Z3.concat(w.ms).map((function(e){return e.uuid}));L((0,j.GL)(z,e))}null!==q&&void 0!==q&&q.password||null!==q&&void 0!==q&&q.password_confirmation?(null===q||void 0===q?void 0:q.password)!==(null===q||void 0===q?void 0:q.password_confirmation)?B({password_confirmation:"Password confirmation does not match."}):!te||null!==q&&void 0!==q&&q.password_current?B(null):B({password_current:"This field is required."}):null!==q&&void 0!==q&&q.password_current&&te?null!==q&&void 0!==q&&q.password&&null!==q&&void 0!==q&&q.password_confirmation?B(null):B({password:"This field is required.",password_confirmation:"This field is required."}):null!==q&&void 0!==q&&q.password_current||null!==q&&void 0!==q&&q.password||null!==q&&void 0!==q&&q.password_confirmation||B(null)}),[q,te,z,re]);var ie=(0,u.useState)(!1),oe=ie[0],le=ie[1],ue=(0,u.useMemo)((function(){return(oe?null===q||void 0===q?void 0:q.roles_new:null===z||void 0===z?void 0:z.roles_new)||[]}),[q,oe,z]),ae=(0,u.useMemo)((function(){var e=(null===G||void 0===G?void 0:G.map((function(e){return e.id})))||[];return null===ue||void 0===ue?void 0:ue.filter((function(n){var t=n.id;return e.includes(t)}))}),[ue,G]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsx)(f.Z,{children:H||"Edit profile"}),(0,O.jsxs)("form",{children:[w.Z3.filter((function(e){var n=e.uuid;return!ne||!ne.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,i=e.label,o=e.required,l=e.type,u=e.uuid;return(0,O.jsx)(m.Z,{mt:2,children:(0,O.jsx)(h.Z,{autoComplete:n,disabled:t&&!S,label:i,onChange:function(e){E(!1),L((function(n){return _(_({},n),{},(0,r.Z)({},u,e.target.value))}))},primary:!0,required:o,setContentOnMount:!0,type:l,value:(null===q||void 0===q?void 0:q[u])||""})},u)})),!(null!==z&&void 0!==z&&z.owner)&&!(null!==ne&&void 0!==ne&&ne.includes("roles"))&&(0,O.jsxs)(m.Z,{mt:2,children:[(0,O.jsx)(p.Z,{disabled:null===n||void 0===n?void 0:n.includes("roles"),label:"Roles",onChange:function(e){var n=(0,y.sE)(G,(function(n){return n.id==e.target.value}));n&&(E(!1),le(!0),L((function(e){var t={};return(0,y.sE)(ue,(function(e){return e.id==(null===n||void 0===n?void 0:n.id)}))||(t={roles_new:[].concat((0,i.Z)(ue),[n])}),_(_({},e),t)})))},primary:!0,setContentOnMount:!0,children:G.map((function(e){var n=e.id,t=e.name;return(0,O.jsx)("option",{value:n,children:t},t)}))}),(0,O.jsx)(m.Z,{mb:1}),(0,O.jsx)(d.Z,{alignItems:"center",flexWrap:"wrap",children:null===ae||void 0===ae?void 0:ae.map((function(e){var t=e.id,r=e.name;return(0,O.jsx)(m.Z,{mb:1,mr:1,children:(0,O.jsx)(s.Z,{disabled:null===n||void 0===n?void 0:n.includes("roles"),label:r,onClick:function(){E(!1),le(!0),L((function(e){return _(_({},e),{},{roles_new:(0,y.Od)(ue,(function(e){return e.id===t}))})}))},primary:!0})},"user_roles/".concat(r))}))})]}),(0,O.jsxs)(m.Z,{mt:5,children:[(0,O.jsx)(f.Z,{children:S?"Password":"Change password"}),w.ms.filter((function(e){var n=e.uuid;return!ne||!ne.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,i=e.label,o=e.required,l=e.type,u=e.uuid;return(0,O.jsx)(m.Z,{mt:2,children:(0,O.jsx)(h.Z,{autoComplete:n,disabled:t,label:i,meta:{error:null===T||void 0===T?void 0:T[u],touched:!(null===T||void 0===T||!T[u])},onChange:function(e){E(!1),L((function(n){return _(_({},n),{},(0,r.Z)({},u,e.target.value))}))},primary:!0,required:o,setContentOnMount:!0,type:l,value:(null===q||void 0===q?void 0:q[u])||""})},u)}))]}),(0,O.jsx)(m.Z,{mt:5,children:(0,O.jsxs)(d.Z,{children:[(0,O.jsx)(c.Z,{disabled:M||T&&!(0,j.Qr)(T),loading:Y,onClick:function(){var e,n=_({},q);"roles_new"in n&&(n.roles_new=null===(e=q.roles_new)||void 0===e?void 0:e.map((function(e){return e.id})));X({user:n})},primary:!0,children:S?"Create new user":"Update user profile"}),N&&R&&(0,O.jsx)(m.Z,{ml:1,children:(0,O.jsx)(c.Z,{danger:!0,loading:ee,onClick:function(){window.confirm("Are you sure you want to delete ".concat(q.username||q.email,"?"))&&$()},children:"Delete user"})})]})})]})]})}},79891:function(e,n,t){var r=t(38626),i=t(60328),o=t(67971),l=t(86673),u=t(19711),a=t(23831),c=t(10503),s=t(49125),d=t(31012),f=t(28598),p=r.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||a.Z.background).popup,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||a.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((s.iI+d.Al)/2,"px;\n    height: ").concat(1.5*s.iI+d.Al,"px;\n    padding: ").concat(s.iI/1.5,"px ").concat(1.25*s.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((s.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+s.iI/2+2,"px;\n    padding: ").concat(s.iI/4,"px ").concat(s.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||a.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,r=e.disabled,a=e.label,d=e.onClick,m=e.primary,h=e.small;return(0,f.jsx)(p,{border:n,primary:m,small:h,children:(0,f.jsx)(i.Z,{basic:!0,disabled:r,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,f.jsxs)(o.Z,{alignItems:"center",children:[t,a&&(0,f.jsx)(u.ZP,{small:h,children:a}),!r&&(0,f.jsx)(l.Z,{ml:1,children:(0,f.jsx)(c.x8,{default:m,muted:!m,size:h?s.iI:1.25*s.iI})})]})})})}},87372:function(e,n,t){var r,i,o,l,u,a,c,s,d=t(82394),f=t(26304),p=t(26653),m=t(38626),h=t(33591),v=t(23831),b=t(2005),w=t(31012),y=t(19711),g=t(49125),j=t(86673),x=t(28598),O=["children","condensed","inline","level","marketing","spacingBelow"];function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=(0,m.css)([""," margin:0;"," "," "," "," "," "," "," "," "," "," "," "," ",""],y.IH,(function(e){return e.color&&"\n    color: ".concat(e.color,"\n  ")}),(function(e){return e.yellow&&"\n    color: ".concat((e.theme.accent||v.Z.accent).yellow,";\n  ")}),(function(e){return e.center&&"\n    text-align: center;\n  "}),(function(e){return!e.monospace&&0===Number(e.weightStyle)&&"\n    font-family: ".concat(b.iI,";\n  ")}),(function(e){return!e.monospace&&1===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&2===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&3===Number(e.weightStyle)&&"\n    font-family: ".concat(b.ry,";\n  ")}),(function(e){return!e.monospace&&4===Number(e.weightStyle)&&"\n    font-family: ".concat(b.YC,";\n  ")}),(function(e){return!e.monospace&&5===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&(6===Number(e.weightStyle)||e.bold)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&7===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&8===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return e.lineHeightAuto&&"\n    line-height: normal !important;\n  "})),I=m.default.div.withConfig({displayName:"Headline__HeadlineContainerStyle",componentId:"sc-12jzt2e-0"})(["",""],(function(e){return"\n    color: ".concat((e.theme.content||v.Z.content).active,";\n  ")})),S=m.default.h1.withConfig({displayName:"Headline__H1HeroStyle",componentId:"sc-12jzt2e-1"})([""," font-size:42px;line-height:56px;"," "," ",""],C,h.media.md(r||(r=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.lg(i||(i=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.xl(o||(o=(0,p.Z)(["\n    ","\n  "])),w.aQ)),P=m.default.h1.withConfig({displayName:"Headline__H1Style",componentId:"sc-12jzt2e-2"})([""," ",""],C,w.MJ),k=m.default.h1.withConfig({displayName:"Headline__H1MarketingStyle",componentId:"sc-12jzt2e-3"})([""," "," "," "," "," ",""],C,h.media.xs(l||(l=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.sm(u||(u=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.md(a||(a=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.lg(c||(c=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.xl(s||(s=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI)),N=m.default.h2.withConfig({displayName:"Headline__H2Style",componentId:"sc-12jzt2e-4"})([""," ",""],C,w.BL),H=m.default.h3.withConfig({displayName:"Headline__H3Style",componentId:"sc-12jzt2e-5"})([""," font-size:24px;line-height:32px;"],C),z=m.default.h4.withConfig({displayName:"Headline__H4Style",componentId:"sc-12jzt2e-6"})([""," font-size:20px;line-height:28px;"],C),D=m.default.h5.withConfig({displayName:"Headline__H5Style",componentId:"sc-12jzt2e-7"})([""," font-size:18px;line-height:26px;"],C),M=m.default.span.withConfig({displayName:"Headline__SpanStyle",componentId:"sc-12jzt2e-8"})([""," "," "," "," ",""],C,(function(e){return 1===e.level&&"\n    ".concat(w.MJ,"\n  ")}),(function(e){return 2===e.level&&"\n    ".concat(w.BL,"\n  ")}),(function(e){return 3===e.level&&"\n    font-size: 24px;\n    line-height: 32px;\n  "}),(function(e){return 4===e.level&&"\n    font-size: 20px;\n    line-height: 28px;\n  "})),E=function(e){var n,t=e.children,r=e.condensed,i=e.inline,o=e.level,l=e.marketing,u=e.spacingBelow,a=(0,f.Z)(e,O);i?n=M:0===Number(o)?n=S:1===Number(o)?n=l?k:P:2===Number(o)?n=N:3===Number(o)?n=H:4===Number(o)?n=z:5===Number(o)&&(n=D);var c=(0,x.jsxs)(n,_(_({},a),{},{level:o,children:[u&&(0,x.jsx)(j.Z,{mb:r?2:3,children:t}),!u&&t]}));return i?c:(0,x.jsx)(I,{children:c})};E.defaultProps={level:3,weightStyle:6},n.Z=E}}]);