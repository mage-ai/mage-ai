"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3745],{61709:function(n,o,e){e.d(o,{IT:function(){return w},J8:function(){return g},MS:function(){return k},Ts:function(){return b},YW:function(){return C},_o:function(){return m},eY:function(){return p},fA:function(){return h},h5:function(){return x},oI:function(){return y}});var i=e(82394),t=e(44425),l=e(48339),r=e(57653),u=e(82359),d=e(85385),c=e(81728),a=e(55283),s=e(15610);function v(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),e.push.apply(e,i)}return e}function f(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?v(Object(e),!0).forEach((function(o){(0,i.Z)(n,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):v(Object(e)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))}))}return n}var p=function(n,o){var e=(null===o||void 0===o?void 0:o.upstream_blocks)||[];return t.iZ.includes(null===n||void 0===n?void 0:n.type)||t.iZ.includes(null===o||void 0===o?void 0:o.type)||t.tf.DATA_LOADER===(null===o||void 0===o?void 0:o.type)&&t.tf.SENSOR!==n.type||e.push(n.uuid),e},h=function(n,o,e){var i=[];return(null===n||void 0===n?void 0:n.type)!==r.qL.STREAMING||t.iZ.includes(null===o||void 0===o?void 0:o.type)||t.iZ.includes(null===e||void 0===e?void 0:e.type)||(i=i.concat((null===o||void 0===o?void 0:o.downstream_blocks)||[])),i},b=function(n,o,e,i){for(var l,r=[],u=o.findIndex((function(o){return o.uuid===n.uuid}));!l&&u>=0;){var d;l=o[u-1],t.tf.SCRATCHPAD===(null===(d=l)||void 0===d?void 0:d.type)&&(l=null),u-=1}return l&&r.push(l.uuid),t.Ut.map((function(o){return{label:function(){return"Convert to ".concat((0,c.wX)(t.V4[o]))},onClick:function(){return i({converted_from_type:o,converted_from_uuid:n.uuid,type:o,upstream_blocks:r})},uuid:"".concat(e,"/convert_to/").concat(o)}}))},g=function(n,o,e,i,l,r){var c,a,v=n||{},p=v.configuration,h=v.downstream_blocks,b=v.has_callback,g=v.language,k=v.metadata,m=v.replicated_block,x=v.type,y=v.upstream_blocks,C=v.uuid,w=p||{},S=w.dynamic,O=w.reduce_output,j=t.tf.DBT===x,B=[],I=!(null===r||void 0===r||null===(c=r.project)||void 0===c||null===(a=c.features)||void 0===a||!a[u.d.INTERACTIONS]);if(t.tf.SCRATCHPAD!==x&&![t.tf.CALLBACK,t.tf.EXTENSION,t.tf.MARKDOWN].includes(x)){B.push.apply(B,[{label:function(){return j?"Execute and run all upstream blocks":"Execute with all upstream blocks"},onClick:function(){return o({block:n,runUpstream:!0})},uuid:"execute_upstream"},{label:function(){return j?"Execute and run incomplete upstream blocks":"Execute with incomplete upstream blocks"},onClick:function(){return o({block:n,runIncompleteUpstream:!0})},uuid:"execute_incomplete_upstream"}]),j||t.tf.GLOBAL_DATA_PRODUCT===x||B.push({label:function(){return"Execute block and run tests"},onClick:function(){return o({block:n,runTests:!0})},uuid:"run_tests"});var E,T,_,Z,P,D=r||{},A=D.addNewBlock,R=D.blocksMapping,N=D.fetchFileTree,L=D.fetchPipeline,M=D.savePipelineContent,H=D.updatePipeline,U=[];if(null===h||void 0===h||h.forEach((function(n){var o=null===R||void 0===R?void 0:R[n];o&&o.upstream_blocks.forEach((function(n){var o,e;null!==R&&void 0!==R&&null!==(o=R[n])&&void 0!==o&&null!==(e=o.configuration)&&void 0!==e&&e.dynamic&&U.push(R[n])}))})),j&&t.t6.SQL===g)B.unshift.apply(B,[{label:function(){return"Test model"},onClick:function(){return o({block:n,runSettings:{test_model:!0}})},tooltip:function(){return"Execute command dbt test."},uuid:"test_model"},{label:function(){return"Build model"},onClick:function(){return o({block:n,runSettings:{build_model:!0}})},tooltip:function(){return"Execute command dbt build."},uuid:"build_model"},{label:function(){return"Add upstream models"},onClick:function(){H({pipeline:{add_upstream_for_block_uuid:null===n||void 0===n?void 0:n.uuid}})},tooltip:function(){return"Add upstream models for this model to the pipeline."},uuid:"add_upstream_models"}]),null!==k&&void 0!==k&&null!==(E=k.dbt)&&void 0!==E&&null!==(T=E.block)&&void 0!==T&&T.snapshot||B.unshift.apply(B,[{label:function(){return"Run model"},onClick:function(){return o({block:n,runSettings:{run_model:!0}})},tooltip:function(){return"Execute command dbt run."},uuid:"run_model"}]),null!==k&&void 0!==k&&null!==(_=k.dbt)&&void 0!==_&&null!==(Z=_.block)&&void 0!==Z&&Z.snapshot&&B.unshift.apply(B,[{label:function(){return"Run snapshot"},onClick:function(){return o({block:n,runSettings:{run_model:!0}})},tooltip:function(){return"Execute command dbt snapshot."},uuid:"run_model"}]);if(!j&&t.tf.GLOBAL_DATA_PRODUCT!==x&&M&&B.push({label:function(){return S?"Disable block as dynamic":"Set block as dynamic"},onClick:function(){return M({block:f(f({},n),{},{configuration:f(f({},p),{},{dynamic:!S})})})},uuid:"dynamic"}),R||null!==n&&void 0!==n&&n.tags)((null===y||void 0===y?void 0:y.find((function(n){var o,e;return null===R||void 0===R||null===(o=R[n])||void 0===o||null===(e=o.configuration)||void 0===e?void 0:e.dynamic})))||null!==n&&void 0!==n&&null!==(P=n.tags)&&void 0!==P&&P.includes(t.L8.DYNAMIC_CHILD))&&B.push({label:function(){return O?"Don\u2019t reduce output":"Reduce output"},onClick:function(){return M({block:f(f({},n),{},{configuration:f(f({},p),{},{reduce_output:!O})})})},uuid:"reduce_output"});B.push({label:function(){return b?"Remove callback":"Add callback"},onClick:function(){if(b)return M({block:f(f({},n),{},{has_callback:!b})}).then((function(){N(),L()}));(0,s.u)({addon:d.cH.CALLBACKS,sideview:d.cH.ADDON_BLOCKS})},uuid:"has_callback"}),j||B.push({disabled:!!m,label:function(){return"Replicate block"},onClick:function(){return A({replicated_block:C})},uuid:"Replicate block"})}return I&&B.push({label:function(){return"Add / Edit interactions"},onClick:function(){var n;null===r||void 0===r||null===(n=r.openSidekickView)||void 0===n||n.call(r,d.cH.INTERACTIONS)},uuid:"Add interactions"}),B.push({label:function(){return"Delete block"},onClick:function(){e(n),i(!1)},uuid:"delete_block"}),l?[B.pop()]:B};function k(n){var o=n.tags,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=[],l=e.conditionFailed;return null===o||void 0===o||o.forEach((function(n){t.L8.DBT_SNAPSHOT===n?i.push({description:"This is a dbt snapshot file.",title:(0,c.vg)(t.L8.DBT_SNAPSHOT)}):t.L8.DYNAMIC===n?i.push({description:"This block will create N blocks for each of its downstream blocks.",title:(0,c.vg)(t.L8.DYNAMIC)}):t.L8.DYNAMIC_CHILD===n?i.push({description:"This block is dynamically created by its upstream parent block that is dynamic.",title:(0,c.vg)(t.L8.DYNAMIC_CHILD)}):t.L8.REDUCE_OUTPUT===n?i.push({description:"Reduce output from all dynamically created blocks into a single array output.",title:(0,c.vg)(t.L8.REDUCE_OUTPUT)}):t.L8.REPLICA===n?i.push({description:"This block is a replica of another block in the current pipeline.",title:(0,c.vg)(t.L8.REPLICA)}):t.L8.CONDITION===n?l?i.push({description:"This block condition evaluated as false.",title:"Condition unmet"}):i.push({description:"This block has a condition that will be run before its execution.",title:(0,c.vg)(t.L8.CONDITION)}):i.push({title:n})})),i}function m(n){var o=n.block,e=n.dynamic,i=n.dynamicUpstreamBlock,t=n.hasError,l=(n.reduceOutput,n.reduceOutputUpstreamBlock),r=n.selected,u=i&&!l;return{borderColorShareProps:{blockColor:null===o||void 0===o?void 0:o.color,blockType:null===o||void 0===o?void 0:o.type,dynamicBlock:e,dynamicChildBlock:u,hasError:t,selected:r},tags:k(o)}}function x(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o&&(null===o||void 0===o?void 0:o.length)>=0?o.map((function(n){return{data:n,execution_state:l.uF.IDLE,type:l.Gi.TEXT_PLAIN}})):n.filter((function(n){return null===n||void 0===n?void 0:n.type}))}function y(n){return{hasError:!!n.find((function(n){return n.error})),hasOutput:n.length>=1}}var C=function(){return Object.values(t.Lq).reduce((function(n,o){return f(f({},n),{},(0,i.Z)({},o,(0,a.qn)(t.tf.CUSTOM,{blockColor:o}).accent))}),{})};function w(n,o,e){var i=null===n||void 0===n?void 0:n.reduce((function(n,o){return o?n.concat(o):n}),[]),t=(null===i||void 0===i?void 0:i[(null===i||void 0===i?void 0:i.length)-1])||0;return(.25*Math.min(t,e)||0)/o}},47001:function(n,o,e){e.d(o,{Gi:function(){return c},Go:function(){return p},I5:function(){return f},Pq:function(){return s},RJ:function(){return a},YF:function(){return d},ZG:function(){return u},ze:function(){return v}});var i=e(38626),t=e(44897),l=e(42631),r=e(70515),u=3*r.iI,d=2,c=i.default.div.withConfig({displayName:"indexstyle__NodeContainerStyle",componentId:"sc-kc7274-0"})(["min-width:fit-content;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(function(n){return!n.isDragging&&"\n    &:hover {\n      cursor: pointer;\n    }\n  "}),(function(n){return n.isDragging&&"\n    cursor: grab;\n  "}),(function(n){return!n.active&&(n.isCancelled||n.disabled)&&"\n    // opacity doesn\u2019t work on Safari\n    border: ".concat(d,"px dotted ").concat((n.theme.content||t.Z.content).muted,";\n    cursor: not-allowed;\n    opacity: 0.5;\n  ")}),(function(n){return(!n.selected||!n.backgroundGradient)&&!n.active&&n.borderColorBottom&&"\n    border-bottom-color: ".concat(n.borderColorBottom,";\n    border-width: ").concat(d,"px;\n  ")}),(function(n){return(!n.selected||!n.backgroundGradient)&&!n.active&&n.borderColorLeft&&"\n    border-left-color: ".concat(n.borderColorLeft,";\n    border-width: ").concat(d,"px;\n  ")}),(function(n){return(!n.selected||!n.backgroundGradient)&&!n.active&&n.borderColorRight&&"\n    border-right-color: ".concat(n.borderColorRight,";\n    border-width: ").concat(d,"px;\n  ")}),(function(n){return(!n.selected||!n.backgroundGradient)&&!n.active&&n.borderColorTop&&"\n    border-top-color: ".concat(n.borderColorTop,";\n    border-width: ").concat(d,"px;\n  ")}),(function(n){return n.selected&&!n.active&&n.backgroundGradient&&"\n    background: ".concat(n.backgroundGradient,";\n    padding: ").concat(d,"px;\n  ")}),(function(n){return!n.borderDeemphasized&&"\n    border-style: solid;\n  "}),(function(n){return n.borderDeemphasized&&"\n    border-style: double;\n  "}),(function(n){return!n.borderRadiusLarge&&"\n    border-radius: ".concat(l.n_,"px;\n  ")}),(function(n){return n.borderRadiusLarge&&"\n    border-radius: ".concat(l.Ro,"px;\n  ")}),(function(n){return n.active&&(n.borderColorBottom||n.borderColorLeft||n.borderColorRight||n.borderColorTop)&&"\n    animation: border-dance ".concat(null!==n&&void 0!==n&&n.activeSlow?"2s":".5s"," infinite linear;\n    background: linear-gradient(90deg, ").concat(n.borderColorTop||n.borderColorBottom||n.borderColorLeft||n.borderColorRight," 50%, transparent 50%),\n      linear-gradient(90deg, ").concat(n.borderColorRight||n.borderColorTop||n.borderColorBottom||n.borderColorLeft," 50%, transparent 50%),\n      linear-gradient(0deg, ").concat(n.borderColorLeft||n.borderColorRight||n.borderColorTop||n.borderColorBottom," 50%, transparent 50%),\n      linear-gradient(0deg, ").concat(n.borderColorBottom||n.borderColorLeft||n.borderColorRight||n.borderColorTop," 50%, transparent 50%);\n    background-repeat: repeat-x, repeat-x, repeat-y, repeat-y;\n    padding: ").concat(d,"px;\n\n    @keyframes border-dance {\n      0% {\n        background-position: left top,\n          right bottom,\n          left bottom,\n          right top;\n      }\n      100% {\n        background-position: left 15px top,\n          right 15px bottom,\n          left bottom 15px,\n          right top 15px;\n      }\n    }\n  ")}),(function(n){return n.active&&(n.borderColorBottom||n.borderColorLeft||n.borderColorRight||n.borderColorTop)&&!n.noBackground&&"\n    background-size: 15px 4px, 15px 4px, 4px 15px, 4px 15px;\n  "}),(function(n){return n.active&&(n.borderColorBottom||n.borderColorLeft||n.borderColorRight||n.borderColorTop)&&n.noBackground&&"\n    background-size: 15px 1.5px, 15px 1.5px, 1.5px 15px, 1.5px 15px;\n  "}),(function(n){return n.height&&"\n    height: ".concat(n.height,"px;\n  ")}),(function(n){return n.opacity&&"\n    opacity: ".concat(n.opacity,";\n  ")})),a=i.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-kc7274-1"})(["border-radius:","px;min-width:fit-content;overflow:hidden;"," "," "," "," ",""],l.n_,(function(n){return!n.noBackground&&"\n    background-color: ".concat((n.theme.background||t.Z.background).codeTextarea,";\n  ")}),(function(n){return n.isConditionFailed&&"\n    background-color: ".concat((n.theme.content||t.Z.content).disabled,";\n    cursor: not-allowed;\n  ")}),(function(n){return n.isConditionFailed&&"\n    background-color: ".concat((n.theme.content||t.Z.content).disabled,";\n    cursor: not-allowed;\n  ")}),(function(n){return n.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(n){return n.height&&"\n    height: ".concat(n.height,"px;\n  ")})),s=i.default.div.withConfig({displayName:"indexstyle__StatusStyle",componentId:"sc-kc7274-2"})(["height:","px;width:","px;"],2*r.iI,2*r.iI),v=i.default.div.withConfig({displayName:"indexstyle__IconStyle",componentId:"sc-kc7274-3"})(["align-items:center;border-radius:","px;border:2px solid transparent;display:flex;height:","px;justify-content:center;width:","px;"," ",""],l.BG,5*r.iI,5*r.iI,(function(n){return n.backgroundColor&&"\n    background-color: ".concat(n.backgroundColor,";\n    border-color: ").concat(n.backgroundColor,";\n  ")}),(function(n){return n.borderColor&&"\n    border-color: ".concat(n.borderColor,";\n  ")})),f=i.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-kc7274-4"})(["padding:","px;",""],1*r.iI,(function(n){return"\n    background-color: ".concat((n.theme.background||t.Z.background).dashboard,";\n  ")})),p=i.default.div.withConfig({displayName:"indexstyle__BodyStyle",componentId:"sc-kc7274-5"})(["padding-left:","px;padding-right:","px;"],1*r.iI,1*r.iI);i.default.div.withConfig({displayName:"indexstyle__RuntimeStyle",componentId:"sc-kc7274-6"})(["margin-right:","px;padding:12px 4px;height:100%;width:50px;background:rgba(0,0,0,0.2);background-blend-mode:soft-light;"],2*r.iI)},99543:function(n,o,e){e.d(o,{DS:function(){return s},HI:function(){return B},SX:function(){return f},YE:function(){return p},_7:function(){return w},p1:function(){return j},qj:function(){return S},rQ:function(){return y}});var i=e(21831),t=e(44425),l=e(57653),r=e(47001),u=e(70515),d=e(61709),c=e(44375),a=e(4804),s=u.cd,v=u.cd*u.iI,f=2*u.iI,p=8.62,h=7.43,b=2*r.YF,g=2*r.YF,k=2*u.iI+5*u.iI,m=2*u.iI+5*u.iI+v+v+f,x=30*u.iI;function y(n){var o=(0,d.MS)(n);if((null===o||void 0===o?void 0:o.length)>=1)return(null===o||void 0===o?void 0:o.map((function(n){return n.title})).join(", "))||"";if(t.tf.GLOBAL_DATA_PRODUCT===(null===n||void 0===n?void 0:n.type)){var e,i=null===n||void 0===n||null===(e=n.configuration)||void 0===e?void 0:e.global_data_product;if(null!==i&&void 0!==i&&i.uuid)return null===i||void 0===i?void 0:i.uuid}return t.dO[null===n||void 0===n?void 0:n.language]||""}function C(n,o){var e,i,r,u=n.description,d=n.name,s=n.type,v=u||(null===t.V4||void 0===t.V4?void 0:t.V4[s])||s;if(l.qL.INTEGRATION===(null===o||void 0===o?void 0:o.type)&&t.tf.TRANSFORMER!==n.type){var f,p,h={};if(t.t6.YAML===n.language&&(null===n||void 0===n||null===(f=n.content)||void 0===f?void 0:f.length)>=1&&(h=(0,a.Qc)(n.content)),t.tf.DATA_LOADER===n.type)r="".concat(n.uuid,": ").concat(null===(p=h)||void 0===p?void 0:p.source);else if(t.tf.DATA_EXPORTER===n.type){var b;r="".concat(n.uuid,": ").concat(null===(b=h)||void 0===b?void 0:b.destination)}}else if(t.tf.DBT===n.type&&t.t6.SQL===n.language){var g=(0,c.IU)(n),k=g.name,m=g.project;r=k,v="".concat(v,"/").concat(m)}return null!==n&&void 0!==n&&n.replicated_block&&(r=d&&u?d:null===n||void 0===n?void 0:n.uuid,u||(v=null===n||void 0===n?void 0:n.replicated_block)),(null===n||void 0===n||null===(e=n.uuid)||void 0===e||null===(i=e.split(":"))||void 0===i?void 0:i.length)>=2&&d&&(r=d),r||(r=n.uuid),{displayText:r,subtitle:v}}function w(n,o){return C(n,o).displayText||""}function S(n,o){return C(n,o).subtitle||""}function O(n){var o=0;return null===n||void 0===n||n.forEach((function(n,e){var i=n.uuid;o+=4+i.length*h,e>=1&&(o+=4)})),o}function j(n,o,e){var i,t=0,l=b+k,r=B(n,o,e)-(g+2*u.iI),d=y(n),c=(null===d||void 0===d?void 0:d.length)*h;if(c>=1){var a=1;c>r&&(a=Math.ceil(c/r)),t+=1,l+=18*a}var s=e||{},v=s.blockStatus;return[s.callbackBlocks,s.conditionalBlocks,s.extensionBlocks].forEach((function(n){if((null===n||void 0===n?void 0:n.length)>=1){var o=O(n),e=1;o>r&&(e=Math.ceil(o/r)),t+=1,l+=18.5*e+4*(e-1)}})),"undefined"!==typeof(null===v||void 0===v||null===(i=v[n.uuid])||void 0===i?void 0:i.runtime)&&(l+=18,t+=1),l+=(t+=1)*(1*u.iI)}function B(n,o,e){var t,l,r=Math.max((null===(t=w(n,o))||void 0===t?void 0:t.length)*p,(null===(l=S(n,o))||void 0===l?void 0:l.length)*h),u=y(n),d=(null===u||void 0===u?void 0:u.length)*h,c=e||{},a=c.callbackBlocks,s=c.conditionalBlocks,v=c.extensionBlocks,f=Math.max.apply(Math,(0,i.Z)([a,s,v].map((function(n){return O(n)})).concat(d)));return f>r&&(r=Math.min(x,f)),g+m+r}},21978:function(n,o,e){e.d(o,{Jo:function(){return l},WN:function(){return u},bJ:function(){return r},rl:function(){return i}});var i,t=e(44425),l=(e(70515).iI,1e4),r={height:10,width:10},u={height:6,width:6};t.tf.DATA_EXPORTER,t.tf.SENSOR,t.Lq.GREY,t.Lq.PINK,t.Lq.TEAL,t.Lq.YELLOW;!function(n){n.NORTH="NORTH",n.SOUTH="SOUTH"}(i||(i={}))},55187:function(n,o,e){e.d(o,{$4:function(){return v},dg:function(){return c},ki:function(){return a}});var i=e(75582),t=e(38626),l=e(44897),r=e(42631),u=e(47041),d=e(70515),c=2;function a(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.Z,o={};return[null===n||void 0===n?void 0:n.accent,null===n||void 0===n?void 0:n.content,null===n||void 0===n?void 0:n.monotone].forEach((function(n){Object.entries(n).forEach((function(n){var e=(0,i.Z)(n,2),t=e[0],l=e[1];o[l]=t}))})),o}var s=Object.entries(a()).reduce((function(n,o){var e=(0,i.Z)(o,2),t=e[0],l=e[1];return n.concat("\n    .edge-rect-".concat(l," {\n      rect {\n        fill: ").concat(t,";\n      }\n    }\n\n    .edge-line-").concat(l," {\n      line {\n        stroke: ").concat(t,";\n      }\n    }\n  "))}),[]),v=t.default.div.withConfig({displayName:"indexstyle__GraphContainerStyle",componentId:"sc-bc2ei5-0"})(["position:relative;div{","}"," .edge{&.activeSlow{animation:dashdraw 2s linear infinite;stroke-dasharray:5;stroke-width:",";}&.active{animation:dashdraw .5s linear infinite;stroke-dasharray:5;stroke-width:",";}&.inactive{}&.selected-twice{stroke-dasharray:4 2 4 2 4 8;stroke-width:",";}&.selected-twice.group{stroke-dasharray:8 24;stroke-width:",";}}@keyframes dashdraw{0%{stroke-dashoffset:10;}}.edge-rect{rect{fill:none;}}.edge-line{line{stroke-width:","px;}}.edge-line-remove{line{","}}",""],u.w5,(function(n){return n.height&&"\n    height: ".concat(n.height,"px;\n  ")}),c,c,c,c,d.iI/4,(function(n){return"\n        stroke: ".concat((n.theme.accent||l.Z.accent).negative,";\n      ")}),s.join("\n"));t.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border-radius:","px;border:1px solid transparent;min-width:fit-content;"," "," "," "," "," ",""],r.BG,(function(n){return n.selected&&"\n    border-color: ".concat((n.theme.content||l.Z.content).active,";\n  ")}),(function(n){return n.backgroundColor&&"\n    background-color: ".concat(n.backgroundColor,";\n  ")}),(function(n){return(n.isCancelled||n.disabled)&&"\n    // opacity doesn\u2019t work on Safari\n    border-color: ".concat((n.theme.content||l.Z.content).active,";\n    border-style: dashed;\n    cursor: not-allowed;\n  ")}),(function(n){return n.isConditionFailed&&"\n    background-color: ".concat((n.theme.content||l.Z.content).disabled,";\n    cursor: not-allowed;\n  ")}),(function(n){return n.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(n){return n.height&&"\n    height: ".concat(n.height,"px;\n  ")})),t.default.div.withConfig({displayName:"indexstyle__RuntimeStyle",componentId:"sc-bc2ei5-2"})(["margin-right:","px;padding:12px 4px;height:100%;width:50px;background:rgba(0,0,0,0.2);background-blend-mode:soft-light;"],2*d.iI)},24138:function(n,o,e){e.d(o,{Xz:function(){return In},kS:function(){return Tn},NB:function(){return En},GR:function(){return _n},ZP:function(){return Zn}});var i=e(75582),t=e(21831),l=e(82394),r=e(26304),u=e(77837),d=e(38860),c=e.n(d),a=e(51774),s=e.n(a),v=e(38626),f=e(82684),p=e(69864),h=e(79757),b=e(44425),g=e(39867),k=e(97618),m=e(55485),x=e(38276),y=e(30160),C=e(72473),w=e(47001),S=e(99543),O=e(55283),j=e(21978),B=e(41143),I=e(70515),E=e(86735);var T=e(61709),_=e(81728);function Z(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),e.push.apply(e,i)}return e}function P(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?Z(Object(e),!0).forEach((function(o){(0,l.Z)(n,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):Z(Object(e)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))}))}return n}var D=function(n){var o=n/1e3,e=4-Math.floor(o).toString().length,i=(0,_.QV)(o,e>=0?e:0),t="s";return i>1e3&&(i=(0,_.QV)(i/60,0),t="m"),"".concat(i).concat(t)};function A(n){return"parent\u2192".concat(n)}function R(n){return["parent"].concat((0,E.YC)(n,(function(n){return n}))).join("\u2192")}function N(n,o){return"".concat(o,"\u2192").concat(n)}function L(n,o){return{from:o,fromPort:"".concat(o,"\u2192").concat(n,":from"),id:N(n,o),to:n,toPort:"".concat(o,"\u2192").concat(n,":to")}}function M(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[n,o,"from"].filter((function(n){return n})).join("\u2192")}function H(n,o,e){var i,t={},l=P(P({},j.WN),{},{disabled:!0});if(null!==e&&void 0!==e&&null!==(i=e.activeNodes)&&void 0!==i&&i[n]&&(l.height=0,l.width=0),(null===o||void 0===o?void 0:o.length)>=1)o.forEach((function(o){var e=M(n,o);t[e]=P(P({},l),{},{id:e,side:j.rl.SOUTH})}));else{var r=M(n);t[r]=P(P({},l),{},{id:r,side:j.rl.SOUTH})}return t}function U(n){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return[o,n,"to"].filter((function(n){return n})).join("\u2192")}function G(n,o,e){var i,t={},l=P(P({},j.WN),{},{disabled:!0});if(null!==e&&void 0!==e&&null!==(i=e.activeNodes)&&void 0!==i&&i[n]&&(l.height=0,l.width=0),(null===o||void 0===o?void 0:o.length)>=1)o.forEach((function(o){var e=U(n,o);t[e]=P(P({},l),{},{id:e,side:j.rl.NORTH})}));else{var r=U(n);t[r]=P(P({},l),{},{id:r,side:j.rl.NORTH})}return t}function W(n){var o,e=n.activeNodes,r=n.blockStatus,u=(n.blockUUIDMapping,n.blocks),d=n.callbackBlocksByBlockUUID,c=n.conditionalBlocksByBlockUUID,a=n.downstreamBlocksMapping,s=n.enablePorts,v=n.extensionBlocksByBlockUUID,f=n.nodeHovering,p=n.pipeline,h=n.selectedBlock,b=P({},e);f&&(b[null===f||void 0===f?void 0:f.id]=f);var g={},k={},m={},x=(0,E.HK)(u||[],(function(n){return n.uuid})),y={};null===u||void 0===u||u.forEach((function(n){var o;if((null===n||void 0===n||null===(o=n.upstream_blocks)||void 0===o?void 0:o.length)>=1){var e=(null===n||void 0===n?void 0:n.upstream_blocks)||[],i=(0,E.YC)((0,t.Z)(e),(function(n){return n})).join(",");i in y||(y[i]={downstreamBlocks:[],upstreamBlocks:null===e||void 0===e?void 0:e.reduce((function(n,o){var e=null===x||void 0===x?void 0:x[o];return e?n.concat(e):n}),[])}),y[i].downstreamBlocks.push(n)}}));var C={},w={};Object.values(y||{}).forEach((function(n){var o=n.downstreamBlocks,e=n.upstreamBlocks;if((null===o||void 0===o?void 0:o.length)>=2){var i={};null===o||void 0===o||o.forEach((function(n){var o=n.downstream_blocks;if((null===o||void 0===o?void 0:o.length)>=1){var e=(0,E.YC)(o||[],(function(n){return n})).join(",");e in i||(i[e]=0),i[e]+=1}}));var l=Object.values(i||{})||[],r=Math.max.apply(Math,(0,t.Z)(l));(null===l||void 0===l||!l.length||r>=2)&&(null===o||void 0===o||o.forEach((function(o){var e=null===o||void 0===o?void 0:o.uuid;e in C||(C[e]=[]),C[e].push(n)})),null===e||void 0===e||e.forEach((function(o){var e=null===o||void 0===o?void 0:o.uuid;e in w||(w[e]=[]),w[e].push(n)})))}})),null===u||void 0===u||u.forEach((function(n){n.tags;var o=n.upstream_blocks,e=void 0===o?[]:o,i=n.uuid,t=a[i];i in m||(m[i]={});var u=null===d||void 0===d?void 0:d[null===n||void 0===n?void 0:n.uuid],s=null===c||void 0===c?void 0:c[null===n||void 0===n?void 0:n.uuid],f=null===v||void 0===v?void 0:v[null===n||void 0===n?void 0:n.uuid];g[i]={data:{block:n},height:(0,S.p1)(n,p,{blockStatus:r,callbackBlocks:u,conditionalBlocks:s,extensionBlocks:f}),id:i,width:(0,S.HI)(n,p,{blockStatus:r,callbackBlocks:u,conditionalBlocks:s,extensionBlocks:f})};var h={height:null!==b&&void 0!==b&&b[i]?2*I.iI:0,width:null!==b&&void 0!==b&&b[i]?2*I.iI:0},x="".concat(i,"-upstream-add"),y=function(n){return"".concat(n,"-dowstream-add")}(i);if(m[i][x]=P(P({},h),{},{id:x,side:j.rl.NORTH}),m[i][y]=P(P({},h),{},{id:y,side:j.rl.SOUTH}),!(i in C)){(null===e||void 0===e?void 0:e.length)>=1&&(m[i]=P(P({},null===m||void 0===m?void 0:m[i]),G(i,e,{activeNodes:b})),null===e||void 0===e||e.forEach((function(n){var o=L(i,n);k[o.id]=o})));var O=(null===w||void 0===w?void 0:w[i])||[],B=null===O||void 0===O?void 0:O.reduce((function(n,o){var e;return P(P({},n),null===o||void 0===o||null===(e=o.downstreamBlocks)||void 0===e?void 0:e.reduce((function(n,o){return P(P({},n),{},(0,l.Z)({},null===o||void 0===o?void 0:o.uuid,o))}),{}))}),{});null===t||void 0===t||t.forEach((function(n){var o=n.uuid;o in B||(m[i]=P(P({},null===m||void 0===m?void 0:m[i]),H(i,[o],{activeNodes:b})))}))}}));var O={};null===(o=Object.entries(w||{}))||void 0===o||o.forEach((function(n){var o=(0,i.Z)(n,2),e=(o[0],o[1]);null===e||void 0===e||e.forEach((function(n){var o=n.downstreamBlocks,e=n.upstreamBlocks,i=R(null===e||void 0===e?void 0:e.reduce((function(n,o){return o&&null!==o&&void 0!==o&&o.uuid?n.concat(null===o||void 0===o?void 0:o.uuid):n}),[]));i in O||(O[i]={downstreamBlocks:o,upstreamBlocks:e})}))}));var B={};return Object.entries(O||{}).forEach((function(n){var o,e=(0,i.Z)(n,2),t=e[0],l=e[1],r=l.downstreamBlocks,u=l.upstreamBlocks,d={data:{block:null===u||void 0===u?void 0:u[0],blocks:u,children:r},id:t};g[t]=d;var c=function(n,o,e,t,l){(0,E.YC)((null===n||void 0===n?void 0:n.map((function(n){return n.uuid})))||[],(function(n){return n.uuid}));var r,u={};null===n||void 0===n||n.forEach((function(n){var e=n.uuid,i=null===o||void 0===o?void 0:o[e];null===i||void 0===i||i.forEach((function(o){o.downstreamBlocks;var e=o.upstreamBlocks,i=R((0,E.YC)((null===e||void 0===e?void 0:e.map((function(n){return n.uuid})))||[],(function(n){return n.uuid})));i in u||(u[i]=[]),u[i].push(n)}))}));var d={};if(Object.entries(u||{}).forEach((function(n){var o=(0,i.Z)(n,2),l=(o[0],o[1]),r=null===l||void 0===l?void 0:l.filter((function(n){var o=n.uuid;return null===e||void 0===e?void 0:e[o]})),u=R(null===r||void 0===r?void 0:r.map((function(n){return n.uuid})));if(u in t){var c=null===t||void 0===t?void 0:t[u];d[u]=c}})),(null===(r=Object.keys(d))||void 0===r?void 0:r.length)>=1)return d}(r,C,w,O);c&&(B[t]=c);var a=null===(o=Object.values(c||{}))||void 0===o?void 0:o.reduce((function(n,o){var e=o.upstreamBlocks;return n.concat(null===e||void 0===e?void 0:e.map((function(n){return n.uuid})))}),[]);null===r||void 0===r||r.forEach((function(n){var o=n.uuid;null!==a&&void 0!==a&&a.includes(o)||!(o in g)||(g[o].parent=t)})),null===u||void 0===u||u.forEach((function(n){var o=null===n||void 0===n?void 0:n.uuid;null===r||void 0===r||r.forEach((function(n){var e=n.uuid;if((null===h||void 0===h?void 0:h.uuid)===o||(null===h||void 0===h?void 0:h.uuid)===e){var i=L(e,o);k[i.id]=i,m[o]=P(P({},null===m||void 0===m?void 0:m[o]),H(o,[e],{activeNodes:b})),m[e]=P(P({},null===m||void 0===m?void 0:m[e]),G(e,[o],{activeNodes:b}))}}));var e=L(t,o);k[e.id]=e,m[o]=P(P({},null===m||void 0===m?void 0:m[o]),H(o,[t],{activeNodes:b})),m[t]=P(P({},null===m||void 0===m?void 0:m[t]),G(t,[o],{activeNodes:b}))}))})),Object.entries(B||{}).forEach((function(n){var o=(0,i.Z)(n,2),e=o[0],t=o[1];Object.entries(t||{}).forEach((function(n){var o=(0,i.Z)(n,2),t=o[0],l=o[1],r=l.downstreamBlocks,u=l.upstreamBlocks,d=R([e,t]),c={data:{block:null===u||void 0===u?void 0:u[0],blocks:u,children:r},id:d,parent:e};g[d]=c,null===u||void 0===u||u.forEach((function(n){var o=n.uuid;o in g&&(g[o].parent=d);var e=N(t,o);if(e in k&&delete k[e],o in m){var i=M(o,t);i in(null===m||void 0===m?void 0:m[o])&&delete m[o][i]}if(t in m){var l=U(t,o);l in(null===m||void 0===m?void 0:m[t])&&delete m[t][l]}}));var a=L(t,d);k[a.id]=a,m[d]=P(P({},null===m||void 0===m?void 0:m[d]),H(d,[t],{activeNodes:b})),m[t]=P(P({},null===m||void 0===m?void 0:m[t]),G(t,[d],{activeNodes:b}))}))})),s&&Object.entries(m).forEach((function(n){var o=(0,i.Z)(n,2),e=o[0],t=o[1],l=null===g||void 0===g?void 0:g[e];l&&(l.ports=Object.values(t))})),{blocksWithDownstreamBlockSet:w,edges:Object.values(k||{}),nodes:Object.values(g||{}),ports:m}}function F(n){var o=n.block,e=n.blockStatus,i=n.messages,t=n.noStatus,l=n.runningBlocks,r=n.runningBlocksMapping;if(t||!o)return{};if(e){var u=(null===e||void 0===e?void 0:e[function(n){var o=n.uuid,e=n.replicated_block;return e?"".concat(o,":").concat(e):o}(o)])||{},d=u.status,c=u.runtime;return{hasFailed:B.V.FAILED===d,isCancelled:B.V.CANCELLED===d,isConditionFailed:B.V.CONDITION_FAILED===d,isInProgress:B.V.RUNNING===d,isQueued:B.V.INITIAL===d,isSuccessful:B.V.COMPLETED===d,runtime:c}}var a,s=(0,T.h5)((null===i||void 0===i?void 0:i[null===o||void 0===o?void 0:o.uuid])||[]),v=(0,T.oI)(s),f=v.hasError,p=v.hasOutput,h=!(null===r||void 0===r||!r[null===o||void 0===o?void 0:o.uuid]);return{hasFailed:!h&&(f||b.DA.FAILED===o.status),isInProgress:h,isQueued:h&&(null===(a=l[0])||void 0===a?void 0:a.uuid)!==o.uuid,isSuccessful:!h&&(!f&&p||b.DA.EXECUTED===o.status)}}var V,Y=e(28598);function z(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),e.push.apply(e,i)}return e}function X(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?z(Object(e),!0).forEach((function(o){(0,l.Z)(n,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):z(Object(e)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))}))}return n}var q=(V={},(0,l.Z)(V,b.tf.DATA_EXPORTER,C.zS),(0,l.Z)(V,b.tf.DATA_LOADER,C.rH),(0,l.Z)(V,b.tf.DBT,C.xE),(0,l.Z)(V,b.tf.GLOBAL_DATA_PRODUCT,C.ie),(0,l.Z)(V,b.tf.SENSOR,C.LM),(0,l.Z)(V,b.tf.TRANSFORMER,C.Sv),V);var K=function(n){var o=n.anotherBlockSelected,e=n.block,i=n.blocksWithSameDownstreamBlocks,r=n.callbackBlocks,u=n.children,d=n.conditionalBlocks,c=n.disabled,a=n.downstreamBlocks,s=n.extensionBlocks,p=n.hasFailed,j=n.height,B=n.hideNoStatus,I=n.hideStatus,T=n.isCancelled,_=n.isConditionFailed,Z=n.isDragging,P=n.isInProgress,A=n.isQueued,R=n.isSuccessful,N=n.opacity,L=n.pipeline,M=n.runtime,H=n.selected,U=n.selectedBlock,G=(0,f.useContext)(v.ThemeContext),W=!(P||A||p||R||T||_),F=p&&!(P||A),V=!F&&R&&!(P||A),z="";W?z="No status":V?z="Successful execution":F?z="Failed execution":P?z="Currently executiing":T&&(z="Cancelled execution");var K=e.color,Q=e.runtime,J=e.type,$=(0,O.qn)(J,{blockColor:K,theme:G}),nn=$.accent,on=$.accentLight,en=(0,f.useMemo)((function(){return(0,S.rQ)(e)}),[e]),tn=(0,f.useMemo)((function(){var n,o,e=q[J]||C.EJ,i=!1;return[b.tf.CALLBACK,b.tf.CHART,b.tf.CONDITIONAL,b.tf.CUSTOM,b.tf.DATA_EXPORTER,b.tf.DATA_LOADER,b.tf.EXTENSION,b.tf.SCRATCHPAD,b.tf.SENSOR,b.tf.MARKDOWN,b.tf.TRANSFORMER].includes(J)?n=nn:[b.tf.DBT].includes(J)&&(o=nn),[b.tf.DATA_EXPORTER].includes(J)&&(i=!0),(0,Y.jsx)(w.ze,{backgroundColor:n,borderColor:o,children:(0,Y.jsx)("div",{style:{height:w.ZG,width:w.ZG},children:(0,Y.jsx)(e,{inverted:i,size:w.ZG})})})}),[nn,J]),ln=(0,f.useMemo)((function(){var n=[],e=[];if(A)(0,E.w6)(4).forEach((function(){var o,i;n.push(null===G||void 0===G||null===(o=G.content)||void 0===o?void 0:o.muted),e.push(null===G||void 0===G||null===(i=G.content)||void 0===i?void 0:i.muted)}));else if((null===i||void 0===i?void 0:i.length)>=2&&(null===a||void 0===a?void 0:a.length)>=1){var r,u=[];null!==i&&void 0!==i&&i.find((function(n){var o=n.uuid;return(null===U||void 0===U?void 0:U.uuid)===o}))?u.push(U):u.push.apply(u,(0,t.Z)(i)),null===u||void 0===u||null===(r=u.slice(0,4))||void 0===r||r.forEach((function(o){var i=(0,O.qn)(null===o||void 0===o?void 0:o.type,{blockColor:null===o||void 0===o?void 0:o.color,theme:G}),t=i.accent,l=i.accentLight;n.push(l),e.push(t)}))}else n.push.apply(n,[on,on,on,on]),e.push.apply(e,[nn,nn,nn,nn]);if((null===n||void 0===n?void 0:n.length)<4)for(var d=0,c=(null===n||void 0===n?void 0:n.length)||0;(null===n||void 0===n?void 0:n.length)<4;)n.push(null===n||void 0===n?void 0:n[d]),(d+=1)===c&&(d=0);if((null===e||void 0===e?void 0:e.length)<4)for(var s=0,v=(null===e||void 0===e?void 0:e.length)||0;(null===e||void 0===e?void 0:e.length)<4;)e.push(null===e||void 0===e?void 0:e[s]),(s+=1)===v&&(s=0);return["borderColorBottom","borderColorLeft","borderColorRight","borderColorTop"].reduce((function(i,t,r){return X(X({},i),{},(0,l.Z)({},t,!H&&o?null===n||void 0===n?void 0:n[r]:null===e||void 0===e?void 0:e[r]))}),{})}),[nn,on,o,i,a,A,H,U,G]),rn=ln.borderColorBottom,un=ln.borderColorLeft,dn=ln.borderColorRight,cn=ln.borderColorTop;return(0,Y.jsx)(w.Gi,{active:P,activeSlow:A,backgroundGradient:!(null!==a&&void 0!==a&&a.length)&&(0,O.u2)(J),borderColorBottom:rn,borderColorLeft:un,borderColorRight:dn,borderColorTop:cn,borderDeemphasized:(null===a||void 0===a?void 0:a.length)>=1,borderRadiusLarge:(null===a||void 0===a?void 0:a.length)>=1,disabled:c,height:j,isCancelled:T,isDragging:Z,noBackground:(null===a||void 0===a?void 0:a.length)>=1,opacity:N,selected:H,children:(0,Y.jsxs)(w.RJ,{disabled:c,height:j-2*w.YF,isConditionFailed:_,noBackground:(null===a||void 0===a?void 0:a.length)>=1,children:[!(null!==a&&void 0!==a&&a.length)&&(0,Y.jsx)(w.I5,{children:(0,Y.jsxs)(m.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,Y.jsxs)(k.Z,{flex:1,children:[tn,(0,Y.jsx)(x.Z,{mr:S.DS}),(0,Y.jsxs)(k.Z,{flexDirection:"column",children:[(0,Y.jsx)(y.ZP,{bold:!0,monospace:!0,children:(0,S._7)(e,L)}),(0,Y.jsx)(y.ZP,{default:!0,monospace:!0,small:!0,children:(0,S.qj)(e,L)})]})]}),(0,Y.jsx)(x.Z,{mr:"15px"}),(0,Y.jsx)(w.Pq,{title:z,children:!I&&(0,Y.jsxs)(Y.Fragment,{children:[V&&(0,Y.jsx)(C.Jr,{size:S.SX,success:!0}),F&&(0,Y.jsx)(C.x8,{danger:!0,size:S.SX}),W&&!B&&(0,Y.jsx)(g.Z,{borderSize:1,muted:!0,size:S.SX})]})})]})}),(0,Y.jsxs)(w.Go,{children:[!(null!==a&&void 0!==a&&a.length)&&(0,Y.jsxs)(Y.Fragment,{children:[(null===en||void 0===en?void 0:en.length)>=1&&(0,Y.jsx)(x.Z,{mt:1,children:(0,Y.jsx)(y.ZP,{default:!0,monospace:!0,small:!0,children:en})}),[d,r,s].map((function(n,o){if((null===n||void 0===n?void 0:n.length)>=1)return(0,Y.jsx)("div",{style:{marginTop:4},children:(0,Y.jsx)(m.ZP,{alignItems:"center",flexWrap:"wrap",children:n.reduce((function(n,o,e){return e>=1&&n.push((0,Y.jsx)("div",{style:{width:4}},"space-".concat(o.uuid))),n.push((0,Y.jsx)("div",{style:{marginTop:4},children:(0,Y.jsx)(h.Z,{color:(0,O.qn)(o.type,{blockColor:o.color,theme:G}).accentLight,monospace:!0,small:!0,children:o.uuid})},"badge-".concat(o.uuid))),n}),[])})},"badge-blocks-".concat(o))})),(Q||M)&&(0,Y.jsx)(x.Z,{mt:1,children:(0,Y.jsx)(y.ZP,{monospace:!0,muted:!0,small:!0,children:D(Q||M)})})]}),u]})]})})},Q=e(50724),J=e(15338),$=e(93369),nn=e(48670),on=e(65956),en=e(57653),tn=e(71180),ln=e(12468),rn=e(42631),un=e(72191),dn=e(44897),cn=v.default.div.withConfig({displayName:"indexstyle__ZoomControlsStyle",componentId:"sc-1usy46j-0"})(["position:absolute;bottom:","px;left:50%;transform:translateX(-50%);display:flex;justify-content:center;background-color:",";border:1px solid ",";border-radius:","px;box-shadow:",";"],3*I.iI,(function(n){return(n.theme.background||dn.Z.background).panel}),(function(n){return(n.theme.borders||dn.Z.borders).darkLight}),rn.g5,(function(n){return(n.theme.shadow||dn.Z.shadow).frame})),an=v.default.div.withConfig({displayName:"indexstyle__ZoomDisplayStyle",componentId:"sc-1usy46j-1"})(["padding:","px ","px ","px ","px;border-radius:0 ","px ","px 0;cursor:default;",""],1.5*I.iI,3.25*I.iI,1.5*I.iI,1.875*I.iI,rn.g5,rn.g5,(function(n){return n.minimizeControls&&"\n    padding: ".concat(1.5*I.iI,"px ").concat(1.875*I.iI,"px;\n    border-radius: ").concat(rn.g5,"px;\n  ")}));function sn(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),e.push.apply(e,i)}return e}function vn(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?sn(Object(e),!0).forEach((function(o){(0,l.Z)(n,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):sn(Object(e)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))}))}return n}var fn=35*I.iI,pn={bottomOffset:6.5*I.iI,size:null,widthFitContent:!0},hn={highlightOnHoverAlt:!0,iconOnly:!0,noBorder:!0,padding:"".concat(1.5*I.iI,"px ").concat(1.875*I.iI,"px"),transparent:!0},bn={size:un._k};function gn(n){var o=n.canvasRef,e=n.containerRef,i=n.zoomLevel,t=(0,f.useState)(!1),l=t[0],r=t[1];return(0,f.useEffect)((function(){if(null!==e&&void 0!==e&&e.current){var n=new ResizeObserver((function(){var n,o=null===e||void 0===e||null===(n=e.current)||void 0===n?void 0:n.offsetWidth;r(o<fn)}));return n.observe(e.current),function(){return n.disconnect()}}}),[e]),(0,Y.jsxs)(cn,{onDoubleClick:function(n){n.stopPropagation()},children:[!l&&(0,Y.jsxs)(Y.Fragment,{children:[(0,Y.jsx)(ln.Z,vn(vn({},pn),{},{label:"Reset (shortcut: double-click canvas)",children:(0,Y.jsx)(tn.ZP,vn(vn({},hn),{},{borderRadius:"".concat(rn.g5,"px 0 0 ").concat(rn.g5,"px"),onClick:function(){var n,e;return null===o||void 0===o||null===(n=o.current)||void 0===n||null===(e=n.fitCanvas)||void 0===e?void 0:e.call(n)},padding:"".concat(1.5*I.iI,"px ").concat(1.875*I.iI,"px ").concat(1.5*I.iI,"px ").concat(3.25*I.iI,"px"),children:(0,Y.jsx)(C.Qc,vn({},bn))}))})),(0,Y.jsx)(ln.Z,vn(vn({},pn),{},{label:"Zoom in",children:(0,Y.jsx)(tn.ZP,vn(vn({},hn),{},{onClick:function(){var n,e;return null===o||void 0===o||null===(n=o.current)||void 0===n||null===(e=n.setZoom)||void 0===e?void 0:e.call(n,i-1+.5)},children:(0,Y.jsx)(C.DY,vn({},bn))}))})),(0,Y.jsx)(ln.Z,vn(vn({},pn),{},{label:"Zoom out",children:(0,Y.jsx)(tn.ZP,vn(vn({},hn),{},{onClick:function(){var n,e;return null===o||void 0===o||null===(n=o.current)||void 0===n||null===(e=n.setZoom)||void 0===e?void 0:e.call(n,i-1-.5)},children:(0,Y.jsx)(C.H9,vn({},bn))}))}))]}),(0,Y.jsx)(ln.Z,vn(vn({},pn),{},{label:"Zoom level",children:(0,Y.jsx)(an,{minimizeControls:l,children:(0,Y.jsx)(y.ZP,{center:!0,large:!0,minWidth:5*I.iI,children:"".concat(Math.round(100*i),"%")})})}))]})}var kn=(0,f.memo)(gn),mn=e(35686),xn=e(77417),yn=e(55187),Cn=e(85385),wn=e(72619),Sn=e(95924),On=["forwardedRef"];function jn(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),e.push.apply(e,i)}return e}function Bn(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?jn(Object(e),!0).forEach((function(o){(0,l.Z)(n,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):jn(Object(e)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))}))}return n}var In=s()((0,u.Z)(c().mark((function n(){var o,i;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(4434),e.e(5987),e.e(3873)]).then(e.t.bind(e,74529,23));case 2:return o=n.sent,i=o.Canvas,n.abrupt("return",(function(n){var o=n.forwardedRef,e=(0,r.Z)(n,On);return(0,Y.jsx)(i,Bn({ref:o},e))}));case 5:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),En=s()((0,u.Z)(c().mark((function n(){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(4434),e.e(5987),e.e(3873)]).then(e.t.bind(e,74529,23));case 2:return o=n.sent,n.abrupt("return",o.Node);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),Tn=s()((0,u.Z)(c().mark((function n(){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(4434),e.e(5987),e.e(3873)]).then(e.t.bind(e,74529,23));case 2:return o=n.sent,n.abrupt("return",o.Edge);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),_n=s()((0,u.Z)(c().mark((function n(){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(4434),e.e(5987),e.e(3873)]).then(e.t.bind(e,74529,23));case 2:return o=n.sent,n.abrupt("return",o.Port);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});s()((0,u.Z)(c().mark((function n(){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(4434),e.e(5987),e.e(3873)]).then(e.t.bind(e,74529,23));case 2:return o=n.sent,n.abrupt("return",o.Add);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),s()((0,u.Z)(c().mark((function n(){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(4434),e.e(5987),e.e(3873)]).then(e.t.bind(e,74529,23));case 2:return o=n.sent,n.abrupt("return",o.Remove);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}}),s()((0,u.Z)(c().mark((function n(){var o;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Promise.all([e.e(4434),e.e(5987),e.e(3873)]).then(e.t.bind(e,74529,23));case 2:return o=n.sent,n.abrupt("return",o.MarkerArrow);case 4:case"end":return n.stop()}}),n)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[74529]}}});var Zn=function(n){var o=n.addNewBlockAtIndex,e=n.blockRefs,r=n.blockStatus,u=n.blocksOverride,d=n.blocks,c=n.contentByBlockUUID,a=n.contextMenuEnabled,s=n.deleteBlock,h=n.disabled,g=n.dragEnabled,k=n.editingBlock,C=n.enablePorts,w=void 0!==C&&C,B=n.fetchPipeline,T=n.height,_=n.heightOffset,Z=void 0===_?10*I.iI:_,P=n.messages,D=n.noStatus,N=n.onClickNode,L=n.runBlock,H=n.pannable,U=void 0===H||H,G=n.pipeline,V=n.runningBlocks,z=void 0===V?[]:V,X=n.selectedBlock,q=n.setActiveSidekickView,tn=n.setEditingBlock,ln=n.setErrors,rn=n.setSelectedBlock,un=n.setZoom,dn=n.showDynamicBlocks,cn=void 0!==dn&&dn,an=n.showUpdateBlockModal,sn=n.treeRef,vn=n.zoomable,fn=void 0===vn||vn,pn=(0,xn.Z)(),hn=pn.featureEnabled,bn=pn.featureUUIDs,gn=(0,f.useContext)(v.ThemeContext),On=((0,f.useMemo)((function(){return(0,yn.ki)(gn)}),[gn]),(0,f.useRef)(null)),jn=((0,f.useRef)({}),(0,f.useRef)({})),Zn=(0,f.useRef)({}),Pn=(0,f.useRef)(null),Dn=sn||Pn,An=(0,f.useState)(1),Rn=An[0],Nn=An[1],Ln=(0,f.useState)(null),Mn=Ln[0],Hn=Ln[1],Un=(0,f.useState)({}),Gn=Un[0],Wn=Un[1],Fn=(0,f.useState)({}),Vn=Fn[0],Yn=Fn[1],zn=(0,f.useState)(null),Xn=zn[0],qn=zn[1],Kn=(0,f.useState)(!1),Qn=Kn[0],Jn=Kn[1],$n=(0,f.useState)(null),no=$n[0],oo=$n[1],eo=(0,f.useState)(null),io=eo[0],to=eo[1],lo=(0,f.useState)(null),ro=lo[0],uo=lo[1];(0,f.useEffect)((function(){var n=function(n){Qn&&no&&oo((function(o){return Bn(Bn({},o),{},{event:n})}))},o=function(n){Qn&&no&&(Jn(!1),setTimeout((function(){return oo(null)}),1))};return window.addEventListener("mousemove",n),window.addEventListener("mouseup",o),function(){window.removeEventListener("mousemove",n),window.removeEventListener("mouseup",o)}}),[Qn,no]);var co=(0,f.useState)(null),ao=co[0],so=co[1],vo=(0,f.useState)([]),fo=vo[0],po=vo[1],ho=(0,f.useState)(!1),bo=(ho[0],ho[1],(null===k||void 0===k?void 0:k.upstreamBlocks)||{}),go=bo.block,ko=bo.values,mo=void 0===ko?[]:ko,xo=(0,f.useMemo)((function(){return mo.length}),[mo]),yo=(0,f.useMemo)((function(){var n;return(null===(n=u||(null===G||void 0===G?void 0:G.blocks))||void 0===n?void 0:n.filter((function(n){var o=n.type;return!b.iZ.includes(o)})))||[]}),[u,null===G||void 0===G?void 0:G.blocks]),Co=(0,f.useMemo)((function(){return yo}),[yo,cn]),wo=(0,f.useMemo)((function(){if(u)return u;if(d)return d;if(G){var n={},o=[];return o.push.apply(o,(0,t.Z)(null===G||void 0===G?void 0:G.blocks)),o.push.apply(o,(0,t.Z)(null===G||void 0===G?void 0:G.callbacks)),o.push.apply(o,(0,t.Z)(null===G||void 0===G?void 0:G.conditionals)),Object.values(null===G||void 0===G?void 0:G.extensions).forEach((function(n){var e=n.blocks;o.push.apply(o,(0,t.Z)(e))})),o.reduce((function(o,e){return n[e.uuid]||o.push(e),o}),[])}return[]}),[d,u,G]),So=(0,f.useMemo)((function(){return(0,E.HK)(wo||[],(function(n){return n.uuid}))}),[wo]),Oo=(0,f.useMemo)((function(){var n={};return null===Co||void 0===Co||Co.map((function(o){var e;n[o.uuid]=null===o||void 0===o||null===(e=o.callback_blocks)||void 0===e?void 0:e.reduce((function(n,o){var e=null===So||void 0===So?void 0:So[o];return e?n.concat(e):n}),[])})),n}),[Co,So]),jo=(0,f.useMemo)((function(){var n={};return null===Co||void 0===Co||Co.map((function(o){var e;n[o.uuid]=null===o||void 0===o||null===(e=o.conditional_blocks)||void 0===e?void 0:e.reduce((function(n,o){var e=null===So||void 0===So?void 0:So[o];return e?n.concat(e):n}),[])})),n}),[Co,So]),Bo=(0,f.useMemo)((function(){var n={};return null===Co||void 0===Co||Co.map((function(o){var e,t=[];null===(e=Object.entries((null===G||void 0===G?void 0:G.extensions)||{}))||void 0===e||e.forEach((function(n){var e=(0,i.Z)(n,2),l=e[0],r=e[1].blocks;null===r||void 0===r||r.forEach((function(n){var e=n.upstream_blocks,i=n.uuid;if(null!==e&&void 0!==e&&e.includes(null===o||void 0===o?void 0:o.uuid)){var r=null===So||void 0===So?void 0:So[i];r&&t.push(Bn(Bn({},r),{},{extension_uuid:l}))}}))})),n[o.uuid]=t})),n}),[Co,So,G]),Io=(0,f.useMemo)((function(){return(0,E.HK)(z,(function(n){return n.uuid}))}),[z]);(0,f.useEffect)((function(){setTimeout((function(){var n,o,e,i,t;0===(null===Dn||void 0===Dn||null===(n=Dn.current)||void 0===n||null===(o=n.containerRef)||void 0===o||null===(e=o.current)||void 0===e?void 0:e.scrollTop)&&(null===Dn||void 0===Dn||null===(i=Dn.current)||void 0===i||null===(t=i.fitCanvas)||void 0===t||t.call(i))}),1e3)}),[Dn]);var Eo=(0,p.Db)(mn.ZP.blocks.pipelines.useUpdate(null===G||void 0===G?void 0:G.uuid,encodeURIComponent(null===go||void 0===go?void 0:go.uuid)),{onSuccess:function(n){return(0,wn.wD)(n,{callback:function(){tn({upstreamBlocks:null}),null===B||void 0===B||B()},onErrorCallback:function(n,o){return null===ln||void 0===ln?void 0:ln({errors:o,response:n})}})}}),To=(0,i.Z)(Eo,2),_o=To[0],Zo=To[1].isLoading,Po=(0,p.Db)((function(n){var o=n.block,e=n.downstreamBlocks,i=n.upstreamBlocks,t=Bn({},o);return"undefined"!==typeof e&&(t.downstream_blocks=e),"undefined"!==typeof i&&(t.upstream_blocks=i),mn.ZP.blocks.pipelines.useUpdate(encodeURIComponent(null===G||void 0===G?void 0:G.uuid),encodeURIComponent(null===o||void 0===o?void 0:o.uuid))({block:t})}),{onSuccess:function(n){return(0,wn.wD)(n,{callback:function(){null===B||void 0===B||B()},onErrorCallback:function(n,o){return null===ln||void 0===ln?void 0:ln({errors:o,response:n})}})}}),Do=(0,i.Z)(Po,1)[0],Ao=(0,f.useCallback)((function(n){var o=n.type,i=n.uuid;if(null===rn||void 0===rn||rn(n),po([]),null!==e&&void 0!==e&&e.current){var t,l=e.current["".concat(o,"s/").concat(i,".py")];null===l||void 0===l||null===(t=l.current)||void 0===t||t.scrollIntoView()}}),[e,rn]),Ro=(0,f.useCallback)((function(n){po([]),tn((function(o){var e=o.upstreamBlocks.values||[],i=e.findIndex((function(o){var e=o.uuid;return n.uuid===e}));return Bn(Bn({},o),{},{upstreamBlocks:Bn(Bn({},o.upstreamBlocks),{},{values:i>=0?(0,E.oM)(e,i):e.concat(n)})})}))}),[tn]),No=(0,f.useMemo)((function(){var n={};return Co.forEach((function(o){o.upstream_blocks.forEach((function(e){n[e]||(n[e]=[]),n[e].push(o)}))})),n}),[Co]),Lo=(0,f.useMemo)((function(){return W({activeNodes:Gn,blockStatus:r,blockUUIDMapping:So,blocks:Co,callbackBlocksByBlockUUID:Oo,conditionalBlocksByBlockUUID:jo,downstreamBlocksMapping:No,enablePorts:w,extensionBlocksByBlockUUID:Bo,nodeHovering:io,pipeline:G,selectedBlock:ao})}),[Gn,r,So,Co,Oo,jo,No,w,Bo,io,G,ao]),Mo=Lo.edges,Ho=Lo.nodes,Uo=(Lo.ports,Lo.blocksWithDownstreamBlockSet),Go=(0,f.useMemo)((function(){var n=0;return T&&(n+=T),Z&&(n-=Z),Math.max(0,n)}),[T,Z]),Wo=(0,f.useCallback)((function(n,o){(0,Sn.j)(n);var e,i,t,l,r,u=o.data,d=u.block,c=u.blocks,a=d;if((null===c||void 0===c?void 0:c.length)>=2&&X){var s=null===c||void 0===c?void 0:c.findIndex((function(n){var o=n.uuid;return(null===X||void 0===X?void 0:X.uuid)===o}));a=s<(null===c||void 0===c?void 0:c.length)-1?null===c||void 0===c?void 0:c[s+1]:null===c||void 0===c?void 0:c[0]}if(!((null===go||void 0===go?void 0:go.uuid)===a.uuid))if(go)Ro(a);else if(null===N||void 0===N||N({block:a}),X&&(null===X||void 0===X?void 0:X.uuid)===(null===(e=a)||void 0===e?void 0:e.uuid)&&(((null===(i=a)||void 0===i||null===(t=i.downstream_blocks)||void 0===t?void 0:t.length)||0)<=1&&(null===(l=a)||void 0===l||null===(r=l.upstream_blocks)||void 0===r||!r.length)||ao&&(null===ao||void 0===ao?void 0:ao.uuid)===(null===X||void 0===X?void 0:X.uuid)))null===rn||void 0===rn||rn(null),so(null);else{var v;if(X)(null===X||void 0===X?void 0:X.uuid)===(null===(v=a)||void 0===v?void 0:v.uuid)?so(a):so(null);setTimeout((function(){Ao(a)}),1)}}),[go,Ao,N,Ro,X,ao,so]),Fo=(0,f.useCallback)((function(n){var o,e=null===n||void 0===n?void 0:n.id;e in jn.current&&clearTimeout(null===jn||void 0===jn||null===(o=jn.current)||void 0===o?void 0:o[e])}),[Gn]),Vo=(0,f.useCallback)((function(n){var o=null===n||void 0===n?void 0:n.id;jn.current[o]=setTimeout((function(){Wn((function(n){var e=Bn({},n);return null===e||void 0===e||delete e[o],e}))}),1e3)}),[Wn]),Yo=(0,f.useCallback)((function(n,o,e){var i;if((0,Sn.j)(n),!Qn&&no){var t,r,u,d,c,a,s,v,f,p=null===o||void 0===o||null===(t=o.data)||void 0===t?void 0:t.block,h=null===no||void 0===no||null===(r=no.node)||void 0===r||null===(u=r.data)||void 0===u?void 0:u.block;if(!((null===G||void 0===G?void 0:G.type)===en.qL.INTEGRATION&&((null===p||void 0===p?void 0:p.type)===b.tf.DATA_EXPORTER||(null===p||void 0===p?void 0:p.type)===b.tf.DATA_LOADER&&(null===h||void 0===h?void 0:h.type)===b.tf.DATA_EXPORTER))&&(null===p||void 0===p||null===(d=p.upstream_blocks)||void 0===d||!d.includes(null===h||void 0===h?void 0:h.uuid))&&(null===p||void 0===p?void 0:p.uuid)!==(null===h||void 0===h?void 0:h.uuid))if((null===o||void 0===o||null===(c=o.data)||void 0===c||null===(a=c.children)||void 0===a?void 0:a.length)>=1){var g,m=null===p||void 0===p||null===(g=p.downstream_blocks)||void 0===g?void 0:g.filter((function(n){var o;return!(null!==h&&void 0!==h&&null!==(o=h.upstream_blocks)&&void 0!==o&&o.includes(n))}));Do({block:h,upstreamBlocks:m})}else if((null===no||void 0===no||null===(s=no.node)||void 0===s||null===(v=s.data)||void 0===v||null===(f=v.children)||void 0===f?void 0:f.length)>=1){var x,y=null===h||void 0===h||null===(x=h.downstream_blocks)||void 0===x?void 0:x.filter((function(n){var o;return!(null!==p&&void 0!==p&&null!==(o=p.downstream_blocks)&&void 0!==o&&o.includes(n))}));Do({block:p,downstreamBlocks:y})}else Do({block:h,upstreamBlocks:((null===h||void 0===h?void 0:h.upstream_blocks)||[]).concat(null===p||void 0===p?void 0:p.uuid)})}if(null===k||void 0===k||!k.upstreamBlocks){Fo(o),to(o);var C=null===o||void 0===o?void 0:o.id;null===(i=Object.keys(Vn||{}))||void 0===i||!i.length||C in Vn?Wn((function(n){return Object.values(n||{}).forEach((function(n){Vo(n)})),Bn(Bn({},n),{},(0,l.Z)({},C,o))})):uo(o)}}),[Vn,Fo,k,Qn,no,G,Wn,to,uo,Vo]),zo=(0,f.useCallback)((function(n,o,e){(0,Sn.j)(n),to(null),Vo(o)}),[to,Vo]),Xo=(0,f.useCallback)((function(n,o,e){if((0,Sn.j)(n),!Xn){var i=null===o||void 0===o?void 0:o.id;Zn.current[i]=setTimeout((function(){Xn||(Hn(null),Wn({}),Jn(!0),oo({data:e,event:n,node:o}))}),500)}}),[Xn,Wn,Hn,Jn,oo]),qo=(0,f.useCallback)((function(n,o,e){(0,Sn.j)(n);var i,t=null===o||void 0===o?void 0:o.id;t in Zn.current&&clearTimeout(null===Zn||void 0===Zn||null===(i=Zn.current)||void 0===i?void 0:i[t])}),[]),Ko=(0,f.useCallback)((function(n,o,e){var i;(0,Sn.j)(n);var t=null===o||void 0===o?void 0:o.id;clearTimeout(null===(i=Zn.current)||void 0===i?void 0:i[t]),qn({data:e,event:n,node:o}),Hn(null)}),[Hn,qn]),Qo=(0,f.useCallback)((function(n){var o=n.event,e=n.node;n.port;(0,Sn.j)(o),Fo(e),to(e)}),[Fo,to]),Jo=(0,f.useCallback)((function(n){var o=n.event,e=n.node;n.port;(0,Sn.j)(o),to(null),Vo(e)}),[to,Vo]),$o=(0,f.useCallback)((function(n){var o=n.event,e=n.node,i=n.port;Yn((function(n){return Bn(Bn({},n),{},(0,l.Z)({},null===e||void 0===e?void 0:e.id,{event:o,node:e,port:i}))}))}),[Yn]),ne=(0,f.useCallback)((function(n){n.event;var o=n.node,e=n.port,i=null===o||void 0===o?void 0:o.id;null===e||void 0===e||e.side;if(ro){var t,l,r,u,d=null===o||void 0===o||null===(t=o.properties)||void 0===t||null===(l=t.data)||void 0===l?void 0:l.block,c=null===ro||void 0===ro||null===(r=ro.data)||void 0===r?void 0:r.block;if(!((null===G||void 0===G?void 0:G.type)===en.qL.INTEGRATION&&((null===d||void 0===d?void 0:d.type)===b.tf.DATA_EXPORTER||(null===d||void 0===d?void 0:d.type)===b.tf.DATA_LOADER&&(null===c||void 0===c?void 0:c.type)===b.tf.DATA_EXPORTER))&&(null===d||void 0===d||null===(u=d.upstream_blocks)||void 0===u||!u.includes(c.uuid))&&(null===o||void 0===o?void 0:o.id)!==(null===ro||void 0===ro?void 0:ro.id)){var a={};j.rl.SOUTH===(null===e||void 0===e?void 0:e.side)?a.upstreamBlocks=((null===c||void 0===c?void 0:c.upstream_blocks)||[]).concat(null===d||void 0===d?void 0:d.uuid):a.downstreamBlocks=((null===c||void 0===c?void 0:c.downstream_blocks)||[]).concat(null===d||void 0===d?void 0:d.uuid),Do(Bn({block:c},a))}}Yn((function(n){var o=Bn({},n);return null===o||void 0===o||delete o[i],o})),Vo(o)}),[G,Yn,Vo,ro]),oe=(0,f.useCallback)((function(n,o,e){var i,t;if(no)return{anotherBlockSelected:!0,selected:!1};var l=(null===(i=Object.values(Vn||{}))||void 0===i?void 0:i.length)>=1,r=null===Vn||void 0===Vn?void 0:Vn[null===n||void 0===n?void 0:n.id],u=!1;if(go)u=!!(0,E.sE)(mo,(function(n){return n.uuid===(null===o||void 0===o?void 0:o.uuid)}));else if(l)u=!!r;else if((null===e||void 0===e||null===(t=e.blocksWithSameDownstreamBlocks)||void 0===t?void 0:t.length)>=2){var d,c;u=null===e||void 0===e||null===(d=e.blocksWithSameDownstreamBlocks)||void 0===d||null===(c=d.map((function(n){return n.uuid})))||void 0===c?void 0:c.includes(null===X||void 0===X?void 0:X.uuid)}else u=(null===X||void 0===X?void 0:X.uuid)===(null===o||void 0===o?void 0:o.uuid);return{anotherBlockSelected:l?!r:!!X,selected:u}}),[Vn,go,no,X,mo]),ee=(0,f.useCallback)((function(n,o,e){var i,t=e.isDragging,l=e.nodeHeight,u=e.nodeWidth,d=e.opacity,c=n.data,a=c.blocks,s=c.children;if((null===s||void 0===s?void 0:s.length)>=1){var v=[];null===s||void 0===s||s.forEach((function(o){var e=oe(n,o),i=e.anotherBlockSelected,l=e.selected,u=F({block:o,blockStatus:r,messages:P,noStatus:D,runningBlocks:z,runningBlocksMapping:Io}),c=u.hasFailed,a=u.isInProgress,s=u.isQueued,f=u.isSuccessful,p=null===Oo||void 0===Oo?void 0:Oo[null===o||void 0===o?void 0:o.uuid],b=null===jo||void 0===jo?void 0:jo[null===o||void 0===o?void 0:o.uuid],g=null===Bo||void 0===Bo?void 0:Bo[null===o||void 0===o?void 0:o.uuid];v.push((0,Y.jsx)(K,{anotherBlockSelected:i,block:o,callbackBlocks:null===Oo||void 0===Oo?void 0:Oo[null===o||void 0===o?void 0:o.uuid],conditionalBlocks:null===jo||void 0===jo?void 0:jo[null===o||void 0===o?void 0:o.uuid],disabled:(null===go||void 0===go?void 0:go.uuid)===(null===o||void 0===o?void 0:o.uuid),extensionBlocks:null===Bo||void 0===Bo?void 0:Bo[null===o||void 0===o?void 0:o.uuid],hasFailed:c,height:(0,S.p1)(o,G,{blockStatus:r,callbackBlocks:p,conditionalBlocks:b,extensionBlocks:g}),hideNoStatus:!0,hideStatus:h||D,isDragging:t,isInProgress:a,isQueued:s,isSuccessful:f,opacity:d,pipeline:G,selected:l},null===o||void 0===o?void 0:o.uuid))})),i=(0,Y.jsxs)(m.ZP,{alignItems:"center",justifyContent:"space-between",style:{height:l,width:u},children:[(0,Y.jsx)(x.Z,{pr:I.cd}),v,(0,Y.jsx)(x.Z,{pr:I.cd})]})}var f,p=oe(n,o,{blocksWithSameDownstreamBlocks:a}),b=p.anotherBlockSelected,g=p.selected,k=F({block:o,blockStatus:r,messages:P,noStatus:D,runningBlocks:z,runningBlocksMapping:Io}),y=k.hasFailed,C=k.isInProgress,w=k.isQueued,O=k.isSuccessful;return f=(null===s||void 0===s?void 0:s.length)>=1?null===s||void 0===s?void 0:s.some((function(n){var e;return n&&(null===(e=F({block:o,blockStatus:r,messages:P,noStatus:D,runningBlocks:z,runningBlocksMapping:Io}))||void 0===e?void 0:e.isInProgress)})):C,(0,Y.jsx)(K,{anotherBlockSelected:b,block:o,blocksWithSameDownstreamBlocks:a,callbackBlocks:null===Oo||void 0===Oo?void 0:Oo[null===o||void 0===o?void 0:o.uuid],conditionalBlocks:null===jo||void 0===jo?void 0:jo[null===o||void 0===o?void 0:o.uuid],disabled:(null===go||void 0===go?void 0:go.uuid)===(null===o||void 0===o?void 0:o.uuid),downstreamBlocks:s,extensionBlocks:null===Bo||void 0===Bo?void 0:Bo[null===o||void 0===o?void 0:o.uuid],hasFailed:y,height:l,hideNoStatus:!0,hideStatus:h||D,isDragging:t,isInProgress:f,isQueued:w,isSuccessful:O,opacity:d,pipeline:G,selected:g,children:i},null===o||void 0===o?void 0:o.uuid)}),[go,r,Oo,jo,h,Bo,P,D,G,z,Io]),ie=(0,f.useMemo)((function(){var n,o;if(Qn&&no){var e=no.event,i=no.node,t=no.data,l=e.clientX,u=e.clientY,d=(null===On||void 0===On||null===(n=On.current)||void 0===n?void 0:n.getBoundingClientRect())||{},c=d.x,a=d.y,s=null===i||void 0===i||null===(o=i.data)||void 0===o?void 0:o.block;if(s){var v=F({block:s,blockStatus:r,messages:P,noStatus:D,runningBlocks:z,runningBlocksMapping:Io}),f=(v.hasFailed,v.isInProgress,v.isQueued,v.isSuccessful,null===Oo||void 0===Oo?void 0:Oo[null===s||void 0===s?void 0:s.uuid]),p=null===jo||void 0===jo?void 0:jo[null===s||void 0===s?void 0:s.uuid],h=null===Bo||void 0===Bo?void 0:Bo[null===s||void 0===s?void 0:s.uuid],b={blockStatus:r,callbackBlocks:f,conditionalBlocks:p,extensionBlocks:h},g=(0,S.p1)(s,G,b),k=(0,S.HI)(s,G,b),m=ee(i,s,{isDragging:!0,nodeHeight:null===t||void 0===t?void 0:t.nodeHeight,nodeWidth:null===t||void 0===t?void 0:t.nodeWidth,opacity:.5});return(0,Y.jsx)("div",{style:{left:l-c-k/2,position:"absolute",top:u-a-g/2},children:m})}}}),[r,ee,Oo,jo,Bo,Qn,P,D,no,G,z,Io]),te=(0,f.useMemo)((function(){var n,e,i,t;if(Mn){var l,r=Mn.edge,u=So[null===r||void 0===r?void 0:r.from],d=So[null===r||void 0===r?void 0:r.to],c=null===(n=event)||void 0===n?void 0:n.clientX,a=null===(e=event)||void 0===e?void 0:e.clientY,s=(null===On||void 0===On||null===(i=On.current)||void 0===i?void 0:i.getBoundingClientRect())||{},v=s.x,f=s.y;u&&!d?l=null===Uo||void 0===Uo?void 0:Uo[null===u||void 0===u?void 0:u.uuid]:!u&&d&&(l=null===Uo||void 0===Uo?void 0:Uo[null===d||void 0===d?void 0:d.uuid]);var p,h=function(){Do({block:d,upstreamBlocks:((null===d||void 0===d?void 0:d.upstream_blocks)||[]).filter((function(n){return n!==(null===u||void 0===u?void 0:u.uuid)}))})};if((null===(t=l)||void 0===t?void 0:t.length)>=1)null===(p=l)||void 0===p||p.forEach((function(n){var o=n.downstreamBlocks,e=n.upstreamBlocks,i=R(null===e||void 0===e?void 0:e.map((function(n){return n.uuid})));if(u&&!d&&(null===r||void 0===r?void 0:r.to)===i){var t=(0,E.HK)(o||[],(function(n){return n.uuid}));h=function(){Do({block:u,downstreamBlocks:((null===u||void 0===u?void 0:u.downstream_blocks)||[]).filter((function(n){return!(n in t)}))})}}else if(!u&&d&&(null===r||void 0===r?void 0:r.from)===i){var l=(0,E.HK)(e||[],(function(n){return n.uuid}));h=function(){Do({block:d,upstreamBlocks:((null===d||void 0===d?void 0:d.upstream_blocks)||[]).filter((function(n){return!(n in l)}))})}}}));else if(!u&&!d){var g,k,m=[];null===r||void 0===r||null===(g=r.to)||void 0===g||null===(k=g.split(":"))||void 0===k||k.forEach((function(n){if((null===n||void 0===n?void 0:n.length)>=1&&"parent"!==n){var o=null===So||void 0===So?void 0:So[n];o&&m.push(o)}})),h=function(){null===m||void 0===m||m.forEach((function(n){return Do({block:n,downstreamBlocks:[]})}))}}return(0,Y.jsx)("div",{style:{left:c-v,position:"absolute",top:a-f},children:(0,Y.jsx)(Q.Z,{disableEscape:!0,onClickOutside:function(){return Hn(null)},open:!0,children:(0,Y.jsxs)(on.Z,{noPadding:!0,children:[(0,Y.jsx)(x.Z,{px:I.cd,py:1,children:(0,Y.jsx)(nn.Z,{block:!0,onClick:function(){var n=null===Co||void 0===Co?void 0:Co.findIndex((function(n){return n.uuid===(null===d||void 0===d?void 0:d.uuid)}));null===o||void 0===o||o({downstream_blocks:d?[null===d||void 0===d?void 0:d.uuid]:null,language:null===d||void 0===d?void 0:d.language,type:b.tf.CUSTOM,upstream_blocks:u?[null===u||void 0===u?void 0:u.uuid]:null},n,(function(){Hn(null)}))},preventDefault:!0,sameColorAsText:!0,children:"Add new block between"})}),(0,Y.jsx)(J.Z,{light:!0}),(0,Y.jsx)(x.Z,{px:I.cd,py:1,children:(0,Y.jsx)(nn.Z,{block:!0,onClick:function(){var n;null===(n=h)||void 0===n||n(),Hn(null)},preventDefault:!0,sameColorAsText:!0,children:"Remove connection"})})]})})})}}),[Mn,Co,Hn,Do]),le=(0,f.useMemo)((function(){return null===hn||void 0===hn?void 0:hn(bn.INTERACTIONS)}),[hn,bn]),re=(0,f.useMemo)((function(){var n;if(Xn){var e,i,t,l,r=Xn.event,u=Xn.node,d=(Xn.data,u.data),a=d.block,v=d.blocks,f=(d.children,r.clientX),p=r.clientY,h=(null===On||void 0===On||null===(n=On.current)||void 0===n?void 0:n.getBoundingClientRect())||{},g=h.x,k=h.y,m=X&&(null===X||void 0===X?void 0:X.uuid)===(null===a||void 0===a?void 0:a.uuid)&&ao&&(null===ao||void 0===ao?void 0:ao.uuid)===(null===a||void 0===a?void 0:a.uuid),y=null===v||void 0===v?void 0:v.findIndex((function(n){return n.uuid===(null===a||void 0===a?void 0:a.uuid)})),C=en.qL.INTEGRATION===(null===G||void 0===G?void 0:G.type),w=[];if(C||w.push({onClick:function(){var n,o;null===L||void 0===L||L({block:a,code:null===c||void 0===c||null===(n=c.current)||void 0===n||null===(o=n[null===a||void 0===a?void 0:a.type])||void 0===o?void 0:o[null===a||void 0===a?void 0:a.uuid]})},uuid:"Run block"}),w.push.apply(w,[{onClick:function(){an(a,null===a||void 0===a?void 0:a.name)},uuid:"Rename block"}]),!C)w.push.apply(w,[{disabled:((null===a||void 0===a||null===(e=a.downstream_blocks)||void 0===e?void 0:e.length)||0)<=1&&!(null!==a&&void 0!==a&&null!==(i=a.upstream_blocks)&&void 0!==i&&i.length),onClick:function(){null===rn||void 0===rn||rn(m?null:a),so(m?null:a)},uuid:m?"Hide all dependencies":"Show all dependencies"},{onClick:function(){null===o||void 0===o||o({downstream_blocks:a?[null===a||void 0===a?void 0:a.uuid]:null,language:b.t6.YAML===(null===a||void 0===a?void 0:a.language)?b.t6.PYTHON:null===a||void 0===a?void 0:a.language,type:b.tf.CUSTOM},Math.max(0,y-1))},uuid:"Add upstream block"},{onClick:function(){null===o||void 0===o||o({language:b.t6.YAML===(null===a||void 0===a?void 0:a.language)?b.t6.PYTHON:null===a||void 0===a?void 0:a.language,type:b.tf.CUSTOM,upstream_blocks:a?[null===a||void 0===a?void 0:a.uuid]:null},y+1)},uuid:"Add downstream block"},{disabled:!(null!==a&&void 0!==a&&null!==(t=a.upstream_blocks)&&void 0!==t&&t.length),onClick:function(){Do({block:a,upstreamBlocks:[]})},uuid:"Remove upstream dependencies"},{disabled:!(null!==a&&void 0!==a&&null!==(l=a.downstream_blocks)&&void 0!==l&&l.length),onClick:function(){Do({block:a,downstreamBlocks:[]})},uuid:"Remove downstream dependencies"}]);return le&&w.push({onClick:function(){null===Ao||void 0===Ao||Ao(a),null===q||void 0===q||q(Cn.cH.INTERACTIONS)},uuid:"Add / Edit interactions"}),w.push.apply(w,[{onClick:function(){null===s||void 0===s||s(a)},uuid:"Delete block"},{onClick:function(){null===s||void 0===s||s(Bn(Bn({},a),{},{force:!0}))},uuid:"Delete block (ignore dependencies)"},{onClick:function(){null===Ao||void 0===Ao||Ao(a),null===q||void 0===q||q(Cn.cH.FILE_VERSIONS)},uuid:"View file versions"}]),(0,Y.jsx)("div",{style:{left:f-g,position:"absolute",top:p-k},children:(0,Y.jsx)(Q.Z,{disableEscape:!0,onClickOutside:function(){return qn(null)},open:!0,children:(0,Y.jsx)(on.Z,{noPadding:!0,children:w.map((function(n){var o=n.disabled,e=n.onClick,i=n.uuid;return(0,Y.jsx)(x.Z,{px:I.cd,py:1,children:(0,Y.jsx)(nn.Z,{block:!0,disabled:o,onClick:function(){e(),qn(null)},preventDefault:!0,sameColorAsText:!0,children:i})},i)}))})})})}}),[o,Co,c,Xn,s,le,Ao,G,L,q,qn,rn,so]);return(0,Y.jsxs)("div",{ref:On,style:{position:"relative"},children:[go&&(0,Y.jsxs)(x.Z,{my:3,px:I.cd,children:[(0,Y.jsxs)(x.Z,{mb:I.cd,children:[(0,Y.jsxs)(y.ZP,{children:["Select parent block(s) for ",(0,Y.jsx)(y.ZP,{color:(0,O.qn)(go.type,{blockColor:go.color,theme:gn}).accent,inline:!0,monospace:!0,children:go.uuid}),":"]}),(0,Y.jsx)(x.Z,{mt:1,children:mo.map((function(n,o){var e,i,t=n.uuid;return(0,Y.jsxs)(y.ZP,{color:(0,O.qn)(null===(e=So[t])||void 0===e?void 0:e.type,{blockColor:null===(i=So[t])||void 0===i?void 0:i.type,theme:gn}).accent,inline:!0,monospace:!0,children:[t,xo>=2&&o<=xo-2?(0,Y.jsx)(y.ZP,{inline:!0,children:",\xa0"}):null]},t)}))})]}),(0,Y.jsxs)(m.ZP,{alignItems:"center",children:[(0,Y.jsx)($.ZP,{compact:!0,inline:!0,loading:Zo,onClick:function(){return _o({block:Bn(Bn({},go),{},{upstream_blocks:mo.map((function(n){return n.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,Y.jsx)(x.Z,{ml:1}),(0,Y.jsx)($.ZP,{compact:!0,inline:!0,noBackground:!0,onClick:function(){po([]),tn({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})]}),(0,Y.jsxs)(yn.$4,{height:Go,onDoubleClick:function(){var n,o;return null===Dn||void 0===Dn||null===(n=Dn.current)||void 0===n||null===(o=n.fitCanvas)||void 0===o?void 0:o.call(n)},children:[(0,Y.jsx)(kn,{canvasRef:Dn,containerRef:On,zoomLevel:Rn}),(0,Y.jsx)(In,{arrow:null,disabled:h,edge:function(n){var o,e,i,l,u,d,c,s=So[null===n||void 0===n?void 0:n.source],v=[];s||(null===n||void 0===n||null===(u=n.id)||void 0===u||null===(d=u.replace(null===n||void 0===n?void 0:n.source,""))||void 0===d||null===(c=d.split(":"))||void 0===c||c.forEach((function(n){if((null===n||void 0===n?void 0:n.length)>=1&&"parent"!==n){var o=null===So||void 0===So?void 0:So[n];o&&v.push(o)}})),null!==v&&void 0!==v&&v.length&&(s=v[0]));var f,p,h,b=null===(o=s)||void 0===o?void 0:o.uuid,g=[];if(b in(Uo||{})){var k=null===Uo||void 0===Uo?void 0:Uo[b];null===k||void 0===k||k.map((function(o){var e=o.downstreamBlocks,i=o.upstreamBlocks;R((0,E.YC)((null===i||void 0===i?void 0:i.map((function(n){return n.uuid})))||[],(function(n){return n})))===(null===n||void 0===n?void 0:n.target)&&(g.push.apply(g,(0,t.Z)(e)),f=i)}))}if(null===g||void 0===g||!g.length)if(A(b)===(null===n||void 0===n?void 0:n.target)){var m,x;g.push.apply(g,(0,t.Z)(null===(m=s)||void 0===m||null===(x=m.downstream_blocks)||void 0===x?void 0:x.map((function(n){return null===So||void 0===So?void 0:So[n]}))))}else{var y,C,w=null===(y=s)||void 0===y||null===(C=y.downstream_blocks)||void 0===C?void 0:C.find((function(o){return M(b,o)===(null===n||void 0===n?void 0:n.sourcePort)||A(b)===n.target})),S=null===So||void 0===So?void 0:So[w];g.push(S)}null===g||void 0===g||g.forEach((function(n){if(!p&&!h&&n){var o=F({block:n,blockStatus:r,messages:P,noStatus:D,runningBlocks:z,runningBlocksMapping:Io});null!==o&&void 0!==o&&o.isInProgress&&(p=null===o||void 0===o?void 0:o.isInProgress),null!==o&&void 0!==o&&o.isQueued&&(h=null===o||void 0===o?void 0:o.isQueued)}}));var j,B=oe({id:b},s,{blocksWithSameDownstreamBlocks:f}),I=B.anotherBlockSelected,T=B.selected,_=(0,O.qn)(null===(e=s)||void 0===e?void 0:e.type,{blockColor:null===(i=s)||void 0===i?void 0:i.color,theme:gn}),Z=["edge",p?h?"activeSlow":"active":"inactive"],N=v.map((function(n){return n.uuid}));ao&&(((null===ao||void 0===ao?void 0:ao.uuid)===b||null!==N&&void 0!==N&&N.includes(null===ao||void 0===ao?void 0:ao.uuid)||null!==g&&void 0!==g&&null!==(j=g.map((function(n){return null===n||void 0===n?void 0:n.uuid})))&&void 0!==j&&j.includes(null===ao||void 0===ao?void 0:ao.uuid))&&Z.push("selected-twice"));return null!==n&&void 0!==n&&null!==(l=n.target)&&void 0!==l&&l.startsWith("parent")&&Z.push("group"),(0,Y.jsx)(Tn,Bn(Bn({},n),{},{className:Z.join(" "),onClick:a?function(n,o){Hn((function(e){var i;return(null===e||void 0===e||null===(i=e.edge)||void 0===i?void 0:i.id)===(null===o||void 0===o?void 0:o.id)?null:{block:s,edge:o,event:n}})),qn(null)}:null,style:{stroke:I&&!T?null===_||void 0===_?void 0:_.accentLight:null===_||void 0===_?void 0:_.accent,strokeWidth:yn.dg}}))},edges:Mo,fit:!0,forwardedRef:Dn,layoutOptions:{"elk.hierarchyHandling":"INCLUDE_CHILDREN"},maxHeight:j.Jo,maxWidth:j.Jo,maxZoom:1,minZoom:-.7,node:function(n){null===n||void 0===n||n.id;var o,e=(null===n||void 0===n||null===(o=n.properties)||void 0===o?void 0:o.data)||{},i=e.block,t=e.blocks,l=null===i||void 0===i?void 0:i.uuid,u=(0,O.qn)(null===i||void 0===i?void 0:i.type,{blockColor:null===i||void 0===i?void 0:i.color,theme:gn}),d=(null===io||void 0===io?void 0:io.id)===(null===n||void 0===n?void 0:n.id)||!(null===Gn||void 0===Gn||!Gn[l]),c=oe(n,i,{blocksWithSameDownstreamBlocks:t}),s=c.anotherBlockSelected,v=c.selected;return(0,Y.jsx)(En,Bn(Bn({},n),{},{dragType:"port",linkable:!0,port:(0,Y.jsx)(_n,{onDrag:function(){Hn(null),Fo(n)},onDragEnd:function(o,e,i){ne({event:o,node:n,port:i})},onDragStart:function(o,e,i){$o({event:o,node:n,port:i})},onEnter:function(o,e){Qo({event:o,node:n,port:e})},onLeave:function(o,e){Jo({event:o,node:n,port:e})},rx:d?10:0,ry:d?10:0,style:{fill:null===u||void 0===u?void 0:u.accentLight,stroke:s&&!v?null===u||void 0===u?void 0:u.accentLight:null===u||void 0===u?void 0:u.accent,strokeWidth:1}}),style:{fill:"transparent",stroke:"transparent",strokeWidth:0},children:function(n){var o,e=n.height,i=n.node,t=n.width,l=i.data,u=l.block,d=l.blocks,c=l.children,s=oe(i,u,{blocksWithSameDownstreamBlocks:d}),v=s.anotherBlockSelected,f=s.selected,p=F({block:u,blockStatus:r,messages:P,noStatus:D,runningBlocks:z,runningBlocksMapping:Io}),b=p.hasFailed,k=p.isInProgress,m=p.isQueued,x=p.isSuccessful;return o=(null===c||void 0===c?void 0:c.length)>=1?null===c||void 0===c?void 0:c.some((function(n){var o;return n&&(null===(o=F({block:n,blockStatus:r,messages:P,noStatus:D,runningBlocks:z,runningBlocksMapping:Io}))||void 0===o?void 0:o.isInProgress)})):k,(0,Y.jsx)("foreignObject",{height:e,onClick:function(n){return null===Wo||void 0===Wo?void 0:Wo(n,i)},onContextMenu:a?function(n){return Ko(n,i,{nodeHeight:e,nodeWidth:t})}:null,onMouseDown:g?function(n){return Xo(n,i,{nodeHeight:e,nodeWidth:t})}:null,onMouseEnter:function(n){return Yo(n,i,{nodeHeight:e,nodeWidth:t})},onMouseLeave:function(n){return zo(n,i,{nodeHeight:e,nodeWidth:t})},onMouseUp:g?function(n){return qo(n,i,{nodeHeight:e,nodeWidth:t})}:null,style:{},width:n.width,x:0,y:0,children:(0,Y.jsx)(K,{anotherBlockSelected:v,block:u,blocksWithSameDownstreamBlocks:d,callbackBlocks:null===Oo||void 0===Oo?void 0:Oo[null===u||void 0===u?void 0:u.uuid],conditionalBlocks:null===jo||void 0===jo?void 0:jo[null===u||void 0===u?void 0:u.uuid],disabled:(null===go||void 0===go?void 0:go.uuid)===u.uuid,downstreamBlocks:c,extensionBlocks:null===Bo||void 0===Bo?void 0:Bo[null===u||void 0===u?void 0:u.uuid],hasFailed:b,height:e,hideNoStatus:!0,hideStatus:h||D,isInProgress:o,isQueued:m,isSuccessful:x,pipeline:G,selected:f,selectedBlock:X},u.uuid)})}}))},nodes:Ho,onNodeLinkCheck:function(n,o,e){return!Mo.some((function(n){return n.from===o.id&&n.to===e.id}))},onZoomChange:function(n){null===un||void 0===un||un(n),Nn(n)},pannable:U,selections:fo,zoomable:fn})]}),te,re,ie]})}},85385:function(n,o,e){e.d(o,{Qq:function(){return p},Z7:function(){return h},cH:function(){return t},du:function(){return v},fp:function(){return s},j5:function(){return f},uM:function(){return a}});var i,t,l=e(82394),r=e(57653),u=e(82359),d=e(72473),c=e(86735),a="sideview",s=90;!function(n){n.ADDON_BLOCKS="addon_blocks",n.BLOCK_SETTINGS="block_settings",n.CALLBACKS="callbacks",n.CHARTS="charts",n.DATA="data",n.EXTENSIONS="power_ups",n.FILE_VERSIONS="file_versions",n.GRAPHS="graphs",n.INTERACTIONS="interactions",n.REPORTS="reports",n.SECRETS="secrets",n.SETTINGS="settings",n.TERMINAL="terminal",n.TREE="tree",n.VARIABLES="variables"}(t||(t={}));t.BLOCK_SETTINGS,t.CALLBACKS,t.CHARTS,t.DATA,t.EXTENSIONS,t.TREE;var v=[t.DATA];function f(n){var o,e,i,l=[{key:t.TREE,label:"Tree"},{buildLabel:function(n){var o=(n.pipeline||{}).widgets,e=void 0===o?[]:o;return(null===e||void 0===e?void 0:e.length)>=1?"Charts (".concat(e.length,")"):"Charts"},key:t.CHARTS},{buildLabel:function(n){var o=n.variables;return(null===o||void 0===o?void 0:o.length)>=1?"Variables (".concat(o.length,")"):"Variables"},key:t.VARIABLES},{buildLabel:function(n){var o=n.secrets;return(null===o||void 0===o?void 0:o.length)>=1?"Secrets (".concat(o.length,")"):"Secrets"},key:t.SECRETS}];return r.qL.PYSPARK!==(null===n||void 0===n||null===(o=n.pipeline)||void 0===o?void 0:o.type)&&l.push.apply(l,[{buildLabel:function(n){n.pipeline;return"Add-on blocks"},key:t.ADDON_BLOCKS},{buildLabel:function(n){var o=(n.pipeline||{}).extensions,e=void 0===o?{}:o,i=0;return Object.values(e).forEach((function(n){var o=n.blocks;i+=(null===o||void 0===o?void 0:o.length)||0})),i>=1?"Power ups (".concat(i,")"):"Power ups"},key:t.EXTENSIONS}]),l.push.apply(l,[{key:t.DATA,label:"Data"},{key:t.TERMINAL,label:"Terminal"},{key:t.BLOCK_SETTINGS,label:"Block settings"}]),null!==n&&void 0!==n&&null!==(e=n.project)&&void 0!==e&&null!==(i=e.features)&&void 0!==i&&i[u.d.INTERACTIONS]&&l.push({key:t.INTERACTIONS,label:"Interactions"}),l}function p(n){return(0,c.HK)(f(n),(function(n){return n.key}))}var h=(i={},(0,l.Z)(i,t.ADDON_BLOCKS,d.EJ),(0,l.Z)(i,t.BLOCK_SETTINGS,d.JG),(0,l.Z)(i,t.CALLBACKS,d.AQ),(0,l.Z)(i,t.CHARTS,d.GQ),(0,l.Z)(i,t.DATA,d.iA),(0,l.Z)(i,t.EXTENSIONS,d.Bf),(0,l.Z)(i,t.INTERACTIONS,d.yd),(0,l.Z)(i,t.SECRETS,d.Yo),(0,l.Z)(i,t.SETTINGS,d.Zr),(0,l.Z)(i,t.TERMINAL,d.oI),(0,l.Z)(i,t.TREE,d.mp),(0,l.Z)(i,t.VARIABLES,d.LO),i)},79757:function(n,o,e){var i=e(82394),t=e(26304),l=(e(82684),e(38626)),r=e(44897),u=e(42631),d=e(95363),c=e(70515),a=e(61896),s=e(28598),v=["children"];function f(n,o){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(n);o&&(i=i.filter((function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),e.push.apply(e,i)}return e}function p(n){for(var o=1;o<arguments.length;o++){var e=null!=arguments[o]?arguments[o]:{};o%2?f(Object(e),!0).forEach((function(o){(0,i.Z)(n,o,e[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):f(Object(e)).forEach((function(o){Object.defineProperty(n,o,Object.getOwnPropertyDescriptor(e,o))}))}return n}var h=l.default.p.withConfig({displayName:"Badge__BadgeStyle",componentId:"sc-tfqsp0-0"})(["border-radius:","px;display:inline;font-family:",";margin:0;white-space:nowrap;",";"," "," ",";",";"," "," "," "," "," "," "," ",""],u.BG,d.ry,a.iD,(function(n){return n.small&&"\n    ".concat(a.HC,";\n  ")}),(function(n){return n.xxsmall&&"\n    font-size: ".concat(a.VK,"px;\n    line-height: ").concat(a.VK,"px;\n  ")}),(function(n){return!n.regular&&"\n    padding: 2px 4px;\n  "}),(function(n){return n.regular&&"\n    padding: ".concat(1*c.iI,"px ").concat(1.25*c.iI,"px;\n  ")}),(function(n){return n.noVerticalPadding&&"\n    padding-bottom: 0;\n    padding-top: 0;\n  "}),(function(n){return!n.disabled&&!n.inverted&&"\n    background-color: ".concat((n.theme||r.Z).background.row,";\n    color: ").concat((n.theme||r.Z).content.default,";\n  ")}),(function(n){return!n.disabled&&n.inverted&&"\n    background-color: ".concat((n.theme||r.Z).background.dark,";\n    color: ").concat((n.theme||r.Z).content.inverted,";\n  ")}),(function(n){return n.cyan&&"\n    background-color: ".concat((n.theme||r.Z).accent.cyan,";\n    color: ").concat((n.theme||r.Z).monotone.black,";\n  ")}),(function(n){return n.disabled&&"\n    background-color: ".concat((n.theme||r.Z).feature.disabled,";\n    color: ").concat((n.theme||r.Z).content.disabled,";\n  ")}),(function(n){return n.color&&"\n    background-color: ".concat(n.color," !important;\n    color: ").concat((n.theme||r.Z).content.active,";\n  ")}),(function(n){return n.quantifier&&"\n    border-radius: 34px;\n    line-height: 10px;\n    padding: 4px 6px;\n  "}),(function(n){return n.monospace&&"\n    font-family: ".concat(d.Vp,";\n    word-break: break-all;\n  ")}));o.Z=function(n){var o=n.children,e=(0,t.Z)(n,v);return(0,s.jsx)(h,p(p({},e),{},{children:o}))}},65956:function(n,o,e){var i=e(38626),t=e(55485),l=e(38276),r=e(30160),u=e(44897),d=e(42631),c=e(47041),a=e(70515),s=e(28598),v=(0,i.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*a.iI,1.5*a.iI,1.5*a.iI),f=i.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],d.n_,(function(n){return n.fullWidth&&"\n    width: 100%;\n  "}),(function(n){return!n.borderless&&"\n    border: 1px solid ".concat((n.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(n){return n.success&&"\n    background-color: ".concat((n.theme.background||u.Z.background).successLight,";\n  ")}),(function(n){return n.success&&!n.borderless&&"\n    border: 1px solid ".concat((n.theme.background||u.Z.background).success,";\n  ")}),(function(n){return!n.dark&&!n.success&&"\n    background-color: ".concat((n.theme.background||u.Z.background).panel,";\n  ")}),(function(n){return n.dark&&"\n    background-color: ".concat((n.theme.background||u.Z.background).content,";\n  ")}),(function(n){return!n.fullHeight&&"\n    height: fit-content;\n  "}),(function(n){return n.maxHeight&&"\n    max-height: ".concat(n.maxHeight,";\n  ")}),(function(n){return n.maxWidth&&"\n    max-width: ".concat(n.maxWidth,"px;\n  ")}),(function(n){return n.minWidth&&"\n    min-width: ".concat(n.minWidth,"px;\n\n    @media (max-width: ").concat(n.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(n){return n.borderless&&"\n    border: none;\n  "}),(function(n){return n.overflowVisible&&"\n    overflow: visible;\n  "})),p=i.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],d.n_,d.n_,(function(n){return"\n    background-color: ".concat((n.theme.background||u.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((n.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(n){return n.height&&"\n    height: ".concat(n.height,"px;\n  ")}),v,(function(n){return n.headerPaddingVertical&&"\n    padding-bottom: ".concat(n.headerPaddingVertical,"px;\n    padding-top: ").concat(n.headerPaddingVertical,"px;\n  ")})),h=i.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*a.iI,c.w5,(function(n){return n.height&&"\n    height: ".concat(n.height,"px;\n  ")}),(function(n){return n.maxHeight&&"\n    max-height: calc(".concat(n.maxHeight," - ").concat(15*a.iI,"px);\n  ")}),(function(n){return n.noPadding&&"\n    padding: 0;\n  "}),(function(n){return n.overflowVisible&&"\n    overflow: visible;\n  "})),b=i.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],d.M8,d.YF,1.75*a.iI);o.Z=function(n){var o=n.borderless,e=n.children,i=n.containerRef,u=n.contentContainerRef,d=n.dark,c=n.footer,a=n.fullHeight,v=void 0===a||a,g=n.fullWidth,k=void 0===g||g,m=n.header,x=n.headerHeight,y=n.headerIcon,C=n.headerPaddingVertical,w=n.headerTitle,S=n.maxHeight,O=n.maxWidth,j=n.minWidth,B=n.noPadding,I=n.overflowVisible,E=n.subtitle,T=n.success;return(0,s.jsxs)(f,{borderless:o,dark:d,fullHeight:v,fullWidth:k,maxHeight:S,maxWidth:O,minWidth:j,overflowVisible:I,ref:i,success:T,children:[(m||w)&&(0,s.jsxs)(p,{headerPaddingVertical:C,height:x,children:[m&&m,w&&(0,s.jsx)(t.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,s.jsxs)(t.ZP,{alignItems:"center",children:[y&&y,(0,s.jsx)(l.Z,{ml:y?1:0,children:(0,s.jsx)(r.ZP,{bold:!0,default:!0,children:w})})]})})]}),(0,s.jsxs)(h,{maxHeight:S,noPadding:B,overflowVisible:I,ref:u,children:[E&&"string"===typeof E&&(0,s.jsx)(l.Z,{mb:2,children:(0,s.jsx)(r.ZP,{default:!0,children:E})}),E&&"string"!==typeof E&&E,e]}),c&&(0,s.jsx)(b,{children:c})]})}},90299:function(n,o,e){e.d(o,{Z:function(){return m}});var i=e(82684),t=e(71180),l=e(55485),r=e(64888),u=e(38276),d=e(30160),c=e(8059),a=e(38626),s=e(44897),v=e(70515),f=e(47041),p=a.default.div.withConfig({displayName:"indexstyle__TabsContainerStyle",componentId:"sc-segf7l-0"})(["padding-left:","px;padding-right:","px;"," "," ",""],v.cd*v.iI,v.cd*v.iI,(function(n){return n.noPadding&&"\n    padding: 0;\n  "}),(function(n){return n.allowScroll&&"\n    overflow: auto;\n  "}),f.w5),h=a.default.div.withConfig({displayName:"indexstyle__SelectedUnderlineStyle",componentId:"sc-segf7l-1"})(["border-radius:6px;height:","px;"," "," ",""],2,(function(n){return!n.selected&&"\n    background-color: transparent;\n  "}),(function(n){return n.selected&&!n.backgroundColor&&"\n    background-color: ".concat((n.theme||s.Z).accent.blue,";\n  ")}),(function(n){return n.selected&&n.backgroundColor&&"\n    background-color: ".concat(n.backgroundColor,";\n  ")})),b=e(95924),g=e(28598);function k(n,o){var e=n.allowScroll,a=n.compact,s=n.contained,f=n.noPadding,k=n.onClickTab,m=n.regularSizeText,x=n.selectedTabUUID,y=n.small,C=n.tabs,w=n.underlineColor,S=n.underlineStyle,O=n.uppercase,j=void 0===O||O,B=(0,i.useMemo)((function(){var n=C.length,o=[];return C.forEach((function(e,i){var s=e.Icon,f=e.IconSelected,p=e.label,C=e.uuid,O=C===x,B=O&&f||s,I=p?p():C,E=(0,g.jsxs)(l.ZP,{alignItems:"center",children:[B&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(B,{default:!O,size:2*v.iI}),(0,g.jsx)(u.Z,{mr:1})]}),(0,g.jsx)(d.ZP,{bold:!0,default:!O,noWrapping:!0,small:!m,uppercase:j,children:I})]});i>=1&&n>=2&&o.push((0,g.jsx)("div",{style:{marginLeft:(m?2:1.5)*v.iI}},"spacing-".concat(C))),O&&!S?o.push((0,g.jsx)(r.Z,{backgroundGradient:c.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,compact:a||y,onClick:function(n){(0,b.j)(n),k(e)},paddingUnitsHorizontal:1.75,paddingUnitsVertical:1.25,small:y,children:E},C)):o.push((0,g.jsxs)(l.ZP,{flexDirection:"column",style:{paddingLeft:2,paddingRight:2,paddingBottom:S?0:2,paddingTop:S?0:2},children:[(0,g.jsxs)(t.ZP,{borderLess:!0,compact:a||y,default:!0,noBackground:S,noPadding:S,onClick:function(n){(0,b.j)(n),k(e)},outline:!S,small:y,children:[!S&&E,S&&(0,g.jsx)("div",{style:{paddingBottom:(a||y?v.iI/2:v.iI)+2,paddingTop:(a||y?v.iI/2:v.iI)+2+2},children:E})]}),S&&(0,g.jsx)(h,{backgroundColor:w,selected:O})]},"button-tab-".concat(C)))})),o}),[a,k,x,y,C,S]),I=(0,g.jsx)(l.ZP,{alignItems:"center",children:B});return s?I:(0,g.jsx)(p,{allowScroll:e,noPadding:f,ref:o,children:I})}var m=i.forwardRef(k)},44375:function(n,o,e){e.d(o,{$1:function(){return l},Dy:function(){return t},IU:function(){return r}});var i=e(17717),t="--full-refresh";function l(n,o){var e,t=null===o||void 0===o?void 0:o.fullPath,l=null===n||void 0===n||null===(e=n.configuration)||void 0===e?void 0:e.file_path;if(t)return null===n||void 0===n?void 0:n.uuid;if(l){var r=l.split(i.sep),u=r[r.length-1].split(".");return u.pop(),u.join(".")}}function r(n){var o,e=null===n||void 0===n||null===(o=n.configuration)||void 0===o?void 0:o.file_path;if(e){var t=e.split(i.sep),l=t[0],r=t[t.length-1].split(".");return r.pop(),{directory:t.slice(1,t.length-1).join(i.sep),filePath:e,name:r.join("."),project:l}}return{filePath:e}}}}]);