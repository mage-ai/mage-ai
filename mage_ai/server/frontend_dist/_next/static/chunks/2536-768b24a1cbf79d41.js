"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2536],{94629:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(82394),i=t(21831),o=t(82684),l=t(50724),a=t(82555),u=t(97618),s=t(70613),c=t(59696),d=t(68899),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var m=o.forwardRef(p),h=t(62547),v=t(82571),b=t(35686),w=t(98464),y=t(46684),g=t(70515),j=t(53808),x=t(19183);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n,t=e.addProjectBreadcrumbToCustomBreadcrumbs,r=e.after,p=e.afterHidden,O=e.afterWidth,_=e.afterWidthOverride,C=e.before,I=e.beforeWidth,S=e.breadcrumbs,P=e.children,k=e.errors,N=e.headerMenuItems,H=e.headerOffset,M=e.mainContainerHeader,z=e.navigationItems,D=e.setErrors,E=e.subheaderChildren,A=e.title,B=e.uuid,T=(0,x.i)().width,L="dashboard_after_width_".concat(B),F="dashboard_before_width_".concat(B),q=(0,o.useRef)(null),U=(0,o.useState)(_?O:(0,j.U2)(L,O)),W=U[0],R=U[1],G=(0,o.useState)(!1),Q=G[0],J=G[1],X=(0,o.useState)(C?Math.max((0,j.U2)(F,I),13*g.iI):null),K=X[0],V=X[1],Y=(0,o.useState)(!1),$=Y[0],ee=Y[1],ne=(0,o.useState)(null)[1],te=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,re=null===te||void 0===te?void 0:te.projects,ie={label:function(){var e;return null===re||void 0===re||null===(e=re[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},oe=[];S?(t&&oe.push(ie),oe.push.apply(oe,(0,i.Z)(S))):(null===re||void 0===re?void 0:re.length)>=1&&oe.push.apply(oe,[ie,{bold:!0,label:function(){return A}}]),(0,o.useEffect)((function(){null===q||void 0===q||!q.current||Q||$||null===ne||void 0===ne||ne(q.current.getBoundingClientRect().width)}),[Q,W,$,K,q,ne,T]),(0,o.useEffect)((function(){Q||(0,j.t8)(L,W)}),[p,Q,W,L]),(0,o.useEffect)((function(){$||(0,j.t8)(F,K)}),[$,K,F]);var le=(0,w.Z)(O);return(0,o.useEffect)((function(){_&&le!==O&&R(O)}),[_,O,le]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{title:A}),(0,f.jsx)(c.Z,{breadcrumbs:oe,menuItems:N,project:null===re||void 0===re?void 0:re[0],version:null===re||void 0===re||null===(n=re[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===z||void 0===z?void 0:z.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(v.Z,{navigationItems:z,showMore:!0})}),(0,f.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:r,afterHeightOffset:y.Mz,afterHidden:p,afterMousedownActive:Q,afterWidth:W,before:C,beforeHeightOffset:y.Mz,beforeMousedownActive:$,beforeWidth:d.k1+(C?K:0),headerOffset:H,hideAfterCompletely:!0,leftOffset:C?d.k1:null,mainContainerHeader:M,mainContainerRef:q,setAfterMousedownActive:J,setAfterWidth:R,setBeforeMousedownActive:ee,setBeforeWidth:V,children:[E&&(0,f.jsx)(m,{children:E}),P]})})]}),k&&(0,f.jsx)(l.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,f.jsx)(a.Z,Z(Z({},k),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},14875:function(e,n,t){t.d(n,{Z3:function(){return r},ms:function(){return o},s7:function(){return i}});var r=[{autoComplete:"username",label:"Username",required:!0,uuid:"username"},{autoComplete:"email",disabled:!1,label:"Email",required:!0,type:"email",uuid:"email"}],i="password_current",o=[{autoComplete:"current-password",label:"Current password",type:"password",uuid:i},{autoComplete:"new-password",label:"New password",type:"password",uuid:"password"},{autoComplete:"new-password",label:"Confirm new password",type:"password",uuid:"password_confirmation"}]},36043:function(e,n,t){var r=t(82394),i=t(21831),o=t(75582),l=t(21764),a=t(82684),u=t(69864),s=t(71180),c=t(31882),d=t(55485),f=t(85854),p=t(44085),m=t(38276),h=t(30160),v=t(17488),b=t(35686),w=t(98464),y=t(82359),g=t(14875),j=t(86735),x=t(50178),O=t(42122),Z=t(72619),_=t(28598);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.disabledFields,t=e.hideFields,C=e.newUser,S=e.onDeleteSuccess,P=e.onSaveSuccess,k=e.showDelete,N=e.title,H=e.user,M=(0,a.useState)(!0),z=M[0],D=M[1],E=(0,a.useState)({}),A=E[0],B=E[1],T=(0,a.useState)(null),L=T[0],F=T[1],q=((0,x.PR)()||{}).owner,U=b.ZP.statuses.list().data,W=(0,a.useMemo)((function(){var e;return(null===U||void 0===U||null===(e=U.statuses)||void 0===e?void 0:e[0])||{}}),[U]),R=W.project_type,G=W.project_uuid,Q="global",J=null,X=null;R===y.k.SUB?(Q="project",J=G):R===y.k.MAIN&&(X="The roles selected here will apply to this user globally.\n                If a user has both a global role and a workspace role,\n                then the role with higher access will take precedence.");var K=b.ZP.roles.list({entity:Q,entity_ids:J?[J]:[],limit_roles:!!C},{revalidateOnFocus:!1}),V=K.data,Y=(K.mutate,(0,a.useMemo)((function(){return(null===V||void 0===V?void 0:V.roles)||[]}),[null===V||void 0===V?void 0:V.roles])),$=(0,u.Db)(C?b.ZP.users.useCreate():b.ZP.users.useUpdate(null===H||void 0===H?void 0:H.id),{onSuccess:function(e){return(0,Z.wD)(e,{callback:function(e){var n=e.user,t=g.Z3.concat(g.ms).map((function(e){return e.uuid}));t.push("id");var r=(0,O.GL)(n,t);F(r),l.Am.success(C?"New user created successfully.":"User profile successfully updated.",{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:"user-update-success-".concat(n.id)}),null===P||void 0===P||P(r)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.exception,i=n.message,o=n.type;l.Am.error((null===t||void 0===t?void 0:t.error)||r||i,{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:o})}})}}),ee=(0,o.Z)($,2),ne=ee[0],te=ee[1].isLoading,re=(0,u.Db)(b.ZP.users.useDelete(null===H||void 0===H?void 0:H.id),{onSuccess:function(e){return(0,Z.wD)(e,{callback:function(){null===S||void 0===S||S()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;alert(r),console.log(t)}})}}),ie=(0,o.Z)(re,2),oe=ie[0],le=ie[1].isLoading,ae=t?(0,i.Z)(t):[];C&&ae.push(g.s7);var ue=!ae||!ae.includes(g.s7),se=(0,w.Z)(H);(0,a.useEffect)((function(){if(H&&(!L||(null===se||void 0===se?void 0:se.id)!==(null===H||void 0===H?void 0:H.id))){var e=g.Z3.concat(g.ms).map((function(e){return e.uuid}));F((0,O.GL)(H,e))}null!==L&&void 0!==L&&L.password||null!==L&&void 0!==L&&L.password_confirmation?(null===L||void 0===L?void 0:L.password)!==(null===L||void 0===L?void 0:L.password_confirmation)?B({password_confirmation:"Password confirmation does not match."}):!ue||null!==L&&void 0!==L&&L.password_current?B(null):B({password_current:"This field is required."}):null!==L&&void 0!==L&&L.password_current&&ue?null!==L&&void 0!==L&&L.password&&null!==L&&void 0!==L&&L.password_confirmation?B(null):B({password:"This field is required.",password_confirmation:"This field is required."}):null!==L&&void 0!==L&&L.password_current||null!==L&&void 0!==L&&L.password||null!==L&&void 0!==L&&L.password_confirmation||B(null)}),[L,ue,H,se]);var ce=(0,a.useState)(!1),de=ce[0],fe=ce[1],pe=(0,a.useMemo)((function(){return(de?null===L||void 0===L?void 0:L.roles_new:null===H||void 0===H?void 0:H.roles_new)||[]}),[L,de,H]),me=(0,a.useMemo)((function(){var e=(null===Y||void 0===Y?void 0:Y.map((function(e){return e.id})))||[];return null===pe||void 0===pe?void 0:pe.filter((function(n){var t=n.id;return e.includes(t)}))}),[pe,Y]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f.Z,{children:N||"Edit profile"}),(0,_.jsxs)("form",{children:[g.Z3.filter((function(e){var n=e.uuid;return!ae||!ae.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,i=e.label,o=e.required,l=e.type,a=e.uuid;return(0,_.jsx)(m.Z,{mt:2,children:(0,_.jsx)(v.Z,{autoComplete:n,disabled:t&&!C,label:i,onChange:function(e){D(!1),F((function(n){return I(I({},n),{},(0,r.Z)({},a,e.target.value))}))},primary:!0,required:o,setContentOnMount:!0,type:l,value:(null===L||void 0===L?void 0:L[a])||""})},a)})),!(null!==H&&void 0!==H&&H.owner)&&!(null!==ae&&void 0!==ae&&ae.includes("roles"))&&(0,_.jsxs)(m.Z,{mt:2,children:[X&&(0,_.jsx)(m.Z,{mb:1,children:(0,_.jsx)(h.ZP,{children:X})}),(0,_.jsx)(p.Z,{disabled:null===n||void 0===n?void 0:n.includes("roles"),label:"Roles",onChange:function(e){var n=(0,j.sE)(Y,(function(n){return n.id==e.target.value}));n&&(D(!1),fe(!0),F((function(e){var t={};return(0,j.sE)(pe,(function(e){return e.id==(null===n||void 0===n?void 0:n.id)}))||(t={roles_new:[].concat((0,i.Z)(pe),[n])}),I(I({},e),t)})))},primary:!0,setContentOnMount:!0,children:Y.map((function(e){var n=e.id,t=e.name;return(0,_.jsx)("option",{value:n,children:t},t)}))}),(0,_.jsx)(m.Z,{mb:1}),(0,_.jsx)(d.ZP,{alignItems:"center",flexWrap:"wrap",children:null===me||void 0===me?void 0:me.map((function(e){var t=e.id,r=e.name;return(0,_.jsx)(m.Z,{mb:1,mr:1,children:(0,_.jsx)(c.Z,{disabled:null===n||void 0===n?void 0:n.includes("roles"),label:r,onClick:function(){D(!1),fe(!0),F((function(e){return I(I({},e),{},{roles_new:(0,j.Od)(pe,(function(e){return e.id===t}))})}))},primary:!0})},"user_roles/".concat(r))}))})]}),(0,_.jsxs)(m.Z,{mt:5,children:[(0,_.jsx)(f.Z,{children:C?"Password":"Change password"}),g.ms.filter((function(e){var n=e.uuid;return!ae||!ae.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,i=e.label,o=e.required,l=e.type,a=e.uuid;return(0,_.jsx)(m.Z,{mt:2,children:(0,_.jsx)(v.Z,{autoComplete:n,disabled:t,label:i,meta:{error:null===A||void 0===A?void 0:A[a],touched:!(null===A||void 0===A||!A[a])},onChange:function(e){D(!1),F((function(n){return I(I({},n),{},(0,r.Z)({},a,e.target.value))}))},primary:!0,required:o,setContentOnMount:!0,type:l,value:(null===L||void 0===L?void 0:L[a])||""})},a)}))]}),(0,_.jsx)(m.Z,{mt:5,children:(0,_.jsxs)(d.ZP,{children:[(0,_.jsx)(s.Z,{disabled:z||A&&!(0,O.Qr)(A),loading:te,onClick:function(){var e,n=I({},L);"roles_new"in n&&(n.roles_new=null===(e=L.roles_new)||void 0===e?void 0:e.map((function(e){return e.id})));ne({user:n})},primary:!0,children:C?"Create new user":"Update user profile"}),k&&q&&(0,_.jsx)(m.Z,{ml:1,children:(0,_.jsx)(s.Z,{danger:!0,loading:le,onClick:function(){window.confirm("Are you sure you want to delete ".concat(L.username||L.email,"?"))&&oe()},children:"Delete user"})})]})})]})]})}},82359:function(e,n,t){var r,i;t.d(n,{d:function(){return r},k:function(){return i}}),function(e){e.ADD_NEW_BLOCK_V2="add_new_block_v2",e.LOCAL_TIMEZONE="display_local_timezone"}(r||(r={})),function(e){e.MAIN="main",e.STANDALONE="standalone",e.SUB="sub"}(i||(i={}))},31882:function(e,n,t){var r=t(38626),i=t(71180),o=t(55485),l=t(38276),a=t(30160),u=t(44897),s=t(72473),c=t(70515),d=t(61896),f=t(28598),p=r.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||u.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||u.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((c.iI+d.Al)/2,"px;\n    height: ").concat(1.5*c.iI+d.Al,"px;\n    padding: ").concat(c.iI/1.5,"px ").concat(1.25*c.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((c.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+c.iI/2+2,"px;\n    padding: ").concat(c.iI/4,"px ").concat(c.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||u.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,r=e.disabled,u=e.label,d=e.onClick,m=e.primary,h=e.small;return(0,f.jsx)(p,{border:n,primary:m,small:h,children:(0,f.jsx)(i.Z,{basic:!0,disabled:r,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,f.jsxs)(o.ZP,{alignItems:"center",children:[t,u&&(0,f.jsx)(a.ZP,{small:h,children:u}),!r&&d&&(0,f.jsx)(l.Z,{ml:1,children:(0,f.jsx)(s.x8,{default:m,muted:!m,size:h?c.iI:1.25*c.iI})})]})})})}},85854:function(e,n,t){var r,i,o,l,a,u,s,c,d=t(82394),f=t(26304),p=t(26653),m=t(38626),h=t(33591),v=t(44897),b=t(95363),w=t(61896),y=t(30160),g=t(70515),j=t(38276),x=t(28598),O=["children","condensed","inline","level","marketing","spacingBelow"];function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=(0,m.css)([""," margin:0;"," "," "," "," "," "," "," "," "," "," "," "," ",""],y.IH,(function(e){return e.color&&"\n    color: ".concat(e.color,"\n  ")}),(function(e){return e.yellow&&"\n    color: ".concat((e.theme.accent||v.Z.accent).yellow,";\n  ")}),(function(e){return e.center&&"\n    text-align: center;\n  "}),(function(e){return!e.monospace&&0===Number(e.weightStyle)&&"\n    font-family: ".concat(b.iI,";\n  ")}),(function(e){return!e.monospace&&1===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&2===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&3===Number(e.weightStyle)&&"\n    font-family: ".concat(b.ry,";\n  ")}),(function(e){return!e.monospace&&4===Number(e.weightStyle)&&"\n    font-family: ".concat(b.YC,";\n  ")}),(function(e){return!e.monospace&&5===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&(6===Number(e.weightStyle)||e.bold)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&7===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&8===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return e.lineHeightAuto&&"\n    line-height: normal !important;\n  "})),I=m.default.div.withConfig({displayName:"Headline__HeadlineContainerStyle",componentId:"sc-12jzt2e-0"})(["",""],(function(e){return"\n    color: ".concat((e.theme.content||v.Z.content).active,";\n  ")})),S=m.default.h1.withConfig({displayName:"Headline__H1HeroStyle",componentId:"sc-12jzt2e-1"})([""," font-size:42px;line-height:56px;"," "," ",""],C,h.media.md(r||(r=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.lg(i||(i=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.xl(o||(o=(0,p.Z)(["\n    ","\n  "])),w.aQ)),P=m.default.h1.withConfig({displayName:"Headline__H1Style",componentId:"sc-12jzt2e-2"})([""," ",""],C,w.MJ),k=m.default.h1.withConfig({displayName:"Headline__H1MarketingStyle",componentId:"sc-12jzt2e-3"})([""," "," "," "," "," ",""],C,h.media.xs(l||(l=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.sm(a||(a=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.md(u||(u=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.lg(s||(s=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.xl(c||(c=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI)),N=m.default.h2.withConfig({displayName:"Headline__H2Style",componentId:"sc-12jzt2e-4"})([""," ",""],C,w.BL),H=m.default.h3.withConfig({displayName:"Headline__H3Style",componentId:"sc-12jzt2e-5"})([""," font-size:24px;line-height:32px;"],C),M=m.default.h4.withConfig({displayName:"Headline__H4Style",componentId:"sc-12jzt2e-6"})([""," font-size:20px;line-height:28px;"],C),z=m.default.h5.withConfig({displayName:"Headline__H5Style",componentId:"sc-12jzt2e-7"})([""," font-size:18px;line-height:26px;"],C),D=m.default.span.withConfig({displayName:"Headline__SpanStyle",componentId:"sc-12jzt2e-8"})([""," "," "," "," ",""],C,(function(e){return 1===e.level&&"\n    ".concat(w.MJ,"\n  ")}),(function(e){return 2===e.level&&"\n    ".concat(w.BL,"\n  ")}),(function(e){return 3===e.level&&"\n    font-size: 24px;\n    line-height: 32px;\n  "}),(function(e){return 4===e.level&&"\n    font-size: 20px;\n    line-height: 28px;\n  "})),E=function(e){var n,t=e.children,r=e.condensed,i=e.inline,o=e.level,l=e.marketing,a=e.spacingBelow,u=(0,f.Z)(e,O);i?n=D:0===Number(o)?n=S:1===Number(o)?n=l?k:P:2===Number(o)?n=N:3===Number(o)?n=H:4===Number(o)?n=M:5===Number(o)&&(n=z);var s=(0,x.jsxs)(n,_(_({},u),{},{level:o,children:[a&&(0,x.jsx)(j.Z,{mb:r?2:3,children:t}),!a&&t]}));return i?s:(0,x.jsx)(I,{children:s})};E.defaultProps={level:3,weightStyle:6},n.Z=E}}]);