"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5627],{52749:function(e,n,i){var r=i(82394),t=i(82684),l=i(71180),o=i(55485),d=i(68562),s=i(7267),c=i(38276),u=i(30160),a=i(35576),p=i(17488),f=i(72473),h=i(4015),v=i(70515),j=i(81728),g=i(28598);function m(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function b(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?m(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):m(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}n.Z=function(e){var n,i,r,m,x=e.createPipeline,P=e.isLoading,w=e.onClose,Z=(0,t.useRef)(null),O=(0,t.useState)(!1),C=O[0],y=O[1],I=(0,t.useState)({name:(0,j.Y6)()}),k=I[0],A=I[1];return(0,t.useEffect)((function(){var e;null===Z||void 0===Z||null===(e=Z.current)||void 0===e||e.focus()}),[]),(0,g.jsxs)(h.Nk,{children:[(0,g.jsx)(h.I5,{children:(0,g.jsx)(o.ZP,{alignItems:"center",justifyContent:"center",children:(0,g.jsx)(f.AISparkle,{size:5*v.iI,warning:!0})})}),(0,g.jsx)(h.gI,{children:(0,g.jsxs)(c.Z,{py:1,children:[(0,g.jsx)(c.Z,{mb:1,children:(0,g.jsx)(u.ZP,{default:!0,children:"New pipeline"})}),(0,g.jsx)(u.ZP,{textOverflow:!0,children:"Using AI"})]})}),(0,g.jsxs)(h.gI,{children:[(0,g.jsx)(u.ZP,{default:!0,children:"Name"}),(0,g.jsx)(p.Z,{alignRight:!0,noBackground:!0,noBorder:!0,onChange:function(e){return A((function(n){return b(b({},n),{},{name:e.target.value})}))},paddingVertical:v.iI,placeholder:"Enter pipeline name...",value:(null===k||void 0===k?void 0:k.name)||""})]}),(0,g.jsx)(h.gI,{children:(0,g.jsxs)(o.ZP,{flexDirection:"column",fullWidth:!0,children:[(0,g.jsx)(c.Z,{mb:2,pt:1,children:(0,g.jsx)(u.ZP,{default:!0,children:"Describe what the pipeline should do"})}),(0,g.jsxs)(c.Z,{pb:1,pr:v.cd,children:[(0,g.jsx)(a.Z,{fullWidth:!0,onChange:function(e){return A((function(n){return b(b({},n),{},{llm:{request:{pipeline_description:e.target.value},use_case:s.z.GENERATE_PIPELINE_WITH_DESCRIPTION}})}))},placeholder:"Type the pipeline purpose...",ref:Z,rows:8,value:(null===k||void 0===k||null===(n=k.llm)||void 0===n||null===(i=n.request)||void 0===i?void 0:i.pipeline_description)||""}),(P||C)&&(0,g.jsx)(c.Z,{mt:1,children:(0,g.jsx)(u.ZP,{warning:!0,children:"Pipeline is being generated using AI based on your description above..."})})]})]})}),(0,g.jsx)(h.$b,{children:(0,g.jsxs)(o.ZP,{fullWidth:!0,children:[(0,g.jsx)(d.ZP,{bold:!0,centerText:!0,disabled:!(null!==k&&void 0!==k&&k.name)||!(null!==k&&void 0!==k&&null!==(r=k.llm)&&void 0!==r&&null!==(m=r.request)&&void 0!==m&&m.pipeline_description),loading:P||C,onClick:function(){y(!0),x({pipeline:k}).then((function(){return y(!1)}))},primary:!0,tabIndex:0,uuid:"AIControlPanel/CreatePipeline",children:"Create pipeline"}),w&&(0,g.jsx)(c.Z,{ml:1,children:(0,g.jsx)(l.ZP,{onClick:w,tabIndex:0,children:"Cancel"})})]})})]})}},94629:function(e,n,i){i.d(n,{Z:function(){return Z}});var r=i(82394),t=i(21831),l=i(82684),o=i(50724),d=i(1402),s=i(97618),c=i(70613),u=i(31557),a=i(68899),p=i(28598);function f(e,n){var i=e.children,r=e.noPadding;return(0,p.jsx)(a.HS,{noPadding:r,ref:n,children:i})}var h=l.forwardRef(f),v=i(62547),j=i(82571),g=i(77417),m=i(46684),b=i(75375);function x(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function P(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?x(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function w(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var i=e.after,r=e.afterHeader,l=e.afterHidden,f=e.afterWidth,x=e.afterWidthOverride,w=e.appendBreadcrumbs,Z=e.before,O=e.beforeHeader,C=e.beforeWidth,y=e.breadcrumbs,I=e.children,k=e.contained,A=e.errors,M=e.headerMenuItems,E=e.headerOffset,W=e.hideAfterCompletely,T=e.mainContainerHeader,B=e.navigationItems,S=e.setAfterHidden,N=e.setAfterWidth,D=e.setBeforeWidth,H=e.setErrors,R=e.subheaderChildren,_=e.subheaderNoPadding,z=e.title,L=e.uuid,q=(0,b.Z)(L,{beforeResizeOffset:b.H,setWidthAfter:N,setWidthBefore:D,widthAfter:f,widthBefore:C,widthOverrideAfter:x}),Y=q.mainContainerRef,F=q.mousedownActiveAfter,G=q.mousedownActiveBefore,U=q.setMousedownActiveAfter,V=q.setMousedownActiveBefore,$=q.setWidthAfter,K=q.setWidthBefore,Q=q.widthAfter,J=q.widthBefore,X=(0,g.Z)().project,ee=[];return y&&ee.push.apply(ee,(0,t.Z)(y)),null!==y&&void 0!==y&&y.length&&!w||!X||null!==y&&void 0!==y&&y.length||ee.unshift({bold:!w,label:function(){return z}}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(c.Z,{title:z}),(0,p.jsx)(u.Z,{breadcrumbs:ee,menuItems:M}),(0,p.jsxs)(a.Nk,{ref:n,children:[0!==(null===B||void 0===B?void 0:B.length)&&(0,p.jsx)(a.lm,{showMore:!0,children:(0,p.jsx)(j.Z,{navigationItems:B,showMore:!0})}),(0,p.jsx)(s.Z,{flex:1,flexDirection:"column",children:(0,p.jsxs)(v.Z,{after:i,afterHeader:r,afterHeightOffset:m.Mz,afterHidden:l,afterMousedownActive:F,afterWidth:Q,before:Z,beforeHeader:O,beforeHeightOffset:m.Mz,beforeMousedownActive:G,beforeWidth:Z?J:a.k1,contained:k,headerOffset:E,hideAfterCompletely:!i||W,leftOffset:Z?a.k1:null,mainContainerHeader:T,mainContainerRef:Y,setAfterHidden:S,setAfterMousedownActive:U,setAfterWidth:$,setBeforeMousedownActive:V,setBeforeWidth:K,children:[R&&(0,p.jsx)(h,{noPadding:_,children:R}),I]})})]}),A&&(0,p.jsx)(o.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===H||void 0===H?void 0:H(null)},children:(0,p.jsx)(d.Z,P(P({},A),{},{onClose:function(){return null===H||void 0===H?void 0:H(null)}}))})]})}var Z=l.forwardRef(w)},65458:function(e,n,i){i.d(n,{d:function(){return c}});var r=i(72473),t=i(57653),l=i(70515),o=i(81728),d=i(28598),s=1.5*l.iI,c=function(e,n){var i=[{beforeIcon:(0,d.jsx)(r.BatchPipeline,{}),label:function(){return"Standard (batch)"},onClick:function(){var i;null!==n&&void 0!==n&&n.showCreatePipelineModal?null===n||void 0===n||null===(i=n.showCreatePipelineModal)||void 0===i||i.call(n,{pipelineType:t.qL.PYTHON}):e({pipeline:{name:(0,o.Y6)()}})},uuid:"Pipelines/NewPipelineMenu/standard"},{beforeIcon:(0,d.jsx)(r.IntegrationPipeline,{}),label:function(){return"Data integration"},onClick:function(){var i;null!==n&&void 0!==n&&n.showCreatePipelineModal?null===n||void 0===n||null===(i=n.showCreatePipelineModal)||void 0===i||i.call(n,{pipelineType:t.qL.INTEGRATION}):e({pipeline:{name:(0,o.Y6)(),type:t.qL.INTEGRATION}})},uuid:"Pipelines/NewPipelineMenu/integration"},{beforeIcon:(0,d.jsx)(r.StreamingPipeline,{size:s}),label:function(){return"Streaming"},onClick:function(){var i;null!==n&&void 0!==n&&n.showCreatePipelineModal?null===n||void 0===n||null===(i=n.showCreatePipelineModal)||void 0===i||i.call(n,{pipelineType:t.qL.STREAMING}):e({pipeline:{name:(0,o.Y6)(),type:t.qL.STREAMING}})},uuid:"Pipelines/NewPipelineMenu/streaming"}];return null!==n&&void 0!==n&&n.showBrowseTemplates&&i.push({beforeIcon:(0,d.jsx)(r.TemplateShapes,{}),label:function(){return"From a template"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showBrowseTemplates)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/custom_template"}),null!==n&&void 0!==n&&n.showImportPipelineModal&&i.push({beforeIcon:(0,d.jsx)(r.Upload,{}),label:function(){return"Import pipeline zip"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showImportPipelineModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/upload"}),null!==n&&void 0!==n&&n.showAIModal&&i.push({beforeIcon:(0,d.jsx)(r.AISparkle,{}),label:function(){return"Using AI (beta)"},onClick:function(){var e;return null===n||void 0===n||null===(e=n.showAIModal)||void 0===e?void 0:e.call(n)},uuid:"Pipelines/NewPipelineMenu/AI_modal"}),i}},76111:function(e,n,i){var r=i(82394),t=i(82684),l=i(71180),o=i(97618),d=i(55485),s=i(68562),c=i(38276),u=i(30160),a=i(35576),p=i(17488),f=i(44897),h=i(4015),v=i(39643),j=i(57653),g=i(70515),m=i(81728),b=i(28598);function x(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function P(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?x(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}n.Z=function(e){var n=e.onClose,i=e.onSave,r=e.pipelineType,x=j.Mj[r],w=(0,t.useRef)(null),Z=(0,t.useState)({name:(0,m.Y6)()}),O=Z[0],C=Z[1];(0,t.useEffect)((function(){var e;null===w||void 0===w||null===(e=w.current)||void 0===e||e.focus()}),[]);var y=(0,t.useCallback)((function(){var e=null===O||void 0===O?void 0:O.tags,r=[];e&&(r=e.split(",").map((function(e){return e.trim()})).filter((function(e){return!!e}))),i(P(P({},O),{},{name:(null===O||void 0===O?void 0:O.name)||(0,m.Y6)(),tags:r})),null===n||void 0===n||n()}),[O,n,i]);return(0,t.useEffect)((function(){var e,i=function(e){if(e.stopPropagation(),e.key===v.KW)null===n||void 0===n||n();else if(e.key===v.tt){var i=e.target.innerText;i.startsWith("Create")||"Cancel"===i||y()}};return null===(e=document)||void 0===e||e.addEventListener("keydown",i),function(){var e;null===(e=document)||void 0===e||e.removeEventListener("keydown",i)}}),[y,n]),(0,b.jsxs)(h.Nk,{width:55*g.iI,children:[(0,b.jsx)(h.I5,{lightBackground:!0,children:(0,b.jsxs)(d.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,b.jsx)(u.ZP,{bold:!0,cyan:!0,largeLg:!0,children:"".concat(j.G7[r]," pipeline")}),(0,b.jsx)(x,{fill:f.Z.accent.cyan,size:10*g.iI})]})}),(0,b.jsxs)(h.gI,{lightBackground:!0,children:[(0,b.jsx)(u.ZP,{default:!0,children:"Name"}),(0,b.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){C((function(n){return P(P({},n),{},{name:e.target.value})}))},paddingVertical:g.iI,placeholder:"Pipeline name...",ref:w,value:(null===O||void 0===O?void 0:O.name)||""})]}),(0,b.jsxs)(h.gI,{lightBackground:!0,children:[(0,b.jsx)(u.ZP,{default:!0,children:"Description"}),(0,b.jsx)(c.Z,{ml:9}),(0,b.jsx)(c.Z,{fullWidth:!0,px:2,py:1,children:(0,b.jsx)(a.Z,{onChange:function(e){C((function(n){return P(P({},n),{},{description:e.target.value})}))},rows:2,value:(null===O||void 0===O?void 0:O.description)||""})})]}),(0,b.jsxs)(h.gI,{lightBackground:!0,children:[(0,b.jsx)(u.ZP,{default:!0,children:"Tags"}),(0,b.jsx)(p.Z,{alignRight:!0,fullWidth:!0,noBackground:!0,noBorder:!0,onChange:function(e){var n=e.target.value;C((function(e){return P(P({},e),{},{tags:n})}))},paddingVertical:g.iI,placeholder:"e.g. tag_1, tag_2",value:(null===O||void 0===O?void 0:O.tags)||""})]}),(0,b.jsx)(h.$b,{topBorder:!0,children:(0,b.jsxs)(d.ZP,{fullWidth:!0,children:[(0,b.jsx)(o.Z,{flex:"1",children:(0,b.jsx)(l.ZP,{fullWidth:!0,onClick:n,children:"Cancel"})}),(0,b.jsx)(c.Z,{ml:1}),(0,b.jsx)(o.Z,{flex:"1",children:(0,b.jsx)(s.ZP,{bold:!0,centerText:!0,disabled:!(null!==O&&void 0!==O&&O.name),fullWidth:!0,onClick:y,primary:!0,uuid:"ConfigurePipeline/CreatePipeline",children:"Create"})})]})})]})}},70026:function(e,n,i){var r=i(75582),t=i(34376),l=i.n(t),o=i(82684),d=i(71180),s=i(84143),c=i(55485),u=i(65956),a=i(89515),p=i(35185),f=i(38276),h=i(75499),v=i(30160),j=i(69650),g=i(65327),m=i(42122),b=i(86735),x=i(70515),P=i(89538),w=i(28598);n.Z=function(e){var n=e.fetchPipelines,i=e.onCancel,t=(0,o.useState)(!1),Z=t[0],O=t[1],C=(0,o.useState)(!1),y=C[0],I=C[1],k=(0,o.useState)({}),A=k[0],M=k[1],E=(0,o.useState)({}),W=E[0],T=E[1],B=!(0,m.Qr)(A),S=(0,P.dd)((function(){var e=Object.values(W)[0],n=null===e||void 0===e?void 0:e.message,r=!!n;return(0,w.jsx)(a.Z,{cancelText:r?null:"Edit ".concat(null===e||void 0===e?void 0:e.name),centerOnScreen:!0,confirmText:"Close",danger:r,neutral:!r,onCancel:r?void 0:function(){return l().push("/pipelines/[pipeline]/edit","/pipelines/".concat(null===e||void 0===e?void 0:e.name,"/edit"))},onClick:function(){return i()},subtitle:r?n:"Pipeline ".concat(null===e||void 0===e?void 0:e.name," successfully imported!"),title:r?"Error on pipeline import.":"Successful import!",width:50*x.iI})}),{},[W],{background:!0,uuid:"confirm_upload"}),N=(0,r.Z)(S,1)[0],D=(0,o.useMemo)((function(){var e=[];return(0,b.YC)(Object.entries(A),(function(e){var n=(0,r.Z)(e,2),i=n[0];n[1];return i})).forEach((function(n){var i=(0,r.Z)(n,2),t=i[0],l=i[1],o=W[t],d=null===o||void 0===o?void 0:o.message;e.push([(0,w.jsxs)("div",{children:[(0,w.jsx)(v.ZP,{overflowWrap:!0,preWrap:!0,children:t}),d&&(0,w.jsx)(f.Z,{mt:1,children:(0,w.jsx)(v.ZP,{danger:!0,small:!0,children:d})})]},"name-".concat(t)),(0,w.jsx)(p.Z,{danger:!!d,progress:100*l},"progress-".concat(t))])})),(0,w.jsx)(h.Z,{columnFlex:[1,4],columns:[{uuid:"Filename"},{uuid:"Upload progress"}],rows:e,uuid:"block-runs"})}),[A,W]);return(0,w.jsxs)(u.Z,{footer:(0,w.jsxs)(c.ZP,{fullWidth:!0,justifyContent:"space-between",children:[(0,w.jsx)(d.ZP,{onClick:function(){return i()},children:"Close"}),(0,w.jsx)(f.Z,{ml:1,children:(0,w.jsxs)(c.ZP,{alignItems:"center",justifyContent:"flex-end",children:[(0,w.jsx)(v.ZP,{children:"Overwrite pipeline files"}),(0,w.jsx)(f.Z,{ml:1}),(0,w.jsx)(j.Z,{checked:Z,onCheck:O})]})})]}),headerTitle:"Import pipeline from .zip file",children:[B&&(0,w.jsx)(g.kA,{children:D}),!B&&(0,w.jsxs)(s.Z,{directoryPath:null,onDragActiveChange:I,overwrite:Z,pipelineZip:!0,setFileUploadProgress:M,setUploadedFiles:function(e){T(e),N(),null===n||void 0===n||n()},children:[(0,w.jsx)(g.es,{children:(0,w.jsxs)(v.ZP,{center:!0,children:[y&&"Drop pipeline zip to import",!y&&"Click or drop pipeline zip to upload"]})}),(0,w.jsx)(f.Z,{mt:2,children:(0,w.jsxs)(v.ZP,{warning:!0,children:["The zip file should include the pipeline\u2019s metadata.yaml file and each",(0,w.jsx)("br",{}),"block\u2019s script file in the root folder."]})})]})]})}}}]);