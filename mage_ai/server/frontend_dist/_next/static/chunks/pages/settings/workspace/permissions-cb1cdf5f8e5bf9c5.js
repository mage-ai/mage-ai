(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4085],{34331:function(n,e,t){"use strict";t.r(e);var i=t(77837),r=t(38860),s=t.n(r),u=t(82684),c=t(34376),o=t(71180),d=t(15338),l=t(55485),a=t(58146),p=t(93808),m=t(28274),f=t(38276),h=t(75499),v=t(30160),x=t(35686),j=t(72473),Z=t(70515),_=t(24755),P=t(3917),w=t(36717),b=t(28598);function k(){var n=(0,c.useRouter)(),e=(0,u.useState)(!1),t=e[0],i=e[1],r=x.ZP.permissions.list().data,s=(0,u.useMemo)((function(){return(null===r||void 0===r?void 0:r.permissions)||[]}),[r]),p=[{bold:!t,label:function(){return"Permissions"}}];return t?(p[0].onClick=function(){return i(!1)},p.push({bold:!0,label:function(){return"New permission"}})):p[0].linkProps={href:"/settings/workspace/permissions"},(0,b.jsxs)(m.Z,{appendBreadcrumbs:!0,breadcrumbs:p,title:"Permissions",uuidItemSelected:_.B2.PERMISSIONS,uuidWorkspaceSelected:_.Pl.USER_MANAGEMENT,children:[t&&(0,b.jsx)(a.Z,{contained:!0,onCancel:function(){return i(!1)}}),!t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Z,{p:Z.cd,children:(0,b.jsx)(o.Z,{beforeIcon:(0,b.jsx)(j.QM,{}),onClick:function(){return i(!0)},primary:!0,children:"Add new permission"})}),(0,b.jsx)(d.Z,{light:!0}),(0,b.jsx)(h.Z,{columnFlex:[3,1,null,6,null,null],columns:[{uuid:"Entity"},{uuid:"Subtype"},{uuid:"Entity ID"},{uuid:"Access"},{uuid:"Last updated"},{rightAligned:!0,uuid:"Created at"}],onClickRow:function(e){var t,i=null===(t=s[e])||void 0===t?void 0:t.id;n.push("/settings/workspace/permissions/".concat(i))},rows:null===s||void 0===s?void 0:s.map((function(n){var e=n.access,t=n.created_at,i=n.entity,r=n.entity_id,s=n.entity_name,u=n.entity_type,c=(n.id,n.updated_at),o=(n.user,e?(0,w.q)(e):[]),d=(null===o||void 0===o?void 0:o.length)||0;return[(0,b.jsx)(v.ZP,{monospace:!0,children:s||i},"entityName"),(0,b.jsx)(v.ZP,{default:!0,monospace:!!u,children:u||"-"},"entityType"),(0,b.jsx)(v.ZP,{default:!0,monospace:!!r,children:r||"-"},"entityID"),(0,b.jsx)("div",{children:d>=1&&(0,b.jsx)(l.ZP,{alignItems:"center",flexWrap:"wrap",children:null===o||void 0===o?void 0:o.map((function(n,e){return(0,b.jsx)("div",{children:(0,b.jsxs)(v.ZP,{default:!0,monospace:!0,small:!0,children:[n,d>=2&&e<d-1&&(0,b.jsx)(v.ZP,{inline:!0,muted:!0,small:!0,children:",\xa0"})]})},n)}))})},"access"),(0,b.jsx)(v.ZP,{monospace:!0,default:!0,children:c&&(0,P.d$)(c)},"updatedAt"),(0,b.jsx)(v.ZP,{monospace:!0,default:!0,rightAligned:!0,children:t&&(0,P.d$)(t)},"createdAt")]})),uuid:"permissions"})]})]})}k.getInitialProps=(0,i.Z)(s().mark((function n(){return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{});case 1:case"end":return n.stop()}}),n)}))),e.default=(0,p.Z)(k)},36717:function(n,e,t){"use strict";t.d(e,{q:function(){return s}});var i=t(75582),r=t(36288);function s(n){return Object.entries(r.K4).reduce((function(e,t){var r=(0,i.Z)(t,2),s=r[0],u=r[1];return n&Number(s)?e.concat(u):e}),[])}},65960:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/workspace/permissions",function(){return t(34331)}])}},function(n){n.O(0,[844,2083,8013,600,4636,8264,4666,5499,3684,8146,9774,2888,179],(function(){return e=65960,n(n.s=e);var e}));var e=n.O();_N_E=e}]);