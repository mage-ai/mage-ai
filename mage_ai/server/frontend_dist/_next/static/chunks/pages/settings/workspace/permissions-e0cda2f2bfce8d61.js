(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4085],{34331:function(e,n,t){"use strict";t.r(n);var i=t(77837),r=t(38860),s=t.n(r),u=t(82684),c=t(34376),o=t(71180),d=t(15338),l=t(55485),a=t(58146),p=t(93808),m=t(28274),f=t(38276),h=t(75499),x=t(30160),j=t(35686),_=t(72473),P=t(70515),Z=t(24755),v=t(3917),w=t(36717),b=t(28598);function k(){var e=(0,c.useRouter)(),n=(0,u.useState)(!1),t=n[0],i=n[1],r=j.ZP.permissions.list({_limit:1e3}).data,s=(0,u.useMemo)((function(){return(null==r?void 0:r.permissions)||[]}),[r]),p=[{bold:!t,label:function(){return"Permissions"}}];return t?(p[0].onClick=function(){return i(!1)},p.push({bold:!0,label:function(){return"New permission"}})):p[0].linkProps={href:"/settings/workspace/permissions"},(0,b.jsxs)(m.Z,{appendBreadcrumbs:!0,breadcrumbs:p,title:"Permissions",uuidItemSelected:Z.B2.PERMISSIONS,uuidWorkspaceSelected:Z.Pl.USER_MANAGEMENT,children:[t&&(0,b.jsx)(a.Z,{contained:!0,onCancel:function(){return i(!1)}}),!t&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(f.Z,{p:P.cd,children:(0,b.jsx)(o.ZP,{beforeIcon:(0,b.jsx)(_.Locked,{}),onClick:function(){return i(!0)},primary:!0,children:"Add new permission"})}),(0,b.jsx)(d.Z,{light:!0}),(0,b.jsx)(h.Z,{columnFlex:[3,1,null,6,null,null],columns:[{uuid:"Entity"},{uuid:"Subtype"},{uuid:"Entity ID"},{uuid:"Access"},{uuid:"Last updated"},{rightAligned:!0,uuid:"Created at"}],onClickRow:function(n){var t,i=null===(t=s[n])||void 0===t?void 0:t.id;e.push("/settings/workspace/permissions/".concat(i))},rows:null==s?void 0:s.map((function(e){var n=e.access,t=e.created_at,i=e.entity,r=e.entity_id,s=e.entity_name,u=e.entity_type,c=(e.id,e.updated_at),o=(e.user,n?(0,w.q)(n):[]),d=(null==o?void 0:o.length)||0;return[(0,b.jsx)(x.ZP,{monospace:!0,children:s||i},"entityName"),(0,b.jsx)(x.ZP,{default:!0,monospace:!!u,children:u||"-"},"entityType"),(0,b.jsx)(x.ZP,{default:!0,monospace:!!r,children:r||"-"},"entityID"),(0,b.jsx)("div",{children:d>=1&&(0,b.jsx)(l.ZP,{alignItems:"center",flexWrap:"wrap",children:null==o?void 0:o.map((function(e,n){return(0,b.jsx)("div",{children:(0,b.jsxs)(x.ZP,{default:!0,monospace:!0,small:!0,children:[e,d>=2&&n<d-1&&(0,b.jsx)(x.ZP,{inline:!0,muted:!0,small:!0,children:",Â "})]})},e)}))})},"access"),(0,b.jsx)(x.ZP,{monospace:!0,default:!0,children:c&&(0,v.d$)(c)},"updatedAt"),(0,b.jsx)(x.ZP,{monospace:!0,default:!0,rightAligned:!0,children:t&&(0,v.d$)(t)},"createdAt")]})),uuid:"permissions"})]})]})}k.getInitialProps=(0,i.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,p.Z)(k)},36717:function(e,n,t){"use strict";t.d(n,{q:function(){return s}});var i=t(75582),r=t(36288);function s(e){return Object.entries(r.K4).reduce((function(n,t){var r=(0,i.Z)(t,2),s=r[0],u=r[1];return e&Number(s)?n.concat(u):n}),[])}},65960:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/workspace/permissions",function(){return t(34331)}])}},function(e){e.O(0,[1557,5699,7779,9774,2888,179],(function(){return n=65960,e(e.s=n);var n}));var n=e.O();_N_E=n}]);