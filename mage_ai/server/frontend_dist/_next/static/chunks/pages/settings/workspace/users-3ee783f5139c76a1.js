(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2287],{87992:function(e,n,r){"use strict";r.r(n);var u=r(77837),s=r(38860),t=r.n(s),i=r(82684),a=r(34376),l=r(71180),d=r(15338),c=r(93808),o=r(28274),f=r(38276),m=r(75499),p=r(30160),h=r(37361),_=r(35686),w=r(72473),x=r(70515),v=r(24755),P=r(3917),Z=r(50178),j=r(28598);function b(){var e=(0,a.useRouter)(),n=(0,i.useState)(!1),r=n[0],u=n[1],s=(0,Z.PR)(null==e?void 0:e.basePath)||{},t=(s.id,s.owner),c=_.ZP.users.list({},{revalidateOnFocus:!1}).data,b=(0,i.useMemo)((function(){return(null==c?void 0:c.users)||[]}),[null==c?void 0:c.users]),k=[{bold:!r,label:function(){return"Users"}}];return r?(k[0].onClick=function(){return u(!1)},k.push({bold:!0,label:function(){return"New user"}})):k[0].linkProps={href:"/settings/workspace/users"},(0,j.jsxs)(o.Z,{appendBreadcrumbs:!0,breadcrumbs:k,title:"Users",uuidItemSelected:v.B2.USERS,uuidWorkspaceSelected:v.Pl.USER_MANAGEMENT,children:[r&&(0,j.jsx)(h.Z,{contained:!0,onCancel:function(){return u(!1)}}),!r&&(0,j.jsxs)(j.Fragment,{children:[t&&(0,j.jsx)(f.Z,{p:x.cd,children:(0,j.jsx)(l.ZP,{beforeIcon:(0,j.jsx)(w.AddUserSmileyFace,{}),onClick:function(){return u(!0)},primary:!0,children:"Add new user"})}),(0,j.jsx)(d.Z,{light:!0}),(0,j.jsx)(m.Z,{columnFlex:[null,1,1,1,1,null,null],columns:[{label:function(){return""},uuid:"avatar"},{uuid:"Username"},{uuid:"First name"},{uuid:"Last name"},{uuid:"Email"},{uuid:"Role"},{rightAligned:!0,uuid:"Created"}],onClickRow:function(n){var r,u=null===(r=b[n])||void 0===r?void 0:r.id;e.push("/settings/workspace/users/".concat(u))},rows:b.map((function(e){var n=e.avatar,r=e.created_at,u=e.email,s=e.first_name,t=e.last_name,i=e.roles_display,a=e.roles_new,l=e.username,d=a||[];return d.sort((function(e,n){return e.id-n.id})),[(0,j.jsx)(p.ZP,{large:!0,rightAligned:!0,children:n},"avatar"),(0,j.jsx)(p.ZP,{children:l||"-"},"username"),(0,j.jsx)(p.ZP,{default:!0,children:s||"-"},"firstName"),(0,j.jsx)(p.ZP,{default:!0,children:t||"-"},"lastName"),(0,j.jsx)(p.ZP,{default:!0,children:u},"email"),(0,j.jsx)(p.ZP,{default:!0,children:d.length>0?d[0].name:i},"roles"),(0,j.jsx)(p.ZP,{default:!0,monospace:!0,children:r&&(0,P.d$)(r)},"created")]})),uuid:"pipeline-runs"})]})]})}b.getInitialProps=(0,u.Z)(t().mark((function e(){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,c.Z)(b)},48673:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/settings/workspace/users",function(){return r(87992)}])}},function(e){e.O(0,[449,5699,3958,9774,2888,179],(function(){return n=48673,e(e.s=n);var n}));var n=e.O();_N_E=n}]);