(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1221],{66757:function(n,e,t){"use strict";var r=t(19319),i=t(94178),o=t(67240),c="localStorage"in t.g&&t.g.localStorage?t.g.localStorage:r;function u(n,e){return 1===arguments.length?l(n):a(n,e)}function l(n){const e=c.getItem(n);return i(e)}function a(n,e){try{return c.setItem(n,JSON.stringify(e)),!0}catch(t){return!1}}u.set=a,u.get=l,u.remove=function(n){return c.removeItem(n)},u.clear=function(){return c.clear()},u.backend=function(n){return n&&(c=n),c},u.on=o.on,u.off=o.off,n.exports=u},94178:function(n){"use strict";n.exports=function(n){const e=function(n){try{return JSON.parse(n)}catch(e){return n}}(n);return void 0===e?null:e}},19319:function(n){"use strict";var e={};n.exports={getItem:function(n){return n in e?e[n]:null},setItem:function(n,t){return e[n]=t,!0},removeItem:function(n){return!!(n in e)&&delete e[n]},clear:function(){return e={},!0}}},67240:function(n,e,t){"use strict";var r=t(94178),i={};function o(n){n||(n=t.g.event);var e=i[n.key];e&&e.forEach((function(e){e(r(n.newValue),r(n.oldValue),n.url||n.uri)}))}n.exports={on:function(n,e){i[n]?i[n].push(e):i[n]=[e],t.g.addEventListener?t.g.addEventListener("storage",o,!1):t.g.attachEvent?t.g.attachEvent("onstorage",o):t.g.onstorage=o},off:function(n,e){var t=i[n];t.length>1?t.splice(t.indexOf(e),1):i[n]=[]}}},17903:function(n,e,t){"use strict";t.d(e,{Z:function(){return O}});var r=t(82394),i=t(12691),o=t.n(i),c=t(82684),u=t(10919),l=t(19711),a=t(46313),s=t(23831),f=t(49125),d=a.default.table.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-1wzfyed-0"})(["contain:size;width:100%;"]),p=a.default.tr.withConfig({displayName:"indexstyle__TableRowStyle",componentId:"sc-1wzfyed-1"})(["",""],(function(n){return!n.noHover&&"\n    &:hover {\n      background: ".concat((n.theme.interactive||s.Z.interactive).rowHoverBackground,";\n      cursor: pointer;\n    }\n  ")})),h=(0,a.css)(["text-overflow:ellipsis;white-space:nowrap;"," "," "," "," "," ",""],(function(n){return!n.alignTop&&"\n    vertical-align: middle;\n  "}),(function(n){return n.alignTop&&"\n    vertical-align: top;\n  "}),(function(n){return!n.noBorder&&"\n    border-bottom: 1px solid ".concat((n.theme.borders||s.Z.borders).light,";\n  ")}),(function(n){return n.compact&&"\n    padding: ".concat(f.iI/2,"px ").concat(f.iI,"px;\n  ")}),(function(n){return!n.compact&&"\n    padding: ".concat(f.iI,"px ").concat(2*f.iI,"px;\n  ")}),(function(n){return n.maxWidth&&"\n    max-width: ".concat(n.maxWidth,";\n  ")})),g=a.default.th.withConfig({displayName:"indexstyle__TableHeadStyle",componentId:"sc-1wzfyed-2"})(["",""],h),v=a.default.td.withConfig({displayName:"indexstyle__TableDataStyle",componentId:"sc-1wzfyed-3"})([""," ",""],h,(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.interactive||s.Z.interactive).activeBorder,";\n  ")})),m=t(28598);function b(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function y(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?b(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):b(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var O=function(n){var e=n.alignTop,t=n.buildLinkProps,r=n.columnFlex,i=n.columnMaxWidth,a=n.columns,s=void 0===a?[]:a,f=n.compact,h=n.isSelectedRow,b=n.noBorder,O=n.onClickRow,w=n.rows,A=n.uuid,E=(0,c.useMemo)((function(){return r.reduce((function(n,e){return n+(e||0)}),0)}),r),T=(0,c.useCallback)((function(n){if(r[n]){var e=Math.round(r[n]/E*100);return"".concat(e,"%")}return null}),[]),P=(0,c.useMemo)((function(){return null===w||void 0===w?void 0:w.map((function(n,r){var c=null===t||void 0===t?void 0:t(r),l=n.map((function(n,t){return(0,m.jsx)(v,{alignTop:e,compact:f,maxWidth:null===i||void 0===i?void 0:i(t),noBorder:b,selected:null===h||void 0===h?void 0:h(r),width:T(t),children:n},"".concat(A,"-row-").concat(r,"-cell-").concat(t))})),a=(0,m.jsx)(p,{noHover:!(c||O),onClick:O?function(){return O(r)}:null,children:l},"".concat(A,"-row-").concat(r));return c?(0,m.jsx)(o(),y(y({},c),{},{passHref:!0,children:(0,m.jsx)(u.Z,{fullWidth:!0,noHoverUnderline:!0,noOutline:!0,style:{display:"table-row-group"},verticalAlignContent:!0,children:a})})):a}))}),[e,t,T,i,s,f,h,b,O,w]);return(0,m.jsxs)(d,{children:[(null===s||void 0===s?void 0:s.length)>=1&&(0,m.jsx)(p,{noHover:!0,children:s.map((function(n,e){return(0,m.jsx)(g,{compact:f,noBorder:b,children:(0,m.jsx)(l.ZP,{bold:!0,leftAligned:!0,monospace:!0,muted:!0,children:n.label?n.label():n.uuid})},"".concat(A,"-col-").concat(n.uuid,"-").concat(e))}))}),P]})}},86422:function(n,e,t){"use strict";t.d(e,{$W:function(){return a},DA:function(){return l},Qj:function(){return f},Ut:function(){return g},V4:function(){return h},VZ:function(){return s},f2:function(){return p},iZ:function(){return d},t6:function(){return o},tf:function(){return c}});var r,i,o,c,u=t(82394);!function(n){n.PYTHON="python",n.SQL="sql",n.YAML="yaml"}(o||(o={})),function(n){n.CHART="chart",n.DATA_EXPORTER="data_exporter",n.DATA_LOADER="data_loader",n.SCRATCHPAD="scratchpad",n.SENSOR="sensor",n.TRANSFORMER="transformer"}(c||(c={}));var l,a=[c.CHART,c.DATA_EXPORTER,c.DATA_LOADER,c.SCRATCHPAD,c.SENSOR,c.TRANSFORMER],s=[c.DATA_EXPORTER,c.DATA_LOADER],f=[c.CHART,c.SCRATCHPAD,c.SENSOR],d=[c.SCRATCHPAD];!function(n){n.EXECUTED="executed",n.FAILED="failed",n.NOT_EXECUTED="not_executed",n.UPDATED="updated"}(l||(l={}));var p=[c.DATA_EXPORTER,c.TRANSFORMER],h=(r={},(0,u.Z)(r,c.DATA_EXPORTER,"Data exporter"),(0,u.Z)(r,c.DATA_LOADER,"Data loader"),(0,u.Z)(r,c.SCRATCHPAD,"Scratchpad"),(0,u.Z)(r,c.SENSOR,"Sensor"),(0,u.Z)(r,c.TRANSFORMER,"Transformer"),r),g=[c.DATA_LOADER,c.TRANSFORMER,c.DATA_EXPORTER];i={},(0,u.Z)(i,c.DATA_EXPORTER,"DE"),(0,u.Z)(i,c.DATA_LOADER,"DL"),(0,u.Z)(i,c.SCRATCHPAD,"SP"),(0,u.Z)(i,c.SENSOR,"SR"),(0,u.Z)(i,c.TRANSFORMER,"TF")},93348:function(n,e,t){"use strict";t.d(e,{U5:function(){return u},Xm:function(){return i},Z4:function(){return l},fq:function(){return c}});var r,i,o=t(82394);!function(n){n.API="api",n.EVENT="event",n.TIME="time"}(i||(i={}));var c,u,l=(r={},(0,o.Z)(r,i.API,(function(){return"API"})),(0,o.Z)(r,i.EVENT,(function(){return"event"})),(0,o.Z)(r,i.TIME,(function(){return"schedule"})),r);!function(n){n.ACTIVE="active",n.INACTIVE="inactive"}(c||(c={})),function(n){n.ONCE="@once",n.HOURLY="@hourly",n.DAILY="@daily",n.WEEKLY="@weekly",n.MONTHLY="@monthly"}(u||(u={}))},98781:function(n,e,t){"use strict";t.d(e,{a:function(){return c},q:function(){return i}});var r,i,o=t(82394);!function(n){n.PYTHON="python",n.PYSPARK="pyspark",n.STREAMING="streaming"}(i||(i={}));var c=(r={},(0,o.Z)(r,i.PYTHON,"python3"),(0,o.Z)(r,i.PYSPARK,"pysparkkernel"),r)},30264:function(n,e,t){"use strict";var r=t(82394),i=t(26304),o=(t(82684),t(47999)),c=t(62084),u=t(28598),l=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid"];function a(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function s(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?a(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}e.Z=function(n){var e=n.children,t=n.items,r=n.open,a=n.onClickCallback,f=n.onClickOutside,d=n.parentRef,p=n.uuid,h=(0,i.Z)(n,l),g=(0,u.jsxs)("div",{style:{position:"relative",zIndex:f?3:2},children:[(0,u.jsx)("div",{ref:d,children:e}),(0,u.jsx)(c.Z,s(s({},h),{},{items:t,onClickCallback:a,open:r,parentRef:d,uuid:p}))]});return f?(0,u.jsx)(o.Z,{onClickOutside:f,open:!0,children:g}):g}},5545:function(n,e,t){"use strict";t.r(e);var r=t(82394),i=t(12757),o=t(83455),c=t(82684),u=t(34376),l=t(60328),a=t(51404),s=t(93461),f=t(30264),d=t(31866),p=t(98781),h=t(17903),g=t(19711),v=t(41374),m=t(10503),b=t(86422),y=t(99994),O=t(93348),w=t(49125),A=t(5679),E=t(96510),T=t(66653),P=t(28598);function R(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function C(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?R(Object(t),!0).forEach((function(e){(0,r.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}e.default=function(){var n=(0,u.useRouter)(),e=(0,c.useState)({}),t=e[0],R=e[1],j=(0,c.useState)(!1),S=j[0],D=j[1],k=(0,c.useRef)(null),x=v.ZP.pipelines.list({include_schedules:1}),_=x.data,Z=x.mutate,N=(0,c.useMemo)((function(){return(null===_||void 0===_?void 0:_.pipelines)||[]}),[_]),I=(0,c.useCallback)((function(){return D(!1)}),[]),M=(0,o.Db)(v.ZP.pipelines.useCreate(),{onSuccess:function(e){return(0,E.wD)(e,{callback:function(e){var t=e.pipeline.uuid;n.push("/pipelines/[pipeline]/edit","/pipelines/".concat(t,"/edit"))},onErrorCallback:function(n){var e=n.error,t=e.errors,r=e.message;console.log(t,r)}})}}),H=(0,i.Z)(M,2),Y=H[0],L=H[1].isLoading,z=(0,o.Db)((function(n){return v.ZP.pipelines.useUpdate(n.uuid)({pipeline:n})}),{onSuccess:function(n){return(0,E.wD)(n,{callback:function(n){var e=n.pipeline.uuid;R((function(n){return C(C({},n),{},(0,r.Z)({},e,!1))})),Z()},onErrorCallback:function(n){var e=n.error,t=e.errors,r=e.message;console.log(t,r)}})}}),V=(0,i.Z)(z,1)[0];return(0,P.jsx)(a.Z,{subheaderChildren:(0,P.jsx)(f.Z,{disableKeyboardShortcuts:!0,items:[{label:function(){return"Standard (batch)"},onClick:function(){return Y({pipeline:{name:(0,A.Y6)()}})},uuid:"Pipelines/NewPipelineMenu/standard"},{label:function(){return"Streaming"},onClick:function(){return Y({pipeline:{name:(0,A.Y6)(),type:p.q.STREAMING}})},uuid:"Pipelines/NewPipelineMenu/streaming"}],onClickCallback:I,onClickOutside:I,open:S,parentRef:k,roundedStyle:!0,uuid:"pipelines/new_pipeline_menu",children:(0,P.jsx)(d.ZP,{background:y.eW,beforeElement:(0,P.jsx)(m.mm,{size:2.5*w.iI}),bold:!0,inline:!0,loading:L,onClick:function(n){n.preventDefault(),D((function(n){return!n}))},uuid:"pipelines/new_pipeline_button",children:"New pipeline"})}),title:"Pipelines",uuid:"pipelines/index",children:(0,P.jsx)(h.Z,{buildLinkProps:function(n){return{as:"/pipelines/".concat(N[n].uuid),href:"/pipelines/[pipeline]"}},columnFlex:[null,1,7,1,1,1,null],columns:[{label:function(){return""},uuid:"action"},{uuid:"Status"},{uuid:"Name"},{uuid:"Type"},{uuid:"Blocks"},{uuid:"Triggers"},{label:function(){return""},uuid:"view"}],rows:N.map((function(n,e){var i=n.blocks,o=n.name,c=n.schedules,u=n.type,a=n.uuid,f=i.filter((function(n){var e=n.type;return b.tf.SCRATCHPAD!==e})).length,d=c.length,h=c.find((function(n){var e=n.status;return O.fq.ACTIVE===e}));return[d>=1?(0,P.jsx)(l.Z,{iconOnly:!0,loading:!!t[a],noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(e){(0,T.j)(e),R((function(n){return C(C({},n),{},(0,r.Z)({},a,!0))})),V(C(C({},n),{},{status:h?O.fq.INACTIVE:O.fq.ACTIVE}))},children:h?(0,P.jsx)(m.dz,{muted:!0,size:2*w.iI}):(0,P.jsx)(m.Py,{default:!0,size:2*w.iI})}):null,(0,P.jsx)(g.ZP,{default:!h,monospace:!0,success:!!h,children:h?O.fq.ACTIVE:d>=1?O.fq.INACTIVE:"no schedules"},"pipeline_status_".concat(e)),(0,P.jsx)(g.ZP,{children:o},"pipeline_name_".concat(e)),(0,P.jsx)(g.ZP,{children:u===p.q.PYTHON?"Standard":(0,A.kC)(u)},"pipeline_type_".concat(e)),(0,P.jsx)(g.ZP,{default:0===f,monospace:!0,children:f},"pipeline_block_count_".concat(e)),(0,P.jsx)(g.ZP,{default:0===d,monospace:!0,children:d},"pipeline_trigger_count_".concat(e)),(0,P.jsx)(s.Z,{flex:1,justifyContent:"flex-end",children:(0,P.jsx)(m._Q,{default:!0,size:2*w.iI})},"chevron_icon_".concat(e))]}))})})}},5679:function(n,e,t){"use strict";t.d(e,{OC:function(){return f},n1:function(){return d},RA:function(){return g},kC:function(){return v},vg:function(){return T},JX:function(){return m},T3:function(){return C},Mp:function(){return b},Pb:function(){return p},kE:function(){return P},HD:function(){return h},wX:function(){return y},x6:function(){return O},_6:function(){return w},Y6:function(){return S},Lo:function(){return D},Tz:function(){return R},QV:function(){return j},C5:function(){return E}});var r=t(12757),i=["aged","ancient","autumn","billowing","bitter","black","blue","bold","broken","cold","cool","crimson","damp","dark","dawn","delicate","divine","dry","empty","falling","floral","fragrant","frosty","green","hidden","holy","icy","late","lingering","little","lively","long","misty","morning","muddy","nameless","old","patient","polished","proud","purple","quiet","red","restless","rough","shy","silent","small","snowy","solitary","sparkling","spring","still","summer","throbbing","twilight","wandering","weathered","white","wild","winter","wispy","withered","young"],o=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],c=t(92083),u=t.n(c),l=["bird","breeze","brook","bush","butterfly","cherry","cloud","darkness","dawn","dew","dream","dust","feather","field","fire","firefly","flower","fog","forest","frog","frost","glade","glitter","grass","haze","hill","lake","leaf","meadow","moon","morning","mountain","night","paper","pine","pond","rain","resonance","river","sea","shadow","shape","silence","sky","smoke","snow","snowflake","sound","star","sun","sun","sunset","surf","thunder","tree","violet","voice","water","water","waterfall","wave","wildflower","wind","wood"],a=["0","1","2","3","4","5","6","7","8","9"],s=t(24224),f="YYYY-MM-DD HH:mm:SS",d="YYYY-MM-DD";function p(n){try{JSON.parse(n)}catch(e){return!1}return!0}function h(n){return"string"===typeof n}function g(n){return n.split(" ").join("_")}function v(n){return n?n.charAt(0).toUpperCase()+n.slice(1):""}function m(n){return u().unix(n).format("YYYY-MM-DD HH:mm")}function b(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return String((new Date).getTime()*n)}function y(n){return n.charAt(0).toLowerCase()+n.slice(1)}function O(n){if(null===n||"undefined"===typeof n)return"";var e=n.toString().split("."),t=(0,r.Z)(e,2),i=t[0],o=t[1],c=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return o?"".concat(c,".").concat(o):c}function w(n,e){var t,r=e,i=void 0!==r&&null!==r;if(i||(r=2),1===r)t=n;else{var o=n.length,c=n[o-1];t="y"===c&&"day"!==n?"".concat(n.slice(0,o-1),"ies"):"".concat(n,"s"===c?"es":"s")}return i?"".concat(r," ").concat(t):t}function A(n){return null===n||void 0===n?void 0:n.replace(/_/g," ")}function E(n){var e=n.length;return"ies"===n.slice(e-3,e)?"".concat(n.slice(0,e-3),"y"):"es"===n.slice(e-2,e)?n.slice(0,e-2):n.slice(0,e-1)}function T(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return v(A(n.toLowerCase()))}function P(n){return!isNaN(n)}function R(n){var e,t=n.match(/\d+(\.?\d*)%/)||[];return Number(null===(e=t[0])||void 0===e?void 0:e.slice(0,-1))}function C(n){return"".concat(O(function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return Math.round((n||0)*Math.pow(100,e))/100}(n)),"%")}function j(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,t=Math.pow(10,e);return Math.round((n||0)*t)/t}function S(){return"".concat((0,s.mp)(i)," ").concat((0,s.mp)(l))}function D(){return"".concat((0,s.mp)(o)).concat((0,s.mp)(a))}},79274:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines",function(){return t(5545)}])}},function(n){n.O(0,[4259,5870,2083,2874,1374,6182,1404,9774,2888,179],(function(){return e=79274,n(n.s=e);var e}));var e=n.O();_N_E=e}]);