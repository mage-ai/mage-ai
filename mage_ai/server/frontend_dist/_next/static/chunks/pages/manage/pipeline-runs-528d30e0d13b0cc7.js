(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4061],{79239:function(e,t,n){"use strict";n.r(t);var r=n(77837),u=n(82394),i=n(38860),o=n.n(i),s=n(82684),a=n(34376),c=n(55072),l=n(27966),p=n(93808),f=n(82359),d=n(38276),b=n(4190),g=n(85544),h=n(59533),v=n(35686),O=n(44265),P=n(70515),m=n(75083),_=n(69419),j=n(70320),y=n(28598);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,u.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(){var e=(0,a.useRouter)(),t=(0,s.useState)(null),n=t[0],r=t[1],u=(0,_.iV)(),i=null!=u&&u.page?u.page:0,o=(0,s.useMemo)((function(){return(0,_.DQ)(u,[O.P0.PIPELINE_UUID,O.P0.STATUS,O.P0.TAG])}),[u]),p=v.ZP.projects.list().data,w=(0,s.useMemo)((function(){var e;return null==p||null===(e=p.projects)||void 0===e?void 0:e[0]}),[p]),Z=((0,s.useMemo)((function(){var e;return(0,j.hY)(null==w||null===(e=w.features)||void 0===e?void 0:e[f.d.LOCAL_TIMEZONE])}),[null==w?void 0:w.features]),E(E({},o),{},{_limit:c.Q,_offset:i*c.Q,disable_retries_grouping:!0,include_all_pipeline_schedules:!0}));null!=u&&u.status&&(Z.status=u.status);var N=v.ZP.pipeline_runs.list(Z,{refreshInterval:7e3,revalidateOnFocus:!0}),x=N.data,M=N.mutate,k=(0,s.useMemo)((function(){return(null==x?void 0:x.pipeline_runs)||[]}),[x]),D=(0,s.useMemo)((function(){var e;return(null==x||null===(e=x.metadata)||void 0===e?void 0:e.count)||[]}),[x]),I=(0,s.useMemo)((function(){return(0,y.jsx)(g.Z,{filterOptions:{status:O.hn},filterValueLabelMapping:{status:O.Do},onClickFilterDefaults:function(){e.push("/manage/pipeline-runs")},query:o,resetPageOnFilterApply:!0})}),[e]);return(0,y.jsx)(h.Z,{breadcrumbs:[{label:function(){return"Workspaces"},linkProps:{as:"/manage",href:"/manage"}},{bold:!0,label:function(){return"Pipeline runs"}}],errors:n,pageName:m.L6.PIPELINE_RUNS,setErrors:r,subheaderChildren:I,children:x?(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(l.Z,{disableRowSelect:!0,fetchPipelineRuns:M,pipelineRuns:k,setErrors:r,workspaceFormatting:!0}),(0,y.jsx)(d.Z,{p:2,children:(0,y.jsx)(c.ZP,{maxPages:c.Et,onUpdate:function(t){var n=Number(t),r=E(E({},u),{},{page:n>=0?n:0});e.push("/manage/pipeline-runs","/manage/pipeline-runs?".concat((0,_.uM)(r)))},page:Number(i),totalPages:Math.ceil(D/c.Q)})})]}):(0,y.jsx)(d.Z,{p:P.Mq,children:(0,y.jsx)(b.Z,{inverted:!0,large:!0})})})}Z.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,p.Z)(Z)},24014:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/pipeline-runs",function(){return n(79239)}])},80022:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15544:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},13692:function(e,t,n){"use strict";n.d(t,{Z:function(){return u}});var r=n(61049);function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},93189:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(12539),u=n(80022);function i(e,t){if(t&&("object"===r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,u.Z)(e)}}},function(e){e.O(0,[1557,1598,7966,5544,9774,2888,179],(function(){return t=24014,e(e.s=t);var t}));var t=e.O();_N_E=t}]);