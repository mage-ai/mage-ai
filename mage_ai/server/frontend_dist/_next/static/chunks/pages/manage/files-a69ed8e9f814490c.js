(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9015],{83087:function(e,n,t){"use strict";t.r(n);var r=t(77837),u=t(38860),i=t.n(u),o=t(82684),s=t(65557),c=t(78650),a=t(43449),f=t(90758),l=t(93808),d=t(38276),p=t(59533),h=t(35686),b=t(86735),_=t(15610),m=t(69419),y=t(97133),v=t(75083),w=t(28598);function E(){var e=(0,o.useState)(null),n=e[0],t=e[1],r=(0,m.iV)(),u=r.file_path,i=(0,o.useMemo)((function(){var e=r["file_paths[]"]||[];return Array.isArray(e)||(e=[e]),e}),[r]),l=(0,o.useCallback)((function(e,n){var t=encodeURIComponent(e),r=(0,m.iV)()["file_paths[]"]||[];Array.isArray(r)||(r=[r]),r.includes(t)||r.push(t),(0,_.u)({file_path:t,"file_paths[]":r})}),[]),E=h.ZP.files.list(),Z=E.data,j=E.mutate,P=(0,o.useMemo)((function(){return(null==Z?void 0:Z.files)||[]}),[Z]),g=(0,o.useRef)(null),x=(0,o.useState)(null),O=x[0],k=x[1],F=(0,o.useState)([]),S=F[0],C=F[1],N=(0,o.useState)({}),R=N[0],T=N[1],A=(0,o.useMemo)((function(){return(0,w.jsx)(d.Z,{ml:1,mt:1,children:(0,w.jsx)(c.Z,{fetchFiles:j,files:P,openFile:l,ref:g,showError:t,uuid:"pages/manage/files"})})}),[j,P,l,t]);return(0,o.useEffect)((function(){k(u)}),[u]),(0,o.useEffect)((function(){(0,b.fS)(i,S)||C(i)}),[i,S]),(0,w.jsx)(p.Z,{before:A,breadcrumbs:[{label:function(){return"Workspaces"},linkProps:{as:"/manage",href:"/manage"}},{bold:!0,label:function(){return"File browser"}}],errors:n,mainContainerHeader:(0,w.jsx)(y.rK,{secondary:!0,children:(0,w.jsx)(f.ZP,{filePaths:S,filesTouched:R,selectedFilePath:O})}),pageName:v.L6.FILE_BROWSER,children:null==i?void 0:i.map((function(e){return(0,w.jsx)("div",{style:{display:O===e?null:"none"},children:(0,w.jsx)(s.Z,{uuid:"manage/FileEditor/".concat(decodeURIComponent(e)),children:(0,w.jsx)(a.Z,{active:O===e,filePath:e,selectedFilePath:O,setErrors:t,setFilesTouched:T})})},e)}))})}E.getInitialProps=(0,r.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,l.Z)(E)},90205:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/files",function(){return t(83087)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(61049);function u(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,r.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(12539),u=t(80022);function i(e,n){if(n&&("object"===r(n)||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,u.Z)(e)}}},function(e){e.O(0,[1557,1598,9774,2888,179],(function(){return n=90205,e(e.s=n);var n}));var n=e.O();_N_E=n}]);