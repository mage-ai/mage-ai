(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8003],{98677:function(n,t,r){"use strict";r.d(t,{Z:function(){return a}});var e=r(8208),u=r(8162);function i(){var n,t,r=(0,u.Z)().unknown(void 0),o=r.domain,a=r.range,c=0,l=1,f=!1,s=0,d=0,v=.5;function p(){var r=o().length,e=l<c,u=e?l:c,i=e?c:l;n=(i-u)/Math.max(1,r-s+2*d),f&&(n=Math.floor(n)),u+=(i-u-n*(r-s))*v,t=n*(1-s),f&&(u=Math.round(u),t=Math.round(t));var p=function(n,t,r){n=+n,t=+t,r=(u=arguments.length)<2?(t=n,n=0,1):u<3?1:+r;for(var e=-1,u=0|Math.max(0,Math.ceil((t-n)/r)),i=new Array(u);++e<u;)i[e]=n+e*r;return i}(r).map((function(t){return u+n*t}));return a(e?p.reverse():p)}return delete r.unknown,r.domain=function(n){return arguments.length?(o(n),p()):o()},r.range=function(n){return arguments.length?([c,l]=n,c=+c,l=+l,p()):[c,l]},r.rangeRound=function(n){return[c,l]=n,c=+c,l=+l,f=!0,p()},r.bandwidth=function(){return t},r.step=function(){return n},r.round=function(n){return arguments.length?(f=!!n,p()):f},r.padding=function(n){return arguments.length?(s=Math.min(1,d=+n),p()):s},r.paddingInner=function(n){return arguments.length?(s=Math.min(1,n),p()):s},r.paddingOuter=function(n){return arguments.length?(d=+n,p()):d},r.align=function(n){return arguments.length?(v=Math.max(0,Math.min(1,n)),p()):v},r.copy=function(){return i(o(),[c,l]).round(f).paddingInner(s).paddingOuter(d).align(v)},e.o.apply(p(),arguments)}var o=(0,r(93342).Z)("domain","range","reverse","align","padding","round");function a(n){return o(i(),n)}},53989:function(n,t,r){"use strict";function e(n){if("bandwidth"in n)return n.bandwidth();var t=n.range(),r=n.domain();return Math.abs(t[t.length-1]-t[0])/r.length}r.d(t,{Z:function(){return e}})},13946:function(n,t,r){"use strict";r.d(t,{t:function(){return e}});var e=Array.prototype.slice},27500:function(n,t,r){"use strict";function e(n,t){if((a=n.length)>0)for(var r,e,u,i,o,a,c=0,l=n[t[0]].length;c<l;++c)for(i=o=0,r=0;r<a;++r)(u=(e=n[t[r]][c])[1]-e[0])>0?(e[0]=i,e[1]=i+=u):u<0?(e[1]=o,e[0]=o+=u):(e[0]=0,e[1]=u)}r.d(t,{Z:function(){return e}})},12759:function(n,t,r){"use strict";r.d(t,{Z:function(){return u}});var e=r(82610);function u(n,t){if((u=n.length)>0){for(var r,u,i,o=0,a=n[0].length;o<a;++o){for(i=r=0;r<u;++r)i+=n[r][o][1]||0;if(i)for(r=0;r<u;++r)n[r][o][1]/=i}(0,e.Z)(n,t)}}},82610:function(n,t,r){"use strict";function e(n,t){if((u=n.length)>1)for(var r,e,u,i=1,o=n[t[0]],a=o.length;i<u;++i)for(e=o,o=n[t[i]],r=0;r<a;++r)o[r][1]+=o[r][0]=isNaN(e[r][1])?e[r][0]:e[r][1]}r.d(t,{Z:function(){return e}})},34812:function(n,t,r){"use strict";r.d(t,{Z:function(){return u}});var e=r(82610);function u(n,t){if((r=n.length)>0){for(var r,u=0,i=n[t[0]],o=i.length;u<o;++u){for(var a=0,c=0;a<r;++a)c+=n[a][u][1]||0;i[u][1]+=i[u][0]=-c/2}(0,e.Z)(n,t)}}},77944:function(n,t,r){"use strict";r.d(t,{Z:function(){return u}});var e=r(82610);function u(n,t){if((i=n.length)>0&&(u=(r=n[t[0]]).length)>0){for(var r,u,i,o=0,a=1;a<u;++a){for(var c=0,l=0,f=0;c<i;++c){for(var s=n[t[c]],d=s[a][1]||0,v=(d-(s[a-1][1]||0))/2,p=0;p<c;++p){var h=n[t[p]];v+=(h[a][1]||0)-(h[a-1][1]||0)}l+=d,f+=v*d}r[a-1][1]+=r[a-1][0]=o,l&&(o-=f/l)}r[a-1][1]+=r[a-1][0]=o,(0,e.Z)(n,t)}}},34128:function(n,t,r){"use strict";r.d(t,{Z:function(){return u}});var e=r(8512);function u(n){var t=n.map(i);return(0,e.Z)(n).sort((function(n,r){return t[n]-t[r]}))}function i(n){for(var t,r=-1,e=0,u=n.length,i=-1/0;++r<u;)(t=+n[r][1])>i&&(i=t,e=r);return e}},39586:function(n,t,r){"use strict";r.d(t,{S:function(){return i},Z:function(){return u}});var e=r(8512);function u(n){var t=n.map(i);return(0,e.Z)(n).sort((function(n,r){return t[n]-t[r]}))}function i(n){for(var t,r=0,e=-1,u=n.length;++e<u;)(t=+n[e][1])&&(r+=t);return r}},25516:function(n,t,r){"use strict";r.d(t,{Z:function(){return u}});var e=r(39586);function u(n){return(0,e.Z)(n).reverse()}},54164:function(n,t,r){"use strict";r.d(t,{Z:function(){return i}});var e=r(34128),u=r(39586);function i(n){var t,r,i=n.length,o=n.map(u.S),a=(0,e.Z)(n),c=0,l=0,f=[],s=[];for(t=0;t<i;++t)r=a[t],c<l?(c+=o[r],f.push(r)):(l+=o[r],s.push(r));return s.reverse().concat(f)}},8512:function(n,t,r){"use strict";function e(n){for(var t=n.length,r=new Array(t);--t>=0;)r[t]=t;return r}r.d(t,{Z:function(){return e}})},2010:function(n,t,r){"use strict";r.d(t,{Z:function(){return u}});var e=r(8512);function u(n){return(0,e.Z)(n).reverse()}},75823:function(n,t,r){"use strict";r.d(t,{Z:function(){return c}});var e=r(13946),u=r(90875),i=r(82610),o=r(8512);function a(n,t){return n[t]}function c(){var n=(0,u.Z)([]),t=o.Z,r=i.Z,c=a;function l(e){var u,i,o=n.apply(this,arguments),a=e.length,l=o.length,f=new Array(l);for(u=0;u<l;++u){for(var s,d=o[u],v=f[u]=new Array(a),p=0;p<a;++p)v[p]=s=[0,+c(e[p],d,p,e)],s.data=e[p];v.key=d}for(u=0,i=t(f);u<l;++u)f[i[u]].index=u;return r(f,i),f}return l.keys=function(t){return arguments.length?(n="function"==typeof t?t:(0,u.Z)(e.t.call(t)),l):n},l.value=function(n){return arguments.length?(c="function"==typeof n?n:(0,u.Z)(+n),l):c},l.order=function(n){return arguments.length?(t=null==n?o.Z:"function"==typeof n?n:(0,u.Z)(e.t.call(n)),l):t},l.offset=function(n){return arguments.length?(r=null==n?i.Z:n,l):r},l}},94035:function(n,t,r){"use strict";var e=r(9518).default.div.withConfig({displayName:"YAxisLabelContainer",componentId:"sc-qwp21x-0"})(["-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);white-space:nowrap;"]);t.Z=e},79221:function(n,t,r){"use strict";r.d(t,{P5:function(){return e},Vs:function(){return u}});r(81728);function e(n,t){var r=t||{},e=r.maxFractionDigits,u=r.minAmount,i=Intl.NumberFormat("en-US",{maximumFractionDigits:e||2,notation:"compact"});return"number"!=typeof n?n:n>=(u||1e4)?i.format(n):n.toString()}function u(n){var t,r;if(void 0===n)return 0;var e=null==n||null===(t=n())||void 0===t||null===(r=t.props)||void 0===r?void 0:r.children;return(Array.isArray(e)?e:[e]).join("").length}},18682:function(n,t,r){"use strict";r.r(t);var e=r(77837),u=r(82394),i=r(75582),o=r(38860),a=r.n(o),c=r(82684),l=r(83455),f=r(92083),s=r.n(f),d=r(53998),v=r(90299),p=r(55485),h=r(85854),g=r(29241),m=r(93808),Z=r(82359),b=r(38276),y=r(30160),j=r(12468),x=r(67913),w=r(59533),O=r(35686),_=r(44897),k=r(57653),M=r(64657),P=r(53808),D=r(61556),C=r(41143),A=r(39598),E=r(17380),I=r(3917),N=r(50389),T=r(75083),S=r(81728),L=r(48277),R=r(24491),U=r(15610),F=r(72619),Y=r(70320),V=r(28598);function q(n,t){var r=Object.keys(n);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(n);t&&(e=e.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.push.apply(r,e)}return r}function X(n){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){(0,u.Z)(n,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(r,t))}))}return n}var z={mt:2,mx:3},W={refreshInterval:6e4,revalidateOnFocus:!1};function H(n){var t=n.tab,r=(0,c.useRef)(null),e=(0,c.useRef)(!1),o=(0,c.useRef)(null),a=(0,c.useMemo)((function(){return N.hS}),[]),f=(0,c.useState)(a.find((function(n){var r;return n.uuid===(t||(null===(r=(0,P.U2)(P.Xq))||void 0===r?void 0:r.uuid))}))||N.xM),m=f[0],q=f[1],H=(0,c.useState)(null),B=H[0],G=H[1],J=null==m?void 0:m.uuid,K=(0,c.useMemo)((function(){return(0,I.jV)(J,{isoString:!0})}),[J]),Q=(0,c.useMemo)((function(){return{start_time:K}}),[K]),$=(0,c.useState)(),nn=$[0],tn=$[1],rn=(0,l.Db)((function(){var n,t;return null===(n=O.ZP.monitor_stats)||void 0===n?void 0:n.detailAsync(D.h.PIPELINE_RUN_COUNT,Q,{signal:null==r||null===(t=r.current)||void 0===t?void 0:t.signal})}),{onSuccess:function(n){return(0,F.wD)(n,{callback:function(n){var t=n.monitor_stat.stats;tn(t)}})}}),en=(0,i.Z)(rn,2),un=en[0],on=en[1].isLoading,an=(0,c.useCallback)((function(n){var t;null!==(null==r?void 0:r.current)&&(null==r||null===(t=r.current)||void 0===t||t.abort());r.current=new AbortController,q((function(t){var r="function"==typeof n?n(t):n;return(null==t?void 0:t.uuid)!==(null==r?void 0:r.uuid)&&((0,U.u)((0,u.Z)({},E.i,null==r?void 0:r.uuid),{replaceParams:!0}),un()),(0,P.t8)(P.Xq,r),r}))}),[un]);(0,c.useEffect)((function(){var n;(null!=e&&e.current||(e.current=!0,un()),t)||(0,U.u)((0,u.Z)({},E.i,m?null==m?void 0:m.uuid:null==a||null===(n=a[0])||void 0===n?void 0:n.uuid),{pushHistory:!1})}),[a,un,m,t]);var cn=O.ZP.pipeline_runs.list({_limit:50,include_all_pipeline_schedules:!0,"order_by[]":"created_at desc",start_timestamp:(0,I.A5)(K),status:C.V.FAILED},X({},W)).data,ln=(0,c.useMemo)((function(){return(null==cn?void 0:cn.pipeline_runs)||[]}),[null==cn?void 0:cn.pipeline_runs]),fn=(0,c.useMemo)((function(){return(0,I.Y_)(I.yD[J]+1)}),[J]),sn=(0,c.useMemo)((function(){return(0,R.i)(nn,fn,!0)}),[nn,fn]),dn=sn.totalPipelineRunCount,vn=sn.ungroupedPipelineRunData,pn=(0,c.useMemo)((function(){return(0,I.Ro)(I.yD[J],{endDateOnly:J===I.vk.TODAY})}),[J]),hn=O.ZP.projects.list().data,gn=(0,c.useMemo)((function(){var n;return null==hn||null===(n=hn.projects)||void 0===n?void 0:n[0]}),[hn]),mn=(0,c.useMemo)((function(){var n;return(0,Y.hY)(null==gn||null===(n=gn.features)||void 0===n?void 0:n[Z.d.LOCAL_TIMEZONE])}),[null==gn?void 0:gn.features]),Zn=(0,c.useMemo)((function(){return mn?(0,V.jsx)(b.Z,{ml:"4px",children:(0,V.jsx)(j.Z,X(X({},A.m),{},{label:"Please note that these counts are based on UTC time."}))}):null}),[mn]);return(0,V.jsxs)(w.Z,{breadcrumbs:[{label:function(){return"Workspaces"},linkProps:{as:"/manage",href:"/manage"}},{bold:!0,label:function(){return"Overview"}}],errors:B,pageName:T.L6.OVERVIEW,setErrors:G,children:[(0,V.jsx)(g.Z,{backgroundColor:_.Z.background.panel,ref:o,children:(0,V.jsx)(b.Z,{py:2,children:(0,V.jsx)(p.ZP,{alignItems:"center",children:(0,V.jsx)(v.Z,{onClickTab:function(n){var t=n.uuid;an((function(){return a.find((function(n){return t===n.uuid}))}))},regularSizeText:!0,selectedTabUUID:J,tabs:a})})})}),(0,V.jsxs)(b.Z,{mx:3,my:2,children:[(0,V.jsxs)(h.Z,{level:4,children:[J===I.vk.TODAY&&"".concat((0,S.kC)(I.vk.TODAY)," (UTC): ").concat(pn),J!==I.vk.TODAY&&"".concat((0,S.kC)(I.s8[J])," (UTC): ").concat(pn)]}),(0,V.jsxs)(b.Z,{mt:2,children:[(0,V.jsx)(b.Z,{ml:2,children:(0,V.jsxs)(p.ZP,{alignItems:"center",children:[(0,V.jsxs)(y.ZP,{bold:!0,large:!0,children:[on?"--":(0,L.uf)(dn)," total pipeline runs"]}),Zn]})}),(0,V.jsx)(b.Z,{mt:1,children:(0,V.jsx)(d.Z,{backgroundColor:_.Z.background.panel,colors:M.NU,data:vn,getXValue:function(n){return n.date},height:500,keys:M.hu,margin:{bottom:30,left:35,right:0,top:10},tooltipLeftOffset:M.CD,xLabelFormat:function(n){return s()(n).format("MMM DD")}})})]})]}),(0,V.jsx)(b.Z,X(X({},z),{},{children:(0,V.jsx)(p.ZP,{alignItems:"center",justifyContent:"center",children:(0,V.jsx)(x.Z,{pipelineRuns:ln,pipelineType:k.LM,workspaceFormatting:!0})})})),(0,V.jsx)(b.Z,{mb:2})]})}H.getInitialProps=function(){var n=(0,e.Z)(a().mark((function n(t){var r,e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{tab:null!=t&&null!==(r=t.query)&&void 0!==r&&r.tab?null==t||null===(e=t.query)||void 0===e?void 0:e.tab:null});case 1:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t.default=(0,m.Z)(H)},44356:function(n,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage/overview",function(){return r(18682)}])}},function(n){n.O(0,[125,2714,1557,1598,5831,6362,9774,2888,179],(function(){return t=44356,n(n.s=t);var t}));var t=n.O();_N_E=t}]);