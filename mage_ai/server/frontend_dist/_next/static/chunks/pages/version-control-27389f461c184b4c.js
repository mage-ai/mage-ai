(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2858],{94629:function(e,n,r){"use strict";r.d(n,{Z:function(){return C}});var t=r(82394),o=r(21831),i=r(82684),c=r(50724),l=r(82555),s=r(97618),u=r(70613),a=r(79626),d=r(68899),f=r(28598);function h(e,n){var r=e.children,t=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:t,ref:n,children:r})}var m=i.forwardRef(h),v=r(62547),g=r(82571),b=r(98464),p=r(77417),x=r(46684),j=r(70515),Z=r(53808),P=r(19183);function y(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function _(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?y(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):y(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function w(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var r=e.after,t=e.afterHeader,h=e.afterHidden,y=e.afterWidth,w=e.afterWidthOverride,C=e.appendBreadcrumbs,k=e.before,S=e.beforeWidth,I=e.breadcrumbs,O=e.children,T=e.errors,E=e.headerMenuItems,A=e.headerOffset,N=e.hideAfterCompletely,R=e.mainContainerHeader,M=e.navigationItems,D=e.setAfterHidden,B=e.setErrors,H=e.subheaderChildren,L=e.subheaderNoPadding,F=e.title,G=e.uuid,V=(0,P.i)().width,U="dashboard_after_width_".concat(G),Y="dashboard_before_width_".concat(G),q=(0,i.useRef)(null),W=(0,i.useState)(w?y:(0,Z.U2)(U,y)),z=W[0],K=W[1],Q=(0,i.useState)(!1),X=Q[0],J=Q[1],$=(0,i.useState)(k?Math.max((0,Z.U2)(Y,S),13*j.iI):null),ee=$[0],ne=$[1],re=(0,i.useState)(!1),te=re[0],oe=re[1],ie=(0,i.useState)(null)[1],ce=(0,p.Z)().project,le=[];I&&le.push.apply(le,(0,o.Z)(I)),null!==I&&void 0!==I&&I.length&&!C||!ce||null!==I&&void 0!==I&&I.length||le.unshift({bold:!C,label:function(){return F}}),(0,i.useEffect)((function(){null===q||void 0===q||!q.current||X||te||null===ie||void 0===ie||ie(q.current.getBoundingClientRect().width)}),[X,z,te,ee,q,ie,V]),(0,i.useEffect)((function(){X||(0,Z.t8)(U,z)}),[h,X,z,U]),(0,i.useEffect)((function(){te||(0,Z.t8)(Y,ee)}),[te,ee,Y]);var se=(0,b.Z)(y);return(0,i.useEffect)((function(){w&&se!==y&&K(y)}),[w,y,se]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(u.Z,{title:F}),(0,f.jsx)(a.Z,{breadcrumbs:le,menuItems:E}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null===M||void 0===M?void 0:M.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(g.Z,{navigationItems:M,showMore:!0})}),(0,f.jsx)(s.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:r,afterHeader:t,afterHeightOffset:x.Mz,afterHidden:h,afterMousedownActive:X,afterWidth:z,before:k,beforeHeightOffset:x.Mz,beforeMousedownActive:te,beforeWidth:d.k1+(k?ee:0),headerOffset:A,hideAfterCompletely:!D||N,leftOffset:k?d.k1:null,mainContainerHeader:R,mainContainerRef:q,setAfterHidden:D,setAfterMousedownActive:J,setAfterWidth:K,setBeforeMousedownActive:oe,setBeforeWidth:ne,children:[H&&(0,f.jsx)(m,{noPadding:L,children:H}),O]})})]}),T&&(0,f.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===B||void 0===B?void 0:B(null)},children:(0,f.jsx)(l.Z,_(_({},T),{},{onClose:function(){return null===B||void 0===B?void 0:B(null)}}))})]})}var C=i.forwardRef(w)},85385:function(e,n,r){"use strict";r.d(n,{Qq:function(){return m},Z7:function(){return v},cH:function(){return o},du:function(){return f},fp:function(){return d},j5:function(){return h},uM:function(){return a}});var t,o,i=r(82394),c=r(57653),l=r(82359),s=r(72473),u=r(86735),a="sideview",d=90;!function(e){e.ADDON_BLOCKS="addon_blocks",e.BLOCK_SETTINGS="block_settings",e.CALLBACKS="callbacks",e.CHARTS="charts",e.DATA="data",e.EXTENSIONS="power_ups",e.FILE_VERSIONS="file_versions",e.GRAPHS="graphs",e.INTERACTIONS="interactions",e.REPORTS="reports",e.SECRETS="secrets",e.SETTINGS="settings",e.TERMINAL="terminal",e.TREE="tree",e.VARIABLES="variables"}(o||(o={}));o.BLOCK_SETTINGS,o.CALLBACKS,o.CHARTS,o.DATA,o.EXTENSIONS,o.TREE;var f=[o.DATA];function h(e){var n,r,t,i=[{key:o.TREE,label:"Tree"},{buildLabel:function(e){var n=(e.pipeline||{}).widgets,r=void 0===n?[]:n;return(null===r||void 0===r?void 0:r.length)>=1?"Charts (".concat(r.length,")"):"Charts"},key:o.CHARTS},{buildLabel:function(e){var n=e.variables;return(null===n||void 0===n?void 0:n.length)>=1?"Variables (".concat(n.length,")"):"Variables"},key:o.VARIABLES},{buildLabel:function(e){var n=e.secrets;return(null===n||void 0===n?void 0:n.length)>=1?"Secrets (".concat(n.length,")"):"Secrets"},key:o.SECRETS}];return c.qL.PYSPARK!==(null===e||void 0===e||null===(n=e.pipeline)||void 0===n?void 0:n.type)&&i.push.apply(i,[{buildLabel:function(e){e.pipeline;return"Add-on blocks"},key:o.ADDON_BLOCKS},{buildLabel:function(e){var n=(e.pipeline||{}).extensions,r=void 0===n?{}:n,t=0;return Object.values(r).forEach((function(e){var n=e.blocks;t+=(null===n||void 0===n?void 0:n.length)||0})),t>=1?"Power ups (".concat(t,")"):"Power ups"},key:o.EXTENSIONS}]),i.push.apply(i,[{key:o.DATA,label:"Data"},{key:o.TERMINAL,label:"Terminal"},{key:o.BLOCK_SETTINGS,label:"Block settings"}]),null!==e&&void 0!==e&&null!==(r=e.project)&&void 0!==r&&null!==(t=r.features)&&void 0!==t&&t[l.d.INTERACTIONS]&&i.push({key:o.INTERACTIONS,label:"Interactions"}),i}function m(e){return(0,u.HK)(h(e),(function(e){return e.key}))}var v=(t={},(0,i.Z)(t,o.ADDON_BLOCKS,s.EJ),(0,i.Z)(t,o.BLOCK_SETTINGS,s.JG),(0,i.Z)(t,o.CALLBACKS,s.AQ),(0,i.Z)(t,o.CHARTS,s.GQ),(0,i.Z)(t,o.DATA,s.iA),(0,i.Z)(t,o.EXTENSIONS,s.Bf),(0,i.Z)(t,o.INTERACTIONS,s.yd),(0,i.Z)(t,o.SECRETS,s.Yo),(0,i.Z)(t,o.SETTINGS,s.Zr),(0,i.Z)(t,o.TERMINAL,s.oI),(0,i.Z)(t,o.TREE,s.mp),(0,i.Z)(t,o.VARIABLES,s.LO),t)},89706:function(e,n,r){"use strict";r.d(n,{JD:function(){return g},Lu:function(){return c},PF:function(){return h},aZ:function(){return i},dT:function(){return l},n6:function(){return a},nB:function(){return v},oy:function(){return m},xF:function(){return f}});var t,o,i,c,l,s=r(82394),u=r(44425);!function(e){e.DBT="dbt"}(i||(i={})),function(e){e.CSV="csv",e.JSON="json",e.MD="md",e.PY="py",e.R="r",e.SH="sh",e.SQL="sql",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(c||(c={})),function(e){e.INIT_PY="__init__.py",e.METADATA_YAML="metadata.yaml",e.REQS_TXT="requirements.txt"}(l||(l={}));var a=[c.PY,c.SQL],d=[c.JSON,c.MD,c.PY,c.R,c.SH,c.SQL,c.TXT,c.YAML,c.YML],f=new RegExp(d.map((function(e){return".".concat(e,"$")})).join("|")),h=(new RegExp(d.map((function(e){return".".concat(e,"$")})).join("|")),"charts"),m="pipelines",v=(t={},(0,s.Z)(t,c.MD,u.t6.MARKDOWN),(0,s.Z)(t,c.JSON,c.JSON),(0,s.Z)(t,c.PY,u.t6.PYTHON),(0,s.Z)(t,c.R,u.t6.R),(0,s.Z)(t,c.SQL,u.t6.SQL),(0,s.Z)(t,c.TXT,"text"),(0,s.Z)(t,c.YAML,u.t6.YAML),(0,s.Z)(t,c.YML,u.t6.YAML),t),g=(o={},(0,s.Z)(o,u.t6.MARKDOWN,c.MD),(0,s.Z)(o,u.t6.PYTHON,c.PY),(0,s.Z)(o,u.t6.R,c.R),(0,s.Z)(o,u.t6.SQL,c.SQL),(0,s.Z)(o,u.t6.YAML,c.YAML),(0,s.Z)(o,"text",c.TXT),o)},72098:function(e,n,r){"use strict";var t;r.d(n,{U:function(){return t}}),function(e){e.PYSPARK="pysparkkernel",e.PYTHON3="python3"}(t||(t={}))},40109:function(e,n,r){"use strict";r.d(n,{f:function(){return b},h:function(){return v}});var t=r(82394),o=r(82684),i=r(34376),c=r(93369),l=r(72473),s=r(70515),u=r(69419),a=r(53808),d=r(28598);var f=function(e){var n=e.oauthResponse,r=(0,i.useRouter)(),t=(0,o.useMemo)((function(){return n||{}}),[n]),f=t.url,h=t.redirect_query_params,m=void 0===h?{}:h;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(l._8,{size:2*s.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,u.iV)(f).state;(0,a.t8)(e,m),r.push(f)},uuid:"SignForm/google",children:"Sign in with Google"})})};var h=function(e){var n=e.oauthResponse,r=(0,i.useRouter)(),t=(0,o.useMemo)((function(){return n||{}}),[n]),f=t.url,h=t.redirect_query_params,m=void 0===h?{}:h;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(l.Dg,{size:2*s.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,u.iV)(f).state;m&&(0,a.t8)(e,m),r.push(f)},uuid:"SignForm/active_directory",children:"Sign in with Microsoft"})})};var m,v,g=function(e){var n=e.oauthResponse,r=(0,i.useRouter)(),t=(0,o.useMemo)((function(){return n||{}}),[n]),l=t.url,s=t.redirect_query_params,f=void 0===s?{}:s;return(0,d.jsx)(d.Fragment,{children:l&&(0,d.jsx)(c.ZP,{bold:!0,inline:!0,onClick:function(){var e=(0,u.iV)(l).state;(0,a.t8)(e,f),r.push(l)},uuid:"SignForm/okta",children:"Sign in with Okta"})})};!function(e){e.ACTIVE_DIRECTORY="active_directory",e.GITHUB="github",e.GOOGLE="google",e.OKTA="okta"}(v||(v={}));var b=(m={},(0,t.Z)(m,v.ACTIVE_DIRECTORY,h),(0,t.Z)(m,v.GOOGLE,f),(0,t.Z)(m,v.OKTA,g),m)},57653:function(e,n,r){"use strict";r.d(n,{$1:function(){return v},G7:function(){return p},LM:function(){return x},Mj:function(){return j},QK:function(){return m},RH:function(){return b},a_:function(){return P},fj:function(){return y},kA:function(){return Z},qL:function(){return l},r0:function(){return g}});var t,o,i,c,l,s=r(75582),u=r(82394),a=r(72473),d=r(72098);function f(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function h(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?f(Object(r),!0).forEach((function(n){(0,u.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}!function(e){e.INTEGRATION="integration",e.PYTHON="python",e.PYSPARK="pyspark",e.STREAMING="streaming"}(l||(l={}));var m,v,g,b=(t={},(0,u.Z)(t,l.INTEGRATION,"Integration"),(0,u.Z)(t,l.PYTHON,"Python"),(0,u.Z)(t,l.PYSPARK,"PySpark"),(0,u.Z)(t,l.STREAMING,"Streaming"),t),p=(o={},(0,u.Z)(o,l.INTEGRATION,"Integration"),(0,u.Z)(o,l.PYTHON,"Standard"),(0,u.Z)(o,l.PYSPARK,"PySpark"),(0,u.Z)(o,l.STREAMING,"Streaming"),o),x="all",j=(l.PYTHON,l.INTEGRATION,l.STREAMING,i={},(0,u.Z)(i,x,a.ie),(0,u.Z)(i,l.INTEGRATION,a.YC),(0,u.Z)(i,l.PYTHON,a.El),(0,u.Z)(i,l.STREAMING,a.dB),i);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.NO_SCHEDULES="no_schedules",e.RETRY="retry",e.RETRY_INCOMPLETE_BLOCK_RUNS="retry_incomplete_block_runs"}(m||(m={})),function(e){e.GROUP="group_by",e.HISTORY_DAYS="from_history_days",e.NO_TAGS="no_tags",e.SEARCH="search",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(v||(v={})),function(e){e.STATUS="status",e.TAG="tag",e.TYPE="type"}(g||(g={}));var Z=[m.ACTIVE,m.INACTIVE,m.NO_SCHEDULES],P=(c={},(0,u.Z)(c,l.PYTHON,d.U.PYTHON3),(0,u.Z)(c,l.PYSPARK,d.U.PYSPARK),c),y=Object.entries(P).reduce((function(e,n){var r=(0,s.Z)(n,2),t=r[0],o=r[1];return h(h({},e),{},(0,u.Z)({},o,t))}),{})},65956:function(e,n,r){"use strict";var t=r(38626),o=r(55485),i=r(38276),c=r(30160),l=r(44897),s=r(42631),u=r(47041),a=r(70515),d=r(28598),f=(0,t.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*a.iI,1.5*a.iI,1.5*a.iI),h=t.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],s.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||l.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||l.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||l.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||l.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||l.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),m=t.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],s.n_,s.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||l.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||l.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),v=t.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*a.iI,u.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*a.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),g=t.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],s.M8,s.YF,1.75*a.iI);n.Z=function(e){var n=e.borderless,r=e.children,t=e.containerRef,l=e.contentContainerRef,s=e.dark,u=e.footer,a=e.fullHeight,f=void 0===a||a,b=e.fullWidth,p=void 0===b||b,x=e.header,j=e.headerHeight,Z=e.headerIcon,P=e.headerPaddingVertical,y=e.headerTitle,_=e.maxHeight,w=e.maxWidth,C=e.minWidth,k=e.noPadding,S=e.overflowVisible,I=e.subtitle,O=e.success;return(0,d.jsxs)(h,{borderless:n,dark:s,fullHeight:f,fullWidth:p,maxHeight:_,maxWidth:w,minWidth:C,overflowVisible:S,ref:t,success:O,children:[(x||y)&&(0,d.jsxs)(m,{headerPaddingVertical:P,height:j,children:[x&&x,y&&(0,d.jsx)(o.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(o.ZP,{alignItems:"center",children:[Z&&Z,(0,d.jsx)(i.Z,{ml:Z?1:0,children:(0,d.jsx)(c.ZP,{bold:!0,default:!0,children:y})})]})})]}),(0,d.jsxs)(v,{maxHeight:_,noPadding:k,overflowVisible:S,ref:l,children:[I&&"string"===typeof I&&(0,d.jsx)(i.Z,{mb:2,children:(0,d.jsx)(c.ZP,{default:!0,children:I})}),I&&"string"!==typeof I&&I,r]}),u&&(0,d.jsx)(g,{children:u})]})}},35185:function(e,n,r){"use strict";var t=r(82394),o=r(91835),i=(r(82684),r(38626)),c=r(44897),l=r(42631),s=r(70515),u=r(28598);function a(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?a(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var f=i.default.div.withConfig({displayName:"ProgressBar__ProgressBarContainerStyle",componentId:"sc-10x9ojc-0"})(["border-radius:","px;height:","px;overflow:hidden;position:relative;width:100%;",""],l.BG,.75*s.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).grey200,";\n  ")})),h=i.default.div.withConfig({displayName:"ProgressBar__ProgressBarStyle",componentId:"sc-10x9ojc-1"})(["height:inherit;position:absolute;"," "," "," ",""],(function(e){return!e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).positive,";\n  ")}),(function(e){return e.progress&&"\n    width: ".concat(e.progress,"%;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).negative,";\n  ")}),(function(e){return e.animateProgress&&"\n    animation: animate-progress ".concat(e.animateProgress.duration,"ms linear forwards;\n\n    @keyframes animate-progress {\n      0% {\n        width: ").concat(e.animateProgress.start,"%;\n      }\n\n      100% {\n        width: ").concat(e.animateProgress.end,"%;\n      }\n    }\n  ")}));n.Z=function(e){var n=(0,o.Z)({},e);return(0,u.jsx)(f,d(d({},n),{},{children:(0,u.jsx)(h,d({},n))}))}},90299:function(e,n,r){"use strict";r.d(n,{Z:function(){return x}});var t=r(82684),o=r(71180),i=r(55485),c=r(64888),l=r(38276),s=r(30160),u=r(8059),a=r(38626),d=r(44897),f=r(70515),h=r(47041),m=a.default.div.withConfig({displayName:"indexstyle__TabsContainerStyle",componentId:"sc-segf7l-0"})(["padding-left:","px;padding-right:","px;"," "," ",""],f.cd*f.iI,f.cd*f.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.allowScroll&&"\n    overflow: auto;\n  "}),h.w5),v=a.default.div.withConfig({displayName:"indexstyle__SelectedUnderlineStyle",componentId:"sc-segf7l-1"})(["border-radius:6px;height:","px;"," "," ",""],2,(function(e){return!e.selected&&"\n    background-color: transparent;\n  "}),(function(e){return e.selected&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme||d.Z).accent.blue,";\n  ")}),(function(e){return e.selected&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")})),g=r(3314),b=r(28598);function p(e,n){var r=e.allowScroll,a=e.compact,d=e.contained,h=e.noPadding,p=e.onClickTab,x=e.regularSizeText,j=e.selectedTabUUID,Z=e.small,P=e.tabs,y=e.underlineColor,_=e.underlineStyle,w=e.uppercase,C=void 0===w||w,k=(0,t.useMemo)((function(){var e=P.length,n=[];return P.forEach((function(r,t){var d=r.Icon,h=r.IconSelected,m=r.label,P=r.uuid,w=P===j,k=w&&h||d,S=m?m():P,I=(0,b.jsxs)(i.ZP,{alignItems:"center",children:[k&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{default:!w,size:2*f.iI}),(0,b.jsx)(l.Z,{mr:1})]}),(0,b.jsx)(s.ZP,{bold:!0,default:!w,noWrapping:!0,small:!x,uppercase:C,children:S})]});t>=1&&e>=2&&n.push((0,b.jsx)("div",{style:{marginLeft:(x?2:1.5)*f.iI}},"spacing-".concat(P))),w&&!_?n.push((0,b.jsx)(c.Z,{backgroundGradient:u.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,compact:a||Z,onClick:function(e){(0,g.j)(e),p(r)},paddingUnitsHorizontal:1.75,paddingUnitsVertical:1.25,small:Z,children:I},P)):n.push((0,b.jsxs)(i.ZP,{flexDirection:"column",style:{paddingLeft:2,paddingRight:2,paddingBottom:_?0:2,paddingTop:_?0:2},children:[(0,b.jsxs)(o.ZP,{borderLess:!0,compact:a||Z,default:!0,noBackground:_,noPadding:_,onClick:function(e){(0,g.j)(e),p(r)},outline:!_,small:Z,children:[!_&&I,_&&(0,b.jsx)("div",{style:{paddingBottom:(a||Z?f.iI/2:f.iI)+2,paddingTop:(a||Z?f.iI/2:f.iI)+2+2},children:I})]}),_&&(0,b.jsx)(v,{backgroundColor:y,selected:w})]},"button-tab-".concat(P)))})),n}),[a,p,j,Z,P,_]),S=(0,b.jsx)(i.ZP,{alignItems:"center",children:k});return d?S:(0,b.jsx)(m,{allowScroll:r,noPadding:h,ref:n,children:S})}var x=t.forwardRef(p)},58024:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return Se}});var t=r(77837),o=r(38860),i=r.n(o),c=r(93808),l=r(82394),s=r(75582),u=r(54407),a=r.n(u),d=r(82684),f=r(69864),h=r(71180),m=r(15338),v=r(55485),g=r(85854),b=r(44085),p=r(38276),x=r(4190),j=r(30160),Z=r(35576),P=r(17488),y=r(12468),_=r(35686),w=r(72473),C="clone",k="delete",S="fetch",I="merge",O="pull",T="push",E="rebase",A="git_remote_name",N="git_repository_name",R={uuid:"Branches"},M={uuid:"Files"},D={uuid:"Push"},B={uuid:"Setup"},H=[B,R,M,D],L=r(70515),F=r(81728),G=r(72619),V=r(28598);var U=function(e){var n=e.actionRemoteName,r=e.branch,t=e.branches,o=e.fetchBranch,i=e.fetchBranches,c=e.remotes,u=e.setActionRemoteName,a=e.showError,C=(0,d.useState)(""),S=C[0],O=C[1],T=(0,d.useState)(null),A=T[0],N=T[1],R=(0,d.useState)(null),D=R[0],H=R[1],U=(0,d.useState)(null),Y=U[0],q=U[1],W=(0,d.useState)(""),z=W[0],K=W[1],Q=(0,d.useMemo)((function(){return null===c||void 0===c?void 0:c.find((function(e){return e.name===n}))}),[n,c]),X=(0,d.useMemo)((function(){return(null===t||void 0===t?void 0:t.concat((null===Q||void 0===Q?void 0:Q.refs)||[]))||[]}),[t,Q]),J=(0,f.Db)(_.ZP.git_custom_branches.useCreate(),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){o(),i(),K("")},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),$=(0,s.Z)(J,2),ee=$[0],ne=$[1].isLoading,re=(0,f.Db)(_.ZP.git_custom_branches.useCreate(),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){o()},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),te=(0,s.Z)(re,2),oe=te[0],ie=te[1].isLoading,ce=(0,f.Db)(_.ZP.git_custom_branches.useUpdate(null===r||void 0===r?void 0:r.name),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(e){var n=e.git_custom_branch.progress;o(),O(""),N(""),H(n),q("")},onErrorCallback:function(e,n){return a({errors:n,response:e})}})}}),le=(0,s.Z)(ce,2),se=le[0],ue=le[1].isLoading;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsxs)(g.Z,{children:["Branches",t?" (".concat(null===t||void 0===t?void 0:t.length,")"):""]}),(0,V.jsx)(p.Z,{mt:L.Mq,children:(0,V.jsxs)(v.ZP,{children:[(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Remote"})}),(0,V.jsx)(b.Z,{beforeIcon:(0,V.jsx)(w.VW,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return u(e.target.value)},placeholder:"Choose a remote",value:n||"",children:null===c||void 0===c?void 0:c.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))})]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Current branch"})}),(0,V.jsxs)(v.ZP,{alignItems:"center",children:[(0,V.jsx)(y.Z,{fullSize:!0,label:"Choose a different branch to switch branches",widthFitContent:!0,children:(0,V.jsx)(b.Z,{beforeIcon:(0,V.jsx)(w.I0,{muted:!1}),beforeIconSize:2*L.iI,monospace:!0,onChange:function(e){return oe({git_custom_branch:{name:e.target.value}})},value:null===r||void 0===r?void 0:r.name,children:(null===r||void 0===r?void 0:r.name)&&(null===t||void 0===t?void 0:t.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)})))})}),(0,V.jsx)(p.Z,{mr:L.cd}),ie&&(0,V.jsx)(x.Z,{inverted:!0})]})]})]})}),(0,V.jsx)(p.Z,{mt:L.Mq,children:(0,V.jsxs)(v.ZP,{alignItems:"center",children:[(0,V.jsx)(P.Z,{label:"New branch name",monospace:!0,onChange:function(e){var n;return K(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},value:z||""}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.mm,{size:2*L.iI}),disabled:!z,loading:ne,onClick:function(){ee({git_custom_branch:{name:z}})},primary:!0,children:"Create new branch"})]})})]}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(g.Z,{children:"Actions"}),(0,V.jsxs)(p.Z,{mt:L.Mq,children:[(0,V.jsxs)(p.Z,{mb:L.Mq,children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Compare branch"})}),(null===r||void 0===r?void 0:r.name)&&(0,V.jsx)(j.ZP,{monospace:!0,children:null===r||void 0===r?void 0:r.name})]}),(0,V.jsxs)(v.ZP,{alignItems:"center",children:[(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Base branch"})}),(0,V.jsx)(b.Z,{beforeIcon:(0,V.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return q(e.target.value)},placeholder:"Choose a branch",value:Y,children:null===X||void 0===X?void 0:X.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))})]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Action"})}),(0,V.jsxs)(b.Z,{onChange:function(e){return N(e.target.value)},placeholder:"Choose action",value:A||"",children:[(0,V.jsx)("option",{value:I,children:(0,F.vg)(I)}),(0,V.jsx)("option",{value:E,children:(0,F.vg)(E)}),(0,V.jsx)("option",{value:k,children:(0,F.vg)(k)})]})]})]}),A&&[I,E].includes(A)&&(0,V.jsxs)(p.Z,{mt:L.cd,children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsxs)(j.ZP,{bold:!0,muted:!0,children:["Message for ",A]})}),(0,V.jsx)(Z.Z,{monospace:!0,onChange:function(e){return O(e.target.value)},value:S||""})]}),(0,V.jsxs)(p.Z,{mt:L.cd,children:[(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.Bf,{size:2*L.iI}),disabled:!A||!Y,loading:ue,onClick:function(){(k!==A||"undefined"!==typeof location&&window.confirm("Are you sure you want to delete branch ".concat(Y,"?")))&&se({git_custom_branch:(0,l.Z)({action_type:A,message:S},A,{base_branch:Y})})},primary:!0,children:A?(0,F.vg)(A):"Execute action"}),D&&(0,V.jsx)(p.Z,{mt:L.cd,children:(0,V.jsx)(j.ZP,{default:!0,monospace:!0,preWrap:!0,children:D})})]})]})]}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(p.Z,{mb:L.HN,children:(0,V.jsx)(m.Z,{light:!0})}),(0,V.jsxs)(v.ZP,{children:[(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.Hd,{}),linkProps:{href:"/version-control?tab=".concat(B.uuid)},noBackground:!0,noHoverUnderline:!0,sameColorAsText:!0,children:B.uuid}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)(h.ZP,{afterIcon:(0,V.jsx)(w.Kw,{}),linkProps:{href:"/version-control?tab=".concat(M.uuid)},noHoverUnderline:!0,sameColorAsText:!0,secondary:!0,children:["Next: ",M.uuid]})]})]})]})},Y=r(90299),q=r(32013),W=r(98777),z=r(48670),K=r(75499);function Q(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function X(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Q(Object(r),!0).forEach((function(n){(0,l.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var J={base_branch:null,body:null,compare_branch:null,repository:null,title:null};var $=function(e){var n=e.actionRemoteName,r=e.branch,t=e.branches,o=e.fetchBranch,i=e.loading,c=e.remotes,u=e.repositories,a=e.repositoryName,y=e.setActionRemoteName,C=e.setRepositoryName,k=e.showError,S=(0,d.useState)((null===r||void 0===r?void 0:r.name)||""),I=S[0],O=S[1],E=(0,d.useState)(null),A=E[0],N=E[1],R=(0,d.useState)(null),D=R[0],B=R[1],H=(0,d.useState)(J),U=H[0],Y=H[1],Q=(0,f.Db)(_.ZP.git_custom_branches.useUpdate(null===r||void 0===r?void 0:r.name),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(e){var n=e.git_custom_branch,r=n.error,t=n.progress;r?(N(r),B(null)):(o(),N(null),B(t))},onErrorCallback:function(e,n){return k({errors:n,response:e})}})}}),$=(0,s.Z)(Q,2),ee=$[0],ne=$[1].isLoading,re=_.ZP.pull_requests.list({repository:a},{},{pauseFetch:!a}),te=re.data,oe=re.mutate,ie=(0,d.useMemo)((function(){return(null===te||void 0===te?void 0:te.pull_requests)||[]}),[te]),ce=(0,d.useMemo)((function(){return(0,V.jsx)(K.Z,{columnFlex:[null,null,null,null],columns:[{uuid:"Title"},{uuid:"Author"},{uuid:"Created"},{uuid:"Last modified"}],onClickRow:function(e){var n,r=null===ie||void 0===ie||null===(n=ie[e])||void 0===n?void 0:n.url;r&&window.open(r,"_blank")},rows:null===ie||void 0===ie?void 0:ie.map((function(e){var n=e.created_at,r=e.last_modified,t=e.title,o=e.url,i=e.user;return[(0,V.jsx)(z.Z,{default:!0,href:o,monospace:!0,openNewWindow:!0,small:!0,children:t},"title"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:i},"user"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:n},"createdAt"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:r||"-"},"lastModified")]})),uuid:"pull-requests"})}),[ie]),le=_.ZP.git_custom_branches.list({repository:a},{},{pauseFetch:!a}).data,se=(0,d.useMemo)((function(){return(null===le||void 0===le?void 0:le.git_custom_branches)||[]}),[le]);(0,d.useEffect)((function(){null!==U&&void 0!==U&&U.compare_branch||null===se||void 0===se||!se.find((function(e){return e.name===(null===r||void 0===r?void 0:r.name)}))||Y((function(e){return X(X({},e),{},{compare_branch:null===r||void 0===r?void 0:r.name})}))}),[r,se,U]);var ue=(0,f.Db)(_.ZP.pull_requests.useCreate(),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){oe(),Y(J)},onErrorCallback:function(e,n){return k({errors:n,response:e})}})}}),ae=(0,s.Z)(ue,2),de=ae[0],fe=ae[1].isLoading;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(g.Z,{children:(0,F.vg)(T)})}),(0,V.jsxs)(p.Z,{mt:L.Mq,children:[(0,V.jsxs)(v.ZP,{children:[(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Remote"})}),i&&(0,V.jsx)(x.Z,{inverted:!0}),!i&&(0,V.jsx)(b.Z,{beforeIcon:(0,V.jsx)(w.VW,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return y(e.target.value)},placeholder:"Choose remote",value:n||"",children:null===c||void 0===c?void 0:c.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))})]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Branch"})}),(0,V.jsxs)(b.Z,{beforeIcon:(0,V.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return O(e.target.value)},placeholder:"Choose branch",value:I||"",children:[(0,V.jsx)("option",{value:""}),null===t||void 0===t?void 0:t.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))]})]})]}),(0,V.jsx)(p.Z,{mt:L.cd,children:(0,V.jsxs)(h.ZP,{beforeIcon:(0,V.jsx)(w.Bf,{size:2*L.iI}),disabled:!n||!I,loading:ne,onClick:function(){B(null),ee({git_custom_branch:(0,l.Z)({action_type:T},T,{branch:I,remote:n})})},primary:!0,children:[(0,F.vg)(T)," ",n," ",n&&I]})}),(D||A)&&(0,V.jsx)(p.Z,{mt:L.cd,children:(0,V.jsx)(j.ZP,{danger:!!A,default:!!D,monospace:!0,preWrap:!0,children:D||A})})]})]}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(g.Z,{children:"Create pull request"})}),(0,V.jsxs)(p.Z,{mt:L.Mq,children:[i&&(0,V.jsx)(x.Z,{inverted:!0}),!i&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(v.ZP,{children:[(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Repository"})}),(0,V.jsx)(b.Z,{beforeIcon:(0,V.jsx)(w.fy,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return C(e.target.value)},placeholder:"Choose repository",value:a||"",children:null===u||void 0===u?void 0:u.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))})]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Base branch"})}),a&&!le&&(0,V.jsx)(x.Z,{inverted:!0}),(!a||le)&&(0,V.jsx)(b.Z,{beforeIcon:(0,V.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,disabled:!a,monospace:!0,onChange:function(e){return Y((function(n){return X(X({},n),{},{base_branch:e.target.value})}))},placeholder:"Choose branch",value:(null===U||void 0===U?void 0:U.base_branch)||"",children:null===se||void 0===se?void 0:se.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))})]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)("div",{children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Compare branch"})}),a&&!le&&(0,V.jsx)(x.Z,{inverted:!0}),(!a||le||(null===U||void 0===U?void 0:U.compare_branch))&&(0,V.jsxs)(b.Z,{beforeIcon:(0,V.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,disabled:!a,monospace:!0,onChange:function(e){return Y((function(n){return X(X({},n),{},{compare_branch:e.target.value})}))},placeholder:"Choose branch",value:(null===U||void 0===U?void 0:U.compare_branch)||"",children:[!(null!==se&&void 0!==se&&se.length)&&(null===U||void 0===U?void 0:U.compare_branch)&&(0,V.jsx)("option",{value:null===U||void 0===U?void 0:U.compare_branch,children:null===U||void 0===U?void 0:U.compare_branch}),null===se||void 0===se?void 0:se.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))]})]})]}),(0,V.jsx)(p.Z,{mt:1,children:(0,V.jsx)(P.Z,{label:"Title",monospace:!0,onChange:function(e){return Y((function(n){return X(X({},n),{},{title:e.target.value})}))},value:(null===U||void 0===U?void 0:U.title)||""})}),(0,V.jsx)(p.Z,{mt:1,children:(0,V.jsx)(Z.Z,{label:"Description",monospace:!0,onChange:function(e){return Y((function(n){return X(X({},n),{},{body:e.target.value})}))},value:(null===U||void 0===U?void 0:U.body)||""})}),(0,V.jsx)(p.Z,{mt:L.cd,children:(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.Bf,{size:2*L.iI}),disabled:!a||!(null!==U&&void 0!==U&&U.title)||!(null!==U&&void 0!==U&&U.base_branch)||!(null!==U&&void 0!==U&&U.compare_branch),loading:fe,onClick:function(){de({pull_request:X(X({},U),{},{repository:a})})},primary:!0,children:"Create new pull request"})})]})]}),(0,V.jsx)(p.Z,{mt:L.Mq,children:(0,V.jsx)(q.Z,{visibleMapping:{0:!a},children:(0,V.jsxs)(W.Z,{noPaddingContent:!0,title:te?"Pull requests (".concat(null===ie||void 0===ie?void 0:ie.length,")"):"Pull requests",children:[!a&&(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(j.ZP,{muted:!0,children:"Please select a repository to view open pull requests."})}),a&&(0,V.jsxs)(V.Fragment,{children:[!te&&(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(x.Z,{inverted:!0})}),te&&ce]})]})})})]}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(p.Z,{mb:L.HN,children:(0,V.jsx)(m.Z,{light:!0})}),(0,V.jsx)(v.ZP,{children:(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.Hd,{}),linkProps:{href:"/version-control?tab=".concat(M.uuid)},noBackground:!0,noHoverUnderline:!0,sameColorAsText:!0,children:M.uuid})})]})]})},ee=r(94629),ne=r(10553),re=r(70652),te=r(97618),oe=r(38626),ie=oe.default.div.withConfig({displayName:"indexstyle__SpacingStyle",componentId:"sc-el09vr-0"})(["margin-top:","px;"],.5*L.iI),ce=r(42122);function le(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function se(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?le(Object(r),!0).forEach((function(n){(0,l.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):le(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var ue=function(e){var n=e.branch,r=e.fetchBranch,t=e.modifiedFiles,o=e.setSelectedFilePath,i=e.showError,c=e.stagedFiles,l=e.untrackedFiles,u=(0,d.useRef)(null),a=(0,d.useState)(""),b=a[0],P=a[1],y=(0,d.useState)({}),C=y[0],k=y[1],S=(0,d.useState)({}),I=S[0],O=S[1],T=(0,d.useMemo)((function(){return Object.keys(t).concat(Object.keys(l)).sort()}),[t,l]),E=(0,d.useMemo)((function(){return Object.keys(c||{})}),[c]),A=(0,d.useMemo)((function(){return E.length}),[E]),N=(0,d.useMemo)((function(){return Object.keys(C).length===(null===T||void 0===T?void 0:T.length)}),[C,T]),M=(0,d.useMemo)((function(){return Object.keys(I).length===(null===E||void 0===E?void 0:E.length)}),[I,E]),B=(0,d.useMemo)((function(){return{onErrorCallback:function(e,n){return i({errors:n,response:e})}}}),[i]),H=(0,d.useMemo)((function(){return{onSuccess:function(e){return(0,G.wD)(e,se({callback:function(){r(),k({})}},B))}}}),[r,B]),U=(0,d.useMemo)((function(){return _.ZP.git_custom_branches.useUpdate(null===n||void 0===n?void 0:n.name)}),[n]),Y=(0,f.Db)(U,H),Q=(0,s.Z)(Y,2),X=Q[0],J=Q[1].isLoading,$=(0,f.Db)(U,H),ee=(0,s.Z)($,2),ne=ee[0],oe=ee[1].isLoading,le=(0,f.Db)(U,{onSuccess:function(e){return(0,G.wD)(e,se({callback:function(){r(),O({})}},B))}}),ue=(0,s.Z)(le,2),ae=ue[0],de=ue[1].isLoading,fe=(0,d.useCallback)((function(e,n,r,t,o){var i=(null===e||void 0===e?void 0:e.length)>=1;return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(z.Z,{block:!0,noHoverUnderline:!0,onClick:function(){r(o?{}:t)},preventDefault:!0,children:(0,V.jsxs)(v.ZP,{alignItems:"center",flexDirection:"row",children:[(0,V.jsx)(re.Z,{checked:i&&o,disabled:!i}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(j.ZP,{bold:!0,children:i&&o?"Unselect all":"Select all"})]})}),e.map((function(e){return(0,V.jsx)(ie,{children:(0,V.jsx)(z.Z,{block:!0,noHoverUnderline:!0,onClick:function(){return r((function(n){var r=se({},n);return!(null!==r&&void 0!==r&&r[e])?r[e]=!0:delete r[e],r}))},preventDefault:!0,children:(0,V.jsxs)(v.ZP,{alignItems:"center",flexDirection:"row",children:[(0,V.jsx)(re.Z,{checked:!(null===n||void 0===n||!n[e])}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,children:e})]})})},e)}))]})}),[]),he=(0,d.useMemo)((function(){return(0,ce.Qr)(C)}),[C]),me=_.ZP.git_custom_branches.detail("with_logs",{_format:"with_logs"}),ve=me.data,ge=me.mutate,be=(0,d.useMemo)((function(){var e;return(null===ve||void 0===ve||null===(e=ve.git_custom_branch)||void 0===e?void 0:e.logs)||[]}),[ve]),pe=(0,f.Db)(_.ZP.git_custom_branches.useUpdate(null===n||void 0===n?void 0:n.name),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){ge(),r(),P("")},onErrorCallback:function(e,n){return i({errors:n,response:e})}})}}),xe=(0,s.Z)(pe,2),je=xe[0],Ze=xe[1].isLoading,Pe=(0,d.useMemo)((function(){return(0,V.jsx)(K.Z,{columnFlex:[1,1,1],columns:[{uuid:"Author"},{uuid:"Date"},{uuid:"Message"}],rows:be.map((function(e){var n=e.author,r=e.date,t=e.message;return[(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===n||void 0===n?void 0:n.name},"author"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:r},"date"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:t},"message")]})),uuid:"git-branch-logs"})}),[be]);return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(p.Z,{mb:L.HN,children:(0,V.jsxs)(v.ZP,{children:[(0,V.jsxs)(te.Z,{flex:1,flexDirection:"column",children:[(0,V.jsxs)(g.Z,{children:["Not staged ",(null===T||void 0===T?void 0:T.length)>=1&&"(".concat(null===T||void 0===T?void 0:T.length,")")]}),(0,V.jsx)(p.Z,{my:L.cd,children:(0,V.jsx)(m.Z,{light:!0})}),(0,V.jsx)(p.Z,{mb:L.cd,children:(0,V.jsxs)(v.ZP,{flexDirection:"row",children:[(0,V.jsx)(h.ZP,{compact:!0,disabled:he||de||oe,loading:J,onClick:function(){X({git_custom_branch:{action_type:"add",files:Object.keys(C)}}).then((function(e){var n,r=e.data;null!==r&&void 0!==r&&r.git_custom_branch&&(null===u||void 0===u||null===(n=u.current)||void 0===n||n.focus())}))},primary:!0,children:"Add files"}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(h.ZP,{compact:!0,disabled:he||J||de,loading:oe,noBackground:!0,onClick:function(){"undefined"!==typeof location&&window.confirm("Are you sure you want to undo all changes in the selected files?")&&ne({git_custom_branch:{action_type:"checkout",files:Object.keys(C)}})},children:"Checkout files"})]})}),fe(T,C,k,se(se({},t),l),N)]}),(0,V.jsx)(p.Z,{mr:L.cd}),(0,V.jsxs)(te.Z,{flex:1,flexDirection:"column",children:[(0,V.jsxs)(g.Z,{children:["Staged files ",(null===E||void 0===E?void 0:E.length)>=1&&"(".concat(null===E||void 0===E?void 0:E.length,")")]}),(0,V.jsx)(p.Z,{my:L.cd,children:(0,V.jsx)(m.Z,{light:!0})}),(0,V.jsx)(p.Z,{mb:L.cd,children:(0,V.jsx)(v.ZP,{flexDirection:"row",children:(0,V.jsx)(h.ZP,{compact:!0,disabled:(0,ce.Qr)(I)||J||oe,loading:de,onClick:function(){ae({git_custom_branch:{action_type:"reset",files:Object.keys(I)}})},secondary:!0,children:"Reset files"})})}),fe(E,I,O,c,M)]})]})}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(g.Z,{children:"Commit"})}),(0,V.jsx)(p.Z,{mb:L.cd,children:(0,V.jsx)(q.Z,{children:(0,V.jsx)(W.Z,{noPaddingContent:!0,title:A>=1?"Staged files (".concat(A,")"):"No staged files",children:null===E||void 0===E?void 0:E.map((function(e){return(0,V.jsx)(p.Z,{my:1,px:L.cd,children:(0,V.jsxs)(v.ZP,{justifyContent:"space-between",children:[(0,V.jsx)(z.Z,{default:!0,monospace:!0,onClick:function(){return o((function(n){return n===e?null:e}))},warning:null===t||void 0===t?void 0:t[e],children:e}),(0,V.jsx)(p.Z,{mr:1}),(null===t||void 0===t?void 0:t[e])&&(0,V.jsx)(j.ZP,{warning:!0,children:"Modified after staging"})]})},e)}))})})}),(0,V.jsx)(Z.Z,{label:"Commit message",monospace:!0,onChange:function(e){return P(e.target.value)},ref:u,value:b||""}),(0,V.jsx)(p.Z,{mt:L.cd,children:(0,V.jsxs)(v.ZP,{alignItems:"center",children:[(0,V.jsxs)(h.ZP,{disabled:0===A||!((null===b||void 0===b?void 0:b.length)>=1),loading:Ze,onClick:function(){je({git_custom_branch:{action_type:"commit",message:b}})},primary:!0,children:["Commit ",(0,F._6)("file",A,!0)," with message"]}),0===A&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(j.ZP,{danger:!0,small:!0,children:"Please stage at least 1 file before committing."})]})]})})]}),(0,V.jsx)(p.Z,{mb:L.HN,children:(0,V.jsx)(q.Z,{children:(0,V.jsxs)(W.Z,{noPaddingContent:!0,title:"Logs",children:[!ve&&(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(x.Z,{inverted:!0})}),ve&&Pe]})})}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(p.Z,{mb:L.HN,children:(0,V.jsx)(m.Z,{light:!0})}),(0,V.jsxs)(v.ZP,{children:[(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.Hd,{}),linkProps:{href:"/version-control?tab=".concat(R.uuid)},noBackground:!0,noHoverUnderline:!0,sameColorAsText:!0,children:R.uuid}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)(h.ZP,{afterIcon:(0,V.jsx)(w.Kw,{}),linkProps:he?{href:"/version-control?tab=".concat(D.uuid)}:null,noHoverUnderline:!0,primary:he,sameColorAsText:!0,secondary:!he,children:["Next: ",D.uuid]})]})]})]})},ae=r(12691),de=r.n(ae),fe=r(34376),he=r(40109),me=r(69419),ve=r(53808);var ge=function(e){var n=e.actionRemoteName,r=e.branch,t=e.fetchBranch,o=e.loading,i=e.remotes,c=e.setActionRemoteName,u=e.showError,a=(0,fe.useRouter)(),Z=(0,d.useRef)(null),y=(0,d.useState)(null),k=y[0],I=y[1],T=(0,d.useState)(null),E=T[0],A=T[1],N=(0,d.useState)(null),M=N[0],D=N[1],B=(0,d.useState)(null),H=B[0],U=B[1],Y=(0,d.useState)(!1),Q=Y[0],X=Y[1],J=(0,d.useState)(null),$=J[0],ee=J[1],ne=(0,d.useState)(""),re=ne[0],oe=ne[1],ie=(0,d.useState)(""),ce=ie[0],le=ie[1],se=(0,d.useState)(null),ue=se[0],ae=se[1],ge=(0,d.useMemo)((function(){return!(null===r||void 0===r||!r.name)}),[r]),be=(0,d.useMemo)((function(){return null===r||void 0===r?void 0:r.access_token_exists}),[r]);(0,d.useEffect)((function(){var e,n;null!==r&&void 0!==r&&null!==(e=r.sync_config)&&void 0!==e&&e.repo_path&&null===ue&&ae(null===r||void 0===r||null===(n=r.sync_config)||void 0===n?void 0:n.repo_path)}),[r,ue]);var pe=(0,d.useMemo)((function(){var e,r;return null===i||void 0===i||null===(e=i.find((function(e){return e.name===n})))||void 0===e||null===(r=e.refs)||void 0===r?void 0:r.map((function(e){var n=e.name.split("/");return{name:n[n.length-1]}}))}),[n,i]),xe=(0,f.Db)(_.ZP.syncs.useCreate(),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){t(),X(!1)},onErrorCallback:function(e,n){return u({errors:n,response:e})}})}}),je=(0,s.Z)(xe,2),Ze=je[0],Pe=je[1].isLoading,ye=(0,f.Db)(_.ZP.oauths.useUpdate("github"),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){return window.location.href=window.location.href.split("?")[0]},onErrorCallback:function(e,n){return u({errors:n,response:e})}})}}),_e=(0,s.Z)(ye,2),we=_e[0],Ce=_e[1].isLoading,ke=(0,f.Db)(_.ZP.git_custom_branches.useUpdate(null===r||void 0===r?void 0:r.name),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(e){var n=e.git_custom_branch,r=n.error,o=n.progress;r?(A(r),U(null)):(t(),I(null),A(null),D(null),U(o))},onErrorCallback:function(e,n){return u({errors:n,response:e})}})}}),Se=(0,s.Z)(ke,2),Ie=Se[0],Oe=Se[1].isLoading,Te=(0,f.Db)(_.ZP.git_custom_branches.useUpdate(null===r||void 0===r?void 0:r.name),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){t(),oe(""),le("")},onErrorCallback:function(e,n){return u({errors:n,response:e})}})}}),Ee=(0,s.Z)(Te,2),Ae=Ee[0],Ne=Ee[1].isLoading,Re=(0,f.Db)(_.ZP.git_custom_branches.useUpdate(null===r||void 0===r?void 0:r.name),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){t(),ee(null)},onErrorCallback:function(e,n){ee(null),u({errors:n,response:e})}})}}),Me=(0,s.Z)(Re,2),De=Me[0],Be=Me[1].isLoading,He=_.ZP.oauths.detail(he.h.GITHUB,{redirect_uri:encodeURIComponent(window.location.href)}),Le=He.data,Fe=He.mutate,Ge=(0,d.useMemo)((function(){return(null===Le||void 0===Le?void 0:Le.oauth)||{}}),[Le]),Ve=(0,f.Db)(_.ZP.oauths.useCreate(),{onSuccess:function(e){return(0,G.wD)(e,{callback:function(){Fe()},onErrorCallback:function(e,n){u({errors:n,response:e})}})}}),Ue=(0,s.Z)(Ve,2),Ye=Ue[0],qe=Ue[1].isLoading,We=(0,me.iV)()||{},ze=We.access_token,Ke=We.provider;(0,d.useEffect)((function(){!Ge||null!==Ge&&void 0!==Ge&&Ge.authenticated||!ze||Ye({oauth:{provider:Ke||he.h.GITHUB,token:ze}})}),[ze,Ye,Ge,Ke]);var Qe=(0,d.useMemo)((function(){return null===i||void 0===i?void 0:i.map((function(e){var r=e.name,t=e.refs,o=e.urls;return(0,V.jsxs)(p.Z,{mt:L.Mq,children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,V.jsxs)(te.Z,{alignItems:"center",children:[(0,V.jsx)(j.ZP,{bold:!0,children:r}),(0,V.jsx)(p.Z,{mx:1,children:(0,V.jsx)(w._Q,{muted:!0})}),null===o||void 0===o?void 0:o.map((function(e){return(0,V.jsx)(p.Z,{mr:1,children:(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:e})},e)}))]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(h.ZP,{compact:!0,disabled:Be&&$!==r,iconOnly:!0,loading:Be&&$===r,noBackground:!0,onClick:function(){"undefined"!==typeof location&&window.confirm("Are you sure you want to remove remote ".concat(r,"?"))&&(ee(r),De({git_custom_branch:{action_type:"remove_remote",remote:{name:r}}}).then((function(){n===r&&c(null)})))},small:!0,title:"Remote remote ".concat(r),children:(0,V.jsx)(w.rF,{})})]})}),(0,V.jsx)(q.Z,{children:(0,V.jsxs)(W.Z,{noPaddingContent:!0,smallTitle:!0,title:"Refs (".concat(null===t||void 0===t?void 0:t.length,")"),children:[0===(null===t||void 0===t?void 0:t.length)&&(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(j.ZP,{muted:!0,children:"This remote has no refs."})}),(null===t||void 0===t?void 0:t.length)>=1&&(0,V.jsx)(K.Z,{columnFlex:[1,1,1],columns:[{uuid:"Ref"},{uuid:"Author"},{uuid:"Date"},{uuid:"Message"}],rows:t.map((function(e){var n,r=e.commit,t=e.name;return[(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:t},"ref-name"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===r||void 0===r||null===(n=r.author)||void 0===n?void 0:n.name},"author"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===r||void 0===r?void 0:r.date},"date"),(0,V.jsx)(j.ZP,{default:!0,monospace:!0,small:!0,children:null===r||void 0===r?void 0:r.message},"message")]})),uuid:"git-branch-remotes-refs"})]})}),(0,V.jsx)(p.Z,{mt:L.Mq,children:(0,V.jsx)(m.Z,{light:!0})})]},r)}))}),[Be,$,i,De]);return(0,V.jsxs)(V.Fragment,{children:[Le&&(0,V.jsxs)(p.Z,{mb:L.HN,children:[(null===Ge||void 0===Ge?void 0:Ge.authenticated)&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.fy,{size:2*L.iI}),disabled:!0,children:"Successfully authenticated with GitHub"}),(0,V.jsx)(p.Z,{my:1,children:(0,V.jsx)(j.ZP,{muted:!0,children:"You can pull, push, and create pull requests on GitHub."})}),(0,V.jsx)(h.ZP,{loading:Ce,onClick:function(){return we({oauth:{action_type:"reset"}})},warning:!0,children:"Reset GitHub authentication"})]}),!(null!==Ge&&void 0!==Ge&&Ge.authenticated)&&(null===Ge||void 0===Ge?void 0:Ge.url)&&(0,V.jsxs)(V.Fragment,{children:[be&&(0,V.jsxs)(p.Z,{mb:2,children:[(0,V.jsx)(h.ZP,{disabled:!0,children:"Using access token from Git Settings"}),(0,V.jsx)(p.Z,{mt:1,children:(0,V.jsx)(j.ZP,{muted:!0,children:"Some features may not work unless you authenticate with GitHub."})})]}),(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.fy,{size:2*L.iI}),loading:qe,onClick:function(){var e=null===Ge||void 0===Ge?void 0:Ge.url,n=(0,me.iV)(e).state;(0,ve.t8)(n,(null===Ge||void 0===Ge?void 0:Ge.redirect_query_params)||{}),a.push(e)},primary:!0,children:"Authenticate with GitHub"}),(0,V.jsx)(p.Z,{mt:1,children:(0,V.jsx)(j.ZP,{muted:!0,children:"Authenticating with GitHub will allow you to pull, push, and create pull requests on GitHub."})})]})]}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(g.Z,{children:"Setup"}),(0,V.jsxs)(p.Z,{mt:L.Mq,children:[(0,V.jsxs)(p.Z,{mb:1,children:[(0,V.jsx)(j.ZP,{bold:!0,large:!0,children:ge?"Git init directory":"Initialize Git directory"}),!ge&&(0,V.jsxs)(j.ZP,{muted:!0,children:["Enter the directory you want to initialize git in. For example, ",(0,V.jsx)(j.ZP,{bold:!0,inline:!0,monospace:!0,muted:!0,children:"/home/src/default_repo"}),"."]}),ge&&(0,V.jsxs)(j.ZP,{muted:!0,children:["If the directory below is blank, then the current working directory will be used to initialize git.",(0,V.jsx)("br",{}),"If git hasn\u2019t been initialized in the directory below, Mage will automatically run git init for you."]})]}),(0,V.jsxs)(v.ZP,{alignItems:"center",children:[(0,V.jsx)(P.Z,{disabled:ge&&!Q,label:"Git directory",monospace:!0,onChange:function(e){return ae(e.target.value)},ref:Z,value:ue||""}),(0,V.jsx)(p.Z,{mr:1}),(!ge||Q)&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(h.ZP,{compact:!0,disabled:!ge&&!ue,loading:Pe,onClick:function(){Ze({sync:{repo_path:ue}})},primary:!0,small:!0,children:"Save"}),ge&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(z.Z,{onClick:function(){return X(!1)},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Cancel"})]})]}),ge&&!Q&&(0,V.jsx)(z.Z,{onClick:function(){X(!0),setTimeout((function(){var e;return null===Z||void 0===Z||null===(e=Z.current)||void 0===e?void 0:e.focus()}),1)},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Edit"})]})]})]}),ge&&(0,V.jsxs)(V.Fragment,{children:[(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsxs)(g.Z,{children:["Remotes",!o&&i?" (".concat(null===i||void 0===i?void 0:i.length,")"):""]}),o&&(0,V.jsx)(p.Z,{mt:L.Mq,children:(0,V.jsx)(x.Z,{inverted:!0})}),!o&&Qe,(0,V.jsx)(p.Z,{mt:L.Mq,children:(0,V.jsxs)(v.ZP,{alignItems:"flex-start",children:[(0,V.jsx)(P.Z,{label:"New remote name",monospace:!0,onChange:function(e){var n;return oe(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},value:re||""}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsxs)(v.ZP,{flexDirection:"column",children:[(0,V.jsx)(P.Z,{label:"Remote URL",monospace:!0,onChange:function(e){var n;return le(null===e||void 0===e||null===(n=e.target)||void 0===n?void 0:n.value)},value:ce||""}),(0,V.jsx)(p.Z,{mt:1,children:(0,V.jsxs)(j.ZP,{muted:!0,small:!0,children:["Use the https URL if you",(0,V.jsx)("br",{}),"authenticated with GitHub above."]})})]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.mm,{size:2*L.iI}),disabled:!re||!ce,loading:Ne,onClick:function(){Ae({git_custom_branch:{action_type:"add_remote",remote:{name:re,url:ce}}})},primary:!0,children:"Create new remote"})]})})]}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(g.Z,{children:"Actions"}),(0,V.jsxs)(p.Z,{mt:L.Mq,children:[(0,V.jsxs)(p.Z,{mb:L.Mq,children:[(0,V.jsx)(p.Z,{mb:1,children:(0,V.jsx)(j.ZP,{bold:!0,muted:!0,children:"Current branch"})}),(null===r||void 0===r?void 0:r.name)&&(0,V.jsxs)(v.ZP,{alignItems:"center",children:[(0,V.jsx)(j.ZP,{monospace:!0,children:null===r||void 0===r?void 0:r.name}),(0,V.jsx)(p.Z,{mr:L.cd}),(0,V.jsx)(de(),{href:"/version-control?tab=".concat(R.uuid),passHref:!0,children:(0,V.jsx)(z.Z,{small:!0,children:"Switch branch"})})]})]}),(0,V.jsxs)(v.ZP,{children:[(0,V.jsxs)(b.Z,{onChange:function(e){return D(e.target.value)},placeholder:"Action",value:M||"",children:[(0,V.jsx)("option",{value:S,children:(0,F.vg)(S)}),(0,V.jsx)("option",{value:O,children:(0,F.vg)(O)}),(0,V.jsx)("option",{value:"reset",children:(0,F.vg)("reset --hard")}),(0,V.jsx)("option",{value:C,children:(0,F.vg)(C)})]}),(0,V.jsx)(p.Z,{mr:1}),(0,V.jsx)(b.Z,{beforeIcon:(0,V.jsx)(w.VW,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return c(e.target.value)},placeholder:"Remote",value:n||"",children:null===i||void 0===i?void 0:i.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))}),![S,C].includes(M)&&(0,V.jsx)(p.Z,{ml:1,children:(0,V.jsxs)(b.Z,{beforeIcon:(0,V.jsx)(w.I0,{}),beforeIconSize:1.5*L.iI,monospace:!0,onChange:function(e){return I(e.target.value)},value:k||"",children:[(0,V.jsx)("option",{value:"",children:"All branches"}),null===pe||void 0===pe?void 0:pe.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))]})})]}),(0,V.jsxs)(p.Z,{mt:L.cd,children:[(0,V.jsx)(h.ZP,{beforeIcon:(0,V.jsx)(w.Bf,{size:2*L.iI}),disabled:!M||!n,loading:Oe,onClick:function(){U(null),(M!==C||"undefined"!==typeof location&&window.confirm("Are you sure you want to clone remote ".concat(n,"? This will ")+"overwrite all your local changes and may reset any settings you may have configured for your local Git repo. This action cannot be undone."))&&Ie({git_custom_branch:(0,l.Z)({action_type:M},M,{branch:k,remote:n})})},primary:!0,children:M?(0,F.vg)(M):"Execute action"}),(H||E)&&(0,V.jsx)(p.Z,{mt:L.cd,children:(0,V.jsx)(j.ZP,{danger:!!E,default:!!H,monospace:!0,preWrap:!0,children:H||E})})]})]})]}),(0,V.jsxs)(p.Z,{mb:L.HN,children:[(0,V.jsx)(p.Z,{mb:L.HN,children:(0,V.jsx)(m.Z,{light:!0})}),(0,V.jsx)(v.ZP,{children:(0,V.jsxs)(h.ZP,{afterIcon:(0,V.jsx)(w.Kw,{}),linkProps:{href:"/version-control?tab=".concat(R.uuid)},noHoverUnderline:!0,sameColorAsText:!0,secondary:!0,children:["Next: ",R.uuid]})})]})]})]})},be=r(95363),pe=oe.default.div.withConfig({displayName:"indexstyle__DiffContainerStyle",componentId:"sc-1fo4nus-0"})(["pre{font-family:",";}"],be.Vp),xe={codeFoldGutter:{},content:{},contentText:{},diffAdded:{},diffContainer:{},diffRemoved:{},emptyGutter:{},emptyLine:{},gutter:{},highlightedGutter:{},highlightedLine:{},line:{},lineNumber:{},marker:{},splitView:{},titleBlock:{},variables:{dark:{addedBackground:"#044B53",addedColor:"white",addedGutterBackground:"#034148",addedGutterColor:"#8c8c8c",codeFoldBackground:"#262831",codeFoldContentColor:"#555a7b",codeFoldGutterBackground:"#21232b",diffViewerBackground:"#2e303c",diffViewerColor:"#FFF",diffViewerTitleBackground:"#2f323e",diffViewerTitleBorderColor:"#353846",diffViewerTitleColor:"#555a7b",emptyLineBackground:"#363946",gutterBackground:"#2c2f3a",gutterBackgroundDark:"#262933",gutterColor:"#464c67",highlightBackground:"#2a3967",highlightGutterBackground:"#2d4077",removedBackground:"#632F34",removedColor:"white",removedGutterBackground:"#632b30",removedGutterColor:"#8c8c8c",wordAddedBackground:"#055d67",wordRemovedBackground:"#7d383f"},light:{addedBackground:"#e6ffed",addedColor:"#24292e",addedGutterBackground:"#cdffd8",addedGutterColor:"#212529",codeFoldBackground:"#f1f8ff",codeFoldContentColor:"#212529",codeFoldGutterBackground:"#dbedff",diffViewerBackground:"#fff",diffViewerColor:"212529",diffViewerTitleBackground:"#fafbfc",diffViewerTitleBorderColor:"#eee",diffViewerTitleColor:"#212529",emptyLineBackground:"#fafbfc",gutterBackground:"#f7f7f7",gutterBackgroundDark:"#f3f1f1",gutterColor:"#212529",highlightBackground:"#fffbdd",highlightGutterBackground:"#fff5b1",removedBackground:"#ffeef0",removedColor:"#24292e",removedGutterBackground:"#ffdce0",removedGutterColor:"#212529",wordAddedBackground:"#acf2bd",wordRemovedBackground:"#fdb8c0"}},wordAdded:{},wordDiff:{},wordRemoved:{}},je=r(53005),Ze=r(15610),Pe=r(86735),ye=r(23780);function _e(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function we(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?_e(Object(r),!0).forEach((function(n){(0,l.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var Ce=function(){var e=(0,d.useRef)(null),n=(0,d.useRef)(null),r=(0,ye.VI)(null,{},[],{uuid:"VersionControlPage"}),t=(0,s.Z)(r,1)[0],o=(0,d.useState)(null),i=o[0],c=o[1],f=(0,d.useState)(null),h=f[0],v=f[1],g=(0,d.useState)(H[0]),Z=g[0],P=g[1],w=(0,me.iV)();(0,d.useEffect)((function(){null!==w&&void 0!==w&&w.tab&&P(H.find((function(e){return e.uuid===(null===w||void 0===w?void 0:w.tab)})))}),[w]);var C=_.ZP.git_custom_branches.list({include_remote_branches:1}),k=C.data,S=C.mutate,I=(0,d.useMemo)((function(){return null===k||void 0===k?void 0:k.git_custom_branches}),[k]),O=_.ZP.git_custom_branches.detail("current",{_format:"with_files"}),T=O.data,E=O.mutate,F=(0,d.useMemo)((function(){return(null===T||void 0===T?void 0:T.git_custom_branch)||{}}),[T]),G=(0,d.useMemo)((function(){return(null===F||void 0===F?void 0:F.files)||[]}),[F]),q=_.ZP.git_custom_branches.detail("with_remotes",{_format:"with_remotes"}),W=q.data,z=q.mutate,K=(0,d.useMemo)((function(){return null===W||void 0===W?void 0:W.git_custom_branch}),[W]),Q=(0,d.useMemo)((function(){return(null===K||void 0===K?void 0:K.remotes)||[]}),[K]),X=(0,d.useState)(null),J=X[0],re=X[1],te=(0,d.useCallback)((function(e){(0,ve.t8)(A,e),re(e)}),[]);(0,d.useEffect)((function(){var e=(0,ve.U2)(A,null);if(W&&e){var n=null===Q||void 0===Q?void 0:Q.find((function(n){return n.name===e}));te(n?null===n||void 0===n?void 0:n.name:null)}}),[W,Q,te]);var oe=(0,d.useState)((0,ve.U2)(N,"")),ie=oe[0],le=oe[1],se=(0,d.useCallback)((function(e){(0,ve.t8)(N,e),le(e)}),[]),ae=(0,d.useMemo)((function(){return(0,Pe.Tw)(Q.reduce((function(e,n){var r;return e.concat((null===n||void 0===n||null===(r=n.repository_names)||void 0===r?void 0:r.map((function(e){var r;return{name:e,url:null===n||void 0===n||null===(r=n.urls)||void 0===r?void 0:r[0]}})))||[])}),[]),(function(e){return e.name}))}),[Q]);(0,d.useEffect)((function(){var e=(0,ve.U2)(N,null);if(W&&e){var n=null===ae||void 0===ae?void 0:ae.find((function(n){return n.name===e}));se(n?null===n||void 0===n?void 0:n.name:null)}}),[W,ae,se]);var de=_.ZP.git_files.detail(h?encodeURIComponent(h):null,{base_branch:i}),fe=de.data,he=de.mutate,be=(0,d.useMemo)((function(){return null===fe||void 0===fe?void 0:fe.git_file}),[fe]);(0,d.useEffect)((function(){i&&he()}),[i,he]),(0,d.useEffect)((function(){null!==fe&&void 0!==fe&&fe.error&&t({errors:null===fe||void 0===fe?void 0:fe.error,response:fe})}),[fe,t]);var _e=(0,d.useMemo)((function(){var e,n,r;return{modifiedFiles:null===F||void 0===F||null===(e=F.modified_files)||void 0===e?void 0:e.reduce((function(e,n){return we(we({},e),{},(0,l.Z)({},n,!0))}),{}),stagedFiles:null===F||void 0===F||null===(n=F.staged_files)||void 0===n?void 0:n.reduce((function(e,n){return we(we({},e),{},(0,l.Z)({},n,!0))}),{}),untrackedFiles:null===F||void 0===F||null===(r=F.untracked_files)||void 0===r?void 0:r.reduce((function(e,n){return we(we({},e),{},(0,l.Z)({},n,!0))}),{})}}),[F]),Ce=_e.modifiedFiles,ke=void 0===Ce?{}:Ce,Se=_e.stagedFiles,Ie=void 0===Se?{}:Se,Oe=_e.untrackedFiles,Te=void 0===Oe?{}:Oe;(0,d.useEffect)((function(){h&&(0,ce.Qr)(ke)&&(0,ce.Qr)(Ie)&&(0,ce.Qr)(Te)&&v(null)}),[ke,h,Ie,Te]);var Ee=(0,d.useMemo)((function(){return(null===G||void 0===G?void 0:G.length)>=1?(0,V.jsx)(ne.Z,{allowEmptyFolders:!0,disableContextMenu:!0,fetchFileTree:E,files:G,isFileDisabled:function(){return!1},onClickFile:function(e){v((function(r){if(!r||r!==e){var t;if(!i)null===n||void 0===n||null===(t=n.current)||void 0===t||t.focus();return e}return null}))},ref:e,renderAfterContent:function(e){var n,r,t=e.children,o=(null===t||void 0===t?void 0:t.length)>=1,i=(0,je.a9)(e);o&&(i="".concat(i,"/"));var c={};return null!==ke&&void 0!==ke&&ke[i]?(n="M",r="Modified",c.warning=!0):null!==Te&&void 0!==Te&&Te[i]?(n="U",r="Untracked",c.danger=!0):null!==Ie&&void 0!==Ie&&Ie[i]&&(n="S",r="Staged",c.success=!0),o&&!n?null:(0,V.jsx)(p.Z,{mx:1,children:(0,V.jsx)(y.Z,{appearBefore:!0,label:r,widthFitContent:!0,children:(0,V.jsx)(j.ZP,we(we({},c),{},{monospace:!0,rightAligned:!0,small:!0,children:n}))})})},useRootFolder:!0}):(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(j.ZP,{monospace:!0,muted:!0,children:"No files modified"})})}),[i,E,e,G,ke,n,v,Ie,Te]),Ae=(0,d.useMemo)((function(){return!fe||!be||h&&(null===be||void 0===be?void 0:be.filename)!==h}),[fe,be,h]),Ne=(0,d.useMemo)((function(){if(!h)return null;var e=be||{},n=e.content,r=e.content_from_base;return(0,V.jsxs)(pe,{children:[!i&&(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(j.ZP,{muted:!0,children:"Please select a base branch to see the file diffs."})}),(null===be||void 0===be?void 0:be.error)&&(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(j.ZP,{danger:!0,monospace:!0,preWrap:!0,children:null===be||void 0===be?void 0:be.error})}),i&&!(null!==be&&void 0!==be&&be.error)&&(0,V.jsxs)(V.Fragment,{children:[Ae&&(0,V.jsx)(p.Z,{p:L.cd,children:(0,V.jsx)(x.Z,{inverted:!0})}),!Ae&&(0,V.jsx)(a(),{compareMethod:u.DiffMethod.WORDS,newValue:n||"",oldValue:r||"",renderContent:function(e){return(0,V.jsx)(j.ZP,{monospace:!0,children:e})},splitView:!0,styles:xe,useDarkTheme:!0})]})]})}),[i,be,Ae,h]),Re=(0,d.useMemo)((function(){return T&&null!==F&&void 0!==F&&F.name?H:H.slice(0,1)}),[F,T]),Me=(0,d.useMemo)((function(){return(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)("div",{style:{marginBottom:.5*L.iI,marginTop:.5*L.iI},children:(0,V.jsx)(Y.Z,{compact:!0,onClickTab:function(e){var n=e.uuid;(0,Ze.u)({tab:n})},selectedTabUUID:null===Z||void 0===Z?void 0:Z.uuid,tabs:Re})}),(0,V.jsx)(m.Z,{light:!0})]})}),[Z,Re]),De=(0,d.useMemo)((function(){return(0,V.jsx)(ge,{actionRemoteName:J,branch:F,fetchBranch:function(){E(),z()},loading:!W,remotes:Q,setActionRemoteName:te,showError:t})}),[J,F,W,E,z,Q,te,t]),Be=(0,d.useMemo)((function(){return(0,V.jsx)(U,{actionRemoteName:J,branch:F,branches:I,fetchBranch:E,fetchBranches:S,remotes:Q,setActionRemoteName:te,showError:t})}),[J,F,I,E,S,Q,te,t]),He=(0,d.useMemo)((function(){return(0,V.jsx)(ue,{branch:F,fetchBranch:E,modifiedFiles:ke,setSelectedFilePath:v,showError:t,stagedFiles:Ie,untrackedFiles:Te})}),[F,E,ke,v,t,Ie,Te]),Le=(0,d.useMemo)((function(){return(0,V.jsx)($,{actionRemoteName:J,branch:F,branches:I,fetchBranch:E,loading:!W,modifiedFiles:ke,remotes:Q,repositories:ae,repositoryName:ie,setActionRemoteName:te,setRepositoryName:se,showError:t,stagedFiles:Ie})}),[J,F,I,W,E,ke,Q,ae,ie,te,se,t,Ie]);return(0,V.jsx)(ee.Z,{after:Ne,afterHidden:!h,afterWidth:40*L.iI,before:(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(p.Z,{p:1,children:(0,V.jsx)(b.Z,{compact:!0,label:"Base branch",onChange:function(e){return c(e.target.value)},ref:n,small:!0,value:i||"",children:null===I||void 0===I?void 0:I.map((function(e){var n=e.name;return(0,V.jsx)("option",{value:n,children:n},n)}))})}),Ee]}),mainContainerHeader:Me,title:"Version control",uuid:"Version control/index",children:(0,V.jsxs)(p.Z,{p:L.cd,children:[!T&&(0,V.jsx)(x.Z,{inverted:!0}),T&&(0,V.jsxs)(V.Fragment,{children:[B.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&De,R.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&Be,M.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&He,D.uuid===(null===Z||void 0===Z?void 0:Z.uuid)&&Le]})]})})};function ke(){return(0,V.jsx)(Ce,{})}ke.getInitialProps=(0,t.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var Se=(0,c.Z)(ke)},75302:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/version-control",function(){return r(58024)}])}},function(e){e.O(0,[2678,1154,844,7011,6965,4267,9266,9626,8264,7858,5499,5283,553,9774,2888,179],(function(){return n=75302,e(e.s=n);var n}));var n=e.O();_N_E=n}]);