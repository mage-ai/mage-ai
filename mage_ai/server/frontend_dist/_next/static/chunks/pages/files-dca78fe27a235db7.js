(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7869],{17717:function(e){!function(){"use strict";var n={114:function(e){function n(e){if("string"!==typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function t(e,n){for(var t,r="",i=0,o=-1,u=0,l=0;l<=e.length;++l){if(l<e.length)t=e.charCodeAt(l);else{if(47===t)break;t=47}if(47===t){if(o===l-1||1===u);else if(o!==l-1&&2===u){if(r.length<2||2!==i||46!==r.charCodeAt(r.length-1)||46!==r.charCodeAt(r.length-2))if(r.length>2){var c=r.lastIndexOf("/");if(c!==r.length-1){-1===c?(r="",i=0):i=(r=r.slice(0,c)).length-1-r.lastIndexOf("/"),o=l,u=0;continue}}else if(2===r.length||1===r.length){r="",i=0,o=l,u=0;continue}n&&(r.length>0?r+="/..":r="..",i=2)}else r.length>0?r+="/"+e.slice(o+1,l):r=e.slice(o+1,l),i=l-o-1;o=l,u=0}else 46===t&&-1!==u?++u:u=-1}return r}var r={resolve:function(){for(var e,r="",i=!1,o=arguments.length-1;o>=-1&&!i;o--){var u;o>=0?u=arguments[o]:(void 0===e&&(e=""),u=e),n(u),0!==u.length&&(r=u+"/"+r,i=47===u.charCodeAt(0))}return r=t(r,!i),i?r.length>0?"/"+r:"/":r.length>0?r:"."},normalize:function(e){if(n(e),0===e.length)return".";var r=47===e.charCodeAt(0),i=47===e.charCodeAt(e.length-1);return 0!==(e=t(e,!r)).length||r||(e="."),e.length>0&&i&&(e+="/"),r?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var i=arguments[t];n(i),i.length>0&&(void 0===e?e=i:e+="/"+i)}return void 0===e?".":r.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=r.resolve(e))===(t=r.resolve(t)))return"";for(var i=1;i<e.length&&47===e.charCodeAt(i);++i);for(var o=e.length,u=o-i,l=1;l<t.length&&47===t.charCodeAt(l);++l);for(var c=t.length-l,a=u<c?u:c,s=-1,d=0;d<=a;++d){if(d===a){if(c>a){if(47===t.charCodeAt(l+d))return t.slice(l+d+1);if(0===d)return t.slice(l+d)}else u>a&&(47===e.charCodeAt(i+d)?s=d:0===d&&(s=0));break}var f=e.charCodeAt(i+d);if(f!==t.charCodeAt(l+d))break;47===f&&(s=d)}var h="";for(d=i+s+1;d<=o;++d)d!==o&&47!==e.charCodeAt(d)||(0===h.length?h+="..":h+="/..");return h.length>0?h+t.slice(l+s):(l+=s,47===t.charCodeAt(l)&&++l,t.slice(l))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,i=-1,o=!0,u=e.length-1;u>=1;--u)if(47===(t=e.charCodeAt(u))){if(!o){i=u;break}}else o=!1;return-1===i?r?"/":".":r&&1===i?"//":e.slice(0,i)},basename:function(e,t){if(void 0!==t&&"string"!==typeof t)throw new TypeError('"ext" argument must be a string');n(e);var r,i=0,o=-1,u=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var l=t.length-1,c=-1;for(r=e.length-1;r>=0;--r){var a=e.charCodeAt(r);if(47===a){if(!u){i=r+1;break}}else-1===c&&(u=!1,c=r+1),l>=0&&(a===t.charCodeAt(l)?-1===--l&&(o=r):(l=-1,o=c))}return i===o?o=c:-1===o&&(o=e.length),e.slice(i,o)}for(r=e.length-1;r>=0;--r)if(47===e.charCodeAt(r)){if(!u){i=r+1;break}}else-1===o&&(u=!1,o=r+1);return-1===o?"":e.slice(i,o)},extname:function(e){n(e);for(var t=-1,r=0,i=-1,o=!0,u=0,l=e.length-1;l>=0;--l){var c=e.charCodeAt(l);if(47!==c)-1===i&&(o=!1,i=l+1),46===c?-1===t?t=l:1!==u&&(u=1):-1!==t&&(u=-1);else if(!o){r=l+1;break}}return-1===t||-1===i||0===u||1===u&&t===i-1&&t===r+1?"":e.slice(t,i)},format:function(e){if(null===e||"object"!==typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,n){var t=n.dir||n.root,r=n.base||(n.name||"")+(n.ext||"");return t?t===n.root?t+r:t+e+r:r}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var r,i=e.charCodeAt(0),o=47===i;o?(t.root="/",r=1):r=0;for(var u=-1,l=0,c=-1,a=!0,s=e.length-1,d=0;s>=r;--s)if(47!==(i=e.charCodeAt(s)))-1===c&&(a=!1,c=s+1),46===i?-1===u?u=s:1!==d&&(d=1):-1!==u&&(d=-1);else if(!a){l=s+1;break}return-1===u||-1===c||0===d||1===d&&u===c-1&&u===l+1?-1!==c&&(t.base=t.name=0===l&&o?e.slice(1,c):e.slice(l,c)):(0===l&&o?(t.name=e.slice(1,u),t.base=e.slice(1,c)):(t.name=e.slice(l,u),t.base=e.slice(l,c)),t.ext=e.slice(u,c)),l>0?t.dir=e.slice(0,l-1):o&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r}},t={};function r(e){var i=t[e];if(void 0!==i)return i.exports;var o=t[e]={exports:{}},u=!0;try{n[e](o,o.exports,r),u=!1}finally{u&&delete t[e]}return o.exports}r.ab="//";var i=r(114);e.exports=i}()},44152:function(e,n,t){"use strict";t.d(n,{r:function(){return a}});var r=t(82684);const i=e=>{let n;const t=new Set,r=(e,r)=>{const i="function"===typeof e?e(n):e;if(i!==n){const e=n;n=r?i:Object.assign({},n,i),t.forEach((t=>t(n,e)))}},i=()=>n,o={setState:r,getState:i,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>t.clear()};return n=e(r,i,o),o};var o=t(81550);const{useSyncExternalStoreWithSelector:u}=o;const l=e=>{const n="function"===typeof e?(e=>e?i(e):i)(e):e,t=(e,t)=>function(e,n=e.getState,t){const i=u(e.subscribe,e.getState,e.getServerState||e.getState,n,t);return(0,r.useDebugValue)(i),i}(n,e,t);return Object.assign(t,n),t};var c=e=>e?l(e):l;const a=e=>{const n=c((()=>e)),t=(Object.keys(e),(e,t)=>{n.setState((n=>{return{[e]:(r=n[e],i=t,"function"==typeof i?i(r):i)};var r,i}))});return{useGlobalState:e=>{const i=(0,r.useCallback)((n=>n[e]),[e]);return[n(i),(0,r.useCallback)((n=>t(e,n)),[e])]},getGlobalState:e=>n.getState()[e],setGlobalState:t,subscribe:(e,t)=>{n.subscribe(((n,r)=>{n[e]!==r[e]&&t(n[e])}))}}}},1589:function(e,n,t){"use strict";var r=t(82684);var i="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},o=r.useState,u=r.useEffect,l=r.useLayoutEffect,c=r.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!i(e,t)}catch(r){return!0}}var s="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=o({inst:{value:t,getSnapshot:n}}),i=r[0].inst,s=r[1];return l((function(){i.value=t,i.getSnapshot=n,a(i)&&s({inst:i})}),[e,t,n]),u((function(){return a(i)&&s({inst:i}),e((function(){a(i)&&s({inst:i})}))}),[e]),c(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},73847:function(e,n,t){"use strict";var r=t(82684),i=t(48216);var o="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},u=i.useSyncExternalStore,l=r.useRef,c=r.useEffect,a=r.useMemo,s=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,i){var d=l(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=a((function(){function e(e){if(!c){if(c=!0,u=e,e=r(e),void 0!==i&&f.hasValue){var n=f.value;if(i(n,e))return l=n}return l=e}if(n=l,o(u,e))return n;var t=r(e);return void 0!==i&&i(n,t)?n:(u=e,l=t)}var u,l,c=!1,a=void 0===t?null:t;return[function(){return e(n())},null===a?void 0:function(){return e(a())}]}),[n,t,r,i]);var h=u(e,d[0],d[1]);return c((function(){f.hasValue=!0,f.value=h}),[h]),s(h),h}},48216:function(e,n,t){"use strict";e.exports=t(1589)},81550:function(e,n,t){"use strict";e.exports=t(73847)},65557:function(e,n,t){"use strict";var r=t(21831),i=t(75582),o=t(82684),u=t(80329);n.Z=function(e){var n=e.children,t=e.uuid,l=e.uuids,c=void 0===l?[]:l,a=(0,u.j)("apiReloads"),s=(0,i.Z)(a,1)[0],d=(0,r.Z)(c);t&&d.push(t);var f=d.map((function(e){return String(s[e])||"-"})).join("_");return o.cloneElement(n,{key:f})}},94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(82394),i=t(21831),o=t(82684),u=t(50724),l=t(82555),c=t(97618),a=t(70613),s=t(59696),d=t(68899),f=t(28598);function h(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var v=o.forwardRef(h),p=t(62547),g=t(82571),b=t(35686),m=t(98464),x=t(46684),y=t(70515),j=t(53808),O=t(19183);function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n,t=e.addProjectBreadcrumbToCustomBreadcrumbs,r=e.after,h=e.afterHidden,S=e.afterWidth,w=e.afterWidthOverride,P=e.before,Z=e.beforeWidth,k=e.breadcrumbs,E=e.children,A=e.errors,_=e.headerMenuItems,T=e.headerOffset,I=e.mainContainerHeader,R=e.navigationItems,D=e.setErrors,M=e.subheaderChildren,N=e.title,L=e.uuid,H=(0,O.i)().width,F="dashboard_after_width_".concat(L),V="dashboard_before_width_".concat(L),B=(0,o.useRef)(null),W=(0,o.useState)(w?S:(0,j.U2)(F,S)),U=W[0],Y=W[1],K=(0,o.useState)(!1),z=K[0],G=K[1],X=(0,o.useState)(P?Math.max((0,j.U2)(V,Z),13*y.iI):null),J=X[0],Q=X[1],q=(0,o.useState)(!1),$=q[0],ee=q[1],ne=(0,o.useState)(null)[1],te=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,re=null===te||void 0===te?void 0:te.projects,ie={label:function(){var e;return null===re||void 0===re||null===(e=re[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},oe=[];k?(t&&oe.push(ie),oe.push.apply(oe,(0,i.Z)(k))):(null===re||void 0===re?void 0:re.length)>=1&&oe.push.apply(oe,[ie,{bold:!0,label:function(){return N}}]),(0,o.useEffect)((function(){null===B||void 0===B||!B.current||z||$||null===ne||void 0===ne||ne(B.current.getBoundingClientRect().width)}),[z,U,$,J,B,ne,H]),(0,o.useEffect)((function(){z||(0,j.t8)(F,U)}),[h,z,U,F]),(0,o.useEffect)((function(){$||(0,j.t8)(V,J)}),[$,J,V]);var ue=(0,m.Z)(S);return(0,o.useEffect)((function(){w&&ue!==S&&Y(S)}),[w,S,ue]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:N}),(0,f.jsx)(s.Z,{breadcrumbs:oe,menuItems:_,project:null===re||void 0===re?void 0:re[0],version:null===re||void 0===re||null===(n=re[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===R||void 0===R?void 0:R.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(g.Z,{navigationItems:R,showMore:!0})}),(0,f.jsx)(c.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(p.Z,{after:r,afterHeightOffset:x.Mz,afterHidden:h,afterMousedownActive:z,afterWidth:U,before:P,beforeHeightOffset:x.Mz,beforeMousedownActive:$,beforeWidth:d.k1+(P?J:0),headerOffset:T,hideAfterCompletely:!0,leftOffset:P?d.k1:null,mainContainerHeader:I,mainContainerRef:B,setAfterMousedownActive:G,setAfterWidth:Y,setBeforeMousedownActive:ee,setBeforeWidth:Q,children:[M&&(0,f.jsx)(v,{children:M}),E]})})]}),A&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,f.jsx)(l.Z,C(C({},A),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},29618:function(e,n,t){"use strict";t.d(n,{Z:function(){return N}});var r=t(82394),i=t(75582),o=t(17717),u=t(82684),l=t(80329),c=t(83455),a=t(40761),s=t(44425),d=t(71180),f=t(38626),h=t(97618),v=t(55485),p=t(28598),g=f.default.div.withConfig({displayName:"ButtonGroup__ButtonGroupStyle",componentId:"sc-15vbmc8-0"})([""]),b=f.default.div.withConfig({displayName:"ButtonGroup__VerticalDivider",componentId:"sc-15vbmc8-1"})(["width:1px;"]),m=function(e){var n=e.children,t=e.divider,r=u.Children.toArray(n).length;return(0,p.jsx)(g,{children:(0,p.jsx)(v.ZP,{children:u.Children.map(n,(function(e,n){return e&&(0,p.jsxs)(h.Z,{children:[n>=1&&t&&(0,p.jsx)(b,{}),u.cloneElement(e,{borderRadiusLeft:r>=2&&0===n,borderRadiusRight:r>=2&&n===r-1,halfPaddingLeft:r>=2&&0!==n,halfPaddingRight:r>=2&&n!==r-1,noBorder:r>=2&&n>0&&n<r-1,noBorderRight:r>=2&&n!==r-1})]},"button-group-child-".concat(n))}))})})},x=t(75810),y=t(15135),j=t(93369),O=t(57653),S=t(38276),C=t(35686),w=t(39643),P=t(11498),Z=t(85385),k=t(68669),E=t(86735),A=t(53005),_=t(81728),T=t(72619),I=t(42041),R=t(44688);function D(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function M(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?D(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):D(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var N=function(e){var n=e.active,t=e.addNewBlock,f=e.disableRefreshWarning,h=e.fetchPipeline,g=e.fetchVariables,b=e.filePath,D=e.hideHeaderButtons,N=e.onContentChange,L=e.onUpdateFileSuccess,H=e.openSidekickView,F=e.pipeline,V=e.saveFile,B=e.selectedFilePath,W=e.sendTerminalMessage,U=e.setDisableShortcuts,Y=e.setErrors,K=e.setFilesTouched,z=e.setSelectedBlock,G=(0,l.j)("apiReloads"),X=(0,i.Z)(G,2)[1],J=(0,u.useState)(null),Q=J[0],q=J[1],$=(0,u.useState)(!1),ee=$[0],ne=($[1],(0,u.useRef)(null)),te=(0,u.useMemo)((function(){return new a.Z}),[]),re=(0,u.useMemo)((function(){return{api_key:P.l,token:te.decodedToken.token}}),[te]),ie=C.ZP.statuses.list().data,oe=(0,u.useMemo)((function(){var e,n;return null===ie||void 0===ie||null===(e=ie.statuses)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.repo_path}),[ie]),ue=C.ZP.file_contents.detail(b).data;(0,u.useEffect)((function(){null!==ue&&void 0!==ue&&ue.file_content?q(ue.file_content):null!==ue&&void 0!==ue&&ue.error&&(0,T.h$)(ue,{onErrorCallback:function(e,n){return Y({errors:n,response:e})}})}),[ue,Y]);var le=(0,u.useState)(null===Q||void 0===Q?void 0:Q.content),ce=le[0],ae=le[1],se=(0,u.useCallback)((function(e){ae(e),N&&(null===N||void 0===N||N(e))}),[N]),de=(0,u.useState)(!1),fe=de[0],he=de[1];(0,u.useEffect)((function(){n&&U&&(null===U||void 0===U||U(!0))}),[n,U]),(0,u.useEffect)((function(){var e;B&&(null===ne||void 0===ne||null===(e=ne.current)||void 0===e||e.scrollIntoView())}),[B]);var ve=(0,c.Db)(C.ZP.file_contents.useUpdate((null===Q||void 0===Q?void 0:Q.path)&&encodeURIComponent(null===Q||void 0===Q?void 0:Q.path)),{onSuccess:function(e){return(0,T.wD)(e,{callback:function(e){var n=e.file_content;X((function(e){return M(M({},e),{},(0,r.Z)({},"FileVersions/".concat(null===Q||void 0===Q?void 0:Q.path),Number(new Date)))})),L&&(null===L||void 0===L||L(n))},onErrorCallback:function(e,n){return null===Y||void 0===Y?void 0:Y({errors:n,response:e})}})}}),pe=(0,i.Z)(ve,1)[0],ge=(0,u.useCallback)((function(e,n){if(V)return V(e,n);pe({file_content:M(M({},n),{},{content:e})}).then((function(){decodeURIComponent(b).split(o.sep).pop()===y.dT.METADATA_YAML&&g&&(null===g||void 0===g||g())})),K((function(e){return M(M({},e),{},(0,r.Z)({},null===n||void 0===n?void 0:n.path,!1))})),he(!1)}),[g,b,V,K,pe]),be=(0,u.useMemo)((function(){return(0,k.lU)()}),[]),me=(0,u.useMemo)((function(){var e,n,t,r;return null===(null===Q||void 0===Q||null===(e=Q.path)||void 0===e?void 0:e.match(be))?y.Lu.TXT:null===Q||void 0===Q||null===(n=Q.path)||void 0===n||null===(t=n.match(be))||void 0===t||null===(r=t[0])||void 0===r?void 0:r.split(".")[1]}),[be,Q]),xe=(0,u.useMemo)((function(){if(null!==Q&&void 0!==Q&&Q.path)return(0,p.jsx)(x.Z,{autoHeight:!0,language:y.nB[me],onChange:function(e){se(e),K((function(e){return M(M({},e),{},(0,r.Z)({},null===Q||void 0===Q?void 0:Q.path,!0))})),he(!0)},onSave:function(e){ge(e,Q)},selected:!0,textareaFocused:!0,value:(0,_.Pb)(null===Q||void 0===Q?void 0:Q.content)?JSON.stringify(JSON.parse(null===Q||void 0===Q?void 0:Q.content),null,2):null===Q||void 0===Q?void 0:Q.content,width:"100%"})}),[Q,me,ge,se,K]),ye=null!==F&&void 0!==F&&F.blocks?(0,E.sE)(null===F||void 0===F?void 0:F.blocks,(function(e){var n=e.type;return s.tf.DATA_EXPORTER===n})):null,je=(0,c.Db)(C.ZP.blocks.pipelines.useUpdate(null===F||void 0===F?void 0:F.uuid,null===ye||void 0===ye?void 0:ye.uuid),{onSuccess:function(e){return(0,T.wD)(e,{callback:function(){null===h||void 0===h||h()}})}}),Oe=(0,i.Z)(je,1)[0],Se=t&&F&&(me===y.Lu.PY||me===y.Lu.SQL||(me===y.Lu.YAML||me===y.Lu.R)&&(0,A.V3)(Q,null===Q||void 0===Q?void 0:Q.path))&&(0,k.ck)(Q.path.split(o.sep))!==s.tf.SCRATCHPAD&&(0,A.lr)(Q)&&(0,p.jsx)(d.Z,{onClick:function(){var e=(null===F||void 0===F?void 0:F.type)===O.qL.INTEGRATION,n=(0,k.TU)(Q,oe,F);t(n,(function(n){e&&ye&&Oe({block:M(M({},ye),{},{upstream_blocks:[n.uuid]})}),null===z||void 0===z||z(n)}))},primary:!0,children:"Add to current pipeline"}),Ce=W&&(0,p.jsx)(S.Z,{m:2,children:(0,p.jsx)(j.ZP,{disabled:!oe,inline:!0,loading:ee,onClick:function(){null===H||void 0===H||H(Z.cH.TERMINAL),null===W||void 0===W||W(JSON.stringify(M(M({},re),{},{command:["stdin","pip install -r ".concat(oe,"/requirements.txt\r")]})))},title:oe?"Pip install packages from your saved requirements.txt file (\u2318+S to save).":"Please use right panel terminal to install packages.",uuid:"FileEditor/InstallPackages",children:"Install packages"})}),we="FileEditor/".concat(null===Q||void 0===Q?void 0:Q.path),Pe=(0,R.y)(),Ze=Pe.registerOnKeyDown,ke=Pe.unregisterOnKeyDown;return(0,u.useEffect)((function(){return function(){ke(we)}}),[ke,we]),Ze(we,(function(e,t){if(n&&!f)if((0,I.y)([w.zX,w.Um],t)||(0,I.y)([w.PQ,w.Um],t))e.preventDefault(),ge(ce,Q);else if(fe&&(0,I.y)([w.zX,w.hS],t)){e.preventDefault();var r="".concat(Q.path," has changes that are unsaved. ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(r)&&location.reload()}}),[n,ce,f,Q,ge,fe]),(0,p.jsxs)("div",{ref:ne,children:[!D&&(0,p.jsx)(S.Z,{p:2,children:(0,p.jsxs)(v.ZP,{justifyContent:"space-between",children:[(0,p.jsxs)(m,{children:[Se,(0,p.jsx)(d.Z,{disabled:!ce,onClick:function(e){e.preventDefault(),ge(ce,Q)},title:ce?null:"No changes have been made to this file.",children:"Save file content"})]}),H&&(0,p.jsx)(m,{children:(0,p.jsx)(d.Z,{compact:!0,onClick:function(){H(Z.cH.FILE_VERSIONS)},small:!0,title:"View previous changes to this file.",children:"Show versions"})})]})}),xe,b===y.dT.REQS_TXT&&Ce]})}},28385:function(e,n,t){"use strict";var r=t(82394),i=t(75582),o=t(17717),u=t(80329),l=t(82684),c=t(83455),a=t(71180),s=t(75810),d=t(15135),f=t(97618),h=t(55485),v=t(85854),p=t(38276),g=t(4190),b=t(75499),m=t(30160),x=t(35686),y=t(70515),j=t(68669),O=t(3917),S=t(81728),C=t(72619),w=t(3314),P=t(86735),Z=t(28598);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.onActionCallback,t=e.selectedBlock,k=e.selectedFilePath,A=e.setErrors,_=e.width,T=(0,u.j)("apiReloads"),I=(0,i.Z)(T,2)[1],R=x.ZP.file_versions.files.list(k&&encodeURIComponent(k)),D=R.data,M=R.mutate,N=(0,l.useMemo)((function(){return(null===D||void 0===D?void 0:D.file_versions)||[]}),[D]),L=(0,l.useState)(null),H=L[0],F=L[1],V=(0,l.useMemo)((function(){return null===N||void 0===N?void 0:N[H]}),[H,N]),B=x.ZP.file_contents.detail(V?encodeURIComponent(V.path):null).data,W=(0,l.useMemo)((function(){return null===B||void 0===B?void 0:B.file_content}),[B]),U=(0,l.useMemo)((function(){return(0,j.lU)()}),[]),Y=(0,l.useMemo)((function(){var e,n,t;return null===k||void 0===k||null===(e=k.match(U))||void 0===e||null===(n=e[0])||void 0===n||null===(t=n.split("."))||void 0===t?void 0:t[1]}),[k,U]),K=(0,c.Db)(x.ZP.file_contents.useUpdate(k&&encodeURIComponent(k)),{onSuccess:function(e){return(0,C.wD)(e,{callback:function(e){var t;k&&M();var i=null===e||void 0===e||null===(t=e.file_content)||void 0===t?void 0:t.path,u="FileEditor/".concat(i);if(i){var l=i.split(o.sep);if("pipelines"===l[0]){var c=l.slice(1,l.length-1).join(o.sep);u="PipelineDetail/".concat(c)}}I((function(e){return E(E({},e),{},(0,r.Z)({},u,Number(new Date)))})),F((function(e){return e+1})),null===n||void 0===n||n(null===e||void 0===e?void 0:e.file_content)},onErrorCallback:function(e,n){return A({errors:n,response:e})}})}}),z=(0,i.Z)(K,2),G=z[0],X=z[1].isLoading,J=(0,l.useMemo)((function(){var e=N.map((function(e){var n=e.name,t=e.path;return[(0,Z.jsxs)(h.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,Z.jsxs)(f.Z,{flex:1,children:[(0,Z.jsx)(m.ZP,{default:!0,monospace:!0,children:(0,O.JX)(n,{withSeconds:!0})}),(0,Z.jsx)(p.Z,{px:2*y.cd,children:(0,Z.jsx)(m.ZP,{monospace:!0,children:n})})]}),V&&(null===V||void 0===V?void 0:V.path)===t&&(0,Z.jsx)(a.Z,{compact:!0,loading:X,onClick:function(e){(0,w.j)(e),G({file_content:{version:n}})},small:!0,children:"Replace with this version"})]},n)]}));if(V){var n=(0,Z.jsx)(p.Z,{p:y.cd,children:(0,Z.jsx)(g.Z,{},"spinner")});if(W&&(null===W||void 0===W?void 0:W.path)===(null===V||void 0===V?void 0:V.path)){var t=W.content,r=void 0===t?"":t;n=(0,Z.jsx)(s.Z,{autoHeight:!0,language:d.nB[Y],padding:!0,readOnly:!0,value:(0,S.Pb)(r)?JSON.stringify(JSON.parse(r),null,2):r,width:_})}e=(0,P.Hk)([n],H+1,e)}return e}),[W,Y,N,X,V,H,G,_]);return(0,Z.jsxs)("div",{style:{width:_},children:[(0,Z.jsxs)(p.Z,{p:y.cd,children:[(0,Z.jsx)(v.Z,{level:5,children:"File versions"}),(0,Z.jsx)(m.ZP,{inline:!0,monospace:!0,children:k?decodeURIComponent(k):null===t||void 0===t?void 0:t.uuid})]}),(0,Z.jsx)(b.Z,{buildRowProps:function(e){if(V&&H+1===e)return{renderCell:function(e){return e},renderRow:function(e){return e}}},columnFlex:[1],columns:[{uuid:"Version"}],isSelectedRow:function(e){var n;return(null===(n=N[e])||void 0===n?void 0:n.name)===(null===V||void 0===V?void 0:V.name)},onClickRow:function(e){V?e===H?F(null):e<H?F(e):e>H+1&&F(e-1):F(e)},rows:J})]})}},90758:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(82394),i=t(26304),o=t(82684),u=t(38626),l=t(39867),c=t(55485),a=t(48670),s=t(38276),d=t(30160),f=t(12468),h=t(44897),v=t(72473),p=t(97133),g=t(70515),b=t(15610),m=t(3314),x=t(28598);var y=function(e){var n=e.filePath,t=e.filesTouched,r=void 0===t?{}:t,i=e.isLast,u=e.onClickTab,y=e.onClickTabClose,j=e.renderTabTitle,O=e.savePipelineContent,S=e.selected,C=e.themeContext,w=(0,o.useState)(!1),P=w[0],Z=w[1];return(0,x.jsx)(c.ZP,{flexDirection:"column",fullHeight:!0,onClick:function(e){e.preventDefault(),S||(u?u(n):(null===O||void 0===O||O(),(0,b.u7)({file_path:encodeURIComponent(n)})))},onMouseEnter:function(){return Z(!0)},onMouseLeave:function(){return Z(!1)},children:(0,x.jsx)(p.Gb,{last:i,selected:S,children:(0,x.jsxs)(c.ZP,{alignItems:"center",fullHeight:!0,children:[(0,x.jsx)(f.Z,{appearAbove:!0,appearBefore:!0,label:n,size:null,widthFitContent:!0,children:(0,x.jsxs)(c.ZP,{alignItems:"center",fullHeight:!0,children:[!r[n]&&(0,x.jsx)(v.iU,{muted:!S,size:1.5*g.iI}),r[n]&&(0,x.jsx)(f.Z,{label:"Unsaved changes",size:null,widthFitContent:!0,children:(0,x.jsx)("div",{style:{padding:1},children:(0,x.jsx)(l.Z,{borderColor:(C||h.Z).borders.danger,size:1.25*g.iI})})}),(0,x.jsx)(s.Z,{mr:1}),(0,x.jsx)(d.ZP,{muted:!S,children:j?j(n):n})]})}),(0,x.jsx)(s.Z,{mr:2}),(0,x.jsx)(f.Z,{label:"Close",size:null,widthFitContent:!0,children:(0,x.jsxs)(a.Z,{autoHeight:!0,block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(e){(0,m.j)(e),null===y||void 0===y||y(n)},preventDefault:!0,children:[(P||S)&&(0,x.jsx)(v.x8,{muted:!S,size:1.25*g.iI}),!P&&!S&&(0,x.jsx)("div",{style:{width:1.25*g.iI}})]})})]})})})},j=t(86735),O=["filePaths","isSelectedFilePath","onClickTabClose","selectedFilePath"];function S(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?S(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):S(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var w=function(e){var n=e.filePaths,t=e.isSelectedFilePath,r=e.onClickTabClose,l=e.selectedFilePath,a=(0,i.Z)(e,O),s=(0,o.useContext)(u.ThemeContext),d=(0,o.useMemo)((function(){return n.map((function(e){return decodeURIComponent(e)}))}),[n]),f=(0,o.useMemo)((function(){return null===d||void 0===d?void 0:d.length}),[d]);return(0,x.jsx)(c.ZP,{alignItems:"center",justifyContent:"flex-start",children:null===d||void 0===d?void 0:d.map((function(e,n){var i=t?t(e,l):l===encodeURIComponent(e);return(0,o.createElement)(y,C(C({},a),{},{filePath:e,isLast:n===f-1,key:e,onClickTabClose:function(e){if(r)r(e);else{var n=(0,j.Od)(d,(function(n){return n===e})).map((function(e){return encodeURIComponent(e)}));(0,b.u7)({file_path:n[n.length-1]||null,"file_paths[]":n},{pushHistory:!0})}},selected:i,themeContext:s}))}))})}},97133:function(e,n,t){"use strict";t.d(n,{Gb:function(){return f},fm:function(){return s},lO:function(){return a},rK:function(){return d},zn:function(){return c}});var r=t(38626),i=t(44897),o=t(2842),u=t(70515),l=t(47041),c=300,a=r.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],c,c),s=r.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).codeArea,";\n  ")})),d=r.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;position:sticky;top:","px;width:100%;z-index:5;"," "," "," ",""],o.Wi,o.Wi,(function(e){return"\n    background-color: ".concat((e.theme.background||i.Z.background).panel,";\n    border-bottom: 1px solid ").concat((e.theme.borders||i.Z.borders).medium,";\n  ")}),(function(e){return e.relativePosition&&"\n    position: relative;\n  "}),(function(e){return e.secondary&&"\n    height: ".concat(37,"px;\n    top: ").concat(o.Wi,"px;\n    overflow-x: auto;\n    z-index: 3;\n  ")}),(0,l.y$)()),f=r.default.div.withConfig({displayName:"indexstyle__FileTabStyle",componentId:"sc-1sv9513-3"})(["border-right:1px solid transparent;height:100%;padding:","px ","px;"," "," ",""],u.iI,u.cd*u.iI,(function(e){return"\n    &:hover {\n      cursor: default;\n\n      p {\n        color: ".concat((e.theme.content||i.Z.content).active," !important;\n        cursor: default;\n      }\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.interactive||i.Z.interactive).hoverBackground,";\n  ")}),(function(e){return!e.selected&&!e.last&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).light," !important;\n  ")}))},85385:function(e,n,t){"use strict";t.d(n,{Qq:function(){return f},Z7:function(){return h},cH:function(){return i},du:function(){return s},fp:function(){return a},j5:function(){return d},uM:function(){return c}});var r,i,o=t(82394),u=t(72473),l=t(86735),c="sideview",a=90;!function(e){e.ADDON_BLOCKS="addon_blocks",e.BLOCK_SETTINGS="block_settings",e.CALLBACKS="callbacks",e.CHARTS="charts",e.DATA="data",e.EXTENSIONS="power_ups",e.FILE_VERSIONS="file_versions",e.GRAPHS="graphs",e.REPORTS="reports",e.SECRETS="secrets",e.SETTINGS="settings",e.TERMINAL="terminal",e.TREE="tree",e.VARIABLES="variables"}(i||(i={}));i.BLOCK_SETTINGS,i.CALLBACKS,i.CHARTS,i.DATA,i.EXTENSIONS,i.TREE;var s=[i.DATA],d=[{key:i.TREE,label:"Tree"},{buildLabel:function(e){var n=(e.pipeline||{}).widgets,t=void 0===n?[]:n;return(null===t||void 0===t?void 0:t.length)>=1?"Charts (".concat(t.length,")"):"Charts"},key:i.CHARTS},{buildLabel:function(e){var n=e.variables;return(null===n||void 0===n?void 0:n.length)>=1?"Variables (".concat(n.length,")"):"Variables"},key:i.VARIABLES},{buildLabel:function(e){var n=e.secrets;return(null===n||void 0===n?void 0:n.length)>=1?"Secrets (".concat(n.length,")"):"Secrets"},key:i.SECRETS},{buildLabel:function(e){e.pipeline;return"Add-on blocks"},key:i.ADDON_BLOCKS},{buildLabel:function(e){var n=(e.pipeline||{}).extensions,t=void 0===n?{}:n,r=0;return Object.values(t).forEach((function(e){var n=e.blocks;r+=(null===n||void 0===n?void 0:n.length)||0})),r>=1?"Power ups (".concat(r,")"):"Power ups"},key:i.EXTENSIONS},{key:i.DATA,label:"Data"},{key:i.TERMINAL,label:"Terminal"},{key:i.BLOCK_SETTINGS,label:"Block settings"}],f=(0,l.HK)(d,(function(e){return e.key})),h=(r={},(0,o.Z)(r,i.ADDON_BLOCKS,u.EJ),(0,o.Z)(r,i.BLOCK_SETTINGS,u.JG),(0,o.Z)(r,i.CALLBACKS,u.AQ),(0,o.Z)(r,i.CHARTS,u.GQ),(0,o.Z)(r,i.DATA,u.iA),(0,o.Z)(r,i.EXTENSIONS,u.Bf),(0,o.Z)(r,i.SECRETS,u.Yo),(0,o.Z)(r,i.SETTINGS,u.Zr),(0,o.Z)(r,i.TERMINAL,u.oI),(0,o.Z)(r,i.TREE,u.mp),(0,o.Z)(r,i.VARIABLES,u.LO),r)},15135:function(e,n,t){"use strict";t.d(n,{JD:function(){return p},Lu:function(){return o},PF:function(){return f},dT:function(){return u},n6:function(){return a},nB:function(){return v},oy:function(){return h},xF:function(){return d}});var r,i,o,u,l=t(82394),c=t(44425);!function(e){e.CSV="csv",e.JSON="json",e.MD="md",e.PY="py",e.R="r",e.SQL="sql",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(o||(o={})),function(e){e.INIT_PY="__init__.py",e.METADATA_YAML="metadata.yaml",e.REQS_TXT="requirements.txt"}(u||(u={}));var a=[o.PY,o.SQL],s=[o.JSON,o.MD,o.PY,o.R,o.SQL,o.TXT,o.YAML,o.YML],d=new RegExp(s.map((function(e){return".".concat(e,"$")})).join("|")),f=(new RegExp(s.map((function(e){return".".concat(e,"$")})).join("|")),"charts"),h="pipelines",v=(r={},(0,l.Z)(r,o.MD,c.t6.MARKDOWN),(0,l.Z)(r,o.JSON,o.JSON),(0,l.Z)(r,o.PY,c.t6.PYTHON),(0,l.Z)(r,o.R,c.t6.R),(0,l.Z)(r,o.SQL,c.t6.SQL),(0,l.Z)(r,o.TXT,"text"),(0,l.Z)(r,o.YAML,c.t6.YAML),(0,l.Z)(r,o.YML,c.t6.YAML),r),p=(i={},(0,l.Z)(i,c.t6.MARKDOWN,o.MD),(0,l.Z)(i,c.t6.PYTHON,o.PY),(0,l.Z)(i,c.t6.R,o.R),(0,l.Z)(i,c.t6.SQL,o.SQL),(0,l.Z)(i,c.t6.YAML,o.YAML),(0,l.Z)(i,"text",o.TXT),i)},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),o=t(38276),u=t(30160),l=t(44897),c=t(42631),a=t(47041),s=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),h=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],c.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||l.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||l.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||l.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||l.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||l.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),v=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],c.n_,c.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||l.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||l.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),p=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,a.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),g=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],c.M8,c.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,l=e.contentContainerRef,c=e.dark,a=e.footer,s=e.fullHeight,f=void 0===s||s,b=e.fullWidth,m=void 0===b||b,x=e.header,y=e.headerHeight,j=e.headerIcon,O=e.headerPaddingVertical,S=e.headerTitle,C=e.maxHeight,w=e.maxWidth,P=e.minWidth,Z=e.noPadding,k=e.overflowVisible,E=e.subtitle,A=e.success;return(0,d.jsxs)(h,{borderless:n,dark:c,fullHeight:f,fullWidth:m,maxHeight:C,maxWidth:w,minWidth:P,overflowVisible:k,ref:r,success:A,children:[(x||S)&&(0,d.jsxs)(v,{headerPaddingVertical:O,height:y,children:[x&&x,S&&(0,d.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.ZP,{alignItems:"center",children:[j&&j,(0,d.jsx)(o.Z,{ml:j?1:0,children:(0,d.jsx)(u.ZP,{bold:!0,default:!0,children:S})})]})})]}),(0,d.jsxs)(p,{maxHeight:C,noPadding:Z,overflowVisible:k,ref:l,children:[E&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(u.ZP,{default:!0,children:E})}),t]}),a&&(0,d.jsx)(g,{children:a})]})}},35185:function(e,n,t){"use strict";var r=t(82394),i=t(91835),o=(t(82684),t(38626)),u=t(44897),l=t(42631),c=t(70515),a=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarContainerStyle",componentId:"sc-10x9ojc-0"})(["border-radius:","px;height:","px;overflow:hidden;position:relative;width:100%;",""],l.BG,.75*c.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||u.Z.monotone).grey200,";\n  ")})),h=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarStyle",componentId:"sc-10x9ojc-1"})(["height:inherit;position:absolute;"," "," "," ",""],(function(e){return!e.danger&&"\n    background-color: ".concat((e.theme.progress||u.Z.progress).positive,";\n  ")}),(function(e){return e.progress&&"\n    width: ".concat(e.progress,"%;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.progress||u.Z.progress).negative,";\n  ")}),(function(e){return e.animateProgress&&"\n    animation: animate-progress ".concat(e.animateProgress.duration,"ms linear forwards;\n\n    @keyframes animate-progress {\n      0% {\n        width: ").concat(e.animateProgress.start,"%;\n      }\n\n      100% {\n        width: ").concat(e.animateProgress.end,"%;\n      }\n    }\n  ")}));n.Z=function(e){var n=(0,i.Z)({},e);return(0,a.jsx)(f,d(d({},n),{},{children:(0,a.jsx)(h,d({},n))}))}},43173:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Q}});var r=t(77837),i=t(38860),o=t.n(i),u=t(82394),l=t(75582),c=t(17717),a=t(82684),s=t(80329),d=t(83455),f=t(65557),h=t(94629),v=t(30604),p=t(29618),g=t(50724),b=t(55485),m=t(70374),x=t(30160),y=t(39643),j=t(87848),O=t(58325),S=t(44688),C=t(28598);var w=function(e){var n=e.children,t=e.fileVersionsVisible,r=e.onSave,i=e.setFilesVersionsVisible,o=(0,a.useState)(null),u=o[0],l=o[1],c=(0,a.useRef)(null),s=(0,a.useRef)(null),d=(0,a.useMemo)((function(){return[{disabled:!r,keyTextGroups:[[(0,O.V5)()?y.RJ:y.hE,y.SS]],label:function(){return"Save"},onClick:function(){return r?r():null},uuid:"save"}]}),[r]),f=(0,a.useMemo)((function(){return[{label:function(){return t?"Hide versions":"Show versions"},onClick:function(){return i(!t)},uuid:"versions"}]}),[t,i]),h="FileHeaderMenu/index",v=(0,S.y)(),p=v.registerOnKeyDown,w=v.unregisterOnKeyDown;return(0,a.useEffect)((function(){return function(){w(h)}}),[w,h]),p(h,(function(e,n){null!==u&&(n[y.QK]?l((function(e){return 0===e?2:e-1})):n[y.DY]&&l((function(e){return 2===e?0:e+1})))}),[u,l]),(0,C.jsx)(g.Z,{onClickOutside:function(){return l(null)},open:!0,style:{position:"relative"},children:(0,C.jsxs)(b.ZP,{children:[(0,C.jsxs)("div",{style:{position:"relative"},children:[(0,C.jsx)(j.u,{highlighted:0===u,onClick:function(){return l((function(e){return 0===e?null:0}))},onMouseEnter:function(){return l((function(e){return null!==e?0:null}))},ref:c,children:(0,C.jsx)(x.ZP,{children:"File"})}),(0,C.jsx)(m.Z,{items:d,onClickCallback:function(){return l(null)},open:0===u,parentRef:c,uuid:"FileHeaderMenu/file"})]}),(0,C.jsxs)("div",{style:{position:"relative"},children:[(0,C.jsx)(j.u,{highlighted:1===u,onClick:function(){return l((function(e){return 1===e?null:1}))},onMouseEnter:function(){return l((function(e){return null!==e?1:null}))},ref:s,children:(0,C.jsx)(x.ZP,{children:"Edit"})}),(0,C.jsx)(m.Z,{items:f,onClickCallback:function(){return l(null)},open:1===u,parentRef:s,uuid:"FileHeaderMenu/edit"})]}),n]})})},P=t(90758),Z=t(28385),k=t(35686),E=t(38626),A=t(44897),_=t(2842),T=t(46684),I=t(47041),R=72-_.uX+T.Mz,D=E.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-11pty4f-0"})(["height:","px;top:","px;z-index:3;",""],72,T.Mz,(function(e){return"\n    background-color: ".concat((e.theme.background||A.Z.background).codeArea,";\n  ")})),M=E.default.div.withConfig({displayName:"indexstyle__MenuStyle",componentId:"sc-11pty4f-1"})(["height:","px;position:relative;z-index:1;",""],36,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||A.Z.borders).medium,";\n  ")})),N=E.default.div.withConfig({displayName:"indexstyle__TabsStyle",componentId:"sc-11pty4f-2"})([""," height:","px;overflow-x:auto;position:sticky;width:100%;z-index:0;"],(0,I.y$)(),36),L=t(53808),H=t(86735),F="open_files";function V(e){(0,L.t8)(F,e)}var B=t(72619),W=t(42041),U=t(23780);function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function K(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function z(e){var n=e.split(c.sep);return n[n.length-1]}var G=function(){var e=(0,s.j)("apiReloads"),n=(0,l.Z)(e,2)[1],t=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useCallback)((function(e){r.current||(r.current={}),r.current=K(K({},r.current),e)}),[r]),o=(0,a.useState)([]),c=o[0],g=o[1],b=(0,a.useState)(null),m=b[0],x=b[1],j=(0,a.useState)({}),O=j[0],E=j[1],A=(0,a.useState)(!1),_=A[0],T=A[1],I=(0,a.useMemo)((function(){return c.reduce((function(e,n){var t=z(n);return e[t]||(e[t]=[]),e[t].push(n),e}),{})}),[c]),Y=(0,a.useCallback)((function(e){V(e),g(e)}),[]),G=(0,a.useCallback)((function(e){Y(function(e){var n=(0,L.U2)(F,[]);return n.includes(e)||n.push(e),V(n),n}(e))}),[Y]),X=(0,a.useCallback)((function(e){i((0,u.Z)({},e,null)),E((function(n){return K(K({},n),{},(0,u.Z)({},e,!1))}));var n=function(e){var n=(0,L.U2)(F,[]),t=(0,H.Od)(n,(function(n){return n===e}));return V(t),t}(e);Y(n),m===e&&(null===n||void 0===n?void 0:n.length)>=1&&x(n[n.length-1]),0===(null===n||void 0===n?void 0:n.length)&&x(null)}),[m,i,Y]),J=(0,a.useCallback)((function(e,n){n||(G(e),x(e))}),[G]);(0,a.useEffect)((function(){var e=(0,L.U2)(F,[]);Y(e),x((function(n){return!n&&(null===e||void 0===e?void 0:e.length)>=1?e[0]:n}))}),[Y]);var Q=k.ZP.files.list(),q=Q.data,$=Q.mutate,ee=(0,a.useMemo)((function(){return(null===q||void 0===q?void 0:q.files)||[]}),[q]),ne=(0,U.VI)(null,{},[],{uuid:"FilesPage"}),te=(0,l.Z)(ne,1)[0],re="Files/index",ie=(0,S.y)(),oe=(ie.disableGlobalKeyboardShortcuts,ie.registerOnKeyDown),ue=ie.unregisterOnKeyDown;(0,a.useEffect)((function(){return function(){ue(re)}}),[ue,re]),oe(re,(function(e,n){var t=Object.entries(O).reduce((function(e,n){var t=(0,l.Z)(n,2),r=t[0];return t[1]?e.concat(r):e}),[]);if((0,W.y)([y.zX,y.hS],n)&&(null===t||void 0===t?void 0:t.length)>=1){e.preventDefault();var r="You have changes that are unsaved: ".concat(t.join(", "),". ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(r)&&location.reload()}}),[O]);var le=(0,a.useMemo)((function(){return(0,C.jsx)(P.Z,{filePaths:c,filesTouched:O,isSelectedFilePath:function(e,n){return e===n},onClickTab:function(e){return x(e)},onClickTabClose:function(e){return X(e)},renderTabTitle:function(e){var n=z(e),t=I[n];return t&&(null===t||void 0===t?void 0:t.length)>=2?e:n},selectedFilePath:m})}),[O,c,I,X,m]),ce=(0,a.useMemo)((function(){return(0,C.jsx)(v.Z,{fetchFileTree:$,files:ee,onClickFile:function(e){return J(e)},onClickFolder:function(e){return J(e,!0)},onCreateFile:function(e){var n=e.path;return J(n)},ref:t,setErrors:te})}),[$,t,ee,J,te]),ae=(0,d.Db)((function(e){return k.ZP.file_contents.useUpdate((null===e||void 0===e?void 0:e.path)&&encodeURIComponent(null===e||void 0===e?void 0:e.path))({file_content:e})}),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(e){var t=e.file_content;n((function(e){return K(K({},e),{},(0,u.Z)({},"FileVersions/".concat(null===t||void 0===t?void 0:t.path),Number(new Date)))})),i((0,u.Z)({},null===t||void 0===t?void 0:t.path,null))},onErrorCallback:function(e,n){return te({errors:n,response:e})}})}}),se=(0,l.Z)(ae,1)[0],de=(0,a.useCallback)((function(e,n){se(K(K({},n),{},{content:e})),E((function(e){return K(K({},e),{},(0,u.Z)({},null===n||void 0===n?void 0:n.path,!1))}))}),[E,se]),fe=(0,a.useMemo)((function(){return null===c||void 0===c?void 0:c.map((function(e){return(0,C.jsx)("div",{style:{display:m===e?null:"none"},children:(0,C.jsx)(f.Z,{uuid:"FileEditor/".concat(decodeURIComponent(e)),children:(0,C.jsx)(p.Z,{active:m===e,disableRefreshWarning:!0,filePath:e?encodeURIComponent(e):null,hideHeaderButtons:!0,onContentChange:function(n){return i((0,u.Z)({},e,n))},saveFile:de,selectedFilePath:m,setErrors:te,setFilesTouched:E})})},e)}))}),[c,de,m,i,te]),he=(0,a.useMemo)((function(){return(0,C.jsx)(w,{fileVersionsVisible:_,onSave:function(){var e,n;(null===r||void 0===r||null===(e=r.current)||void 0===e||null===(n=e[m])||void 0===n?void 0:n.length)>=1&&de(r.current[m],{path:m})},setFilesVersionsVisible:T})}),[r,_,de,m,T]);return(0,C.jsx)(h.Z,{after:(0,C.jsx)(f.Z,{uuid:"FileVersions/".concat(m?decodeURIComponent(m):""),children:(0,C.jsx)(Z.Z,{selectedFilePath:m,setErrors:te})}),afterHidden:!(_&&m),before:ce,headerOffset:R,mainContainerHeader:(null===c||void 0===c?void 0:c.length)>=1&&(0,C.jsxs)(D,{children:[(0,C.jsx)(M,{children:he}),(0,C.jsx)(N,{children:le})]}),title:"Files",uuid:"Files/index",children:fe})},X=t(93808);function J(){return(0,C.jsx)(G,{})}J.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var Q=(0,X.Z)(J)},80329:function(e,n,t){"use strict";t.d(n,{j:function(){return r}});var r=(0,t(44152).r)({apiReloads:{}}).useGlobalState},58325:function(e,n,t){"use strict";var r;t.d(n,{V5:function(){return o}}),function(e){e.ANDROID="Android",e.CHROME_OS="ChromeOS",e.IOS="iOS",e.LINUX="Linux",e.MAC="macOS",e.WINDOWS="Windows"}(r||(r={}));var i=r;function o(){return function(){var e,n,t,r,o,u,l,c=i.MAC,a=null===(e=window)||void 0===e||null===(n=e.navigator)||void 0===n?void 0:n.userAgent,s=(null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r||null===(o=r.userAgentData)||void 0===o?void 0:o.platform)||(null===(u=window)||void 0===u||null===(l=u.navigator)||void 0===l?void 0:l.platform);return s?["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].includes(s)?c=i.MAC:["Win32","Win64","Windows","WinCE"].includes(s)?c=i.WINDOWS:["iPhone","iPad","iPod"].includes(s)&&(c=i.IOS):a&&(a.includes("Macintosh")?c=i.MAC:a.includes("Windows")?c=i.WINDOWS:a.includes("Linux")&&a.includes("X11")?c=i.LINUX:/(iPhone|iPad)/.test(a)?c=i.IOS:a.includes("Android")&&a.includes("Mobi")?c=i.ANDROID:a.includes("CrOS")&&(c=i.CHROME_OS)),c}()===i.MAC}},99017:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/files",function(){return t(43173)}])}},function(e){e.O(0,[844,9902,8789,7011,6358,9696,8264,5499,1845,5810,604,9774,2888,179],(function(){return n=99017,e(e.s=n);var n}));var n=e.O();_N_E=n}]);