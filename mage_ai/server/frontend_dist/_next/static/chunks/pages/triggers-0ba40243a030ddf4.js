(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return I}});var r=t(82394),i=t(21831),o=t(82684),u=t(50724),c=t(82555),l=t(97618),a=t(70613),s=t(59696),d=t(68899),f=t(28598);function v(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var p=o.forwardRef(v),h=t(62547),O=t(82571),b=t(35686),g=t(98464),m=t(46684),j=t(70515),E=t(53808),_=t(19183);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function T(e,n){var t,r=e.addProjectBreadcrumbToCustomBreadcrumbs,v=e.after,P=e.afterHidden,T=e.afterWidth,I=e.afterWidthOverride,Z=e.before,A=e.beforeWidth,w=e.breadcrumbs,N=e.children,x=e.errors,C=e.headerMenuItems,k=e.headerOffset,S=e.mainContainerHeader,D=e.navigationItems,M=e.setErrors,L=e.subheaderChildren,R=e.subheaderNoPadding,U=e.title,H=e.uuid,Y=(0,_.i)().width,V="dashboard_after_width_".concat(H),B="dashboard_before_width_".concat(H),W=(0,o.useRef)(null),F=(0,o.useState)(I?T:(0,E.U2)(V,T)),X=F[0],z=F[1],J=(0,o.useState)(!1),Q=J[0],K=J[1],q=(0,o.useState)(Z?Math.max((0,E.U2)(B,A),13*j.iI):null),G=q[0],$=q[1],ee=(0,o.useState)(!1),ne=ee[0],te=ee[1],re=(0,o.useState)(null)[1],ie=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,oe=null===ie||void 0===ie?void 0:ie.projects,ue={label:function(){var e;return null===oe||void 0===oe||null===(e=oe[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},ce=[];w?(r&&ce.push(ue),ce.push.apply(ce,(0,i.Z)(w))):(null===oe||void 0===oe?void 0:oe.length)>=1&&ce.push.apply(ce,[ue,{bold:!0,label:function(){return U}}]),(0,o.useEffect)((function(){null===W||void 0===W||!W.current||Q||ne||null===re||void 0===re||re(W.current.getBoundingClientRect().width)}),[Q,X,ne,G,W,re,Y]),(0,o.useEffect)((function(){Q||(0,E.t8)(V,X)}),[P,Q,X,V]),(0,o.useEffect)((function(){ne||(0,E.t8)(B,G)}),[ne,G,B]);var le=(0,g.Z)(T);return(0,o.useEffect)((function(){I&&le!==T&&z(T)}),[I,T,le]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:U}),(0,f.jsx)(s.Z,{breadcrumbs:ce,menuItems:C,project:null===oe||void 0===oe?void 0:oe[0],version:null===oe||void 0===oe||null===(t=oe[0])||void 0===t?void 0:t.version}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null===D||void 0===D?void 0:D.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(O.Z,{navigationItems:D,showMore:!0})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:v,afterHeightOffset:m.Mz,afterHidden:P,afterMousedownActive:Q,afterWidth:X,before:Z,beforeHeightOffset:m.Mz,beforeMousedownActive:ne,beforeWidth:d.k1+(Z?G:0),headerOffset:k,hideAfterCompletely:!0,leftOffset:Z?d.k1:null,mainContainerHeader:S,mainContainerRef:W,setAfterMousedownActive:K,setAfterWidth:z,setBeforeMousedownActive:te,setBeforeWidth:$,children:[L&&(0,f.jsx)(p,{noPadding:R,children:L}),N]})})]}),x&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===M||void 0===M?void 0:M(null)},children:(0,f.jsx)(c.Z,y(y({},x),{},{onClose:function(){return null===M||void 0===M?void 0:M(null)}}))})]})}var I=o.forwardRef(T)},16488:function(e,n,t){"use strict";t.d(n,{IJ:function(){return h},M8:function(){return T},Vx:function(){return j},XM:function(){return y},_U:function(){return p},eI:function(){return m},gU:function(){return _},lO:function(){return N},ri:function(){return b},tL:function(){return E},vJ:function(){return P},xH:function(){return g}});var r,i=t(82394),o=t(92083),u=t.n(o),c=t(3917),l=t(4383),a=t(30229),s=t(42122),d=t(86735);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=function(e){return!!e&&!Object.values(a.U5).includes(e)};function h(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t=n.block_uuid,r=n.completed_at,o=n.started_at,c=n.status,l=null;o&&r&&(l=u()(r).valueOf()-u()(o).valueOf());return v(v({},e),{},(0,i.Z)({},t,{runtime:l,status:c}))}),{})}var O,b=function(e){var n=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:a.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:a.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:a.Xm.API}];return e?n.slice(0,1):n};function g(e){var n=(0,s.gR)(e,[a.gm.INTERVAL,a.gm.TYPE]),t=e[a.gm.INTERVAL];t&&(n["schedule_interval[]"]=encodeURIComponent(t));var r=e[a.gm.TYPE];return r&&(n["schedule_type[]"]=r),n}function m(e){if(!e)return null;var n=new Date(u()(e).valueOf()),t=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds());return new Date(t)}function j(e){return"string"!==typeof e?e:m(e.split("+")[0]).toISOString().split(".")[0]}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(O||(O={}));var E=(r={},(0,i.Z)(r,O.DAY,86400),(0,i.Z)(r,O.HOUR,3600),(0,i.Z)(r,O.MINUTE,60),(0,i.Z)(r,O.SECOND,1),r);function _(e){var n=O.SECOND,t=e;return e%86400===0?(t/=86400,n=O.DAY):e%3600===0?(t/=3600,n=O.HOUR):e%60===0&&(t/=60,n=O.MINUTE),{time:t,unit:n}}function P(e,n){return e*E[n]}function y(e,n,t){var r="".concat(e.toISOString().split("T")[0]," ").concat(null===n||void 0===n?void 0:n.hour,":").concat(null===n||void 0===n?void 0:n.minute);if(null!==t&&void 0!==t&&t.includeSeconds&&(r=r.concat(":00")),null!==t&&void 0!==t&&t.localTimezone){var i=u()(e);i.set("hour",+(null===n||void 0===n?void 0:n.hour)||0),i.set("minute",+(null===n||void 0===n?void 0:n.minute)||0),i.set("second",0),r=i.format(c.lE),null!==t&&void 0!==t&&t.convertToUtc&&(r=(0,c.d$)(r,{includeSeconds:null===t||void 0===t?void 0:t.includeSeconds,utcFormat:!0}))}return r}function T(e){var n,t="";return t="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(t="".concat(t,"/").concat(e.token)),(n=window.location.port)&&(t=t.replace(n,l.QT)),t}function I(e,n,t){return e.match(/[*,-/]/)?{additionalOffset:0,cronValue:e}:function(e,n,t){var r=t.indexOf(e),i=0;if(n<0)for(var o=0;o>n;o--)0===r?(r=t.length-1,i-=1):r-=1;else if(n>0)for(var u=0;u<n;u++)r===t.length-1?(r=0,i+=1):r+=1;return{additionalOffset:i,cronValue:String(t[r]||e)}}(+e,n,t)}var Z=(0,d.m5)(60),A=(0,d.m5)(24),w=(0,c.Cs)();function N(e,n){if(!e)return e;var t=u()().local().format("Z"),r=t.split(":"),i="-"===t[0],o=3===r[0].length?Number(r[0].slice(1)):Number(r[0]),c=Number(r[1]);(i&&!n||!i&&n)&&(o=-o,c=-c);var l=e.split(" "),a=l[0],s=l[1],d=l[2],f=I(a,c,Z),v=I(s,o+f.additionalOffset,A);if(l[0]=f.cronValue,l[1]=v.cronValue,0!==(null===v||void 0===v?void 0:v.additionalOffset)){var p=I(d,v.additionalOffset,w);l[2]=p.cronValue}return l.join(" ")}},70320:function(e,n,t){"use strict";t.d(n,{h:function(){return u},q:function(){return o}});var r=t(78419),i=t(53808);function o(){return(0,i.U2)(r.am,null)||!1}function u(e){return"undefined"!==typeof e&&(0,i.t8)(r.am,e),e}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),o=t(38276),u=t(31748),c=t(72473),l=t(79633),a=t(70515),s=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,v=[],p=t;if(p>f)v=Array.from({length:f},(function(e,n){return n}));else{var h=Math.floor(p/2),O=n-h;n+h>=f?(O=f-p+2,p-=2):n-h<=0?(O=0,p-=2):(p-=4,O=n-Math.floor(p/2)),v=Array.from({length:p},(function(e,n){return n+O}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.Z,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(c.Hd,{size:1.5*a.iI,stroke:u.Av})}),!v.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!v.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),v.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{backgroundColor:e===n&&l.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!v.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!v.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(r.Z,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(c.Kw,{size:1.5*a.iI,stroke:u.Av})})]})})}},41143:function(e,n,t){"use strict";var r;t.d(n,{V:function(){return r}}),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.FAILED="failed",e.INITIAL="initial",e.RUNNING="running",e.UPSTREAM_FAILED="upstream_failed",e.CONDITION_FAILED="condition_failed"}(r||(r={}))},30229:function(e,n,t){"use strict";t.d(n,{TR:function(){return v},U5:function(){return l},Wb:function(){return f},Xm:function(){return o},Z4:function(){return a},fq:function(){return c},gm:function(){return s},kJ:function(){return d}});var r,i,o,u=t(82394);!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(o||(o={}));var c,l,a=(r={},(0,u.Z)(r,o.API,(function(){return"API"})),(0,u.Z)(r,o.EVENT,(function(){return"event"})),(0,u.Z)(r,o.TIME,(function(){return"schedule"})),r);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(c||(c={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly",e.ALWAYS_ON="@always_on"}(l||(l={}));var s,d,f=[l.ONCE,l.HOURLY,l.DAILY,l.WEEKLY,l.MONTHLY];!function(e){e.INTERVAL="frequency[]",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(s||(s={})),function(e){e.CREATED_AT="created_at",e.NAME="name",e.PIPELINE="pipeline_uuid",e.STATUS="status",e.TYPE="schedule_type"}(d||(d={}));var v=(i={},(0,u.Z)(i,d.CREATED_AT,"Created at"),(0,u.Z)(i,d.NAME,"Name"),(0,u.Z)(i,d.PIPELINE,"Pipeline"),(0,u.Z)(i,d.STATUS,"Active"),(0,u.Z)(i,d.TYPE,"Type"),i)},82359:function(e,n,t){"use strict";var r,i;t.d(n,{d:function(){return r},k:function(){return i}}),function(e){e.ADD_NEW_BLOCK_V2="add_new_block_v2",e.DATA_INTEGRATION_IN_BATCH_PIPELINE="data_integration_in_batch_pipeline",e.INTERACTIONS="interactions",e.LOCAL_TIMEZONE="display_local_timezone",e.OPERATION_HISTORY="operation_history"}(r||(r={})),function(e){e.MAIN="main",e.STANDALONE="standalone",e.SUB="sub"}(i||(i={}))},72191:function(e,n,t){"use strict";t.d(n,{_k:function(){return o},bL:function(){return i},l2:function(){return u}});var r=t(70515),i=(r.iI,2*r.iI),o=2.5*r.iI,u=3*r.iI},77174:function(e,n,t){"use strict";t.r(n);var r=t(77837),i=t(82394),o=t(75582),u=t(38860),c=t.n(u),l=t(82684),a=t(34376),s=t(94629),d=t(55485),f=t(55072),v=t(93808),p=t(82359),h=t(44085),O=t(38276),b=t(30160),g=t(31743),m=t(35686),j=t(30229),E=t(70515),_=t(15610),P=t(69419),y=t(70320),T=t(28598);function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function A(){var e=(0,a.useRouter)(),n=(0,P.iV)(),t=null!==n&&void 0!==n&&n.page?n.page:0,r=(null===n||void 0===n?void 0:n.order_by)||j.kJ.CREATED_AT,i=m.ZP.projects.list().data,u=(0,l.useMemo)((function(){var e;return null===i||void 0===i||null===(e=i.projects)||void 0===e?void 0:e[0]}),[i]),c=((0,l.useMemo)((function(){var e;return(0,y.h)(null===u||void 0===u||null===(e=u.features)||void 0===e?void 0:e[p.d.LOCAL_TIMEZONE])}),[null===u||void 0===u?void 0:u.features]),{_limit:f.Q,_offset:t*f.Q,order_by:r}),v=m.ZP.pipeline_schedules.list(c,{refreshInterval:7500,revalidateOnFocus:!0}),I=v.data,A=v.mutate,w=(0,l.useMemo)((function(){return(null===I||void 0===I?void 0:I.pipeline_schedules)||[]}),[I]),N=(0,l.useMemo)((function(){var e;return(null===I||void 0===I||null===(e=I.metadata)||void 0===e?void 0:e.count)||[]}),[I]);return(0,T.jsxs)(s.Z,{title:"Triggers",uuid:"triggers/index",children:[(0,T.jsx)(O.Z,{mx:2,my:1,children:(0,T.jsxs)(d.ZP,{alignItems:"center",children:[(0,T.jsx)(b.ZP,{bold:!0,default:!0,large:!0,children:"Sort runs by:"}),(0,T.jsx)(O.Z,{mr:1}),(0,T.jsx)(h.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(e){e.preventDefault(),(0,_.u7)({order_by:e.target.value,page:0})},paddingRight:4*E.iI,placeholder:"Select column",value:r||j.kJ.CREATED_AT,children:Object.entries(j.TR).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return(0,T.jsx)("option",{value:t,children:r},t)}))})]})}),(0,T.jsx)(g.Z,{fetchPipelineSchedules:A,highlightRowOnHover:!0,includeCreatedAtColumn:!0,includePipelineColumn:!0,pipelineSchedules:w,stickyHeader:!0}),(0,T.jsx)(O.Z,{p:2,children:(0,T.jsx)(f.ZP,{maxPages:9,onUpdate:function(t){var r=Number(t),i=Z(Z({},n),{},{page:r>=0?r:0});e.push("/triggers","/triggers?".concat((0,P.uM)(i)))},page:Number(t),totalPages:Math.ceil(N/f.Q)})})]})}A.getInitialProps=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,v.Z)(A)},59733:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triggers",function(){return t(77174)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},99177:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r(e,n)}t.d(n,{Z:function(){return i}})},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(12539),i=t(80022);function o(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}}},function(e){e.O(0,[844,2083,8013,600,9696,8264,4666,5499,1743,9774,2888,179],(function(){return n=59733,e(e.s=n);var n}));var n=e.O();_N_E=n}]);