(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7869],{59739:function(e,n,t){"use strict";var r=t(56669);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,n,t,i,o,u){if(u!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return e}e.isRequired=e;var t={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:o,resetWarningCache:i};return t.PropTypes=t,t}},47329:function(e,n,t){e.exports=t(59739)()},56669:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},44152:function(e,n,t){"use strict";t.d(n,{r:function(){return a}});var r=t(82684);const i=e=>{let n;const t=new Set,r=(e,r)=>{const i="function"===typeof e?e(n):e;if(i!==n){const e=n;n=r?i:Object.assign({},n,i),t.forEach((t=>t(n,e)))}},i=()=>n,o={setState:r,getState:i,subscribe:e=>(t.add(e),()=>t.delete(e)),destroy:()=>t.clear()};return n=e(r,i,o),o};var o=t(81550);const{useSyncExternalStoreWithSelector:u}=o;const c=e=>{const n="function"===typeof e?(e=>e?i(e):i)(e):e,t=(e,t)=>function(e,n=e.getState,t){const i=u(e.subscribe,e.getState,e.getServerState||e.getState,n,t);return(0,r.useDebugValue)(i),i}(n,e,t);return Object.assign(t,n),t};var l=e=>e?c(e):c;const a=e=>{const n=l((()=>e)),t=(Object.keys(e),(e,t)=>{n.setState((n=>{return{[e]:(r=n[e],i=t,"function"==typeof i?i(r):i)};var r,i}))});return{useGlobalState:e=>{const i=(0,r.useCallback)((n=>n[e]),[e]);return[n(i),(0,r.useCallback)((n=>t(e,n)),[e])]},getGlobalState:e=>n.getState()[e],setGlobalState:t,subscribe:(e,t)=>{n.subscribe(((n,r)=>{n[e]!==r[e]&&t(n[e])}))}}}},1589:function(e,n,t){"use strict";var r=t(82684);var i="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},o=r.useState,u=r.useEffect,c=r.useLayoutEffect,l=r.useDebugValue;function a(e){var n=e.getSnapshot;e=e.value;try{var t=n();return!i(e,t)}catch(r){return!0}}var s="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,n){return n()}:function(e,n){var t=n(),r=o({inst:{value:t,getSnapshot:n}}),i=r[0].inst,s=r[1];return c((function(){i.value=t,i.getSnapshot=n,a(i)&&s({inst:i})}),[e,t,n]),u((function(){return a(i)&&s({inst:i}),e((function(){a(i)&&s({inst:i})}))}),[e]),l(t),t};n.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},73847:function(e,n,t){"use strict";var r=t(82684),i=t(48216);var o="function"===typeof Object.is?Object.is:function(e,n){return e===n&&(0!==e||1/e===1/n)||e!==e&&n!==n},u=i.useSyncExternalStore,c=r.useRef,l=r.useEffect,a=r.useMemo,s=r.useDebugValue;n.useSyncExternalStoreWithSelector=function(e,n,t,r,i){var d=c(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;d=a((function(){function e(e){if(!l){if(l=!0,u=e,e=r(e),void 0!==i&&f.hasValue){var n=f.value;if(i(n,e))return c=n}return c=e}if(n=c,o(u,e))return n;var t=r(e);return void 0!==i&&i(n,t)?n:(u=e,c=t)}var u,c,l=!1,a=void 0===t?null:t;return[function(){return e(n())},null===a?void 0:function(){return e(a())}]}),[n,t,r,i]);var p=u(e,d[0],d[1]);return l((function(){f.hasValue=!0,f.value=p}),[p]),s(p),p}},48216:function(e,n,t){"use strict";e.exports=t(1589)},81550:function(e,n,t){"use strict";e.exports=t(73847)},94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(82394),i=t(21831),o=t(82684),u=t(50724),c=t(82555),l=t(97618),a=t(70613),s=t(68487),d=t(68899),f=t(28598);function p(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var h=o.forwardRef(p),v=t(62547),b=t(82571),g=t(98464),O=t(77417),y=t(46684),m=t(70515),S=t(53808),P=t(19183);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function x(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function w(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,p=e.afterHidden,j=e.afterWidth,w=e.afterWidthOverride,Z=e.appendBreadcrumbs,E=e.before,T=e.beforeWidth,C=e.breadcrumbs,_=e.children,k=e.errors,I=e.headerMenuItems,A=e.headerOffset,R=e.hideAfterCompletely,N=e.mainContainerHeader,M=e.navigationItems,D=e.setAfterHidden,L=e.setErrors,H=e.subheaderChildren,Y=e.subheaderNoPadding,V=e.title,W=e.uuid,B=(0,P.i)().width,F="dashboard_after_width_".concat(W),U="dashboard_before_width_".concat(W),G=(0,o.useRef)(null),K=(0,o.useState)(w?j:(0,S.U2)(F,j)),X=K[0],Q=K[1],J=(0,o.useState)(!1),z=J[0],q=J[1],$=(0,o.useState)(E?Math.max((0,S.U2)(U,T),13*m.iI):null),ee=$[0],ne=$[1],te=(0,o.useState)(!1),re=te[0],ie=te[1],oe=(0,o.useState)(null)[1],ue=(0,O.Z)().project,ce=[];C&&ce.push.apply(ce,(0,i.Z)(C)),null!==C&&void 0!==C&&C.length&&!Z||!ue||null!==C&&void 0!==C&&C.length||ce.unshift({bold:!Z,label:function(){return V}}),(0,o.useEffect)((function(){null===G||void 0===G||!G.current||z||re||null===oe||void 0===oe||oe(G.current.getBoundingClientRect().width)}),[z,X,re,ee,G,oe,B]),(0,o.useEffect)((function(){z||(0,S.t8)(F,X)}),[p,z,X,F]),(0,o.useEffect)((function(){re||(0,S.t8)(U,ee)}),[re,ee,U]);var le=(0,g.Z)(j);return(0,o.useEffect)((function(){w&&le!==j&&Q(j)}),[w,j,le]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:V}),(0,f.jsx)(s.Z,{breadcrumbs:ce,menuItems:I}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null===M||void 0===M?void 0:M.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(b.Z,{navigationItems:M,showMore:!0})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:t,afterHeader:r,afterHeightOffset:y.Mz,afterHidden:p,afterMousedownActive:z,afterWidth:X,before:E,beforeHeightOffset:y.Mz,beforeMousedownActive:re,beforeWidth:d.k1+(E?ee:0),headerOffset:A,hideAfterCompletely:!D||R,leftOffset:E?d.k1:null,mainContainerHeader:N,mainContainerRef:G,setAfterHidden:D,setAfterMousedownActive:q,setAfterWidth:Q,setBeforeMousedownActive:ie,setBeforeWidth:ne,children:[H&&(0,f.jsx)(h,{noPadding:Y,children:H}),_]})})]}),k&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===L||void 0===L?void 0:L(null)},children:(0,f.jsx)(c.Z,x(x({},k),{},{onClose:function(){return null===L||void 0===L?void 0:L(null)}}))})]})}var Z=o.forwardRef(w)},28385:function(e,n,t){"use strict";var r=t(82394),i=t(75582),o=t(17717),u=t(82684),c=t(80329),l=t(69864),a=t(71180),s=t(75810),d=t(89706),f=t(97618),p=t(55485),h=t(85854),v=t(38276),b=t(4190),g=t(75499),O=t(30160),y=t(35686),m=t(70515),S=t(80330),P=t(3917),j=t(81728),x=t(72619),w=t(3314),Z=t(86735),E=t(28598);function T(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function C(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?T(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.onActionCallback,t=e.pipeline,T=e.selectedBlock,_=e.selectedFilePath,k=e.setErrors,I=e.width,A=(0,c.j)("apiReloads"),R=(0,i.Z)(A,2)[1],N=(0,u.useMemo)((function(){return _?encodeURIComponent(_):T?encodeURIComponent("".concat(null===T||void 0===T?void 0:T.type,"/").concat(null===T||void 0===T?void 0:T.uuid)):null}),[T,_]),M=y.ZP.file_versions.files.list(N,{block_uuid:null===T||void 0===T?void 0:T.uuid,pipeline_uuid:null===t||void 0===t?void 0:t.uuid}),D=M.data,L=M.mutate,H=(0,u.useMemo)((function(){return(null===D||void 0===D?void 0:D.file_versions)||[]}),[D]),Y=(0,u.useState)(null),V=Y[0],W=Y[1],B=(0,u.useMemo)((function(){return null===H||void 0===H?void 0:H[V]}),[V,H]),F=y.ZP.file_contents.detail(B?encodeURIComponent(B.path):null).data,U=(0,u.useMemo)((function(){return null===F||void 0===F?void 0:F.file_content}),[F]),G=(0,u.useMemo)((function(){return(0,S.lU)()}),[]),K=(0,u.useMemo)((function(){var e,n,t;return null===_||void 0===_||null===(e=_.match(G))||void 0===e||null===(n=e[0])||void 0===n||null===(t=n.split("."))||void 0===t?void 0:t[1]}),[_,G]),X=(0,l.Db)(y.ZP.file_contents.useUpdate(N),{onSuccess:function(e){return(0,x.wD)(e,{callback:function(e){var t;_&&L();var i=null===e||void 0===e||null===(t=e.file_content)||void 0===t?void 0:t.path,u="FileEditor/".concat(i);if(i){var c=i.split(o.sep);if("pipelines"===c[0]){var l=c.slice(1,c.length-1).join(o.sep);u="PipelineDetail/".concat(l)}}R((function(e){return C(C({},e),{},(0,r.Z)({},u,Number(new Date)))})),W((function(e){return e+1})),null===n||void 0===n||n(null===e||void 0===e?void 0:e.file_content,{blockUUID:null===T||void 0===T?void 0:T.uuid})},onErrorCallback:function(e,n){return k({errors:n,response:e})}})}}),Q=(0,i.Z)(X,2),J=Q[0],z=Q[1].isLoading,q=(0,u.useCallback)((function(e){var n=C({},e);return _||(n.block_uuid=null===T||void 0===T?void 0:T.uuid,n.pipeline_uuid=null===t||void 0===t?void 0:t.uuid),J({file_content:n})}),[t,T,_,J]),$=(0,u.useMemo)((function(){var e=H.map((function(e){var n=e.name,t=e.path;return[(0,E.jsxs)(p.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,E.jsxs)(f.Z,{flex:1,children:[(0,E.jsx)(O.ZP,{default:!0,monospace:!0,children:(0,P.JX)(n,{withSeconds:!0})}),(0,E.jsx)(v.Z,{px:2*m.cd,children:(0,E.jsx)(O.ZP,{monospace:!0,children:n})})]}),B&&(null===B||void 0===B?void 0:B.path)===t&&(0,E.jsx)(a.ZP,{compact:!0,loading:z,onClick:function(e){(0,w.j)(e),q({version:n})},small:!0,children:"Replace with this version"})]},n)]}));if(B){var n=(0,E.jsx)(v.Z,{p:m.cd,children:(0,E.jsx)(b.Z,{},"spinner")});if(U&&(null===U||void 0===U?void 0:U.path)===(null===B||void 0===B?void 0:B.path)){var t=U.content,r=void 0===t?"":t;n=(0,E.jsx)(s.Z,{autoHeight:!0,language:d.nB[K],padding:2*m.iI,readOnly:!0,value:(0,j.Pb)(r)?JSON.stringify(JSON.parse(r),null,2):r,width:I})}e=(0,Z.Hk)([n],V+1,e)}return e}),[U,K,H,z,B,V,q,I]);return(0,E.jsxs)("div",{style:{width:I},children:[(0,E.jsxs)(v.Z,{p:m.cd,children:[(0,E.jsx)(h.Z,{level:5,children:"File versions"}),(0,E.jsx)(O.ZP,{inline:!0,monospace:!0,children:_?decodeURIComponent(_):null===T||void 0===T?void 0:T.uuid})]}),(0,E.jsx)(g.Z,{buildRowProps:function(e){if(B&&V+1===e)return{renderCell:function(e){return e},renderRow:function(e){return e}}},columnFlex:[1],columns:[{uuid:"Version"}],isSelectedRow:function(e){var n;return(null===(n=H[e])||void 0===n?void 0:n.name)===(null===B||void 0===B?void 0:B.name)},onClickRow:function(e){B?e===V?W(null):e<V?W(e):e>V+1&&W(e-1):W(e)},rows:$})]})}},85385:function(e,n,t){"use strict";t.d(n,{Qq:function(){return h},Z7:function(){return v},cH:function(){return i},du:function(){return f},fp:function(){return d},j5:function(){return p},uM:function(){return s}});var r,i,o=t(82394),u=t(57653),c=t(82359),l=t(72473),a=t(86735),s="sideview",d=90;!function(e){e.ADDON_BLOCKS="addon_blocks",e.BLOCK_SETTINGS="block_settings",e.CALLBACKS="callbacks",e.CHARTS="charts",e.DATA="data",e.EXTENSIONS="power_ups",e.FILE_VERSIONS="file_versions",e.GRAPHS="graphs",e.INTERACTIONS="interactions",e.REPORTS="reports",e.SECRETS="secrets",e.SETTINGS="settings",e.TERMINAL="terminal",e.TREE="tree",e.VARIABLES="variables"}(i||(i={}));i.BLOCK_SETTINGS,i.CALLBACKS,i.CHARTS,i.DATA,i.EXTENSIONS,i.TREE;var f=[i.DATA];function p(e){var n,t,r,o=[{key:i.TREE,label:"Tree"},{buildLabel:function(e){var n=(e.pipeline||{}).widgets,t=void 0===n?[]:n;return(null===t||void 0===t?void 0:t.length)>=1?"Charts (".concat(t.length,")"):"Charts"},key:i.CHARTS},{buildLabel:function(e){var n=e.variables;return(null===n||void 0===n?void 0:n.length)>=1?"Variables (".concat(n.length,")"):"Variables"},key:i.VARIABLES},{buildLabel:function(e){var n=e.secrets;return(null===n||void 0===n?void 0:n.length)>=1?"Secrets (".concat(n.length,")"):"Secrets"},key:i.SECRETS}];return u.qL.PYSPARK!==(null===e||void 0===e||null===(n=e.pipeline)||void 0===n?void 0:n.type)&&o.push.apply(o,[{buildLabel:function(e){e.pipeline;return"Add-on blocks"},key:i.ADDON_BLOCKS},{buildLabel:function(e){var n=(e.pipeline||{}).extensions,t=void 0===n?{}:n,r=0;return Object.values(t).forEach((function(e){var n=e.blocks;r+=(null===n||void 0===n?void 0:n.length)||0})),r>=1?"Power ups (".concat(r,")"):"Power ups"},key:i.EXTENSIONS}]),o.push.apply(o,[{key:i.DATA,label:"Data"},{key:i.TERMINAL,label:"Terminal"},{key:i.BLOCK_SETTINGS,label:"Block settings"}]),null!==e&&void 0!==e&&null!==(t=e.project)&&void 0!==t&&null!==(r=t.features)&&void 0!==r&&r[c.d.INTERACTIONS]&&o.push({key:i.INTERACTIONS,label:"Interactions"}),o}function h(e){return(0,a.HK)(p(e),(function(e){return e.key}))}var v=(r={},(0,o.Z)(r,i.ADDON_BLOCKS,l.EJ),(0,o.Z)(r,i.BLOCK_SETTINGS,l.JG),(0,o.Z)(r,i.CALLBACKS,l.AQ),(0,o.Z)(r,i.CHARTS,l.GQ),(0,o.Z)(r,i.DATA,l.iA),(0,o.Z)(r,i.EXTENSIONS,l.Bf),(0,o.Z)(r,i.INTERACTIONS,l.yd),(0,o.Z)(r,i.SECRETS,l.Yo),(0,o.Z)(r,i.SETTINGS,l.Zr),(0,o.Z)(r,i.TERMINAL,l.oI),(0,o.Z)(r,i.TREE,l.mp),(0,o.Z)(r,i.VARIABLES,l.LO),r)},89706:function(e,n,t){"use strict";t.d(n,{JD:function(){return b},Lu:function(){return u},PF:function(){return p},aZ:function(){return o},dT:function(){return c},n6:function(){return s},nB:function(){return v},oy:function(){return h},xF:function(){return f}});var r,i,o,u,c,l=t(82394),a=t(44425);!function(e){e.DBT="dbt"}(o||(o={})),function(e){e.CSV="csv",e.JSON="json",e.MD="md",e.PY="py",e.R="r",e.SH="sh",e.SQL="sql",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(u||(u={})),function(e){e.INIT_PY="__init__.py",e.METADATA_YAML="metadata.yaml",e.REQS_TXT="requirements.txt"}(c||(c={}));var s=[u.PY,u.SQL],d=[u.JSON,u.MD,u.PY,u.R,u.SH,u.SQL,u.TXT,u.YAML,u.YML],f=new RegExp(d.map((function(e){return".".concat(e,"$")})).join("|")),p=(new RegExp(d.map((function(e){return".".concat(e,"$")})).join("|")),"charts"),h="pipelines",v=(r={},(0,l.Z)(r,u.MD,a.t6.MARKDOWN),(0,l.Z)(r,u.JSON,u.JSON),(0,l.Z)(r,u.PY,a.t6.PYTHON),(0,l.Z)(r,u.R,a.t6.R),(0,l.Z)(r,u.SQL,a.t6.SQL),(0,l.Z)(r,u.TXT,"text"),(0,l.Z)(r,u.YAML,a.t6.YAML),(0,l.Z)(r,u.YML,a.t6.YAML),r),b=(i={},(0,l.Z)(i,a.t6.MARKDOWN,u.MD),(0,l.Z)(i,a.t6.PYTHON,u.PY),(0,l.Z)(i,a.t6.R,u.R),(0,l.Z)(i,a.t6.SQL,u.SQL),(0,l.Z)(i,a.t6.YAML,u.YAML),(0,l.Z)(i,"text",u.TXT),i)},72098:function(e,n,t){"use strict";var r;t.d(n,{U:function(){return r}}),function(e){e.PYSPARK="pysparkkernel",e.PYTHON3="python3"}(r||(r={}))},57653:function(e,n,t){"use strict";t.d(n,{$1:function(){return v},G7:function(){return O},LM:function(){return y},Mj:function(){return m},QK:function(){return h},RH:function(){return g},a_:function(){return P},fj:function(){return j},kA:function(){return S},qL:function(){return c},r0:function(){return b}});var r,i,o,u,c,l=t(75582),a=t(82394),s=t(72473),d=t(72098);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.INTEGRATION="integration",e.PYTHON="python",e.PYSPARK="pyspark",e.STREAMING="streaming"}(c||(c={}));var h,v,b,g=(r={},(0,a.Z)(r,c.INTEGRATION,"Integration"),(0,a.Z)(r,c.PYTHON,"Python"),(0,a.Z)(r,c.PYSPARK,"PySpark"),(0,a.Z)(r,c.STREAMING,"Streaming"),r),O=(i={},(0,a.Z)(i,c.INTEGRATION,"Integration"),(0,a.Z)(i,c.PYTHON,"Standard"),(0,a.Z)(i,c.PYSPARK,"PySpark"),(0,a.Z)(i,c.STREAMING,"Streaming"),i),y="all",m=(c.PYTHON,c.INTEGRATION,c.STREAMING,o={},(0,a.Z)(o,y,s.ie),(0,a.Z)(o,c.INTEGRATION,s.YC),(0,a.Z)(o,c.PYTHON,s.El),(0,a.Z)(o,c.STREAMING,s.dB),o);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.NO_SCHEDULES="no_schedules",e.RETRY="retry",e.RETRY_INCOMPLETE_BLOCK_RUNS="retry_incomplete_block_runs"}(h||(h={})),function(e){e.GROUP="group_by",e.HISTORY_DAYS="from_history_days",e.NO_TAGS="no_tags",e.SEARCH="search",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(v||(v={})),function(e){e.STATUS="status",e.TAG="tag",e.TYPE="type"}(b||(b={}));var S=[h.ACTIVE,h.INACTIVE,h.NO_SCHEDULES],P=(u={},(0,a.Z)(u,c.PYTHON,d.U.PYTHON3),(0,a.Z)(u,c.PYSPARK,d.U.PYSPARK),u),j=Object.entries(P).reduce((function(e,n){var t=(0,l.Z)(n,2),r=t[0],i=t[1];return p(p({},e),{},(0,a.Z)({},i,r))}),{})},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),o=t(38276),u=t(30160),c=t(44897),l=t(42631),a=t(47041),s=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),p=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],l.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||c.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||c.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||c.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||c.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||c.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],l.n_,l.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||c.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||c.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),v=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,a.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),b=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],l.M8,l.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,c=e.contentContainerRef,l=e.dark,a=e.footer,s=e.fullHeight,f=void 0===s||s,g=e.fullWidth,O=void 0===g||g,y=e.header,m=e.headerHeight,S=e.headerIcon,P=e.headerPaddingVertical,j=e.headerTitle,x=e.maxHeight,w=e.maxWidth,Z=e.minWidth,E=e.noPadding,T=e.overflowVisible,C=e.subtitle,_=e.success;return(0,d.jsxs)(p,{borderless:n,dark:l,fullHeight:f,fullWidth:O,maxHeight:x,maxWidth:w,minWidth:Z,overflowVisible:T,ref:r,success:_,children:[(y||j)&&(0,d.jsxs)(h,{headerPaddingVertical:P,height:m,children:[y&&y,j&&(0,d.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.ZP,{alignItems:"center",children:[S&&S,(0,d.jsx)(o.Z,{ml:S?1:0,children:(0,d.jsx)(u.ZP,{bold:!0,default:!0,children:j})})]})})]}),(0,d.jsxs)(v,{maxHeight:x,noPadding:E,overflowVisible:T,ref:c,children:[C&&"string"===typeof C&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(u.ZP,{default:!0,children:C})}),C&&"string"!==typeof C&&C,t]}),a&&(0,d.jsx)(b,{children:a})]})}},35185:function(e,n,t){"use strict";var r=t(82394),i=t(91835),o=(t(82684),t(38626)),u=t(44897),c=t(42631),l=t(70515),a=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarContainerStyle",componentId:"sc-10x9ojc-0"})(["border-radius:","px;height:","px;overflow:hidden;position:relative;width:100%;",""],c.BG,.75*l.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||u.Z.monotone).grey200,";\n  ")})),p=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarStyle",componentId:"sc-10x9ojc-1"})(["height:inherit;position:absolute;"," "," "," ",""],(function(e){return!e.danger&&"\n    background-color: ".concat((e.theme.progress||u.Z.progress).positive,";\n  ")}),(function(e){return e.progress&&"\n    width: ".concat(e.progress,"%;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.progress||u.Z.progress).negative,";\n  ")}),(function(e){return e.animateProgress&&"\n    animation: animate-progress ".concat(e.animateProgress.duration,"ms linear forwards;\n\n    @keyframes animate-progress {\n      0% {\n        width: ").concat(e.animateProgress.start,"%;\n      }\n\n      100% {\n        width: ").concat(e.animateProgress.end,"%;\n      }\n    }\n  ")}));n.Z=function(e){var n=(0,i.Z)({},e);return(0,a.jsx)(f,d(d({},n),{},{children:(0,a.jsx)(p,d({},n))}))}},43173:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return z}});var r=t(77837),i=t(38860),o=t.n(i),u=t(82394),c=t(75582),l=t(17717),a=t(82684),s=t(80329),d=t(69864),f=t(65557),p=t(94629),h=t(10553),v=t(29618),b=t(50724),g=t(55485),O=t(70374),y=t(30160),m=t(39643),S=t(87848),P=t(58325),j=t(44688),x=t(28598);var w=function(e){var n=e.children,t=e.fileVersionsVisible,r=e.onSave,i=e.setFilesVersionsVisible,o=(0,a.useState)(null),u=o[0],c=o[1],l=(0,a.useRef)(null),s=(0,a.useRef)(null),d=(0,a.useMemo)((function(){return[{disabled:!r,keyTextGroups:[[(0,P.V5)()?m.RJ:m.hE,m.SS]],label:function(){return"Save"},onClick:function(){return r?r():null},uuid:"save"}]}),[r]),f=(0,a.useMemo)((function(){return[{label:function(){return t?"Hide versions":"Show versions"},onClick:function(){return i(!t)},uuid:"versions"}]}),[t,i]),p="FileHeaderMenu/index",h=(0,j.y)(),v=h.registerOnKeyDown,w=h.unregisterOnKeyDown;return(0,a.useEffect)((function(){return function(){w(p)}}),[w,p]),v(p,(function(e,n){null!==u&&(n[m.QK]?c((function(e){return 0===e?2:e-1})):n[m.DY]&&c((function(e){return 2===e?0:e+1})))}),[u,c]),(0,x.jsx)(b.Z,{onClickOutside:function(){return c(null)},open:!0,style:{position:"relative"},children:(0,x.jsxs)(g.ZP,{children:[(0,x.jsxs)("div",{style:{position:"relative"},children:[(0,x.jsx)(S.u,{highlighted:0===u,onClick:function(){return c((function(e){return 0===e?null:0}))},onMouseEnter:function(){return c((function(e){return null!==e?0:null}))},ref:l,children:(0,x.jsx)(y.ZP,{children:"File"})}),(0,x.jsx)(O.Z,{items:d,onClickCallback:function(){return c(null)},open:0===u,parentRef:l,uuid:"FileHeaderMenu/file"})]}),(0,x.jsxs)("div",{style:{position:"relative"},children:[(0,x.jsx)(S.u,{highlighted:1===u,onClick:function(){return c((function(e){return 1===e?null:1}))},onMouseEnter:function(){return c((function(e){return null!==e?1:null}))},ref:s,children:(0,x.jsx)(y.ZP,{children:"Edit"})}),(0,x.jsx)(O.Z,{items:f,onClickCallback:function(){return c(null)},open:1===u,parentRef:s,uuid:"FileHeaderMenu/edit"})]}),n]})})},Z=t(90758),E=t(28385),T=t(35686),C=t(38626),_=t(44897),k=t(2842),I=t(46684),A=t(47041),R=72-k.uX+I.Mz,N=C.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-11pty4f-0"})(["height:","px;top:","px;z-index:3;",""],72,I.Mz,(function(e){return"\n    background-color: ".concat((e.theme.background||_.Z.background).codeArea,";\n  ")})),M=C.default.div.withConfig({displayName:"indexstyle__MenuStyle",componentId:"sc-11pty4f-1"})(["height:","px;position:relative;z-index:1;",""],36,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||_.Z.borders).medium,";\n  ")})),D=C.default.div.withConfig({displayName:"indexstyle__TabsStyle",componentId:"sc-11pty4f-2"})([""," height:","px;overflow-x:auto;position:sticky;width:100%;z-index:0;"],(0,A.y$)(),36),L=t(53808),H=t(86735),Y="open_files";function V(e){(0,L.t8)(Y,e)}var W=t(72619),B=t(42041),F=t(23780);function U(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function G(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?U(Object(t),!0).forEach((function(n){(0,u.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):U(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function K(e){var n=e.split(l.sep);return n[n.length-1]}var X=function(){var e=(0,s.j)("apiReloads"),n=(0,c.Z)(e,2)[1],t=(0,a.useRef)(null),r=(0,a.useRef)(null),i=(0,a.useCallback)((function(e){r.current||(r.current={}),r.current=G(G({},r.current),e)}),[r]),o=(0,a.useState)([]),l=o[0],b=o[1],g=(0,a.useState)(null),O=g[0],y=g[1],S=(0,a.useState)({}),P=S[0],C=S[1],_=(0,a.useState)(!1),k=_[0],I=_[1],A=(0,a.useMemo)((function(){return l.reduce((function(e,n){var t=K(n);return e[t]||(e[t]=[]),e[t].push(n),e}),{})}),[l]),U=(0,a.useCallback)((function(e){V(e),b(e)}),[]),X=(0,a.useCallback)((function(e){U(function(e){var n=(0,L.U2)(Y,[]);return n.includes(e)||n.push(e),V(n),n}(e))}),[U]),Q=(0,a.useCallback)((function(e){i((0,u.Z)({},e,null)),C((function(n){return G(G({},n),{},(0,u.Z)({},e,!1))}));var n=function(e){var n=(0,L.U2)(Y,[]),t=(0,H.Od)(n,(function(n){return n===e}));return V(t),t}(e);U(n),O===e&&(null===n||void 0===n?void 0:n.length)>=1&&y(n[n.length-1]),0===(null===n||void 0===n?void 0:n.length)&&y(null)}),[O,i,U]),J=(0,a.useCallback)((function(e,n){n||(X(e),y(e))}),[X]);(0,a.useEffect)((function(){var e=(0,L.U2)(Y,[]);U(e),y((function(n){return!n&&(null===e||void 0===e?void 0:e.length)>=1?e[0]:n}))}),[U]);var z=T.ZP.files.list(),q=z.data,$=z.mutate,ee=(0,a.useMemo)((function(){return(null===q||void 0===q?void 0:q.files)||[]}),[q]),ne=(0,F.VI)(null,{},[],{uuid:"FilesPage"}),te=(0,c.Z)(ne,1)[0],re="Files/index",ie=(0,j.y)(),oe=(ie.disableGlobalKeyboardShortcuts,ie.registerOnKeyDown),ue=ie.unregisterOnKeyDown;(0,a.useEffect)((function(){return function(){ue(re)}}),[ue,re]),oe(re,(function(e,n){var t=Object.entries(P).reduce((function(e,n){var t=(0,c.Z)(n,2),r=t[0];return t[1]?e.concat(r):e}),[]);if((0,B.y)([m.zX,m.hS],n)&&(null===t||void 0===t?void 0:t.length)>=1){e.preventDefault();var r="You have changes that are unsaved: ".concat(t.join(", "),". ")+"Click cancel and save your changes before reloading page.";"undefined"!==typeof location&&window.confirm(r)&&location.reload()}}),[P]);var ce=(0,a.useMemo)((function(){return(0,x.jsx)(Z.Z,{filePaths:l,filesTouched:P,isSelectedFilePath:function(e,n){return e===n},onClickTab:function(e){return y(e)},onClickTabClose:function(e){return Q(e)},renderTabTitle:function(e){var n=K(e),t=A[n];return t&&(null===t||void 0===t?void 0:t.length)>=2?e:n},selectedFilePath:O})}),[P,l,A,Q,O]),le=(0,a.useMemo)((function(){return(0,x.jsx)(h.Z,{fetchFileTree:$,files:ee,onClickFile:function(e){return J(e)},onClickFolder:function(e){return J(e,!0)},onCreateFile:function(e){var n=e.path;return J(n)},ref:t,setErrors:te})}),[$,t,ee,J,te]),ae=(0,d.Db)((function(e){return T.ZP.file_contents.useUpdate((null===e||void 0===e?void 0:e.path)&&encodeURIComponent(null===e||void 0===e?void 0:e.path))({file_content:e})}),{onSuccess:function(e){return(0,W.wD)(e,{callback:function(e){var t=e.file_content;n((function(e){return G(G({},e),{},(0,u.Z)({},"FileVersions/".concat(null===t||void 0===t?void 0:t.path),Number(new Date)))})),i((0,u.Z)({},null===t||void 0===t?void 0:t.path,null))},onErrorCallback:function(e,n){return te({errors:n,response:e})}})}}),se=(0,c.Z)(ae,1)[0],de=(0,a.useCallback)((function(e,n){se(G(G({},n),{},{content:e})),C((function(e){return G(G({},e),{},(0,u.Z)({},null===n||void 0===n?void 0:n.path,!1))}))}),[C,se]),fe=(0,a.useMemo)((function(){return null===l||void 0===l?void 0:l.map((function(e){return(0,x.jsx)("div",{style:{display:O===e?null:"none"},children:(0,x.jsx)(f.Z,{uuid:"FileEditor/".concat(decodeURIComponent(e)),children:(0,x.jsx)(v.Z,{active:O===e,disableRefreshWarning:!0,filePath:e?encodeURIComponent(e):null,hideHeaderButtons:!0,onContentChange:function(n){return i((0,u.Z)({},e,n))},saveFile:de,selectedFilePath:O,setErrors:te,setFilesTouched:C})})},e)}))}),[l,de,O,i,te]),pe=(0,a.useMemo)((function(){return(0,x.jsx)(w,{fileVersionsVisible:k,onSave:function(){var e,n;(null===r||void 0===r||null===(e=r.current)||void 0===e||null===(n=e[O])||void 0===n?void 0:n.length)>=1&&de(r.current[O],{path:O})},setFilesVersionsVisible:I})}),[r,k,de,O,I]);return(0,x.jsx)(p.Z,{after:(0,x.jsx)(f.Z,{uuid:"FileVersions/".concat(O?decodeURIComponent(O):""),children:(0,x.jsx)(E.Z,{selectedFilePath:O,setErrors:te})}),afterHidden:!(k&&O),before:le,headerOffset:R,mainContainerHeader:(null===l||void 0===l?void 0:l.length)>=1&&(0,x.jsxs)(N,{children:[(0,x.jsx)(M,{children:pe}),(0,x.jsx)(D,{children:ce})]}),title:"Files",uuid:"Files/index",children:fe})},Q=t(93808);function J(){return(0,x.jsx)(X,{})}J.getInitialProps=(0,r.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var z=(0,Q.Z)(J)},58325:function(e,n,t){"use strict";var r;t.d(n,{V5:function(){return o}}),function(e){e.ANDROID="Android",e.CHROME_OS="ChromeOS",e.IOS="iOS",e.LINUX="Linux",e.MAC="macOS",e.WINDOWS="Windows"}(r||(r={}));var i=r;function o(){return function(){var e,n,t,r,o,u,c,l=i.MAC,a=null===(e=window)||void 0===e||null===(n=e.navigator)||void 0===n?void 0:n.userAgent,s=(null===(t=window)||void 0===t||null===(r=t.navigator)||void 0===r||null===(o=r.userAgentData)||void 0===o?void 0:o.platform)||(null===(u=window)||void 0===u||null===(c=u.navigator)||void 0===c?void 0:c.platform);return s?["macOS","Macintosh","MacIntel","MacPPC","Mac68K"].includes(s)?l=i.MAC:["Win32","Win64","Windows","WinCE"].includes(s)?l=i.WINDOWS:["iPhone","iPad","iPod"].includes(s)&&(l=i.IOS):a&&(a.includes("Macintosh")?l=i.MAC:a.includes("Windows")?l=i.WINDOWS:a.includes("Linux")&&a.includes("X11")?l=i.LINUX:/(iPhone|iPad)/.test(a)?l=i.IOS:a.includes("Android")&&a.includes("Mobi")?l=i.ANDROID:a.includes("CrOS")&&(l=i.CHROME_OS)),l}()===i.MAC}},99017:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/files",function(){return t(43173)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(61049);function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,r.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(12539),i=t(80022);function o(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[2678,1154,844,6639,7011,4267,9266,8487,8264,7858,5499,5283,5810,553,1125,9774,2888,179],(function(){return n=99017,e(e.s=n);var n}));var n=e.O();_N_E=n}]);