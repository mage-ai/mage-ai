(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8420],{86585:function(e,n,t){"use strict";t.d(n,{Mz:function(){return c},T5:function(){return u},bf:function(){return s}});var i,r=t(82394),o=t(10503),a=t(88560),l=t(49125),c=7*l.iI,s=22,u=(l.iI,l.iI,i={},(0,r.Z)(i,a.RL.CATEGORY,o.WD),(0,r.Z)(i,a.RL.CATEGORY_HIGH_CARDINALITY,o.Rj),(0,r.Z)(i,a.RL.DATETIME,o.aw),(0,r.Z)(i,a.RL.EMAIL,o.GT),(0,r.Z)(i,a.RL.LIST,o.aV),(0,r.Z)(i,a.RL.NUMBER,o.qZ),(0,r.Z)(i,a.RL.NUMBER_WITH_DECIMALS,o.As),(0,r.Z)(i,a.RL.PHONE_NUMBER,o.LP),(0,r.Z)(i,a.RL.TEXT,o.KJ),(0,r.Z)(i,a.RL.TRUE_OR_FALSE,o.Kb),(0,r.Z)(i,a.RL.UUID,o.SS),(0,r.Z)(i,a.RL.ZIP_CODE,o.$t),i)},88560:function(e,n,t){"use strict";t.d(n,{P_:function(){return l},RL:function(){return r},Rp:function(){return c},Vg:function(){return a}});var i,r,o=t(82394);!function(e){e.CATEGORY="category",e.CATEGORY_HIGH_CARDINALITY="category_high_cardinality",e.DATETIME="datetime",e.EMAIL="email",e.LIST="list",e.NUMBER="number",e.NUMBER_WITH_DECIMALS="number_with_decimals",e.PHONE_NUMBER="phone_number",e.TEXT="text",e.TRUE_OR_FALSE="true_or_false",e.UUID="uuid",e.ZIP_CODE="zip_code"}(r||(r={}));var a=[r.NUMBER,r.NUMBER_WITH_DECIMALS],l=(r.NUMBER,r.NUMBER_WITH_DECIMALS,r.DATETIME,r.NUMBER,r.NUMBER_WITH_DECIMALS,r.CATEGORY,r.CATEGORY_HIGH_CARDINALITY,r.DATETIME,r.EMAIL,r.PHONE_NUMBER,r.TEXT,r.TRUE_OR_FALSE,r.CATEGORY,r.CATEGORY_HIGH_CARDINALITY,r.DATETIME,r.EMAIL,r.PHONE_NUMBER,r.TEXT,[r.CATEGORY,r.CATEGORY_HIGH_CARDINALITY]),c=(i={},(0,o.Z)(i,r.NUMBER,"Number"),(0,o.Z)(i,r.NUMBER_WITH_DECIMALS,"Decimal number"),(0,o.Z)(i,r.CATEGORY,"Category"),(0,o.Z)(i,r.CATEGORY_HIGH_CARDINALITY,"Category (high cardinality)"),(0,o.Z)(i,r.DATETIME,"Date/Time"),(0,o.Z)(i,r.EMAIL,"Email"),(0,o.Z)(i,r.LIST,"List"),(0,o.Z)(i,r.PHONE_NUMBER,"Phone number"),(0,o.Z)(i,r.TEXT,"Text"),(0,o.Z)(i,r.TRUE_OR_FALSE,"Boolean"),(0,o.Z)(i,r.ZIP_CODE,"Zip code"),i)},37391:function(e,n,t){"use strict";t.d(n,{nn:function(){return c},w5:function(){return u},y$:function(){return s}});var i=t(46313),r=t(23831),o=t(73942),a=t(49125),l=t(90880),c=1.25*a.iI;function s(){return"\n    // for Internet Explorer, Edge\n    -ms-overflow-style: none;\n    // for Firefox\n    scrollbar-width: none;\n    // for Chrome, Safari, and Opera\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  "}var u=(0,i.css)([""," "," "," ",""],(function(e){return"\n    ::-webkit-scrollbar {\n      height: ".concat(c,"px;\n      width: ").concat(c,"px;\n    }\n\n    ::-webkit-scrollbar-track {\n    }\n\n    ::-webkit-scrollbar-thumb {\n      ").concat((0,l.eR)(),"\n\n      background: ").concat((e.theme.background||r.Z.background).scrollbarThumb,";\n      border-radius: ").concat(o.n_,"px;\n    }\n\n    ::-webkit-scrollbar-thumb:hover {\n      background: ").concat((e.theme.background||r.Z.background).scrollbarThumbHover,";\n    }\n    ::-webkit-scrollbar-corner {\n      background: ").concat((e.theme.background||r.Z.background).scrollbarTrack,";\n    }\n  ")}),(function(e){return!e.scrollbarBorderRadiusLarge&&"\n    ::-webkit-scrollbar-track {\n      background: ".concat((e.theme.background||r.Z.background).scrollbarTrack,";\n    }\n  ")}),(function(e){return e.noScrollbarTrackBackground&&"\n    ::-webkit-scrollbar-corner {\n      background: transparent;\n    }\n    ::-webkit-scrollbar-track {\n      background: transparent;\n    }\n  "}),(function(e){return e.scrollbarBorderRadiusLarge&&"\n    ::-webkit-scrollbar {\n      border-radius: ".concat(o.TR,"px !important;\n    }\n\n    ::-webkit-scrollbar-track {\n      border-radius: ").concat(o.TR,"px !important;\n    }\n\n    ::-webkit-scrollbar-thumb {\n      border-radius: ").concat(o.TR,"px !important;\n    }\n  ")}))},1625:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return $t}});var i=t(77837),r=t(82394),o=t(12757),a=t(38860),l=t.n(a),c=t(34376),s=t(57639),u=t(82684),d=t(4673),h=t(60328),p=t(89989),m=t(92083),f=t.n(m),v=t(70001),x=t(88560),g=t(67971),b=t(47256),j=t(66872),y=t(68735),w=t(320),Z=t(93461),_=t(10919),O=t(19711),C=t(10503),P=t(46313),I=t(31969),k=t(73942),S=t(49125),T=t(90880),E=P.default.div.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-pu8csx-0"})(["overflow-y:auto;position:relative;width:100%;z-index:3;border-bottom-left-radius:","px;border-bottom-right-radius:","px;"," "," ",""],k.n_,k.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||I.Z.background).page,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.flex&&"\n    flex: 1;\n  "})),D=P.default.div.withConfig({displayName:"indexstyle__ColumnHeaderRowStyle",componentId:"sc-pu8csx-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;position:sticky;top:0;width:100%;z-index:2;"," "," ",""],k.n_,k.n_,(function(e){return"\n    background-color: ".concat((e.theme.interactive||I.Z.interactive).hoverBackground,";\n  ")}),(function(e){return!e.noBorder&&"\n    border: 1px solid ".concat((e.theme.interative||I.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.noBorder&&"\n    border-radius: 0;\n  "})),R=P.default.div.withConfig({displayName:"indexstyle__ColumnHeaderCellStyle",componentId:"sc-pu8csx-2"})([""," ",""],(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")})),M=P.default.div.withConfig({displayName:"indexstyle__RowTitleStyle",componentId:"sc-pu8csx-3"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||I.Z.background).header,";\n    border: 1px solid ").concat((e.theme.interative||I.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")})),L=P.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-pu8csx-4"})([""," "," "," ",""],(0,T.eR)(),(function(e){return"\n    background-color: ".concat((e.theme.background||I.Z.background).page,";\n    border-top: none;\n    border-bottom: none;\n  ")}),(function(e){return!e.noBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.interactive||I.Z.interactive).defaultBorder,";\n    border-left: 1px solid ").concat((e.theme.interactive||I.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||I.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.finalRow&&"\n    border-bottom-left-radius: ".concat(k.n_,"px;\n    border-bottom-right-radius: ").concat(k.n_,"px;\n  ")})),A=P.default.div.withConfig({displayName:"indexstyle__TextStyle",componentId:"sc-pu8csx-5"})(["p{cursor:pointer;}"]),N=P.default.div.withConfig({displayName:"indexstyle__RowCellStyle",componentId:"sc-pu8csx-6"})(["width:100%;z-index:0;"," "," "," ",""],(function(e){return!e.first&&"\n    border-left: 1px solid ".concat((e.theme.background||I.Z.background).page,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*S.iI,"px;\n  ")}),(function(e){return e.vanish&&"\n    border: none;\n    padding: 0 !important;\n    width: 0% !important;\n    height: 100% !important;\n    background-color: ".concat((e.theme.background||I.Z.background).page," !important;\n  ")})),H=t(66176),F=t(28598);var U=function(e){var n,t=e.cellIndex,i=e.danger,r=e.flex,o=e.render,a=e.rowGroupIndex,l=e.rowIndex,c=e.selected,s=e.small,d=e.showBackground,h=e.showProgress,p=e.value,m=e.vanish,f=(0,u.useState)(!1),v=f[0],x=f[1],b=Array.isArray(p);return n=o?o(p):"function"===typeof p?p({selected:c}):b?(0,F.jsxs)(Z.Z,{alignItems:"start",flexDirection:"row",justifyContent:"space-between",children:[(0,F.jsxs)(O.ZP,{small:s,textOverflow:!0,title:p[0],children:[v&&(0,F.jsx)(F.Fragment,{children:"".concat(p[0]," & ").concat(p.length-1," more")}),!v&&(0,F.jsx)(F.Fragment,{children:p.map((function(e){return(0,F.jsx)("div",{children:e},e)}))})]}),(0,F.jsxs)(_.Z,{onClick:function(){return x(!v)},children:[v&&(0,F.jsx)(C.K5,{muted:!0,size:2*S.iI}),!v&&(0,F.jsx)(C.ol,{muted:!0,size:2*S.iI})]})]}):h?(0,F.jsx)(g.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:(0,F.jsx)(H.Z,{danger:p<80,progress:p})}):(0,F.jsx)(O.ZP,{bold:i,danger:i,small:s,textOverflow:!0,title:p,children:p}),(0,F.jsx)(Z.Z,{flex:r,textOverflow:!0,children:(0,F.jsx)(N,{first:0===t,showBackground:d,small:s,vanish:m,children:!m&&(0,F.jsxs)(F.Fragment,{children:[n," "]})})},"cell-".concat(a,"-").concat(l,"-").concat(t,"-").concat(p))},B=t(86673),V=t(5679);var Y=function(e){var n=e.columnFlexNumbers,t=e.columnHeaders,i=e.height,r=e.isTextSelectionRequired,o=e.noBorder,a=e.onClickRow,l=e.onHoverRow,c=e.renderRowCellByIndex,s=e.rowGroupData,d=void 0===s?[]:s,h=e.selectedRowIndexes,p=e.small,m=e.flex,f=e.warnings,v=void 0===f?[]:f,x=(0,u.useMemo)((function(){return d.length}),[d]);return(0,F.jsxs)(E,{flex:m,height:i,scrollbarBorderRadiusLarge:!0,children:[(0,F.jsx)(D,{noBorder:o,children:(0,F.jsx)(g.Z,{alignItems:"center",children:t.map((function(e,t){var i=e.Icon,r=e.label;return(0,F.jsx)(Z.Z,{flex:n[t],children:(0,F.jsx)(R,{first:0===t,small:p,children:(0,F.jsxs)(g.Z,{alignItems:"center",children:[i&&(0,F.jsx)(C.Jr,{}),i&&(0,F.jsx)(B.Z,{mr:1}),(0,F.jsx)(O.ZP,{bold:!0,children:r})]})})},r)}))})}),d&&d.map((function(e,t){var i,s=e.title,u=e.rowData,d=s||t,m=[];s&&(i=(0,F.jsx)(M,{small:p,children:(0,F.jsx)(O.ZP,{bold:!0,children:s})}));var f=null===u||void 0===u?void 0:u.length;return null===u||void 0===u||u.forEach((function(e,i){var s=e.columnValues,u=e.danger,b=e.uuid,j=(null===h||void 0===h?void 0:h[0])===t&&(null===h||void 0===h?void 0:h[1])===i,y=[],w=v.find((function(e){return e.name===s[0]})),Z=w&&(0,V.HD)(s[1])?(0,V.Tz)(s[1]):s[1],O=w&&w.compare(Z,w.val);null===s||void 0===s||s.forEach((function(e,r,o){var a=null===c||void 0===c?void 0:c[r];Array.isArray(e)?y.push((0,F.jsx)(U,{cellIndex:r,flex:n[r],render:a,rowGroupIndex:t,rowIndex:i,selected:j,showBackground:i%2===1,showProgress:e[0],small:p,value:e[1]},r)):"undefined"===typeof e?(y.pop(),r=o.length+1,y.push((0,F.jsx)(U,{cellIndex:r,danger:u,flex:n[r],render:a,rowGroupIndex:t,rowIndex:i,selected:j,showBackground:i%2===1,small:p,value:e,vanish:!0},r))):y.push((0,F.jsx)(U,{cellIndex:r,danger:O||u,flex:n[r],render:a,rowGroupIndex:t,rowIndex:i,selected:j,showBackground:i%2===1,small:p,value:e},r))}));var C=(0,F.jsx)(g.Z,{textOverflow:!0,children:y});m.push((0,F.jsxs)(L,{finalRow:x-1===t&&f-1===i,hasHover:!!l,noBorder:o,onMouseEnter:function(){return null===l||void 0===l?void 0:l({rowGroupIndex:t,rowIndex:i,uuid:b})},selected:j,children:[a&&(r?(0,F.jsx)(A,{onClick:function(){return a({rowGroupIndex:t,rowIndex:i,uuid:b})},role:"cell",children:C}):(0,F.jsx)(_.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return a({rowGroupIndex:t,rowIndex:i,uuid:b})},preventDefault:!0,children:C})),!a&&C]},"row-group-".concat(d,"-row-").concat(i)))})),(0,F.jsxs)("div",{children:[i,m]},d)}))]})},z=t(26304),W=t(77555),G=t(90948),q=t(84969),X=t(65743),Q=t(86465),J=t(67778),K=t(52136),$=t(29989),ee=t(61655),ne=t(65376),te=t(48072),ie=t(84181),re=t(6154),oe=t(26226),ae=t(55378),le=t(2005),ce=t(73899),se=t(344),ue=t(31012),de=["featureMapping","height","margin","scatterPlotLabels","scatterPlotOverview","xFeature","yFeature"];function he(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function pe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?he(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):he(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var me=P.default.div.withConfig({displayName:"ScatterPlot__BeforeTextStyle",componentId:"sc-1kbdb1o-0"})(["margin-left:","px;"],S.iI/2),fe=function(e){return"".concat(e.x,",").concat(e.y)},ve=(0,ee.Z)((function(e){var n=e.data,t=e.getX,i=e.getY,r=e.height,o=e.hideTooltip,a=e.increasedXTicks,l=e.margin,c=e.numXTicks,s=e.numYTicks,d=e.showTooltip,h=e.tooltipData,p=e.tooltipLeft,m=e.tooltipTop,f=e.width,v=e.xAxisLabel,x=e.xLabelFormat,g=e.yAxisLabel,b=e.yLabelFormat,j=t||function(e){return null===e||void 0===e?void 0:e.x},y=i||function(e){return null===e||void 0===e?void 0:e.y},w=[],Z={};n.filter((function(e){return!(null==j(e)||null==y(e))})).forEach((function(e){var n=fe(e);n in Z?Z[n]=Z[n]+1:(Z[n]=1,w.push(e))}));var _=I.Z.monotone.gray,C=I.Z.content.active,P=w.map((function(e){return Number(j(e))})),k=w.map((function(e){return Number(y(e))})),T=x||function(e){return e},E=function(e){return(0,se.fR)(T(e),se.Pw)},D=b||function(e){return e},R=function(e){return(0,se.fR)(D(e),se.Xh)},M=Math.max.apply(Math,(0,W.Z)(k.map((function(e){return R(e).length}))));l.left=(M+3)*S.iI;var L=f-l.left-l.right,A=r-l.top-l.bottom,N=Math.max.apply(Math,(0,W.Z)(P))-Math.min.apply(Math,(0,W.Z)(P)),H=Math.max.apply(Math,(0,W.Z)(k))-Math.min.apply(Math,(0,W.Z)(k)),U=N/15,B=H/10,V=(0,u.useMemo)((function(){return(0,ie.Z)({domain:[Math.min.apply(Math,(0,W.Z)(P))-U,Math.max.apply(Math,(0,W.Z)(P))+U],range:[0,L]})}),[L,P]),Y=(0,u.useMemo)((function(){return(0,ie.Z)({domain:[Math.min.apply(Math,(0,W.Z)(k))-B,Math.max.apply(Math,(0,W.Z)(k))+B],nice:!0,range:[A,0]})}),[A,k]),z=(0,u.useMemo)((function(){var e=(0,re.Z)({x:function(e){return V(j(e))},y:function(e){return Y(y(e))},width:L,height:A});try{return e(w)}catch(n){}}),[L,A,V,Y]),ee=c||(f>520?a?20:10:a?10:5),oe=_,ae=(0,u.useCallback)((function(e){var n=(0,te.Z)(e);if(n){var t={x:n.x-l.left,y:n.y-l.top},i=null===z||void 0===z?void 0:z.find(t.x,t.y,100);if(i){var r=fe(i.data),o=Z[r];d({tooltipLeft:V(j(i.data)),tooltipTop:Y(y(i.data)),tooltipData:{point:i.data,numDuplicates:o}})}}}),[w,j,y,d,V,Y]);return(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)("svg",{height:r,width:f,children:[(0,F.jsx)(X.Z,{fill:"transparent",height:r,onMouseLeave:function(){return o()},onMouseMove:ae,onTouchMove:ae,onTouchStart:ae,rx:14,width:f-(l.left+l.right),x:l.left,y:0}),(0,F.jsxs)($.Z,{left:l.left,pointerEvents:"none",top:l.top,children:[(0,F.jsx)(J.Z,{height:A,pointerEvents:"none",scale:Y,stroke:_,strokeDasharray:"3,3",strokeOpacity:.4,width:L}),(0,F.jsx)(K.Z,{height:A,pointerEvents:"none",scale:V,stroke:_,strokeDasharray:"3,3",strokeOpacity:.4,width:L}),(0,F.jsx)("line",{stroke:_,x1:L,x2:L,y1:0,y2:A}),(0,F.jsx)(G.Z,{numTicks:ee,scale:V,stroke:oe,tickFormat:E,tickLabelProps:function(e){return{fill:C,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"middle"}},tickStroke:oe,top:A}),(0,F.jsx)(q.Z,{hideTicks:!0,numTicks:s,scale:Y,stroke:oe,tickFormat:R,tickLabelProps:function(){return{fill:C,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"end"}},tickStroke:oe}),w.map((function(e,n){var t=fe(e),i=Math.log(Z[t])+3.5;return(0,F.jsx)(Q.Z,{className:"dot",cx:V(j(e)),cy:Y(y(e)),r:i,fill:(null===h||void 0===h?void 0:h.point)===e?ce.hM:ce.a$},"point-".concat(e[0],"-").concat(n))}))]})]}),h&&(0,F.jsxs)(ne.Z,{left:p,top:m,offsetTop:l.top+S.iI,children:[(0,F.jsx)(O.ZP,{center:!0,small:!0,children:"".concat(v,": ").concat(E(j(null===h||void 0===h?void 0:h.point)))}),(0,F.jsx)(O.ZP,{center:!0,small:!0,children:"".concat(g,": ").concat(R(y(null===h||void 0===h?void 0:h.point)))}),h.numDuplicates>1&&(0,F.jsx)(O.ZP,{center:!0,small:!0,children:"Duplicates: ".concat(null===h||void 0===h?void 0:h.numDuplicates)})]})]})}));var xe=function(e){var n=e.featureMapping,t=e.height,i=e.margin,r=e.scatterPlotLabels,o=void 0===r?{}:r,a=e.scatterPlotOverview,l=e.xFeature,c=e.yFeature,s=(0,z.Z)(e,de),d=(0,u.useState)(l),h=d[0],p=d[1],m=(0,u.useState)(c),f=m[0],v=m[1],b=pe(pe({},{bottom:5*S.iI,left:3*S.iI,right:3*S.iI,top:3*S.iI}),i),j=Object.keys(a),y=(0,u.useMemo)((function(){return a[h]}),[h]),w=(0,u.useMemo)((function(){return a[f]}),[f]),Z=(0,u.useMemo)((function(){return null===y||void 0===y?void 0:y.map((function(e,n){return{x:e,y:null===w||void 0===w?void 0:w[n]}}))}),[y,w]),_={};return h in o&&(_.xLabelFormat=function(e){return o[h][e]},_.numXTicks=o[h].length),n[h]===x.RL.TRUE_OR_FALSE&&(_.numXTicks=1),f in o&&(_.yLabelFormat=function(e){return o[f][e]},_.numYTicks=o[f].length),n[f]===x.RL.TRUE_OR_FALSE&&(_.numYTicks=1),(0,F.jsx)(F.Fragment,{children:(0,F.jsxs)("div",{style:{display:"flex",flexDirection:"column",height:t,marginBottom:S.iI,width:"100%"},children:[(0,F.jsxs)(g.Z,{children:[(0,F.jsx)(ae.Z,{beforeIcon:(0,F.jsx)(me,{children:(0,F.jsx)(O.ZP,{children:"X"})}),color:ce.a$,label:"Feature",onChange:function(e){return p(e.target.value)},value:h,children:j.filter((function(e){return e!==f})).map((function(e){return(0,F.jsx)("option",{value:e,children:e},e)}))}),(0,F.jsx)(B.Z,{mr:2}),(0,F.jsx)(ae.Z,{beforeIcon:(0,F.jsx)(me,{children:(0,F.jsx)(O.ZP,{children:"Y"})}),color:ce.a$,label:"Feature",onChange:function(e){return v(e.target.value)},value:f,children:j.filter((function(e){return e!==h})).map((function(e){return(0,F.jsx)("option",{value:e,children:e},e)}))})]}),(0,F.jsx)("div",{style:{height:t,width:"100%"},children:(0,F.jsx)(oe.Z,{children:function(e){var n=e.width;return(0,F.jsx)(ve,pe(pe(pe({},s),_),{},{data:Z||[],height:t,margin:b,width:n,xAxisLabel:h,yAxisLabel:f}))}})})]})})},ge="M/D/YYYY",be=t(31044),je=t(24224),ye=t(33766),we=P.default.div.withConfig({displayName:"Overview__ChartStyle",componentId:"sc-1orkmzg-0"})(["border:1px solid ",";border-radius:","px;overflow:auto;margin-bottom:","px;"],ce.Wd,k.TR,S.iI*S.cd),Ze=(P.default.div.withConfig({displayName:"Overview__ChartHeaderStyle",componentId:"sc-1orkmzg-1"})([""]),P.default.div.withConfig({displayName:"Overview__HeaderStyle",componentId:"sc-1orkmzg-2"})([""," padding:","px;border-bottom:1px solid ",";border-top-left-radius:","px;border-top-right-radius:","px;"],(function(e){return"\n    background: ".concat((e.theme.background||I.Z.background).header,";\n  ")}),S.tr,ce.Wd,k.TR,k.TR)),_e=P.default.div.withConfig({displayName:"Overview__BodyStyle",componentId:"sc-1orkmzg-3"})([""," border-bottom-left-radius:","px;border-bottom-right-radius:","px;"],(function(e){return!e.noPadding&&"\n    padding: ".concat(S.tr,"px;\n    padding-bottom: ").concat(2*S.tr,"px;\n  ")}),k.TR,k.TR);function Oe(e){var n=e.children,t=e.noPadding,i=void 0!==t&&t,r=e.title;return(0,F.jsx)(we,{children:(0,F.jsxs)(g.Z,{flexDirection:"column",children:[r&&(0,F.jsx)(Ze,{children:(0,F.jsx)(O.ZP,{bold:!0,children:r})}),(0,F.jsx)(_e,{noPadding:i,children:n})]})})}function Ce(e){var n=e.left,t=e.responsive,i=e.right;return(0,F.jsxs)(g.Z,{responsive:t,children:[(0,F.jsx)(g.Z,{flex:1,children:(0,F.jsx)("div",{style:{width:"100%",height:"100%"},children:n})}),i&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(B.Z,{mr:S.cd}),(0,F.jsx)(g.Z,{flex:1,children:(0,F.jsx)("div",{style:{width:"100%",height:"100%"},children:i})})]})]})}var Pe=function(e){var n,t,i=e.features,r=e.insightsOverview,a=e.statistics,l=r.correlations,c=void 0===l?[]:l,s=r.time_series,u=r.scatter_plot,d=r.scatter_plot_labels,h=null===i||void 0===i?void 0:i.map((function(e){return e.uuid})),p=[],m=null===c||void 0===c?void 0:c.map((function(e,n){var t=e.correlations,i=e.feature.uuid;p.push({label:i,linkProps:{onClick:function(){return(0,ye.u)({column:null===i?null:h.indexOf(i)},{pushHistory:!0})}}});var r=t[0].y.map((function(e){var n=e.value;return(0,V.QV)(n)}));return r.splice(n,0,1),r})),f=(0,je.HK)(i,(function(e){return e.uuid})),x=[],y=[];null===s||void 0===s||s.forEach((function(e){var n=(0,be.Co)(e,f,{calculateAnomaly:function(e){var n=e.y,t=e.yPrevious;return t&&1.5*t.count<=n.count},getYValue:function(e){return e.count}}),t=n.distribution,i=n.rangedWithUnusualDistribution;x.push(t),y.push(i)}));var w=[],Z=[],_=[];null===i||void 0===i||i.forEach((function(e){var n=e.uuid,t=a["".concat(n,"/null_value_rate")];if("undefined"!==typeof t){var i={feature:e,value:1-t};!t||t<=.1?Z.push(i):t>=.5&&_.push(i),w.push(i)}}));var C=x.map((function(e){var n=e.data,t=e.featureUUID;return(0,F.jsx)(j.Z,{data:n.map((function(e){var n=e.isUnusual,t=e.x,i=e.xLabel,r=e.xLabelMax,o=e.xLabelMin;return[i,e.y.count,o,r,t.min,t.max,n]})),getBarColor:function(e){return(0,o.Z)(e,7)[6]?I.Z.brand.wind400:I.Z.brand.wind300},height:50*S.iI,large:!0,margin:{right:4*S.iI},renderTooltipContent:function(e){var n=(0,o.Z)(e,4),t=n[1],i=n[2],r=n[3];return(0,F.jsxs)(O.ZP,{small:!0,children:["Rows: ",t,(0,F.jsx)("br",{}),"Dates: ",i," - ",r]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,je.YC)(e,"[4]")}},t)})),P=[],k=[],T=[],E=[],D={},R=null===a||void 0===a?void 0:a.count;null===i||void 0===i||i.forEach((function(e){var n=e.uuid,t=e.columnType;D[n]=t;var i=null===a||void 0===a?void 0:a["".concat(n,"/count")];if(i){var r=a["".concat(n,"/count_distinct")],l=r/i,c=null===a||void 0===a?void 0:a["".concat(n,"/value_counts")],s={count:i,feature:e,uniquePercentage:l,uniqueValues:r};if(l>=.5?k.push(s):l<=.05&&T.push(s),c){var u=(0,je.CE)(Object.entries(c).filter((function(e){var n=(0,o.Z)(e,2),t=n[0];n[1];return null!==t&&String(t).trim().length>=1})),(function(e){return(0,o.Z)(e,2)[1]})),d=(0,o.Z)(u,2),h=d[0],p=d[1],m=p/R;s.distributionFeatureUUID=h,s.distributionPercentage=m,s.distributionValue=p,(0,be.xp)(p,i,r)&&E.push(s)}P.push(s)}}));var M=P.filter((function(e){return e.distributionPercentage}));return(0,F.jsxs)(g.Z,{flexDirection:"column",fullWidth:!0,justifyContent:"center",children:[(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Data completion",children:(0,F.jsx)(v.Z,{data:(0,je.YC)(w,"value").map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*w.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;e.y;return"".concat((0,V.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,F.jsxs)(Oe,{noPadding:_.length>=1,title:"Columns with a lot of missing values",children:[0===_.length&&(0,F.jsx)(O.ZP,{children:"All columns have a healthy amount of values."}),_.length>=1&&(0,F.jsx)(Y,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column"},{label:"% missing values"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(_.slice(0,12),"value").map((function(e){var n=e.feature,t=e.value;return{columnValues:[n.uuid,(0,V.T3)(1-t)],uuid:n.uuid}}))}],small:!0})]})}),C.length>=1&&C.map((function(e,n){var t,i,r=null===(t=s[n])||void 0===t||null===(i=t.x_metadata)||void 0===i?void 0:i.label,o=y[n];return(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Number of rows by date, column: ".concat(r),children:e}),responsive:!0,right:(0,F.jsxs)(Oe,{noPadding:o.length>=1,title:"Dates with unusual number of rows",children:[0===o.length&&(0,F.jsx)(O.ZP,{children:"There are no unusual dates."}),o.length>=1&&(0,F.jsx)(Y,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Start date"},{label:"End date"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:o.slice(0,12).map((function(e){var n=e.xLabelMax,t=e.xLabelMin,i=e.y;return{columnValues:[t,n,(0,V.x6)(i.count)],uuid:""}}))}],small:!0})]})},r)})),(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Number of unique values",children:(0,F.jsx)(v.Z,{data:(0,je.YC)(P,"uniqueValues").map((function(e){var n=e.feature;return{x:e.uniqueValues,y:n.uuid}})),height:Math.max(3*P.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,V.x6)(n)," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,F.jsxs)(Oe,{noPadding:k.length>=1,title:"Columns with a lot of unique values",children:[0===k.length&&(0,F.jsx)(O.ZP,{children:"All columns have a good amount of variation in the data."}),k.length>=1&&(0,F.jsx)(Y,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column"},{label:"% unique values"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(k.slice(0,12),"uniquePercentage",{ascending:!1}).map((function(e){var n=e.feature,t=e.uniquePercentage;return{columnValues:[n.uuid,(0,V.T3)(t)],uuid:n.uuid}}))}],small:!0})]})}),M.length>=1&&(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Distribution of values",children:(0,F.jsx)(v.Z,{data:(0,je.YC)(M,"distributionPercentage").map((function(e){var n=e.feature;return{distributionFeatureUUID:e.distributionFeatureUUID,x:e.distributionPercentage,y:n.uuid}})),height:Math.max(3*M.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.distributionFeatureUUID,t=e.x;return"".concat(n," is ").concat((0,V.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),responsive:!0,right:(0,F.jsxs)(Oe,{noPadding:E.length>=1,title:"Columns with imbalanced distribution",children:[0===E.length&&(0,F.jsx)(O.ZP,{children:"All columns have an even distribution of its values."}),E.length>=1&&(0,F.jsx)(Y,{columnFlexNumbers:[2,2,1],columnHeaders:[{label:"Column"},{label:"Most frequent value"},{label:"% of rows"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(E.slice(0,12),"distributionPercentage",{ascending:!1}).map((function(e){var n=e.feature,t=e.distributionFeatureUUID,i=e.distributionPercentage;return{columnValues:[n.uuid,t,(0,V.T3)(i)],uuid:n.uuid}}))}],small:!0})]})}),c&&(null===m||void 0===m?void 0:m.length)>=1&&(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Correlations",children:(0,F.jsx)(b.Z,{countMidpoint:0,data:m,height:8*S.iI*p.length,minCount:-1,xLabels:p,yLabels:p})})}),u&&(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Scatterplot",children:(0,F.jsx)(xe,{featureMapping:D,scatterPlotLabels:d,scatterPlotOverview:u,height:50*S.iI,margin:{left:5*S.iI},yLabelFormat:se.P5,xFeature:null===(n=i[0])||void 0===n?void 0:n.uuid,yFeature:null===(t=i[(null===i||void 0===i?void 0:i.length)-1])||void 0===t?void 0:t.uuid})})})]})},Ie=t(46990),ke=t(43313);var Se=function(e){var n,t=e.column,i=e.features,r=e.insights,a=e.statisticsByColumn,l=e.statisticsOverview,c=(0,u.useRef)(null),s=(0,u.useState)(0),d=(s[0],s[1]);(0,u.useEffect)((function(){var e,n;d(null===c||void 0===c||null===(e=c.current)||void 0===e||null===(n=e.getBoundingClientRect())||void 0===n?void 0:n.width)}),[c,d]);var h=l||{},m=null===h||void 0===h?void 0:h.count,Z=null===h||void 0===h?void 0:h["".concat(t,"/count")],_=null===h||void 0===h?void 0:h["".concat(t,"/count_distinct")],C=(0,je.HK)(i,(function(e){return e.uuid})),P=C[t]||{},k=P.uuid,T=P.columnType,E=x.RL.TRUE_OR_FALSE===T,D=x.Vg.includes(T),R=x.P_.includes(T),M=x.RL.DATETIME===T,L=r||{},A=L.charts,N=L.correlations,H=void 0===N?[]:N,U=L.time_series,z=i.map((function(e){return e.uuid})),W=(null===H||void 0===H?void 0:H.length)>=1?(0,be.LH)([{correlations:H,feature:P}]):null,G=[{label:t}],q=[[1]],X=[];W&&(null===W||void 0===W||W.map((function(e,n){var t=(0,o.Z)(e,3),i=t[1],r=t[2];G.push({label:i,linkProps:{onClick:function(){return(0,ye.u)({column:null===i?null:z.indexOf(i)},{pushHistory:!0})}}}),q.push([(0,V.QV)(r)])})),null===W||void 0===W||W.map((function(e,n,t){var i,r,o;Math.abs(t[n][2])>.5&&X.push({columnValues:[null===(i=t[n][0])||void 0===i?void 0:i.toString(),null===(r=t[n][1])||void 0===r?void 0:r.toString(),null===(o=(0,V.QV)(t[n][2]))||void 0===o?void 0:o.toString()]})})));var Q,J,K=null===A||void 0===A?void 0:A.find((function(e){var n=e.type;return Ie.o.HISTOGRAM===n})),$=K?(0,be.Co)(K,C,{calculateAnomaly:function(e){var n=e.y,t=e.yValuesAverage,i=e.yValuesStandardDeviation;return Math.abs(n.value-t)>2*i},feature:P,getYValue:function(e){return e.value}}):{},ee=$.distribution,ne=void 0===ee?null:ee,te=$.rangedWithUnusualDistribution,ie=void 0===te?null:te,re=$.unusualDistribution,oe=void 0===re?null:re,ae=Object.entries(a||{}).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{x:n[1],y:t}}));if(ne&&!E)Q=(0,F.jsx)(j.Z,{data:ne.data.map((function(e){var n=e.hideRange,t=e.isUnusual,i=e.x;return[e.xLabel,e.y.value,i.min,i.max,t,n]})),getBarColor:function(e){return(0,o.Z)(e,5)[4]?I.Z.brand.wind400:I.Z.brand.wind300},height:50*S.iI,large:!0,margin:{right:2*S.iI},noPadding:!0,renderTooltipContent:function(e){var n=(0,o.Z)(e,6),t=n[1],i=n[2],r=n[3],a=n[5];return(0,F.jsxs)(O.ZP,{small:!0,children:[a&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",t,(0,F.jsx)("br",{}),"Value: ",i]}),!a&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",t,(0,F.jsx)("br",{}),"Range: ",i," - ",r]})]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,je.YC)(e,"[2]")}},t);else if(ke.mG.includes(T)){var le=(0,je.YC)(ae,"x");Q=(0,F.jsx)(v.Z,{data:le,height:Math.max(3*le.length*S.iI,50*S.iI),renderTooltipContent:function(e){var n=e.x,t=e.y;return"".concat(t," appears ").concat((0,V.x6)(n)," times")},xNumTicks:2,ySerialize:function(e){return e.y}})}else if(E&&a)Q=(0,F.jsx)(w.Z,{data:Object.entries(a),getX:function(e){var n=(0,o.Z)(e,2),t=n[0],i=n[1];return"".concat(t," (").concat((0,V.x6)(i),")")},getY:function(e){return(0,o.Z)(e,2)[1]},height:60*S.iI});else if(M){var ce=i.filter((function(e){return e.columnType===x.RL.DATETIME})).findIndex((function(e){return e.uuid===k})),ue=(0,be.Co)(U[ce],{},{feature:{columnType:T,uuid:k}}).distribution,de=ue.data,he=ue.featureUUID;Q=(0,F.jsx)(j.Z,{data:de.map((function(e){var n=e.x,t=e.xLabel,i=e.xLabelMax,r=e.xLabelMin;return[t,e.y.count,r,i,n.min,n.max]})),getBarColor:function(e){(0,p.Z)(e);return I.Z.brand.wind300},height:50*S.iI,large:!0,renderTooltipContent:function(e){var n=(0,o.Z)(e,4),t=n[1],i=n[2],r=n[3];return(0,F.jsxs)(O.ZP,{small:!0,children:["Rows: ",t,(0,F.jsx)("br",{}),"Start: ",i,(0,F.jsx)("br",{}),"End: ",r]})},showAxisLabels:!0,showYAxisLabels:!0,sortData:function(e){return(0,je.YC)(e,"[4]")}},he)}if((null===ie||void 0===ie?void 0:ie.length)>=1)J=(0,F.jsx)(Y,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Starting value"},{label:"Ending value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:ie.map((function(e){var n=e.x,t=e.y;return{columnValues:[n.min,n.max,(0,V.x6)(t.value)],uuid:""}}))}],small:!0});else if((null===oe||void 0===oe?void 0:oe.length)>=1)J=(0,F.jsx)(Y,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:oe.map((function(e){var n=e.x,t=e.y;return{columnValues:[n.min,(0,V.x6)(t.value)],uuid:""}}))}],small:!0});else if(R){var pe=ae.reduce((function(e,n){var t=n.x,i=n.y;return(0,be.xp)(t,Z,_)&&e.push({x:t,y:i}),e}),[]);pe.length>=1&&(J=(0,F.jsx)(Y,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(pe,"x",{ascending:!1}).map((function(e){var n=e.x;return{columnValues:[e.y,n],uuid:""}}))}],small:!0}))}var me=function(e){var n=e.legendNames,t=e.serializeY,i=e.x,r=e.xMetadata,o=e.y,a=e.yAxisLabel,l=void 0===a?"Statistics":a,c=i.map((function(e,n){var i=e.max,r=e.min,a=o[n];return{x:(i-r)/2+r,y:t(a)}}));return(0,F.jsx)(y.Z,{data:c,height:60*S.iI,lineLegendNames:n,margin:{bottom:10*S.iI},noCurve:!0,renderXTooltipContent:function(e){var n=e.index,t=i[n],r=t.min,o=t.max;return(0,F.jsxs)(O.ZP,{small:!0,children:[f().unix(r).format(ge)," - ",f().unix(o).format(ge)]})},renderYTooltipContent:function(e,t){var i=e.y;return(0,F.jsxs)(O.ZP,{small:!0,children:[n[t],": ",(0,V.x6)((0,V.QV)(i[t],4))]})},xAxisLabel:r.label,xLabelFormat:function(e){return f().unix(e).format(ge)},yAxisLabel:l,yLabelFormat:se.P5})},fe=[];return null===U||void 0===U||null===(n=U.filter((function(e){var n=e.type;return Ie.o.LINE_CHART===n})))||void 0===n||n.forEach((function(e){var n=e.x,t=e.x_metadata,i=e.y,r=[{chart:me({legendNames:["Rows","Unique values","% missing values"],serializeY:function(e){return[e.count,e.count_distinct,e.null_value_rate]},x:n,xMetadata:t,y:i}),metric:"count"}];if(D)r.push({chart:me({legendNames:["Minimum","Maximum","Average","Median"],serializeY:function(e){var n=e.average,t=e.max,i=e.median;return[e.min||0,t||0,n||0,i||0]},x:n,xMetadata:t,y:i}),metric:"sum"});else if(R||E){var o,a=null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.value_counts;if(a){var l=Object.keys(a);r.push({chart:me({legendNames:l,serializeY:function(e){var n=e.value_counts;return l.map((function(e){return(null===n||void 0===n?void 0:n[e])||0}))},x:n,xMetadata:t,y:i,yAxisLabel:"Number of rows with value"}),metric:"value_counts"})}}fe.push({charts:r,column:t.label})})),(0,F.jsxs)(g.Z,{flexDirection:"column",fullWidth:!0,justifyContent:"center",children:[!Q&&0===fe.length&&0===(W||[]).length&&(0,F.jsx)(O.ZP,{bold:!0,large:!0,children:"No visualizations are currently available for this column. More visualization types will be coming soon!"}),Q&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:ke.yD[T]||ke.yD.default,children:Q})}),!E&&J&&(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{noPadding:E||!!J,title:"Values with unusual distribution",children:J})}),E&&(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{noPadding:E||!!J,children:(0,F.jsx)(Y,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Value"},{label:"Number of rows"},{label:"% of rows"}],noBorder:!0,rowGroupData:[{rowData:(0,je.YC)(Object.entries(a),(function(e){return(0,o.Z)(e,2)[1]}),{ascending:!1}).map((function(e){var n=(0,o.Z)(e,2),t=n[0],i=n[1];return{columnValues:[t,(0,V.x6)(i),(0,V.T3)(i/m)],uuid:i}}))}],small:!0})})})]}),fe.length>=1&&!M&&fe.map((function(e,n){var t=e.column,i=e.charts;return(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Statistics by date, column: ".concat(t),children:i.map((function(e,n){var t=e.chart;e.metric;return(0,F.jsx)(B.Z,{mb:4,children:t},n)}))})},n)})),(null===W||void 0===W?void 0:W.length)>=1&&(0,F.jsx)(Ce,{left:(0,F.jsx)(Oe,{title:"Correlations",children:(0,F.jsx)(b.Z,{countMidpoint:0,data:q,height:8*S.iI*G.length,minCount:-1,xLabels:[{label:t}],yLabels:G})}),responsive:!0,right:(0,F.jsx)(Oe,{noPadding:!!W,title:"Values with high correlation",children:X.length>0?(0,F.jsx)(Y,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Column"},{label:"Related column"},{label:"Correlation"}],noBorder:!0,rowGroupData:[{rowData:X}],small:!0}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(B.Z,{mb:1,ml:1,mt:1,children:(0,F.jsx)(O.ZP,{children:"There are no values with high correlation."})}),(0,F.jsx)(Y,{columnFlexNumbers:[1,1,1],columnHeaders:[],noBorder:!0,rowGroupData:[],small:!0})]})})})]})},Te=1.75,Ee=(0,P.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],Te*S.iI,1.5*S.iI,1.5*S.iI),De=P.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;width:100%;"," "," ",""],k.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||I.Z.background).page,";\n    border: 1px solid ").concat((e.theme.interactive||I.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.borderless&&"\n    border: none;\n  "})),Re=P.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||I.Z.background).header,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||I.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),Ee),Me=P.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;",""],Te*S.iI,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")})),Le=P.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],k.M8,k.YF,Te*S.iI),Ae=6.5*S.iI,Ne=6.5*S.iI;var He=function(e){var n=e.borderless,t=e.children,i=e.containerRef,r=e.contentContainerRef,o=e.footer,a=e.fullHeight,l=void 0===a||a,c=e.header,s=e.headerHeight,u=e.headerIcon,d=e.headerTitle,h=e.items,p=e.subtitle,m=14;return(d||c)&&(m-=s||Ae),o&&(m-=Ne),(0,F.jsxs)(De,{borderless:n,fullHeight:l,ref:i,children:[(c||d)&&(0,F.jsxs)(Re,{height:s,children:[c&&c,d&&(0,F.jsxs)(g.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,F.jsxs)(g.Z,{alignItems:"center",children:[u&&u,(0,F.jsx)(B.Z,{ml:u?1:0,children:(0,F.jsx)(O.ZP,{bold:!0,children:d})})]}),h&&(0,F.jsx)(F.Fragment,{children:h})]}),p&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(B.Z,{mb:2}),(0,F.jsx)(g.Z,{alignItems:"right",children:p})]})]}),(0,F.jsx)(Me,{height:l?m:null,ref:r,children:t}),o&&(0,F.jsx)(Le,{children:(0,F.jsx)(g.Z,{alignItems:"center",justifyContent:"center",children:o})})]})},Fe=t(84201),Ue=t(11754),Be=t(92506),Ve=t(95157),Ye=t(84779);var ze=function(e){var n=e.column,t=e.featureSet,i=t.metadata,r=((null===i||void 0===i?void 0:i.column_types)||{})[n],o=(0,Ve.Tx)(t,n),a=o.average,l=o.avg_string_length,c=o.avg_word_count,s=o.completeness,u=o.count,d=o.count_distinct,h=o.invalid_value_count,p=o.invalid_value_rate,m=o.invalid_values,f=o.max,v=o.max_character_count,b=o.max_word_count,j=o.median,y=o.min,w=o.min_character_count,_=o.min_word_count,C=o.mode,P=o.null_value_count,I=o.null_value_rate,k=o.outlier_count,T=o.outliers,E=o.skew,D=o.unique_value_rate,R=[{columnFlexNumbers:[2,1,2],name:"Validity",progress:!0,rate:o.validity,warning:{compare:je.Qj,val:.8}},{columnFlexNumbers:[2,1,2],name:"Completeness",progress:!0,rate:s,warning:{compare:je.Qj,val:.8}}],M=[{name:"Column type",value:x.Rp[r]||r},{name:"Total values",value:(0,V.x6)(u)},{name:"Unique values",value:(0,V.x6)(d),rate:D,warning:{compare:je.tS,val:.8}},{name:"Missing values",value:(0,V.x6)(P),rate:I,warning:{compare:je.tS,val:0}},{name:"Invalid values",value:(0,V.x6)(h),rate:p,warning:{compare:je.tS,val:0}},{name:"Mode value",value:(0,V.kE)(C)?(0,V.QV)(C):C}];x.Vg.includes(r)&&M.push({name:"Max value",value:(0,V.kE)(f)?(0,V.QV)(f):f},{name:"Min value",value:(0,V.kE)(y)?(0,V.QV)(y):y},{name:"Median value",value:(0,V.kE)(j)?(0,V.QV)(j):j},{name:"Average value",value:(0,V.kE)(a)?(0,V.QV)(a):a}),r===x.RL.TEXT&&M.push({name:"Max word count",value:(0,V.x6)(b)},{name:"Min word count",value:(0,V.x6)(_)},{name:"Average word count",value:(0,V.kE)(c)?(0,V.QV)(c):c},{name:"Max character count",value:(0,V.x6)(v)},{name:"Min character count",value:(0,V.x6)(w)},{name:"Average string length",value:(0,V.kE)(l)?(0,V.QV)(l):l}),M=M.filter((function(e){return void 0!==e.value}));var L=[{name:"Outliers",value:k},{name:"Skewness",value:null===E||void 0===E?void 0:E.toFixed(3)}],A=T&&k>0,N=m&&h>0,H=L.every((function(e){return void 0===e.value}));return(0,F.jsxs)(g.Z,{justifyContent:"center",responsive:!0,children:[(0,F.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[(0,F.jsx)(Be.Z,{stats:R,title:"Quality metrics"}),(0,F.jsx)(Be.Z,{stats:M,title:"Statistics"})]}),(0,F.jsx)(B.Z,{ml:S.cd}),(0,F.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[H?(0,F.jsx)(He,{fullHeight:!1,headerTitle:"Warnings",children:(0,F.jsx)(O.ZP,{children:"There are no warnings."})}):(0,F.jsx)(Be.Z,{stats:L,title:"Warnings"}),A&&(0,F.jsx)(Ue.Z,{alternating:!0,headerTitle:"Outliers",children:null===T||void 0===T?void 0:T.map((function(e,n){return(0,F.jsx)(Fe.Z,{children:(0,F.jsx)(O.ZP,{children:x.Vg.includes(r)?(0,Ye.Jw)(e,2):e})},"outlier_".concat(n))}))}),N&&(0,F.jsx)(B.Z,{mt:S.cd,children:(0,F.jsx)(Ue.Z,{headerTitle:"Invalid values",children:null===m||void 0===m?void 0:m.map((function(e,n){return(0,F.jsx)(Fe.Z,{last:n===m.length-1,secondary:n%2===1,children:(0,F.jsx)(O.ZP,{children:e})},"invalid_val_".concat(n))}))})})]})]})},We=t(12691),Ge=t.n(We),qe=t(83455),Xe=t(51774),Qe=t.n(Xe),Je=t(80906),Ke=t(34744),$e=t(82944),en="columnType",nn="columns",tn="user_input",rn="contains",on="==",an="@transformer_action\ndef transform(df):\n\t# Your code here ... \n\treturn df",ln={columns:{clean_column_name:{multiColumns:!0,title:"Clean column name",description:"Lowercase the column name and replace special characters with an underscore."},custom:{title:"Custom code",description:"Write your own custom cleaning function.       Add @transformer_action, then begin typing Python code inside a function.       You may refer to the current dataset as df.",code:{default:an,multiline:!0,values:tn}},fix_syntax_errors:{multiColumns:!0,title:"Fix syntax errors",description:"Fix syntactical errors to reduce the amount of noise in the data."},impute:{multiColumns:!0,title:"Impute",description:"Fill in missing values.",options:{strategy:{description:"Select how you want missing values to be filled in.",values:[{description:"Mean value",condition:{feature_attribute:en,operator:rn,value:[x.RL.NUMBER,x.RL.NUMBER_WITH_DECIMALS]},value:"average"},{description:"Median value",condition:{feature_attribute:en,operator:rn,value:[x.RL.NUMBER,x.RL.NUMBER_WITH_DECIMALS]},value:"median"},{description:"Most frequent value",value:"mode"},{description:"Use previously occurring entry in a timeseries",value:"seq"},{description:"Random value",value:"random"},{description:"Use a single value",value:"constant"}]},value:{description:"Use a constant value to fill in missing values.",condition:{options_key:"strategy",operator:on,value:"constant"},values:tn}}},remove:{multiColumns:!0,title:"Remove column",description:"Drop 1 or more columns from the dataset."},reformat:{multiColumns:!0,title:"Reformat values",description:"Change the format of values to a consistent format.",options:{reformat:{values:[{description:"Capitalize all the values using lowercase or uppercase.",value:"caps_standardization"},{description:"Remove currency symbols and convert strings into numbers.",value:"currency_to_num"},{description:"Reformat the date and time to ISO format (YYYY-MM-DD HH:mm:SS).",value:"date_format_conversion"}]},capitalization:{condition:{options_key:"reformat",operator:on,value:"caps_standardization"},values:[{value:"lowercase"},{value:"uppercase"}]}}},remove_outliers:{multiColumns:!0,title:"Remove outliers",description:"Remove rows with outliers to reduce noise in the data.",options:{method:{values:[{value:"lof",description:"Use the Local Outlier Factor algorithm"},{value:"itree",description:"Use the Isolation Forest algorithm"},{value:"auto",description:"Choose the best method automatically"}]}}}},rows:{custom:{title:"Custom code",description:"Write your own custom cleaning function.       Add @transformer_action, then begin typing Python code inside a function.       You may refer to the current dataset as df.",code:{default:an,multiline:!0,values:tn}},drop_duplicate:{title:"Drop duplicates",description:"Remove rows that have repeat values from 1 or more columns.",arguments:{description:"Select 1 or more columns that should have unique values.",values:nn},options:{keep:{description:"When duplicate rows are found, decide which row to keep.",values:[{value:"first"},{value:"last"}]}}},filter:{title:"Filter",description:"Select which rows to keep. Use Python syntax for conditional statements. For example: col1 == 1 and (col2 == 3 or col3 is None)",code:{values:tn}}}},cn=P.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-ktjgvu-0"})([""," "," ",""],(function(e){return!e.noBorder&&"\n    border-radius: ".concat(k.n_,"px;\n    border: 1px solid ").concat((e.theme.brand||I.Z.brand).water300,";\n  ")}),(function(e){return"\n    background-color: ".concat((e.theme.monotone||I.Z.monotone).white,";\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||I.Z.shadow).popup,";\n  ")})),sn=P.default.div.withConfig({displayName:"indexstyle__OptionStyle",componentId:"sc-ktjgvu-1"})([""," border-radius:","px;padding:","px;"," ",""],(0,T.eR)(),k.BG,.5*S.iI,(function(e){return"\n    border: 1px solid ".concat((e.theme.monotone||I.Z.monotone).grey200,";\n\n    &:hover {\n      background-color: ").concat((e.theme.monotone||I.Z.monotone).grey100,";\n    }\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.brand||I.Z.brand).earth500,";\n  ")}));function un(e){return rn===e?function(e,n){return n.includes(e)}:on===e?function(e,n){return e===n}:">"===e?function(e,n){return e>n}:">="===e?function(e,n){return e>=n}:"<"===e?function(e,n){return e<n}:"<="===e?function(e,n){return e<=n}:"!="===e?function(e,n){return e!==n}:function(){return!1}}function dn(e,n){var t,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3?arguments[3]:void 0,a=e.feature_attribute,l=e.operator,c=e.options_key,s=e.value,u=o||{},d=u.multiColumns;if(c)t=null===n||void 0===n||null===(i=n.action_options)||void 0===i?void 0:i[c];else if(r&&a)t=null===r||void 0===r?void 0:r[a];else if(!r&&a&&d)return!0;return un(l)(t,s)}var hn=t(91427),pn={cursorStyle:"slim",highlightActiveLine:!1,highlightGutterLine:!1,readOnly:!0,tabSize:4,useWorker:!1},mn={highlightActiveLine:!0,showGutter:!0,showLineNumbers:!0,showPrintMargin:!0,tabSize:4,useWorker:!1};function fn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function vn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fn(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xn=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(90809),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}});var gn=function(e){var n,t,i=e.actionType,a=e.axis,l=e.features,c=void 0===l?[]:l,s=e.currentFeature,d=e.featureSetId,p=e.noBorder,m=e.noHeader,f=e.onClose,v=e.onSave,x=e.payload,b=e.setPayload,j=e.shadow,y=(0,u.useContext)(P.ThemeContext),w=(0,u.useState)(null===x||void 0===x?void 0:x.action_code),Z=w[0],I=w[1],k=x.action_arguments,S=x.action_code,T=x.action_options,E=x.action_variables,D=function(e){return b(vn(vn({},x),e))},R=null===(n=a===Je.qs.ROW?ln.rows:ln.columns)||void 0===n?void 0:n[i],M=R||{},L=M.arguments,A=M.code,N=M.description,H=M.multiColumns,U=M.options,V=M.title;if(!R)return(0,F.jsx)(B.Z,{my:1,children:(0,F.jsxs)(O.ZP,{children:["There\u2019s no configuration for axis ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:a})," and action type ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:i}),".",(0,F.jsx)("br",{}),"Please add it in ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"/mage_ai/frontend/components/ActionForm/actions.ts"}),"."]})});var Y=L||{},z=(Y.condition,Y.description),G=Y.values,q=!s&&H;return(0,F.jsxs)(cn,{noBorder:p,shadow:j,children:[!m&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,F.jsxs)(B.Z,{p:2,children:[(0,F.jsx)(O.ZP,{children:V}),N&&(0,F.jsx)(O.ZP,{muted:!0,small:!0,children:N})]}),(0,F.jsx)(B.Z,{p:2,children:(0,F.jsx)(h.Z,{basic:!0,iconOnly:!0,onClick:f,padding:"0px",transparent:!0,children:(0,F.jsx)(C.x8,{muted:!0})})})]}),(0,F.jsx)(Ke.Z,{})]}),(0,F.jsxs)(B.Z,{p:!m&&2,pt:m&&2,children:[A&&(0,F.jsx)(B.Z,{mb:3,children:A.values===tn&&(0,F.jsx)(xn,{maxLines:25,minLines:6,mode:"python",onChange:function(e){var n;x.action_code=e,I(null!==(n=x.action_code)&&void 0!==n?n:S),(0,hn.RA)({actionType:i,featureSetId:d,newValue:e})},setOptions:mn,style:{backgroundColor:y.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,overflow:"auto",width:"inherit"},value:null!==S&&void 0!==S?S:null!==(t=(0,hn.jQ)({actionType:i,featureSetId:d}))&&void 0!==t?t:A.default,wrapEnabled:!0})}),(L||q)&&(0,F.jsxs)(B.Z,{mb:3,children:[(0,F.jsx)(O.ZP,{monospace:!0,children:q?"columns":"arguments"}),z&&(0,F.jsx)(O.ZP,{muted:!0,small:!0,children:z}),(nn===G||q)&&(0,F.jsx)(g.Z,{flexWrap:"wrap",children:null===c||void 0===c?void 0:c.map((function(e){var n=e.column_type,t=e.uuid,i=null===k||void 0===k?void 0:k.includes(t);return(0,F.jsx)(B.Z,{mr:1,mt:1,children:(0,F.jsx)(_.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){var e,o=vn({},E);i?delete o[t]:o[t]=(e={},(0,r.Z)(e,Je.X0.FEATURE,{column_type:n,uuid:t}),(0,r.Z)(e,"type",Je.X0.FEATURE),e);D({action_arguments:(0,W.Z)(i?(0,je.oM)(k||[],null===k||void 0===k?void 0:k.indexOf(t)):[].concat((0,W.Z)(k||[]),[t])),action_variables:o})},preventDefault:!0,children:(0,F.jsx)(sn,{selected:i,children:(0,F.jsxs)(g.Z,{alignItems:"center",children:[(0,F.jsx)(O.ZP,{children:t}),(0,F.jsx)(B.Z,{mr:1}),i&&(0,F.jsx)(C.Jr,{earth:!0})]})})})},t)}))})]}),U&&Object.entries(U).map((function(e,n){var t,i=(0,o.Z)(e,2),a=i[0],l=i[1],c=l.condition,u=l.description,d=l.values,h=null===T||void 0===T?void 0:T[a],p=[],m=!0;return c&&(m=dn(c,x,s,{multiColumns:H})),Array.isArray(d)?p.push.apply(p,(0,W.Z)(d)):nn===d||tn===d&&(t=(0,F.jsx)($e.Z,{compact:!0,fullWidth:!0,onChange:function(e){return D({action_options:vn(vn({},T),{},(0,r.Z)({},a,e.target.value))})},value:h})),m&&(0,F.jsxs)(B.Z,{mt:n>=1?2:0,children:[(0,F.jsx)(O.ZP,{monospace:!0,children:a}),u&&(0,F.jsx)(O.ZP,{muted:!0,small:!0,children:u}),p&&(0,F.jsx)(g.Z,{flexWrap:"wrap",children:p.map((function(e){var n=e.condition,t=e.description,i=e.value,o=!0;return n&&(o=dn(n,x,s,{multiColumns:H})),o&&(0,F.jsx)(B.Z,{mr:1,mt:1,title:t,children:(0,F.jsx)(_.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return D({action_options:vn(vn({},T),{},(0,r.Z)({},a,h===i?null:i))})},preventDefault:!0,children:(0,F.jsx)(sn,{selected:h===i,children:(0,F.jsxs)(g.Z,{alignItems:"center",children:[(0,F.jsxs)(O.ZP,{children:[i,t&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)("br",{}),(0,F.jsx)(O.ZP,{inline:!0,muted:!0,xsmall:!0,children:t})]})]}),(0,F.jsx)(B.Z,{mr:1}),h===i&&(0,F.jsx)(C.Jr,{earth:!0})]})})})},i)}))}),t]},a)})),(0,F.jsx)(B.Z,{mt:L||q||U?3:0,children:(0,F.jsx)(h.Z,{onClick:function(){var e={action_variables:E?vn({},E):{}};return Z&&(e.action_code=Z),v(e)},children:"Apply"})})]})]})},bn=t(47999),jn=P.default.div.withConfig({displayName:"MenuContainer__ContainerStyle",componentId:"sc-1ntdyxn-0"})(["border-radius:","px;max-height:85vh;overflow:auto;padding:","px;position:absolute;z-index:101;"," "," "," "," "," "," ",""],k.Ro,1.75*S.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||I.Z.monotone).white,";\n    box-shadow: ").concat((e.theme.shadow||I.Z.shadow).menu,";\n  ")}),(function(e){return"undefined"!==typeof e.left&&"\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    right: ".concat(e.right,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&"\n    min-width: ".concat(22*S.iI,"px;\n  ")}));var yn=function(e){var n=e.bottom,t=e.children,i=e.left,r=e.right,o=e.top,a=e.width;return(0,F.jsx)(jn,{bottom:n,left:i,right:r,top:o,width:a,children:t})};function wn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Zn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?wn(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):wn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _n=function(e){var n=e.onCloseMenu,t=e.left,i=e.linkGroups,r=e.onClick,o=e.right,a=e.top,l=e.width;return(0,F.jsx)(yn,{left:t,right:o,top:a,width:l,children:null===i||void 0===i?void 0:i.map((function(e,t){var i=e.links,o=e.uuid;return(0,F.jsxs)("div",{children:[t>=1&&(0,F.jsx)(B.Z,{my:1,px:2,children:(0,F.jsx)(Ke.Z,{})}),i.map((function(e){var t=e.afterElement,i=e.beforeIcon,o=e.label,a=e.linkProps,l=e.onClick,c=e.uuid||o,s=(0,F.jsx)(_.Z,{block:!0,fullWidth:!0,onClick:function(e){null===n||void 0===n||n(!1),null===r||void 0===r||r(e),null===l||void 0===l||l(e)},preventDefault:(r||l)&&!a,sameColorAsText:!0,children:(0,F.jsx)(B.Z,{px:"4px",py:1,children:o})},c);return a&&(s=(0,u.createElement)(Ge(),Zn(Zn({},a),{},{key:c,passHref:!0}),s)),(0,F.jsxs)(g.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,F.jsxs)(Z.Z,{alignItems:"center",flex:1,children:[i&&(0,F.jsxs)(F.Fragment,{children:[i,(0,F.jsx)(B.Z,{mr:"4px"})]}),s]}),t&&(0,F.jsx)(B.Z,{py:1,children:t})]},c)}))]},o)}))})};var On=function(e){var n=e.columnOnly,t=e.setActionPayload,i=e.setVisible,r=e.visible,a=function(e,n){t({action_type:e,axis:n}),i(!1)},l=Object.entries(ln.rows).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{label:n[1].title,onClick:function(){return a(t,Je.qs.ROW)},uuid:t}})),c=Object.entries(ln.columns).filter((function(e){var t=(0,o.Z)(e,2),i=(t[0],t[1]);return!!n||i.multiColumns})).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{label:n[1].title,onClick:function(){return a(t,Je.qs.COLUMN)},uuid:t}})),s=l.concat(c);return(0,F.jsx)(bn.Z,{disableEscape:!0,onClickOutside:function(){return i(!1)},open:r,children:(0,F.jsx)(_n,{linkGroups:[{links:n?c:s,uuid:"actions"}],right:S.iI*S.cd})})},Cn=t(86585);var Pn=function(e){var n=e.columns,t=e.featureSet,i=e.left,r=e.onClickColumn,o=e.setVisible,a=e.top,l=e.visible,c=t.metadata,s=(null===c||void 0===c?void 0:c.column_types)||{},d=[{beforeIcon:(0,F.jsx)(C.u$,{}),label:"All columns",onClick:function(){r(null),o(!1)},uuid:"all_columns"}],h=(n||[]).map((function(e){var n=s[e],t=Cn.T5[n];return{beforeIcon:(0,F.jsx)(t,{}),label:e,onClick:function(){r(e),o(!1)},uuid:e}})),p=(0,u.useMemo)((function(){return(0,je.YC)(h,(function(e){return e.uuid}))}),[h]);return(0,F.jsx)(bn.Z,{disableEscape:!0,onClickOutside:function(){return o(!1)},open:l,children:(0,F.jsx)(_n,{left:i,linkGroups:[{links:d.concat(p),uuid:"columns"}],top:a})})},In=P.default.div.withConfig({displayName:"ColumnListSidebarstyle__ColumnRowStyle",componentId:"sc-1c5ywj7-0"})([""," ",""],(function(e){return!e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||I.Z.monotone).grey200,";\n\n    &:hover {\n      background-color: ").concat((e.theme.accent||I.Z.accent).cyanTransparent,";\n    }\n  ")}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.accent||I.Z.accent).cyanTransparent,";\n    border-bottom: 1px solid ").concat((e.theme.accent||I.Z.accent).cyan,";\n  ")}));var kn=function(e){var n=e.columns,t=void 0===n?[]:n,i=e.featureSet,r=e.onClickColumn,o=e.selectedColumn,a=i.metadata,l=(null===a||void 0===a?void 0:a.column_types)||{},c=[{Icon:C.u$,label:function(){return"All columns"},uuid:null}].concat(null===t||void 0===t?void 0:t.map((function(e){var n=l[e];return{Icon:Cn.T5[n],label:function(){return e},uuid:e}}))),s=(0,u.useMemo)((function(){return(0,je.YC)(c,(function(e){return e.uuid}))}),[c]);return(0,F.jsx)(g.Z,{flexDirection:"column",children:s.map((function(e){var n=e.Icon,t=e.kicker,i=e.label,a=e.uuid;return(0,F.jsx)(_.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return r(a)},preventDefault:!0,children:(0,F.jsx)(In,{selected:o===a||!(o||a),children:(0,F.jsxs)(B.Z,{px:2,py:1,children:[t&&(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsxs)(g.Z,{alignItems:"center",children:[!n&&(0,F.jsx)(B.Z,{mr:3}),(0,F.jsx)(O.ZP,{bold:!0,small:!0,children:t()})]})}),(0,F.jsxs)(g.Z,{alignItems:"center",children:[n&&(0,F.jsx)("div",{style:{height:2*S.iI,width:2*S.iI},children:(0,F.jsx)(n,{size:2*S.iI})}),(0,F.jsx)(B.Z,{mr:n?1:3}),(0,F.jsx)(O.ZP,{children:i()})]})]})})},a||"overview")}))})},Sn=35*S.iI,Tn=50*S.iI,En=P.default.div.withConfig({displayName:"MultiColumnstyle__HeaderStyle",componentId:"sc-n3qsrr-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||I.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Sn,"px;\n    width: calc(100% - ").concat(Sn,"px);\n  ")})),Dn=P.default.div.withConfig({displayName:"MultiColumnstyle__TabStyle",componentId:"sc-n3qsrr-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],k.n_,k.n_,1*S.iI,2*S.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||I.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||I.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||I.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*S.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||I.Z.monotone).white,";\n  ")})),Rn=P.default.aside.withConfig({displayName:"MultiColumnstyle__BeforeStyle",componentId:"sc-n3qsrr-2"})(["height:100%;left:0;position:fixed;width:","px;z-index:1;",""],Sn,(function(e){return"\n    background-color: ".concat((e.theme.monotone||I.Z.monotone).grey100,";\n  ")})),Mn=P.default.div.withConfig({displayName:"MultiColumnstyle__BeforeInnerStyle",componentId:"sc-n3qsrr-3"})(["height:100%;overflow:auto;"]),Ln=P.default.div.withConfig({displayName:"MultiColumnstyle__MainContentStyle",componentId:"sc-n3qsrr-4"})(["position:fixed;z-index:1;"," "," ",""],(function(e){return!e.beforeVisible&&"\n    width: calc(100% - ".concat(Tn,"px);\n  ")}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Sn,"px;\n    width: calc(100% - ").concat(Sn+Tn,"px);\n  ")}),(function(e){return e.headerOffset&&"\n    height: calc(100% - ".concat(e.headerOffset,"px);\n    top: ").concat(e.headerOffset,"px;\n  ")})),An=P.default.div.withConfig({displayName:"MultiColumnstyle__MainContentInnerStyle",componentId:"sc-n3qsrr-5"})(["height:100%;overflow:auto;"]),Nn=P.default.aside.withConfig({displayName:"MultiColumnstyle__AsideStyle",componentId:"sc-n3qsrr-6"})(["right:0;position:fixed;width:","px;z-index:1;",""],Tn,(function(e){return e.headerOffset&&"\n    height: calc(100% - ".concat(e.headerOffset,"px);\n    top: ").concat(e.headerOffset,"px;\n  ")})),Hn=P.default.div.withConfig({displayName:"MultiColumnstyle__AsideInnerStyle",componentId:"sc-n3qsrr-7"})(["height:100%;overflow:auto;"]),Fn=P.default.div.withConfig({displayName:"MultiColumnstyle__AsidePopoutStyle",componentId:"sc-n3qsrr-8"})(["margin-top:","px;position:fixed;right:","px;width:","px;z-index:3;"],S.cd*S.iI,S.cd*S.iI,1.3*Tn),Un=t(24141);var Bn=function(e){var n,t,i=e.after,r=e.before,o=e.children,a=e.header,l=e.mainContentRef,c=e.onTabClick,s=e.selectedTab,d=e.tabs,h=((0,Un.i)().width,(0,u.useRef)(null)),p=((null===h||void 0===h||null===(n=h.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height;return(0,F.jsxs)(F.Fragment,{children:[r&&(0,F.jsx)(Rn,{children:(0,F.jsx)(Mn,{children:r})}),(0,F.jsxs)(En,{beforeVisible:!!r,ref:h,children:[a,d&&(0,F.jsx)(B.Z,{px:S.cd,children:(0,F.jsx)(g.Z,{children:d.map((function(e,n){return(0,F.jsx)(_.Z,{block:!0,bold:s===e,noHoverUnderline:!0,noOutline:!0,onClick:function(){return c(e)},preventDefault:!0,children:(0,F.jsx)(Dn,{first:0===n,selected:s===e,children:e})},e)}))})})]}),(0,F.jsx)(Ln,{beforeVisible:!!r,headerOffset:p,ref:l,children:(0,F.jsx)(An,{children:o})}),(0,F.jsx)(Nn,{headerOffset:p,children:(0,F.jsx)(Hn,{children:i})})]})},Vn=t(36770),Yn=t(16910),zn=["beforeTitleElement","children","contentOverflowVisible","first","hideScrollbar","highlighted","last","maxHeight","noBackground","noPaddingContent","onClick","onEntered","onExited","title","titleXPadding","visible","visibleCount","visibleHighlightDisabled"];function Wn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Gn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Wn(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Wn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var qn=P.default.div.withConfig({displayName:"AccordionPanel__AccordionPanelStyle",componentId:"sc-sf242a-0"})([".accordion-panel-chevron-right-exit-done{transform:rotate(0deg);transition:all 200ms;}.accordion-panel-chevron-right-enter-active{transform:rotate(90deg);transition:all 200ms;}.accordion-panel-chevron-right-enter-done,.accordion-panel-chevron-right-enter-done-visible{transform:rotate(90deg);transition:all 300ms;}.accordion-panel-chevron-right-exit{transform:rotate(0deg);transition:all 300ms;}.accordion-panel-content-enter{display:block;max-height:0px;overflow:hidden;transition:max-height 400ms ease-in-out;}.accordion-panel-content-enter-active{","}.accordion-panel-content-enter-done{display:block;}.accordion-panel-content-exit{display:block;"," overflow:hidden;}.accordion-panel-content-exit-active{max-height:0px;transition:max-height 300ms cubic-bezier(0,1,0,1);}.accordion-panel-content-exit-done{display:none;}"],(function(e){return e.maxHeight&&"\n      max-height: ".concat(e.maxHeight,"px;\n    ")}),(function(e){return e.maxHeight&&"\n      max-height: ".concat(e.maxHeight,"px;\n    ")})),Xn=P.default.a.withConfig({displayName:"AccordionPanel__TitleStyle",componentId:"sc-sf242a-1"})([""," display:block;position:relative;padding:","px ","px;z-index:1;"," "," "," "," "," "," ",""],_.R,2.5*S.iI,2*S.iI,(function(e){return!e.last&&e.visible&&"\n    border-bottom: 1px solid ".concat((e.theme.interactive||I.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.first&&"\n    border-top-left-radius: ".concat(k.n_,"px;\n    border-top-right-radius: ").concat(k.n_,"px;\n  ")}),(function(e){return e.last&&!e.visible&&"\n    border-bottom-left-radius: ".concat(k.n_,"px;\n    border-bottom-right-radius: ").concat(k.n_,"px;\n  ")}),(function(e){return"\n    &:hover,\n    &:focus {\n      outline: none;\n    }\n\n    ".concat((0,T.Kl)(e),"\n  ")}),(function(e){return"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||I.Z.interactive).hoverBackground,";\n    }\n\n    &:active {\n      background-color: ").concat((e.theme.interactive||I.Z.interactive).activeOverlay,";\n    }\n  ")}),(function(e){return!e.visible&&"\n    background-color: ".concat((e.theme.background||I.Z.background).header,";\n  ")}),(function(e){return e.titleXPadding&&"\n    padding-left: ".concat(e.titleXPadding,"px;\n    padding-right: ").concat(e.titleXPadding,"px;\n  ")})),Qn=P.default.div.withConfig({displayName:"AccordionPanel__ContentStyle",componentId:"sc-sf242a-2"})(["padding-left:","px;padding-right:","px;"," "," "," "," "," ",""],2*S.iI,2*S.iI,(function(e){return e.hideScrollbar&&"\n    ::-webkit-scrollbar {\n      display: none;\n    }\n  "}),(function(e){return!e.visible&&"\n    display: none;\n  "}),(function(e){return!e.contentOverflowVisible&&"\n    overflow-y: auto;\n  "}),(function(e){return e.contentOverflowVisible&&"\n    overflow-y: visible;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,"px;\n  ")}),(function(e){return e.noPaddingContent&&"\n    padding: 0;\n  "})),Jn=P.default.div.withConfig({displayName:"AccordionPanel__ContentInnerStyle",componentId:"sc-sf242a-3"})(["padding-bottom:","px;padding-top:","px;",""],2*S.iI,2*S.iI,(function(e){return e.noPaddingContent&&"\n    padding: 0;\n  "})),Kn=function(e,n){var t=e.beforeTitleElement,i=e.children,r=e.contentOverflowVisible,o=e.first,a=e.hideScrollbar,l=e.highlighted,c=e.last,s=e.maxHeight,u=void 0===s?1e3:s,d=e.noBackground,h=e.noPaddingContent,p=e.onClick,m=e.onEntered,f=e.onExited,v=e.title,x=e.titleXPadding,b=e.visible,j=e.visibleCount,y=e.visibleHighlightDisabled,w=(0,z.Z)(e,zn);return(0,F.jsxs)(qn,Gn(Gn({},w),{},{maxHeight:u,children:[(0,F.jsx)(Xn,{first:o,href:"#",last:c,noHoverUnderline:!0,onClick:function(e){e.preventDefault(),p&&p(e)},onKeyPress:function(e){" "===e.key&&p&&p(e)},titleXPadding:x,visible:b&&!y,children:(0,F.jsxs)(g.Z,{alignItems:"center",children:[(0,F.jsx)(Yn.Z,{classNames:"accordion-panel-chevron-right",in:b,timeout:400,children:(0,F.jsx)(Z.Z,{className:b&&0===j&&"accordion-panel-chevron-right-enter-done-visible",children:(0,F.jsx)(C.ol,{default:!0})})}),(0,F.jsx)(B.Z,{ml:1,children:(0,F.jsxs)(g.Z,{alignItems:"center",children:[t,t&&(0,F.jsx)(B.Z,{ml:1}),(0,F.jsx)(O.ZP,{bold:!0,default:!b,wind:l,children:v})]})})]})}),(0,F.jsx)(Yn.Z,{classNames:"accordion-panel-content",in:b,onEntered:function(e){return m&&m(e)},onExited:function(e){return f&&f(e)},timeout:300,children:(0,F.jsx)(Qn,{contentOverflowVisible:r,hideScrollbar:a,maxHeight:u,noBackground:d,noPaddingContent:h,visible:b,children:(0,F.jsx)(Jn,{noPaddingContent:h,ref:n,children:i})})})]}))},$n=u.forwardRef(Kn),et=["activeItemIndex","children","onClick","showDividers","visibleMapping","visibleMappingForced"];function nt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function tt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?nt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):nt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var it=P.default.div.withConfig({displayName:"Accordion__AccordionStyle",componentId:"sc-1xr4nou-0"})(["border-radius:","px;overflow:hidden;border-width:1px;border-style:solid;"," ",""],k.n_,(function(e){return!e.highlighted&&"\n    border-color: ".concat((e.theme.interactive||I.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.highlighted&&"\n    border-color: ".concat((e.theme.brand||I.Z.brand).wind400,";\n  ")})),rt=P.default.div.withConfig({displayName:"Accordion__AccordionPanelContainerStyle",componentId:"sc-1xr4nou-1"})([""]),ot=$n,at=function(e){var n=e.activeItemIndex,t=e.children,i=e.onClick,o=e.showDividers,a=e.visibleMapping,l=e.visibleMappingForced,c=(0,z.Z)(e,et),s=(0,u.useState)(a||{}),d=s[0],h=s[1],p=(0,u.useState)({}),m=p[0],f=p[1],v=tt(tt({},d),l);return(0,F.jsx)(it,tt(tt({},c),{},{children:u.Children.map(t,(function(e,a){var l=a===(t||[]).length-1,s=v[a];return(0,F.jsxs)("div",{children:[(0,F.jsx)(rt,{index:a,showDividers:o,children:u.cloneElement(e,tt(tt({},c),{},{first:0===a,last:l,onClick:function(){var e;f(tt(tt({},m),{},(0,r.Z)({},a,m[a]?m[a]+1:1))),e=tt(tt({},v),{},(0,r.Z)({},a,!s)),h(e),i&&i(e)},visible:s,visibleCount:m[a]||0,visibleHighlightDisabled:"undefined"!==typeof n&&a!==n}))}),o&&(0,F.jsx)(Ke.Z,{})]},a)}))}))},lt=P.default.a.withConfig({displayName:"CsvExport__HiddenLink",componentId:"sc-1jl4kjo-0"})(["visibility:hidden;"]);var ct=function(e){var n=e.csvData,t=e.filename,i=void 0===t?"export.csv":t,r=e.linkRef,o=new Blob([n],{type:"text/csv;charset=utf-8;"}),a=URL.createObjectURL(o);return(0,F.jsx)(lt,{download:i,href:a,ref:r,target:"_self"})},st=t(54283),ut=t(6753);function dt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ht(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?dt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):dt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var pt=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(90809),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}}),mt=2*S.iI,ft=function(e){var n=e.action,t=e.border,i=e.features,a=e.featureIdMapping,l=e.idx,c=e.isLoading,s=e.link,d=e.onClose,p=e.saveAction,m=e.setSuggestionPreviewIdx,f=e.showIdx,v=e.suggestionPreviewIdx,x=(0,u.useContext)(P.ThemeContext),b=(0,u.useMemo)((function(){return i.map((function(e){return e.uuid}))}),[i]),j=n.action_payload,y=n.message,w=n.preview_results,I=n.status,k=n.title,T=j.action_arguments,E=j.action_code,D=j.action_options,R=j.action_type,M=(null===w||void 0===w?void 0:w.removed_row_indices)||[];(0,u.useEffect)((function(){return q(j)}),[j]);var L=(null===T||void 0===T?void 0:T.length)||0,A=D?Object.keys(D).length:0,N=(0,u.useState)(!1),H=N[0],U=N[1],V=(0,u.useState)(!1),Y=V[0],z=V[1],W=(0,u.useState)(j),G=W[0],q=W[1],X=Y?T:null===T||void 0===T?void 0:T.slice(0,5),Q=null===X||void 0===X?void 0:X.map((function(e){return(0,F.jsx)("span",{children:e in a?(0,F.jsx)(_.Z,{noOutline:!0,onClick:function(){return(0,ye.u)({column:b.indexOf(e)},{pushHistory:!0})},preventDefault:!0,secondary:!0,children:(0,F.jsx)(O.ZP,{maxWidth:30*S.iI,monospace:!0,secondary:!0,title:e,children:e})}):(0,F.jsx)(O.ZP,{color:x.monotone.grey400,maxWidth:30*S.iI,monospace:!0,title:e,children:e})},e)}));return(0,F.jsxs)(Fe.Z,{border:t,flexStart:!0,children:[s&&(0,F.jsxs)(B.Z,{mr:2,children:[c&&(0,F.jsx)(st.Z,{small:!0}),!c&&!H&&(0,F.jsx)(_.Z,{bold:!0,noHoverUnderline:!0,onClick:s,preventDefault:!0,children:"Apply"})]}),f&&(0,F.jsx)(B.Z,{mr:2,children:(0,F.jsx)(O.ZP,{children:l+1})}),(0,F.jsxs)(Z.Z,{flex:1,flexDirection:"column",children:[(0,F.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,F.jsxs)(O.ZP,{bold:!0,inline:!0,children:[k,L>0&&": "]}),(0,F.jsxs)(Z.Z,{children:[R===Je.Q0.FILTER&&I!==Je.rD.COMPLETED&&M.length>0&&(0,F.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){v===l?m(null):(m(l),(0,ye.u)((0,r.Z)({},ut.yg,ut.jh),{pushHistory:!0}))},title:"Preview",children:(0,F.jsx)(C.Db,{highlight:l===v,muted:!0,size:mt})}),(0,F.jsx)(B.Z,{pr:1}),p&&(0,F.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return U(!H)},title:"Edit",children:(0,F.jsx)(C.I8,{black:H,muted:!0,size:mt})})]})]}),Q,L>5&&(0,F.jsx)(_.Z,{noOutline:!0,onClick:function(){return z(!Y)},secondary:!0,children:(0,F.jsx)(O.ZP,{bold:!0,secondary:!0,children:Y?(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(C.a2,{secondary:!0,size:10}),"\xa0 Show less"]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(C.K5,{secondary:!0,size:10}),"\xa0",L-5," more"]})})}),y&&(0,F.jsx)(O.ZP,{muted:!0,small:!0,children:y}),!y&&D&&(0,F.jsx)(g.Z,{children:Object.entries(D).map((function(e,n){var t=(0,o.Z)(e,2),i=t[0],r=t[1];return(0,F.jsxs)(O.ZP,{inline:!0,muted:!0,small:!0,children:[(0,F.jsx)(O.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:i}),": ",r,A>=2&&n!==A-1&&(0,F.jsx)(F.Fragment,{children:",\xa0"})]},i)}))}),E&&!H&&(0,F.jsx)(pt,{maxLines:25,mode:"python",setOptions:pn,style:{backgroundColor:x.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,overflow:"auto",width:"inherit"},value:E,wrapEnabled:!0}),H&&(0,F.jsx)(gn,{actionType:R,axis:null===G||void 0===G?void 0:G.axis,features:i,noBorder:!0,noHeader:!0,onSave:function(e){return p({action_payload:ht(ht({},G),e)})},payload:G,setPayload:q})]}),d&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsx)(B.Z,{mr:1}),c&&(0,F.jsx)(st.Z,{small:!0}),!c&&(0,F.jsx)(h.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,F.jsx)(C.x8,{muted:!0})})]})]})},vt=t(54626),xt=t(96510);var gt=function(e){var n,t,i=e.addAction,r=e.featureSet,a=e.isLoading,l=e.removeAction,c=e.setSuggestionPreviewIdx,s=e.suggestionPreviewIdx,d=e.suggestions,p=(0,u.useRef)(null),m=(0,u.useState)(!1),f=m[0],v=m[1],x=(0,u.useState)(null),g=x[0],b=x[1],j=r||{},y=j.insights,w=j.metadata,Z=(j.pipeline||{}).actions,_=(null===y||void 0===y||null===(n=y[0])||void 0===n?void 0:n.map((function(e){return e.feature})))||[],O=(0,u.useMemo)((function(){return Array.isArray(Z)?null===Z||void 0===Z?void 0:Z.length:0}),[Z]),C=(0,u.useMemo)((function(){return(0,Ve.vI)(r)}),[r]),P=Array.isArray(Z)&&(null===Z||void 0===Z?void 0:Z.length)>=1,I=(0,qe.Db)(vt.ZP.downloads.feature_sets.useCreate(null===r||void 0===r?void 0:r.id),{onSuccess:function(e){e.error?function(e){var n=(0,xt.nU)(e),t=n.code,i=n.messages;alert((null===i||void 0===i?void 0:i[0])||t)}(e):e.data?(b(e.data),v(!0)):alert("CSV download failed, please try again.")}}),k=(0,o.Z)(I,2),T=k[0],E=k[1].isLoading;(0,u.useEffect)((function(){null!==p&&void 0!==p&&p.current&&f&&(p.current.click(),v(!1))}),[f,v]);var D=(null===w||void 0===w||null===(t=w.name)||void 0===t?void 0:t.replace(/ /g,"_"))||"cleaned_dataset";return(0,F.jsxs)(F.Fragment,{children:[P&&(0,F.jsx)(B.Z,{mb:2,children:null===Z||void 0===Z?void 0:Z.map((function(e,n){var t=e.title,i=e.message;return(0,F.jsx)(B.Z,{mt:n>=1?1:0,children:(0,F.jsx)(ft,{action:e,border:!0,featureIdMapping:C,features:_,idx:n,isLoading:a,onClose:O-1===n?function(){return l(e)}:null,showIdx:!0})},"".concat(n,"-").concat(i,"-").concat(t))}))}),(0,F.jsxs)(B.Z,{mb:S.cd,children:[g&&(0,F.jsx)(ct,{csvData:g,filename:"".concat(D,".csv"),linkRef:p}),(0,F.jsx)(h.Z,{loading:a||E,onClick:function(){return T()},children:"Download dataset"})]}),(null===d||void 0===d?void 0:d.length)>=1&&(0,F.jsx)(at,{highlighted:!0,visibleMapping:{0:!0},children:(0,F.jsx)(ot,{maxHeight:99999,noBackground:!0,noPaddingContent:!0,title:"".concat(d.length," suggested actions"),children:d.map((function(e,n){return(0,F.jsx)(ft,{action:e,featureIdMapping:C,features:_,idx:n,isLoading:a,link:function(){return i(e)},saveAction:i,setSuggestionPreviewIdx:c,suggestionPreviewIdx:s},"".concat(n,"-").concat(e.title))}))})})]})},bt=t(32151);function jt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function yt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?jt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):jt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var wt=function(e){var n,t,i,a=e.children,l=e.columnsVisible,c=e.featureSet,s=e.fetchFeatureSet,d=e.fetchFeatureSetOriginal,p=e.hideColumnsHeader,m=e.mainContentRef,f=e.onTabClick,v=e.refLoadingBar,x=e.selectedColumnIndex,b=e.selectedTab,j=e.setErrorMessages,y=e.setSuggestionPreviewIdx,w=e.suggestionPreviewIdx,P=e.tabs,I=(0,u.useState)(!1),k=I[0],T=I[1],E=(0,u.useState)(!1),D=E[0],R=E[1],M=(0,u.useRef)(null),L=c||{},A=L.id,N=L.metadata,H=L.pipeline,U=L.suggestions,V=((null===c||void 0===c?void 0:c.sample_data)||{}).columns,Y=null===V||void 0===V?void 0:V[Number(x)],z=Array.isArray(null===H||void 0===H?void 0:H.actions)?null===H||void 0===H?void 0:H.actions:[],G=(0,u.useMemo)((function(){return Y?(0,bt.Mh)(U,Y):U}),[Y,U]),q=(N||{}).column_types,X=Object.entries((null===c||void 0===c||null===(n=c.metadata)||void 0===n?void 0:n.column_types)||{}).map((function(e){var n=(0,o.Z)(e,2),t=n[0];return{columnType:n[1],uuid:t}})).map((function(e){return{column_type:e.columnType,uuid:e.uuid}})),Q=(0,u.useState)(null),J=Q[0],K=Q[1],$=null===J||void 0===J?void 0:J.action_type;(0,u.useEffect)((function(){K(null)}),[x,K]);var ee=(0,qe.Db)(vt.ZP.pipelines.useUpdate(null===H||void 0===H?void 0:H.id),{onSuccess:function(e){return(0,xt.wD)(e,{callback:function(e){var n,t;return ae(),null===v||void 0===v||null===(n=v.current)||void 0===n||null===(t=n.complete)||void 0===t||t.call(n),(0,hn.RA)({actionType:Je.Q0.CUSTOM,featureSetId:String(A),newValue:null}),d(),s(yt(yt({},c),{},{pipeline:e}))},onErrorCallback:function(e){var n,t,i=e.error,r=i.errors,o=i.message;null===v||void 0===v||null===(n=v.current)||void 0===n||null===(t=n.complete)||void 0===t||t.call(n);var a=[];o&&a.push.apply(a,(0,W.Z)(o.split("\n"))),r&&a.push.apply(a,(0,W.Z)(r)),a.length>=1&&(null===j||void 0===j||j(a))}})}}),ne=(0,o.Z)(ee,2),te=ne[0],ie=ne[1].isLoading,re=function(){var e,n;null===j||void 0===j||j(null),null===v||void 0===v||null===(e=v.current)||void 0===e||null===(n=e.continuousStart)||void 0===n||n.call(e)},oe=function(e){re();var n,t=(0,W.Z)(z);Y?t.push(yt(yt({},e),{},{action_payload:yt(yt({},e.action_payload),{},{action_arguments:[Y],action_variables:(0,r.Z)({},Y,(n={},(0,r.Z)(n,Je.X0.FEATURE,{column_type:q[Y],uuid:Y}),(0,r.Z)(n,"type",Je.X0.FEATURE),n))})})):t.push(e);y(null),te(yt(yt({},H),{},{actions:t}))},ae=function(){return K({})},le=function(e){return(0,ye.u)({column:null===e?null:V.indexOf(e)},{pushHistory:!0})},ce=(null===M||void 0===M||null===(t=M.current)||void 0===t||null===(i=t.getBoundingClientRect)||void 0===i?void 0:i.call(t))||{},se=ce.left,ue=ce.top,de=se-(l?Sn:0),he=ue+28;return(0,F.jsx)(Bn,{after:(0,F.jsx)(B.Z,{p:S.cd,children:c&&(0,F.jsx)(gt,{addAction:oe,featureSet:c,isLoading:ie,removeAction:function(e){re(),y(null);var n=z.findIndex((function(n){return n.id===e.id}));te(yt(yt({},H),{},{actions:(0,je.oM)(z,n)}))},removeSuggestion:function(e){return console.log(e)},setSuggestionPreviewIdx:y,suggestionPreviewIdx:w,suggestions:G})}),before:l&&(0,F.jsx)(B.Z,{mt:S.cd,children:(0,F.jsx)(kn,{columns:V,featureSet:c,onClickColumn:le,selectedColumn:Y})}),header:(0,F.jsxs)(B.Z,{p:S.cd,children:[(0,F.jsx)(B.Z,{mb:2,children:(0,F.jsxs)(g.Z,{justifyContent:p?"flex-end":"space-between",children:[!p&&(0,F.jsx)(_.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return(0,ye.u)({show_columns:l?0:1})},preventDefault:!0,children:(0,F.jsxs)(g.Z,{alignItems:"center",children:[(0,F.jsx)(C.sg,{primary:!l,size:2*S.iI}),(0,F.jsx)(B.Z,{mr:1}),(0,F.jsx)(O.ZP,{bold:!0,primary:!l,children:l?"Hide columns":"Show columns"})]})}),(0,F.jsxs)(g.Z,{alignItems:"center",children:[(0,F.jsxs)(_.Z,{block:!0,href:"https://www.mage.ai/chat",openNewWindow:!0,verticalAlignContent:!0,children:[(0,F.jsx)(C.en,{primary:!0,size:2*S.iI}),"\xa0 Help and support"]}),(0,F.jsx)(B.Z,{mr:3}),(0,F.jsx)(Ge(),{as:"/datasets/".concat(null===c||void 0===c?void 0:c.id,"/export"),href:"/datasets/[...slug]",passHref:!0,children:(0,F.jsxs)(_.Z,{block:!0,verticalAlignContent:!0,children:[(0,F.jsx)(C.II,{primary:!0,size:2*S.iI}),"\xa0 Export data pipeline"]})})]})]})}),(0,F.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,F.jsx)(Vn.Z,{featureSet:c,ref:M,setColumnListMenuVisible:R}),(0,F.jsx)(Pn,{columns:V,featureSet:c,left:de,onClickColumn:le,setVisible:R,top:he,visible:D}),(0,F.jsxs)(Z.Z,{children:[(0,F.jsx)(h.Z,{fullWidth:!0,onClick:function(){return T(!0)},primary:!0,children:"New action"}),(0,F.jsx)(On,{columnOnly:!!Y,setActionPayload:K,setVisible:T,visible:k}),(0,F.jsx)(Fn,{children:$&&(0,F.jsx)(gn,{actionType:$,axis:null===J||void 0===J?void 0:J.axis,currentFeature:Y?{columnType:q[Y],uuid:Y}:null,featureSetId:String(A),features:Y?null:X,onClose:ae,onSave:function(e){var n,t=null===(n=(null===J||void 0===J?void 0:J.axis)===Je.qs.ROW?ln.rows:ln.columns)||void 0===n?void 0:n[$],i=null===t||void 0===t?void 0:t.title;oe({action_payload:yt(yt(yt({},J),e),{},{action_type:$}),title:i})},payload:J,setPayload:K,shadow:!0})})]})]})]}),mainContentRef:m,onTabClick:f,selectedTab:b,tabs:P,children:(0,F.jsx)(B.Z,{p:S.cd,children:a})})},Zt=t(62976),_t=t(19537),Ot=t(66166),Ct=t(59e3);var Pt=function(e){var n,t,i,o,a,l=e.featureSet,c=e.fetchFeatureSet,s=e.selectedColumnIndex,p=(0,u.useRef)(null),m=(0,u.useRef)(null),f=vt.ZP.versions.feature_sets.detail(null===l||void 0===l?void 0:l.id,"0"),v=f.data,b=f.mutate,j=v?(0,Ve.Ln)(v):{},y=(0,u.useState)(null),w=y[0],_=y[1],P=(0,Un.i)().width,k=(0,Ot.Z)(P),T=(0,u.useState)(null),E=T[0],D=T[1],R=(0,Ct.iV)(),M=R.show_columns,L=R[ut.yg],A=L?Array.isArray(L)?L:[L]:[],N=(0,u.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,ye.u)((0,r.Z)({},ut.yg,e),{pushHistory:n})}),[A]);(0,u.useEffect)((function(){0===A.length&&N(ut.mW,!1)}),[N,A]),(0,u.useEffect)((function(){"undefined"===typeof M&&P>=ke.kY&&(0,ye.u)({show_columns:1})}),[M,P]);var H=l||{},U=H.insights,V=H.metadata,Y=H.statistics,z=void 0===Y?{}:Y,W=H.suggestions,G=void 0===W?[]:W,q=(V||{}).column_types,X=j||{},Q=X.metadata,J=X.statistics,K=null===Q||void 0===Q?void 0:Q.column_types,$=(0,bt.v0)({latestStatistics:z,versionStatistics:J}),ee=(null===l||void 0===l?void 0:l.sample_data)||{},ne=ee.columns,te=ee.rows,ie=null===ne||void 0===ne?void 0:ne[Number(s)],re=(0,u.useMemo)((function(){return ie?[ie]:ne}),[ne,ie]),oe=null===ne||void 0===ne?void 0:ne.indexOf(ie),ae=(0,u.useMemo)((function(){return ie?null===te||void 0===te?void 0:te.map((function(e){return[e[oe]]})):te}),[ie,oe,te]),le=null===ne||void 0===ne?void 0:ne.map((function(e){return{columnType:q[e],uuid:e}})),ce=z&&q?(0,bt.CL)({latestColumnTypes:q,latestStatistics:z,versionColumnTypes:K,versionStatistics:J}):null,se=(0,u.useMemo)((function(){return(0,je.HK)((null===U||void 0===U?void 0:U[0])||[],(function(e){return e.feature.uuid}))}),[U]),de=1===Number(M),he=(0,Ot.Z)(de),pe=null===le||void 0===le||null===(n=le.find((function(e){return e.uuid===ie})))||void 0===n?void 0:n.columnType,me=ie&&pe!==x.RL.DATETIME?se[ie]:(null===U||void 0===U?void 0:U[1])||{},fe=(null===m||void 0===m||null===(t=m.current)||void 0===t||null===(i=t.getBoundingClientRect)||void 0===i?void 0:i.call(t))||{},ve=fe.height,xe=fe.width,ge=S.cd*S.iI*2+2,be=0;ve&&(be=ve-(ge+2));var we=(0,u.useMemo)((function(){var e=0;return xe&&(e=xe-ge,!he&&de?e-=Sn:he&&!de&&(e+=Sn)),e}),[de,he,xe,ge,P===k]),Ze=(0,u.useCallback)((0,bt.Fk)({columnTypes:q,columns:re,insightsByFeatureUUID:se,insightsOverview:me,statistics:z}),[q,re,se,me,z]),_e=(0,Ve.Tx)(l,ie).count,Oe=ie?(0,bt.Mh)(G,ie):G,Ce=null===Oe||void 0===Oe||null===(o=Oe[w])||void 0===o||null===(a=o.preview_results)||void 0===a?void 0:a.removed_row_indices,Ie=z?(0,Ve.eS)(l,ne):null,Te=ke.bC[pe]||ke.bC.default,Ee=null===z||void 0===z?void 0:z["".concat(ie,"/").concat(Te)];return(0,F.jsxs)(wt,{columnsVisible:de,featureSet:l,fetchFeatureSet:c,fetchFeatureSetOriginal:b,hideColumnsHeader:P<ke.kY,mainContentRef:m,onTabClick:function(e){return N(e)},refLoadingBar:p,selectedColumnIndex:s,selectedTab:null===A||void 0===A?void 0:A[0],setErrorMessages:D,setSuggestionPreviewIdx:_,suggestionPreviewIdx:w,tabs:ut.Ek,children:[(0,F.jsx)(d.Z,{className:"loading-bar",color:I.Z.brand.fire500,containerStyle:{position:"relative"},ref:p,shadow:!1}),(null===E||void 0===E?void 0:E.length)>=1&&(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,F.jsx)(O.ZP,{bold:!0,children:"Errors"}),(0,F.jsx)(h.Z,{basic:!0,iconOnly:!0,onClick:function(){return D(null)},padding:"0px",transparent:!0,children:(0,F.jsx)(C.x8,{muted:!0})})]}),null===E||void 0===E?void 0:E.map((function(e){return(0,F.jsx)(O.ZP,{monospace:!0,xsmall:!0,children:e},e)}))]}),(null===A||void 0===A?void 0:A.includes(ut.mW))&&(0,F.jsxs)(F.Fragment,{children:[ie&&(0,F.jsx)(ze,{column:ie,featureSet:l}),!ie&&(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(g.Z,{justifyContent:"center",responsive:!0,children:[(0,F.jsx)(Z.Z,{flex:1,flexDirection:"column",children:$&&(0,F.jsx)(B.Z,{mb:S.cd,children:(0,F.jsx)(Be.Z,{stats:$,title:"Quality metrics"})})}),(0,F.jsx)(B.Z,{ml:S.cd}),(0,F.jsx)(Z.Z,{flex:1,flexDirection:"column",children:ce&&(0,F.jsx)(Be.Z,{stats:ce,title:"Statistics"})})]}),(0,F.jsx)(B.Z,{mt:S.cd,children:(0,F.jsx)(_t.Z,{features:le,shouldLink:!0,statistics:z})})]})]}),(null===A||void 0===A?void 0:A.includes(ut.oE))&&(0,F.jsxs)(F.Fragment,{children:[ie&&_e>0&&(0,F.jsx)(Se,{column:ie,features:le,insights:me,statisticsByColumn:Ee,statisticsOverview:z}),ie&&0===_e&&(0,F.jsx)(O.ZP,{bold:!0,large:!0,children:"There are no visualizations available because the column has no data"}),!ie&&(0,F.jsx)(Pe,{features:le,insightsOverview:me,statistics:z})]}),(null===A||void 0===A?void 0:A.includes(ut.jh))&&(null===re||void 0===re?void 0:re.length)>=1&&(0,F.jsx)(Zt.Z,{columnHeaderHeight:ie?null:bt.O$+3*S.iI+ue.dN,columns:re,height:be,invalidValues:Ie,previewIndexes:{removedRows:Ce},renderColumnHeader:ie?null:Ze,rows:ae,width:we})]})},It=t(87372),kt=t(33591),St=["children","condensed","minHeight"];function Tt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Et(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Tt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Tt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Dt=P.default.div.withConfig({displayName:"PanelRoot__PanelRootStyle",componentId:"sc-1hc6ren-0"})(["border-radius:","px;border-style:solid;border-width:1px;"," "," "," "," "," "," "," "," "," "," ",""],k.n_,(function(e){return"\n    background-color: ".concat((e.theme.monotone||I.Z.monotone).white,";\n  ")}),(function(e){return e.borderColor&&"\n    border-color: ".concat(e.borderColor,";\n  ")}),(function(e){return!e.borderColor&&"\n    border-color: ".concat((e.theme.monotone||I.Z.monotone).grey200,";\n  ")}),(function(e){return e.minHeight&&"\n    min-height: ".concat(e.minHeight,"px;\n  ")}),(function(e){return e.section&&"\n    background-color: ".concat((e.theme.background||I.Z.background).section,";\n  ")}),(function(e){return e.transparent&&"\n    background-color: transparent;\n  "}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.shadow&&"\n    ".concat((e.theme.elevation||I.Z.elevation).shadowLarge,";\n  ")}),(function(e){return e.shadowLarge&&"\n    ".concat((e.theme.elevation||I.Z.elevation).float,";\n  ")}),(function(e){return e.shadowLight&&"\n    ".concat((e.theme.elevation||I.Z.elevation).shadowSmall,";\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}));var Rt=function(e){var n=e.children,t=e.condensed,i=void 0!==t&&t,r=e.minHeight,o=(0,z.Z)(e,St);return(0,F.jsx)(Dt,Et(Et({minHeight:r},o),{},{children:(0,F.jsx)(B.Z,{p:i?2:3,pb:i&&r&&1,children:n})}))},Mt=["children","condensed","containedWidth","fullWidth","minHeight"];function Lt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function At(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Lt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Lt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Nt=P.default.div.withConfig({displayName:"PanelOld__ContainedWidthStyle",componentId:"sc-smaheg-0"})(["width:100%;"]),Ht=P.default.div.withConfig({displayName:"PanelOld__FullWidthStyle",componentId:"sc-smaheg-1"})(["width:","px;"],62*S.iI);function Ft(e,n){var t=e.children,i=e.condensed,r=void 0!==i&&i,o=e.containedWidth,a=void 0!==o&&o,l=e.fullWidth,c=void 0===l||l,s=e.minHeight,u=(0,z.Z)(e,Mt),d=(0,F.jsx)(Rt,At(At({},u),{},{condensed:r,minHeight:s,children:t}));return a?(0,F.jsx)(Nt,{ref:n,children:d}):(0,F.jsxs)(kt.Row,{ref:n,children:[(0,F.jsx)(kt.Col,{xs:12,hiddenMdUp:c,children:(0,F.jsx)(Nt,{children:d})}),c&&(0,F.jsx)(kt.Col,{xs:12,hiddenMdDown:!0,children:(0,F.jsx)(Ht,{children:d})})]})}var Ut=u.forwardRef(Ft),Bt=["featureSet"];function Vt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Yt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Vt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Vt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var zt=Qe()((0,i.Z)(l().mark((function e(){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.e(8521).then(t.bind(t,68521));case 2:return n=e.sent,t(90809),t(76657),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68521]}}}),Wt=P.default.img.withConfig({displayName:"Export__ImageStyle",componentId:"sc-1wbgaj4-0"})(["margin-top:","px;max-width:900px;object-fit:contain;width:100%;"],S.tr);var Gt=function(e){return"import mage_ai\nimport pandas as pd\n\n# Clean a dataset with a pipeline saved in the cloud\ndf = pd.read_csv('/datasets/training_data.csv') # Load data\nmage_ai.clean(df, remote_pipeline_uuid=".concat(e||"pipeline id",", api_key=<your api key>)")};var qt=function(e){var n,t,i=e.featureSet,r=(0,z.Z)(e,Bt),o=(0,u.useContext)(P.ThemeContext),a=i||{},l=a.metadata,c=a.pipeline,s=(c||{}).metadata,d=(vt.ZP.status.list().data||{}).api_key_provided;return(0,F.jsxs)(wt,Yt(Yt({},r),{},{featureSet:i,hideColumnsHeader:!0,children:[(0,F.jsx)(B.Z,{mb:5,children:(0,F.jsxs)(It.Z,{level:2,children:["Export data pipeline for ",(0,F.jsx)(It.Z,{bold:!0,inline:!0,level:3,monospace:!0,children:null===l||void 0===l?void 0:l.name})]})}),(0,F.jsxs)(Ut,{containedWidth:!0,fullWidth:!0,children:[(0,F.jsx)(It.Z,{level:3,children:"Method 1: using the pipeline in the same environment as the tool"}),(0,F.jsx)(B.Z,{my:3,children:(0,F.jsx)(Ke.Z,{})}),(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsxs)(It.Z,{level:4,children:["Call the ",(0,F.jsx)(It.Z,{bold:!0,inline:!0,level:4,monospace:!0,children:"clean"})," method"]})}),(0,F.jsx)(O.ZP,{children:"Load your data as a Pandas dataframe, then invoke the cleaning method by passing in the dataframe variable as the 1st argument and referencing the pipeline\u2019s UUID as a keyword argument."}),(0,F.jsx)(B.Z,{mt:1}),(0,F.jsxs)(O.ZP,{children:["The current pipeline UUID is ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:null===c||void 0===c?void 0:c.id}),"."]}),(0,F.jsx)(B.Z,{mt:1}),(0,F.jsxs)(O.ZP,{children:["The return value of the ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," method is a Pandas dataframe that has been cleaned using all the actions in your data pipeline."]}),(0,F.jsx)(B.Z,{mt:2,children:(0,F.jsx)(zt,{maxLines:6,minLines:6,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(t=null===c||void 0===c?void 0:c.id,"import mage_ai\nimport pandas as pd\n\n\ndf = pd.read_csv('/datasets/training_data.csv') # Load the data\nmage_ai.clean(df, pipeline_uuid=".concat(t,")"))})})]})]}),(0,F.jsx)(B.Z,{mb:5}),(0,F.jsxs)(Ut,{containedWidth:!0,fullWidth:!0,children:[(0,F.jsx)(It.Z,{level:3,children:"Method 2: local JSON file"}),(0,F.jsx)(B.Z,{my:3,children:(0,F.jsx)(Ke.Z,{})}),(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsx)(It.Z,{level:4,children:"Download the pipeline JSON file"})}),(0,F.jsxs)(O.ZP,{children:["The ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai"})," Python library will read from a local JSON file that has been created through this tool.",(0,F.jsx)(B.Z,{mb:1}),(0,F.jsxs)(g.Z,{alignItems:"center",children:[(0,F.jsx)(h.Z,{onClick:function(){var e;!function(e,n,t){var i=document.createElement("a"),r=new Blob([e],{type:t});i.href=URL.createObjectURL(r),i.download=n,i.click()}(JSON.stringify(null===i||void 0===i||null===(e=i.pipeline)||void 0===e?void 0:e.actions),"".concat(null===l||void 0===l?void 0:l.name,".json"),"text/plain")},primary:!0,children:"Click here to download"}),"\xa0",(0,F.jsx)(O.ZP,{children:"the file to your local machine."})]})]})]}),(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsx)(It.Z,{level:4,children:"Upload the pipeline JSON file to your runtime environment"})}),(0,F.jsx)(O.ZP,{children:"Whichever environment you want to use this data pipeline, upload the JSON file you just downloaded to the machine that will be invoking your data pipeline."}),(0,F.jsx)(B.Z,{mb:2}),(0,F.jsx)(O.ZP,{children:"For example, if you want to invoke your data pipeline on a server running in the cloud (e.g. AWS, GCP, Azure, etc.), then upload the JSON file to that server so that it can be referenced in the next step."})]}),(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsxs)(It.Z,{level:4,children:["Call the ",(0,F.jsx)(It.Z,{bold:!0,inline:!0,level:4,monospace:!0,children:"clean"})," method"]})}),(0,F.jsx)(O.ZP,{children:"Load your data as a Pandas dataframe, then invoke the cleaning method by passing in the dataframe variable as the 1st argument and referencing the JSON file path as a keyword argument."}),(0,F.jsx)(B.Z,{mt:1}),(0,F.jsxs)(O.ZP,{children:["The return value of the ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," method is a Pandas dataframe that has been cleaned using all the actions in your data pipeline."]}),(0,F.jsx)(B.Z,{mt:2,children:(0,F.jsx)(zt,{maxLines:8,minLines:8,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:"import mage_ai\nimport pandas as pd\n\n\ndf = pd.read_csv('/datasets/training_data.csv') # Load the data\n\n# The path to the JSON file can be absolute or relative\nmage_ai.clean(df, pipeline_path='/path_to_json_file.json')"})})]})]}),(0,F.jsx)(B.Z,{mb:5}),(0,F.jsxs)(Ut,{containedWidth:!0,fullWidth:!0,children:[(0,F.jsx)(It.Z,{level:3,children:"Method 3: API key"}),(0,F.jsx)(B.Z,{my:3,children:(0,F.jsx)(Ke.Z,{})}),d?(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsx)(It.Z,{level:4,children:"Use the mage_ai module with your API key"})}),(0,F.jsx)(B.Z,{mb:2,children:(0,F.jsx)(O.ZP,{children:"It looks like you already have an API key connected. All your local pipelines should have been synced with the cloud database. You can now use these pipelines"})}),(0,F.jsx)(B.Z,{mb:2,children:(0,F.jsxs)(O.ZP,{children:["If you or a collaborator has already synced a pipeline to the cloud, you can simply call the ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," function with the dataset and the ",(0,F.jsx)(O.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_id"}),". The pipeline needs to have been synced with the same API key in order for you to use it."]})}),null!==s&&void 0!==s&&s.remote_id?(0,F.jsxs)(O.ZP,{children:["The ",(0,F.jsx)(O.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_uuid"})," for this pipeline is ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,children:s.remote_id}),"."]}):(0,F.jsx)(O.ZP,{children:"This pipeline has not been synced with the cloud database yet. Refer to the code example below to see how to sync your pipelines."}),(0,F.jsx)(B.Z,{mt:2,children:(0,F.jsx)(zt,{maxLines:6,minLines:5,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(null===s||void 0===s||s.remote_id,"import mage_ai\nimport pandas as pd\n\n# Sync your local datasets and pipelines with the cloud database\nmage_ai.remote_sync()")})}),(0,F.jsx)(B.Z,{mt:2,children:(0,F.jsx)(zt,{maxLines:7,minLines:6,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(n=null===s||void 0===s?void 0:s.remote_id,"import mage_ai\nimport pandas as pd\n\n# Clean a dataset with a pipeline saved in the cloud\ndf = pd.read_csv('/datasets/training_data.csv') # Load data\nmage_ai.clean(df, remote_pipeline_uuid=".concat(n||"pipeline id",")"))})})]}):(0,F.jsxs)(F.Fragment,{children:[(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsx)(It.Z,{level:4,children:"Create your Mage account and get your workspace's API key"})}),(0,F.jsxs)(O.ZP,{children:["In order to use the API key method, you need to have a Mage account. You can click ",(0,F.jsx)(_.Z,{href:"https://www.mage.ai/sign-up",children:"here"})," to create an account. When you create your account, a workspace will be created for you. You can either use that workspace, or create a new workspace for your organization. Once you've selected the workspace, copy the API key from the ",(0,F.jsx)(_.Z,{href:"https://www.mage.ai/dashboard",children:"dashboard"})," page."]}),(0,F.jsx)(Wt,{src:"/images/dashboard-api-key.webp",height:400})]}),(0,F.jsxs)(B.Z,{mb:5,children:[(0,F.jsx)(B.Z,{mb:1,children:(0,F.jsx)(It.Z,{level:4,children:"Use the mage_ai module with the API key"})}),(0,F.jsx)(B.Z,{mb:2,children:(0,F.jsxs)(O.ZP,{children:["Once you've copied the API key from the Mage dashboard, run the ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.remote_sync"})," command with the specified API key. This will sync your local files with the cloud database."]})}),(0,F.jsx)(B.Z,{mb:2,children:(0,F.jsxs)(O.ZP,{children:["If you or a collaborator has already synced a pipeline to the cloud, you can simply call the ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,monospace:!0,children:"mage_ai.clean"})," function with the dataset and the ",(0,F.jsx)(O.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_id"}),". The pipeline needs to have been synced with the same API key in order for you to use it."]})}),null!==s&&void 0!==s&&s.remote_id?(0,F.jsxs)(O.ZP,{children:["The ",(0,F.jsx)(O.ZP,{inline:!0,monospace:!0,children:"remote_pipeline_uuid"})," for this pipeline is ",(0,F.jsx)(O.ZP,{bold:!0,inline:!0,children:s.remote_id}),"."]}):(0,F.jsx)(O.ZP,{children:"This pipeline has not been synced with the cloud database yet. Refer to the code example below to see how to sync your pipelines."}),(0,F.jsx)(B.Z,{mt:2,children:(0,F.jsx)(zt,{maxLines:4,minLines:5,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:(null===s||void 0===s||s.remote_id,"import mage_ai\n\n# Sync your local datasets and pipelines with the cloud database\nmage_ai.remote_sync(api_key=<your api key>)")})}),(0,F.jsx)(B.Z,{mt:2,children:(0,F.jsx)(zt,{maxLines:6,minLines:7,mode:"python",readOnly:!0,setOptions:pn,style:{backgroundColor:o.monotone.grey100,fontFamily:le.Vp,fontSize:ue.i3,lineHeight:"".concat(ue.dN,"px"),overflow:"auto",tabSize:4,width:"inherit"},value:Gt(null===s||void 0===s?void 0:s.remote_id)})})]})]})]})]}))},Xt=t(28857);function Qt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Jt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qt(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function Kt(){var e,n=(0,c.useRouter)().query.slug,t=void 0===n?[]:n,i=(0,Ct.iV)().column,r=(0,o.Z)(t,2),a=r[0],l=r[1],u=vt.ZP.feature_sets.detail(a),d=u.data,h=u.mutate,p=d?(0,Ve.Ln)(d):{},m=(p||{}).metadata,f={featureSet:p,fetchFeatureSet:h,selectedColumnIndex:i},v=null===m||void 0===m?void 0:m.name,x=v||"Dataset Overview";return 1===t.length?e=(0,F.jsx)(Pt,Jt({},f)):"export"===l?(e=(0,F.jsx)(qt,Jt({},f)),x="Export ".concat(v)):e=(0,F.jsx)("div",{}),(0,F.jsx)(Xt.Z,{centerAlign:!0,footer:(0,F.jsx)(B.Z,{mt:S.iI}),fullWidth:!0,pageTitle:x,children:(0,F.jsx)(s.Z,{children:e})})}Kt.getInitialProps=(0,i.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{themeProps:{currentTheme:I.Z}});case 1:case"end":return e.stop()}}),e)})));var $t=Kt},91427:function(e,n,t){"use strict";t.d(n,{J3:function(){return d},L8:function(){return s},Od:function(){return v},RA:function(){return g},U2:function(){return f},Uu:function(){return u},jQ:function(){return x},kP:function(){return h},t8:function(){return m},zg:function(){return c}});var i=t(82394),r=t(66757),o=t.n(r);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var c="pipeline_editor_after_hidden",s="pipeline_editor_after_width",u="pipeline_editor_before_hidden",d="pipeline_editor_before_width",h="data_output_block_uuids";function p(e){return"".concat("custom_code","_").concat(e)}function m(e,n){return o().set(e,n),n}function f(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=o().get(e);return"undefined"!==typeof t&&null!==t?t:(m(e,n),n)}function v(e){var n=f(e);return o().remove(e),n}function x(e){var n=e.actionType,t=e.featureSetId,i=e.defaultValue,r=void 0===i?{}:i;return f(p(t),r)[n]}function g(e){var n=e.actionType,t=e.featureSetId,r=e.newValue,o=p(t);m(o,l(l({},f(o)),{},(0,i.Z)({},n,r)))}},53105:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datasets/[...slug]",function(){return t(1625)}])}},function(e){e.O(0,[3662,4281,4259,5870,2083,6674,1774,3668,2714,2125,5650,17,2874,1273,9898,2151,3461,9223,3887,9774,2888,179],(function(){return n=53105,e(e.s=n);var n}));var n=e.O();_N_E=n}]);