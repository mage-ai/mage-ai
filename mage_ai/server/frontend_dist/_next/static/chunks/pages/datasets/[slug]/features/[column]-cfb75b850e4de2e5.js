(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[438],{6279:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return it}});var r=n(9499),i=n(6835),a=n(1163),o=n.n(a),l=n(7294),u=n(5278),c=n(1180),s=n(381),d=n.n(s),m=n(3955),f=n(1757),h=n(5485),v=n(2729),x=n(4730),p=n(7812),g=n(5142),y=n(2125),j=n(9223),b=n(1788),Z=n(8649),w=n(4645),O=n(9163),_=n(9540),k=n(4764),P=n(9599),I=n(97),C=n(4993),M=n(3499),D=n(5079),T=n(232),S=n(4370),N=n(7249),L=n(2594),A=n(6486),F=n(7357),V=n(1217),E=n(8276),H=n(160),R=n(987),B=n(9633),Y=R.Z.brand,z=Y.earth200,J=Y.earth300,q=Y.earth400,X=Y.energy200,G=Y.energy300,W=Y.energy400,K=Y.fire200,U=Y.fire300,Q=Y.fire400,$=Y.water200,ee=Y.water300,te=Y.water400,ne=Y.wind200,re=Y.wind300,ie=Y.wind400,ae=[ie,te,Q,W,q,re,ee,U,G,J,ne,$,K,X,z],oe=[ie,te,q,Q,re,ee,J,U],le=n(5363),ue=n(1896),ce=n(515),se=n(450),de=n(5893),me=["areaBetweenLines","data","events","height","lineLegendNames","margin","xAxisLabel","xLabelFormat","yAxisLabel","yLabelFormat"];function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function he(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fe(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ve=he(he({},T.j),{},{backgroundColor:R.Z.background.navigation,border:"none"}),xe=y.ZP.div.withConfig({displayName:"LineSeries__YAxisLabelContainer",componentId:"sc-2jcozd-0"})(["-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);white-space:nowrap;"]),pe=(0,S.Z)((function(e){var t=e.areaBetweenLines,n=e.data,r=e.events,i=void 0!==r&&r,a=e.getX,o=e.getY,u=e.height,c=e.hideTooltip,s=e.increasedXTicks,d=e.lineLegendNames,m=e.margin,f=e.noCurve,h=e.renderXTooltipContent,v=e.renderYTooltipContent,x=e.showTooltip,g=e.thickStroke,y=e.tooltipData,S=e.tooltipLeft,E=void 0===S?0:S,Y=e.tooltipTop,z=void 0===Y?[]:Y,J=e.width,q=e.xLabelFormat,X=e.yLabelFormat,G=a||function(e){return null===e||void 0===e?void 0:e.x},W=o||function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null===e||void 0===e?void 0:e.y[t]},K="rgba(255, 255, 255, 0.3)",U=R.Z.brand.wind200,Q=R.Z.monotone.gray,$=R.Z.monotone,ee=($.black,$.gray),te=n.map((function(e){return Number(G(e))}));if(J<10)return null;var ne=J-m.left-m.right,re=u-m.top-m.bottom,ie=Math.max.apply(Math,(0,p.Z)(n.map((function(e){return e.y.length})))),oe=(0,l.useMemo)((function(){return(0,F.Z)({domain:[Math.min.apply(Math,(0,p.Z)(te)),Math.max.apply(Math,(0,p.Z)(te))],range:[0,ne]})}),[ne,te]),me=Math.min.apply(Math,(0,p.Z)(n.map((function(e){var t=e.y;return Math.min.apply(Math,(0,p.Z)(t))})))),fe=Math.max.apply(Math,(0,p.Z)(n.map((function(e){var t=e.y;return Math.max.apply(Math,(0,p.Z)(t))})))),xe=(0,l.useMemo)((function(){return(0,F.Z)({domain:[me,fe],nice:!0,range:[re,0]})}),[re,fe,me]),pe=J>520?s?20:10:s?10:5,ge=Q,ye=ae.map((function(e){return{stroke:e}})),je=(0,V.Z)({domain:d||[],range:ye.map((function(e){return e.stroke}))}),be=(0,l.useCallback)((function(e){var t=((0,L.Z)(e)||{x:0}).x,r=oe.invert(t-m.left),i=(0,se.ry)(te,(function(e){return r>=e})),a=n[i-1],o=n[i],l=a;o&&(l=r-G(a)>G(o)-r?o:a);var u=(0,A.range)(0,ie).map((function(e){return xe(W(l,e))}));x({tooltipData:he(he({},l),{},{index:i}),tooltipLeft:t,tooltipTop:u})}),[n,G,W,m,x,oe,xe]),Ze={};return f||(Ze.curve=N.ZP),(0,de.jsxs)(de.Fragment,{children:[d&&(0,de.jsx)("div",{style:{marginLeft:null===m||void 0===m?void 0:m.left},children:(0,de.jsx)(I.Z,{labelFormat:function(e){return e},scale:je,children:function(e){return(0,de.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:e.map((function(e,t){return(0,de.jsxs)(C.Z,{margin:"0 5px",onClick:function(){i&&alert("clicked: ".concat(JSON.stringify(e)))},children:[(0,de.jsx)("svg",{height:15,width:15,children:(0,de.jsx)("rect",{fill:e.value,height:15,width:15})}),(0,de.jsx)(M.Z,{align:"left",margin:"0 0 0 4px",children:(0,de.jsx)(H.ZP,{small:!0,children:e.text})})]},"legend-quantile-".concat(t))}))})}})}),(0,de.jsxs)("svg",{height:u,width:J,children:[!t&&(0,de.jsx)(Z.Z,{fill:"transparent",height:u,onMouseLeave:function(){return c()},onMouseMove:be,onTouchMove:be,onTouchStart:be,rx:14,width:J-(m.left+m.right),x:m.left,y:0}),(0,de.jsxs)(P.Z,{left:m.left,top:m.top,children:[(0,de.jsx)(_.Z,{height:re,pointerEvents:"none",scale:xe,stroke:K,strokeDasharray:"3,3",strokeOpacity:.7,width:ne}),(0,de.jsx)(k.Z,{height:re,pointerEvents:"none",scale:oe,stroke:K,strokeDasharray:"3,3",strokeOpacity:.7,width:ne}),(0,de.jsx)("line",{stroke:K,x1:ne,x2:ne,y1:0,y2:re}),(0,de.jsx)(j.Z,{numTicks:pe,scale:oe,stroke:ge,tickFormat:function(e){return q?q(e):e},tickLabelProps:function(e){return{fill:Q,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"middle",transform:"rotate(-45, ".concat(oe(e),", 0) translate(-32, 4)")}},tickStroke:ge,top:re}),(0,de.jsx)(b.Z,{hideTicks:!0,scale:xe,stroke:ge,tickFormat:function(e){return X?X(e):e},tickLabelProps:function(e){return{dx:String(e).length>4?3:0,fill:Q,fontFamily:le.ry,fontSize:ue.J5,textAnchor:"end"}},tickStroke:ge}),t&&t.map((function(e){var t=e[0],r=e[1];return(0,l.createElement)(D.Z,he(he({},Ze),{},{aboveAreaProps:{fill:R.Z.brand.earth400,fillOpacity:.3},belowAreaProps:{fill:U,fillOpacity:.2},clipAboveTo:0,clipBelowTo:re,data:n,id:"".concat(Math.random()),key:"".concat(t,"-").concat(r),x:function(e){return oe(G(e))},y0:function(e){return xe("undefined"===typeof r?me:W(e,r))},y1:function(e){return xe(W(e,t))}}))})),(0,A.range)(0,ie).map((function(e){return(0,l.createElement)(w.Z,he(he({},Ze),{},{data:n,key:e,pointerEvents:"none",strokeWidth:g?2:1,x:function(e){return oe(G(e))},y:function(t){return xe(e>=t.y.length?me:W(t,e))}},ye[e]))}))]}),y&&(0,de.jsxs)("g",{children:[(0,de.jsx)(O.Z,{from:{x:E,y:m.top},pointerEvents:"none",stroke:B.Ej,strokeDasharray:"5,2",strokeWidth:1,to:{x:E,y:re+m.top}}),z.map((function(e,t){return(0,de.jsx)("circle",{cx:E,cy:e+1+m.top,fill:ye[t].stroke,fillOpacity:.1,pointerEvents:"none",r:4,stroke:ee,strokeOpacity:.1,strokeWidth:1},t)})),z.map((function(e,t){return(0,de.jsx)("circle",{cx:E,cy:e+m.top,fill:ye[t].stroke,pointerEvents:"none",r:4,stroke:ye[t].stroke,strokeWidth:2},t)}))]})]}),y&&(0,de.jsxs)("div",{children:[z.map((function(e,t){var n=W(y,t);return t>=1&&Math.abs(z[t-1]-e)<5*ce.iI&&(e+=3*ce.iI),(0,de.jsxs)(T.Z,{left:E+ce.iI,style:ve,top:e-ce.iI,children:[v&&v(y,t),!v&&(0,de.jsxs)(H.ZP,{center:!0,small:!0,children:[n.toFixed?n.toFixed(3):n," ",d[t]]})]},t)})),(0,de.jsxs)(T.Z,{left:E,style:he(he({},T.j),{},{transform:"translateX(-65%)"}),top:re+m.top,children:[h&&h(y),!h&&(0,de.jsx)(H.ZP,{center:!0,small:!0,children:G(y).toFixed(3)})]})]})]})}));var ge=function(e){var t=e.areaBetweenLines,n=e.data,r=(e.events,e.height),i=e.lineLegendNames,a=e.margin,o=void 0===a?{}:a,l=e.xAxisLabel,u=e.xLabelFormat,c=e.yAxisLabel,s=e.yLabelFormat,d=(0,x.Z)(e,me),m=he(he({},{bottom:3*ce.iI,left:5*ce.iI,right:3*ce.iI,top:3*ce.iI}),o);return(0,de.jsxs)(de.Fragment,{children:[(0,de.jsxs)("div",{style:{display:"flex",height:r,width:"100%",marginBottom:ce.iI},children:[c&&(0,de.jsx)(h.Z,{alignItems:"center",justifyContent:"center",fullHeight:!0,width:28,children:(0,de.jsx)(xe,{children:(0,de.jsx)(H.ZP,{center:!0,muted:!0,small:!0,children:c})})}),(0,de.jsx)(E.Z,{mr:1}),(0,de.jsx)("div",{style:{height:r,width:"100%"},children:(0,de.jsx)(g.Z,{children:function(e){var r=e.width,a=e.height;return(0,de.jsx)(pe,he(he({},d),{},{areaBetweenLines:t,data:n,height:a,lineLegendNames:i,margin:m,width:r,xLabelFormat:u,yLabelFormat:s}))}})})]}),l&&(0,de.jsx)("div",{style:{paddingLeft:36},children:(0,de.jsx)(H.ZP,{center:!0,muted:!0,small:!0,children:l})})]})},ye=n(3391),je=n(9920),be=["height","width"];function Ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ze(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Oe={bottom:0,left:0,right:0,top:0},_e=function(e){var t=e.endAngle;return{endAngle:t>Math.PI?2*Math.PI:0,opacity:0,startAngle:t>Math.PI?2*Math.PI:0}},ke=function(e){var t=e.startAngle;return{endAngle:e.endAngle,opacity:1,startAngle:t}};function Pe(e){var t=e.animate,n=e.arcs,r=e.path,a=e.getKey,o=e.getColor,l=e.onClickDatum;return(0,je.useTransition)(n,{enter:ke,from:t?_e:ke,keys:a,leave:t?_e:ke,update:ke})((function(e,t,n){var u=n.key,c=r.centroid(t),s=(0,i.Z)(c,2),d=s[0],m=s[1],f=t.endAngle-t.startAngle>=.1;return(0,de.jsxs)("g",{children:[(0,de.jsx)(je.animated.path,{d:(0,je.interpolate)([e.startAngle,e.endAngle],(function(e,n){return r(we(we({},t),{},{endAngle:n,startAngle:e}))})),fill:o(t),onClick:function(){return l(t)},onTouchStart:function(){return l(t)}}),f&&(0,de.jsx)(je.animated.g,{style:{opacity:e.opacity},children:(0,de.jsx)("text",{dy:".33em",fill:"white",fontFamily:le.ry,fontSize:ue.J5,pointerEvents:"none",textAnchor:"middle",x:d,y:m,children:a(t)})})]},u)}))}function Ie(e){var t=e.animate,n=void 0===t||t,r=e.data,i=e.getX,a=e.getY,o=e.height,u=e.margin,c=void 0===u?Oe:u,s=e.width,d=(0,l.useState)(null),m=d[0],f=d[1];if(s<10)return null;var h=(0,V.Z)({domain:r.map((function(e){return i(e)})),range:oe}),v=s-c.left-c.right,x=o-c.top-c.bottom,p=Math.min(v,x)/2,g=x/2,y=v/2,j=Math.min(v/4,12*ce.iI);return(0,de.jsx)("svg",{height:o,width:s,children:(0,de.jsx)(P.Z,{left:y+c.left,top:g+c.top,children:(0,de.jsx)(ye.Z,{cornerRadius:ce.iI/2,data:m?r.filter((function(e){return JSON.stringify(e)===JSON.stringify(m)})):r,innerRadius:p-j,outerRadius:p,padAngle:.005,pieValue:a,children:function(e){return(0,de.jsx)(Pe,we(we({},e),{},{animate:n,getColor:function(e){var t=e.data;return h(i(t))},getKey:function(e){var t=e.data;return i(t)},onClickDatum:function(e){var t=e.data;return n&&f(m&&JSON.stringify(m)===JSON.stringify(t)?null:t)}}))}})})})}function Ce(e){var t=e.height,n=e.width,r=(0,x.Z)(e,be),i={};return t&&(i.height=t),n&&(i.width=n),(0,de.jsx)("div",{style:i,children:(0,de.jsx)(g.Z,{children:function(e){var t=e.width,n=e.height;return(0,de.jsx)(Ie,we(we({},r),{},{height:n,width:t}))}})})}var Me=n(8293),De=n(862),Te=n(8330),Se=n(5166),Ne=n(3577),Le=n(3918);var Ae=function(e){var t,n=e.column,r=e.features,a=e.insights,o=e.statisticsByColumn,u=e.statisticsOverview,c=(0,l.useRef)(null),s=(0,l.useState)(0),x=(s[0],s[1]);(0,l.useEffect)((function(){var e,t;x(null===c||void 0===c||null===(e=c.current)||void 0===e||null===(t=e.getBoundingClientRect())||void 0===t?void 0:t.width)}),[c,x]);var p=u||{},g=null===p||void 0===p?void 0:p.count,y=(0,se.HK)(r,(function(e){return e.uuid})),j=((0,se.vM)(r,(function(e){return e.columnType})),y[n]||{}),b=null===p||void 0===p?void 0:p["".concat(n,"/count")],Z=null===p||void 0===p?void 0:p["".concat(n,"/count_distinct")],w=[{columnValues:["Number of values",(0,Le.x6)(b)],uuid:"count"},{columnValues:["Unique values",(0,Le.x6)(Z)],uuid:"count_distinct"},{columnValues:["Missing values",(0,Le.T3)(null===p||void 0===p?void 0:p["".concat(n,"/null_value_rate")])],uuid:"null_value_rate"}],O=f.Fy===j.columnType,_=f.Vg.includes(j.columnType),k=[f.fy,f.KS].includes(j.columnType);if(_)w.push.apply(w,[{columnValues:["Minimum",(0,Le.x6)(null===p||void 0===p?void 0:p["".concat(n,"/min")])],uuid:"min"},{columnValues:["Maximum",(0,Le.x6)(null===p||void 0===p?void 0:p["".concat(n,"/max")])],uuid:"max"},{columnValues:["Average",(0,Le.x6)(null===p||void 0===p?void 0:p["".concat(n,"/average")])],uuid:"average"},{columnValues:["Median",(0,Le.x6)(null===p||void 0===p?void 0:p["".concat(n,"/median")])],uuid:"median"},{columnValues:["Total sum",(0,Le.x6)(null===p||void 0===p?void 0:p["".concat(n,"/sum")])],uuid:"sum"}]);else{var P=null===p||void 0===p?void 0:p["".concat(n,"/mode")];P&&w.push({columnValues:["Most frequent value",P],uuid:"mode"})}var I,C,M=a||{},D=M.charts,T=M.correlations,S=M.time_series,N=((0,Ne.LH)([{correlations:T,feature:j}]),null===D||void 0===D?void 0:D.find((function(e){var t=e.type;return Te.o.HISTOGRAM===t}))),L=N?(0,Ne.Co)(N,y,{calculateAnomaly:function(e){var t=e.y,n=e.yValuesAverage,r=e.yValuesStandardDeviation;return Math.abs(t.value-n)>2*r},feature:j,getYValue:function(e){return e.value}}):{},A=L.distribution,F=void 0===A?null:A,V=L.rangedWithUnusualDistribution,B=void 0===V?null:V,Y=L.unusualDistribution,z=void 0===Y?null:Y,J=Object.entries(o||{}).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return{x:t[1],y:n}}));if(F)I=(0,de.jsx)(v.Z,{data:F.data.map((function(e){var t=e.hideRange,n=e.isUnusual,r=e.x;return[e.xLabel,e.y.value,r.min,r.max,n,t]})),getBarColor:function(e){return(0,i.Z)(e,5)[4]?R.Z.brand.wind400:R.Z.brand.wind300},height:50*ce.iI,large:!0,noPadding:!0,renderTooltipContent:function(e){var t=(0,i.Z)(e,6),n=t[1],r=t[2],a=t[3],o=t[5];return(0,de.jsxs)(H.ZP,{small:!0,children:[o&&(0,de.jsxs)(de.Fragment,{children:["Rows: ",n,(0,de.jsx)("br",{}),"Value: ",r]}),!o&&(0,de.jsxs)(de.Fragment,{children:["Rows: ",n,(0,de.jsx)("br",{}),"Range: ",r," - ",a]})]})},showAxisLabels:!0,showYAxisLabels:!0,showZeroes:!0,sortData:function(e){return(0,se.YC)(e,"[2]")}},n);else if(k){var q=(0,se.YC)(J,"x");I=(0,de.jsx)(m.Z,{data:q,height:Math.max(3*q.length*ce.iI,50*ce.iI),renderTooltipContent:function(e){var t=e.x,n=e.y;return"".concat(n," appears ").concat((0,Le.x6)(t)," times")},xNumTicks:2,ySerialize:function(e){var t=e.y;return(0,Le.x6)(t)}})}else O&&o&&(I=(0,de.jsx)(Ce,{data:Object.entries(o),getX:function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return"".concat(n," (").concat((0,Le.x6)(r),")")},getY:function(e){return(0,i.Z)(e,2)[1]},height:60*ce.iI}));if((null===B||void 0===B?void 0:B.length)>=1)C=(0,de.jsx)(Me.Z,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Starting value"},{label:"Ending value"},{label:"Rows"}],rowGroupData:[{rowData:B.map((function(e){var t=e.x,n=e.y;return{columnValues:[t.min,t.max,(0,Le.x6)(n.value)],uuid:""}}))}],small:!0});else if((null===z||void 0===z?void 0:z.length)>=1)C=(0,de.jsx)(Me.Z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],rowGroupData:[{rowData:z.map((function(e){var t=e.x,n=e.y;return{columnValues:[t.min,(0,Le.x6)(n.value)],uuid:""}}))}],small:!0});else if(k){var X=J.reduce((function(e,t){var n=t.x,r=t.y;return(0,Ne.xp)(n,b,Z)&&e.push({x:n,y:r}),e}),[]);X.length>=1&&(C=(0,de.jsx)(Me.Z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Value"},{label:"Rows"}],rowGroupData:[{rowData:(0,se.YC)(X,"x",{ascending:!1}).map((function(e){var t=e.x;return{columnValues:[e.y,t],uuid:""}}))}],small:!0}))}var G=function(e){var t=e.legendNames,n=e.serializeY,r=e.x,i=e.xMetadata,a=e.y,o=e.yAxisLabel,l=void 0===o?"Statistics":o,u=r.map((function(e,t){var r=e.max,i=e.min,o=a[t];return{x:(r-i)/2+i,y:n(o)}}));return(0,de.jsx)(ge,{data:u,height:60*ce.iI,lineLegendNames:t,margin:{bottom:10*ce.iI},noCurve:!0,renderXTooltipContent:function(e){var t=e.index,n=r[t],i=n.min,a=n.max;return(0,de.jsxs)(H.ZP,{small:!0,children:[d().unix(i).format(Se.zT)," - ",d().unix(a).format(Se.zT)]})},renderYTooltipContent:function(e,n){var r=e.y;return(0,de.jsxs)(H.ZP,{small:!0,children:[t[n],": ",(0,Le.x6)((0,Le.QV)(r[n],4))]})},xAxisLabel:i.label,xLabelFormat:function(e){return d().unix(e).format(Se.zT)},yAxisLabel:l})},W=[];return null===S||void 0===S||null===(t=S.filter((function(e){var t=e.type;return Te.o.LINE_CHART===t})))||void 0===t||t.forEach((function(e){var t=e.x,n=e.x_metadata,r=e.y,i=[{chart:G({legendNames:["Rows","Unique values","% missing values"],serializeY:function(e){return[e.count,e.count_distinct,e.null_value_rate]},x:t,xMetadata:n,y:r}),metric:"count"}];if(_)i.push({chart:G({legendNames:["Minimum","Maximum","Average","Median"],serializeY:function(e){var t=e.average,n=e.max,r=e.median;return[e.min,n,t,r]},x:t,xMetadata:n,y:r}),metric:"sum"});else if(k||O){var a,o=null===r||void 0===r||null===(a=r[0])||void 0===a?void 0:a.value_counts;if(o){var l=Object.keys(o);i.push({chart:G({legendNames:l,serializeY:function(e){var t=e.value_counts;return l.map((function(e){return(null===t||void 0===t?void 0:t[e])||0}))},x:t,xMetadata:n,y:r,yAxisLabel:"Number of rows with value"}),metric:"value_counts"})}}W.push({charts:i,column:n.label})})),(0,de.jsxs)(h.Z,{flexDirection:"column",fullWidth:!0,justifyContent:"center",children:[I&&(0,de.jsx)(De.Hk,{left:(0,de.jsx)(De.BO,{title:"Distribution of values",children:I}),right:(0,de.jsxs)(De.BO,{noPadding:O||!!C,title:"Distribution data",children:[O&&(0,de.jsx)(Me.Z,{columnFlexNumbers:[1,1,1],columnHeaders:[{label:"Value"},{label:"Number of rows"},{label:"% of rows"}],rowGroupData:[{rowData:(0,se.YC)(Object.entries(o),(function(e){return(0,i.Z)(e,2)[1]}),{ascending:!1}).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return{columnValues:[n,(0,Le.x6)(r),(0,Le.T3)(r/g)],uuid:r}}))}],small:!0}),!O&&(0,de.jsxs)(de.Fragment,{children:[!C&&(0,de.jsx)(H.ZP,{children:"There is no unusual distribution."}),C]})]})}),W.length>=1&&W.map((function(e){var t=e.column,n=e.charts;return(0,de.jsx)(De.Hk,{left:(0,de.jsx)(De.BO,{title:"Statistics by date, column: ".concat(t),children:n.map((function(e){var t=e.chart;e.metric;return(0,de.jsx)(E.Z,{mb:4,children:t})}))})})}))]})},Fe=n(7618),Ve=n(3481),Ee=n(2631),He=1.75,Re=(0,y.iv)(["padding:","px;padding-bottom:","px;padding-top:","px;"],He*ce.iI,2*ce.iI,2*ce.iI),Be=y.ZP.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;width:100%;"," "," ",""],Ee.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||R.Z.background).page,";\n    border: 1px solid ").concat((e.theme.interactive||R.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.borderless&&"\n    border: none;\n  "})),Ye=y.ZP.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||R.Z.background).header,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||R.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),Re),ze=y.ZP.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;",""],He*ce.iI,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")})),Je=y.ZP.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],Ee.M8,Ee.YF,He*ce.iI),qe=6.5*ce.iI,Xe=6.5*ce.iI;var Ge=function(e){var t=e.borderless,n=e.children,r=e.containerRef,i=e.contentContainerRef,a=e.footer,o=e.fullHeight,l=void 0===o||o,u=e.header,c=e.headerHeight,s=e.headerIcon,d=e.headerTitle,m=e.items,f=e.subtitle,v=14;return(d||u)&&(v-=c||qe),a&&(v-=Xe),(0,de.jsxs)(Be,{borderless:t,fullHeight:l,ref:r,children:[(u||d)&&(0,de.jsxs)(Ye,{height:c,children:[u&&u,d&&(0,de.jsxs)(h.Z,{alignItems:"center",justifyContent:"space-between",children:[(0,de.jsxs)(h.Z,{alignItems:"center",children:[s&&s,(0,de.jsx)(E.Z,{ml:s?1:0,children:(0,de.jsx)(H.ZP,{bold:!0,children:d})})]}),m&&(0,de.jsx)(de.Fragment,{children:m})]}),f&&(0,de.jsxs)(de.Fragment,{children:[(0,de.jsx)(E.Z,{mb:2}),(0,de.jsx)(h.Z,{alignItems:"right",children:f})]})]}),(0,de.jsx)(ze,{height:l?v:null,ref:i,children:n}),a&&(0,de.jsx)(Je,{children:(0,de.jsx)(h.Z,{alignItems:"center",justifyContent:"center",children:a})})]})},We=n(4085),Ke=n(1487),Ue=n(1743),Qe=n(4019),$e=n(8302),et=n(686);function tt(e){if(void 0===e)return"";var t=1===e||0===e?100*e:(100*e).toFixed(2);return"".concat(t,"%")}function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var it=function(){var e,t,n,r,s=(0,a.useRouter)().query,d=s.slug,m=s.column,f=$e.ZP.feature_sets.detail(d).data,v=Object.entries((null===f||void 0===f||null===(e=f.metadata)||void 0===e?void 0:e.column_types)||{}).map((function(e){var t=(0,i.Z)(e,2),n=t[0];return{columnType:t[1],uuid:n}})),x=(0,et.kx)(f),p=+m,g=x[p],y=null===g||void 0===g?void 0:g.uuid,j=null===g||void 0===g?void 0:g.column_type,b=null===f||void 0===f||null===(t=f.sample_data)||void 0===t||null===(n=t.rows)||void 0===n?void 0:n.map((function(e){return{columnValues:[e[p]]}})),Z=((null===f||void 0===f||null===(r=f.insights)||void 0===r?void 0:r[0])||[]).find((function(e){return e.feature.uuid===y})),w=(null===f||void 0===f?void 0:f.statistics)||{},O=(0,et.Tx)(f,y),_=O.completeness,k=O.count,P=O.count_distinct,I=O.invalid_value_count,C=O.null_value_count,M=O.outlier_count,D=O.skew,T=[{columnValues:["Validity",tt(O.validity)]},{columnValues:["Completeness",tt(_)]},{columnValues:["Total values",k]},{columnValues:["Unique values",P]},{columnValues:["Missing values",C]},{columnValues:["Invalid values",I]}],S=[{columnValues:["Outliers",M]},{columnValues:["Skewed",null===D||void 0===D?void 0:D.toFixed(3)]}],N=S.every((function(e){return"undefined"===typeof e.columnValues[1]})),L=(0,l.useState)("data"),A=L[0],F=L[1],V=(0,de.jsx)(h.Z,{alignItems:"justify-right",flexDirection:"row-reverse",children:(0,de.jsx)(c.Z,{onClick:function(e){e.preventDefault(),o().push("/datasets")},children:(0,de.jsx)(H.ZP,{bold:!0,children:" Datasets view "})})}),R=(Me.Z,"".concat(y," (").concat(j,")"),(0,de.jsx)(Me.Z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column summary"}],rowGroupData:[{rowData:T}]})),B=(0,de.jsxs)(h.Z,{justifyContent:"center",children:[(0,de.jsx)(Fe.Z,{flex:1,children:(0,de.jsx)(Me.Z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Column values"}],rowGroupData:[{rowData:b,title:"".concat(y," (").concat(j,")")}]})}),(0,de.jsx)(E.Z,{ml:ce.iI}),(0,de.jsx)(Fe.Z,{flex:1,children:R})]}),Y=(0,de.jsxs)(h.Z,{justifyContent:"center",children:[(0,de.jsx)(Fe.Z,{flex:1,children:R}),(0,de.jsx)(E.Z,{ml:ce.iI}),(0,de.jsx)(Fe.Z,{flex:1,children:N?(0,de.jsx)(Ge,{fullHeight:!1,headerTitle:"Warnings",children:(0,de.jsx)(H.ZP,{children:"There are no warnings."})}):(0,de.jsx)(Me.Z,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Warnings"}],rowGroupData:[{rowData:S}]})})]}),z=(0,de.jsxs)(Ue.Z,{bold:!0,defaultKey:A,large:!0,noBottomBorder:!1,onChange:function(e){return F(e)},children:[(0,de.jsxs)(Ue.O,{label:"Data",children:[(0,de.jsx)(E.Z,{my:3}),B]},"data"),(0,de.jsxs)(Ue.O,{label:"Reports",children:[(0,de.jsx)(E.Z,{my:3}),Y]},"reports"),(0,de.jsxs)(Ue.O,{label:"Visualizations",children:[(0,de.jsx)(E.Z,{my:3}),(0,de.jsx)(Ae,{column:y,features:v,insights:Z,statisticsByColumn:w["".concat(y,"/value_counts")]||{},statisticsOverview:w})]},"visualizations")]}),J=(0,l.useState)(),q=J[0],X=J[1],G=null===q||void 0===q?void 0:q.action_type;return(0,de.jsxs)(Ve.Z,{centerAlign:!0,children:[(0,de.jsxs)(E.Z,{mt:ce.iI,children:[G&&(0,de.jsx)(u.Z,{actionType:G,axis:null===q||void 0===q?void 0:q.axis,currentFeature:{columnType:j,uuid:y},onSave:function(){return function(e){var t={action_arguments:[y],action_payload:rt(rt({},e),{},{action_type:G})};alert(JSON.stringify(t))}(q)},payload:q,setPayload:X}),(0,de.jsx)(E.Z,{mt:5,children:(0,de.jsxs)(We.Z,{onChange:function(e){return X(JSON.parse(e.target.value))},value:G,width:20*ce.iI,children:[(0,de.jsx)("option",{value:"",children:"New action"}),Object.entries(Qe.Z.columns).map((function(e){var t=(0,i.Z)(e,2),n=t[0],r=t[1];return(0,de.jsx)("option",{value:JSON.stringify({action_type:n,axis:"column"}),children:r.title},n)}))]})})]}),(0,de.jsx)(E.Z,{mt:ce.iI}),V,(0,de.jsx)(Ke.Z,{featureSet:f,featureSetId:d}),(0,de.jsx)(E.Z,{mt:4}),z]})}},686:function(e,t,n){"use strict";function r(e){var t,n;return e?null===(t=e.insights)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.reduce((function(e,t,n){return e[((null===t||void 0===t?void 0:t.feature)||{}).uuid]=n,e}),{}):{}}function i(e){var t,n;return e?null===(t=e.insights)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.reduce((function(e,t,n){var r=(null===t||void 0===t?void 0:t.feature)||{};return e[n]=r,e}),{}):{}}function a(e,t){if(!e)return{};var n=e.statistics;return{average:n["".concat(t,"/average")],completeness:n["".concat(t,"/completeness")],count:n["".concat(t,"/count")],count_distinct:n["".concat(t,"/count_distinct")],invalid_value_count:n["".concat(t,"/invalid_value_count")],invalid_value_rate:n["".concat(t,"/invalid_value_rate")],max:n["".concat(t,"/max")],max_null_seq:n["".concat(t,"/max_null_seq")],median:n["".concat(t,"/median")],min:n["".concat(t,"/min")],null_value_count:n["".concat(t,"/null_value_count")],null_value_rate:n["".concat(t,"/null_value_rate")],outlier_count:n["".concat(t,"/outlier_count")],quality:n["".concat(t,"/quality")],skew:n["".concat(t,"/skew")],sum:n["".concat(t,"/sum")],validity:n["".concat(t,"/validity")]}}n.d(t,{Tx:function(){return a},kx:function(){return i},vI:function(){return r}})},8538:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/datasets/[slug]/features/[column]",function(){return n(6279)}])}},function(e){e.O(0,[885,662,195,733,410,605,493,882,774,888,179],(function(){return t=8538,e(e.s=t);var t}));var t=e.O();_N_E=t}]);