(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[585],{94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return w}});var r=t(82394),i=t(21831),o=t(82684),u=t(50724),c=t(82555),l=t(97618),a=t(70613),s=t(79626),d=t(68899),f=t(28598);function p(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:n,children:t})}var h=o.forwardRef(p),v=t(62547),m=t(82571),g=t(98464),b=t(77417),O=t(46684),j=t(70515),x=t(53808),P=t(19183);function y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?y(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function E(e,n){e.addProjectBreadcrumbToCustomBreadcrumbs;var t=e.after,r=e.afterHeader,p=e.afterHidden,y=e.afterWidth,E=e.afterWidthOverride,w=e.appendBreadcrumbs,_=e.before,A=e.beforeWidth,I=e.breadcrumbs,T=e.children,k=e.errors,C=e.headerMenuItems,N=e.headerOffset,S=e.hideAfterCompletely,M=e.mainContainerHeader,D=e.navigationItems,R=e.setAfterHidden,H=e.setErrors,U=e.subheaderChildren,L=e.subheaderNoPadding,Y=e.title,V=e.uuid,B=(0,P.i)().width,W="dashboard_after_width_".concat(V),X="dashboard_before_width_".concat(V),z=(0,o.useRef)(null),F=(0,o.useState)(E?y:(0,x.U2)(W,y)),J=F[0],Q=F[1],K=(0,o.useState)(!1),q=K[0],G=K[1],$=(0,o.useState)(_?Math.max((0,x.U2)(X,A),13*j.iI):null),ee=$[0],ne=$[1],te=(0,o.useState)(!1),re=te[0],ie=te[1],oe=(0,o.useState)(null)[1],ue=(0,b.Z)().project,ce=[];I&&ce.push.apply(ce,(0,i.Z)(I)),null!==I&&void 0!==I&&I.length&&!w||!ue||null!==I&&void 0!==I&&I.length||ce.unshift({bold:!w,label:function(){return Y}}),(0,o.useEffect)((function(){null===z||void 0===z||!z.current||q||re||null===oe||void 0===oe||oe(z.current.getBoundingClientRect().width)}),[q,J,re,ee,z,oe,B]),(0,o.useEffect)((function(){q||(0,x.t8)(W,J)}),[p,q,J,W]),(0,o.useEffect)((function(){re||(0,x.t8)(X,ee)}),[re,ee,X]);var le=(0,g.Z)(y);return(0,o.useEffect)((function(){E&&le!==y&&Q(y)}),[E,y,le]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(a.Z,{title:Y}),(0,f.jsx)(s.Z,{breadcrumbs:ce,menuItems:C}),(0,f.jsxs)(d.Nk,{ref:n,children:[0!==(null===D||void 0===D?void 0:D.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(m.Z,{navigationItems:D,showMore:!0})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:t,afterHeader:r,afterHeightOffset:O.Mz,afterHidden:p,afterMousedownActive:q,afterWidth:J,before:_,beforeHeightOffset:O.Mz,beforeMousedownActive:re,beforeWidth:d.k1+(_?ee:0),headerOffset:N,hideAfterCompletely:!R||S,leftOffset:_?d.k1:null,mainContainerHeader:M,mainContainerRef:z,setAfterHidden:R,setAfterMousedownActive:G,setAfterWidth:Q,setBeforeMousedownActive:ie,setBeforeWidth:ne,children:[U&&(0,f.jsx)(h,{noPadding:L,children:U}),T]})})]}),k&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===H||void 0===H?void 0:H(null)},children:(0,f.jsx)(c.Z,Z(Z({},k),{},{onClose:function(){return null===H||void 0===H?void 0:H(null)}}))})]})}var w=o.forwardRef(E)},48381:function(e,n,t){"use strict";var r=t(82684),i=t(31882),o=t(55485),u=t(30160),c=t(86735),l=t(28598);n.Z=function(e){var n=e.onClickTag,t=e.tags,a=void 0===t?[]:t,s=(0,r.useMemo)((function(){return(null===a||void 0===a?void 0:a.length)||0}),[a]),d=(0,r.useMemo)((function(){return(0,c.YC)(a||[],"uuid")}),[a]);return(0,l.jsx)(o.ZP,{alignItems:"center",flexWrap:"wrap",children:null===d||void 0===d?void 0:d.reduce((function(e,t){return e.push((0,l.jsx)("div",{style:{marginBottom:2,marginRight:s>=2?4:0,marginTop:2},children:(0,l.jsx)(i.Z,{onClick:n?function(){return n(t)}:null,small:!0,children:(0,l.jsx)(u.ZP,{children:t.uuid})})},"tag-".concat(t.uuid))),e}),[])})}},16488:function(e,n,t){"use strict";t.d(n,{IJ:function(){return v},M8:function(){return E},Uc:function(){return j},XM:function(){return Z},_U:function(){return h},eI:function(){return O},gU:function(){return P},lO:function(){return T},ri:function(){return g},tL:function(){return x},vJ:function(){return y},xH:function(){return b}});var r,i=t(82394),o=t(92083),u=t.n(o),c=t(3917),l=t(4383),a=t(30229),s=t(42122),d=t(86735);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function p(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e){return!!e&&!Object.values(a.U5).includes(e)};function v(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t=n.block_uuid,r=n.completed_at,o=n.started_at,c=n.status,l=null;o&&r&&(l=u()(r).valueOf()-u()(o).valueOf());return p(p({},e),{},(0,i.Z)({},t,{runtime:l,status:c}))}),{})}var m,g=function(e){var n=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:a.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:a.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:a.Xm.API}];return e?n.slice(0,1):n};function b(e){var n=(0,s.gR)(e,[a.gm.INTERVAL,a.gm.TYPE]),t=e[a.gm.INTERVAL];t&&(n["schedule_interval[]"]=encodeURIComponent(t));var r=e[a.gm.TYPE];return r&&(n["schedule_type[]"]=r),n}function O(e){return e?new Date(u()(e).valueOf()):null}function j(e,n){return n?(0,c.XG)(e,n):function(e){if("string"!==typeof e)return e;var n=e.split("+")[0];return u()(O(n)).format(c.Nx)}(e)}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(m||(m={}));var x=(r={},(0,i.Z)(r,m.DAY,86400),(0,i.Z)(r,m.HOUR,3600),(0,i.Z)(r,m.MINUTE,60),(0,i.Z)(r,m.SECOND,1),r);function P(e){var n=m.SECOND,t=e;return e%86400===0?(t/=86400,n=m.DAY):e%3600===0?(t/=3600,n=m.HOUR):e%60===0&&(t/=60,n=m.MINUTE),{time:t,unit:n}}function y(e,n){return e*x[n]}function Z(e,n,t){var r,i=u()(e);return i.set("hour",+(null===n||void 0===n?void 0:n.hour)||0),i.set("minute",+(null===n||void 0===n?void 0:n.minute)||0),i.set("second",0),r=i.format(c.TD),null!==t&&void 0!==t&&t.includeSeconds&&(r=r.concat(":00")),null!==t&&void 0!==t&&t.localTimezone&&(r=i.format(c.lE),null!==t&&void 0!==t&&t.convertToUtc&&(r=(0,c.d$)(r,{includeSeconds:null===t||void 0===t?void 0:t.includeSeconds,utcFormat:!0}))),r}function E(e){var n,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="",i=!0;return i&&(t?r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/api_trigger"):(r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(r="".concat(r,"/").concat(e.token)))),i&&(n=window.location.port)&&(r=r.replace(n,l.QT)),r}function w(e,n,t){return e.match(/[*,-/]/)?{additionalOffset:0,cronValue:e}:function(e,n,t){var r=t.indexOf(e),i=0;if(n<0)for(var o=0;o>n;o--)0===r?(r=t.length-1,i-=1):r-=1;else if(n>0)for(var u=0;u<n;u++)r===t.length-1?(r=0,i+=1):r+=1;return{additionalOffset:i,cronValue:String(t[r]||e)}}(+e,n,t)}var _=(0,d.m5)(60),A=(0,d.m5)(24),I=(0,c.Cs)();function T(e,n){if(!e)return e;var t=u()().local().format("Z"),r=t.split(":"),i="-"===t[0],o=3===r[0].length?Number(r[0].slice(1)):Number(r[0]),c=Number(r[1]);(i&&!n||!i&&n)&&(o=-o,c=-c);var l=e.split(" "),a=l[0],s=l[1],d=l[2],f=w(a,c,_),p=w(s,o+f.additionalOffset,A);if(l[0]=f.cronValue,l[1]=p.cronValue,0!==(null===p||void 0===p?void 0:p.additionalOffset)){var h=w(d,p.additionalOffset,I);l[2]=h.cronValue}return l.join(" ")}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),o=t(38276),u=t(31748),c=t(72473),l=t(79633),a=t(70515),s=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=t;if(h>f)p=Array.from({length:f},(function(e,n){return n}));else{var v=Math.floor(h/2),m=n-v;n+v>=f?(m=f-h+2,h-=2):n-v<=0?(m=0,h-=2):(h-=4,m=n-Math.floor(h/2)),p=Array.from({length:h},(function(e,n){return n+m}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.ZP,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(c.Hd,{size:1.5*a.iI,stroke:u.Av})}),!p.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{backgroundColor:e===n&&l.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!p.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(r.ZP,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(c.Kw,{size:1.5*a.iI,stroke:u.Av})})]})})}},30229:function(e,n,t){"use strict";t.d(n,{PN:function(){return c},TR:function(){return h},U5:function(){return a},Wb:function(){return p},Xm:function(){return o},Z4:function(){return s},fq:function(){return l},gm:function(){return d},kJ:function(){return f}});var r,i,o,u=t(82394),c="__bookmark_values__";!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(o||(o={}));var l,a,s=(r={},(0,u.Z)(r,o.API,(function(){return"API"})),(0,u.Z)(r,o.EVENT,(function(){return"event"})),(0,u.Z)(r,o.TIME,(function(){return"schedule"})),r);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(l||(l={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly",e.ALWAYS_ON="@always_on"}(a||(a={}));var d,f,p=[a.ONCE,a.HOURLY,a.DAILY,a.WEEKLY,a.MONTHLY];!function(e){e.INTERVAL="frequency[]",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(d||(d={})),function(e){e.CREATED_AT="created_at",e.NAME="name",e.PIPELINE="pipeline_uuid",e.STATUS="status",e.TYPE="schedule_type"}(f||(f={}));var h=(i={},(0,u.Z)(i,f.CREATED_AT,"Created at"),(0,u.Z)(i,f.NAME,"Name"),(0,u.Z)(i,f.PIPELINE,"Pipeline"),(0,u.Z)(i,f.STATUS,"Active"),(0,u.Z)(i,f.TYPE,"Type"),i)},31882:function(e,n,t){"use strict";var r=t(38626),i=t(71180),o=t(55485),u=t(30160),c=t(44897),l=t(72473),a=t(70515),s=t(61896),d=t(28598),f=r.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||c.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||c.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((a.iI+s.Al)/2,"px;\n    height: ").concat(1.5*a.iI+s.Al,"px;\n    padding: ").concat(a.iI/1.5,"px ").concat(1.25*a.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((a.iI/2+s.Al)/2,"px;\n    height: ").concat(s.Al+a.iI/2+2,"px;\n    padding: ").concat(a.iI/4,"px ").concat(a.iI,"px;\n  ")}),(function(e){return e.xsmall&&"\n    border-radius: ".concat((a.iI/1+s.Al)/1,"px;\n    height: ").concat(20,"px;\n    padding: 4px 6px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||c.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,r=e.disabled,c=e.label,s=e.monospace,p=e.onClick,h=e.primary,v=e.small,m=e.xsmall;return(0,d.jsx)(f,{border:n,primary:h,small:v,xsmall:m,children:(0,d.jsx)(i.ZP,{basic:!0,disabled:r,noBackground:!0,noPadding:!0,onClick:p,transparent:!0,children:(0,d.jsxs)(o.ZP,{alignItems:"center",children:[t,c&&(0,d.jsx)(u.ZP,{monospace:s,small:v,xsmall:m,children:c}),!r&&p&&(0,d.jsx)("div",{style:{marginLeft:2}}),!r&&p&&(0,d.jsx)(l.x8,{default:h,muted:!h,size:v?a.iI:1.25*a.iI})]})})})}},77174:function(e,n,t){"use strict";t.r(n);var r=t(77837),i=t(82394),o=t(75582),u=t(38860),c=t.n(u),l=t(82684),a=t(34376),s=t(94629),d=t(55485),f=t(55072),p=t(93808),h=t(82359),v=t(44085),m=t(38276),g=t(30160),b=t(29624),O=t(35686),j=t(30229),x=t(70515),P=t(15610),y=t(69419),Z=t(70320),E=t(28598);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function A(){var e=(0,a.useRouter)(),n=(0,l.useState)(null),t=n[0],r=n[1],i=(0,y.iV)(),u=null!==i&&void 0!==i&&i.page?i.page:0,c=(null===i||void 0===i?void 0:i.order_by)||j.kJ.CREATED_AT,p=O.ZP.projects.list().data,w=(0,l.useMemo)((function(){var e;return null===p||void 0===p||null===(e=p.projects)||void 0===e?void 0:e[0]}),[p]),A=((0,l.useMemo)((function(){var e;return(0,Z.hY)(null===w||void 0===w||null===(e=w.features)||void 0===e?void 0:e[h.d.LOCAL_TIMEZONE])}),[null===w||void 0===w?void 0:w.features]),{_limit:f.Q,_offset:u*f.Q,order_by:c}),I=O.ZP.pipeline_schedules.list(A,{refreshInterval:7500,revalidateOnFocus:!0}),T=I.data,k=I.mutate,C=(0,l.useMemo)((function(){return(null===T||void 0===T?void 0:T.pipeline_schedules)||[]}),[T]),N=(0,l.useMemo)((function(){var e;return(null===T||void 0===T||null===(e=T.metadata)||void 0===e?void 0:e.count)||[]}),[T]);return(0,E.jsxs)(s.Z,{errors:t,setErrors:r,title:"Triggers",uuid:"triggers/index",children:[(0,E.jsx)(m.Z,{mx:2,my:1,children:(0,E.jsxs)(d.ZP,{alignItems:"center",children:[(0,E.jsx)(g.ZP,{bold:!0,default:!0,large:!0,children:"Sort runs by:"}),(0,E.jsx)(m.Z,{mr:1}),(0,E.jsx)(v.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(e){e.preventDefault(),(0,P.u)({order_by:e.target.value,page:0})},paddingRight:4*x.iI,placeholder:"Select column",value:c||j.kJ.CREATED_AT,children:Object.entries(j.TR).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return(0,E.jsx)("option",{value:t,children:r},t)}))})]})}),(0,E.jsx)(b.Z,{fetchPipelineSchedules:k,highlightRowOnHover:!0,includeCreatedAtColumn:!0,includePipelineColumn:!0,pipelineSchedules:C,setErrors:r,stickyHeader:!0}),(0,E.jsx)(m.Z,{p:2,children:(0,E.jsx)(f.ZP,{maxPages:9,onUpdate:function(n){var t=Number(n),r=_(_({},i),{},{page:t>=0?t:0});e.push("/triggers","/triggers?".concat((0,y.uM)(r)))},page:Number(u),totalPages:Math.ceil(N/f.Q)})})]})}A.getInitialProps=(0,r.Z)(c().mark((function e(){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,p.Z)(A)},59733:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/triggers",function(){return t(77174)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},13692:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(61049);function i(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&(0,r.Z)(e,n)}},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return o}});var r=t(12539),i=t(80022);function o(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}t.d(n,{Z:function(){return r}})}},function(e){e.O(0,[2678,1154,844,4267,9266,9626,8264,7858,5499,9624,9774,2888,179],(function(){return n=59733,e(e.s=n);var n}));var n=e.O();_N_E=n}]);