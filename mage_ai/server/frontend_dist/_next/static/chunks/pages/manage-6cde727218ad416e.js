(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8867],{55283:function(e,n,t){"use strict";t.d(n,{HC:function(){return j},HS:function(){return g},IN:function(){return d},Kf:function(){return h},Nk:function(){return p},PB:function(){return b},PY:function(){return m},WC:function(){return l},fk:function(){return _},gE:function(){return Z},j1:function(){return S},jv:function(){return v},nz:function(){return x},oh:function(){return s},qn:function(){return f},t1:function(){return y},y9:function(){return O}});var r=t(38626),o=t(44897),i=t(44425),c=t(42631),a=t(70515),u=t(91437),s=68,d=1.5*a.iI,l=3*a.iI;function f(e,n){var t,r,c=((null===n||void 0===n||null===(t=n.theme)||void 0===t?void 0:t.borders)||o.Z.borders).light,a=((null===n||void 0===n||null===(r=n.theme)||void 0===r?void 0:r.monotone)||o.Z.monotone).grey500,u=n||{},s=u.blockColor,d=u.isSelected,l=u.theme;return d?c=(l||o.Z).content.active:i.tf.TRANSFORMER===e||s===i.Lq.PURPLE?(c=(l||o.Z).accent.purple,a=(l||o.Z).accent.purpleLight):i.tf.DATA_EXPORTER===e||s===i.Lq.YELLOW?(c=(l||o.Z).accent.yellow,a=(l||o.Z).accent.yellowLight):i.tf.DATA_LOADER===e||s===i.Lq.BLUE?(c=(l||o.Z).accent.blue,a=(l||o.Z).accent.blueLight):i.tf.MARKDOWN===e?(c=(l||o.Z).accent.sky,a=(l||o.Z).accent.skyLight):i.tf.SENSOR===e||s===i.Lq.PINK?(c=(l||o.Z).accent.pink,a=(l||o.Z).accent.pinkLight):i.tf.DBT===e?(c=(l||o.Z).accent.dbt,a=(l||o.Z).accent.dbtLight):i.tf.EXTENSION===e||s===i.Lq.TEAL?(c=((null===l||void 0===l?void 0:l.accent)||o.Z.accent).teal,a=((null===l||void 0===l?void 0:l.accent)||o.Z.accent).tealLight):i.tf.CALLBACK===e?(c=((null===l||void 0===l?void 0:l.accent)||o.Z.accent).rose,a=((null===l||void 0===l?void 0:l.accent)||o.Z.accent).roseLight):i.tf.CONDITIONAL===e||i.tf.SCRATCHPAD===e||s===i.Lq.GREY||i.tf.CUSTOM===e&&!s?(c=(l||o.Z).content.default,a=(l||o.Z).accent.contentDefaultTransparent):i.tf.GLOBAL_DATA_PRODUCT!==e||s||(c=(l||o.Z).monotone.white,a=(l||o.Z).monotone.whiteTransparent),{accent:c,accentLight:a}}var h=(0,r.css)([""," "," "," "," "," "," ",""],(0,u.eR)(),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat(f(e.blockType,e).accentLight,";\n  ")}),(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(f(e.blockType,e).accent,";\n  ")}),(function(e){return!e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.accent||o.Z.accent).negativeTransparent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||o.Z.borders).danger,";\n  ")}),(function(e){return e.dynamicBlock&&"\n    border-style: dashed !important;\n  "}),(function(e){return e.dynamicChildBlock&&"\n    border-style: dotted !important;\n  "})),p=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;position:relative;"],c.n_),m=r.default.div.withConfig({displayName:"indexstyle__HiddenBlockContainerStyle",componentId:"sc-s5rj34-1"})([""," border-radius:","px;border-style:",";border-width:","px;",""],h,c.n_,c.M8,c.mP,(function(e){return"\n    background-color: ".concat((e.theme||o.Z).background.content,";\n\n    &:hover {\n      border-color: ").concat(f(e.blockType,e).accent,";\n    }\n  ")})),b=r.default.div.withConfig({displayName:"indexstyle__HeaderHorizontalBorder",componentId:"sc-s5rj34-2"})(["",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme||o.Z).borders.darkLight,";\n  ")})),x=r.default.div.withConfig({displayName:"indexstyle__BlockHeaderStyle",componentId:"sc-s5rj34-3"})([""," border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:",";border-top-width:","px;border-left-style:",";border-left-width:","px;border-right-style:",";border-right-width:","px;padding:","px;"," "," ",""],h,c.n_,c.n_,c.M8,c.mP,c.M8,c.mP,c.M8,c.mP,a.iI,(function(e){return"\n    background-color: ".concat((e.theme||o.Z).background.dashboard,";\n  ")}),(function(e){return"undefined"!==typeof e.zIndex&&null!==e.zIndex&&"\n    z-index: ".concat(6+(e.zIndex||0),";\n  ")}),(function(e){return!e.noSticky&&"\n    // This is to hide the horizontal scrollbar in the block header when sideBySide is enabled,\n    // and the screen width is too small.\n    position: sticky;\n    top: -5px;\n  "})),g=r.default.div.withConfig({displayName:"indexstyle__SubheaderStyle",componentId:"sc-s5rj34-4"})([""," "," ",""],(function(e){return!e.darkBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||o.Z.borders).darkLight,";\n  ")}),(function(e){return e.darkBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.borders||o.Z.borders).medium,";\n  ")}),(function(e){return!e.noBackground&&"\n    background-color: ".concat((e.theme||o.Z).background.dashboard,";\n  ")})),v=r.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-5"})([""," border-left-style:",";border-left-width:","px;border-right-style:",";border-right-width:","px;position:relative;"," "," "," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],h,c.M8,c.mP,c.M8,c.mP,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.noPadding&&"\n    padding-bottom: ".concat(a.iI,"px;\n    padding-top: ").concat(a.iI,"px;\n  ")}),(function(e){return e.lightBackground&&"\n    background-color: ".concat((e.theme||o.Z).background.content,";\n  ")}),(function(e){return!e.hideBorderBottom&&"\n    border-bottom-left-radius: ".concat(c.n_,"px;\n    border-bottom-right-radius: ").concat(c.n_,"px;\n    border-bottom-style: ").concat(c.M8,";\n    border-bottom-width: ").concat(c.mP,"px;\n  ")})),Z=r.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-6"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:8;&:hover{"," .block-divider-inner{","}}"," "," "," ",""],2*a.iI,(function(e){return e.additionalZIndex>0&&"\n      z-index: ".concat(8+e.additionalZIndex,";\n    ")}),(function(e){return"\n        background-color: ".concat((e.theme.text||o.Z.text).fileBrowser,";\n      ")}),(function(e){return!e.height&&"\n    height: ".concat(2*a.iI,"px;\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return!e.bottom&&"\n    bottom: ".concat(.5*a.iI,"px;\n  ")}),(function(e){return"undefined"!==typeof e.bottom&&"\n    bottom: ".concat(e.bottom,"px;\n  ")})),y=r.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-7"})(["height 1px;width:100%;position:absolute;z-index:-1;"," ",""],(function(e){return!e.top&&"\n    top: ".concat(1.5*a.iI,"px;\n  ")}),(function(e){return"undefined"!==typeof e.top&&"\n    top: ".concat(e.top,"px;\n  ")})),O=r.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-8"})([""," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||o.Z.borders).medium,";\n    padding-left: ").concat(e.normalPadding?a.iI:s,"px;\n  ")}),(function(e){return!e.noMargin&&"\n    margin-bottom: ".concat(1*a.iI,"px;\n    padding-bottom: ").concat(1*a.iI,"px;\n  ")})),j=r.default.div.withConfig({displayName:"indexstyle__TimeTrackerStyle",componentId:"sc-s5rj34-9"})(["bottom:","px;left:","px;position:absolute;"],1*a.iI,s),_=r.default.div.withConfig({displayName:"indexstyle__ScrollColunnsContainerStyle",componentId:"sc-s5rj34-10"})(["position:relative;z-index:1;"]),S=r.default.div.attrs((function(e){var n=e.height,t=e.left,r=e.right,o=e.top;return{style:{position:"fixed",height:n,width:e.width,left:t,right:r,top:o,zIndex:(e.zIndex||0)+2}}})).withConfig({displayName:"indexstyle__ScrollColunnStyle",componentId:"sc-s5rj34-11"})([""])},94629:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(82394),o=t(21831),i=t(82684),c=t(50724),a=t(82555),u=t(97618),s=t(70613),d=t(68487),l=t(68899),f=t(28598);function h(e,n){var t=e.children,r=e.noPadding;return(0,f.jsx)(l.HS,{noPadding:r,ref:n,children:t})}var p=i.forwardRef(h),m=t(62547),b=t(82571),x=t(35686),g=t(98464),v=t(46684),Z=t(70515),y=t(53808),O=t(19183);function j(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?j(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function S(e,n){var t,r=e.addProjectBreadcrumbToCustomBreadcrumbs,h=e.after,j=e.afterHeader,S=e.afterHidden,P=e.afterWidth,T=e.afterWidthOverride,A=e.appendBreadcrumbs,C=e.before,E=e.beforeWidth,w=e.breadcrumbs,R=e.children,k=e.errors,I=e.headerMenuItems,N=e.headerOffset,D=e.hideAfterCompletely,L=e.mainContainerHeader,M=e.navigationItems,H=e.setAfterHidden,B=e.setErrors,W=e.subheaderChildren,Y=e.subheaderNoPadding,F=e.title,K=e.uuid,U=(0,O.i)().width,G="dashboard_after_width_".concat(K),z="dashboard_before_width_".concat(K),X=(0,i.useRef)(null),V=(0,i.useState)(T?P:(0,y.U2)(G,P)),q=V[0],Q=V[1],$=(0,i.useState)(!1),J=$[0],ee=$[1],ne=(0,i.useState)(C?Math.max((0,y.U2)(z,E),13*Z.iI):null),te=ne[0],re=ne[1],oe=(0,i.useState)(!1),ie=oe[0],ce=oe[1],ae=(0,i.useState)(null)[1],ue=x.ZP.projects.list({},{revalidateOnFocus:!1}).data,se=null===ue||void 0===ue?void 0:ue.projects,de={label:function(){var e;return null===se||void 0===se||null===(e=se[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},le=[];w&&(r&&le.push(de),le.push.apply(le,(0,o.Z)(w))),(null===w||void 0===w||!w.length||A)&&(null===se||void 0===se?void 0:se.length)>=1&&(null!==w&&void 0!==w&&w.length||le.unshift({bold:!A,label:function(){return F}}),le.unshift(de)),(0,i.useEffect)((function(){null===X||void 0===X||!X.current||J||ie||null===ae||void 0===ae||ae(X.current.getBoundingClientRect().width)}),[J,q,ie,te,X,ae,U]),(0,i.useEffect)((function(){J||(0,y.t8)(G,q)}),[S,J,q,G]),(0,i.useEffect)((function(){ie||(0,y.t8)(z,te)}),[ie,te,z]);var fe=(0,g.Z)(P);return(0,i.useEffect)((function(){T&&fe!==P&&Q(P)}),[T,P,fe]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{title:F}),(0,f.jsx)(d.Z,{breadcrumbs:le,menuItems:I,project:null===se||void 0===se?void 0:se[0],version:null===se||void 0===se||null===(t=se[0])||void 0===t?void 0:t.version}),(0,f.jsxs)(l.Nk,{ref:n,children:[0!==(null===M||void 0===M?void 0:M.length)&&(0,f.jsx)(l.lm,{showMore:!0,children:(0,f.jsx)(b.Z,{navigationItems:M,showMore:!0})}),(0,f.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(m.Z,{after:h,afterHeader:j,afterHeightOffset:v.Mz,afterHidden:S,afterMousedownActive:J,afterWidth:q,before:C,beforeHeightOffset:v.Mz,beforeMousedownActive:ie,beforeWidth:l.k1+(C?te:0),headerOffset:N,hideAfterCompletely:!H||D,leftOffset:C?l.k1:null,mainContainerHeader:L,mainContainerRef:X,setAfterHidden:H,setAfterMousedownActive:ee,setAfterWidth:Q,setBeforeMousedownActive:ce,setBeforeWidth:re,children:[W&&(0,f.jsx)(p,{noPadding:Y,children:W}),R]})})]}),k&&(0,f.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===B||void 0===B?void 0:B(null)},children:(0,f.jsx)(a.Z,_(_({},k),{},{onClose:function(){return null===B||void 0===B?void 0:B(null)}}))})]})}var P=i.forwardRef(S)},53779:function(e,n,t){"use strict";t.d(n,{C:function(){return p},X$:function(){return h},eD:function(){return l},iW:function(){return m},nF:function(){return b}});var r=t(38626),o=t(44897),i=t(42631),c=t(70515),a=t(47041),u=t(91437),s=6.25*c.iI,d=(c.iI,100*c.iI),l=r.default.div.withConfig({displayName:"indexstyle__WindowContainerStyle",componentId:"sc-g0cszf-0"})(["border-radius:","px;width:100%;max-width:","px;z-index:101;position:absolute;overflow:hidden;top:50%;left:50%;transform:translate(-50%,-50%);",""],i.n_,d,(function(e){return"\n    box-shadow: ".concat((e.theme||o.Z).shadow.window,";\n    background-color: ").concat((e.theme||o.Z).background.panel,";\n  ")})),f=(0,r.css)(["display:flex;align-items:center;justify-content:space-between;height:","px;padding:","px ","px;",""],s,c.iI,c.cd*c.iI,(function(e){return"\n    background-color: ".concat((e.theme||o.Z).background.output,";\n  ")})),h=r.default.div.withConfig({displayName:"indexstyle__WindowHeaderStyle",componentId:"sc-g0cszf-1"})([""," border-top-left-radius:","px;border-top-right-radius:","px;",""],f,i.n_,i.n_,(function(e){return"\n    border-bottom: ".concat(i.YF,"px ").concat(i.M8," ").concat((e.theme||o.Z).borders.medium,";\n  ")})),p=r.default.div.withConfig({displayName:"indexstyle__WindowContentStyle",componentId:"sc-g0cszf-2"})(["overflow:auto;padding:","px 0;"," "," "," ",""],c.iI,a.w5,(0,u.eR)(),(function(e){return e.minMaxHeight&&"\n    max-height: ".concat(7*c.iI,"px;\n  ")}),(function(e){return!e.minMaxHeight&&"\n    max-height: calc(100vh - ".concat(6.5*s,"px);\n  ")})),m=r.default.div.withConfig({displayName:"indexstyle__WindowFooterStyle",componentId:"sc-g0cszf-3"})([""," justify-content:flex-end;border-bottom-left-radius:","px;border-bottom-right-radius:","px;",""],f,i.n_,i.n_,(function(e){return"\n    border-top: ".concat(i.YF,"px ").concat(i.M8," ").concat((e.theme||o.Z).borders.medium,";\n  ")})),b=r.default.div.withConfig({displayName:"indexstyle__InputRowStyle",componentId:"sc-g0cszf-4"})(["padding:","px ","px;",""],.75*c.iI,2*c.iI,(function(e){return"\n    border-bottom: ".concat(i.YF,"px ").concat(i.M8," ").concat((e.theme||o.Z).borders.medium,";\n  ")}))},29480:function(e,n,t){"use strict";t.d(n,{$W:function(){return d},cl:function(){return l},cv:function(){return f},dE:function(){return u},zG:function(){return s}});var r=t(38626),o=t(44897),i=t(42631),c=t(70515),a=t(47041),u=r.default.div.withConfig({displayName:"indexstyle__SectionStyle",componentId:"sc-7a1uhf-0"})(["border-radius:","px;padding:","px;",""],i.n_,c.cd*c.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).popup,";\n  ")})),s=r.default.div.withConfig({displayName:"indexstyle__DocsStyle",componentId:"sc-7a1uhf-1"})(["> div{overflow:initial;}> div img{max-width:80%;background:white;padding:1rem;max-height:20vh;}"]),d=r.default.div.withConfig({displayName:"indexstyle__CodeEditorStyle",componentId:"sc-7a1uhf-2"})(["padding-top:","px;",""],c.cd*c.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).codeTextarea,";\n  ")})),l=r.default.div.withConfig({displayName:"indexstyle__TableContainerStyle",componentId:"sc-7a1uhf-3"})(["overflow:auto;max-height:90vh;width:100%;"," "," "," "," ",""],a.w5,(function(e){return e.hideHorizontalScrollbar&&"\n    overflow-x: hidden;\n  "}),(function(e){return e.width&&"\n    width: ".concat(e.width,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,";\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")})),f=r.default.div.withConfig({displayName:"indexstyle__HeaderRowStyle",componentId:"sc-7a1uhf-4"})(["padding:","px;"," "," ",""],2*c.iI,(function(e){return"\n    background-color: ".concat((e.theme||o.Z).interactive.defaultBackground,";\n    border-bottom: ").concat(i.YF,"px ").concat(i.M8," ").concat((e.theme||o.Z).borders.medium,";\n  ")}),(function(e){return e.padding&&"\n    padding: ".concat(e.padding,"px;\n  ")}),(function(e){return e.rounded&&"\n    border-top-left-radius: ".concat(i.n_,"px;\n    border-top-right-radius: ").concat(i.n_,"px;\n  ")}))},4611:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var r=t(38626),o=t(44897),i=t(70515),c=t(42631),a=r.default.div.withConfig({displayName:"Tablestyle__PopupContainerStyle",componentId:"sc-8ammqd-0"})(["position:absolute;max-height:","px;z-index:10;border-radius:","px;padding:","px;"," "," "," ",""],58*i.iI,c.TR,2*i.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||o.Z.shadow).popup,";\n    background-color: ").concat((e.theme.interactive||o.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.leftOffset&&"\n    left: ".concat(e.leftOffset,"px;\n  ")}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}),(function(e){return e.width&&"\n    width: ".concat(e.width,"px;\n  ")}))},85385:function(e,n,t){"use strict";t.d(n,{Qq:function(){return h},Z7:function(){return p},cH:function(){return o},du:function(){return l},fp:function(){return d},j5:function(){return f},uM:function(){return s}});var r,o,i=t(82394),c=t(82359),a=t(72473),u=t(86735),s="sideview",d=90;!function(e){e.ADDON_BLOCKS="addon_blocks",e.BLOCK_SETTINGS="block_settings",e.CALLBACKS="callbacks",e.CHARTS="charts",e.DATA="data",e.EXTENSIONS="power_ups",e.FILE_VERSIONS="file_versions",e.GRAPHS="graphs",e.INTERACTIONS="interactions",e.REPORTS="reports",e.SECRETS="secrets",e.SETTINGS="settings",e.TERMINAL="terminal",e.TREE="tree",e.VARIABLES="variables"}(o||(o={}));o.BLOCK_SETTINGS,o.CALLBACKS,o.CHARTS,o.DATA,o.EXTENSIONS,o.TREE;var l=[o.DATA];function f(e){var n,t,r=[{key:o.TREE,label:"Tree"},{buildLabel:function(e){var n=(e.pipeline||{}).widgets,t=void 0===n?[]:n;return(null===t||void 0===t?void 0:t.length)>=1?"Charts (".concat(t.length,")"):"Charts"},key:o.CHARTS},{buildLabel:function(e){var n=e.variables;return(null===n||void 0===n?void 0:n.length)>=1?"Variables (".concat(n.length,")"):"Variables"},key:o.VARIABLES},{buildLabel:function(e){var n=e.secrets;return(null===n||void 0===n?void 0:n.length)>=1?"Secrets (".concat(n.length,")"):"Secrets"},key:o.SECRETS},{buildLabel:function(e){e.pipeline;return"Add-on blocks"},key:o.ADDON_BLOCKS},{buildLabel:function(e){var n=(e.pipeline||{}).extensions,t=void 0===n?{}:n,r=0;return Object.values(t).forEach((function(e){var n=e.blocks;r+=(null===n||void 0===n?void 0:n.length)||0})),r>=1?"Power ups (".concat(r,")"):"Power ups"},key:o.EXTENSIONS},{key:o.DATA,label:"Data"},{key:o.TERMINAL,label:"Terminal"},{key:o.BLOCK_SETTINGS,label:"Block settings"}];return null!==e&&void 0!==e&&null!==(n=e.project)&&void 0!==n&&null!==(t=n.features)&&void 0!==t&&t[c.d.INTERACTIONS]&&r.push({key:o.INTERACTIONS,label:"Interactions"}),r}function h(e){return(0,u.HK)(f(e),(function(e){return e.key}))}var p=(r={},(0,i.Z)(r,o.ADDON_BLOCKS,a.EJ),(0,i.Z)(r,o.BLOCK_SETTINGS,a.JG),(0,i.Z)(r,o.CALLBACKS,a.AQ),(0,i.Z)(r,o.CHARTS,a.GQ),(0,i.Z)(r,o.DATA,a.iA),(0,i.Z)(r,o.EXTENSIONS,a.Bf),(0,i.Z)(r,o.INTERACTIONS,a.yd),(0,i.Z)(r,o.SECRETS,a.Yo),(0,i.Z)(r,o.SETTINGS,a.Zr),(0,i.Z)(r,o.TERMINAL,a.oI),(0,i.Z)(r,o.TREE,a.mp),(0,i.Z)(r,o.VARIABLES,a.LO),r)},75083:function(e,n,t){"use strict";t.d(n,{HF:function(){return c},L6:function(){return r}});var r,o=t(72473),i=t(82359);function c(e,n,t){var c=e.owner,a=(e.roles,[{Icon:o.Vz,id:r.WORKSPACES,isSelected:function(){return r.WORKSPACES===t},label:function(){return"Workspaces"},linkProps:{href:"/manage"}}]);return c&&a.push({Icon:o.NO,id:r.USERS,isSelected:function(){return r.USERS===t},label:function(){return"Users"},linkProps:{href:"/manage/users"}}),n==i.k.MAIN&&a.push({Icon:o.Zr,id:r.SETTINGS,isSelected:function(){return r.SETTINGS===t},label:function(){return"Settings"},linkProps:{href:"/manage/settings"}}),a.push({Icon:o.$B,id:r.FILE_BROWSER,isSelected:function(){return r.FILE_BROWSER===t},label:function(){return"File browser"},linkProps:{href:"/manage/files"}}),a}!function(e){e.WORKSPACES="workspaces",e.USERS="users",e.SETTINGS="settings",e.FILE_BROWSER="file_browser"}(r||(r={}))},59533:function(e,n,t){"use strict";var r=t(82684),o=t(94629),i=t(35686),c=t(70515),a=t(75083),u=t(50178),s=t(28598);n.Z=function(e){var n=e.before,t=e.breadcrumbs,d=void 0===t?[]:t,l=e.children,f=e.errors,h=e.headerOffset,p=e.mainContainerHeader,m=e.pageName,b=e.setErrors,x=e.subheaderChildren,g=i.ZP.statuses.list().data,v=(0,r.useMemo)((function(){var e,n;return null===g||void 0===g||null===(e=g.statuses)||void 0===e||null===(n=e[0])||void 0===n?void 0:n.project_type}),[g]),Z=(0,u.PR)()||{};return(0,s.jsx)(o.Z,{before:n,beforeWidth:n?50*c.iI:0,breadcrumbs:d,errors:f,headerOffset:h,mainContainerHeader:p,navigationItems:(0,a.HF)(Z,v,m),setErrors:b,subheaderChildren:x,title:"Workspaces",uuid:"workspaces/index",children:l})}},44425:function(e,n,t){"use strict";t.d(n,{$W:function(){return x},DA:function(){return m},HX:function(){return y},J8:function(){return Z},L8:function(){return a},LE:function(){return f},Lk:function(){return _},Lq:function(){return h},M5:function(){return p},Q3:function(){return g},Qj:function(){return O},Ut:function(){return T},V4:function(){return P},VZ:function(){return v},dO:function(){return l},f2:function(){return S},iZ:function(){return j},t6:function(){return u},tf:function(){return d}});var r,o,i,c,a,u,s=t(82394);!function(e){e.CONDITION="condition",e.DBT_SNAPSHOT="snapshot",e.DYNAMIC="dynamic",e.DYNAMIC_CHILD="dynamic_child",e.REDUCE_OUTPUT="reduce_output",e.REPLICA="replica"}(a||(a={})),function(e){e.MARKDOWN="markdown",e.PYTHON="python",e.R="r",e.SQL="sql",e.YAML="yaml"}(u||(u={}));var d,l=(r={},(0,s.Z)(r,u.MARKDOWN,"MD"),(0,s.Z)(r,u.PYTHON,"PY"),(0,s.Z)(r,u.R,"R"),(0,s.Z)(r,u.SQL,"SQL"),(0,s.Z)(r,u.YAML,"YAML"),r),f=(o={},(0,s.Z)(o,u.MARKDOWN,"Markdown"),(0,s.Z)(o,u.PYTHON,"Python"),(0,s.Z)(o,u.R,"R"),(0,s.Z)(o,u.SQL,"SQL"),(0,s.Z)(o,u.YAML,"YAML"),o);!function(e){e.CALLBACK="callback",e.CHART="chart",e.CONDITIONAL="conditional",e.CUSTOM="custom",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.DBT="dbt",e.EXTENSION="extension",e.GLOBAL_DATA_PRODUCT="global_data_product",e.SCRATCHPAD="scratchpad",e.SENSOR="sensor",e.MARKDOWN="markdown",e.TRANSFORMER="transformer"}(d||(d={}));var h,p=[d.CALLBACK,d.CONDITIONAL,d.EXTENSION];!function(e){e.BLUE="blue",e.GREY="grey",e.PINK="pink",e.PURPLE="purple",e.TEAL="teal",e.YELLOW="yellow"}(h||(h={}));var m,b,x=[d.CHART,d.CUSTOM,d.DATA_EXPORTER,d.DATA_LOADER,d.SCRATCHPAD,d.SENSOR,d.MARKDOWN,d.TRANSFORMER],g=[d.CUSTOM,d.DATA_EXPORTER,d.DATA_LOADER,d.SCRATCHPAD,d.SENSOR,d.MARKDOWN,d.TRANSFORMER],v=[d.DATA_EXPORTER,d.DATA_LOADER],Z=[d.DATA_EXPORTER,d.DATA_LOADER,d.TRANSFORMER],y=[d.DATA_EXPORTER,d.DATA_LOADER,d.DBT,d.TRANSFORMER],O=[d.CHART,d.SCRATCHPAD,d.SENSOR,d.MARKDOWN],j=[d.CALLBACK,d.CHART,d.EXTENSION,d.SCRATCHPAD,d.MARKDOWN],_=[d.CUSTOM,d.DATA_EXPORTER,d.DATA_LOADER,d.SENSOR,d.TRANSFORMER];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(m||(m={})),function(e){e.BLOCK_FILE="block_file",e.CUSTOM_BLOCK_TEMPLATE="custom_block_template",e.MAGE_TEMPLATE="mage_template"}(b||(b={}));var S=[d.CUSTOM,d.DATA_EXPORTER,d.DATA_LOADER,d.TRANSFORMER],P=(i={},(0,s.Z)(i,d.CALLBACK,"Callback"),(0,s.Z)(i,d.CHART,"Chart"),(0,s.Z)(i,d.CONDITIONAL,"Conditional"),(0,s.Z)(i,d.CUSTOM,"Custom"),(0,s.Z)(i,d.DATA_EXPORTER,"Data exporter"),(0,s.Z)(i,d.DATA_LOADER,"Data loader"),(0,s.Z)(i,d.DBT,"DBT"),(0,s.Z)(i,d.EXTENSION,"Extension"),(0,s.Z)(i,d.GLOBAL_DATA_PRODUCT,"Global data product"),(0,s.Z)(i,d.MARKDOWN,"Markdown"),(0,s.Z)(i,d.SCRATCHPAD,"Scratchpad"),(0,s.Z)(i,d.SENSOR,"Sensor"),(0,s.Z)(i,d.TRANSFORMER,"Transformer"),i),T=[d.DATA_LOADER,d.TRANSFORMER,d.DATA_EXPORTER,d.SENSOR];c={},(0,s.Z)(c,d.DATA_EXPORTER,"DE"),(0,s.Z)(c,d.DATA_LOADER,"DL"),(0,s.Z)(c,d.SCRATCHPAD,"SP"),(0,s.Z)(c,d.SENSOR,"SR"),(0,s.Z)(c,d.MARKDOWN,"MD"),(0,s.Z)(c,d.TRANSFORMER,"TF")},89706:function(e,n,t){"use strict";t.d(n,{JD:function(){return m},Lu:function(){return i},PF:function(){return f},dT:function(){return c},n6:function(){return s},nB:function(){return p},oy:function(){return h},xF:function(){return l}});var r,o,i,c,a=t(82394),u=t(44425);!function(e){e.CSV="csv",e.JSON="json",e.MD="md",e.PY="py",e.R="r",e.SH="sh",e.SQL="sql",e.TXT="txt",e.YAML="yaml",e.YML="yml"}(i||(i={})),function(e){e.INIT_PY="__init__.py",e.METADATA_YAML="metadata.yaml",e.REQS_TXT="requirements.txt"}(c||(c={}));var s=[i.PY,i.SQL],d=[i.JSON,i.MD,i.PY,i.R,i.SH,i.SQL,i.TXT,i.YAML,i.YML],l=new RegExp(d.map((function(e){return".".concat(e,"$")})).join("|")),f=(new RegExp(d.map((function(e){return".".concat(e,"$")})).join("|")),"charts"),h="pipelines",p=(r={},(0,a.Z)(r,i.MD,u.t6.MARKDOWN),(0,a.Z)(r,i.JSON,i.JSON),(0,a.Z)(r,i.PY,u.t6.PYTHON),(0,a.Z)(r,i.R,u.t6.R),(0,a.Z)(r,i.SQL,u.t6.SQL),(0,a.Z)(r,i.TXT,"text"),(0,a.Z)(r,i.YAML,u.t6.YAML),(0,a.Z)(r,i.YML,u.t6.YAML),r),m=(o={},(0,a.Z)(o,u.t6.MARKDOWN,i.MD),(0,a.Z)(o,u.t6.PYTHON,i.PY),(0,a.Z)(o,u.t6.R,i.R),(0,a.Z)(o,u.t6.SQL,i.SQL),(0,a.Z)(o,u.t6.YAML,i.YAML),(0,a.Z)(o,"text",i.TXT),o)},72098:function(e,n,t){"use strict";var r;t.d(n,{U:function(){return r}}),function(e){e.PYSPARK="pysparkkernel",e.PYTHON3="python3"}(r||(r={}))},57653:function(e,n,t){"use strict";t.d(n,{$1:function(){return m},G7:function(){return g},LM:function(){return v},Mj:function(){return Z},QK:function(){return p},RH:function(){return x},a_:function(){return O},fj:function(){return j},kA:function(){return y},qL:function(){return a},r0:function(){return b}});var r,o,i,c,a,u=t(75582),s=t(82394),d=t(72473),l=t(72098);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,s.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.INTEGRATION="integration",e.PYTHON="python",e.PYSPARK="pyspark",e.STREAMING="streaming"}(a||(a={}));var p,m,b,x=(r={},(0,s.Z)(r,a.INTEGRATION,"Integration"),(0,s.Z)(r,a.PYTHON,"Python"),(0,s.Z)(r,a.PYSPARK,"PySpark"),(0,s.Z)(r,a.STREAMING,"Streaming"),r),g=(o={},(0,s.Z)(o,a.INTEGRATION,"Integration"),(0,s.Z)(o,a.PYTHON,"Standard"),(0,s.Z)(o,a.PYSPARK,"PySpark"),(0,s.Z)(o,a.STREAMING,"Streaming"),o),v="all",Z=(a.PYTHON,a.INTEGRATION,a.STREAMING,i={},(0,s.Z)(i,v,d.ie),(0,s.Z)(i,a.INTEGRATION,d.YC),(0,s.Z)(i,a.PYTHON,d.El),(0,s.Z)(i,a.STREAMING,d.dB),i);!function(e){e.ACTIVE="active",e.INACTIVE="inactive",e.NO_SCHEDULES="no_schedules",e.RETRY="retry",e.RETRY_INCOMPLETE_BLOCK_RUNS="retry_incomplete_block_runs"}(p||(p={})),function(e){e.GROUP="group_by",e.HISTORY_DAYS="from_history_days",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(m||(m={})),function(e){e.STATUS="status",e.TAG="tag",e.TYPE="type"}(b||(b={}));var y=[p.ACTIVE,p.INACTIVE,p.NO_SCHEDULES],O=(c={},(0,s.Z)(c,a.PYTHON,l.U.PYTHON3),(0,s.Z)(c,a.PYSPARK,l.U.PYSPARK),c),j=Object.entries(O).reduce((function(e,n){var t=(0,u.Z)(n,2),r=t[0],o=t[1];return h(h({},e),{},(0,s.Z)({},o,r))}),{})},65956:function(e,n,t){"use strict";var r=t(38626),o=t(55485),i=t(38276),c=t(30160),a=t(44897),u=t(42631),s=t(47041),d=t(70515),l=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*d.iI,1.5*d.iI,1.5*d.iI),h=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],u.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||a.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||a.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||a.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||a.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||a.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),p=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],u.n_,u.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||a.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||a.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),m=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*d.iI,s.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*d.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),b=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],u.M8,u.YF,1.75*d.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,a=e.contentContainerRef,u=e.dark,s=e.footer,d=e.fullHeight,f=void 0===d||d,x=e.fullWidth,g=void 0===x||x,v=e.header,Z=e.headerHeight,y=e.headerIcon,O=e.headerPaddingVertical,j=e.headerTitle,_=e.maxHeight,S=e.maxWidth,P=e.minWidth,T=e.noPadding,A=e.overflowVisible,C=e.subtitle,E=e.success;return(0,l.jsxs)(h,{borderless:n,dark:u,fullHeight:f,fullWidth:g,maxHeight:_,maxWidth:S,minWidth:P,overflowVisible:A,ref:r,success:E,children:[(v||j)&&(0,l.jsxs)(p,{headerPaddingVertical:O,height:Z,children:[v&&v,j&&(0,l.jsx)(o.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,l.jsxs)(o.ZP,{alignItems:"center",children:[y&&y,(0,l.jsx)(i.Z,{ml:y?1:0,children:(0,l.jsx)(c.ZP,{bold:!0,default:!0,children:j})})]})})]}),(0,l.jsxs)(m,{maxHeight:_,noPadding:T,overflowVisible:A,ref:a,children:[C&&(0,l.jsx)(i.Z,{mb:2,children:(0,l.jsx)(c.ZP,{default:!0,children:C})}),t]}),s&&(0,l.jsx)(b,{children:s})]})}},11074:function(e,n,t){"use strict";t.d(n,{Z:function(){return u}});var r=t(38626),o=t(44897),i=t(42631),c=r.default.div.withConfig({displayName:"indexstyle__PanelStyle",componentId:"sc-1rfr5wd-0"})(["border-radius:","px;"," ",""],i.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).panel,";\n  ")}),(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),a=t(28598);var u=function(e){var n=e.children,t=e.fullWidth,r=void 0===t||t;return(0,a.jsx)(c,{fullWidth:r,children:n})}},35185:function(e,n,t){"use strict";var r=t(82394),o=t(91835),i=(t(82684),t(38626)),c=t(44897),a=t(42631),u=t(70515),s=t(28598);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function l(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f=i.default.div.withConfig({displayName:"ProgressBar__ProgressBarContainerStyle",componentId:"sc-10x9ojc-0"})(["border-radius:","px;height:","px;overflow:hidden;position:relative;width:100%;",""],a.BG,.75*u.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).grey200,";\n  ")})),h=i.default.div.withConfig({displayName:"ProgressBar__ProgressBarStyle",componentId:"sc-10x9ojc-1"})(["height:inherit;position:absolute;"," "," "," ",""],(function(e){return!e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).positive,";\n  ")}),(function(e){return e.progress&&"\n    width: ".concat(e.progress,"%;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).negative,";\n  ")}),(function(e){return e.animateProgress&&"\n    animation: animate-progress ".concat(e.animateProgress.duration,"ms linear forwards;\n\n    @keyframes animate-progress {\n      0% {\n        width: ").concat(e.animateProgress.start,"%;\n      }\n\n      100% {\n        width: ").concat(e.animateProgress.end,"%;\n      }\n    }\n  ")}));n.Z=function(e){var n=(0,o.Z)({},e);return(0,s.jsx)(f,l(l({},n),{},{children:(0,s.jsx)(h,l({},n))}))}},2182:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return te}});var r,o=t(77837),i=t(75582),c=t(38860),a=t.n(c),u=t(82684),s=t(69864),d=t(71180),l=t(50724),f=t(82394),h=t(32013),p=t(98777),m=t(75810),b=t(15338),x=t(10553),g=t(97618),v=t(55485),Z=t(85854),y=t(93369),O=t(11074),j=t(44085),_=t(38276),S=t(30160),P=t(17488),T=t(69650),A=t(35686),C=["ReadWriteOnce","ReadWriteMany","ReadOnlyMany"],E=[{label:"Workspace name",required:!0,uuid:"name"}],w=[{label:"Service account name",placeholder:"default",uuid:"service_account_name"},{label:"Ingress name",labelDescription:"If you want to add the workspace to an existing ingress, enter the name of the ingress here. Otherwise, the workspace can be accessed through the service.",placeholder:"my-ingress",uuid:"ingress_name"}],R=[{label:"Storage class name",placeholder:"default",uuid:"storage_class_name"},{label:"Storage request size (in GB)",type:"number",uuid:"storage_request_size"}],k=t(44425),I=t(72473);!function(e){e.K8S="k8s",e.ECS="ecs",e.CLOUD_RUN="cloud_run",e.EMR="emr"}(r||(r={}));var N=t(29480),D=t(79633),L=t(53779),M=t(72619),H=t(81728),B=t(89538),W=t(28598);function Y(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(t),!0).forEach((function(n){(0,f.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=function(e){var n=e.clusterType,t=e.onCancel,o=e.onCreate,c=(0,u.useState)(),a=c[0],l=c[1],Y=(0,u.useState)(),K=Y[0],U=Y[1],G=(0,u.useState)(null),z=G[0],X=G[1],V=(0,u.useState)(null),q=V[0],Q=V[1],$=(0,s.Db)(A.ZP.workspaces.useCreate(),{onSuccess:function(e){return(0,M.wD)(e,{callback:function(e){e.error_message?l(e.error_message):o()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;l(r),console.log(t,r)}})}}),J=(0,i.Z)($,2),ee=J[0],ne=J[1].isLoading,te=A.ZP.files.list(),re=te.data,oe=te.mutate,ie=(0,u.useMemo)((function(){return(null===re||void 0===re?void 0:re.files)||[]}),[re]),ce=(0,B.dd)((function(e){return(0,W.jsxs)(L.eD,{children:[(0,W.jsxs)(L.X$,{children:[(0,W.jsx)(g.Z,{alignItems:"center",children:(0,W.jsx)(S.ZP,{disableWordBreak:!0,monospace:!0,children:"Select file"})}),(0,W.jsx)(d.ZP,{iconOnly:!0,onClick:se,children:(0,W.jsx)(I.x8,{muted:!0})})]}),(0,W.jsx)(L.C,{children:(0,W.jsx)(x.Z,{disableContextMenu:!0,fetchFileTree:oe,files:ie,isFileDisabled:null===e||void 0===e?void 0:e.isFileDisabled,openFile:e.onFileOpen})})]})}),{},[ie,oe],{background:!0,uuid:"file_selector"}),ae=(0,i.Z)(ce,2),ue=ae[0],se=ae[1],de=(0,u.useCallback)((function(e){var n=e.autoComplete,t=e.disabled,r=e.label,o=e.labelDescription,i=e.placeholder,c=e.required,a=e.type,u=e.uuid;return(0,W.jsxs)("div",{children:[(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,W.jsxs)(g.Z,{flex:2,flexDirection:"column",children:[(0,W.jsx)(S.ZP,{children:r}),o&&(0,W.jsx)(S.ZP,{muted:!0,children:o})]}),(0,W.jsx)(g.Z,{flex:1}),(0,W.jsx)(g.Z,{flex:1,children:(0,W.jsx)(P.Z,{autoComplete:n,disabled:t,onChange:function(e){X((function(n){return F(F({},n),{},(0,f.Z)({},u,e.target.value))}))},placeholder:i,required:c,setContentOnMount:!0,type:a,value:(null===z||void 0===z?void 0:z[u])||""})})]})})]},u)}),[z,X]),le=(0,u.useMemo)((function(){return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(v.ZP,{children:(0,W.jsx)(_.Z,{ml:2,my:2,children:(0,W.jsx)(S.ZP,{bold:!0,sky:!0,children:"General"})})}),w.map((function(e){return de(e)})),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(v.ZP,{children:(0,W.jsx)(_.Z,{ml:2,my:2,children:(0,W.jsx)(S.ZP,{bold:!0,sky:!0,children:"Volume claim params"})})}),R.map((function(e){return de(e)})),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,W.jsx)(g.Z,{flex:3,children:(0,W.jsx)(S.ZP,{children:"Access mode"})}),(0,W.jsx)(g.Z,{flex:1,children:(0,W.jsx)(j.Z,{fullWidth:!0,label:"Access mode",onChange:function(e){e.preventDefault(),X((function(n){return F(F({},n),{},{storage_access_mode:e.target.value})}))},placeholder:"Access mode",value:null===z||void 0===z?void 0:z.storage_access_mode,children:C.map((function(e){return(0,W.jsx)("option",{value:e,children:e},e)}))})})]})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:2,my:2,children:(0,W.jsxs)(v.ZP,{alignItems:"center",children:[(0,W.jsx)(T.Z,{checked:K,compact:!0,onCheck:function(){return U((function(e){return!e}))}}),(0,W.jsx)(_.Z,{ml:1,children:(0,W.jsx)(S.ZP,{bold:!0,sky:!0,children:"Configure container"})})]})}),(0,W.jsx)(b.Z,{muted:!0}),K&&(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsx)(N.$W,{children:(0,W.jsx)(m.Z,{autoHeight:!0,fontSize:12,language:k.t6.YAML,onChange:function(e){X((function(n){return F(F({},n),{},{container_config:e})}))},tabSize:2,value:null===z||void 0===z?void 0:z.container_config,width:"100%"})})})]})}),[de,K,z]),fe=(0,u.useMemo)((function(){var e,n,t,r;return(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(v.ZP,{children:(0,W.jsx)(_.Z,{ml:2,my:2,children:(0,W.jsx)(S.ZP,{bold:!0,sky:!0,children:"Termination policy"})})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,W.jsx)(g.Z,{flex:3,children:(0,W.jsx)(S.ZP,{children:"Enable auto termination"})}),(0,W.jsx)(g.Z,{flex:1,children:(0,W.jsxs)(j.Z,{fullWidth:!0,onChange:function(e){e.preventDefault(),Q((function(n){return F(F({},n),{},{termination_policy:F(F({},null===n||void 0===n?void 0:n.termination_policy),{},{enable_auto_termination:"true"===e.target.value})})}))},value:(null===q||void 0===q||null===(e=q.termination_policy)||void 0===e?void 0:e.enable_auto_termination)||"false",children:[(0,W.jsx)("option",{value:"true",children:"True"},"true"),(0,W.jsx)("option",{value:"false",children:"False"},"false")]})})]})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,W.jsx)(g.Z,{flex:3,children:(0,W.jsx)(S.ZP,{children:"Max idle time (in seconds)"})}),(0,W.jsx)(g.Z,{flex:1,children:(0,W.jsx)(P.Z,{onChange:function(e){Q((function(n){return F(F({},n),{},{termination_policy:F(F({},null===n||void 0===n?void 0:n.termination_policy),{},{max_idle_seconds:e.target.value})})}))},setContentOnMount:!0,type:"number",value:(null===q||void 0===q||null===(n=q.termination_policy)||void 0===n?void 0:n.max_idle_seconds)||""})})]})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(v.ZP,{children:(0,W.jsx)(_.Z,{ml:2,my:2,children:(0,W.jsx)(S.ZP,{bold:!0,sky:!0,children:"Pre start"})})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,W.jsxs)(g.Z,{flex:3,justifyContent:"space-between",children:[(0,W.jsx)(S.ZP,{children:"Path to pre start script"}),(0,W.jsx)(_.Z,{mr:1,children:(0,W.jsx)(d.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(){return ue({isFileDisabled:function(e,n){return!n&&!e.endsWith(".py")},onFileOpen:function(e){Q((function(n){return F(F({},n),{},{pre_start_script_path:e})})),se()}})},children:(0,W.jsx)(I.gt,{})})})]}),(0,W.jsx)(g.Z,{flex:1,children:(0,W.jsx)(P.Z,{onChange:function(e){Q((function(n){return F(F({},n),{},{pre_start_script_path:e.target.value})}))},placeholder:"/",setContentOnMount:!0,value:(null===q||void 0===q?void 0:q.pre_start_script_path)||""})})]})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(v.ZP,{children:(0,W.jsx)(_.Z,{ml:2,my:2,children:(0,W.jsx)(S.ZP,{bold:!0,sky:!0,children:"Post start"})})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,W.jsx)(g.Z,{flex:3,children:(0,W.jsx)(S.ZP,{children:"Command"})}),(0,W.jsx)(g.Z,{flex:1,children:(0,W.jsx)(P.Z,{monospace:!0,onChange:function(e){Q((function(n){return F(F({},n),{},{post_start:F(F({},null===n||void 0===n?void 0:n.post_start),{},{command:e.target.value})})}))},setContentOnMount:!0,value:(null===q||void 0===q||null===(t=q.post_start)||void 0===t?void 0:t.command)||""})})]})}),(0,W.jsx)(b.Z,{muted:!0}),(0,W.jsx)(_.Z,{ml:3,mr:2,my:1,children:(0,W.jsxs)(v.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,W.jsxs)(g.Z,{flex:3,justifyContent:"space-between",children:[(0,W.jsx)(S.ZP,{children:"Path to hook (optional)"}),(0,W.jsx)(_.Z,{mr:1,children:(0,W.jsx)(d.ZP,{iconOnly:!0,noBackground:!0,noBorder:!0,onClick:function(){return ue({onFileOpen:function(e){Q((function(n){return F(F({},n),{},{post_start:F(F({},null===n||void 0===n?void 0:n.post_start),{},{hook_path:e})})})),se()}})},children:(0,W.jsx)(I.gt,{})})})]}),(0,W.jsx)(g.Z,{flex:1,children:(0,W.jsx)(P.Z,{onChange:function(e){Q((function(n){return F(F({},n),{},{post_start:F(F({},null===n||void 0===n?void 0:n.post_start),{},{hook_path:e.target.value})})}))},placeholder:"/",setContentOnMount:!0,value:(null===q||void 0===q||null===(r=q.post_start)||void 0===r?void 0:r.hook_path)||""})})]})}),(0,W.jsx)(b.Z,{muted:!0})]})}),[se,q,Q,ue]);return(0,W.jsx)(O.Z,{children:(0,W.jsx)("div",{style:{width:"750px"},children:(0,W.jsxs)(_.Z,{p:2,children:[(0,W.jsx)(Z.Z,{level:4,children:"Create workspace"}),(0,W.jsxs)("form",{children:[E.map((function(e){var n=e.autoComplete,t=e.disabled,r=e.label,o=e.required,i=e.type,c=e.uuid;return(0,W.jsx)(_.Z,{mt:2,children:(0,W.jsx)(P.Z,{autoComplete:n,disabled:t,label:r,onChange:function(e){X((function(n){return F(F({},n),{},(0,f.Z)({},c,e.target.value))}))},required:o,setContentOnMount:!0,type:i,value:(null===z||void 0===z?void 0:z[c])||""})},c)})),(0,W.jsx)(_.Z,{mt:2,children:(0,W.jsxs)(h.Z,{noPaddingContent:!0,children:[n===r.K8S&&(0,W.jsx)(p.Z,{title:"Kubernetes",children:le}),(0,W.jsx)(p.Z,{title:"Lifecycle (optional)",children:fe})]})})]}),ne&&(0,W.jsx)(_.Z,{mt:1,children:(0,W.jsx)(S.ZP,{small:!0,warning:!0,children:"This may take up to a few minutes... Once the service is created, it may take another 5-10 minutes for the service to be accessible."})}),!ne&&a&&(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(_.Z,{mt:1,children:(0,W.jsx)(S.ZP,{danger:!0,small:!0,children:"Failed to create instance, see error below."})}),(0,W.jsx)(_.Z,{mt:1,children:(0,W.jsx)(S.ZP,{danger:!0,small:!0,children:a})})]}),(0,W.jsx)(_.Z,{my:2,children:(0,W.jsxs)(v.ZP,{flexDirection:"row-reverse",children:[(0,W.jsx)(y.ZP,{background:D.a$,bold:!0,inline:!0,loading:ne,onClick:function(){var e=z||{},t=e.name,r=e.container_config;if(t){var o=F({},z);o.name=function(e){return"ecs"===n?(0,H.We)(e,"_"):(0,H.We)(e,"-")}(t),o.container_config=K&&r,ee({workspace:F(F({},o),{},{cluster_type:n,lifecycle_config:q})})}else l("Please enter a valid name!")},uuid:"workspaces/create",children:"Create"}),(0,W.jsx)(_.Z,{ml:1}),(0,W.jsx)(y.ZP,{bold:!0,inline:!0,onClick:t,uuid:"workspaces/cancel",children:"Cancel"})]})})]})})})},U=t(70374),G=t(93808),z=t(75499),X=t(59533),V=t(42631),q=t(8059),Q=t(4611),$=t(70515),J=t(75083);function ee(e){var n=e.clusterType,t=e.fetchWorkspaces,r=e.instance,o=e.setErrors,c=(0,u.useRef)(null),a=(0,u.useState)(),f=a[0],h=a[1],p=(0,u.useState)(),m=p[0],b=p[1],x=r.name,g=(r.task_arn,{cluster_type:n}),Z=(0,s.Db)(A.ZP.workspaces.useUpdate(x,g),{onSuccess:function(e){return(0,M.wD)(e,{callback:function(){t(),h(!1)},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),y=(0,i.Z)(Z,1)[0],O=(0,s.Db)(A.ZP.workspaces.useDelete(x,g),{onSuccess:function(e){return(0,M.wD)(e,{callback:function(){t(),h(!1)},onErrorCallback:function(e,n){return o({errors:n,response:e})}})}}),j=(0,i.Z)(O,1)[0],P=(0,u.useMemo)((function(){var e=r.status,t=[{label:function(){return(0,W.jsx)(S.ZP,{children:"Delete workspace"})},onClick:function(){return b(!0)},uuid:"delete_workspace"}];return"ecs"===n&&("STOPPED"===e?t.unshift({label:function(){return(0,W.jsx)(S.ZP,{children:"Resume instance"})},onClick:function(){return y({workspace:{action:"resume",cluster_type:n,name:r.name,task_arn:r.task_arn}})},uuid:"resume_instance"}):"RUNNING"===e&&t.unshift({label:function(){return(0,W.jsx)(S.ZP,{children:"Stop instance"})},onClick:function(){return y({workspace:{action:"stop",cluster_type:n,name:r.name,task_arn:r.task_arn}})},uuid:"stop_instance"})),"k8s"===n&&("STOPPED"===e?t.unshift({label:function(){return(0,W.jsx)(S.ZP,{children:"Resume instance"})},onClick:function(){return y({workspace:{action:"resume",cluster_type:n,name:r.name}})},uuid:"resume_instance"}):"RUNNING"===e&&t.unshift({label:function(){return(0,W.jsx)(S.ZP,{children:"Stop instance"})},onClick:function(){return y({workspace:{action:"stop",cluster_type:n,name:r.name}})},uuid:"stop_instance"})),t}),[n,r,y]);return(0,W.jsx)(W.Fragment,{children:["ecs","k8s"].includes(n)&&(0,W.jsxs)("div",{ref:c,style:{position:"relative",zIndex:"1"},children:[(0,W.jsx)(d.ZP,{iconOnly:!0,onClick:function(){return h(!f)},children:(0,W.jsx)(I.mH,{size:2*$.iI})}),(0,W.jsx)(l.Z,{disableEscape:!0,onClickOutside:function(){h(!1),b(!1)},open:f,children:m?(0,W.jsxs)(Q.f,{leftOffset:30*-$.iI,topOffset:3*-$.iI,width:30*$.iI,children:[(0,W.jsx)(S.ZP,{children:"Are you sure you want to delete"}),(0,W.jsx)(S.ZP,{children:"this instance? You may not be"}),(0,W.jsx)(S.ZP,{children:"able to recover your data."}),(0,W.jsx)(_.Z,{mt:1}),(0,W.jsxs)(v.ZP,{children:[(0,W.jsx)(d.ZP,{danger:!0,onClick:j,children:"Confirm"}),(0,W.jsx)(_.Z,{ml:1}),(0,W.jsx)(d.ZP,{default:!0,onClick:function(){return b(!1)},children:"Cancel"})]})]}):(0,W.jsx)(U.Z,{items:P,left:25*-$.iI,open:f,parentRef:c,topOffset:3*-$.iI,uuid:"workspaces/more_actions",width:25*$.iI})})]})})}function ne(){var e=A.ZP.statuses.list().data,n=(0,u.useState)(null),t=n[0],r=n[1],o=(0,u.useMemo)((function(){var n,t;return(null===e||void 0===e||null===(n=e.statuses)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.instance_type)||"ecs"}),[e]),c=A.ZP.workspaces.list({cluster_type:o},{refreshInterval:1e4,revalidateOnFocus:!0}),a=c.data,s=c.mutate,l=(0,u.useMemo)((function(){var e;return null===a||void 0===a||null===(e=a.workspaces)||void 0===e?void 0:e.filter((function(e){return e.name}))}),[a]),f=(0,B.dd)((function(){return(0,W.jsx)(K,{clusterType:o,onCancel:m,onCreate:function(){s(),m()}})}),{},[o,s],{background:!0,disableClickOutside:!0,disableEscape:!0,uuid:"configure_workspace"}),h=(0,i.Z)(f,2),p=h[0],m=h[1];return(0,W.jsx)(X.Z,{breadcrumbs:[{bold:!0,label:function(){return"Workspaces"}}],errors:t,pageName:J.L6.WORKSPACES,setErrors:r,subheaderChildren:(0,W.jsx)(y.ZP,{background:q.eW,beforeElement:(0,W.jsx)(I.mm,{size:2.5*$.iI}),bold:!0,inline:!0,onClick:function(){return p()},uuid:"workspaces/new",children:"Create new workspace"}),children:(0,W.jsx)(z.Z,{columnFlex:[2,4,2,3,1,null],columns:[{uuid:"Status"},{uuid:"Instance Name"},{uuid:"Type"},{uuid:"Public IP address"},{uuid:"Open"},{label:function(){return""},uuid:"Actions"}],rows:null===l||void 0===l?void 0:l.map((function(e){var n=e.instance,t=n.ip,i=n.name,c=n.status,a=n.type,u="http://".concat(t);return"ecs"===o&&(u="http://".concat(t,":6789")),[(0,W.jsx)(d.ZP,{borderRadius:V.D7,danger:"STOPPED"===c,default:"PROVISIONING"===c,notClickable:!0,padding:"6px",primary:"RUNNING"===c,warning:"PENDING"===c,children:(0,H.vg)(c)},"status"),(0,W.jsx)(S.ZP,{children:i},"name"),(0,W.jsx)(S.ZP,{children:(0,H.vg)(a)},"type"),(0,W.jsx)(S.ZP,{children:t},"ip"),(0,W.jsx)(d.ZP,{disabled:!t,iconOnly:!0,onClick:function(){return window.open(u)},children:(0,W.jsx)(I.M0,{size:2*$.iI})},"open_button"),(0,W.jsx)(ee,{clusterType:o,fetchWorkspaces:s,instance:n,setErrors:r},"more_actions")]}))})})}ne.getInitialProps=(0,o.Z)(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var te=(0,G.Z)(ne)},13157:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/manage",function(){return t(2182)}])},80022:function(e,n,t){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},99177:function(e,n,t){"use strict";function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r(e,n)}t.d(n,{Z:function(){return o}})},93189:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(12539),o=t(80022);function i(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}}},function(e){e.O(0,[2678,1154,844,8789,7011,4267,600,8487,8264,7858,5499,5810,553,9774,2888,179],(function(){return n=13157,e(e.s=n);var n}));var n=e.O();_N_E=n}]);