(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{94629:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var r=n(82394),i=n(21831),o=n(82684),u=n(50724),c=n(82555),a=n(97618),s=n(70613),l=n(68487),d=n(68899),f=n(28598);function p(e,t){var n=e.children,r=e.noPadding;return(0,f.jsx)(d.HS,{noPadding:r,ref:t,children:n})}var b=o.forwardRef(p),h=n(62547),O=n(82571),v=n(98464),g=n(77417),j=n(46684),m=n(70515),y=n(53808),P=n(19183);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t){e.addProjectBreadcrumbToCustomBreadcrumbs;var n=e.after,r=e.afterHeader,p=e.afterHidden,w=e.afterWidth,x=e.afterWidthOverride,_=e.appendBreadcrumbs,k=e.before,C=e.beforeWidth,E=e.breadcrumbs,D=e.children,M=e.errors,S=e.headerMenuItems,I=e.headerOffset,A=e.hideAfterCompletely,H=e.mainContainerHeader,N=e.navigationItems,R=e.setAfterHidden,T=e.setErrors,B=e.subheaderChildren,W=e.subheaderNoPadding,z=e.title,U=e.uuid,V=(0,P.i)().width,F="dashboard_after_width_".concat(U),q="dashboard_before_width_".concat(U),L=(0,o.useRef)(null),Q=(0,o.useState)(x?w:(0,y.U2)(F,w)),K=Q[0],G=Q[1],X=(0,o.useState)(!1),Y=X[0],J=X[1],$=(0,o.useState)(k?Math.max((0,y.U2)(q,C),13*m.iI):null),ee=$[0],te=$[1],ne=(0,o.useState)(!1),re=ne[0],ie=ne[1],oe=(0,o.useState)(null)[1],ue=(0,g.Z)().project,ce=[];E&&ce.push.apply(ce,(0,i.Z)(E)),null!==E&&void 0!==E&&E.length&&!_||!ue||null!==E&&void 0!==E&&E.length||ce.unshift({bold:!_,label:function(){return z}}),(0,o.useEffect)((function(){null===L||void 0===L||!L.current||Y||re||null===oe||void 0===oe||oe(L.current.getBoundingClientRect().width)}),[Y,K,re,ee,L,oe,V]),(0,o.useEffect)((function(){Y||(0,y.t8)(F,K)}),[p,Y,K,F]),(0,o.useEffect)((function(){re||(0,y.t8)(q,ee)}),[re,ee,q]);var ae=(0,v.Z)(w);return(0,o.useEffect)((function(){x&&ae!==w&&G(w)}),[x,w,ae]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{title:z}),(0,f.jsx)(l.Z,{breadcrumbs:ce,menuItems:S}),(0,f.jsxs)(d.Nk,{ref:t,children:[0!==(null===N||void 0===N?void 0:N.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(O.Z,{navigationItems:N,showMore:!0})}),(0,f.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:n,afterHeader:r,afterHeightOffset:j.Mz,afterHidden:p,afterMousedownActive:Y,afterWidth:K,before:k,beforeHeightOffset:j.Mz,beforeMousedownActive:re,beforeWidth:d.k1+(k?ee:0),headerOffset:I,hideAfterCompletely:!R||A,leftOffset:k?d.k1:null,mainContainerHeader:H,mainContainerRef:L,setAfterHidden:R,setAfterMousedownActive:J,setAfterWidth:G,setBeforeMousedownActive:ie,setBeforeWidth:te,children:[B&&(0,f.jsx)(b,{noPadding:W,children:B}),D]})})]}),M&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===T||void 0===T?void 0:T(null)},children:(0,f.jsx)(c.Z,Z(Z({},M),{},{onClose:function(){return null===T||void 0===T?void 0:T(null)}}))})]})}var _=o.forwardRef(x)},79757:function(e,t,n){"use strict";var r=n(82394),i=n(26304),o=(n(82684),n(38626)),u=n(44897),c=n(42631),a=n(95363),s=n(70515),l=n(61896),d=n(28598),f=["children"];function p(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?p(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=o.default.p.withConfig({displayName:"Badge__BadgeStyle",componentId:"sc-tfqsp0-0"})(["border-radius:","px;display:inline;font-family:",";margin:0;white-space:nowrap;",";"," "," ",";",";"," "," "," "," "," "," "," ",""],c.BG,a.ry,l.iD,(function(e){return e.small&&"\n    ".concat(l.HC,";\n  ")}),(function(e){return e.xxsmall&&"\n    font-size: ".concat(l.VK,"px;\n    line-height: ").concat(l.VK,"px;\n  ")}),(function(e){return!e.regular&&"\n    padding: 2px 4px;\n  "}),(function(e){return e.regular&&"\n    padding: ".concat(1*s.iI,"px ").concat(1.25*s.iI,"px;\n  ")}),(function(e){return e.noVerticalPadding&&"\n    padding-bottom: 0;\n    padding-top: 0;\n  "}),(function(e){return!e.disabled&&!e.inverted&&"\n    background-color: ".concat((e.theme||u.Z).background.row,";\n    color: ").concat((e.theme||u.Z).content.default,";\n  ")}),(function(e){return!e.disabled&&e.inverted&&"\n    background-color: ".concat((e.theme||u.Z).background.dark,";\n    color: ").concat((e.theme||u.Z).content.inverted,";\n  ")}),(function(e){return e.cyan&&"\n    background-color: ".concat((e.theme||u.Z).accent.cyan,";\n    color: ").concat((e.theme||u.Z).monotone.black,";\n  ")}),(function(e){return e.disabled&&"\n    background-color: ".concat((e.theme||u.Z).feature.disabled,";\n    color: ").concat((e.theme||u.Z).content.disabled,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color," !important;\n    color: ").concat((e.theme||u.Z).content.active,";\n  ")}),(function(e){return e.quantifier&&"\n    border-radius: 34px;\n    line-height: 10px;\n    padding: 4px 6px;\n  "}),(function(e){return e.monospace&&"\n    font-family: ".concat(a.Vp,";\n    word-break: break-all;\n  ")}));t.Z=function(e){var t=e.children,n=(0,i.Z)(e,f);return(0,d.jsx)(h,b(b({},n),{},{children:t}))}},46732:function(e,t,n){"use strict";var r=n(82394),i=n(26304),o=(n(82684),n(50724)),u=n(70374),c=n(28598),a=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid","zIndex"];function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.Z=function(e){var t=e.children,n=e.items,r=e.open,s=e.onClickCallback,d=e.onClickOutside,f=e.parentRef,p=e.uuid,b=e.zIndex,h=(0,i.Z)(e,a),O=(0,c.jsxs)("div",{style:{position:"relative",zIndex:(d?3:2)+(b||0)},children:[(0,c.jsx)("div",{ref:f,children:t}),(0,c.jsx)(u.Z,l(l({},h),{},{items:n,onClickCallback:s,open:r,parentRef:f,uuid:p}))]});return d?(0,c.jsx)(o.Z,{onClickOutside:d,open:!0,children:O}):O}},78234:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(82394),o=n(38860),u=n.n(o),c=n(82684),a=n(34376),s=n(94629),l=n(55072),d=n(53943),f=n(93808),p=n(82359),b=n(38276),h=n(4190),O=n(85544),v=n(35686),g=n(44265),j=n(70515),m=n(69419),y=n(86735),P=n(70320),w=n(28598);function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function _(){var e=(0,a.useRouter)(),t=(0,c.useState)(null),n=t[0],r=t[1],o=(0,m.iV)(),u=null!==o&&void 0!==o&&o.page?o.page:0,f=(0,m.DQ)(o,[g.P0.PIPELINE_UUID,g.P0.STATUS,g.P0.TAG]),Z=v.ZP.projects.list().data,_=(0,c.useMemo)((function(){var e;return null===Z||void 0===Z||null===(e=Z.projects)||void 0===e?void 0:e[0]}),[Z]),k=((0,c.useMemo)((function(){var e;return(0,P.hY)(null===_||void 0===_||null===(e=_.features)||void 0===e?void 0:e[p.d.LOCAL_TIMEZONE])}),[null===_||void 0===_?void 0:_.features]),x(x({},f),{},{_limit:l.Q,_offset:u*l.Q,disable_retries_grouping:!0,include_pipeline_tags:!0,include_pipeline_uuids:!0}));null!==o&&void 0!==o&&o.status&&(k.status=o.status);var C=v.ZP.pipeline_runs.list(k,{refreshInterval:3e3,revalidateOnFocus:!0}),E=C.data,D=C.mutate,M=v.ZP.tags.list().data,S=(0,c.useMemo)((function(){return(0,y.YC)((null===M||void 0===M?void 0:M.tags)||[],(function(e){return e.uuid}))}),[M]),I=(0,c.useMemo)((function(){return(null===E||void 0===E?void 0:E.pipeline_runs)||[]}),[E]),A=(0,c.useMemo)((function(){var e;return(null===E||void 0===E||null===(e=E.metadata)||void 0===e?void 0:e.count)||[]}),[E]),H=(0,c.useMemo)((function(){var e;return(null===E||void 0===E||null===(e=E.metadata)||void 0===e?void 0:e.pipeline_uuids)||[]}),[E]),N=(0,c.useMemo)((function(){return(0,w.jsx)(O.Z,{filterOptions:{pipeline_uuid:H,pipeline_tag:S.map((function(e){return e.uuid})),status:g.IK},filterValueLabelMapping:{pipeline_tag:S.reduce((function(e,t){var n=t.uuid;return x(x({},e),{},(0,i.Z)({},n,n))}),{}),status:g.Do},onClickFilterDefaults:function(){e.push("/pipeline-runs")},query:f,resetPageOnFilterApply:!0})}),[H,f,e,S]);return(0,w.jsx)(s.Z,{errors:n,setErrors:r,subheaderChildren:N,title:"Pipeline runs",uuid:"pipeline_runs/index",children:E?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(d.Z,{fetchPipelineRuns:D,includePipelineTags:!0,pipelineRuns:I,setErrors:r}),(0,w.jsx)(b.Z,{p:2,children:(0,w.jsx)(l.ZP,{maxPages:l.Et,onUpdate:function(t){var n=Number(t),r=x(x({},o),{},{page:n>=0?n:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,m.uM)(r)))},page:Number(u),totalPages:Math.ceil(A/l.Q)})})]}):(0,w.jsx)(b.Z,{p:j.Mq,children:(0,w.jsx)(h.Z,{inverted:!0,large:!0})})})}_.getInitialProps=(0,r.Z)(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),t.default=(0,f.Z)(_)},60710:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return n(78234)}])},80022:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},15544:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},13692:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(61049);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&(0,r.Z)(e,t)}},93189:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(12539),i=n(80022);function o(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},61049:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})}},function(e){e.O(0,[2678,1154,844,4267,9266,8487,8264,7858,5499,3943,2474,9774,2888,179],(function(){return t=60710,e(e.s=t);var t}));var t=e.O();_N_E=t}]);