(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{92709:function(e,n,i){"use strict";i.d(n,{$e:function(){return u},Em:function(){return p},IY:function(){return s},Jf:function(){return l},LR:function(){return t},NR:function(){return o},Qj:function(){return d},Wf:function(){return g},b7:function(){return r},m$:function(){return a},tK:function(){return c}});var r="edit",t="[ERR_BLOCK_EXISTS]",l={uuid:"All files"},s={uuid:"Current blocks"},o=[l,s],c="CUSTOM_EVENT_BLOCK_OUTPUT_CHANGED",u="CUSTOM_EVENT_CODE_BLOCK_CHANGED",a="CUSTOM_EVENT_COLUMN_SCROLLER_CURSOR_MOVED",d="CUSTOM_EVENT_COLUMN_SCROLLER_RESET",p="CUSTOM_EVENT_COLUMN_SCROLLER_SCROLL_TO_BLOCK",g="CUSTOM_EVENT_SYNC_COLUMN_POSITIONS"},74395:function(e,n,i){"use strict";i.d(n,{M:function(){return s},W:function(){return l}});var r=i(38626),t=i(46684),l=34*i(70515).iI,s=r.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],t.Mz)},8955:function(e,n,i){"use strict";i.d(n,{G7:function(){return b},ZP:function(){return P},u$:function(){return m}});var r=i(75582),t=i(82394),l=i(26304),s=i(90299),o=i(9134),c=i(24138),u=i(38276),a=i(30160),d=i(75499),p=i(70515),g=i(16488),f=i(42122),h=i(28598),v=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function j(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function x(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?j(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=44,_={uuid:"Run details"},Z={uuid:"Dependency tree"},b=[Z,_];function P(e){var n=e.height,i=e.heightOffset,t=e.pipeline,j=e.selectedRun,P=e.selectedTab,O=e.setSelectedTab,y=x({},(0,l.Z)(e,v));j?y.blockStatus=(0,g.IJ)(null===j||void 0===j?void 0:j.block_runs):y.noStatus=!0;var k=(0,f.Kn)(null===j||void 0===j?void 0:j.variables)?x({},null===j||void 0===j?void 0:j.variables):(null===j||void 0===j?void 0:j.variables)||{},S=null===j||void 0===j?void 0:j.event_variables;if(S&&(0,f.Kn)(S)&&!(0,f.Qr)(S))if((0,f.Kn)(k)&&k.hasOwnProperty("event")){var w=(0,f.Kn)(k.event)?k.event:{};k.event=x(x({},w),S)}else k.event=x({},S);var C=[];k&&JSON.stringify(k,null,2).split("\n").forEach((function(e){C.push("    ".concat(e))}));var E=j&&[["Run ID",null===j||void 0===j?void 0:j.id],["Variables",(0,h.jsx)(o.Z,{language:"json",small:!0,source:C.join("\n")},"variable_value")]],I=j&&(0,h.jsx)(u.Z,{pb:p.cd,px:p.cd,children:(0,h.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:E.map((function(e,n){var i=(0,r.Z)(e,2),t=i[0],l=i[1];return[(0,h.jsx)(a.ZP,{monospace:!0,muted:!0,children:t},"key_".concat(n)),(0,h.jsx)(a.ZP,{monospace:!0,textOverflow:!0,children:l},"val_".concat(n))]})),uuid:"LogDetail"})}),T=P&&O;return(0,h.jsxs)(h.Fragment,{children:[T&&(0,h.jsx)(u.Z,{py:p.cd,children:(0,h.jsx)(s.Z,{onClickTab:O,selectedTabUUID:null===P||void 0===P?void 0:P.uuid,tabs:b,underlineStyle:!0})}),(!T||Z.uuid===(null===P||void 0===P?void 0:P.uuid))&&(0,h.jsx)(c.ZP,x(x({},y),{},{height:n,heightOffset:(i||0)+(T?m:0),pipeline:t})),_.uuid===(null===P||void 0===P?void 0:P.uuid)&&I]})}},55072:function(e,n,i){"use strict";i.d(n,{Et:function(){return p},Q:function(){return d}});i(82684);var r=i(71180),t=i(55485),l=i(38276),s=i(31748),o=i(72473),c=i(79633),u=i(70515),a=i(28598),d=30,p=9;n.ZP=function(e){var n=e.page,i=e.maxPages,d=e.onUpdate,p=e.totalPages,g=[],f=i;if(f>p)g=Array.from({length:p},(function(e,n){return n}));else{var h=Math.floor(f/2),v=n-h;n+h>=p?(v=p-f+2,f-=2):n-h<=0?(v=0,f-=2):(f-=4,v=n-Math.floor(f/2)),g=Array.from({length:f},(function(e,n){return n+v}))}return(0,a.jsx)(a.Fragment,{children:p>0&&(0,a.jsxs)(t.ZP,{alignItems:"center",children:[(0,a.jsx)(r.ZP,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,a.jsx)(o.Hd,{size:1.5*u.iI,stroke:s.Av})}),!g.includes(0)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{ml:1,children:(0,a.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!g.includes(1)&&(0,a.jsx)(l.Z,{ml:1,children:(0,a.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),g.map((function(e){return(0,a.jsx)(l.Z,{ml:1,children:(0,a.jsx)(r.ZP,{backgroundColor:e===n&&c.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!g.includes(p-1)&&(0,a.jsxs)(a.Fragment,{children:[!g.includes(p-2)&&(0,a.jsx)(l.Z,{ml:1,children:(0,a.jsx)(r.ZP,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,a.jsx)(l.Z,{ml:1,children:(0,a.jsx)(r.ZP,{borderLess:!0,noBackground:!0,onClick:function(){return d(p-1)},children:p})},p-1)]}),(0,a.jsx)(l.Z,{ml:1}),(0,a.jsx)(r.ZP,{disabled:n===p-1,onClick:function(){return d(n+1)},children:(0,a.jsx)(o.Kw,{size:1.5*u.iI,stroke:s.Av})})]})})}},36604:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return ge}});var r=i(75582),t=i(77837),l=i(82394),s=i(38860),o=i.n(s),c=i(82684),u=i(12691),a=i.n(u),d=i(38626),p=i(69864),g=i(34376),f=i(71180),h=i(39457),v=i(15338),j=i(55485),x=i(85854),m=i(48670),_=i(55072),Z=i(75457),b=i(53943),P=i(44265),O=i(30229),y=i(57653),k=i(83784),S=i(44085),w=i(38276),C=i(4190),E=i(75499),I=i(48381),T=i(30160),N=i(12468),M=i(35686),D=i(8955),R=i(77417),U=i(74395),L=i(44425),F=i(72473),A=i(72191),H=i(70515),z=i(28795),B=i(97196),V=i(8916),K=i(16488),q=i(3917),G=i(55283),W=i(44375),X=i(15610),J=i(86735),$=i(42122),Q=i(50178),Y=i(72619),ee=i(3314),ne=i(69419),ie=i(70320),re=i(28598);function te(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function le(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?te(Object(i),!0).forEach((function(n){(0,l.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):te(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var se=function(e){var n=e.errors,i=e.fetchPipelineSchedule,t=e.pipeline,l=e.pipelineSchedule,s=e.setErrors,o=e.variables,u=(0,c.useContext)(d.ThemeContext),te=(0,R.Z)().project,se=(0,g.useRouter)(),oe=(0,Q.Ct)(),ce=(0,ie.qB)(),ue=(0,c.useMemo)((function(){return(0,J.HK)((null===t||void 0===t?void 0:t.blocks)||[],(function(e){return e.uuid}))}),[t]),ae=t||{},de=ae.uuid,pe=ae.type,ge=l||{},fe=ge.description,he=ge.id,ve=ge.event_matchers,je=ge.name,xe=ge.next_pipeline_run_date,me=ge.schedule_interval,_e=ge.schedule_type,Ze=ge.settings,be=ge.sla,Pe=ge.start_time,Oe=ge.status,ye=ge.tags,ke=ge.variables,Se=void 0===ke?{}:ke,we=(0,c.useMemo)((function(){return(0,K._U)(me)}),[me]),Ce=(0,ne.iV)(),Ee={_limit:30,_offset:30*(null!==Ce&&void 0!==Ce&&Ce.page?Ce.page:0)};null!==Ce&&void 0!==Ce&&Ce.status&&(Ee.status=Ce.status),null!==l&&void 0!==l&&l.global_data_product_uuid&&(Ee.global_data_product_uuid=null===l||void 0===l?void 0:l.global_data_product_uuid);var Ie=M.ZP.pipeline_runs.pipeline_schedules.list(he,Ee,{refreshInterval:3e3,revalidateOnFocus:!0}),Te=Ie.data,Ne=Ie.mutate,Me=(0,c.useMemo)((function(){return(null===Te||void 0===Te?void 0:Te.pipeline_runs)||[]}),[Te]),De=(0,c.useMemo)((function(){var e;return(null===Te||void 0===Te||null===(e=Te.metadata)||void 0===e?void 0:e.count)||[]}),[Te]),Re=(0,c.useState)(null),Ue=Re[0],Le=Re[1],Fe=(0,c.useMemo)((function(){var e=null!==Ce&&void 0!==Ce&&Ce.page?Ce.page:0;return(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(b.Z,{fetchPipelineRuns:Ne,onClickRow:function(e){return Le((function(n){var i=Me[e];return(null===n||void 0===n?void 0:n.id)!==i.id?i:null}))},pipelineRuns:Me,selectedRun:Ue,setErrors:s,setSelectedRun:Le}),(0,re.jsx)(w.Z,{p:2,children:(0,re.jsx)(_.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),i=le(le({},Ce),{},{page:n>=0?n:0});se.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(de,"/triggers/").concat(he,"?").concat((0,ne.uM)(i)))},page:Number(e),totalPages:Math.ceil(De/30)})})]})}),[Ne,Me,he,de,Ce,se,Ue,s,De]),Ae=(0,c.useState)(D.G7[0]),He=Ae[0],ze=Ae[1],Be=(0,p.Db)((function(e){return M.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:(0,$.gR)(e,["id"])})}),{onSuccess:function(e){return(0,Y.wD)(e,{callback:function(){i()},onErrorCallback:function(e,n){return null===s||void 0===s?void 0:s({errors:n,response:e})}})}}),Ve=(0,r.Z)(Be,2),Ke=Ve[0],qe=Ve[1].isLoading,Ge=M.ZP.pipeline_triggers.pipelines.list(de),We=Ge.data,Xe=Ge.mutate,Je=(0,c.useMemo)((function(){return(0,J.HK)((null===We||void 0===We?void 0:We.pipeline_triggers)||[],(function(e){return e.name}))}),[We]),$e=(0,c.useMemo)((function(){return!(null===Je||void 0===Je||!Je[null===l||void 0===l?void 0:l.name])}),[l,Je]),Qe=(0,p.Db)(M.ZP.pipeline_triggers.pipelines.useCreate(de),{onSuccess:function(e){return(0,Y.wD)(e,{callback:function(){Xe()},onErrorCallback:function(e,n){return null===s||void 0===s?void 0:s({errors:n,response:e})}})}}),Ye=(0,r.Z)(Qe,2),en=Ye[0],nn=Ye[1].isLoading,rn=(0,p.Db)(M.ZP.pipeline_runs.pipeline_schedules.useCreate(he),{onSuccess:function(e){return(0,Y.wD)(e,{callback:function(){Ne()},onErrorCallback:function(e,n){return null===s||void 0===s?void 0:s({errors:n,response:e})}})}}),tn=(0,r.Z)(rn,2),ln=tn[0],sn=tn[1].isLoading,on=(0,c.useMemo)((function(){return O.fq.ACTIVE===Oe}),[Oe]),cn=(0,c.useMemo)((function(){return!on&&!(_e===O.Xm.TIME&&me===O.U5.ONCE)}),[on,me,_e]),un=(0,c.useMemo)((function(){var e,n,i={default:!0,size:1.5*H.iI},r=[[(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.VW,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Trigger type"})]},"trigger_type_label"),(0,re.jsx)(T.ZP,{monospace:!0,children:null===(e=O.Z4[_e])||void 0===e?void 0:e.call(O.Z4)},"trigger_type")],[(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.rs,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Status"})]},"trigger_status_label"),(0,re.jsx)(T.ZP,{danger:!on,monospace:!0,success:on,children:Oe},"trigger_status")]];if(fe&&r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.KJ,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Description"})]},"trigger_description_label"),(0,re.jsx)(T.ZP,{children:fe},"trigger_description")]),be){var t=(0,K.gU)(be),s=t.time,o=t.unit,c=1===s?o:"".concat(o,"s");r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.kI,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"SLA"})]},"trigger_sla_label"),(0,re.jsx)(T.ZP,{monospace:!0,children:"".concat(s," ").concat(c)},"trigger_sla")])}if(me&&r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.Pf,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Frequency"})]},"trigger_frequency_label"),(0,re.jsx)(T.ZP,{monospace:!0,children:ce&&we?(0,K.lO)(me):me.replace("@","")},"trigger_frequency")],[(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.aw,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Next run date"})]},"trigger_next_run_date_label"),(0,re.jsx)(T.ZP,{monospace:!0,children:xe?ce?(0,q.XG)(xe,ce):(0,q.d$)(xe,{includeSeconds:!0,utcFormat:!0}):"N/A"},"trigger_next_run_date")]),Pe&&r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.aw,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Start date"})]},"trigger_start_date_label"),(0,re.jsx)(T.ZP,{monospace:!0,children:ce?(0,q.XG)(Pe,ce):Pe},"trigger_start_date")]),O.Xm.API===_e){var u=(0,K.M8)(l);r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(F.Ae,le({},i)),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"API endpoint"})]},"trigger_api_endpoint_label"),(0,re.jsx)(h.Z,{copiedText:u,children:(0,re.jsx)(T.ZP,{monospace:!0,small:!0,children:u})},"trigger_api_endpoint")])}if(null!==Ze&&void 0!==Ze&&Ze.timeout){var a=(0,K.gU)(null===Ze||void 0===Ze?void 0:Ze.timeout),d=a.time,p=a.unit,g=1===d?p:"".concat(p,"s");r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(N.Z,{default:!0,label:"Timeout set for runs of this trigger",size:1.5*H.iI,widthFitContent:!0}),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Timeout"})]},"trigger_timeout"),(0,re.jsx)(T.ZP,{monospace:!0,children:"".concat(d," ").concat(g)},"trigger_timeout_label")])}null!==Ze&&void 0!==Ze&&Ze.skip_if_previous_running&&r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(N.Z,{default:!0,label:"Skip current run if any previous runs are still in progress",size:1.5*H.iI,widthFitContent:!0}),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Skip if running"})]},"trigger_skip_if_running"),(0,re.jsx)(T.ZP,{monospace:!0,children:null===(n=Ze.skip_if_previous_running)||void 0===n?void 0:n.toString()},"trigger_skip_if_running_label")]);return null!==Ze&&void 0!==Ze&&Ze.allow_blocks_to_fail&&r.push([(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(N.Z,{default:!0,label:"Trigger runs will continue running blocks if other unrelated blocks fail",size:1.5*H.iI,widthFitContent:!0}),(0,re.jsx)(w.Z,{mr:1}),(0,re.jsx)(T.ZP,{default:!0,children:"Allow blocks to fail"})]},"trigger_allow_blocks_to_fail"),(0,re.jsx)(T.ZP,{monospace:!0,children:Ze.allow_blocks_to_fail.toString()},"trigger_allow_blocks_to_fail_label")]),(0,re.jsx)(E.Z,{columnFlex:[null,1],rows:r})}),[fe,ce,on,we,xe,l,me,_e,Ze,be,Pe,Oe]),an=(0,c.useMemo)((function(){return Se||{}}),[Se]),dn=(0,c.useMemo)((function(){var e,n=[];return(0,$.Qr)(an)?n=(0,V.wx)(o,(function(e){return e.uuid===k.C})):Object.entries(an).forEach((function(e){var i=(0,r.Z)(e,2),t=i[0],l=i[1];[P.sZ,O.PN].includes(t)||n.push({uuid:t,value:(0,V.FS)(l)})})),"undefined"!==typeof(n=(0,V.JZ)(n||[],_e))&&null!==(e=n)&&void 0!==e&&e.length?(0,re.jsx)(E.Z,{columnFlex:[null,1],rows:n.map((function(e){var n=e.uuid,i=e.value;return[(0,re.jsx)(T.ZP,{default:!0,monospace:!0,children:n},"settings_variable_label_".concat(n)),(0,re.jsx)(T.ZP,{monospace:!0,children:i},"settings_variable_".concat(n))]}))}):null}),[_e,an,o]),pn=(0,c.useMemo)((function(){var e=null===an||void 0===an?void 0:an[O.PN];return e?(0,re.jsx)(re.Fragment,{children:Object.entries(e||{}).map((function(e){var n,i=(0,r.Z)(e,2),t=i[0],l=i[1],s=null===ue||void 0===ue?void 0:ue[t];return(0,re.jsxs)(w.Z,{mt:1,children:[(0,re.jsx)(w.Z,{pb:1,px:H.cd,children:(0,re.jsx)(T.ZP,{color:(0,G.qn)(null===s||void 0===s?void 0:s.type,{blockColor:null===s||void 0===s?void 0:s.color,theme:u}).accent,monospace:!0,children:t})}),(0,re.jsx)(v.Z,{light:!0}),null===(n=Object.entries(l||{}))||void 0===n?void 0:n.map((function(e,n){var i=(0,r.Z)(e,2),t=i[0],l=i[1];return(0,re.jsx)("div",{children:(0,re.jsx)(E.Z,{columnFlex:[null,1],rows:[[(0,re.jsx)(T.ZP,{default:!0,monospace:!0,children:"Stream"},"stream_title_".concat(n)),(0,re.jsx)(T.ZP,{monospace:!0,rightAligned:!0,children:t},"stream_id_".concat(n))]].concat(Object.entries(l||{}).map((function(e){var n=(0,r.Z)(e,2),i=n[0],t=n[1];return[(0,re.jsx)(T.ZP,{default:!0,monospace:!0,children:i},"settings_variable_label_".concat(i)),(0,re.jsx)(T.ZP,{monospace:!0,rightAligned:!0,children:t},"settings_variable_".concat(i))]})))})},t)}))]},t)}))}):null}),[ue,an,u]),gn=(0,c.useMemo)((function(){var e,n,i=[],r=null===an||void 0===an||null===(e=an[P.sZ])||void 0===e?void 0:e.blocks;return null===t||void 0===t||null===(n=t.blocks)||void 0===n||n.forEach((function(e){var n=e.type,t=e.uuid;if(L.tf.DBT===n){var l,s=(null===r||void 0===r||null===(l=r[t])||void 0===l?void 0:l.configuration)||{},o=s.flags,c=s.prefix,u=s.suffix,a=(0,W.IU)(e).name;(o||c||u)&&i.push({flags:o,prefix:c,suffix:u,uuid:a})}})),"undefined"!==typeof i&&null!==i&&void 0!==i&&i.length?(0,re.jsx)(E.Z,{columnFlex:[1,null],rows:i.map((function(e){var n=e.flags,i=e.prefix,r=e.suffix,t=e.uuid;return[(0,re.jsxs)(T.ZP,{monospace:!0,small:!0,children:[i&&(0,re.jsx)(T.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:i}),t,r&&(0,re.jsx)(T.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:r})]},"settings_variable_label_".concat(t)),(0,re.jsx)(T.ZP,{monospace:!0,muted:!0,small:!0,children:n&&n.join(", ")},"settings_variable_".concat(t))]}))}):null}),[t,an]),fn=(0,c.useMemo)((function(){return(0,re.jsx)(E.Z,{columnFlex:[null,1],columns:[{uuid:"Provider"},{uuid:"Event"}],rows:null===ve||void 0===ve?void 0:ve.map((function(e,n){var i=e.event_type,r=e.name;return[(0,re.jsx)(T.ZP,{default:!0,monospace:!0,children:B._P[i].label()},"".concat(i,"_").concat(n,"_label")),(0,re.jsx)(T.ZP,{monospace:!0,children:r},"".concat(i,"_").concat(n,"_name"))]}))})}),[ve]),hn=(0,c.useMemo)((function(){var e,n,i,r,l,s,o;return"undefined"===typeof(null===t||void 0===t||null===(e=t.settings)||void 0===e||null===(n=e.triggers)||void 0===n?void 0:n.save_in_code_automatically)?null===te||void 0===te||null===(i=te.pipelines)||void 0===i||null===(r=i.settings)||void 0===r||null===(l=r.triggers)||void 0===l?void 0:l.save_in_code_automatically:null===t||void 0===t||null===(s=t.settings)||void 0===s||null===(o=s.triggers)||void 0===o?void 0:o.save_in_code_automatically}),[t,te]);return(0,re.jsxs)(Z.Z,{afterHidden:!Ue,before:(0,re.jsxs)(U.M,{children:[(0,re.jsxs)(w.Z,{mb:H.HN,pt:H.cd,px:H.cd,children:[(0,re.jsxs)(w.Z,{mb:H.cd,children:[O.Xm.TIME===_e&&(0,re.jsx)(F.kO,{size:5*H.iI}),O.Xm.EVENT===_e&&(0,re.jsx)(F.Jp,{size:5*H.iI}),O.Xm.API===_e&&(0,re.jsx)(F.Bf,{size:5*H.iI}),!_e&&(0,re.jsx)(F.VW,{size:5*H.iI})]}),(0,re.jsx)(x.Z,{children:je})]}),(0,re.jsx)(w.Z,{px:H.cd,children:(0,re.jsx)(x.Z,{level:5,children:"Settings"})}),(0,re.jsx)(v.Z,{light:!0,mt:1,short:!0}),un,(null===ve||void 0===ve?void 0:ve.length)>=1&&(0,re.jsxs)(w.Z,{my:H.HN,children:[(0,re.jsx)(w.Z,{px:H.cd,children:(0,re.jsx)(x.Z,{level:5,children:"Events"})}),(0,re.jsx)(v.Z,{light:!0,mt:1,short:!0}),fn]}),dn&&(0,re.jsxs)(w.Z,{my:H.HN,children:[(0,re.jsx)(w.Z,{px:H.cd,children:(0,re.jsx)(x.Z,{level:5,children:"Runtime variables"})}),(0,re.jsx)(v.Z,{light:!0,mt:1,short:!0}),dn]}),pn&&(0,re.jsxs)(w.Z,{my:H.HN,children:[(0,re.jsx)(w.Z,{px:H.cd,children:(0,re.jsx)(x.Z,{level:5,children:"Bookmark values"})}),(0,re.jsx)(v.Z,{light:!0,mt:1,short:!0}),pn]}),gn&&(0,re.jsxs)(w.Z,{my:H.HN,children:[(0,re.jsx)(w.Z,{px:H.cd,children:(0,re.jsx)(x.Z,{level:5,children:"dbt runtime settings"})}),(0,re.jsx)(v.Z,{light:!0,mt:1,short:!0}),gn]}),(null===ye||void 0===ye?void 0:ye.length)>=1&&(0,re.jsxs)(w.Z,{my:H.HN,children:[(0,re.jsx)(w.Z,{px:H.cd,children:(0,re.jsx)(x.Z,{level:5,children:"Tags"})}),(0,re.jsx)(v.Z,{light:!0,mt:1,short:!0}),(0,re.jsx)(w.Z,{mt:H.cd,px:H.cd,children:(0,re.jsx)(I.Z,{tags:null===ye||void 0===ye?void 0:ye.map((function(e){return{uuid:e}}))})})]}),"\\",(0,re.jsx)(w.Z,{my:H.HN,children:(0,re.jsxs)(w.Z,{px:H.cd,children:[(0,re.jsxs)(x.Z,{level:5,children:[$e&&"Trigger exists in code",!$e&&"Store trigger in code"]}),(0,re.jsxs)(w.Z,{mt:1,children:[hn&&(0,re.jsxs)(T.ZP,{default:!0,children:["This trigger will automatically be persisted in code. To change this behavior, update the ",(0,re.jsx)(a(),{as:"/pipelines/".concat(de,"/settings"),href:"/pipelines/[pipeline]/settings",passHref:!0,children:(0,re.jsx)(m.Z,{openNewWindow:!0,children:"pipeline\u2019s settings"})})," or ",(0,re.jsx)(a(),{as:"/settings/workspace/preferences",href:"/settings/workspace/preferences",passHref:!0,children:(0,re.jsx)(m.Z,{openNewWindow:!0,children:"project settings"})}),"."]}),!hn&&(0,re.jsxs)(T.ZP,{default:!0,children:["Save or update the trigger and its settings in the pipeline\u2019s metadata and version control the trigger using Git. For more information, please read the ",(0,re.jsx)(m.Z,{href:"https://docs.mage.ai/guides/triggers/configure-triggers-in-code",openNewWindow:!0,children:"documentation"}),"."]})]}),!hn&&(0,re.jsxs)(w.Z,{mt:H.cd,children:[!We&&(0,re.jsx)(C.Z,{inverted:!0}),We&&(0,re.jsxs)(f.ZP,{disabled:!(null!==l&&void 0!==l&&l.id),loading:nn,onClick:function(){en({pipeline_trigger:{pipeline_schedule_id:null===l||void 0===l?void 0:l.id}})},secondary:!0,children:[$e&&"Update trigger in code",!$e&&"Save trigger in code"]})]})]})})]}),beforeWidth:U.W,breadcrumbs:[{label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(de,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{label:function(){return je},linkProps:{as:"/pipelines/".concat(de,"/triggers/").concat(he),href:"/pipelines/[pipeline]/triggers/[...slug]"}}],buildSidekick:function(e){return(0,D.ZP)(le(le({},e),{},{selectedRun:Ue,selectedTab:He,setSelectedTab:ze}))},errors:n,pageName:z.M.TRIGGERS,pipeline:t,setErrors:s,subheader:(0,re.jsxs)(j.ZP,{alignItems:"center",children:[(0,re.jsx)(f.ZP,{beforeIcon:on?(0,re.jsx)(F.nr,{size:A.bL}):(0,re.jsx)(F.Bf,{inverted:!oe,size:A.bL}),danger:on&&!oe,loading:qe,onClick:function(e){(0,ee.j)(e),Ke({id:he,status:on?O.fq.INACTIVE:O.fq.ACTIVE})},outline:!0,success:!on&&!oe,children:on?"Disable trigger":"Enable trigger"}),(0,re.jsx)(w.Z,{mr:H.cd}),pe!==y.qL.STREAMING&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(f.ZP,{beforeIcon:(0,re.jsx)(F.xF,{size:A.bL}),disabled:cn,loading:sn,onClick:function(){return ln({pipeline_run:{pipeline_schedule_id:he,pipeline_uuid:de,variables:an}})},outline:!0,title:cn?"Trigger must be enabled to run@once":"Manually run pipeline once immediately",children:(0,re.jsx)(T.ZP,{disabled:cn,children:"Run@once"})}),(0,re.jsx)(w.Z,{mr:H.cd})]}),!oe&&(0,re.jsxs)(re.Fragment,{children:[(0,re.jsx)(f.ZP,{beforeIcon:(0,re.jsx)(F.I8,{size:A.bL}),linkProps:{as:"/pipelines/".concat(de,"/triggers/").concat(he,"/edit"),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit trigger"}),(0,re.jsx)(w.Z,{mr:H.cd})]}),(0,re.jsxs)(S.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?se.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(de,"/triggers/").concat(he)):(0,X.u)({page:0,status:e.target.value})},paddingRight:4*H.iI,placeholder:"Select run status",value:(null===Ce||void 0===Ce?void 0:Ce.status)||"all",children:[(0,re.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),P.IK.map((function(e){return(0,re.jsx)("option",{value:e,children:P.Do[e]},e)}))]})]}),title:function(){return je},uuid:"triggers/detail",children:[(0,re.jsx)(w.Z,{mt:H.cd,px:H.cd,children:(0,re.jsx)(x.Z,{level:5,children:"Runs for this trigger"})}),(0,re.jsx)(v.Z,{light:!0,mt:H.cd,short:!0}),Fe]})},oe=i(12717),ce=i(93808),ue=i(92709);function ae(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,r)}return i}function de(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ae(Object(i),!0).forEach((function(n){(0,l.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ae(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function pe(e){var n=e.pipelineScheduleId,i=e.pipelineUUID,r=e.subpath,t=ue.b7===r,l=(0,c.useState)(null),s=l[0],o=l[1],u=M.ZP.variables.pipelines.list(i,{},{revalidateOnFocus:!1}).data,a=null===u||void 0===u?void 0:u.variables,d={};t&&(d._format="with_runtime_average");var p=M.ZP.pipeline_schedules.detail("undefined"!==typeof n&&n,d),g=p.data,f=p.mutate,h=null===g||void 0===g?void 0:g.pipeline_schedule,v=M.ZP.pipelines.detail(i,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,j=de(de({},null===v||void 0===v?void 0:v.pipeline),{},{uuid:i});return t?(0,re.jsx)(oe.Z,{errors:s,fetchPipelineSchedule:f,pipeline:j,pipelineSchedule:h,setErrors:o,variables:a}):(0,re.jsx)(se,{errors:s,fetchPipelineSchedule:f,pipeline:j,pipelineSchedule:h,setErrors:o,variables:a})}pe.getInitialProps=function(){var e=(0,t.Z)(o().mark((function e(n){var i,t,l,s,c,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.query,t=i.pipeline,l=i.slug,!Array.isArray(l)){e.next=4;break}return s=(0,r.Z)(l,2),c=s[0],u=s[1],e.abrupt("return",{pipelineScheduleId:c,pipelineUUID:t,subpath:u});case 4:return e.abrupt("return",{pipelineUUID:t});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ge=(0,ce.Z)(pe)},95488:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers/[...slug]",function(){return i(36604)}])}},function(e){e.O(0,[2678,1154,844,5820,1124,341,9161,4495,9302,4267,9266,9626,8264,7858,5499,5283,5457,3745,1769,3943,6798,2717,9774,2888,179],(function(){return n=95488,e(e.s=n);var n}));var n=e.O();_N_E=n}]);