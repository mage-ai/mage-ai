(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4947],{44162:function(e,t,n){"use strict";n.d(t,{HC:function(){return v},Kf:function(){return s},Nk:function(){return p},gE:function(){return h},jv:function(){return f},oh:function(){return d},qn:function(){return l},t1:function(){return b},y9:function(){return m}});var r=n(46313),o=n(23831),i=n(73942),c=n(86422),u=n(49125),a=n(90880),d=68;function l(e,t){var n=(t.theme.borders||o.Z.borders).light,r=(t.theme.monotone||o.Z.monotone).grey500,i=t||{},u=i.isSelected,a=i.theme;return u?n=(a.content||o.Z.content).active:c.tf.TRANSFORMER===e?(n=(a.accent||o.Z.accent).purple,r=(a.accent||o.Z.accent).purpleLight):c.tf.DATA_EXPORTER===e?(n=(a.accent||o.Z.accent).yellow,r=(a.accent||o.Z.accent).yellowLight):c.tf.DATA_LOADER===e?(n=(a.accent||o.Z.accent).blue,r=(a.accent||o.Z.accent).blueLight):c.tf.SCRATCHPAD===e?(n=(a.content||o.Z.content).default,r=(a.accent||o.Z.accent).contentDefaultTransparent):c.tf.SENSOR===e&&(n=(a.accent||o.Z.accent).pink,r=(a.accent||o.Z.accent).pinkLight),{accent:n,accentLight:r}}var s=(0,r.css)([""," "," "," "," ",""],(0,a.eR)(),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat(l(e.blockType,e).accentLight,";\n  ")}),(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(l(e.blockType,e).accent,";\n  ")}),(function(e){return!e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.accent||o.Z.accent).negativeTransparent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||o.Z.borders).danger,";\n  ")})),p=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;position:relative;"],i.n_),f=r.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-1"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:solid;border-top-width:2px;padding-bottom:","px;padding-top:","px;position:relative;"," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],s,i.n_,i.n_,u.iI,u.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||o.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.hasOutput&&"\n    border-bottom-left-radius: ".concat(i.n_,"px;\n    border-bottom-right-radius: ").concat(i.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),h=r.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-2"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:10;&:hover{.block-divider-inner{","}}"],2*u.iI,(function(e){return"\n        background-color: ".concat((e.theme.text||o.Z.text).fileBrowser,";\n      ")})),b=r.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-3"})(["height 1px;width:100%;position:absolute;z-index:-1;"]),m=r.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-4"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],u.cd*u.iI,u.iI,d,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||o.Z.borders).medium,";\n  ")})),v=r.default.div.withConfig({displayName:"indexstyle__TimeTrackerStyle",componentId:"sc-s5rj34-5"})(["bottom:","px;left:","px;position:absolute;"],1*u.iI,d)},43032:function(e,t,n){"use strict";n.d(t,{Cl:function(){return u},Nk:function(){return a},ZG:function(){return c}});var r=n(46313),o=n(23831),i=n(49125),c=1.5*i.iI,u=1*c+i.iI/2,a=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-uvd91-0"})([".row:hover{","}"],(function(e){return"\n      background-color: ".concat((e.theme.interactive||o.Z.interactive).hoverBackground,";\n    ")}))},45739:function(e,t,n){"use strict";n.d(t,{K:function(){return o}});var r=n(31969),o=function(e){var t=e||r.Z,n=t.brand,o=n.earth200,i=n.earth300,c=n.earth400,u=n.energy200,a=n.energy300,d=n.energy400,l=n.fire200,s=n.fire300,p=n.fire400,f=n.water200,h=n.water300,b=n.water400,m=n.wind200,v=n.wind300,g=n.wind400,x=t.chart;return[x.backgroundPrimary,x.backgroundSecondary,x.backgroundTertiary].concat([g,b,p,d,c,v,h,s,a,i,m,f,l,u,o])}},86422:function(e,t,n){"use strict";n.d(t,{$W:function(){return d},DA:function(){return a},Qj:function(){return s},Ut:function(){return b},V4:function(){return h},VZ:function(){return l},f2:function(){return f},iZ:function(){return p},t6:function(){return i},tf:function(){return c}});var r,o,i,c,u=n(82394);!function(e){e.PYTHON="python",e.SQL="sql",e.YAML="yaml"}(i||(i={})),function(e){e.CHART="chart",e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.SCRATCHPAD="scratchpad",e.SENSOR="sensor",e.TRANSFORMER="transformer"}(c||(c={}));var a,d=[c.CHART,c.DATA_EXPORTER,c.DATA_LOADER,c.SCRATCHPAD,c.SENSOR,c.TRANSFORMER],l=[c.DATA_EXPORTER,c.DATA_LOADER],s=[c.CHART,c.SCRATCHPAD,c.SENSOR],p=[c.SCRATCHPAD];!function(e){e.EXECUTED="executed",e.FAILED="failed",e.NOT_EXECUTED="not_executed",e.UPDATED="updated"}(a||(a={}));var f=[c.DATA_EXPORTER,c.TRANSFORMER],h=(r={},(0,u.Z)(r,c.DATA_EXPORTER,"Data exporter"),(0,u.Z)(r,c.DATA_LOADER,"Data loader"),(0,u.Z)(r,c.SCRATCHPAD,"Scratchpad"),(0,u.Z)(r,c.SENSOR,"Sensor"),(0,u.Z)(r,c.TRANSFORMER,"Transformer"),r),b=[c.DATA_LOADER,c.TRANSFORMER,c.DATA_EXPORTER];o={},(0,u.Z)(o,c.DATA_EXPORTER,"DE"),(0,u.Z)(o,c.DATA_LOADER,"DL"),(0,u.Z)(o,c.SCRATCHPAD,"SP"),(0,u.Z)(o,c.SENSOR,"SR"),(0,u.Z)(o,c.TRANSFORMER,"TF")},68805:function(e,t,n){"use strict";n.r(t);var r=n(77837),o=n(12757),i=n(82394),c=n(38860),u=n.n(c),a=n(82684),d=n(92083),l=n.n(d),s=n(16634),p=n(67971),f=n(87372),h=n(68735),b=n(87465),m=n(86673),v=n(55378),g=n(19711),x=n(41374),T=n(28799),A=n(23831),R=n(73942),y=n(43032),E=n(92953),_=n(46313),Z=n(44162),D=n(24224),O=n(96510),S=n(83455),C=n(28598);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=e.pipeline,n=(0,a.useContext)(_.ThemeContext),c=(0,a.useState)(null),d=c[0],k=c[1],j=t.uuid,P=x.ZP.pipelines.detail(j).data,N=(0,a.useMemo)((function(){return w(w({},null===P||void 0===P?void 0:P.pipeline),{},{uuid:j})}),[P,j]),M=x.ZP.pipeline_schedules.pipelines.list(j).data,I=(0,a.useMemo)((function(){return null===M||void 0===M?void 0:M.pipeline_schedules}),[M]),L=(0,a.useMemo)((function(){return(0,D.HK)(null===N||void 0===N?void 0:N.blocks,(function(e){return e.uuid}))||{}}),[N]),X=(0,a.useState)(null),H=X[0],F=X[1],B=(0,S.Db)(function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat((0,T.ZP)(x.x8),"/block_run_time?pipeline_uuid=").concat(j),(t||0===t)&&(n+="&pipeline_schedule_id=".concat(t)),e.abrupt("return",fetch(n,{method:"GET"}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),{onSuccess:function(e){return(0,O.wD)(e,{callback:function(e){F(e)}})}}),q=(0,o.Z)(B,1)[0];(0,a.useEffect)((function(){q(d)}),[q]);var U=((null===H||void 0===H?void 0:H.monitor_stats)||{}).stats,G=(0,a.useMemo)((function(){for(var e=new Date,t=[],n=0;n<90;n++)t.unshift(e.toISOString().split("T")[0]),e.setDate(e.getDate()-1);return t}),[]),K=(0,a.useMemo)((function(){if(U)return Object.entries(U).reduce((function(e,t){var n=(0,o.Z)(t,2),r=n[0],c=n[1].data;return w(w({},e),{},(0,i.Z)({},r,G.map((function(e){return{x:e,y:e in c?[c[e]]:null}}))))}),{})}),[U]),z=(0,a.useMemo)((function(){var e=[];return e.push({bold:!0,label:function(){return"Monitors"}}),e}),[N]);return(0,C.jsx)(b.Z,{breadcrumbs:z,monitorType:E.a.BLOCK_RUNTIME,pipeline:N,subheader:(0,C.jsx)(p.Z,{children:(0,C.jsxs)(v.Z,{backgroundColor:A.Z.interactive.defaultBackground,label:"Trigger:",onChange:function(e){var t=e.target.value;"initial"!==t?(q(t),k(t)):(q(),k(null))},value:d||"initial",children:[(0,C.jsx)("option",{value:"initial",children:"All"}),I&&I.map((function(e){return(0,C.jsx)("option",{value:e.id,children:e.name})}))]})}),children:(0,C.jsx)(m.Z,{mx:2,children:K&&Object.entries(K).map((function(e){var t,r=(0,o.Z)(e,2),i=r[0],c=r[1];return(0,C.jsxs)(m.Z,{mt:2,children:[(0,C.jsxs)(p.Z,{alignItems:"center",children:[(0,C.jsx)(m.Z,{mx:1,children:(0,C.jsx)(s.Z,{color:(0,Z.qn)(null===(t=L[i])||void 0===t?void 0:t.type,{theme:n}).accent,size:y.ZG,square:!0})}),(0,C.jsx)(f.Z,{level:4,children:i})]}),(0,C.jsx)("div",{style:{backgroundColor:A.Z.background.chartBlock,borderRadius:"".concat(R.TR,"px"),marginTop:"8px"},children:(0,C.jsx)(h.Z,{data:c,getX:function(e){return l()(e.x).valueOf()},gridProps:{stroke:"black",strokeDasharray:null,strokeOpacity:.2},height:200,hideGridX:!0,margin:{top:10,bottom:30,left:35,right:-1},noCurve:!0,renderXTooltipContent:function(e){return(0,C.jsx)(g.ZP,{center:!0,small:!0,children:l()(e.x).format("MMM DD")})},renderYTooltipContent:function(e){var t,n=null===e||void 0===e||null===(t=e.y)||void 0===t?void 0:t[0];return void 0!=n&&(0,C.jsx)(g.ZP,{center:!0,small:!0,children:n.toFixed?n.toFixed(3):n})},thickStroke:!0,xLabelFormat:function(e){return l()(e).format("MMM DD")},xLabelRotate:!1})})]})}))})})}j.getInitialProps=function(){var e=(0,r.Z)(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.pipeline,e.abrupt("return",{pipeline:{uuid:n}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.default=j},76017:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/monitors/block-runtime",function(){return n(68805)}])}},function(e){e.O(0,[3662,4259,5870,2083,6674,2714,9832,2874,1374,6182,1404,1273,9898,3461,2249,9774,2888,179],(function(){return t=76017,e(e.s=t);var t}));var t=e.O();_N_E=t}]);