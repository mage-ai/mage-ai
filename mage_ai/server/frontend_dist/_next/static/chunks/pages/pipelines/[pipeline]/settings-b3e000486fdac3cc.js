(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8170],{1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(82394),i=t(21831),o=t(82684),c=t(47999),l=t(49894),u=t(93461),a=t(57384),d=t(12344),s=t(72454),p=t(28598);function f(e,n){var t=e.children;return(0,p.jsx)(s.HS,{ref:n,children:t})}var b=o.forwardRef(f),h=t(32063),v=t(15270),g=t(82531),m=t(66166),j=t(3055),O=t(49125),x=t(91427),y=t(24141);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){var n,t=e.after,r=e.afterHidden,f=e.afterWidth,k=e.afterWidthOverride,Z=e.before,P=e.beforeWidth,_=e.breadcrumbs,C=e.children,S=e.errors,I=e.headerMenuItems,D=e.navigationItems,E=e.setErrors,M=e.subheaderChildren,N=e.title,q=e.uuid,H=(0,y.i)().width,W="dashboard_after_width_".concat(q),B="dashboard_before_width_".concat(q),T=(0,o.useRef)(null),A=(0,o.useState)(k?f:(0,x.U2)(W,f)),F=A[0],U=A[1],z=(0,o.useState)(!1),R=z[0],J=z[1],Y=(0,o.useState)(Z?Math.max((0,x.U2)(B,P),13*O.iI):null),G=Y[0],L=Y[1],X=(0,o.useState)(!1),V=X[0],K=X[1],Q=(0,o.useState)(null)[1],$=g.ZP.projects.list({},{revalidateOnFocus:!1}).data,ee=null===$||void 0===$?void 0:$.projects,ne=[];_?ne.push.apply(ne,(0,i.Z)(_)):(null===ee||void 0===ee?void 0:ee.length)>=1&&ne.push.apply(ne,[{label:function(){var e;return null===(e=ee[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return N}}]),(0,o.useEffect)((function(){null===T||void 0===T||!T.current||R||V||null===Q||void 0===Q||Q(T.current.getBoundingClientRect().width)}),[R,F,V,G,T,Q,H]),(0,o.useEffect)((function(){R||(0,x.t8)(W,F)}),[r,R,F,W]),(0,o.useEffect)((function(){V||(0,x.t8)(B,G)}),[V,G,B]);var te=(0,m.Z)(f);return(0,o.useEffect)((function(){k&&te!==f&&U(f)}),[k,f,te]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(a.Z,{title:N}),(0,p.jsx)(d.Z,{breadcrumbs:ne,menuItems:I,project:null===ee||void 0===ee?void 0:ee[0],version:null===ee||void 0===ee||null===(n=ee[0])||void 0===n?void 0:n.version}),(0,p.jsxs)(s.Nk,{children:[0!==(null===D||void 0===D?void 0:D.length)&&(0,p.jsx)(s.lm,{children:(0,p.jsx)(v.Z,{navigationItems:D})}),(0,p.jsx)(u.Z,{flex:1,flexDirection:"column",children:(0,p.jsxs)(h.Z,{after:t,afterHeightOffset:j.Mz,afterHidden:r,afterMousedownActive:R,afterWidth:F,before:Z,beforeHeightOffset:j.Mz,beforeMousedownActive:V,beforeWidth:s.k1+(Z?G:0),hideAfterCompletely:!0,leftOffset:Z?s.k1:null,mainContainerRef:T,setAfterMousedownActive:J,setAfterWidth:U,setBeforeMousedownActive:K,setBeforeWidth:L,children:[M&&(0,p.jsx)(b,{children:M}),C]})})]}),S&&(0,p.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===E||void 0===E?void 0:E(null)},children:(0,p.jsx)(l.Z,w(w({},S),{},{onClose:function(){return null===E||void 0===E?void 0:E(null)}}))})]})}},60547:function(e,n,t){"use strict";t.d(n,{Z:function(){return Z}});var r=t(82394),i=t(21831),o=t(82684),c=t(47999),l=t(1210),u=t(34744),a=t(49894),d=t(67971),s=t(87372),p=t(86673),f=t(82531),b=t(9518),h=t(23831),v=t(73942),g=t(49125),m=b.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],v.n_,3*g.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||h.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),j=t(3055),O=t(95354),x=t(24141),y=t(28598);function k(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?k(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):k(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Z=function(e){var n=e.after,t=e.afterHidden,r=e.afterWidth,b=e.before,h=e.beforeWidth,v=e.breadcrumbs,k=e.buildSidekick,Z=e.children,P=e.errors,_=e.headline,C=e.pageName,S=e.pipeline,I=e.setErrors,D=e.subheader,E=e.subheaderBackground,M=e.subheaderBackgroundImage,N=e.subheaderButton,q=e.subheaderText,H=e.title,W=e.uuid,B=(0,x.i)().height,T=S.uuid,A=f.ZP.pipelines.detail(T,{includes_outputs:!1},{revalidateOnFocus:!1}).data,F=null===A||void 0===A?void 0:A.pipeline,U=(0,o.useMemo)((function(){return n||(k?k({height:B,heightOffset:j.Mz,pipeline:F}):null)}),[n,k,B,F]),z=r||(U?50*g.iI:null),R=(0,o.useMemo)((function(){var e=[];return F&&(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),v?(e.push({label:function(){return F.uuid},linkProps:{as:"/pipelines/".concat(T,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(v)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return F.name}})),e}),[v,F,T]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(l.Z,{after:U,afterHidden:t,afterWidth:z,before:b,beforeWidth:h,breadcrumbs:R,navigationItems:(0,O.H)(C,F),subheaderChildren:"undefined"!==typeof D&&D,title:F?H?H(F):F.name:null,uuid:W,children:[(N||q)&&(0,y.jsx)(p.Z,{mb:g.Mq,mt:g.cd,mx:g.cd,children:(0,y.jsx)(m,{background:E,backgroundImage:M,children:(0,y.jsxs)(d.Z,{alignItems:"center",children:[N,q&&(0,y.jsx)(p.Z,{ml:3}),q]})})}),_&&(0,y.jsx)(p.Z,{p:g.cd,children:(0,y.jsxs)(p.Z,{mt:g.cd,px:g.cd,children:[(0,y.jsx)(s.Z,{level:5,children:_}),(0,y.jsx)(u.Z,{light:!0,mt:g.cd,short:!0})]})}),Z]}),P&&(0,y.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===I||void 0===I?void 0:I(null)},children:(0,y.jsx)(a.Z,w(w({},P),{},{onClose:function(){return null===I||void 0===I?void 0:I(null)}}))})]})}},38341:function(e,n,t){"use strict";var r=t(21831),i=t(82394),o=t(26304),c=(t(82684),t(9518)),l=t(67971),u=t(86673),a=t(19711),d=t(23831),s=t(10503),p=t(73942),f=t(49125),b=t(28598),h=["beforeIcon","checked","disabled","errorMessage","label","labelDescription","large","meta","monospace","onClick","required","small","warning","xsmall"];function v(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function g(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?v(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):v(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var m=c.default.div.withConfig({displayName:"Checkbox__CheckboxContainer",componentId:"sc-ujqx42-0"})(["display:inline-block;vertical-align:middle;cursor:pointer;"]),j=c.default.div.withConfig({displayName:"Checkbox__ErrorContainer",componentId:"sc-ujqx42-1"})(["margin-top:4px;"]),O=c.default.input.withConfig({displayName:"Checkbox__HiddenCheckbox",componentId:"sc-ujqx42-2"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;",""],(function(e){return e.notClickable&&"\n    background-color: ".concat((e.theme.content||d.Z.content).disabled,"\n    border-color: ").concat((e.theme.content||d.Z.content).disabled,"\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  ")})),x=c.default.div.withConfig({displayName:"Checkbox__StyledCheckbox",componentId:"sc-ujqx42-3"})(["border-radius:","px;height:","px;transition:all 150ms;width:","px;svg{position:relative;visibility:",";}"," "," "," "," input[disabled]{cursor:default;}"," ",""],.5*f.iI,2*f.iI,2*f.iI,(function(e){return e.checked||e.required?"visible":"hidden"}),(function(e){return e.large&&"\n    svg {\n      left: -4px;\n      top: -8px;\n    }\n  "}),(function(e){return!e.checked&&"\n    background-color: ".concat((e.theme.background||d.Z.background).popup,";\n    border: ").concat(p.PV,"px ").concat(p.M8," ").concat((e.theme.content||d.Z.content).muted,";\n  ")}),(function(e){return e.checked&&"\n    background-color: ".concat((e.theme.interactive||d.Z.interactive).checked,";\n    border: ").concat(p.YF,"px ").concat(p.M8," transparent;\n  ")}),(function(e){return e.required&&"\n    background-color: ".concat((e.theme.content||d.Z.content).disabled,";\n    border: ").concat(p.YF,"px ").concat(p.M8," transparent;\n  ")}),(function(e){return e.disabled&&"\n    background-color: ".concat((e.theme.content||d.Z.content).disabled,";\n    border-color: ").concat((e.theme.content||d.Z.content).disabled,";\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  ")}),(function(e){return e.warning&&"\n    background-color: ".concat((e.theme.accent||d.Z.accent).warning,";\n    border-color: ").concat((e.theme.interactive||d.Z.interactive).defaultBorder,"\n  ")})),y=c.default.label.withConfig({displayName:"Checkbox__LabelStyle",componentId:"sc-ujqx42-4"})(["-ms-flex-direction:column;align-items:center;display:flex;flex-direction:column;flex-direction:row;&:hover{cursor:pointer;}"]);n.Z=function(e){var n=e.beforeIcon,t=e.checked,i=e.disabled,c=e.errorMessage,d=e.label,p=e.labelDescription,v=e.large,k=e.meta,w=e.monospace,Z=void 0!==w&&w,P=e.onClick,_=e.required,C=e.small,S=void 0!==C&&C,I=e.warning,D=e.xsmall,E=void 0!==D&&D,M=(0,o.Z)(e,h),N=I||!!(c||k&&k.touched&&k.error);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(y,{onClick:function(e){e.preventDefault(),P&&!i&&P(e)},children:[(0,b.jsxs)(m,{children:[(0,b.jsx)(O,g(g({},M),{},{disabled:i?"disabled":void 0,notClickable:i})),(0,b.jsx)(x,{checked:t,disabled:i,large:v,required:_,warning:N,children:(0,b.jsx)(s.Jr,{size:f.iI*(v?3:2)})})]}),n&&(0,b.jsx)(u.Z,{ml:1,children:(0,b.jsx)(l.Z,{children:n})}),d&&(0,b.jsxs)(u.Z,{pl:1,children:["string"===typeof d&&(0,b.jsx)(a.ZP,{disabled:i,lineThrough:i,monospace:Z,small:S,xsmall:E,children:d}),"string"!==typeof d&&d,p&&(0,b.jsx)(a.ZP,{muted:!0,small:!0,children:p})]})]}),(c||k&&k.touched&&k.error)&&(0,b.jsx)(j,{children:(0,b.jsx)(a.ZP,{small:!0,warning:!0,children:c?(0,r.Z)(c):k.error})})]})}},70814:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return D}});var r=t(77837),i=t(75582),o=t(82394),c=t(38860),l=t.n(c),u=t(60547),a=t(41788),d=t(82684),s=t(60328),p=t(38341),f=t(67971),b=t(86673),h=t(82944),v=t(11366),g=t(49125),m=t(91427),j=t(90211),O=t(28598);function x(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?x(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var k=function(e){var n=e.isPipelineUpdating,t=e.pipeline,r=e.updatePipeline,i=null===t||void 0===t?void 0:t.uuid,c=(0,d.useMemo)((function(){return(null===t||void 0===t?void 0:t.blocks)||[]}),[t]),l=(0,d.useState)((null===t||void 0===t?void 0:t.name)||""),u=l[0],a=l[1],x="".concat(v.g6,"_").concat(i),k=(0,d.useState)({}),w=k[0],Z=k[1],P=(0,d.useCallback)((function(e){Z((function(n){var t=e(n);return(0,m.t8)(x,JSON.stringify(t)),t}))}),[x,Z]);(0,d.useEffect)((function(){var e=(0,m.U2)(x);e&&(0,j.Pb)(e)&&Z(JSON.parse(e))}),[x,Z]);var _=(0,d.useMemo)((function(){return(null===c||void 0===c?void 0:c.filter((function(e){var n=e.uuid;return!(null===w||void 0===w||!w[n])}))).length===c.length}),[c,w]);return(0,O.jsxs)(b.Z,{p:g.cd,children:[(0,O.jsx)(h.Z,{label:"Pipeline name",onChange:function(e){return a(e.target.value)},primary:!0,required:!0,setContentOnMount:!0,value:u}),(0,O.jsx)(b.Z,{mt:5,children:(0,O.jsx)(f.Z,{children:(0,O.jsx)(s.Z,{disabled:u===(null===t||void 0===t?void 0:t.name),loading:n,onClick:function(){return r({name:u})},primary:!0,children:"Save pipeline settings"})})}),(0,O.jsx)(b.Z,{mt:5,children:(0,O.jsx)(p.Z,{checked:_,label:"Hide all blocks in notebook",onClick:function(){return P((function(){return _?{}:null===c||void 0===c?void 0:c.reduce((function(e,n){var t=n.uuid;return y(y({},e),{},(0,o.Z)({},t,!0))}),{})}))}})})]})},w=t(82531),Z=t(59920),P=t(83455),_=t(96510);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function I(e){var n=e.pipeline,t=null===n||void 0===n?void 0:n.uuid,r=w.ZP.pipelines.detail(t).data,o=S(S({},null===r||void 0===r?void 0:r.pipeline),n),c=(0,P.Db)(w.ZP.pipelines.useUpdate(t,{update_content:!0}),{onSuccess:function(e){return(0,_.wD)(e,{callback:function(e){if(null!==e&&void 0!==e&&e.pipeline){var n=e.pipeline.uuid;t!==n&&(window.location.href="/pipelines/".concat(n,"/settings"))}},onErrorCallback:function(e,n){return console.log({errors:n,response:e})}})}}),l=(0,i.Z)(c,2),a=l[0],d=l[1].isLoading;return(0,O.jsx)(u.Z,{breadcrumbs:[{label:function(){return"Settings"}}],pageName:Z.M.SETTINGS,pipeline:o,title:function(e){var n=e.name;return"".concat(n," settings")},uuid:"".concat(Z.M.SETTINGS,"_").concat(t),children:r&&(0,O.jsx)(k,{isPipelineUpdating:d,pipeline:o,updatePipeline:function(e){return a({pipeline:e})}})})}I.getInitialProps=function(){var e=(0,r.Z)(l().mark((function e(n){var t;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var D=(0,a.Z)(I)},11366:function(e,n,t){"use strict";t.d(n,{H8:function(){return i},g6:function(){return o},kY:function(){return r}});var r="automatically_name_blocks",i="pipeline_edit_before_tab_selected",o="pipeline_edit_hidden_blocks"},59606:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/settings",function(){return t(70814)}])}},function(e){e.O(0,[3850,2083,2344,4506,6166,6214,9774,2888,179],(function(){return n=59606,e(e.s=n);var n}));var n=e.O();_N_E=n}]);