(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7713],{98677:function(n,t,e){"use strict";e.d(t,{Z:function(){return c}});var r=e(8208),i=e(8162);function u(){var n,t,e=(0,i.Z)().unknown(void 0),o=e.domain,c=e.range,a=0,l=1,s=!1,f=0,d=0,p=.5;function h(){var e=o().length,r=l<a,i=r?l:a,u=r?a:l;n=(u-i)/Math.max(1,e-f+2*d),s&&(n=Math.floor(n)),i+=(u-i-n*(e-f))*p,t=n*(1-f),s&&(i=Math.round(i),t=Math.round(t));var h=function(n,t,e){n=+n,t=+t,e=(i=arguments.length)<2?(t=n,n=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((t-n)/e)),u=new Array(i);++r<i;)u[r]=n+r*e;return u}(e).map((function(t){return i+n*t}));return c(r?h.reverse():h)}return delete e.unknown,e.domain=function(n){return arguments.length?(o(n),h()):o()},e.range=function(n){return arguments.length?([a,l]=n,a=+a,l=+l,h()):[a,l]},e.rangeRound=function(n){return[a,l]=n,a=+a,l=+l,s=!0,h()},e.bandwidth=function(){return t},e.step=function(){return n},e.round=function(n){return arguments.length?(s=!!n,h()):s},e.padding=function(n){return arguments.length?(f=Math.min(1,d=+n),h()):f},e.paddingInner=function(n){return arguments.length?(f=Math.min(1,n),h()):f},e.paddingOuter=function(n){return arguments.length?(d=+n,h()):d},e.align=function(n){return arguments.length?(p=Math.max(0,Math.min(1,n)),h()):p},e.copy=function(){return u(o(),[a,l]).round(s).paddingInner(f).paddingOuter(d).align(p)},r.o.apply(h(),arguments)}var o=(0,e(93342).Z)("domain","range","reverse","align","padding","round");function c(n){return o(u(),n)}},53989:function(n,t,e){"use strict";function r(n){if("bandwidth"in n)return n.bandwidth();var t=n.range(),e=n.domain();return Math.abs(t[t.length-1]-t[0])/e.length}e.d(t,{Z:function(){return r}})},13946:function(n,t,e){"use strict";e.d(t,{t:function(){return r}});var r=Array.prototype.slice},27500:function(n,t,e){"use strict";function r(n,t){if((c=n.length)>0)for(var e,r,i,u,o,c,a=0,l=n[t[0]].length;a<l;++a)for(u=o=0,e=0;e<c;++e)(i=(r=n[t[e]][a])[1]-r[0])>0?(r[0]=u,r[1]=u+=i):i<0?(r[1]=o,r[0]=o+=i):(r[0]=0,r[1]=i)}e.d(t,{Z:function(){return r}})},12759:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(82610);function i(n,t){if((i=n.length)>0){for(var e,i,u,o=0,c=n[0].length;o<c;++o){for(u=e=0;e<i;++e)u+=n[e][o][1]||0;if(u)for(e=0;e<i;++e)n[e][o][1]/=u}(0,r.Z)(n,t)}}},82610:function(n,t,e){"use strict";function r(n,t){if((i=n.length)>1)for(var e,r,i,u=1,o=n[t[0]],c=o.length;u<i;++u)for(r=o,o=n[t[u]],e=0;e<c;++e)o[e][1]+=o[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]}e.d(t,{Z:function(){return r}})},34812:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(82610);function i(n,t){if((e=n.length)>0){for(var e,i=0,u=n[t[0]],o=u.length;i<o;++i){for(var c=0,a=0;c<e;++c)a+=n[c][i][1]||0;u[i][1]+=u[i][0]=-a/2}(0,r.Z)(n,t)}}},77944:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(82610);function i(n,t){if((u=n.length)>0&&(i=(e=n[t[0]]).length)>0){for(var e,i,u,o=0,c=1;c<i;++c){for(var a=0,l=0,s=0;a<u;++a){for(var f=n[t[a]],d=f[c][1]||0,p=(d-(f[c-1][1]||0))/2,h=0;h<a;++h){var v=n[t[h]];p+=(v[c][1]||0)-(v[c-1][1]||0)}l+=d,s+=p*d}e[c-1][1]+=e[c-1][0]=o,l&&(o-=s/l)}e[c-1][1]+=e[c-1][0]=o,(0,r.Z)(n,t)}}},34128:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(8512);function i(n){var t=n.map(u);return(0,r.Z)(n).sort((function(n,e){return t[n]-t[e]}))}function u(n){for(var t,e=-1,r=0,i=n.length,u=-1/0;++e<i;)(t=+n[e][1])>u&&(u=t,r=e);return r}},39586:function(n,t,e){"use strict";e.d(t,{S:function(){return u},Z:function(){return i}});var r=e(8512);function i(n){var t=n.map(u);return(0,r.Z)(n).sort((function(n,e){return t[n]-t[e]}))}function u(n){for(var t,e=0,r=-1,i=n.length;++r<i;)(t=+n[r][1])&&(e+=t);return e}},25516:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(39586);function i(n){return(0,r.Z)(n).reverse()}},54164:function(n,t,e){"use strict";e.d(t,{Z:function(){return u}});var r=e(34128),i=e(39586);function u(n){var t,e,u=n.length,o=n.map(i.S),c=(0,r.Z)(n),a=0,l=0,s=[],f=[];for(t=0;t<u;++t)e=c[t],a<l?(a+=o[e],s.push(e)):(l+=o[e],f.push(e));return f.reverse().concat(s)}},8512:function(n,t,e){"use strict";function r(n){for(var t=n.length,e=new Array(t);--t>=0;)e[t]=t;return e}e.d(t,{Z:function(){return r}})},2010:function(n,t,e){"use strict";e.d(t,{Z:function(){return i}});var r=e(8512);function i(n){return(0,r.Z)(n).reverse()}},75823:function(n,t,e){"use strict";e.d(t,{Z:function(){return a}});var r=e(13946),i=e(90875),u=e(82610),o=e(8512);function c(n,t){return n[t]}function a(){var n=(0,i.Z)([]),t=o.Z,e=u.Z,a=c;function l(r){var i,u,o=n.apply(this,arguments),c=r.length,l=o.length,s=new Array(l);for(i=0;i<l;++i){for(var f,d=o[i],p=s[i]=new Array(c),h=0;h<c;++h)p[h]=f=[0,+a(r[h],d,h,r)],f.data=r[h];p.key=d}for(i=0,u=t(s);i<l;++i)s[u[i]].index=i;return e(s,u),s}return l.keys=function(t){return arguments.length?(n="function"==typeof t?t:(0,i.Z)(r.t.call(t)),l):n},l.value=function(n){return arguments.length?(a="function"==typeof n?n:(0,i.Z)(+n),l):a},l.order=function(n){return arguments.length?(t=null==n?o.Z:"function"==typeof n?n:(0,i.Z)(r.t.call(n)),l):t},l.offset=function(n){return arguments.length?(e=null==n?u.Z:n,l):e},l}},7116:function(n,t,e){"use strict";e.d(t,{Z:function(){return m}});e(82684);var r=e(34376),i=e(85854),u=e(75457),o=e(38276),c=e(30160),a=e(74395),l=e(9518),s=e(44897),f=e(70515),d=l.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-1in9sst-0"})(["padding:","px ","px;"," ",""],f.iI,f.tr,(function(n){return n.selected&&"\n    background-color: ".concat((n.theme.interactive||s.Z.interactive).checked,";\n  ")}),(function(n){return!n.selected&&"\n    cursor: pointer;\n  "})),p=e(64657),h=e(28795),v=e(28598);var m=function(n){var t=n.breadcrumbs,e=n.children,l=n.errors,s=n.monitorType,m=n.pipeline,g=n.setErrors,Z=n.subheader,b=(0,r.useRouter)();return(0,v.jsx)(u.Z,{before:(0,v.jsxs)(a.M,{children:[(0,v.jsx)(o.Z,{p:f.cd,children:(0,v.jsx)(i.Z,{level:4,muted:!0,children:"Insights"})}),(0,v.jsx)(d,{onClick:function(n){n.preventDefault(),b.push("/pipelines/[pipeline]/monitors","/pipelines/".concat(null==m?void 0:m.uuid,"/monitors"))},selected:p.a_.PIPELINE_RUNS==s,children:(0,v.jsx)(c.ZP,{children:"Pipeline runs"})}),(0,v.jsx)(d,{onClick:function(n){n.preventDefault(),b.push("/pipelines/[pipeline]/monitors/block-runs","/pipelines/".concat(null==m?void 0:m.uuid,"/monitors/block-runs"))},selected:p.a_.BLOCK_RUNS==s,children:(0,v.jsx)(c.ZP,{children:"Block runs"})}),(0,v.jsx)(d,{onClick:function(n){n.preventDefault(),b.push("/pipelines/[pipeline]/monitors/block-runtime","/pipelines/".concat(null==m?void 0:m.uuid,"/monitors/block-runtime"))},selected:p.a_.BLOCK_RUNTIME==s,children:(0,v.jsx)(c.ZP,{children:"Block runtime"})})]}),breadcrumbs:t,errors:l,pageName:h.M.MONITOR,pipeline:m,setErrors:g,subheader:Z,uuid:"pipeline/monitor",children:e})}},74395:function(n,t,e){"use strict";e.d(t,{M:function(){return o},W:function(){return u}});var r=e(9518),i=e(46684),u=34*e(70515).iI,o=r.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],i.Mz)},94035:function(n,t,e){"use strict";var r=e(9518).default.div.withConfig({displayName:"YAxisLabelContainer",componentId:"sc-qwp21x-0"})(["-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);white-space:nowrap;"]);t.Z=r},79221:function(n,t,e){"use strict";e.d(t,{P5:function(){return r},Vs:function(){return i}});e(81728);function r(n,t){var e=t||{},r=e.maxFractionDigits,i=e.minAmount,u=Intl.NumberFormat("en-US",{maximumFractionDigits:r||2,notation:"compact"});return"number"!=typeof n?n:n>=(i||1e4)?u.format(n):n.toString()}function i(n){var t,e;if(void 0===n)return 0;var r=null==n||null===(t=n())||void 0===t||null===(e=t.props)||void 0===e?void 0:e.children;return(Array.isArray(r)?r:[r]).join("").length}},65663:function(n,t,e){"use strict";e.r(t);var r=e(77837),i=e(75582),u=e(82394),o=e(38860),c=e.n(o),a=e(82684),l=e(12691),s=e.n(l),f=e(92083),d=e.n(f),p=e(9518),h=e(53998),v=e(55485),m=e(85854),g=e(48670),Z=e(7116),b=e(93808),x=e(38276),j=e(30160),y=e(35686),_=e(64657),w=e(72473),k=e(30229),M=e(70515),O=e(81728),P=e(24491),N=e(3917),I=e(28598);function C(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function E(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?C(Object(e),!0).forEach((function(t){(0,u.Z)(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):C(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}var D=p.default.div.withConfig({displayName:"monitors__GradientTextStyle",componentId:"sc-1is2m2l-0"})(["background:linear-gradient(90deg,#7D55EC 28.12%,#2AB2FE 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;"]);function S(n){var t=n.pipeline.uuid,e=(0,a.useState)(null),r=e[0],o=e[1],c=y.ZP.pipeline_schedules.pipelines.list(t).data,l=(0,a.useMemo)((function(){return null==c?void 0:c.pipeline_schedules}),[c]),f=(0,a.useMemo)((function(){return null==l?void 0:l.reduce((function(n,t){return E(E({},n),{},(0,u.Z)({},null==t?void 0:t.id,t))}),{})}),[l]),p=y.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,b=(0,a.useMemo)((function(){return E(E({},null==p?void 0:p.pipeline),{},{uuid:t})}),[p,t]),C=y.ZP.monitor_stats.detail("pipeline_run_count",{pipeline_uuid:null==b?void 0:b.uuid}).data,S=((null==C?void 0:C.monitor_stat)||{}).stats,A=(0,a.useMemo)((function(){return(0,N.Y_)()}),[]),L=(0,a.useMemo)((function(){return(0,P.p)(S,A)}),[A,S]),R=(0,a.useMemo)((function(){if(S)return Object.entries(S).reduce((function(n,t){var e=(0,i.Z)(t,2),r=e[0],o=e[1].data,c=A.map((function(n){return E({date:n},o[n]||{})}));return E(E({},n),{},(0,u.Z)({},r,c))}),{})}),[A,S]),F=(0,a.useMemo)((function(){var n=[];return n.push({bold:!0,label:function(){return"Monitors"}}),n}),[]);return(0,I.jsx)(Z.Z,{breadcrumbs:F,errors:r,monitorType:_.a_.PIPELINE_RUNS,pipeline:b,setErrors:o,children:(0,I.jsxs)(x.Z,{mt:2,mx:2,children:[(0,I.jsx)(x.Z,{ml:1,children:(0,I.jsx)(D,{children:(0,I.jsx)(m.Z,{children:"All pipeline runs"})})}),(0,I.jsx)(x.Z,{mt:1,children:(0,I.jsx)(h.Z,{colors:_.NU,data:L,getXValue:function(n){return n.date},height:200,keys:_.hu,margin:{bottom:30,left:35,right:0,top:10},tooltipLeftOffset:_.CD,xLabelFormat:function(n){return d()(n).format("MMM DD")}})}),R&&Object.entries(R).map((function(n){var e,r=(0,i.Z)(n,2),u=r[0],o=r[1],c=null==f?void 0:f[u];return(0,I.jsxs)(x.Z,{mt:3,children:[(0,I.jsxs)(v.ZP,{alignItems:"center",children:[(0,I.jsx)(x.Z,{mx:1,children:(0,I.jsx)(D,{children:(0,I.jsx)(j.ZP,{bold:!0,large:!0,children:(0,O.kC)(null===(e=k.Z4[null==c?void 0:c.schedule_type])||void 0===e?void 0:e.call(k.Z4))})})}),(0,I.jsx)(s(),{as:"/pipelines/".concat(t,"/triggers/").concat(null==c?void 0:c.id),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,I.jsx)(g.Z,{children:(0,I.jsxs)(v.ZP,{alignItems:"center",children:[(0,I.jsx)(m.Z,{level:5,children:(null==c?void 0:c.name)||u}),(0,I.jsx)(x.Z,{ml:1}),(0,I.jsx)(w.ChevronRight,{default:!0,size:2*M.iI})]})})})]}),(0,I.jsx)(x.Z,{mt:1,children:(0,I.jsx)(h.Z,{colors:_.NU,data:o,getXValue:function(n){return n.date},height:200,keys:_.hu,margin:{bottom:30,left:35,right:0,top:10},tooltipLeftOffset:_.CD,xLabelFormat:function(n){return d()(n).format("MMM DD")}})})]},u)}))]})})}S.getInitialProps=function(){var n=(0,r.Z)(c().mark((function n(t){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.query.pipeline,n.abrupt("return",{pipeline:{uuid:e}});case 2:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),t.default=(0,b.Z)(S)},89677:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/monitors",function(){return e(65663)}])}},function(n){n.O(0,[125,2714,449,3782,5831,9774,2888,179],(function(){return t=89677,n(n.s=t);var t}));var t=n.O();_N_E=t}]);