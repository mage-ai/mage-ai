(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4249],{61386:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=o.default,i=(null==n?void 0:n.suspense)?{}:{loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?i.loader=function(){return e}:"function"===typeof e?i.loader=e:"object"===typeof e&&(i=r({},i,e));!1;(i=r({},i,n)).suspense&&(delete i.ssr,delete i.loading);i.loadableGenerated&&delete(i=r({},i,i.loadableGenerated)).loadableGenerated;if("boolean"===typeof i.ssr&&!i.suspense){if(!i.ssr)return delete i.ssr,u(t,i);delete i.ssr}return t(i)},n.noSSR=u;var r=t(54363).Z,i=t(4858).Z,o=(i(t(82684)),i(t(41800)));function u(e,n){return delete n.webpack,delete n.modules,e(n)}("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&"undefined"===typeof n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},88124:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoadableContext=void 0;var r=(0,t(4858).Z)(t(82684)).default.createContext(null);n.LoadableContext=r},41800:function(e,n,t){"use strict";var r=t(71539),i=t(66745);function o(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t(54363).Z,l=(0,t(4858).Z)(t(82684)),c=t(88124),s=t(82684).useSyncExternalStore,d=[],f=[],p=!1;function h(e){var n=e(),t={loading:!0,loaded:null,error:null};return t.promise=n.then((function(e){return t.loading=!1,t.loaded=e,e})).catch((function(e){throw t.loading=!1,t.error=e,e})),t}var g=function(){function e(n,t){r(this,e),this._loadFn=n,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var n=this._res,t=this._opts;n.loading&&("number"===typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),t.delay)),"number"===typeof t.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),t.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(n){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=a({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var n=this;return this._callbacks.add(e),function(){n._callbacks.delete(e)}}}]),e}();function b(e){return function(e,n){var t=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},n);t.suspense&&(t.lazy=l.default.lazy(t.loader));var r=null;function i(){if(!r){var n=new g(e,t);r={getCurrentValue:n.getCurrentValue.bind(n),subscribe:n.subscribe.bind(n),retry:n.retry.bind(n),promise:n.promise.bind(n)}}return r.promise()}if(!p){var u=t.webpack?t.webpack():t.modules;u&&f.push((function(e){var n,t=o(u);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(-1!==e.indexOf(r))return i()}}catch(a){t.e(a)}finally{t.f()}}))}function d(){i();var e=l.default.useContext(c.LoadableContext);e&&Array.isArray(t.modules)&&t.modules.forEach((function(n){e(n)}))}var h=t.suspense?function(e,n){return d(),l.default.createElement(t.lazy,a({},e,{ref:n}))}:function(e,n){d();var i=s(r.subscribe,r.getCurrentValue,r.getCurrentValue);return l.default.useImperativeHandle(n,(function(){return{retry:r.retry}}),[]),l.default.useMemo((function(){return i.loading||i.error?l.default.createElement(t.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:r.retry}):i.loaded?l.default.createElement((n=i.loaded)&&n.__esModule?n.default:n,e):null;var n}),[e,i])};return h.preload=function(){return i()},h.displayName="LoadableComponent",l.default.forwardRef(h)}(h,e)}function v(e,n){for(var t=[];e.length;){var r=e.pop();t.push(r(n))}return Promise.all(t).then((function(){if(e.length)return v(e,n)}))}b.preloadAll=function(){return new Promise((function(e,n){v(d).then(e,n)}))},b.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(n){var t=function(){return p=!0,n()};v(f,e).then(t,t)}))},window.__NEXT_PRELOADREADY=b.preloadReady;var m=b;n.default=m},51774:function(e,n,t){e.exports=t(61386)},8916:function(e,n,t){"use strict";t.d(n,{FS:function(){return l},JZ:function(){return s},e7:function(){return d},wx:function(){return c}});var r=t(75582),i=t(82394),o=t(30229);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e){return"string"===typeof e?e:JSON.stringify(e)}function c(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return a(a({},e),{},{value:l(n)})}))}function s(e,n){return n===o.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===o.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function d(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),o=t[0],u=t[1],l=u;try{l=JSON.parse(u)}catch(c){}return a(a({},e),{},(0,i.Z)({},o,l))}),{}):e}},16488:function(e,n,t){"use strict";t.d(n,{IJ:function(){return p},M8:function(){return j},Vx:function(){return b},eI:function(){return g},gU:function(){return m},tL:function(){return v},vJ:function(){return y},xH:function(){return h}});var r,i,o=t(82394),u=t(92083),a=t.n(u),l=t(4383),c=t(30229),s=t(42122);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t=n.block_uuid,r=n.completed_at,i=n.started_at,u=n.status,l=null;i&&r&&(l=a()(r).valueOf()-a()(i).valueOf());return f(f({},e),{},(0,o.Z)({},t,{runtime:l,status:u}))}),{})}function h(e){var n=(0,s.gR)(e,[c.gm.INTERVAL,c.gm.TYPE]),t=e[c.gm.INTERVAL];t&&(n["schedule_interval[]"]=encodeURIComponent(t));var r=e[c.gm.TYPE];return r&&(n["schedule_type[]"]=r),n}function g(e){if(!e)return null;var n=new Date(a()(e).valueOf()),t=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds());return new Date(t)}function b(e){return"string"!==typeof e?e:g(e.split("+")[0]).toISOString().split(".")[0]}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(i||(i={}));var v=(r={},(0,o.Z)(r,i.DAY,86400),(0,o.Z)(r,i.HOUR,3600),(0,o.Z)(r,i.MINUTE,60),(0,o.Z)(r,i.SECOND,1),r);function m(e){var n=i.SECOND,t=e;return e%86400===0?(t/=86400,n=i.DAY):e%3600===0?(t/=3600,n=i.HOUR):e%60===0&&(t/=60,n=i.MINUTE),{time:t,unit:n}}function y(e,n){return e*v[n]}function j(e){var n,t="";return t="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(t="".concat(t,"/").concat(e.token)),(n=window.location.port)&&(t=t.replace(n,l.QT)),t}},81066:function(e,n,t){"use strict";t.d(n,{B:function(){return f}});var r=t(82394),i=t(46732),o=t(93369),u=t(72473),a=t(8059),l=t(70515),c=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f={bold:!0,greyBorder:!0,paddingBottom:9,paddingTop:9};n.Z=function(e){var n=e.addButtonMenuOpen,t=e.addButtonMenuRef,r=e.isLoading,s=e.label,p=e.menuItems,h=e.onClick,g=e.onClickCallback;return(0,c.jsx)(i.Z,{disableKeyboardShortcuts:!0,items:p,onClickCallback:g,onClickOutside:g,open:n,parentRef:t,roundedStyle:!0,topOffset:1,uuid:"Table/Toolbar/NewItemMenu",children:(0,c.jsx)(o.ZP,d(d({},f),{},{background:a.eW,beforeElement:(0,c.jsx)(u.mm,{size:2.5*l.iI}),loading:r,onClick:function(e){e.preventDefault(),null===h||void 0===h||h()},uuid:"shared/AddButton/index",children:s}))})}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),o=t(38276),u=t(31748),a=t(72473),l=t(79633),c=t(70515),s=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=t;if(h>f)p=Array.from({length:f},(function(e,n){return n}));else{var g=Math.floor(h/2),b=n-g;n+g>=f?(b=f-h+2,h-=2):n-g<=0?(b=0,h-=2):(h-=4,b=n-Math.floor(h/2)),p=Array.from({length:h},(function(e,n){return n+b}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.Z,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(a.Hd,{size:1.5*c.iI,stroke:u.Av})}),!p.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{backgroundColor:e===n&&l.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!p.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(r.Z,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(a.Kw,{size:1.5*c.iI,stroke:u.Av})})]})})}},83784:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var r="global"},46732:function(e,n,t){"use strict";var r=t(82394),i=t(26304),o=(t(82684),t(50724)),u=t(70374),a=t(28598),l=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid","zIndex"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.children,t=e.items,r=e.open,c=e.onClickCallback,d=e.onClickOutside,f=e.parentRef,p=e.uuid,h=e.zIndex,g=(0,i.Z)(e,l),b=(0,a.jsxs)("div",{style:{position:"relative",zIndex:(d?3:2)+(h||0)},children:[(0,a.jsx)("div",{ref:f,children:n}),(0,a.jsx)(u.Z,s(s({},g),{},{items:t,onClickCallback:c,open:r,parentRef:f,uuid:p}))]});return d?(0,a.jsx)(o.Z,{onClickOutside:d,open:!0,children:b}):b}},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),o=t(38276),u=t(30160),a=t(44897),l=t(42631),c=t(47041),s=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),p=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],l.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||a.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||a.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||a.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||a.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||a.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],l.n_,l.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||a.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||a.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),g=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,c.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),b=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],l.M8,l.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,a=e.contentContainerRef,l=e.dark,c=e.footer,s=e.fullHeight,f=void 0===s||s,v=e.fullWidth,m=void 0===v||v,y=e.header,j=e.headerHeight,x=e.headerIcon,O=e.headerPaddingVertical,_=e.headerTitle,P=e.maxHeight,Z=e.maxWidth,w=e.minWidth,k=e.noPadding,C=e.overflowVisible,S=e.subtitle,I=e.success;return(0,d.jsxs)(p,{borderless:n,dark:l,fullHeight:f,fullWidth:m,maxHeight:P,maxWidth:Z,minWidth:w,overflowVisible:C,ref:r,success:I,children:[(y||_)&&(0,d.jsxs)(h,{headerPaddingVertical:O,height:j,children:[y&&y,_&&(0,d.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.ZP,{alignItems:"center",children:[x&&x,(0,d.jsx)(o.Z,{ml:x?1:0,children:(0,d.jsx)(u.ZP,{bold:!0,default:!0,children:_})})]})})]}),(0,d.jsxs)(g,{maxHeight:P,noPadding:k,overflowVisible:C,ref:a,children:[S&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(u.ZP,{default:!0,children:S})}),t]}),c&&(0,d.jsx)(b,{children:c})]})}},72191:function(e,n,t){"use strict";t.d(n,{bL:function(){return i},l2:function(){return o}});var r=t(70515),i=(r.iI,2*r.iI),o=(r.iI,3*r.iI)},23706:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return de}});var r=t(77837),i=t(75582),o=t(82394),u=t(38860),a=t.n(u),l=t(12691),c=t.n(l),s=t(82684),d=t(83455),f=t(34376),p=t(17586),h=t(15338),g=t(48670),b=t(55072),v=t(75457),m=t(30229),y=t(93808),j=t(71180),x=t(55485),O=t(85854),_=t(65956),P=t(38276),Z=t(75499),w=t(30160),k=t(35576),C=t(17488),S=t(69650),I=t(44897),E=t(38626),D=t(42631),T=t(70515),N=E.default.div.withConfig({displayName:"indexstyle__ToggleStyle",componentId:"sc-f9kt7n-0"})(["padding:","px ","px;border-radius:","px;",""],1.5*T.iI,2*T.iI,D.n_,(function(e){return"\n    border: 1px solid ".concat((e.theme||I.Z).borders.light,";\n    background-color: ").concat((e.theme||I.Z).background.popup,";\n  ")})),M=t(31098),R=t(8916),A=t(28598);function V(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?V(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var L="".concat(T.iI,"px ").concat(3*T.iI,"px");var B=function(e){var n=e.initialPipelineSchedulePayload,t=e.onCancel,r=e.onSuccess,u=e.variables,a=(0,s.useState)(!1),l=a[0],c=a[1],d=(0,s.useState)({}),f=d[0],p=d[1],h=(0,s.useState)(u||{}),g=h[0],b=h[1],v=(0,s.useMemo)((function(){return H(H({},n),{},{name:(0,M.Y6)(),variables:l?(0,R.e7)(g):null})}),[n,l,g]),m=function(e,n){var t={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),b((function(t){return H(H({},t),{},(0,o.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return f[e]?(0,A.jsx)(k.Z,H(H({},t),{},{rows:1,value:n})):(0,A.jsx)(C.Z,H({},t))};return(0,s.useEffect)((function(){var e=Object.entries(g).reduce((function(e,n){var t=(0,i.Z)(n,2),r=t[0],u=t[1],a=(0,M.Pb)(u)&&"object"===typeof JSON.parse(u)&&!Array.isArray(JSON.parse(u))&&null!==JSON.parse(u);return H(H({},e),{},(0,o.Z)({},r,a))}),{});p(e)}),[]),(0,A.jsxs)(_.Z,{footer:(0,A.jsxs)(x.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,A.jsx)(j.Z,{onClick:function(){r({pipeline_schedule:v}),t()},padding:L,primaryAlternate:!0,children:"Run now"}),(0,A.jsx)(P.Z,{mr:1}),(0,A.jsx)(j.Z,{borderColor:I.Z.background.page,onClick:t,padding:L,secondary:!0,children:"Cancel"})]}),header:(0,A.jsx)(O.Z,{level:5,children:"Run pipeline now"}),maxHeight:"90vh",minWidth:85*T.iI,subtitle:"Creates a new trigger and immediately runs the current pipeline once.",children:[(0,A.jsx)(N,{children:(0,A.jsxs)(x.ZP,{alignItems:"center",children:[(0,A.jsx)(P.Z,{mr:2,children:(0,A.jsx)(S.Z,{checked:l,onCheck:c})}),(0,A.jsx)(w.ZP,{bold:!0,large:!0,children:"Overwrite runtime variables"})]})}),l&&g&&Object.entries(g).length>0&&(0,A.jsx)(P.Z,{mt:2,children:(0,A.jsx)(Z.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(g).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return[(0,A.jsx)(w.ZP,{default:!0,monospace:!0,children:t},"variable_".concat(t)),m(t,r)]}))})})]})},F=t(47041),U=E.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1xgfh62-0"})(["border-bottom:1px solid ",";padding:","px;"],I.Z.borders.medium,T.tr),W=E.default.div.withConfig({displayName:"indexstyle__CardsStyle",componentId:"sc-1xgfh62-1"})([""," height:80px;display:flex;overflow-x:scroll;"],F.w5),Y=E.default.div.withConfig({displayName:"indexstyle__VariableCardStyle",componentId:"sc-1xgfh62-2"})(["background-color:",";border-radius:","px;flex-shrink:0;margin-right:","px;padding:","px;"],I.Z.background.output,D.n_,T.iI,T.tr),z=t(79633);var J=function(e){var n=e.hasOverride,t=e.scheduleType,r=e.variables,o=e.variablesOverride,u=[];return Object.entries(r).forEach((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1],a=null===o||void 0===o?void 0:o[t];u.push({uuid:t,value:(0,R.FS)(a||r)})})),(0,R.JZ)(u,t),(0,A.jsxs)(U,{children:[(0,A.jsx)(P.Z,{mb:2,children:(0,A.jsxs)(w.ZP,{bold:!0,large:!0,monospace:!0,muted:!0,children:["Runtime variables",n&&" (override)"]})}),(0,A.jsx)(W,{noScrollbarTrackBackground:!0,children:r&&u.map((function(e){var n=e.uuid,t=e.value;return(0,A.jsxs)(Y,{children:[(0,A.jsx)(w.ZP,{monospace:!0,small:!0,children:n}),(0,A.jsx)(w.ZP,{color:z.Or,monospace:!0,small:!0,children:(0,R.FS)(t)})]})}))})]})},Q=t(4190),G=t(38013),X=t(31743),q=t(35686),K=t(83784),$=t(28795),ee=t(3917),ne=t(69419),te=t(16488),re=t(86735),ie=t(42122),oe=t(50178),ue=t(72619),ae=t(89538);function le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ce(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?le(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function se(e){var n=e.pipeline,t=(0,f.useRouter)(),r=(0,oe.Ct)(),u=n.uuid,a=(0,s.useState)(null),l=a[0],y=a[1],j=q.ZP.variables.pipelines.list(u,{global_only:!0},{revalidateOnFocus:!1}).data,x=null===j||void 0===j?void 0:j.variables,O=(0,ne.iV)(),_=(0,ne.DQ)(O,[m.gm.INTERVAL,m.gm.STATUS,m.gm.TAG,m.gm.TYPE]),Z=(0,te.xH)(_),k=null!==O&&void 0!==O&&O.page?O.page:0,C=q.ZP.pipeline_schedules.pipelines.list(u,ce(ce({},Z),{},{_limit:b.Q,_offset:(null!==O&&void 0!==O&&O.page?O.page:0)*b.Q}),{refreshInterval:7500}),S=C.data,I=C.mutate,E=(0,s.useMemo)((function(){return(null===S||void 0===S?void 0:S.pipeline_schedules)||[]}),[S]),D=function(e){return(0,d.Db)(q.ZP.pipeline_schedules.pipelines.useCreate(u),{onSuccess:function(n){return(0,ue.wD)(n,{callback:function(n){var t=n.pipeline_schedule.id;null===e||void 0===e||e(t)},onErrorCallback:function(e,n){return y({errors:n,response:e})}})}})},N=D((function(e){return t.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===n||void 0===n?void 0:n.uuid,"/triggers/").concat(e,"/edit"))})),V=(0,i.Z)(N,2),H=V[0],L=V[1].isLoading,F=D(I),U=(0,i.Z)(F,2),W=U[0],Y=U[1].isLoading,z=(0,s.useMemo)((function(){var e;return null===(e=(0,R.wx)(x,(function(e){return e.uuid===K.C})))||void 0===e?void 0:e.reduce((function(e,n){var t=n.uuid,r=n.value;return ce(ce({},e),{},(0,o.Z)({},t,r))}),{})}),[x]),le=(0,s.useMemo)((function(){return{name:(0,M.Y6)(),schedule_interval:m.U5.ONCE,schedule_type:m.Xm.TIME,start_time:(0,ee.d$)((new Date).toISOString(),{dayAgo:!0,utcFormat:!0}),status:m.fq.ACTIVE}}),[]),se=(0,ae.dd)((function(){return(0,A.jsx)(B,{initialPipelineSchedulePayload:le,onCancel:pe,onSuccess:W,variables:z})}),{},[x,z],{background:!0,uuid:"run_pipeline_now_popup"}),de=(0,i.Z)(se,2),fe=de[0],pe=de[1],he=(0,s.useState)(),ge=he[0],be=he[1],ve=(0,s.useMemo)((function(){var e=null===ge||void 0===ge?void 0:ge.variables,n=!(0,ie.Qr)(e),t=n?null===ge||void 0===ge?void 0:ge.variables:(0,ie.Qr)(z)?null:z;return function(i){var o=i.height-(t?151:80);return(0,A.jsxs)(A.Fragment,{children:[t&&(0,A.jsx)(J,{hasOverride:n,scheduleType:null===ge||void 0===ge?void 0:ge.schedule_type,variables:z,variablesOverride:e}),!t&&(0,A.jsxs)(P.Z,{p:T.cd,children:[(0,A.jsx)(w.ZP,{children:"This pipeline has no runtime variables."}),!r&&(0,A.jsxs)(P.Z,{mt:1,children:[(0,A.jsx)(c(),{as:"/pipelines/".concat(u,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,A.jsx)(g.Z,{primary:!0,children:"Click here"})})," ",(0,A.jsx)(w.ZP,{inline:!0,children:"to add variables to this pipeline."})]})]}),(0,A.jsx)(p.Z,ce(ce({},i),{},{height:o,noStatus:!0}))]})}}),[r,u,null===ge||void 0===ge?void 0:ge.schedule_type,null===ge||void 0===ge?void 0:ge.variables,z]),me=(0,s.useMemo)((function(){var e;return(null===S||void 0===S||null===(e=S.metadata)||void 0===e?void 0:e.count)||[]}),[S]),ye=q.ZP.pipeline_triggers.pipelines.list(u).data,je=(0,s.useMemo)((function(){return(0,re.HK)((null===ye||void 0===ye?void 0:ye.pipeline_triggers)||[],(function(e){return e.name}))}),[ye]),xe=q.ZP.tags.list().data,Oe=(0,s.useMemo)((function(){return(0,re.YC)((null===xe||void 0===xe?void 0:xe.tags)||[],(function(e){return e.uuid}))}),[xe]),_e=(0,s.useMemo)((function(){return(0,A.jsx)(G.Z,{addButtonProps:{isLoading:L,label:"New trigger",onClick:function(){return H({pipeline_schedule:{name:(0,M.Y6)()}})}},filterOptions:{frequency:Object.values(m.U5),status:Object.values(m.fq),tag:Oe.map((function(e){return e.uuid})),type:Object.values(m.Xm)},filterValueLabelMapping:{tag:Oe.reduce((function(e,n){var t=n.uuid;return ce(ce({},e),{},(0,o.Z)({},t,t))}),{}),type:m.Z4},onClickFilterDefaults:function(){t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(u,"/triggers"))},query:_,secondaryButtonProps:{disabled:r,isLoading:Y,label:"Run @once",onClick:(0,ie.Qr)(z)?function(){return W({pipeline_schedule:le})}:fe,tooltip:"Creates an @once trigger and runs pipeline immediately"},showDivider:!0})}),[H,W,L,Y,r,le,u,_,t,fe,Oe,z]);return(0,A.jsxs)(v.Z,{breadcrumbs:[{label:function(){return"Triggers"}}],buildSidekick:ve,errors:l,pageName:$.M.TRIGGERS,pipeline:n,setErrors:y,subheader:_e,title:function(e){var n=e.name;return"".concat(n," triggers")},uuid:"".concat($.M.TRIGGERS,"_").concat(u),children:[(0,A.jsx)(h.Z,{light:!0}),S?(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(X.Z,{fetchPipelineSchedules:I,pipeline:n,pipelineSchedules:E,pipelineTriggersByName:je,selectedSchedule:ge,setErrors:y,setSelectedSchedule:be}),(0,A.jsx)(P.Z,{p:2,children:(0,A.jsx)(b.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),r=ce(ce({},O),{},{page:n>=0?n:0});t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(u,"/triggers?").concat((0,ne.uM)(r)))},page:Number(k),totalPages:Math.ceil(me/b.Q)})})]}):(0,A.jsx)(P.Z,{m:2,children:(0,A.jsx)(Q.Z,{inverted:!0})})]})}se.getInitialProps=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var de=(0,y.Z)(se)},40183:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers",function(){return t(23706)}])}},function(e){e.O(0,[844,9902,426,6358,9696,8264,5499,5347,5457,7586,1743,5422,9774,2888,179],(function(){return n=40183,e(e.s=n);var n}));var n=e.O();_N_E=n}]);