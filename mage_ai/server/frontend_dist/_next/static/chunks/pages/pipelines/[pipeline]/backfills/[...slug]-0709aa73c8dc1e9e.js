(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6780],{2850:function(e,n,t){"use strict";t.d(n,{M:function(){return c},W:function(){return a}});var r=t(9518),i=t(23831),l=t(3055),a=34*t(49125).iI,c=r.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);",""],l.Mz,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.borders||i.Z.borders).medium,";\n  ")}))},60547:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(82394),i=t(21831),l=t(82684),a=t(47999),c=t(1210),s=t(34744),o=t(49894),u=t(67971),d=t(87372),p=t(86673),f=t(82531),b=t(9518),h=t(23831),v=t(73942),m=t(49125),j=b.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],v.n_,3*m.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||h.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),g=t(3055),x=t(95354),Z=t(24141),y=t(28598);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function k(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var P=function(e){var n=e.after,t=e.afterHidden,r=e.afterWidth,b=e.before,h=e.beforeWidth,v=e.breadcrumbs,O=e.buildSidekick,P=e.children,_=e.errors,I=e.headline,w=e.pageName,S=e.pipeline,D=e.setErrors,C=e.subheader,E=e.subheaderBackground,N=e.subheaderBackgroundImage,T=e.subheaderButton,M=e.subheaderText,L=e.title,F=e.uuid,U=(0,Z.i)().height,A=S.uuid,R=f.ZP.pipelines.detail(A,{includes_outputs:!1},{revalidateOnFocus:!1}).data,H=null===R||void 0===R?void 0:R.pipeline,B=(0,l.useMemo)((function(){return n||(O?O({height:U,heightOffset:g.Mz,pipeline:H}):null)}),[n,O,U,H]),V=r||(B?50*m.iI:null),z=(0,l.useMemo)((function(){var e=[];return H&&(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),v?(e.push({label:function(){return H.uuid},linkProps:{as:"/pipelines/".concat(A,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(v)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return H.name}})),e}),[v,H,A]);return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(c.Z,{after:B,afterHidden:t,afterWidth:V,before:b,beforeWidth:h,breadcrumbs:z,navigationItems:(0,x.H)(w,H),subheaderChildren:"undefined"!==typeof C&&C,title:H?L?L(H):H.name:null,uuid:F,children:[(T||M)&&(0,y.jsx)(p.Z,{mb:m.Mq,mt:m.cd,mx:m.cd,children:(0,y.jsx)(j,{background:E,backgroundImage:N,children:(0,y.jsxs)(u.Z,{alignItems:"center",children:[T,M&&(0,y.jsx)(p.Z,{ml:3}),M]})})}),I&&(0,y.jsx)(p.Z,{p:m.cd,children:(0,y.jsxs)(p.Z,{mt:m.cd,px:m.cd,children:[(0,y.jsx)(d.Z,{level:5,children:I}),(0,y.jsx)(s.Z,{light:!0,mt:m.cd,short:!0})]})}),P]}),_&&(0,y.jsx)(a.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,y.jsx)(o.Z,k(k({},_),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},56681:function(e,n,t){"use strict";t.d(n,{G:function(){return Z},Z:function(){return y}});var r=t(75582),i=t(82394),l=t(26304),a=t(32316),c=t(22673),s=t(86532),o=t(86673),u=t(19711),d=t(58180),p=t(49125),f=t(19395),b=t(7715),h=t(28598),v=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function m(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function j(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?m(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):m(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var g={uuid:"Run details"},x={uuid:"Dependency tree"},Z=[x,g];function y(e){var n=e.height,t=e.heightOffset,i=e.pipeline,m=e.selectedRun,y=e.selectedTab,O=e.setSelectedTab,k=j({},(0,l.Z)(e,v));m?k.blockStatus=(0,f.IJ)(null===m||void 0===m?void 0:m.block_runs):k.noStatus=!0;var P=(0,b.Kn)(null===m||void 0===m?void 0:m.variables)?j({},null===m||void 0===m?void 0:m.variables):(null===m||void 0===m?void 0:m.variables)||{},_=null===m||void 0===m?void 0:m.event_variables;if(_&&(0,b.Kn)(_)&&!(0,b.Qr)(_))if((0,b.Kn)(P)&&P.hasOwnProperty("event")){var I=(0,b.Kn)(P.event)?P.event:{};P.event=j(j({},I),_)}else P.event=j({},_);var w=[];P&&JSON.stringify(P,null,2).split("\n").forEach((function(e){w.push("    ".concat(e))}));var S=m&&[["Run ID",null===m||void 0===m?void 0:m.id],["Variables",(0,h.jsx)(c.Z,{language:"json",small:!0,source:w.join("\n")},"variable_value")]],D=m&&(0,h.jsx)(o.Z,{pb:p.cd,px:p.cd,children:(0,h.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:S.map((function(e,n){var t=(0,r.Z)(e,2),i=t[0],l=t[1];return[(0,h.jsx)(u.ZP,{monospace:!0,muted:!0,children:i},"key_".concat(n)),(0,h.jsx)(u.ZP,{monospace:!0,textOverflow:!0,children:l},"val_".concat(n))]})),uuid:"LogDetail"})}),C=y&&O;return(0,h.jsxs)(h.Fragment,{children:[C&&(0,h.jsx)(o.Z,{py:p.cd,children:(0,h.jsx)(a.Z,{onClickTab:O,selectedTabUUID:null===y||void 0===y?void 0:y.uuid,tabs:Z})}),(!C||x.uuid===(null===y||void 0===y?void 0:y.uuid))&&(0,h.jsx)(s.Z,j(j({},k),{},{height:n,heightOffset:(t||0)+(C?76:0),pipeline:i})),g.uuid===(null===y||void 0===y?void 0:y.uuid)&&D]})}},58122:function(e,n,t){"use strict";t.d(n,{CL:function(){return f},FS:function(){return b},JZ:function(){return v},e7:function(){return m},v0:function(){return p},wx:function(){return h}});var r=t(75582),i=t(82394),l=t(43313),a=t(93348),c=t(1286),s=t(90211),o=t(84779);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e){var n=e.statistics,t=Object.keys(n),r=Array(l.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(l.Dy.includes(e)){var t=l.CC[e],i=n[e],a=i,c=!1,s=[2,3],u=l.Ub[e],d=l.oH[e],p=l.OD[e];if(l.y_.includes(e))c=!0,s=[2,1,2];else if(e in l.Sq){i=(0,o.Jw)(i,0);var f=l.Sq[e];a=n[f]}var b={columnFlexNumbers:s,name:t,progress:c,rate:a,successDirection:d,warning:p};l.y_.includes(e)||(b.value=i),r[u]=b}})),r)}function f(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,i=Object.keys(r);if(0===i.length)return null;var a=Object.values(t),o=a.length,u=[];u.push({name:"Column count",successDirection:l.oH.column_count,value:(0,s.x6)(o)}),i.forEach((function(e){if(l.Zu.includes(e)){var n=l.CC[e],t=r[e],i=l.OD[e];u.push({name:n,successDirection:l.oH[e],value:(0,s.x6)(t),warning:i})}}));var d=(0,c.QO)(a),p=d.countCategory,f=d.countDatetime,b=d.countNumerical;return u.push({name:"Categorical Features",rate:p/o,value:(0,s.x6)(p)},{name:"Numerical Features",rate:b/o,value:(0,s.x6)(b)},{name:"Datetime Features",rate:f/o,value:(0,s.x6)(f)}),u}function b(e){return"string"===typeof e?e:JSON.stringify(e)}function h(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return d(d({},e),{},{value:b(n)})}))}function v(e,n){return n===a.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===a.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function m(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),l=t[0],a=t[1],c=a;try{c=JSON.parse(a)}catch(s){}return d(d({},e),{},(0,i.Z)({},l,c))}),{}):e}},18025:function(e,n,t){"use strict";t.d(n,{J:function(){return s},U:function(){return c}});var r=t(9518),i=t(23831),l=t(73942),a=t(49125),c=r.default.div.withConfig({displayName:"indexstyle__CardStyle",componentId:"sc-m7tlau-0"})(["border-radius:","px;border-style:solid;border-width:2px;height:","px;margin-right:","px;padding:","px;width:","px;"," ",""],l.TR,14*a.iI,a.cd*a.iI,a.cd*a.iI,40*a.iI,(function(e){return!e.selected&&"\n    border-color: ".concat((e.theme.borders||i.Z.borders).light,";\n  ")}),(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.interactive||i.Z.interactive).linkPrimary,";\n  ")})),s=r.default.div.withConfig({displayName:"indexstyle__DateSelectionContainer",componentId:"sc-m7tlau-1"})(["border-radius:","px;padding:","px;"," "," ",""],l.n_,a.tr,(function(e){return"\n    background-color: ".concat((e.theme.interactive||i.Z.interactive).defaultBackground,";\n  ")}),(function(e){return e.absolute&&"\n    position: absolute;\n    z-index: 2;\n    right: 0;\n    top: ".concat(2.5*a.iI,"px;\n  ")}),(function(e){return e.topPosition&&"\n    top: -".concat(42*a.iI,"px;\n  ")}))},43526:function(e,n,t){"use strict";t.d(n,{I7:function(){return r},IB:function(){return s},VV:function(){return l},_7:function(){return a},rn:function(){return c}});var r,i=t(66050),l="datetime",a="code",c=i.V;!function(e){e.SECOND="second",e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year",e.CUSTOM="custom"}(r||(r={}));var s=[r.MINUTE,r.HOUR,r.DAY,r.WEEK,r.MONTH,r.YEAR,r.CUSTOM]},2713:function(e,n,t){"use strict";var r=t(82394),i=t(44495),l=t(67971),a=t(55378),c=t(86673),s=t(19711),o=t(18025),u=t(49125),d=t(24224),p=t(28598);function f(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function b(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?f(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):f(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.selectedDate,t=e.selectedTime,r=e.setSelectedDate,f=e.setSelectedTime,h=e.topPosition;return(0,p.jsxs)(o.J,{absolute:!0,topPosition:h,children:[(0,p.jsx)(i.ZP,{onChange:r,value:n}),(0,p.jsx)(c.Z,{mb:2}),(0,p.jsxs)(l.Z,{alignItems:"center",children:[(0,p.jsx)(s.ZP,{default:!0,large:!0,children:"Time (UTC):"}),(0,p.jsx)(c.Z,{pr:2}),(0,p.jsx)(a.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),f((function(n){return b(b({},n),{},{hour:e.target.value})}))},paddingRight:5*u.iI,placeholder:"HH",value:null===t||void 0===t?void 0:t.hour,children:(0,d.m5)(24,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"hour_".concat(e))}))}),(0,p.jsx)(c.Z,{px:1,children:(0,p.jsx)(s.ZP,{bold:!0,large:!0,children:":"})}),(0,p.jsx)(a.Z,{compact:!0,monospace:!0,onChange:function(e){e.preventDefault(),f((function(n){return b(b({},n),{},{minute:e.target.value})}))},paddingRight:5*u.iI,placeholder:"MM",value:null===t||void 0===t?void 0:t.minute,children:(0,d.m5)(60,0).map((function(e){return String(e).padStart(2,"0")})).map((function(e){return(0,p.jsx)("option",{value:e,children:e},"minute_".concat(e))}))})]})]})}},22673:function(e,n,t){"use strict";var r=t(82684),i=t(73199),l=t.n(i),a=t(71593),c=t(9518),s=t(65292),o=t(23831),u=t(2005),d=t(49125),p=t(28598);n.Z=function(e){var n=e.language,t=e.maxWidth,i=e.showLineNumbers,f=e.small,b=e.source,h=e.wrapLines,v=(0,r.useContext)(c.ThemeContext);return(0,p.jsx)(l(),{source:b,renderers:{code:function(e){var r=e.value;return(0,p.jsx)(a.Z,{customStyle:{backgroundColor:(v.background||o.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:u.Vp,fontSize:f?12:14,marginBottom:0,marginTop:0,paddingBottom:2*d.iI,paddingTop:2*d.iI,maxWidth:t},lineNumberStyle:{color:(v.content||o.Z.content).muted},language:n,showLineNumbers:i,style:s._4,useInlineStyles:!0,wrapLines:h,children:r})}}})}},32316:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(82684),i=t(60328),l=t(67971),a=t(882),c=t(86673),s=t(19711),o=t(99994),u=t(9518),d=t(49125),p=t(37391),f=u.default.div.withConfig({displayName:"indexstyle__TabsContainerStyle",componentId:"sc-segf7l-0"})(["padding-left:","px;padding-right:","px;"," "," ",""],d.cd*d.iI,d.cd*d.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.allowScroll&&"\n    overflow: auto;\n  "}),p.w5),b=t(66653),h=t(28598);var v=function(e){var n=e.allowScroll,t=e.contained,u=e.noPadding,p=e.onClickTab,v=e.selectedTabUUID,m=e.small,j=e.tabs,g=(0,r.useMemo)((function(){var e=j.length,t=[];return j.forEach((function(r,u){var f=r.Icon,j=r.IconSelected,g=r.label,x=r.uuid,Z=x===v,y=Z&&j||f,O=g?g():x,k=(0,h.jsxs)(l.Z,{alignItems:"center",children:[y&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(y,{default:!Z,size:2*d.iI}),(0,h.jsx)(c.Z,{mr:1})]}),(0,h.jsx)(s.ZP,{bold:!0,default:!Z,noWrapping:n,small:!0,children:O})]});u>=1&&e>=2&&t.push((0,h.jsx)("div",{style:{marginLeft:1.5*d.iI}},"spacing-".concat(x))),Z?t.push((0,h.jsx)(a.Z,{backgroundGradient:o.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,compact:m,onClick:function(e){(0,b.j)(e),p(r)},paddingUnitsHorizontal:2,paddingUnitsVertical:1.25,small:m,children:k},x)):t.push((0,h.jsx)("div",{style:{padding:4},children:(0,h.jsx)(i.Z,{borderLess:!0,compact:m,default:!0,onClick:function(e){(0,b.j)(e),p(r)},outline:!0,small:m,children:k})},"button-tab-".concat(x)))})),t}),[n,p,v,m,j]),x=(0,h.jsx)(l.Z,{alignItems:"center",children:g});return t?x:(0,h.jsx)(f,{allowScroll:n,noPadding:u,children:x})}},12625:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return re}});var r=t(75582),i=t(77837),l=t(82394),a=t(38860),c=t.n(a),s=t(82684),o=t(83455),u=t(34376),d=t(43526),p=t(60328),f=t(34744),b=t(67971),h=t(87372),v=t(51099),m=t(60547),j=t(97496),g=t(47409),x=t(55378),Z=t(86673),y=t(54283),O=t(58180),k=t(19711),P=t(82531),_=t(56681),I=t(10503),w=t(2850),S=t(49125),D=t(59920),C=t(90211),E=t(58122),N=t(19395),T=t(33766),M=t(7715),L=t(9736),F=t(96510),U=t(66653),A=t(59e3),R=t(28598);function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function B(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var V=function(e){var n=e.backfill,t=e.fetchBackfill,i=e.pipeline,l=e.variables,a=(0,L.Ct)(),c=(0,u.useRouter)(),H=n||{},V=H.block_uuid,z=H.end_datetime,W=H.id,Y=H.interval_type,J=H.interval_units,K=H.name,q=H.pipeline_run_dates,G=H.start_datetime,X=H.status,Q=H.total_run_count,$=H.variables,ee=void 0===$?{}:$,ne=i.uuid,te=(0,A.iV)(),re=(0,s.useState)(null),ie=re[0],le=re[1],ae={_limit:40,_offset:40*(null!==te&&void 0!==te&&te.page?te.page:0)};null!==te&&void 0!==te&&te.status&&(ae.status=te.status);var ce=P.ZP.pipeline_runs.list(B(B({},ae),{},{backfill_id:W,order_by:["id DESC"]}),{refreshInterval:3e3,revalidateOnFocus:!0},{pauseFetch:!W}),se=ce.data,oe=ce.mutate,ue=!(G&&z&&Y&&J),de=!X,pe=(0,s.useMemo)((function(){return(de?q:null===se||void 0===se?void 0:se.pipeline_runs)||[]}),[se,q,de]),fe=(0,s.useMemo)((function(){var e;return(null===se||void 0===se||null===(e=se.metadata)||void 0===e?void 0:e.count)||[]}),[se]),be=(0,s.useState)(null),he=be[0],ve=be[1],me=(0,s.useMemo)((function(){var e=null!==te&&void 0!==te&&te.page?te.page:0;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(j.Z,{disableRowSelect:de,emptyMessage:null!==te&&void 0!==te&&te.status?"No runs available":'No runs available. Please complete backfill configuration by clicking "Edit backfill" above.',fetchPipelineRuns:oe,onClickRow:function(e){return ve((function(n){var t=pe[e];return(null===n||void 0===n?void 0:n.id)!==t.id?t:null}))},pipelineRuns:pe,selectedRun:he}),(0,R.jsx)(Z.Z,{p:2,children:(0,R.jsx)(v.Z,{maxPages:9,onUpdate:function(e){var n=Number(e),t=B(B({},te),{},{page:n>=0?n:0});c.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ne,"/backfills/").concat(W,"?").concat((0,A.uM)(t)))},page:Number(e),totalPages:Math.ceil(fe/40)})})]})}),[oe,W,pe,ne,te,c,he,de,fe]),je=(0,s.useState)(_.G[0]),ge=je[0],xe=je[1],Ze=(0,o.Db)(P.ZP.backfills.useUpdate(W),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){t(),oe()},onErrorCallback:function(e,n){return le({errors:n,response:e})}})}}),ye=(0,r.Z)(Ze,2),Oe=ye[0],ke=ye[1].isLoading,Pe=(0,s.useMemo)((function(){return!!X&&(d.rn.CANCELLED!==X&&d.rn.FAILED!==X)}),[X]),_e=(0,s.useMemo)((function(){return X&&d.rn.CANCELLED!==X&&d.rn.FAILED!==X&&d.rn.INITIAL!==X&&d.rn.RUNNING!==X}),[X]),Ie=(0,s.useMemo)((function(){var e={default:!0,size:1.5*S.iI},n=[[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.VW,B({},e)),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Backfill type"})]},"backfill_type_label"),(0,R.jsx)(k.ZP,{monospace:!0,children:V?d._7:d.VV},"backfill_type")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.rs,B({},e)),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Status"})]},"backfill_status_label"),(0,R.jsx)(k.ZP,{danger:d.rn.CANCELLED===X||d.rn.FAILED==X,default:d.rn.INITIAL===X,monospace:!0,muted:!X,success:d.rn.RUNNING===X||d.rn.COMPLETED===X,children:X||"inactive"},"backfill_status")]];return V||n.push.apply(n,[[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.aw,B({},e)),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Start date and time"})]},"backfill_start_date_label"),(0,R.jsx)(k.ZP,{monospace:!0,children:(0,N.Vx)(G)},"backfill_start_date")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.aw,B({},e)),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"End date and time"})]},"backfill_end_date_label"),(0,R.jsx)(k.ZP,{monospace:!0,children:(0,N.Vx)(z)},"backfill_end_date")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.Pf,B({},e)),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Interval type"})]},"interval_type_label"),(0,R.jsx)(k.ZP,{monospace:!0,children:Y&&(0,C.kC)(Y)},"interval_type")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.Pf,B({},e)),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Interval units"})]},"interval_units_label"),(0,R.jsx)(k.ZP,{monospace:!0,children:J},"interval_units")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.qZ,B({},e)),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Total runs"})]},"total_runs_label"),(0,R.jsx)(k.ZP,{monospace:!0,children:Q},"total_runs")]]),(0,R.jsx)(O.Z,{columnFlex:[null,1],rows:n})}),[V,z,Y,J,G,X,Q]),we=(0,s.useMemo)((function(){return ee||{}}),[ee]),Se=(0,s.useMemo)((function(){var e,n=[];return(0,M.Qr)(we)?n=(0,E.wx)(l,(function(e){return"global"===e.uuid})):Object.entries(we).forEach((function(e){var t=(0,r.Z)(e,2),i=t[0],l=t[1];n.push({uuid:i,value:(0,E.FS)(l)})})),"undefined"!==typeof n&&null!==(e=n)&&void 0!==e&&e.length?(0,R.jsx)(O.Z,{columnFlex:[null,1],rows:n.map((function(e){var n=e.uuid,t=e.value;return[(0,R.jsx)(k.ZP,{default:!0,monospace:!0,small:!0,children:n},"settings_variable_label_".concat(n)),(0,R.jsx)(k.ZP,{monospace:!0,small:!0,children:t},"settings_variable_".concat(n))]}))}):null}),[we,l]);return(0,R.jsx)(R.Fragment,{children:(0,R.jsxs)(m.Z,{afterHidden:!he,before:(0,R.jsxs)(w.M,{children:[(0,R.jsxs)(Z.Z,{mb:S.HN,pt:S.cd,px:S.cd,children:[(0,R.jsx)(Z.Z,{mb:S.cd,children:(0,R.jsx)(I.yg,{size:5*S.iI})}),(0,R.jsx)(h.Z,{children:K})]}),(0,R.jsx)(Z.Z,{px:S.cd,children:(0,R.jsx)(h.Z,{level:5,children:"Settings"})}),(0,R.jsx)(f.Z,{light:!0,mt:1,short:!0}),Ie,Se&&(0,R.jsxs)(Z.Z,{my:S.HN,children:[(0,R.jsx)(Z.Z,{px:S.cd,children:(0,R.jsx)(h.Z,{level:5,children:"Runtime variables"})}),(0,R.jsx)(f.Z,{light:!0,mt:1,short:!0}),Se]})]}),beforeWidth:34*S.iI,breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(ne,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return K},linkProps:{as:"/pipelines/".concat(ne,"/backfills/").concat(W),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],buildSidekick:function(e){return(0,_.Z)(B(B({},e),{},{selectedRun:he,selectedTab:ge,setSelectedTab:xe}))},errors:ie,pageName:D.M.BACKFILLS,pipeline:i,setErrors:le,subheader:(0,R.jsxs)(b.Z,{alignItems:"center",children:[!_e&&(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(p.Z,{beforeIcon:Pe?(0,R.jsx)(I.dz,{size:2*S.iI}):(0,R.jsx)(I.Py,{inverted:!(d.rn.CANCELLED===X||d.rn.FAILED===X),size:2*S.iI}),danger:Pe,disabled:ue,loading:ke,onClick:function(e){(0,U.j)(e),Oe({backfill:{status:Pe?d.rn.CANCELLED:d.rn.INITIAL}})},outline:!0,success:!Pe&&!(d.rn.CANCELLED===X||d.rn.FAILED===X)&&!ue,children:Pe?"Cancel backfill":d.rn.CANCELLED===X||d.rn.FAILED===X?"Retry backfill":"Start backfill"}),(0,R.jsx)(Z.Z,{mr:S.cd})]}),!a&&(0,R.jsxs)(R.Fragment,{children:[X===g.V.COMPLETED?(0,R.jsx)(k.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}):(0,R.jsx)(p.Z,{linkProps:{as:"/pipelines/".concat(ne,"/backfills/").concat(W,"/edit"),href:"/pipelines/[pipeline]/backfills/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit backfill"}),(0,R.jsx)(Z.Z,{mr:S.cd})]}),!de&&(0,R.jsxs)(x.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?c.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ne,"/backfills/").concat(W)):(0,T.u7)({page:0,status:e.target.value})},paddingRight:4*S.iI,placeholder:"Select run status",value:(null===te||void 0===te?void 0:te.status)||"all",children:[(0,R.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),Object.values(g.V).map((function(e){return(0,R.jsx)("option",{value:e,children:g.D[e]},e)}))]})]}),title:function(){return K},uuid:"backfill/detail",children:[(0,R.jsx)(Z.Z,{mt:S.cd,px:S.cd,children:(0,R.jsx)(h.Z,{level:5,children:"Runs for this backfill"})}),(0,R.jsx)(f.Z,{light:!0,mt:S.cd,short:!0}),se?me:(0,R.jsx)(Z.Z,{m:2,children:(0,R.jsx)(y.Z,{inverted:!0})})]})})},z=t(2713),W=t(47999),Y=t(93461),J=t(82944),K=[{label:function(){return"Date and time window"},description:function(){return"Backfill between a date and time range."},uuid:d.VV}],q=t(18025);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Q=function(e){var n=e.backfill,t=e.fetchBackfill,i=e.pipeline,l=(e.variables,(0,u.useRouter)()),a=(0,s.useState)(),c=a[0],v=a[1],j=c||{},g=j.block_uuid,y=j.id,_=j.interval_type,w=j.interval_units,T=(j.end_datetime,j.start_datetime,j.name),L=i.uuid,U=(0,s.useState)(null),A=U[0],H=U[1],B=(0,s.useState)({}),V=B[0],G=(B[1],(0,s.useState)(g?d._7:d.VV)),Q=G[0],$=G[1],ee=(0,s.useState)(!1),ne=ee[0],te=ee[1],re=(0,s.useState)(!1),ie=re[0],le=re[1],ae=(0,s.useState)(null),ce=ae[0],se=ae[1],oe=(0,s.useState)(null),ue=oe[0],de=oe[1],pe=(0,s.useState)({hour:"00",minute:"00"}),fe=pe[0],be=pe[1],he=(0,s.useState)({hour:"00",minute:"00"}),ve=he[0],me=he[1];(0,s.useEffect)((function(){if(n){v(n);var e=n.start_datetime;if(e){var t=e.split(" ")[1];de((0,N.eI)(e)),me({hour:t.substring(0,2),minute:t.substring(3,5)})}var r=n.end_datetime;if(r){var i=r.split(" ")[1];se((0,N.eI)(r)),be({hour:i.substring(0,2),minute:i.substring(3,5)})}}}),[n]);var je=(0,s.useMemo)((function(){var e=[[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.KJ,{default:!0,size:1.5*S.iI}),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Backfill name"})]},"model_name_detail"),(0,R.jsx)(J.Z,{monospace:!0,onChange:function(e){e.preventDefault(),v((function(n){return X(X({},n),{},{name:e.target.value})}))},placeholder:"Name this backfill",value:T},"model_name_input_detail")]];return d.VV===Q&&e.push.apply(e,[[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.aw,{default:!0,size:1.5*S.iI}),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,R.jsxs)("div",{style:{minHeight:"".concat(5.75*S.iI,"px")},children:[!ne&&(0,R.jsx)(J.Z,{monospace:!0,onClick:function(){return te((function(e){return!e}))},onFocus:function(){return te(!0)},placeholder:"YYYY-MM-DD HH:MM",value:ue?"".concat(ue.toISOString().split("T")[0]," ").concat(null===ve||void 0===ve?void 0:ve.hour,":").concat(null===ve||void 0===ve?void 0:ve.minute):""}),(0,R.jsx)("div",{style:{width:"400px"},children:(0,R.jsx)(W.Z,{disableEscape:!0,onClickOutside:function(){return te(!1)},open:ne,style:{position:"relative"},children:(0,R.jsx)(z.Z,{selectedDate:ue,selectedTime:ve,setSelectedDate:de,setSelectedTime:me,topPosition:!0})})})]},"start_time_input")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.aw,{default:!0,size:1.5*S.iI}),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"End date and time"})]},"end_time"),(0,R.jsxs)("div",{style:{minHeight:"".concat(5.75*S.iI,"px")},children:[!ie&&(0,R.jsx)(J.Z,{monospace:!0,onClick:function(){return le((function(e){return!e}))},onFocus:function(){return le(!0)},placeholder:"YYYY-MM-DD HH:MM",value:ce?"".concat(ce.toISOString().split("T")[0]," ").concat(null===fe||void 0===fe?void 0:fe.hour,":").concat(null===fe||void 0===fe?void 0:fe.minute):""}),(0,R.jsx)("div",{style:{width:"400px"},children:(0,R.jsx)(W.Z,{disableEscape:!0,onClickOutside:function(){return le(!1)},open:ie,style:{position:"relative"},children:(0,R.jsx)(z.Z,{selectedDate:ce,selectedTime:fe,setSelectedDate:se,setSelectedTime:be,topPosition:!0})})})]},"end_time_input")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.Pf,{default:!0,size:1.5*S.iI}),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Interval type"})]},"interval_type"),(0,R.jsxs)(x.Z,{monospace:!0,onChange:function(e){e.preventDefault(),v((function(n){return X(X({},n),{},{interval_type:e.target.value})}))},placeholder:"Time spacing between each backfill",value:_,children:[!_&&(0,R.jsx)("option",{value:""}),d.IB.map((function(e){return(0,R.jsx)("option",{value:e,children:(0,C.kC)(e)},e)}))]},"interval_type_input")],[(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(I.Pf,{default:!0,size:1.5*S.iI}),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(k.ZP,{default:!0,children:"Interval units"})]},"interval_units"),(0,R.jsx)(J.Z,{disabled:!_,monospace:!0,onChange:function(e){e.preventDefault(),v((function(n){return X(X({},n),{},{interval_units:e.target.value})}))},placeholder:_?"Number of ".concat(_).concat(_!==d.I7.CUSTOM?"s":""," between each backfill"):"Interval type is required",type:"number",value:w},"interval_unit_input")]]),(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(Z.Z,{mb:2,px:S.cd,children:(0,R.jsx)(h.Z,{children:"Settings"})}),(0,R.jsx)(f.Z,{light:!0,short:!0}),(0,R.jsx)(O.Z,{columnFlex:[null,1],rows:e})]})}),[ce,ue,_,w,T,Q,ne,ie,fe,ve]),ge=(0,o.Db)(P.ZP.backfills.useUpdate(y),{onSuccess:function(e){return(0,F.wD)(e,{callback:function(){t(),l.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(L,"/backfills/").concat(y))},onErrorCallback:function(e,n){return H({errors:n,response:e})}})}}),xe=(0,r.Z)(ge,2),Ze=xe[0],ye=xe[1].isLoading,Oe=(0,s.useCallback)((function(){var e=X(X({},(0,M.GL)(c,["name"])),{},{end_datetime:null,interval_type:null,interval_units:null,start_datetime:null,variables:(0,E.e7)(V)});return d._7===Q||(e.interval_type=_,e.interval_units=w,e.end_datetime=ce&&null!==fe&&void 0!==fe&&fe.hour&&null!==fe&&void 0!==fe&&fe.minute?"".concat(ce.toISOString().split("T")[0]," ").concat(null===fe||void 0===fe?void 0:fe.hour,":").concat(null===fe||void 0===fe?void 0:fe.minute,":00"):null,e.start_datetime=ue&&null!==ve&&void 0!==ve&&ve.hour&&null!==ve&&void 0!==ve&&ve.minute?"".concat(ue.toISOString().split("T")[0]," ").concat(null===ve||void 0===ve?void 0:ve.hour,":").concat(null===ve||void 0===ve?void 0:ve.minute,":00"):null),Ze({backfill:e})}),[ce,ue,_,w,c,V,Q,fe,ve]),ke=(0,s.useMemo)((function(){return d._7===Q?!g:!(ce&&ue&&_&&w)}),[g,ce,ue,_,w,Q,fe,ve]);return(0,R.jsxs)(m.Z,{breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(L,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return null===c||void 0===c?void 0:c.name},linkProps:{as:"/pipelines/".concat(L,"/backfills/").concat(y),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],errors:A,pageName:D.M.BACKFILLS,pipeline:i,setErrors:H,subheader:(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(p.Z,{disabled:ke,loading:ye,onClick:Oe,outline:!0,primary:!0,children:"Save changes"}),(0,R.jsx)(Z.Z,{mr:1}),(0,R.jsx)(p.Z,{linkProps:{href:"/pipelines/[pipeline]/backfills/[...slug]",as:"/pipelines/".concat(L,"/backfills/").concat(y)},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"})]}),title:function(){return"Edit ".concat(null===c||void 0===c?void 0:c.name)},uuid:"backfill/edit",children:[(0,R.jsxs)(Z.Z,{p:S.cd,children:[(0,R.jsxs)(Z.Z,{mb:2,children:[(0,R.jsx)(h.Z,{children:"Backfill type"}),(0,R.jsx)(k.ZP,{muted:!0,children:"How would you like this pipeline to be backfilled?"})]}),(0,R.jsx)(b.Z,{children:K.map((function(e){var n=e.label,t=e.description,r=e.uuid,i=Q===r,l=Q&&!i;return(0,R.jsx)(p.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){$(r)},children:(0,R.jsx)(q.U,{selected:i,children:(0,R.jsxs)(b.Z,{alignItems:"center",children:[(0,R.jsx)(Y.Z,{children:(0,R.jsx)("input",{checked:i,type:"radio"})}),(0,R.jsx)(Z.Z,{mr:S.cd}),(0,R.jsxs)(Y.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,R.jsx)(h.Z,{bold:!0,default:!i&&!l,level:5,muted:!i&&l,children:n()}),(0,R.jsx)(k.ZP,{default:!i&&!l,leftAligned:!0,muted:l,children:t()})]})]})})},r)}))})]}),(0,R.jsx)(Z.Z,{mt:5,children:je})]})},$=t(41788);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function te(e){var n=e.backfillId,t=e.pipelineUUID,r=e.subpath,i=P.ZP.variables.pipelines.list(t).data,l=(0,s.useMemo)((function(){return null===i||void 0===i?void 0:i.variables}),[i]),a=P.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,c=(0,s.useMemo)((function(){return ne(ne({},null===a||void 0===a?void 0:a.pipeline),{},{uuid:t})}),[a,t]),o=P.ZP.backfills.detail(n,{include_preview_runs:!0}),u=o.data,d=o.mutate,p=(0,s.useMemo)((function(){return null===u||void 0===u?void 0:u.backfill}),[u]);return"edit"===r?(0,R.jsx)(Q,{backfill:p,fetchBackfill:d,pipeline:c,variables:l}):(0,R.jsx)(V,{backfill:p,fetchBackfill:d,pipeline:c,variables:l})}te.getInitialProps=function(){var e=(0,i.Z)(c().mark((function e(n){var t,i,l,a,s,o;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.query,i=t.pipeline,l=t.slug,!Array.isArray(l)){e.next=4;break}return a=(0,r.Z)(l,2),s=a[0],o=a[1],e.abrupt("return",{backfillId:s,pipelineUUID:i,subpath:o});case 4:return e.abrupt("return",{pipelineUUID:i});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var re=(0,$.Z)(te)},53664:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/backfills/[...slug]",function(){return t(12625)}])}},function(e){e.O(0,[3850,5716,5896,4804,1774,5872,2524,4495,2344,4506,6166,8180,6214,6532,1286,6566,9774,2888,179],(function(){return n=53664,e(e.s=n);var n}));var n=e.O();_N_E=n}]);