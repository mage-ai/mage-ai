(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8778],{7432:function(e,n,t){var r={"./Active4D.json":[266,266],"./All Hallows Eve.json":[4450,4450],"./Amy.json":[88849,8849],"./Birds of Paradise.json":[78097,8097],"./Blackboard.json":[88018,6115],"./Brilliance Black.json":[73835,3835],"./Brilliance Dull.json":[6507,6507],"./Chrome DevTools.json":[22508,2508],"./Clouds Midnight.json":[49566,9566],"./Clouds.json":[57951,7951],"./Cobalt.json":[80826,826],"./Cobalt2.json":[98256,8256],"./Dawn.json":[76958,6958],"./Dominion Day.json":[89307,9307],"./Dracula.json":[33453,3453],"./Dreamweaver.json":[19363,9363],"./Eiffel.json":[82481,2481],"./Espresso Libre.json":[44776,4776],"./GitHub.json":[10739,739],"./IDLE.json":[67947,7947],"./Katzenmilch.json":[81240,1240],"./Kuroir Theme.json":[4388,4388],"./LAZY.json":[25164,5164],"./MagicWB (Amiga).json":[76443,6443],"./Merbivore Soft.json":[99361,9361],"./Merbivore.json":[86042,6042],"./Monokai Bright.json":[14883,4883],"./Monokai.json":[34454,4454],"./Night Owl.json":[60261,261],"./Nord.json":[59785,9785],"./Oceanic Next.json":[58920,8920],"./Pastels on Dark.json":[38901,8901],"./Slush and Poppies.json":[26434,6434],"./Solarized-dark.json":[36116,6116],"./Solarized-light.json":[5008,5008],"./SpaceCadet.json":[20440,440],"./Sunburst.json":[68018,8018],"./Textmate (Mac Classic).json":[15824,5824],"./Tomorrow-Night-Blue.json":[81150,1150],"./Tomorrow-Night-Bright.json":[8762,8762],"./Tomorrow-Night-Eighties.json":[82545,2545],"./Tomorrow-Night.json":[99855,9855],"./Tomorrow.json":[34092,4092],"./Twilight.json":[93898,3898],"./Upstream Sunburst.json":[98807,8807],"./Vibrant Ink.json":[89927,9927],"./Xcode_default.json":[64042,4042],"./Zenburnesque.json":[33467,3467],"./iPlastic.json":[88277,8277],"./idleFingers.json":[5104,5104],"./krTheme.json":[9633,9633],"./monoindustrial.json":[15729,5729],"./themelist.json":[79437,9437]};function o(e){if(!t.o(r,e))return Promise.resolve().then((function(){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],o=n[0];return t.e(n[1]).then((function(){return t.t(o,19)}))}o.keys=function(){return Object.keys(r)},o.id=7432,e.exports=o},95074:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Do}});var r,o,i,c,l=t(77837),u=t(12757),a=t(82394),s=t(38860),d=t.n(s),p=t(82684),f=t(83455),h=t(34376);!function(e){e.DATA_EXPORTER="data_exporter",e.DATA_LOADER="data_loader",e.SCRATCHPAD="scratchpad",e.TRANSFORMER="transformer"}(i||(i={})),function(e){e.EXECUTED="executed",e.NOT_EXECUTED="not_executed"}(c||(c={}));var v=(r={},(0,a.Z)(r,i.DATA_EXPORTER,"Data exporter"),(0,a.Z)(r,i.DATA_LOADER,"Data loader"),(0,a.Z)(r,i.SCRATCHPAD,"Scratchpad"),(0,a.Z)(r,i.TRANSFORMER,"Transformer"),r),m=(o={},(0,a.Z)(o,i.DATA_EXPORTER,"DE"),(0,a.Z)(o,i.DATA_LOADER,"DL"),(0,a.Z)(o,i.SCRATCHPAD,"SP"),(0,a.Z)(o,i.TRANSFORMER,"TF"),o),b=t(28598);var g,x=function(e){return e.selectedFile,(0,b.jsx)(b.Fragment,{})},y=t(77555),j=t(46313),k=t(67971),w=t(10919),O=t(86673),C=t(19711),P=t(1132),Z=t(10512);!function(e){e.PY="py",e.TXT="txt"}(g||(g={}));var S,I,T=function(e){return e.at(-1)},E=function(e){return e.at(-2).slice(0,-1)},_=function(e){return T(e).slice(0,-3)},D=function(e,n){return e.find((function(e){var t=e.uuid;return _(n)===t}))};function B(e){console.log(e);var n=e.indexOf("pipelines");if(-1!==n&&n===e.length-2)return e[e.length-1]}!function(e){e.DATA_LOADERS="data_loaders",e.DATA_EXPORTERS="data_exporters",e.GLOBAL_VARIABLES="global_variables",e.PIPELINES="pipelines",e.SCRATCHPADS="scratchpads",e.TRANSFORMERS="transformers"}(S||(S={})),function(e){e.INIT_PY="__init__.py"}(I||(I={}));var A=t(49125),R=t(24224),N=j.default.div.withConfig({displayName:"FileTree__FileNodeStyle",componentId:"sc-mx8e6u-0"})(["align-items:center;display:flex;min-width:","px;"," ",""],50*A.iI,(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n  ")}),(function(e){return"\n    &:hover {\n      background-color: ".concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n    }\n  ")}));var L=function(e){var n,t=e.addNewBlockAtIndex,r=e.blockRefs,o=e.openFile,i=e.openPipeline,c=e.pipeline,l=e.setSelectedBlock,u=e.tree,s=(0,p.useContext)(j.ThemeContext);!function(e){e[e.CUSTOM_VAL=0]="CUSTOM_VAL",e[e.FALSE=1]="FALSE",e[e.TRUE=2]="TRUE",e[e.TOGGLE=3]="TOGGLE"}(n||(n={}));var d=(0,p.useState)(u),f=d[0],h=d[1],v=(0,p.useState)([]),m=v[0],x=v[1],L=(null===c||void 0===c?void 0:c.blocks)||[];(0,p.useEffect)((function(){return h(u)}),[u]);var M=function(e){!function(e,t){var r=[],o=t.key,i=t.type,c=t.value,l={children:JSON.parse(JSON.stringify(f)),name:"root"};!function t(l){var u;if((0,R.fS)(e,r)){var s,d=(s={},(0,a.Z)(s,n.TRUE,!0),(0,a.Z)(s,n.FALSE,!1),(0,a.Z)(s,n.TOGGLE,!l[o]),(0,a.Z)(s,n.CUSTOM_VAL,c),s);l[o]=d[i]}else null===(u=l.children)||void 0===u||u.forEach((function(e){r.push(e.name),t(e),r.pop()}))}(l),h(l.children)}((0,y.Z)(e),{key:"collapsed",type:n.TOGGLE}),x((0,y.Z)(e))},F=function(e){z(e),l(D(L,e)),x((0,y.Z)(e))},z=function(e){var n,t=e.slice(1).join("/"),o=r.current[t];null===o||void 0===o||null===(n=o.current)||void 0===n||n.scrollIntoView({behavior:"smooth"})},H=function(e,n){return function(t){return t.preventDefault(),n?M(e):F(e)}},U=function(e){(function(e){return T(e).slice(-2)===g.PY})(e)&&(D(L,e)||t({type:E(e),uuid:_(e)},L.length,(function(){return F(e)}),_(e)));var n=e[e.length-1].split("."),r=n[n.length-1];if(g.TXT===r)return o(e.slice(1).join("/"))},W=function(e,n){return function(t){return t.preventDefault(),function(e){return!!B(e)}(e)?i(B(e)):n?void 0:U(e)}},K=0,G=[];return(0,b.jsx)(k.Z,{flexDirection:"column",children:(0,b.jsx)(O.Z,{pb:4,children:function e(n){K++;var t=null===n||void 0===n?void 0:n.map((function(n){var t=n.name,r=n.children,o=n.collapsed;G.push(t);var i=function(e,n){var t,r=T(e);return r===I.INIT_PY?{iconColor:((null===n||void 0===n?void 0:n.monotone)||P.Z.monotone).grey500,iconType:Z.iU}:2===e.length?(t={},(0,a.Z)(t,S.DATA_LOADERS,{iconColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button1,iconType:Z.I5,textColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button1}),(0,a.Z)(t,S.DATA_EXPORTERS,{iconColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button2,iconType:Z.I5,textColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button2}),(0,a.Z)(t,S.GLOBAL_VARIABLES,{iconColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button3,iconType:Z.I5,textColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button3}),(0,a.Z)(t,S.PIPELINES,{iconColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button4,iconType:Z.I5,textColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button4}),(0,a.Z)(t,S.SCRATCHPADS,{iconColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button5,iconType:Z.I5,textColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).button5}),(0,a.Z)(t,S.TRANSFORMERS,{iconColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).primary,iconType:Z.I5,textColor:((null===n||void 0===n?void 0:n.chart)||P.Z.chart).primary}),t)[r]:void 0}(G,s)||{},c=i.iconColor,l=void 0===c?(s.content||P.Z.content).active:c,u=i.iconType,d=void 0===u?r?Z.gt:Z.iU:u,p=i.textColor,f=(0,b.jsxs)("div",{children:[(0,b.jsxs)(N,{highlighted:(0,R.fS)(G,m),children:[(0,b.jsx)(O.Z,{mr:"".concat(r?2*K*A.iI-12:2*K*A.iI,"px")}),(0,b.jsx)(w.Z,{fullWidth:!0,noColor:!0,noHoverUnderline:!0,noOutline:!0,onClick:H([].concat(G),!!r),onDoubleClick:W([].concat(G),!!r),children:(0,b.jsx)(O.Z,{py:"".concat(.75*A.iI,"px"),children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[r&&(o?(0,b.jsx)(Z.ol,{muted:!0}):(0,b.jsx)(Z.K5,{muted:!0})),"\xa0",(0,b.jsx)(d,{fill:l}),"\xa0",(0,b.jsx)(C.ZP,{color:p,monospace:!0,muted:!(0,R.fS)(G,m),children:t})]})})})]}),r&&!o&&e(r)]},G.join("/"));return G.pop(),f}));return K--,t}(f)})})},M=t(47999),F=t(73942),z=(0,j.css)(["min-width:18px;padding-left:2px;padding-right:2px;"," "," "," "," "," ",""],(function(e){return!e.disabled&&"\n    background-color: ".concat((e.theme.content||P.Z.content).inverted,";\n  ")}),(function(e){return e.disabled&&"\n    // background-color: ".concat((e.theme.monotone||P.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.mutedDisabled&&"\n    opacity: 0.3;\n  "}),(function(e){return!e.borderless&&"\n    box-shadow: ".concat((e.theme.shadow||P.Z.shadow).tiny,";\n    padding-bottom: 3px;\n    padding-top: 3px;\n  ")}),(function(e){return e.borderless&&"\n    border-radius: ".concat(F.BG,"px;\n    padding-bottom: 4px;\n    padding-top: 4px;\n  ")}),(function(e){return e.spacingLeft&&"\n    margin-left: ".concat(e.spacingLeft,"px;\n  ")})),H=j.default.kbd.withConfig({displayName:"KeyboardText__KbdStyle",componentId:"sc-18540m4-0"})(["",""],z),U=j.default.div.withConfig({displayName:"KeyboardText__DivStyle",componentId:"sc-18540m4-1"})(["",""],z);var W=function(e){var n=e.borderless,t=e.disabled,r=e.inline,o=e.keyText,i=e.monospace,c=e.mutedDisabled,l=e.spacingLeft,u=r?U:H,a=(0,p.useContext)(j.ThemeContext),s={};if(!n){var d,f;if(t)s.borderColor=null===(d=(null===a||void 0===a?void 0:a.monotone)||P.Z.monotone)||void 0===d?void 0:d.grey400;else s.borderColor=null===(f=(null===a||void 0===a?void 0:a.content)||P.Z.content)||void 0===f?void 0:f.active;s.borderRadius=F.BG,s.borderStyle="solid",s.borderWidth=1,s.overflow="hidden"}return(0,b.jsx)(C.ZP,{center:!0,inline:!0,monospace:i,muted:t||c,style:s,xsmall:!0,children:(0,b.jsx)(u,{borderless:n,disabled:t,mutedDisabled:c,spacingLeft:l,children:o})})},K=j.default.div.withConfig({displayName:"KeyboardTextGroup__SpacingStyle",componentId:"sc-1bx41p7-0"})([""," "," ",""],(function(e){return e.small&&"\n    margin-left: ".concat(.25*A.iI,"px;\n  ")}),(function(e){return!e.small&&"\n    margin-left: ".concat(.25*A.iI,"px;\n  ")}),(function(e){return e.marginRight&&"\n    margin-right: ".concat(.25*A.iI,"px;\n  ")}));var G=function(e){var n=e.borderless,t=e.disabled,r=e.keyTextGroups,o=e.inline,i=e.monospace,c=e.mutedDisabled,l=e.small,u=e.uuidForKey,a=[],s=[];return r.forEach((function(e,r){var o=[];e.forEach((function(e,r){s.push(e),r>=1&&o.push((0,b.jsx)(K,{small:l},"spacing-".concat(e))),o.push((0,b.jsx)(W,{borderless:n,disabled:t,inline:!0,keyText:e,monospace:i,mutedDisabled:c},"key-".concat(s.join("-"),"-").concat(u)))})),r>=1&&a.push((0,b.jsx)(K,{marginRight:!0,children:(0,b.jsx)(C.ZP,{monospace:i,muted:!0,small:!l,xsmall:l,children:"then"})},"then-".concat(r))),a.push.apply(a,o)})),(0,b.jsx)(k.Z,{alignItems:"center",inline:o,children:a})},q=j.default.div.withConfig({displayName:"indexstyle__FlyoutMenuContainerStyle",componentId:"sc-1o7k6f4-0"})(["position:absolute;min-width:","px;",""],34*A.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||P.Z.shadow).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n    }\n  ")})),V=j.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-1o7k6f4-1"})(["align-items:center;display:flex;justify-content:space-between;padding:","px;&:hover{cursor:default;}"," ",""],A.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||P.Z.background).popup,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n  ")})),X=t(16115),J=t(41150);var Y=function(e){var n,t,r=e.items,o=e.onClickCallback,i=e.open,c=e.parentRef,l=e.uuid,u=(0,p.useState)([]),a=u[0],s=u[1],d=((null===c||void 0===c||null===(n=c.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).height,f=(0,J.y)(),h=f.registerOnKeyDown,v=f.unregisterOnKeyDown;return(0,p.useEffect)((function(){return function(){v(l)}}),[v,l]),h(l,(function(e,n,t){if(i){var c=a[0];if(n[X.kD])"undefined"===typeof c||c===r.length-1?s([0]):s([c+1]);else if(n[X.Bu])s("undefined"===typeof c||0===c?[r.length-1]:[c-1]);else if(n[X.Uq]&&"undefined"!==typeof c){var l,u;null===(l=r[c])||void 0===l||null===(u=l.onClick)||void 0===u||u.call(l),null===o||void 0===o||o()}else r.forEach((function(e){var r=e.keyboardShortcutValidation;null===r||void 0===r||r({keyHistory:t,keyMapping:n})}))}}),[a,r,o,i,s]),(0,p.useEffect)((function(){i||s([])}),[i]),(0,b.jsx)(q,{style:{display:i?null:"none",left:0,top:d},children:r.map((function(e,n){var t=e.keyTextGroups,r=e.label,i=e.onClick,c=e.uuid;return(0,b.jsxs)(V,{highlighted:a[0]===n,onClick:function(e){e.preventDefault(),null===i||void 0===i||i(),null===o||void 0===o||o()},children:[(0,b.jsx)(C.ZP,{children:r()}),t&&(0,b.jsx)(G,{keyTextGroups:t})]},c)}))})},Q=t(96040),$=t(55056),ee=t.n($),ne=t(59e3),te=t(554);function re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function oe(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?re(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ie="DELETE",ce="GET",le="POST",ue="PUT";function ae(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.body,r=(n.ctx,n.method),o=void 0===r?ce:r,i=n.query,c=void 0===i?{}:i,l=(n.token,{"Content-Type":"application/json"}),s={method:o};if(t){var d=t.file;if(d){d.name,d.size,d.type;var p=new FormData,f=Object.keys(t).filter((function(e){return"file"!==e}))[0];p.set("json_root_body",JSON.stringify((0,a.Z)({api_key:te.env.NEXT_PUBLIC_API_KEY},f,t[f]))),p.append("file",d),s.body=p,delete l["Content-Type"]}else s.body=JSON.stringify(oe(oe({},t),{},{api_key:te.env.NEXT_PUBLIC_API_KEY}))}s.headers=new Headers(l);var h=oe(oe({},(0,ne.iV)(e)),c);te.env.NEXT_PUBLIC_API_KEY&&(h.api_key=te.env.NEXT_PUBLIC_API_KEY);var v=Object.entries(h).reduce((function(e,n){var t=(0,u.Z)(n,2),r=t[0],o=t[1];return e.concat("".concat(r,"=").concat(o))}),[]).join("&");return{data:s,headers:l,method:o,queryString:v,url:e.split("?")[0]}}function se(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=ae(e,n),r=t.data,o=t.queryString,i=t.url,c=o?"".concat(i,"?").concat(o):i;return fetch(c,r)}function de(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=ae(e,n),r=t.data,o=t.headers,i=t.method,c=t.queryString,l=t.url,u=c?"".concat(l,"?").concat(c):l;return ee().request({data:r.body,headers:o,method:i,onUploadProgress:null===n||void 0===n?void 0:n.onUploadProgress,url:u})}function pe(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return se(e,n).then((function(e){return e.json()}))}function fe(){var e,n="localhost",t="/CLOUD_NOTEBOOK_BASE_PATH_PLACEHOLDER_",r=n,o="http://",i="";(r=window.location.hostname)===n?r="".concat(r,":").concat(6789):(o="https://",null!==(e=window.location.protocol)&&void 0!==e&&e.match(/https/)||(o="http://"),window.location.port&&(r="".concat(r,":").concat(window.location.port)));return t.includes("CLOUD_NOTEBOOK_BASE_PATH_PLACEHOLDER")||(i=t),"".concat(o).concat(r).concat(i,"/api")}function he(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,c="".concat(fe(),"/").concat(e);return n&&(c="".concat(c,"/").concat(n)),t&&(c="".concat(c,"/").concat(t)),r&&(c="".concat(c,"/").concat(r)),i&&(c="".concat(c,"/").concat(i)),Object.values(o).length>=1&&(c="".concat(c,"?").concat((0,ne.uM)(o))),c}function ve(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ve(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ve(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function be(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return de(he(e),me(me({},t),{},{body:n,method:le}))}function ge(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=he(n,t,e);return de(i,me(me({},o),{},{body:r,method:le}))}function xe(e,n,t,r,o){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=he(n,t,e,r);return de(c,me(me({},i),{},{body:o,method:ue}))}function ye(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return se(he(n,t),{ctx:e,query:r,method:ce})}function je(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return se(he(n),{ctx:e,query:t,method:ce})}function ke(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return se(he(t,r,n),{ctx:e,query:o,method:ce})}function we(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=he(e,n,null,null,r);return se(o,{body:t,method:ue})}function Oe(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=(0,Q.ZP)(n?he(e,n):null,(function(e){return pe(e,{method:ce,query:t})}),r),i=o.data,c=o.error,l=o.mutate;return{data:i,error:c,mutate:l}}function Ce(e,n,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},c=arguments.length>6?arguments[6]:void 0,l=(0,Q.ZP)(n&&(r?he(t,r,e,n,o,c):null),(function(e){return pe(e,{method:ce,query:o})}),i),u=l.data,a=l.error,s=l.mutate;return{data:u,error:a,mutate:s}}function Pe(e,n){return se(he(e,n),{method:ie})}function Ze(e,n,t,r){return se(he(n,t,e,r),{method:ie})}function Se(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=(0,Q.ZP)(he(e,null,null,null,n),(function(e){return pe(e)}),t),o=r.data,i=r.error,c=r.mutate;return{data:o,error:i,loading:!o&&!i,mutate:c}}function Ie(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},i=(0,Q.ZP)(t?he(n,t,e,null,r):null,(function(e){return pe(e)}),o),c=i.data,l=i.error,u=i.mutate;return{data:c,error:l,loading:!c&&!l,mutate:u}}function Te(e,n,t,r){return se(he(n,t),{ctx:e,body:r,method:ue})}var Ee=t(96510);function _e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function De(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_e(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_e(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Be="blocks",Ae="feature_sets",Re="kernels",Ne="pipelines",Le={};[["execute",Ne],[Be,Ne],[Be,Ne,"analyses"],[Be,Ne,"outputs"],["columns",Ae],["downloads",Ae],[Ae],["files"],["file_contents"],[Re],["interrupt",Re],["restart",Re],[Ne],["status"],["variables",Ne],["versions",Ae]].forEach((function(e){var n=(0,u.Z)(e,4),t=n[0],r=n[1],o=n[2],i=n[3];Le[t]||(Le[t]={deleteAsync:function(){var e=(0,l.Z)(d().mark((function e(n){var r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pe(t,n);case 2:return r=e.sent,e.next=5,(0,Ee.pr)(r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),detail:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return Oe(t,e,n,De(De({},i),r))},detailAsync:function(){var e=(0,l.Z)(d().mark((function e(n,r){var o,i,c=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=c.length>2&&void 0!==c[2]?c[2]:{},e.next=3,ye(n,t,r,o);case 3:return i=e.sent,e.next=6,(0,Ee.pr)(i);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),updateAsync:function(){var e=(0,l.Z)(d().mark((function e(n,r,o){var i;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Te(n,t,r,o);case 2:return i=e.sent,e.next=5,(0,Ee.pr)(i);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),useUpdate:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(){var r=(0,l.Z)(d().mark((function r(o){return d().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",we(t,e,o,n));case 1:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}}),o?(Le[t][r][o]={},Le[t][r][o].detail=function(e,n,c,l){return Ce(t,n,r,e,c,De(De({},i),l),o)}):r?(Le[t][r]={},Le[t][r].useCreate=function(e,n){return function(){var o=(0,l.Z)(d().mark((function o(i){return d().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",ge(t,r,e,i,n));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()},Le[t][r].useCreateWithParentIdLater=function(e){return function(){var n=(0,l.Z)(d().mark((function n(o){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",ge(t,r,o.parentId,o.body,e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Le[t][r].useUpdate=function(e,n,o){return function(){var i=(0,l.Z)(d().mark((function i(c){return d().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",xe(t,r,e,n,c,o));case 1:case"end":return i.stop()}}),i)})));return function(e){return i.apply(this,arguments)}}()},Le[t][r].useDelete=function(e,n){return(0,l.Z)(d().mark((function o(){var i;return d().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,Ze(t,r,e,n);case 2:return i=o.sent,o.next=5,(0,Ee.pr)(i);case 5:return o.abrupt("return",o.sent);case 6:case"end":return o.stop()}}),o)})))},Le[t][r].listAsync=function(){var e=(0,l.Z)(d().mark((function e(n,o){var i,c,l=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=l.length>2&&void 0!==l[2]?l[2]:{},e.next=3,ke(n,t,r,o,i);case 3:return c=e.sent,e.next=6,(0,Ee.pr)(c);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Le[t][r].list=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;return Ie(t,r,e,n,De(De({},i),o))},Le[t][r].detail=function(e,n,o,c){return Ce(t,n,r,e,o,De(De({},i),c))}):(Le[t].create=function(){var e=(0,l.Z)(d().mark((function e(n,r){var o;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(t,n,r);case 2:return o=e.sent,e.next=5,(0,Ee.pr)(o);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Le[t].useCreate=function(e){return function(){var n=(0,l.Z)(d().mark((function n(r){return d().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",be(t,r,e));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},Le[t].listAsync=function(){var e=(0,l.Z)(d().mark((function e(n){var r,o,i=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},e.next=3,je(n,t,r);case 3:return o=e.sent,e.next=6,(0,Ee.pr)(o);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Le[t].list=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return Se(t,e,De(De({},i),n))})}));var Me=Le,Fe=j.default.div.withConfig({displayName:"indexstyle__LinkStyle",componentId:"sc-y3uzxv-0"})(["padding:","px;&:hover{cursor:pointer;","}",""],A.iI,(function(e){return"\n      background-color: ".concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n    ")}),(function(e){return e.highlighted&&"\n    background-color: ".concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n  ")})),ze=t(29817);function He(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ue(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?He(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):He(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var We=function(e){var n=e.interruptKernel,t=e.restartKernel,r=e.savePipelineContent,o=e.setMessages,i=(0,h.useRouter)(),c=(0,p.useState)(null),l=c[0],s=c[1],d=(0,p.useRef)(null),v=(0,p.useRef)(null),m=(0,f.Db)(Me.pipelines.useCreate(),{onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(e){var n=e.pipeline.uuid;i.push("/pipelines/[...slug]","/pipelines/".concat(n))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),g=(0,u.Z)(m,1)[0],x=[{label:function(){return"New pipeline"},onClick:function(){return g({pipeline:{name:(0,ze.Y6)()}})},uuid:"new pipeline"},{label:function(){return"Save pipeline"},keyTextGroups:[[X.RJ,X.SS]],onClick:function(){return r()},uuid:"save pipeline"}],y=[{label:function(){return"Interrupt kernel"},keyTextGroups:[[X.kA],[X.kA]],onClick:function(){return n()},uuid:"Interrupt kernel"},{label:function(){return"Restart kernel"},keyTextGroups:[[X.t_[X.OC]],[X.t_[X.OC]]],onClick:function(){return t()},uuid:"Restart kernel"},{label:function(){return"Clear all outputs"},onClick:function(){return o((function(e){return Object.keys(e).reduce((function(e,n){return Ue(Ue({},e),{},(0,a.Z)({},n,[]))}),{})}))},uuid:"Clear all outputs"}],j="FileHeaderMenu/index",w=(0,J.y)(),O=w.registerOnKeyDown,P=w.unregisterOnKeyDown;return(0,p.useEffect)((function(){return function(){P(j)}}),[P,j]),O(j,(function(e,n,t){n[X.QK]?s((function(e){return 0===e?1:e-1})):n[X.DY]&&s((function(e){return 1===e?0:e+1}))}),[s]),(0,b.jsx)(M.Z,{onClickOutside:function(){return s(null)},open:!0,style:{position:"relative"},children:(0,b.jsxs)(k.Z,{children:[(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)(Fe,{highlighted:0===l,onClick:function(){return s((function(e){return 0===e?null:0}))},onMouseEnter:function(){return s((function(e){return null!==e?0:null}))},ref:d,children:(0,b.jsx)(C.ZP,{children:"File"})}),(0,b.jsx)(Y,{items:x,onClickCallback:function(){return s(null)},open:0===l,parentRef:d,uuid:"FileHeaderMenu/file_items"})]}),(0,b.jsxs)("div",{style:{position:"relative"},children:[(0,b.jsx)(Fe,{highlighted:1===l,onClick:function(){return s((function(e){return 1===e?null:1}))},onMouseEnter:function(){return s((function(e){return null!==e?1:null}))},ref:v,children:(0,b.jsx)(C.ZP,{children:"Run"})}),(0,b.jsx)(Y,{items:y,onClickCallback:function(){return s(null)},open:1===l,parentRef:v,uuid:"FileHeaderMenu/run_items"})]})]})})},Ke=t(57384),Ge=t(26304),qe=t(12691),Ve=t.n(qe),Xe=t(93461),Je=t(39421),Ye=t(56663),Qe=t.n(Ye),$e=t(66757),en=t.n($e),nn=t(55361),tn=t(91427);var rn="current_group_id",on="current_group",cn="current_user";function ln(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(e){var n=Qe()(e),t=n.current_group_id;return{id:t}}var r=en().get(on),o=Je.Z.get(rn,nn.Hu);if(r&&o)return r}function un(){return en().get(cn)}function an(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function sn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?an(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):an(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function dn(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return sn(sn({},t),{},{groupId:null===(e=ln())||void 0===e?void 0:e.id,id:null===(n=un())||void 0===n?void 0:n.id})}var pn=t(86954);function fn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function hn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?fn(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):fn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function vn(){return[[pn.go,"initialAsPath"],[pn.iT,"initialPathname"],[pn.FT,"notificationTemplate"],[pn.Ll,"notificationUUID"],[pn.$m,"referringURL"]].reduce((function(e,n){var t=(0,u.Z)(n,2),r=t[0],o=t[1];return hn(hn({},e),{},(0,a.Z)({},o,Je.Z.get(r,pn.vZ)))}),{})}var mn=t(36283);function bn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function gn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?bn(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):bn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var xn="click",yn="button";function jn(e){var n,t,r=e.actionName,o=e.actionType,i=e.componentName,c=e.componentType,l=e.properties,u=e.screenName,a=(n=r||o,t=i||c,"".concat(u,".").concat(n,"_").concat(t)),s=function(){var e,n,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=vn(),o=(null!==t&&void 0!==t&&t.width,window.innerWidth);return gn(gn(gn({},t),r),{},{groupId:null===(e=ln())||void 0===e?void 0:e.id,partner_id:"Mage",screenSize:(0,mn.Z3)(o),userId:null===(n=un())||void 0===n?void 0:n.id})}(gn({actionType:o,componentType:c},l));return{eventProperties:s,eventType:a,userProperties:dn()}}function kn(e,n){null===e||void 0===e||e(n)}var wn=function(e){var n=e.children;return e.eventProperties,e.userProperties,n((function(e){return!1}))};function On(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Cn(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?On(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):On(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Pn,Zn,Sn=function(e){var n,t=e.buildChildren,r=e.disabled,o=e.eventActionName,i=void 0===o?xn:o,c=e.eventComponentName,l=void 0===c?yn:c,u=e.eventProperties,a=void 0===u?{}:u,s=e.eventScreenName,d=void 0===s?"generic":s,f=e.keyboardShortcutValidation,v=e.linkProps,m=e.onClick,g=e.openNewTab,x=e.requireKeyUp,y=e.uuid,j=(0,h.useRouter)(),k=(0,J.y)(),w=k.registerOnKeyDown,O=k.registerOnKeyUp,C=k.unregisterOnKeyDown,P=k.unregisterOnKeyUp;(0,p.useEffect)((function(){return function(){var e=x?P:C;null===e||void 0===e||e(y)}}),[x,C,P,y]),r||!m&&!v||(n=function(e){null===m||void 0===m||m(e),v&&(g?(window.open(v.as||v.href),e.preventDefault()):j.push(v.href,v.as))});var Z=jn({actionName:i,actionType:xn,componentName:l,componentType:yn,properties:a,screenName:d}),S=Z.eventType,I=Z.eventProperties,T=Z.userProperties;return(0,b.jsx)(wn,{eventProperties:I,userProperties:T,children:function(e){var r=e.logEvent;f&&n&&(x?O:w)(y,(function(e,t,o){f({keyHistory:o,keyMapping:t})&&(kn(r,S,{eventProperties:Cn(Cn({},I),{},{usedKeyboardShortcut:!0}),userProperties:T}),n(e))}),[I,S,r,n,T]);return t({eventProperties:I,eventType:S,logEvent:r,onClick:n,userProperties:T})}})},In={chatBubbleProps:null,graphicButtonProps:null,logoProps:null,mageImageUrl:null,mascotImageUrls:{base:null,castingSpell:null,chargingUp:null,thinking:null},sharedProps:null},Tn=p.createContext(In),En=Tn,_n=t(54283),Dn=t(2005),Bn=t(31012),An=t(90880),Rn=["Icon","afterElement","beforeElement","bold","borderless","centerText","children","compact","disabled","fitContentWidth","inverted","keyTextGroups","keyTextsPosition","linkProps","loading","mutedDisabled","onClick","type","useModelTheme"];function Nn(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ln(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Nn(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Nn(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(Pn||(Pn={})),function(e){e.BUTTON="button",e.SUBMIT="submit"}(Zn||(Zn={}));var Mn=(0,j.css)([""," align-items:center;border:none;display:flex;flex-direction:row;position:relative;text-align:left;z-index:0;"," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," "," ",""],(0,An.eR)(),(function(e){return!e.large1&&!e.large2&&"\n    ".concat(Bn.iD,"\n  ")}),(function(e){return e.small&&"\n    ".concat(Bn.HC,"\n  ")}),(function(e){return e.large1&&"\n    ".concat(Bn.ln,"\n  ")}),(function(e){return e.large2&&"\n    ".concat(Bn.QU,"\n  ")}),(function(e){return!e.inline&&"\n    width: 100%;\n  "}),(function(e){return e.shortWidth&&"\n    min-width: ".concat(28*A.iI,"px;\n  ")}),(function(e){return!e.wrapText&&"\n    white-space: nowrap;\n  "}),(function(e){return!e.secondary&&"\n    font-family: ".concat(Dn.ry,";\n    justify-content: space-between;\n  ")}),(function(e){return e.center&&"\n    justify-content: center;\n  "}),(function(e){return!e.noPadding&&!e.spacious&&!e.compact&&"\n    padding: ".concat(1.25*A.iI,"px ").concat(1.5*A.iI,"px;\n  ")}),(function(e){return e.compact&&"\n    padding: ".concat(.5*A.iI,"px ").concat(.75*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(.625*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(.625*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(.75*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&!e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(.75*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&!e.marketing&&"\n    padding: ".concat(2.25*A.iI,"px ").concat(3*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.marketing&&"\n    padding: ".concat(2.25*A.iI-2,"px ").concat(3*A.iI-2,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingTop&&"\n    padding-top: ".concat(1.125*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingBottom&&"\n    padding-bottom: ".concat(1.125*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingRight&&"\n    padding-right: ".concat(1.5*A.iI,"px;\n  ")}),(function(e){return!e.noPadding&&e.spacious&&e.halfPaddingLeft&&"\n    padding-left: ".concat(1.5*A.iI,"px;\n  ")}),(function(e){return e.secondary&&"\n    flex-basis: content;\n    font-family: ".concat(Dn.nF,";\n    padding: 0;\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.bold&&"\n    font-family: ".concat(Dn.nF,";\n  ")}),(function(e){return!e.muted&&!e.inverted&&"\n    color: ".concat((e.theme.content||P.Z.content).active,";\n  ")}),(function(e){return!e.muted&&e.inverted&&"\n    color: ".concat((e.theme.content||P.Z.content).inverted,";\n  ")}),(function(e){return e.muted&&"\n    color: ".concat((e.theme.monotone||P.Z.monotone).grey300,";\n  ")}),(function(e){return e.warning&&"\n    color: ".concat((e.theme.brand||P.Z.brand).energy400,";\n  ")}),(function(e){return e.noHover&&"\n    &:hover {\n      cursor: default;\n    }\n  "}),(function(e){return e.blackBorder&&"\n    border: ".concat(F.YF,"px ").concat(F.M8," ").concat((e.theme.monotone||P.Z.monotone).black,";\n  ")}),(function(e){return!e.pill&&!e.borderless&&!e.compact&&"\n    border-radius: ".concat(F.n_,"px;\n  ")}),(function(e){return e.compact&&"\n    border-radius: ".concat(F.BG,"px;\n  ")}),(function(e){return!e.borderRadiusLeft&&!e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-radius: ".concat(5*A.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&!e.spacious&&"\n    border-bottom-left-radius: ".concat(5*A.iI,"px;\n    border-top-left-radius: ").concat(5*A.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&!e.spacious&&"\n    border-bottom-right-radius: ".concat(5*A.iI,"px;\n    border-top-right-radius: ").concat(5*A.iI,"px;\n  ")}),(function(e){return e.borderRadiusLeft&&e.pill&&e.spacious&&"\n    border-bottom-left-radius: ".concat(8*A.iI,"px;\n    border-top-left-radius: ").concat(8*A.iI,"px;\n  ")}),(function(e){return e.borderRadiusRight&&e.pill&&e.spacious&&"\n    border-bottom-right-radius: ".concat(8*A.iI,"px;\n    border-top-right-radius: ").concat(8*A.iI,"px;\n  ")}),(function(e){return!e.noBackground&&e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.inverted&&!e.noBackground&&!e.backgroundColor&&"\n    background-color: ".concat((e.theme.monotone||P.Z.monotone).black,";\n  ")}),(function(e){return!e.inverted&&!e.noBackground&&"\n    background-color: ".concat((e.theme.interactive||P.Z.interactive).defaultBackground,";\n\n    &:hover {\n      background-color: ").concat((e.theme.interactive||P.Z.interactive).hoverBackground,";\n    }\n  ")}),(function(e){return e.noBackground&&"\n    background-color: transparent !important;\n  "}),(function(e){return e.disabled&&e.inverted&&"\n    color: ".concat((e.theme.monotone||P.Z.monotone).grey400," !important;\n  ")}),(function(e){return e.disabled&&!e.inverted&&"\n    color: ".concat((e.theme.monotone||P.Z.monotone).grey300," !important;\n  ")}),(function(e){return e.disabled&&"\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}),(function(e){return e.selected&&"\n    background-color: ".concat((e.theme.monotone||P.Z.monotone).black,";\n    color: ").concat((e.theme.monotone||P.Z.monotone).white,";\n  ")}),(function(e){return e.selected&&e.grey300&&"\n    background-color: ".concat((e.theme.monotone||P.Z.monotone).grey300,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.fire&&"\n    background-color: ".concat((e.theme.brand||P.Z.brand).fire400,";\n  ")}),(function(e){return e.useModelTheme&&"\n    color: ".concat((e.theme.monotone||P.Z.monotone).white,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.earth&&"\n    background-color: ".concat((e.theme.brand||P.Z.brand).earth400,";\n  ")}),(function(e){return e.primaryEnergy&&"\n    background-color: ".concat((e.theme.brand||P.Z.brand).energy400,";\n    border: none;\n    font-family: ").concat(Dn.nF,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.wind&&"\n    background-color: ".concat((e.theme.brand||P.Z.brand).wind400,";\n  ")}),(function(e){return(e.selected||e.useModelTheme)&&e.water&&"\n    background-color: ".concat((e.theme.brand||P.Z.brand).water400,";\n  ")}),(function(e){return e.withIcon&&"\n    padding: ".concat(1.25*A.iI-1,"px !important;\n  ")}),(function(e){return e.shadow&&"\n    box-shadow: ".concat((e.theme.shadow||P.Z.shadow).large,";\n  ")})),Fn=j.default.button.withConfig({displayName:"KeyboardShortcutButton__ButtonStyle",componentId:"sc-10tm4pj-0"})(["",""],Mn),zn=j.default.a.withConfig({displayName:"KeyboardShortcutButton__AnchorStyle",componentId:"sc-10tm4pj-1"})([""," ",""],Mn,w.R),Hn=j.default.span.withConfig({displayName:"KeyboardShortcutButton__SpanStyle",componentId:"sc-10tm4pj-2"})(["margin-right:","px;"],1*A.iI);var Un,Wn,Kn,Gn=function(e){var n=e.Icon,t=e.afterElement,r=e.beforeElement,o=e.bold,i=e.borderless,c=e.centerText,l=e.children,u=e.compact,s=e.disabled,d=e.fitContentWidth,f=e.inverted,h=e.keyTextGroups,v=e.keyTextsPosition,m=void 0===v?Pn.RIGHT:v,g=e.linkProps,x=e.loading,y=e.mutedDisabled,j=e.onClick,k=e.type,w=void 0===k?Zn.BUTTON:k,C=e.useModelTheme,P=(0,Ge.Z)(e,Rn),Z=g||{},S=Z.as,I=Z.href,T=S||I?zn:Fn,E=(0,p.useMemo)((function(){if(!h)return null;var e=(0,a.Z)({},m===Pn.RIGHT?"ml":"mr",l?1:0);return(0,b.jsx)(O.Z,Ln(Ln({},e),{},{children:(0,b.jsx)(G,{borderless:f,disabled:s,keyTextGroups:h,mutedDisabled:y})}))}),[l,s,f,h,m,y]),_=((0,p.useContext)(En)||{}).sharedProps;return(0,b.jsx)(Sn,Ln(Ln({},P),{},{buildChildren:function(e){var a=e.eventProperties,p=e.eventType,h=e.logEvent,v=e.onClick,j=e.userProperties,k=(0,b.jsxs)(T,Ln(Ln(Ln({},P),C?_:{}),{},{center:c,compact:u,bold:C||o,borderless:C||i,disabled:s||y,fitContentWidth:d,inverted:f,noHover:!v&&!(S||I)&&w===Zn.BUTTON,onClick:function(e){kn(h,p,{eventProperties:a,userProperties:j}),null===v||void 0===v||v(e)},type:S||I?null:w,useModelTheme:C,withIcon:!!n,children:[r&&!x&&(0,b.jsxs)(b.Fragment,{children:[r,(0,b.jsx)(O.Z,{mr:1})]}),m===Pn.LEFT&&E,(0,b.jsxs)(Xe.Z,{alignItems:"center",children:[n&&(0,b.jsx)(n,{inverted:!f,muted:s||y,size:2.5*A.iI}),n&&l&&(0,b.jsx)(O.Z,{mr:1}),x&&(0,b.jsx)(Hn,{children:(0,b.jsx)(_n.Z,{inverted:!f})}),!x&&l]}),m===Pn.RIGHT&&E&&(0,b.jsx)(O.Z,{ml:1,children:E}),t&&!x&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.Z,{ml:t?1:0}),t]})]}));return!S&&!I||s||y?k:(0,b.jsx)(Ve(),Ln(Ln({},g),{},{passHref:!0,children:k}))},disabled:s||y,linkProps:g,onClick:j}))};!function(e){e.BUSY="busy",e.IDLE="idle",e.QUEUED="queued"}(Un||(Un={})),function(e){e.IMAGE_PNG="image/png",e.TABLE="table",e.TEXT="text",e.TEXT_PLAIN="text/plain"}(Wn||(Wn={})),function(e){e.STATUS="status",e.STREAM="stream"}(Kn||(Kn={}));var qn=t(56085),Vn=t(16910);function Xn(e,n){var t=(n.theme.borders||P.Z.borders).light,r=n||{},o=r.isSelected,c=r.theme;return o?t=(c.content||P.Z.content).active:i.TRANSFORMER===e?t=(c.accent||P.Z.accent).purple:i.DATA_EXPORTER===e?t=(c.accent||P.Z.accent).yellow:i.DATA_LOADER===e?t=(c.accent||P.Z.accent).blue:i.SCRATCHPAD===e&&(t=(c.content||P.Z.content).muted),{accent:t}}var Jn=(0,j.css)([""," ",""],(function(e){return e.selected&&!e.hasError&&"\n    border-color: ".concat(Xn(e.blockType,e).accent,";\n  ")}),(function(e){return e.selected&&e.hasError&&"\n    border-color: ".concat((e.theme.borders||P.Z.borders).danger,";\n  ")})),Yn=j.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-s5rj34-0"})(["border-radius:","px;overflow:hidden;position:relative;"],F.n_),Qn=j.default.div.withConfig({displayName:"indexstyle__CodeContainerStyle",componentId:"sc-s5rj34-1"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;border-top-left-radius:","px;border-top-right-radius:","px;border-top-style:solid;border-top-width:2px;padding-bottom:","px;padding-top:","px;"," "," "," .line-numbers{opacity:0;}&.selected{.line-numbers{opacity:1 !important;}}"],Jn,F.n_,F.n_,A.iI,A.iI,(function(e){return"\n    background-color: ".concat((e.theme.background||P.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.background||P.Z.background).codeTextarea,";\n  ")}),(function(e){return!e.hasOutput&&"\n    border-bottom-left-radius: ".concat(F.n_,"px;\n    border-bottom-right-radius: ").concat(F.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),$n=j.default.div.withConfig({displayName:"indexstyle__BlockDivider",componentId:"sc-s5rj34-2"})(["align-items:center;display:flex;height:","px;justify-content:center;position:relative;z-index:1;&:hover{.block-divider-inner{","}}"],2*A.iI,(function(e){return"\n        background-color: ".concat((e.theme.text||P.Z.text).fileBrowser,";\n      ")})),et=j.default.div.withConfig({displayName:"indexstyle__BlockDividerInner",componentId:"sc-s5rj34-3"})(["height 1px;width:100%;position:absolute;z-index:-1;"]),nt=j.default.div.withConfig({displayName:"indexstyle__CodeHelperStyle",componentId:"sc-s5rj34-4"})(["margin-bottom:","px;padding-bottom:","px;padding-left:","px;",""],A.cd*A.iI,A.iI,68,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||P.Z.borders).medium,";\n  ")})),tt=A.cd*A.iI,rt=j.default.div.withConfig({displayName:"indexstyle__IconContainerStyle",componentId:"sc-oyfjzc-0"})(["align-items:center;border-radius:","px;border:1px solid transparent;display:flex;justify-content:center;"," "," "," "," "," ",""],F.BG,(function(e){return e.border&&"\n    border: 1px dotted ".concat((e.theme.content||P.Z.content).active,";\n  ")}),(function(e){return e.blue&&"\n    background-color: ".concat(Xn(i.DATA_LOADER,e).accent,";\n  ")}),(function(e){return e.purple&&"\n    background-color: ".concat(Xn(i.TRANSFORMER,e).accent,";\n  ")}),(function(e){return e.yellow&&"\n    background-color: ".concat(Xn(i.DATA_EXPORTER,e).accent,";\n  ")}),(function(e){return!e.compact&&"\n    height: ".concat(tt+A.iI/2,"px;\n    width: ").concat(tt+A.iI/2,"px;\n  ")}),(function(e){return e.compact&&"\n    height: ".concat(tt/2+A.iI,"px;\n    width: ").concat(tt/2+A.iI,"px;\n  ")}));function ot(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function it(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ot(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ot(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ct=function(e){var n=e.addNewBlock,t=e.compact,r={compact:t,inline:!0};return(0,b.jsxs)(k.Z,{inline:!0,children:[(0,b.jsx)(Gn,it(it({},r),{},{beforeElement:(0,b.jsx)(rt,{compact:t,purple:!0,children:(0,b.jsx)(Z.mm,{size:t?tt/2:tt})}),onClick:function(e){e.preventDefault(),n({type:i.TRANSFORMER})},uuid:"AddNewBlocks/Transformer",children:"Transformer"})),(0,b.jsx)(O.Z,{ml:1}),(0,b.jsx)(Gn,it(it({},r),{},{beforeElement:(0,b.jsx)(rt,{blue:!0,compact:t,children:(0,b.jsx)(Z.mm,{size:t?tt/2:tt})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_LOADER})},uuid:"AddNewBlocks/Data_loader",children:"Data loader"})),(0,b.jsx)(O.Z,{ml:1}),(0,b.jsx)(Gn,it(it({},r),{},{beforeElement:(0,b.jsx)(rt,{compact:t,yellow:!0,children:(0,b.jsx)(Z.mm,{inverted:!0,size:t?tt/2:tt})}),onClick:function(e){e.preventDefault(),n({type:i.DATA_EXPORTER})},uuid:"AddNewBlocks/Data_exporter",children:"Data exporter"})),(0,b.jsx)(O.Z,{ml:1}),(0,b.jsx)(Gn,it(it({},r),{},{beforeElement:(0,b.jsx)(rt,{border:!0,compact:t,children:(0,b.jsx)(Z.mm,{size:t?tt/2:tt})}),onClick:function(e){e.preventDefault(),n({type:i.SCRATCHPAD})},uuid:"AddNewBlocks/Scratchpad",children:"Scratchpad"}))]})},lt=t(60328),ut=["children"];function at(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function st(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?at(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):at(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var dt=j.default.div.withConfig({displayName:"Circle__CircleStyle",componentId:"sc-1o70504-0"})([""," "," "," "," "," "," ",""],(function(e){return!e.square&&"\n    border-radius: 50%;\n  "}),(function(e){return e.square&&"\n    border-radius: ".concat(F.BG,"px;\n  ")}),(function(e){return!e.color&&!e.borderSize&&"\n    background-color: ".concat((e.theme.content||P.Z.content).muted,";\n  ")}),(function(e){return e.borderSize&&"\n    border: ".concat(e.borderSize,"px solid ").concat(e.borderColor||(e.theme.content||P.Z.content).active,";\n  ")}),(function(e){return e.color&&"\n    background-color: ".concat(e.color,";\n  ")}),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.borders||P.Z.borders).danger,";\n  ")}));var pt=function(e){var n=e.children,t=(0,Ge.Z)(e,ut);return(0,b.jsx)(dt,st(st({},t),{},{children:(0,b.jsx)(k.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:n&&(0,b.jsx)(Xe.Z,{children:n})})}))},ft=t(85202),ht=t(38789),vt=t(66166),mt="twilight",bt=j.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-w2hta3-0"})([""]),gt=j.default.div.withConfig({displayName:"indexstyle__PlaceholderStyle",componentId:"sc-w2hta3-1"})(["padding-left:67px;position:absolute;z-index:1;"]);var xt={"all-hallows-eve":"All Hallows Eve","birds-of-paradise":"Birds of Paradise","brilliance-black":"Brilliance Black","brilliance-dull":"Brilliance Dull","chrome-devtools":"Chrome DevTools","clouds-midnight":"Clouds Midnight","espresso-libre":"Espresso Libre","kuroir-theme":"Kuroir Theme","magicwb--amiga-":"MagicWB (Amiga)","merbivore-soft":"Merbivore Soft","monokai-bright":"Monokai Bright","night-owl":"Night Owl","oceanic-next":"Oceanic Next","pastels-on-dark":"Pastels on Dark","slush-and-poppies":"Slush and Poppies","solarized-dark":"Solarized-dark","solarized-light":"Solarized-light","textmate--mac-classic-":"Textmate (Mac Classic)","tomorrow-night":"Tomorrow-Night","tomorrow-night-blue":"Tomorrow-Night-Blue","tomorrow-night-bright":"Tomorrow-Night-Bright","tomorrow-night-eighties":"Tomorrow-Night-Eighties","upstream-sunburst":"Upstream Sunburst","vibrant-ink":"Vibrant Ink","xcode-default":"Xcode_default",active4d:"Active4D",amy:"Amy",blackboard:"Blackboard",clouds:"Clouds",cobalt:"Cobalt",dawn:"Dawn",dreamweaver:"Dreamweaver",eiffel:"Eiffel",github:"GitHub",idle:"IDLE",idlefingers:"idleFingers",iplastic:"iPlastic",katzenmilch:"Katzenmilch",krtheme:"krTheme",lazy:"LAZY",merbivore:"Merbivore",monoindustrial:"monoindustrial",monokai:"Monokai",spacecadet:"SpaceCadet",sunburst:"Sunburst",tomorrow:"Tomorrow",twilight:"Twilight",zenburnesque:"Zenburnesque"};var yt=function(e){var n=e.autoHeight,r=e.autoSave,o=e.fontSize,i=void 0===o?Bn.i3:o,c=e.height,l=e.language,a=e.onChange,s=e.onDidChangeCursorPosition,d=e.onSave,f=e.placeholder,h=e.runBlock,v=e.selected,m=e.setSelected,g=e.setTextareaFocused,x=(e.showLineNumbers,e.textareaFocused),y=e.theme,j=e.value,k=e.width,w=void 0===k?"100%":k,O=(0,p.useRef)(null),P=(0,p.useRef)(null),Z=(0,p.useRef)(null),S=(0,p.useState)(!1),I=S[0],T=S[1],E=(0,p.useState)(c),_=(E[0],E[1],(0,p.useState)(y||mt)),D=_[0],B=_[1],A=(0,p.useCallback)((function(e){e.languages.typescript.javascriptDefaults.setEagerModelSync(!0)}),[]),R=(0,p.useCallback)((function(e,t){O.current=e,P.current=t;var r=[];d&&r.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"saveCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.KeyS],label:"Save",precondition:null,run:function(e){n()}}}(t,(function(){d(e.getValue())}))),r.push(function(e,n){return{contextMenuGroupId:"navigation",contextMenuOrder:1.5,id:"executeCode",keybindingContext:null,keybindings:[e.KeyMod.CtrlCmd|e.KeyCode.Enter],label:"Run selected block",precondition:null,run:function(){return n()}}}(t,(function(){h(e.getValue())}))),function(e,n,t){t.forEach((function(e){n.addAction(e)}))}(0,e,r),e.getModel().updateOptions({tabSize:4}),n&&!c&&(e._domElement.style.height="".concat(21*((j||"").split("\n").length+2),"px")),e.onDidFocusEditorWidget((function(){null===m||void 0===m||m(!0),null===g||void 0===g||g(!0)})),e.onDidContentSizeChange((function(t){var r=t.contentHeight,o=t.contentHeightChanged;n&&o&&(e._domElement.style.height="".concat(r+42,"px"))})),v&&x&&setTimeout((function(){e.focus()}),1),s&&e.onDidChangeCursorPosition((function(n){var t=n.position.lineNumber,r=e._domElement.getBoundingClientRect(),o=r.height,i=r.top;s({editorRect:{height:Number(o),top:Number(i)},position:{lineNumber:Number(t)}})})),T(!0)}),[n,c,s,d,Z.current,h,v,T,m,g,x,j]);(0,p.useEffect)((function(){(function(e){return new Promise((function(n){Promise.all([ht._m.init(),t(7432)("./".concat(xt[e],".json"))]).then((function(t){var r=(0,u.Z)(t,2),o=r[0],i=r[1];i.colors["editor.background"]="#000000",i.colors["editor.foreground"]="#FFFFFF",o.editor.defineTheme(e,i),n()}))}))})(mt).then((function(){B(mt)}))}),[]),(0,p.useEffect)((function(){var e;return r&&d&&(e=setInterval((function(){d(O.current.getValue())}),5e3)),function(){r&&e&&clearInterval(e)}}),[r,O,d]);var N=(0,vt.Z)(v),L=(0,vt.Z)(x);return(0,p.useEffect)((function(){null!==O&&void 0!==O&&O.current&&(v&&x?setTimeout((function(){O.current.focus()}),1):ft.findDOMNode(O.current._domElement).getElementsByClassName("inputarea")[0].blur())}),[O,v,N,x,L]),(0,b.jsxs)(bt,{style:{display:I?null:"none"},children:[f&&!(null!==j&&void 0!==j&&j.length)&&(0,b.jsx)(gt,{children:(0,b.jsx)(C.ZP,{monospace:!0,muted:!0,children:f})}),(0,b.jsx)(ht.ZP,{beforeMount:A,height:c,language:l||"python",onChange:function(e){null===a||void 0===a||a(e)},onMount:R,options:{fontFamily:Dn.Vp,fontSize:i,hideCursorInOverviewRuler:!0,minimap:{enabled:!1},overviewRulerBorder:!1,renderLineHighlightOnlyWhenFocus:!0,scrollBeyondLastLine:!1,scrollbar:{alwaysConsumeMouseWheel:!1,vertical:"hidden"},wordBasedSuggestions:!1},theme:D,value:j,width:w}),(0,b.jsx)("div",{ref:Z})]})},jt=t(89565),kt=t.n(jt),wt=t(62976),Ot=(0,j.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),Ct=j.default.div.withConfig({displayName:"TooltipWrapper__ContainerStyle",componentId:"sc-1dd57l8-0"})(["",""],Ot),Pt=j.default.span.withConfig({displayName:"TooltipWrapper__ContainerSpanStyle",componentId:"sc-1dd57l8-1"})(["",""],Ot),Zt=j.default.a.withConfig({displayName:"TooltipWrapper__HoverStyle",componentId:"sc-1dd57l8-2"})([""," "," border-radius:50%;"," "," &:active,&:focus{outline:none;}",""],(0,An.eR)(),(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n    width: ").concat(e.size,"px;\n  ")}),(function(e){return!e.block&&"\n    display: inline-block;\n  "}),(function(e){return e.block&&"\n    display: block;\n  "}),(function(e){return!e.noHoverOutline&&"\n    &:hover {\n      cursor: pointer;\n\n      box-shadow:\n        0 0 0 ".concat(F.PV,"px ").concat((0,lt.W)(e),",\n        0 0 0 ").concat(F.PV+F.q2,"px ").concat((e.theme.interactive||P.Z.interactive).hoverOverlay,";\n    }\n  ")})),St=j.default.span.withConfig({displayName:"TooltipWrapper__BasicStyle",componentId:"sc-1dd57l8-3"})([""]),It=j.default.div.withConfig({displayName:"TooltipWrapper__ContentStyle",componentId:"sc-1dd57l8-4"})(["position:absolute;z-index:3;"," "," "," "," "," "," "," "," ",""],(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||P.Z.shadow).base,";\n  ")}),(function(e){return e.appearAbove&&!e.size&&"\n    bottom: 0;\n  "}),(function(e){return e.appearAbove&&e.size&&"\n    bottom: ".concat(e.size+F.PV+F.q2,"px;\n  ")}),(function(e){return e.appearBefore&&"\n    right: 0;\n  "}),(function(e){return e.leftPosition&&"\n    left: ".concat(e.leftPosition,"px;\n  ")}),(function(e){return!e.leftPosition&&e.rightPosition&&"\n    right: 0px;\n  "}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n  ")}),(function(e){return e.widthFitContent&&"\n    width: max-content;\n  "}),(function(e){return e.topOffset&&"\n    top: ".concat(e.topOffset,"px;\n  ")}));var Tt=function(e){var n=e.alignLeft,t=e.appearAbove,r=e.appearBefore,o=e.autoWidth,i=e.basic,c=e.block,l=e.center,u=e.children,a=e.content,s=e.inline,d=e.minWidth,f=e.noHoverOutline,h=e.size,v=void 0===h?2*A.iI:h,m=e.topOffset,g=e.widthFitContent,x=(0,p.useState)(!1),y=x[0],j=x[1],k=(0,p.useState)(!1),w=k[0],O=k[1],C=(d-v)/-2,P=s?Pt:Ct,Z=i?St:Zt,S=(0,b.jsx)(Z,{block:c,href:"#",noHoverOutline:f,onClick:function(e){return e.preventDefault()},onMouseEnter:function(){return j(!0)},size:v,children:u});return(0,p.useEffect)((function(){var e=setInterval((function(){return O(!0)}),1e3);return y||clearInterval(e),function(){return clearInterval(e)}}),[O,y]),(0,b.jsxs)(P,{onMouseLeave:function(){j(!1),O(!1)},size:v,children:[S,w&&(0,b.jsx)(It,{appearAbove:t,appearBefore:r,leftPosition:l?C:null,minWidth:o?d:null,rightPosition:n,size:v,topOffset:m,widthFitContent:g,children:a})]})},Et=["autoWidth","children","default","description","inverted","keyboardShortcuts","label","maxWidth","muted","size","warning","widthFitContent"];function _t(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Dt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_t(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_t(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Bt=42*A.iI,At=((0,j.css)(["position:relative;",""],(function(e){return e.size&&"\n    height: ".concat(e.size,"px;\n  ")})),(0,j.css)(["border-radius:","px;"," "," ",""],F.BG,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||P.Z.shadow).popup,";\n\n    background-color: ").concat((e.theme.background||P.Z.background).popup,";\n  ")}),(function(e){return e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(e.width,"px;\n  ")}),(function(e){return!e.width&&!(e.widthFitContent||e.autoWidth)&&"\n    width: ".concat(Bt,"px;\n  ")}))),Rt=j.default.div.withConfig({displayName:"Tooltip__LabelStyle",componentId:"sc-allmdq-0"})([""," padding:","px ","px;"],At,.75*A.iI,1*A.iI),Nt=j.default.div.withConfig({displayName:"Tooltip__DescriptionStyle",componentId:"sc-allmdq-1"})([""," padding:","px ","px;"],At,1.5*A.iI,2*A.iI);var Lt=function(e){var n=e.autoWidth,t=e.children,r=e.default,o=e.description,i=e.inverted,c=e.keyboardShortcuts,l=e.label,u=e.maxWidth,a=e.muted,s=e.size,d=void 0===s?2*A.iI:s,f=e.warning,h=e.widthFitContent,v=(0,Ge.Z)(e,Et),m=o||l||"",g=o?Nt:Rt,x=Math.min(u||Bt,m.length*A.Fo),y=[];null===c||void 0===c||c.forEach((function(e,n){n>=1&&y.push((0,b.jsx)(C.ZP,{default:!0,children:"+"})),y.push(e)}));var j=y.map((function(e,n){var t="keyboard-shortcut-".concat(n);return"string"===typeof e?(0,b.jsx)("span",{children:e},t):p.cloneElement(e,{key:t})}));return(0,b.jsx)(Tt,Dt(Dt({},v),{},{autoWidth:n,content:(0,b.jsx)(g,{autoWidth:n,width:u,widthFitContent:h,children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[(0,b.jsx)(C.ZP,{whiteSpaceNormal:!0,children:m}),j.length>=1&&(0,b.jsx)(C.ZP,{muted:!0,children:"\xa0\xa0\xa0\u2022\xa0\xa0\xa0"}),j.length>=1&&j]})}),minWidth:x,noHoverOutline:!!t,size:d,widthFitContent:h,children:t||(0,b.jsx)(Z.kI,{default:r,inverted:i,muted:a,size:d,warning:f})}))},Mt=j.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-n38rkq-0"})([""," border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;overflow:hidden;"," "," ",""],Jn,(function(e){return"\n    background-color: ".concat((e.theme.background||P.Z.background).table,";\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.background||P.Z.background).table,";\n  ")}),(function(e){return!e.executedAndIdle&&"\n    border-bottom-left-radius: ".concat(F.n_,"px;\n    border-bottom-right-radius: ").concat(F.n_,"px;\n    border-bottom-style: solid;\n    border-bottom-width: 2px;\n  ")})),Ft=j.default.div.withConfig({displayName:"indexstyle__OutputRowStyle",componentId:"sc-n38rkq-1"})(["padding-left:","px;padding-right:","px;"," ",""],68,A.iI*A.cd,(function(e){return e.first&&"\n    padding-top: ".concat(A.iI*A.cd,"px;\n  ")}),(function(e){return e.last&&"\n    padding-bottom: ".concat(A.iI*A.cd,"px;\n  ")})),zt=j.default.div.withConfig({displayName:"indexstyle__ExtraInfoStyle",componentId:"sc-n38rkq-2"})([""," border-bottom-style:solid;border-bottom-width:2px;border-left-style:solid;border-left-width:2px;border-right-style:solid;border-right-width:2px;"," ",""],Jn,(function(e){return"\n    background-color: ".concat((e.theme.borders||P.Z.borders).light,";\n    border-bottom-left-radius: ").concat(F.n_,"px;\n    border-bottom-right-radius: ").concat(F.n_,"px;\n  ")}),(function(e){return!e.selected&&!e.hasError&&"\n    border-color: ".concat((e.theme.borders||P.Z.borders).light,";\n  ")})),Ht=j.default.div.withConfig({displayName:"indexstyle__ExtraInfoContentStyle",componentId:"sc-n38rkq-3"})(["padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;"],A.iI,68,A.iI*A.cd,A.iI),Ut=j.default.div.withConfig({displayName:"indexstyle__ExtraInfoBorderStyle",componentId:"sc-n38rkq-4"})(["height:1px;width:100%;",""],(function(e){return"\n    border-top: 1px solid ".concat((e.theme.borders||P.Z.borders).medium,";\n  ")})),Wt=t(37391);function Kt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Gt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Kt(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Kt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var qt=function(e){var n=e.block,t=e.hasError,r=e.isInProgress,o=e.mainContainerWidth,i=e.messages,l=e.runCount,u=e.runEndTime,a=e.runStartTime,s=e.selected,d=n.status,f=n.type,h=(0,p.useMemo)((function(){return(null===i||void 0===i?void 0:i.length)||0}),[i]),v=(i[0].type,c.EXECUTED===d||!r&&0===l&&h>=1||!r&&l>=1&&u>=a);Wn.TABLE;var m=(0,p.useCallback)((function(e){var n=e.columns,t=e.rows;return t.length>=1&&(0,b.jsx)(wt.Z,{columns:n,disableScrolling:!s,height:40*A.iI,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,rows:t,width:o-(2+A.cd*A.iI*2+2+Wt.nn)})}),[s,o]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Mt,{blockType:f,executedAndIdle:v,hasError:t,selected:s,children:null===i||void 0===i?void 0:i.map((function(e,n){var t=e.data,r=e.type;if(t&&0!==(null===t||void 0===t?void 0:t.length)){var o=[],i=(o=(o=Array.isArray(t)?t:[t]).filter((function(e){return e}))).length;return o.map((function(e,t){var o,c=/^\[__internal_output__\]/,l={first:0===n&&0===t,last:n===h-1&&t===i-1};if("string"===typeof e&&e.match(c)){var u=e.replace(c,"");if((0,ze.Pb)(u)){var a=JSON.parse(u),s=a.data,d=a.type;Wn.TABLE===d&&(o=m(s))}}else r===Wn.TABLE?o=m((0,ze.Pb)(e)?JSON.parse(e):e):r===Wn.TEXT||r===Wn.TEXT_PLAIN?o=(0,b.jsx)(Ft,Gt(Gt({},l),{},{children:(0,b.jsx)(C.ZP,{monospace:!0,preWrap:!0,children:(0,b.jsx)(kt(),{children:e})})})):r===Wn.IMAGE_PNG&&(o=(0,b.jsx)("div",{style:{backgroundColor:"white"},children:(0,b.jsx)("img",{alt:"Image {idx} from code output",src:"data:image/png;base64, ".concat(e)})}));return(0,b.jsx)("div",{children:o},"code-output-".concat(n,"-").concat(t))}))}}))}),v&&(0,b.jsxs)(zt,{blockType:f,hasError:t,selected:s,children:[(0,b.jsx)(Ut,{}),(0,b.jsx)(Ht,{children:(0,b.jsx)(k.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:(0,b.jsx)(Lt,{appearAbove:!0,appearBefore:!0,block:!0,label:l>=1&&a?"Last run at ".concat(a):t?"Block executed with errors":"Block executed successfully",size:null,widthFitContent:!0,children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[l>=1&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(C.ZP,{small:!0,children:[(Number(u)-Number(a))/1e3,"s"]}),(0,b.jsx)(O.Z,{mr:1})]}),!t&&(0,b.jsx)(Z.Jr,{size:2*A.iI,success:!0}),t&&(0,b.jsx)(pt,{danger:!0,size:2*A.iI,children:(0,b.jsx)(C.ZP,{bold:!0,monospace:!0,small:!0,children:"!"})})]})})})})]})]})},Vt=j.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-knskck-0"})(["border-radius:","px;margin-top:","px;padding:","px;position:absolute;right:-","px;z-index:1;",""],F.BG,1.5*A.iI,A.iI,A.iI/2,(function(e){return"\n    background-color: ".concat((e.theme.interactive||P.Z.interactive).defaultBackground,";\n  ")}));var Xt=function(e){var n=e.block,t=e.deleteBlock,r=e.executionState,o=e.interruptKernel,i=e.runBlock,c=n.uuid.uuid,l=(0,p.useContext)(j.ThemeContext),u=Un.IDLE!==r,a=Xn(n.type,{theme:l}).accent;return(0,b.jsx)(Vt,{children:(0,b.jsxs)(k.Z,{alignItems:"center",flexDirection:"column",children:[Un.QUEUED===r&&(0,b.jsx)(_n.Z,{color:(l||P.Z).content.active,type:"cylon"}),Un.BUSY===r&&(0,b.jsx)(_n.Z,{color:(l||P.Z).content.active}),!u&&(0,b.jsx)(Lt,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,b.jsxs)(C.ZP,{children:["Run block \xa0 \xa0",(0,b.jsx)(G,{inline:!0,monospace:!0,keyTextGroups:[[X.RJ,X.Lz]],uuidForKey:c})]}),size:3*A.iI,widthFitContent:!0,children:(0,b.jsx)(lt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return i()},children:(0,b.jsx)(pt,{color:a,size:3*A.iI,children:(0,b.jsx)(Z.Py,{black:!0,size:1.5*A.iI})})})}),(0,b.jsx)(O.Z,{mt:A.cd,children:(0,b.jsx)(Lt,{appearBefore:!0,default:!0,label:(0,b.jsxs)(C.ZP,{children:["Delete block and file \xa0 \xa0",(0,b.jsx)(G,{inline:!0,monospace:!0,keyTextGroups:[[X.jW],[X.jW]],uuidForKey:c})]}),size:2.5*A.iI,widthFitContent:!0,children:(0,b.jsx)(lt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return t(n)},children:(0,b.jsx)(Z.rF,{size:2.5*A.iI})})})}),u&&(0,b.jsx)(O.Z,{mt:A.cd,children:(0,b.jsx)(Lt,{appearAbove:!0,appearBefore:!0,default:!0,label:(0,b.jsxs)(C.ZP,{children:["Interrupt kernel \xa0 \xa0",(0,b.jsx)(G,{inline:!0,monospace:!0,keyTextGroups:[[X.kA],[X.kA]],uuidForKey:c})]}),size:2.5*A.iI,widthFitContent:!0,children:(0,b.jsx)(lt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return o()},children:(0,b.jsx)(pt,{borderSize:1.5,size:2.5*A.iI,children:(0,b.jsx)(Z.x8,{size:1*A.iI})})})})})]})})},Jt=t(82944),Yt=["bold","defaultColor","description","disableWordBreak","inputValue","inputWidth","invertedTheme","label","menuOpen","monospace","muted","onClick","notRequired","selectedTextProps","small","stacked","tooltipProps","value"];function Qt(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function $t(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Qt(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Qt(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var er=j.default.div.withConfig({displayName:"LabelWithValueClicker__LabelStyle",componentId:"sc-1hzpn4h-0"})(["margin-bottom:","px;"],.25*A.iI),nr=j.default.div.withConfig({displayName:"LabelWithValueClicker__DescriptionStyle",componentId:"sc-1hzpn4h-1"})([""]);var tr=function(e){var n=e.bold,t=void 0===n||n,r=e.defaultColor,o=e.description,i=e.disableWordBreak,c=e.inputValue,l=e.inputWidth,u=e.invertedTheme,a=e.label,s=e.menuOpen,d=void 0!==s&&s,f=e.monospace,h=e.muted,v=e.onClick,m=e.notRequired,g=e.selectedTextProps,x=e.small,y=e.stacked,j=e.tooltipProps,P=e.value,Z=(0,Ge.Z)(e,Yt),S=(0,p.useRef)(null),I=(0,p.useState)(!1),T=I[0],E=I[1],_=(0,p.useState)(!1),D=_[0],B=_[1],A=a&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.ZP,{bold:t,inverted:u,lineHeight:20,monospace:f,muted:h,small:x,children:a}),j&&(0,b.jsx)(O.Z,{ml:1,children:(0,b.jsx)(Lt,$t({muted:!0},j))})]}),R=(0,b.jsxs)(b.Fragment,{children:[P&&(0,b.jsx)(w.Z,{block:!0,danger:null===g||void 0===g?void 0:g.danger,fullWidth:!0,muted:h,onClick:function(){v(),S.current&&S.current.focus(),E(!0)},preventDefault:!0,sameColorAsText:h||!(null!==g&&void 0!==g&&g.primary)&&!(null!==g&&void 0!==g&&g.danger)&&!(null!==g&&void 0!==g&&g.warning),underline:null===g||void 0===g?void 0:g.underline,warning:null===g||void 0===g?void 0:g.warning,children:(0,b.jsx)(C.ZP,$t($t({inverted:u,muted:h},g),{},{disableWordBreak:i,monospace:f,small:x,width:l,children:P}))}),(0,b.jsx)(Jt.Z,$t($t({},Z),{},{basic:!0,defaultColor:r,invertedTheme:u,monospace:f,onBlur:function(e){E(!1),Z.onBlur&&Z.onBlur(e),D||B(!0)},onFocus:function(e){E(!0),Z.onFocus&&Z.onFocus(e)},ref:S,small:x,value:c,visible:!P}))]}),N=o&&(0,b.jsx)(nr,{children:(0,b.jsx)(C.ZP,{dangerouslySetInnerHTML:{__html:o},monospace:f,muted:!0,small:x})});return(0,b.jsxs)(b.Fragment,{children:[y&&(0,b.jsxs)(b.Fragment,{children:[A&&(0,b.jsxs)(er,{children:[(0,b.jsx)(k.Z,{alignItems:"center",fullHeight:!1,fullWidth:!0,children:A}),N]}),R]}),!y&&(0,b.jsxs)(k.Z,{alignItems:"center",fullWidth:!0,children:[A&&(0,b.jsxs)(b.Fragment,{children:[A,(0,b.jsx)(O.Z,{ml:1})]}),(0,b.jsx)(Xe.Z,{flex:"1",children:R})]}),D&&!T&&!P&&!d&&!m&&(0,b.jsx)(C.ZP,{danger:!0,small:x,children:"This field is required."})]})};function rr(e,n){var t=e.map((function(e){return String(e)})),r=e.includes(X.PQ),o=e.includes(X.zX),i=e.includes(X.XR),c=X.xU.map((function(e){return String(e)})),l=X.vk.map((function(e){return String(e)})),a=X.Tr.map((function(e){return String(e)})),s=Object.entries(n).find((function(e){var n=(0,u.Z)(e,2),s=n[0];return n[1]&&!t.includes(String(s))&&(!o||!l.includes(String(s)))&&(!r||!c.includes(String(s)))&&(!i||!a.includes(String(s)))}));return e.every((function(e){return n[e]}))&&!s}function or(e){return e.stopPropagation&&e.stopPropagation(),e.preventDefault&&e.preventDefault(),e.cancelBubble=!0,e.returnValue=!1,!1}function ir(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function cr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ir(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ir(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function lr(e,n){var t,r=e.addNewBlock,o=e.block,c=e.blockRefs,l=e.blocks,a=e.defaultValue,s=void 0===a?"":a,d=e.deleteBlock,h=e.executionState,g=e.fetchFileTree,x=e.fetchPipeline,y=e.height,P=e.interruptKernel,S=e.mainContainerRef,I=e.mainContainerWidth,T=e.messages,E=void 0===T?[]:T,_=e.noDivider,D=e.onChange,B=e.pipeline,N=e.runBlock,L=e.runningBlocks,M=e.selected,F=e.setAnyInputFocused,z=e.setEditingBlock,H=e.setSelected,U=e.setTextareaFocused,W=e.textareaFocused,K=(0,p.useContext)(j.ThemeContext),G=(0,p.useState)(!1),q=G[0],V=G[1],Y=(0,p.useState)(s),Q=Y[0],$=Y[1],ee=(0,p.useState)(null),ne=ee[0],te=ee[1],re=(0,p.useState)(!1),oe=re[0],ie=re[1],ce=(0,p.useState)(o.uuid),le=ce[0],ue=ce[1],ae=(0,p.useState)(0),se=ae[0],de=ae[1],pe=(0,p.useState)(null),fe=pe[0],he=pe[1],ve=(0,p.useState)(null),me=ve[0],be=ve[1],ge=(0,p.useMemo)((function(){return(0,R.HK)(l,(function(e){return e.uuid}))}),[l]),xe=(0,p.useCallback)((function(e){N({block:o,code:e||Q}),de(1+Number(se)),he(null)}),[o,Q,se,N,de,he]),ye=(0,vt.Z)(E);(0,p.useEffect)((function(){(null===ye||void 0===ye||!ye.length)&&(null===E||void 0===E?void 0:E.length)>=1&&be(Number(new Date))}),[E,ye,be]);var je=!!L.find((function(e){return e.uuid===o.uuid}))||(null===E||void 0===E?void 0:E.length)>=1&&h!==Un.IDLE,ke=(0,vt.Z)(h);(0,p.useEffect)((function(){h===Un.IDLE&&h!==ke&&he(Number(new Date))}),[h,ke,he]);var we=(0,p.useCallback)((function(e){var n=e.editorRect,t=(n.height,n.top),r=e.position.lineNumber;if(null!==S&&void 0!==S&&S.current){var o=S.current.getBoundingClientRect().height,i=21*r;if(t+i>o){var c=S.current.scrollTop+(i-o+t);S.current.scrollTo(0,c)}else if(i+t<21){var l=S.current.scrollTop+(i+t-21);S.current.scrollTo(0,l)}}}),[S]),Oe=(0,p.useMemo)((function(){return(null===ne||void 0===ne?void 0:ne.length)>=0?ne.map((function(e){return{data:e,execution_state:Un.IDLE,type:Wn.TEXT_PLAIN}})):E.filter((function(e){return null===e||void 0===e?void 0:e.type}))}),[ne,E]),Ce=!!Oe.find((function(e){return e.error})),Pe=Xn(o.type,{theme:K}).accent,Ze=(null===o||void 0===o||null===(t=o.upstream_blocks)||void 0===t?void 0:t.length)||0,Se=(0,p.useMemo)((function(){return{blockType:o.type,hasError:Ce,selected:M}}),[o.type,Ce,M]),Ie=Oe.length>=1,Te=(0,p.useCallback)((function(){M||(F(!1),H(!0))}),[F,H]),_e=(0,f.Db)(Me.blocks.pipelines.useUpdate(null===B||void 0===B?void 0:B.uuid,o.uuid),{onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(){ie(!1),x(),g()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})},onError:function(e){var n=(0,Ee.qQ)(e).messages;te(n)}}),De=(0,u.Z)(_e,1)[0],Be="CodeBlock/".concat(o.uuid),Ae=(0,J.y)(),Re=Ae.registerOnKeyDown,Ne=Ae.unregisterOnKeyDown;(0,p.useEffect)((function(){return function(){Ne(Be)}}),[Ne,Be]),Re(Be,(function(e,n,t){oe&&String(t[0])===String(X.Uq)&&String(t[1])!==String(X.zX)?De({block:cr(cr({},o),{},{name:le})}):M&&(rr([X.zX,X.Uq],n)?xe():rr([X.XR,X.Uq],n)&&(e.preventDefault(),xe(),r({type:o.type})))}),[r,o,oe,le,xe,M,De]);var Le=(0,p.useMemo)((function(){return(0,b.jsx)(yt,{autoHeight:!0,height:y,onChange:function(e){$(e),null===D||void 0===D||D(e)},onDidChangeCursorPosition:we,placeholder:"Start typing here...",runBlock:xe,selected:M,setSelected:H,setTextareaFocused:U,textareaFocused:W,value:Q,width:"100%"})}),[Q,y,M,W]),Fe=(0,p.useMemo)((function(){return Ie&&(0,b.jsx)(qt,cr(cr({},Se),{},{block:o,isInProgress:je,mainContainerWidth:I,messages:Oe,runCount:se,runEndTime:fe,runStartTime:me,selected:M}))}),[o,Se,Ie,je,I,Oe,se,fe,me,M]);return(0,b.jsxs)("div",{ref:n,style:{position:"relative"},children:[(0,b.jsxs)(k.Z,{alignItems:"center",justifyContent:"space-between",style:{marginBottom:A.iI/2},children:[(0,b.jsxs)(Xe.Z,{alignItems:"center",flex:1,children:[(0,b.jsx)(Lt,{block:!0,label:v[o.type],size:null,widthFitContent:!0,children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[(0,b.jsx)(pt,{color:Pe,size:1.5*A.iI,square:!0}),(0,b.jsx)(O.Z,{mr:1}),(0,b.jsx)(C.ZP,{color:Pe,monospace:!0,children:m[o.type]})]})}),(0,b.jsx)(O.Z,{mr:A.cd}),(0,b.jsx)(Z.iU,{size:1.5*A.iI}),(0,b.jsx)(O.Z,{mr:1}),(0,b.jsxs)(k.Z,{alignItems:"center",children:[(0,b.jsx)(tr,{bold:!1,inputValue:le,muted:!0,monospace:!0,notRequired:!0,onBlur:function(){return setTimeout((function(){return ie(!1)}),300)},onChange:function(e){ue(e.target.value),or(e)},onClick:function(){return ie(!0)},onFocus:function(){return ie(!0)},stacked:!0,value:!oe&&o.uuid}),oe&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.Z,{ml:1}),(0,b.jsx)(w.Z,{onClick:function(){return De({block:cr(cr({},o),{},{name:le})})},preventDefault:!0,sameColorAsText:!0,small:!0,children:"Update name"})]})]})]}),i.SCRATCHPAD!==o.type&&(0,b.jsx)("div",{children:(0,b.jsx)(Lt,{appearBefore:!0,block:!0,label:"\n                ".concat((0,ze._6)("parent block",Ze),". ").concat(0===Ze?"Click to select 1 or more blocks to depend on.":"Edit parent blocks.","\n              "),size:null,widthFitContent:!0,children:(0,b.jsx)(lt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){var e;H(!0),z({upstreamBlocks:{block:o,values:null===(e=o.upstream_blocks)||void 0===e?void 0:e.map((function(e){return{uuid:e}}))}})},children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[(0,b.jsxs)(C.ZP,{monospace:Ze>=1,underline:0===Ze,children:[0===Ze&&"Click to set parent blocks",Ze>=1&&(0,ze._6)("parent block",Ze)]}),(0,b.jsx)(O.Z,{mr:1}),(0,b.jsx)(Z.Kq,{size:2*A.iI})]})})})})]}),(M||je)&&(0,b.jsx)(Xt,{block:o,deleteBlock:d,executionState:h,interruptKernel:P,runBlock:xe}),(0,b.jsxs)(Yn,{onClick:function(){return Te()},children:[(0,b.jsxs)(Qn,cr(cr({},Se),{},{className:M&&W?"selected":null,hasOutput:Ie,children:[o.upstream_blocks.length>=1&&(0,b.jsxs)(nt,{children:[(0,b.jsx)(C.ZP,{small:!0,children:"Positional arguments for decorated function:"}),(0,b.jsxs)(O.Z,{mt:1,children:[(0,b.jsxs)(C.ZP,{monospace:!0,muted:!0,small:!0,children:[i.DATA_EXPORTER===o.type&&"@data_exporter",i.DATA_LOADER===o.type&&"@data_loader",i.TRANSFORMER===o.type&&"@transformer"]}),(0,b.jsxs)(C.ZP,{monospace:!0,muted:!0,small:!0,children:["def ",(i.DATA_EXPORTER===o.type?"export_data":i.DATA_LOADER===o.type&&"load_data")||i.TRANSFORMER===o.type&&"transform_df","(",o.upstream_blocks.map((function(e,n){return"df_".concat(n+1)})).join(", "),"):"]}),o.upstream_blocks.map((function(e,n){var t=ge[e],r=Xn(null===t||void 0===t?void 0:t.type,{theme:K}).accent;return(0,b.jsxs)("div",{children:[(0,b.jsxs)(C.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:["\xa0\xa0\xa0\xa0df_",n+1]})," ",(0,b.jsx)(C.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:"\u2192"})," ",(0,b.jsx)(w.Z,{color:r,onClick:function(){var e,n,r=null===c||void 0===c||null===(e=c.current)||void 0===e?void 0:e["".concat(null===t||void 0===t?void 0:t.type,"s/").concat(null===t||void 0===t?void 0:t.uuid,".py")];null===r||void 0===r||null===(n=r.current)||void 0===n||n.scrollIntoView()},preventDefault:!0,small:!0,children:(0,b.jsx)(C.ZP,{color:r,inline:!0,monospace:!0,small:!0,children:e})})]},e)}))]})]}),Le]})),Fe]}),!_&&(0,b.jsxs)($n,{onMouseEnter:function(){return V(!0)},onMouseLeave:function(){return V(!1)},children:[q&&(0,b.jsx)(ct,{addNewBlock:r,compact:!0}),(0,b.jsx)(et,{className:"block-divider-inner"})]})]})}var ur=p.forwardRef(lr),ar=300,sr=j.default.div.withConfig({displayName:"indexstyle__PipelineContainerStyle",componentId:"sc-1sv9513-0"})([".pipeline-detail-enter-active{opacity:1;transition:opacity ","ms linear;}.pipeline-detail-enter-done{opacity:0;transition:opacity ","ms linear;}"],ar,ar),dr=j.default.div.withConfig({displayName:"indexstyle__OverlayStyle",componentId:"sc-1sv9513-1"})(["height:100vh;opacity:1;position:fixed;width:100vw;z-index:9999;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||P.Z.background).codeArea,";\n  ")})),pr=j.default.div.withConfig({displayName:"indexstyle__PipelineHeaderStyle",componentId:"sc-1sv9513-2"})(["height:","px;padding-left:","px;padding-right:","px;",""],6*A.iI,A.cd*A.iI,A.cd*A.iI,(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.borders||P.Z.borders).medium,";\n  ")}));var fr=function(e){var n,t=e.isBusy,r=e.isPipelineUpdating,o=e.kernel,i=e.pipeline,c=e.pipelineContentTouched,l=e.pipelineLastSaved,u=e.restartKernel,a=(0,p.useState)(!1),s=a[0],d=a[1],f=(0,p.useContext)(j.ThemeContext),h=o||{},v=h.alive,m=h.name;return n=c?"Unsaved changes":r?"Saving changes...":l?"Last saved ".concat((0,ze.JX)(Number(l)/1e3)):"All changes saved",(0,b.jsx)(pr,{children:(0,b.jsxs)(k.Z,{alignItems:"center",fullHeight:!0,justifyContent:"space-between",children:[(0,b.jsx)(Lt,{label:(0,b.jsxs)(C.ZP,{children:["Current working directory is ",(0,b.jsx)(C.ZP,{inline:!0,monospace:!0,children:"/home/src"})]}),size:null,widthFitContent:!0,children:(0,b.jsxs)(Xe.Z,{alignItems:"center",children:[(0,b.jsxs)(C.ZP,{children:["Pipeline: ",null===i||void 0===i?void 0:i.uuid]}),(0,b.jsx)(O.Z,{mr:A.cd}),(0,b.jsx)(C.ZP,{muted:!0,children:n})]})}),(0,b.jsxs)(Xe.Z,{alignItems:"center",onMouseEnter:function(){return d(!0)},onMouseLeave:function(){return d(!1)},children:[(!v||s)&&(0,b.jsxs)(Gn,{compact:!0,inline:!0,keyTextGroups:[[X.t_[X.OC]],[X.t_[X.OC]]],onClick:function(){return u()},uuid:"KernelStatus/restartKernel",children:[v?"Restart":"Start"," kernel"]}),(0,b.jsx)(O.Z,{mr:1,my:2}),(0,b.jsx)(Lt,{block:!0,label:v?"Kernel is alive and well.":"Kernel has not started or died, please restart.",size:null,widthFitContent:!0,children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[(0,b.jsx)(pt,{color:t?(f||P.Z).borders.info:v?(f||P.Z).borders.success:(f||P.Z).borders.danger,size:A.iI}),(0,b.jsx)(O.Z,{mr:1}),(0,b.jsx)(C.ZP,{children:v?"".concat(m," kernel is ").concat(t?"busy":"alive"):"Kernel is dead"})]})})]})]})})};function hr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function vr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?hr(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):hr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var mr=function(e){var n=e.addNewBlockAtIndex,t=e.blockRefs,r=e.blocks,o=void 0===r?[]:r,c=e.deleteBlock,l=e.fetchFileTree,u=e.fetchPipeline,s=e.interruptKernel,d=e.isPipelineUpdating,f=e.kernel,h=e.mainContainerRef,v=e.mainContainerWidth,m=e.messages,g=e.pipeline,x=e.pipelineContentTouched,y=e.pipelineLastSaved,j=e.restartKernel,k=e.runningBlocks,w=void 0===k?[]:k,C=e.savePipelineContent,P=e.selectedBlock,Z=e.setContentByBlockUUID,S=e.setEditingBlock,I=e.setMessages,T=e.setPipelineContentTouched,E=e.setRunningBlocks,_=e.setSelectedBlock,D=(0,p.useState)(!1),B=(D[0],D[1]),R=(0,p.useState)(!1),N=R[0],L=R[1],M=(0,p.useState)(!1),F=M[0],z=M[1],H=(0,p.useState)(!0),U=H[0],W=H[1],K=(0,qn.ZP)("ws://localhost:6789/websocket/",{onOpen:function(){return console.log("socketUrlPublish opened")},shouldReconnect:function(e){return console.log("Attempting to reconnect..."),!0}}),G=K.lastMessage,q=(K.readyState,K.sendMessage);(0,p.useEffect)((function(){if(G){var e=JSON.parse(G.data),n=e.execution_state,t=e.uuid;I((function(n){var r=n[t]||[];return vr(vr({},n),{},(0,a.Z)({},t,r.concat(e)))})),Un.IDLE===n&&E((function(e){return e.filter((function(e){var n=e.uuid;return t!==n}))})),T(!0)}}),[G,I,T,E]);var V=(0,p.useCallback)((function(e){var n=e.block,t=e.code;if(t){var r=n.uuid;w.find((function(e){var n=e.uuid;return r===n}))||(q(JSON.stringify({code:t,pipeline_uuid:g.uuid,uuid:r})),I((function(e){return delete e[r],e})),L(!1),E((function(e){return e.find((function(e){var n=e.uuid;return r===n}))?e:e.concat(n)})))}}),[g,w,q,I,E,L]),Y=(0,p.useMemo)((function(){return w.reduce((function(e,n,t){return vr(vr({},e),{},(0,a.Z)({},n.uuid,vr(vr({},n),{},{priority:t})))}),{})}),[w]),Q=(0,vt.Z)(P),$=(0,p.useMemo)((function(){return o.length}),[o]),ee="PipelineDetail/index",ne=(0,J.y)(),te=ne.registerOnKeyDown,re=ne.unregisterOnKeyDown;(0,p.useEffect)((function(){return function(){re(ee)}}),[re,ee]),te(ee,(function(e,t,r){if(x&&rr([X.zX,X.hS],t)){e.preventDefault();"undefined"!==typeof location&&window.confirm("You have changes that are unsaved. Click cancel and save your changes before reloading page.")&&location.reload()}else if(rr([X.zX,X.Um],t))e.preventDefault(),C();else if(N)t[X.vP]?L(!1):x||X.Z1.find((function(e){return t[e]}))||T(!0);else{if(P){var l=o.findIndex((function(e){var n=e.uuid;return P.uuid===n}));t[X.vP]?_(null):r[0]===X.xD&&r[1]===X.xD?s():r[0]===X.l1&&r[1]===X.l1&&-1!==l?(c(P),setTimeout((function(){l===o.length-1?_(o[l-1]):o.length>=0?_(o[l+1]):_(null)}),100)):t[X.Bu]&&l>=1?_(o[l-1]):t[X.kD]&&l<=$-2?_(o[l+1]):rr([X.Uq],t)?L(!0):rr([X.zH],t)?n({type:i.SCRATCHPAD},l,_):rr([X.Fv],t)&&n({type:i.SCRATCHPAD},l+1,_)}else Q&&t[X.Uq]&&_(Q);r[0]===X.OC&&r[1]===X.OC&&j()}}),[n,o,s,$,x,j,C,P,Q,T,_,L,N]),(0,p.useEffect)((function(){var e=setInterval((function(){x&&C()}),5e3);return function(){clearInterval(e)}}),[x,C]);var oe=(0,p.useCallback)((function(e,n){return Z((0,a.Z)({},e,n))}),[Z]);return(0,p.useEffect)((function(){setTimeout((function(){return z(!0)}),600)}),[g]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(sr,{children:U&&(0,b.jsx)(Vn.Z,{classNames:"pipeline-detail",in:F,onEntered:function(){return setTimeout((function(){return W(!1)}),ar)},children:(0,b.jsx)(dr,{})})}),(0,b.jsx)(fr,{isBusy:w.length>=1,isPipelineUpdating:d,kernel:f,pipeline:g,pipelineContentTouched:x,pipelineLastSaved:y,restartKernel:j}),(0,b.jsxs)(O.Z,{mt:1,px:A.cd,children:[o.map((function(e,r){var i=e.type,a=e.uuid,d=(null===P||void 0===P?void 0:P.uuid)===a,f=Y[a],x=f?0===f.priority?Un.BUSY:Un.QUEUED:Un.IDLE,y="".concat(i,"s/").concat(a,".py");return t.current[y]=(0,p.createRef)(),(0,b.jsx)(ur,{addNewBlock:function(e){n(e,r+1,_),L(!0)},defaultValue:e.content,deleteBlock:function(e){c(e),B(!1)},block:e,blockRefs:t,blocks:o,executionState:x,interruptKernel:s,mainContainerRef:h,mainContainerWidth:v,messages:m[a],noDivider:r===$-1,onChange:function(e){return oe(a,e)},ref:t.current[y],runBlock:V,runningBlocks:w,selected:d,setAnyInputFocused:B,setSelected:function(n){return _(!0===n?e:null)},setTextareaFocused:L,textareaFocused:d&&N,fetchFileTree:l,fetchPipeline:u,pipeline:g,setEditingBlock:S},a)})),(0,b.jsx)(O.Z,{mt:A.cd,children:(0,b.jsx)(ct,{addNewBlock:function(e){n(e,$,_),L(!0)}})})]})]})},br=t(70001),gr=t(47256),xr=t(11754);var yr=function(e){var n=e.afterWidth,t=e.features,r=e.insightsOverview,o=e.statistics,i=r.correlations,c=void 0===i?[]:i,l=n-A.cd*A.iI*2,a=function(e){var n=[];return{heatmapData:null===e||void 0===e?void 0:e.map((function(e,t){var r=e.correlations,o=e.feature.uuid;n.push({label:o});var i=r[0].y.map((function(e){var n=e.value;return(0,ze.QV)(n)}));return i.splice(t,0,1),i})),xyLabels:n}}(c),s=a.heatmapData,d=a.xyLabels,p=function(e,n){return(0,R.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:1-n["".concat(e.uuid,"/null_value_rate")]}})),"value")}(t,o),f=function(e,n){return(0,R.YC)(null===e||void 0===e?void 0:e.map((function(e){return{feature:e,value:n["".concat(e.uuid,"/count_distinct")]}})),"value")}(t,o),h=function(e,n){return(0,R.YC)(null===e||void 0===e?void 0:e.map((function(e){var t=(0,u.Z)(Object.entries(n["".concat(e.uuid,"/value_counts")])[0],2),r=t[0],o=t[1];return{feature:e,percentage:Number(o)/n.count,value:r}})),"percentage")}(t,o);return(0,b.jsx)(O.Z,{p:2,children:(0,b.jsxs)(k.Z,{flexDirection:"column",children:[(null===p||void 0===p?void 0:p.length)>=1&&(0,b.jsx)(xr.Z,{headerTitle:"Data completion",width:l,children:(0,b.jsx)(br.Z,{data:p.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*A.iI,50*A.iI),renderTooltipContent:function(e){var n=e.x;return"".concat((0,ze.T3)(n)," of rows have a value")},xNumTicks:2,ySerialize:function(e){return e.y}})}),(null===f||void 0===f?void 0:f.length)>=1&&(0,b.jsx)(xr.Z,{headerTitle:"Number of unique values",width:l,children:(0,b.jsx)(br.Z,{data:f.map((function(e){var n=e.feature;return{x:e.value,y:n.uuid}})),height:Math.max(3*p.length*A.iI,50*A.iI),renderTooltipContent:function(e){var n=e.x;return"".concat(n," unique values")},xNumTicks:2,ySerialize:function(e){return e.y}})}),h.length>=1&&(0,b.jsx)(xr.Z,{headerTitle:"Distribution of values",width:l,children:(0,b.jsx)(br.Z,{data:h.map((function(e){var n=e.feature,t=e.percentage;return{feature:n,value:e.value,x:t,y:n.uuid}})),height:Math.max(3*h.length*A.iI,50*A.iI),renderTooltipContent:function(e){var n=e.value,t=e.x;return"".concat(n," is ").concat((0,ze.T3)(t)," of all rows")},xNumTicks:2,ySerialize:function(e){return e.y}})}),c&&(null===s||void 0===s?void 0:s.length)>=1&&(0,b.jsx)(xr.Z,{headerTitle:"Correlations",children:(0,b.jsx)(O.Z,{p:1,children:(0,b.jsx)(gr.Z,{countMidpoint:0,data:s,height:8*A.iI*d.length,minCount:-1,xLabels:d,yLabels:d})})})]})})},jr=t(39076),kr=t.n(jr),wr=(A.iI,[i.DATA_EXPORTER]),Or=j.default.div.withConfig({displayName:"indexstyle__GraphContainerStyle",componentId:"sc-bc2ei5-0"})(["display:flex;flex:1;overflow:auto;padding:","px;padding-bottom:","px;width:100%;",""],A.iI,3*A.iI,Wt.w5),Cr=j.default.div.withConfig({displayName:"indexstyle__NodeStyle",componentId:"sc-bc2ei5-1"})(["border:2px solid transparent;border-radius:","px;margin-left:","px;margin-right:","px;min-width:fit-content;"," "," ",""],F.BG,A.iI,A.iI,(function(e){return e.selected&&"\n    border-color: ".concat((e.theme.content||P.Z.content).active,";\n  ")}),(function(e){return e.backgroundColor&&"\n    background-color: ".concat(e.backgroundColor,";\n  ")}),(function(e){return e.disabled&&"\n    opacity: 0.5;\n\n    &:hover {\n      cursor: not-allowed;\n    }\n  "}));var Pr=function(e){var n=e.block,t=e.disabled,r=e.isInProgress,o=e.isQueued,i=e.isSuccessful,c=e.onClick,l=e.selected,u=(0,p.useContext)(j.ThemeContext),a=(n.status,n.type),s=n.uuid;return(0,b.jsx)(Cr,{backgroundColor:Xn(a,{theme:u}).accent,disabled:t,selected:l,children:(0,b.jsx)(lt.Z,{basic:!0,disabled:t,id:s,noBackground:!0,noBorder:!0,noPadding:!0,onClick:c&&!t?function(){return c(n)}:null,children:(0,b.jsx)(O.Z,{p:1,children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[(0,b.jsxs)(k.Z,{alignItems:"center",justifyContent:"center",style:{height:2*A.iI,width:2*A.iI},children:[r&&(0,b.jsx)(_n.Z,{color:(u||P.Z).content.active,small:!0}),i&&!(r||o)&&(0,b.jsx)(Z.Jr,{size:2*A.iI,success:!0}),!(r||o||i)&&(0,b.jsx)(pt,{borderSize:1,size:1*A.iI})]}),(0,b.jsx)(O.Z,{ml:1}),(0,b.jsx)(C.ZP,{inverted:wr.includes(a),monospace:!0,small:!0,children:s})]})})})},s)},Zr=function e(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===n||void 0===n||!n.length)return 0;var o=n.filter((function(e){return!r.includes(e)})).map((function(n){var o;return 1+e(null===(o=t[n])||void 0===o?void 0:o.upstream_blocks,t,[].concat((0,y.Z)(r),[n]))}));return Math.max.apply(Math,(0,y.Z)(o))};function Sr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ir(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Sr(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Sr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var Tr=function(e){var n=e.blockRefs,t=e.editingBlock,r=e.fetchPipeline,o=e.pipeline,l=e.runningBlocks,a=e.selectedBlock,s=e.setEditingBlock,d=e.setSelectedBlock,h=(0,p.useContext)(j.ThemeContext),v=(0,jr.useXarrow)(),m=(null===t||void 0===t?void 0:t.upstreamBlocks)||{},g=m.block,x=m.values,w=void 0===x?[]:x,P=(0,p.useMemo)((function(){var e;return(null===o||void 0===o||null===(e=o.blocks)||void 0===e?void 0:e.filter((function(e){var n=e.type;return i.SCRATCHPAD!==n})))||[]}),[null===o||void 0===o?void 0:o.blocks]),Z=(0,p.useMemo)((function(){return(0,R.HK)(P,(function(e){return e.uuid}))}),[P]),S=((0,p.useMemo)((function(){return(0,R.HK)(w,(function(e){return e.uuid}))}),[w]),(0,p.useMemo)((function(){return(0,R.HK)(l,(function(e){return e.uuid}))}),[l])),I=P.reduce((function(e,n){var t=n.downstream_blocks,r=n.type,o=n.uuid,i=(null===a||void 0===a?void 0:a.uuid)===o,c=t.map((function(e){return{color:Xn(r,{isSelected:i,theme:h}).accent,end:e,start:o}}));return[].concat((0,y.Z)(e),(0,y.Z)(c))}),[]),T=P.reduce((function(e,n){var t=n.upstream_blocks,r=Zr(t,Z);return e[r]=[].concat((0,y.Z)(e[r]||[]),[n]),e}),[]),E=(0,f.Db)(Me.blocks.pipelines.useUpdate(null===o||void 0===o?void 0:o.uuid,null===g||void 0===g?void 0:g.uuid),{onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(){s({upstreamBlocks:null}),r().then((function(){v()}))},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),_=(0,u.Z)(E,2),D=_[0],B=_[1].isLoading,N=(0,p.useCallback)((function(e){var t=e.type,r=e.uuid;if(d(e),null!==n&&void 0!==n&&n.current){var o,i=n.current["".concat(t,"s/").concat(r,".py")];null===i||void 0===i||null===(o=i.current)||void 0===o||o.scrollIntoView()}}),[n,d]),L=(0,p.useCallback)((function(e){s((function(n){var t=n.upstreamBlocks.values||[],r=t.findIndex((function(n){var t=n.uuid;return e.uuid===t}));return Ir(Ir({},n),{},{upstreamBlocks:Ir(Ir({},n.upstreamBlocks),{},{values:r>=0?(0,R.oM)(t,r):t.concat(e)})})}))}),[s]);return(0,b.jsxs)(b.Fragment,{children:[g&&(0,b.jsxs)(O.Z,{pt:A.cd,px:1,children:[(0,b.jsx)(O.Z,{mb:1,px:1,children:(0,b.jsx)(C.ZP,{bold:!0,children:"Currently editing block"})}),(0,b.jsx)(k.Z,{children:(0,b.jsx)(Pr,{block:g})}),(0,b.jsx)(O.Z,{mt:A.cd,px:1,children:(0,b.jsxs)(C.ZP,{children:[(0,b.jsxs)(C.ZP,{bold:!0,inline:!0,children:["Select parent block(s) for ",(0,b.jsx)(C.ZP,{bold:!0,inline:!0,monospace:!0,children:g.uuid})]}),": ",w.map((function(e){return e.uuid})).join(", ")]})})]}),(0,b.jsx)(Or,{onScroll:v,children:(0,b.jsxs)(jr.Xwrapper,{children:[(0,b.jsx)(k.Z,{alignItems:"center",flexDirection:"column",fullWidth:!0,children:T.map((function(e,n){return(0,b.jsx)(O.Z,{mb:n===T.length-1?0:6,children:(0,b.jsx)(k.Z,{alignItems:"center",children:e.map((function(e){var n,t;return(0,b.jsx)(Pr,{block:e,disabled:(null===g||void 0===g?void 0:g.uuid)===e.uuid,isInProgress:S[e.uuid]&&(null===(n=l[0])||void 0===n?void 0:n.uuid)===e.uuid,isQueued:S[e.uuid]&&(null===(t=l[0])||void 0===t?void 0:t.uuid)!==e.uuid,isSuccessful:c.EXECUTED===e.status,onClick:g?L:N,selected:g?(0,R.sE)(w,(function(n){return n.uuid===e.uuid})):(null===a||void 0===a?void 0:a.uuid)===e.uuid},e.uuid)}))})},n)}))}),I.map((function(e){var n=e.color,t=e.end,r=e.start;return(0,b.jsx)(kr(),{animateDrawing:.2,color:n,curveness:.8,dashness:!1,end:t,headSize:5,start:r,strokeWidth:1.5},"".concat(r,"_").concat(t))}))]})}),g&&(0,b.jsx)(O.Z,{my:3,px:A.cd,children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[(0,b.jsx)(Gn,{compact:!0,inline:!0,loading:B,onClick:function(){return D({block:Ir(Ir({},g),{},{upstream_blocks:w.map((function(e){return e.uuid}))})})},uuid:"DependencyGraph/save_parents",children:"Save dependencies"}),(0,b.jsx)(O.Z,{ml:1}),(0,b.jsx)(Gn,{compact:!0,inline:!0,noBackground:!0,onClick:function(){return s({upstreamBlocks:null})},uuid:"DependencyGraph/cancel_save_parents",children:"Cancel"})]})})]})},Er=t(73199),_r=t.n(Er),Dr=t(71735),Br=t(65292);var Ar,Rr=function(e){var n=e.language,t=e.maxWidth,r=e.showLineNumbers,o=e.small,i=e.source,c=e.wrapLines,l=(0,p.useContext)(j.ThemeContext);return(0,b.jsx)(_r(),{source:i,renderers:{code:function(e){var i=e.value;return(0,b.jsx)(Dr.Z,{customStyle:{backgroundColor:(l.background||P.Z.background).popup,border:"none",borderRadius:"none",boxShadow:"none",fontFamily:Dn.Vp,fontSize:o?12:14,marginBottom:0,marginTop:0,paddingBottom:2*A.iI,paddingTop:2*A.iI,maxWidth:t},lineNumberStyle:{color:(l.content||P.Z.content).muted},language:n,showLineNumbers:r,style:Br._4,useInlineStyles:!0,wrapLines:c,children:i})}}})},Nr=t(64866),Lr=t(21764);function Mr(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Fr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Mr(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Mr(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}!function(e){e.LEFT="left",e.RIGHT="right"}(Ar||(Ar={}));var zr=function(e){var n,t=e.children,r=e.copiedText,o=e.iconPosition,i=void 0===o?Ar.LEFT:o,c=e.inverted,l=e.linkProps,u=e.linkText,a=e.muted,s=e.small,d=e.toastMessage,p=e.withCopyIcon;return t?n=(0,b.jsx)("span",{children:t}):p&&(n=(0,b.jsx)(w.Z,Fr(Fr({href:"#",inline:!0,muted:a,preventDefault:!0,sameColorAsText:!0,small:s},l),{},{children:(0,b.jsxs)(k.Z,{alignItems:"center",children:[i===Ar.LEFT&&(0,b.jsx)(O.Z,{mr:1,children:(0,b.jsx)(k.Z,{alignItems:"center",children:(0,b.jsx)(Z.CK,{inverted:c,muted:a})})}),u&&(0,b.jsx)(C.ZP,{inverted:c,muted:a,small:s,children:u}),i===Ar.RIGHT&&(0,b.jsx)(O.Z,{ml:1,children:(0,b.jsx)(k.Z,{alignItems:"center",children:(0,b.jsx)(Z.CK,{inverted:c,muted:a})})})]})}))),(0,b.jsx)(Nr.CopyToClipboard,{onCopy:function(){return Lr.Am.success(d||"Successfully copied to clipboard.",{position:Lr.Am.POSITION.BOTTOM_RIGHT,toastId:r})},text:r,children:n})},Hr=function(e,n,t){return"\n    ".concat(t," = get_variable('").concat(e,"', '").concat(n,"', '").concat(t,"')\n")};var Ur,Wr,Kr=function(e){var n=e.blockRefs,t=e.blocks,r=e.globalVariables,o=e.setSelectedBlock,c=(0,p.useContext)(j.ThemeContext),l=(0,p.useMemo)((function(){return(0,R.HK)(t,(function(e){return e.uuid}))}),[t]);return(0,b.jsxs)(O.Z,{p:A.cd,children:[(0,b.jsx)(O.Z,{mb:A.cd,children:(0,b.jsxs)(C.ZP,{children:["The variables listed blow can be used in any ",(0,b.jsx)(C.ZP,{bold:!0,inline:!0,monospace:!0,children:i.SCRATCHPAD})," block."]})}),(0,b.jsx)(O.Z,{mb:A.cd,children:(0,b.jsx)(C.ZP,{children:"To load the variable, use the following syntax:"})}),(0,b.jsx)(Rr,{language:"python",small:!0,source:"\n    from mage_ai.data_preparation.variable_manager import (\n        get_variable,\n    )\n\n\n    df = get_variable(\n        'pipeline_uuid',\n        'block_uuid',\n        'variable_name',\n    )\n"}),null===r||void 0===r?void 0:r.map((function(e){var t,r=e.block.uuid,u=e.pipeline,a=e.variables,s=l[r];if(s&&i.SCRATCHPAD!==s.type){var d=Xn(s.type,{theme:c}).accent,p=null===n||void 0===n||null===(t=n.current)||void 0===t?void 0:t["".concat(s.type,"s/").concat(r,".py")];return(0,b.jsxs)(O.Z,{mt:8,children:[(0,b.jsx)(k.Z,{alignItems:"center",children:(0,b.jsxs)(C.ZP,{children:["The following variables were defined in the block ",(0,b.jsx)(w.Z,{noHoverUnderline:!0,preventDefault:!0,onClick:function(){var e,n;o(s),null===p||void 0===p||null===(e=p.current)||void 0===e||null===(n=e.scrollIntoView)||void 0===n||n.call(e)},children:(0,b.jsx)(C.ZP,{color:d,inline:!0,monospace:!0,children:r})}),":"]})}),null===a||void 0===a?void 0:a.map((function(e){return(0,b.jsxs)(O.Z,{mt:2,children:[(0,b.jsx)(Rr,{language:"python",small:!0,source:Hr(u.uuid,r,e)}),(0,b.jsx)(zr,{copiedText:(n=u.uuid,t=r,o=e,"from mage_ai.data_preparation.variable_manager import get_variable\n\n\n".concat(Hr(n,t,o).trim(),"\n")),linkText:"Copy code",muted:!0,small:!0,withCopyIcon:!0})]},"".concat(r,"-").concat(e));var n,t,o}))]},r)}}))]})},Gr=t(92506),qr=64*A.iI,Vr=3*A.cd*A.iI,Xr=Vr,Jr=35*A.iI,Yr=.5*A.iI,Qr=13*A.iI,$r=3*A.cd*A.iI,eo=(j.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-1lxpneo-0"})(["position:fixed;z-index:2;"," "," ",""],(function(e){return"\n    border-bottom: 1px solid ".concat((e.theme.monotone||P.Z.monotone).grey200,";\n  ")}),(function(e){return!e.beforeVisible&&"\n    width: 100%;\n  "}),(function(e){return e.beforeVisible&&"\n    left: ".concat(Jr,"px;\n    width: calc(100% - ").concat(Jr,"px);\n  ")})),j.default.div.withConfig({displayName:"indexstyle__TabStyle",componentId:"sc-1lxpneo-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;position:relative;top:1px;"," "," ",""],F.n_,F.n_,1*A.iI,2*A.iI,(function(e){return"\n    border-left: 1px solid ".concat((e.theme.monotone||P.Z.monotone).grey200,";\n    border-right: 1px solid ").concat((e.theme.monotone||P.Z.monotone).grey200,";\n    border-top: 1px solid ").concat((e.theme.monotone||P.Z.monotone).grey200,";\n  ")}),(function(e){return!e.first&&"\n    margin-left: ".concat(1*A.iI,"px;\n  ")}),(function(e){return e.selected&&"\n    border-bottom: 1px solid ".concat((e.theme.monotone||P.Z.monotone).white,";\n  ")})),(0,j.css)(["height:calc(100% - ","px);position:fixed;top:","px;z-index:2;",""],$r,$r,(function(e){return"\n    background-color: ".concat((e.theme.background||P.Z.background).sidePanel,";\n  ")}))),no=(0,j.css)([""," height:100%;overflow:auto;position:relative;z-index:2;"],Wt.w5),to=(0,j.css)(["height:calc(100% + ","px);position:absolute;top:-","px;width:","px;z-index:6;&:hover{","}"," ",""],$r,$r,Yr,(function(e){return!e.disabled&&"\n      border-color: ".concat((e.theme.text||P.Z.text).fileBrowser," !important;\n    ")}),(function(e){return!e.disabled&&"\n    cursor: col-resize;\n  "}),(function(e){return e.active&&!e.disabled&&"\n    border-color: ".concat((e.theme.text||P.Z.text).fileBrowser," !important;\n  ")})),ro=j.default.div.withConfig({displayName:"indexstyle__AsideHeaderStyle",componentId:"sc-1lxpneo-2"})(["border-bottom:1px solid transparent;height:","px;position:fixed;top:0;z-index:4;"," "," ",""],$r,(0,Wt.y$)(),(function(e){return"\n    background-color: ".concat((e.theme.background||P.Z.background).sidePanel,";\n  ")}),(function(e){return!e.visible&&"\n    border-color: ".concat((e.theme.borders||P.Z.borders).medium," !important;\n  ")})),oo=j.default.aside.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-1lxpneo-3"})([""," left:0;"],eo),io=j.default.div.withConfig({displayName:"indexstyle__BeforeInnerStyle",componentId:"sc-1lxpneo-4"})(["",""],no),co=j.default.aside.withConfig({displayName:"indexstyle__AfterStyle",componentId:"sc-1lxpneo-5"})([""," right:0;"],eo),lo=j.default.div.withConfig({displayName:"indexstyle__AfterInnerStyle",componentId:"sc-1lxpneo-6"})(["",""],no),uo=j.default.div.withConfig({displayName:"indexstyle__DraggableStyle",componentId:"sc-1lxpneo-7"})([""," "," ",""],to,(function(e){return"undefined"!==typeof e.left&&"\n    border-left: 1px solid transparent;\n    left: ".concat(e.left,"px;\n  ")}),(function(e){return"undefined"!==typeof e.right&&"\n    border-right: 1px solid transparent;\n    right: ".concat(e.right,"px;\n  ")})),ao=j.default.div.withConfig({displayName:"indexstyle__MainContentStyle",componentId:"sc-1lxpneo-8"})(["height:100%;position:fixed;z-index:1;",""],(function(e){return"\n    background-color: ".concat((e.theme.background||P.Z.background).codeArea,";\n  ")})),so=j.default.div.withConfig({displayName:"indexstyle__MainContentInnerStyle",componentId:"sc-1lxpneo-9"})([""," height:100%;overflow:auto;"],Wt.w5),po=t(32151),fo=6*A.iI,ho=2*A.iI,vo=(A.iI,po.O$+3*A.iI+Bn.dN),mo=j.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-15ofupc-0"})(["height:calc(100vh - ","px - ","px);width:fit-content;",""],fo,ho,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "})),bo="sideview";!function(e){e.DATA="data",e.GRAPHS="graphs",e.REPORTS="reports",e.TREE="tree",e.VARIABLES="variables"}(Wr||(Wr={}));var go=[Wr.DATA,Wr.REPORTS,Wr.TREE],xo=[{key:Wr.TREE,label:"Tree"},{key:Wr.DATA,label:"Data"},{key:Wr.REPORTS,label:"Reports"},{key:Wr.GRAPHS,label:"Graphs"},{key:Wr.VARIABLES,label:"Variables"}],yo=(Ur={},(0,a.Z)(Ur,Wr.DATA,Z.t1),(0,a.Z)(Ur,Wr.GRAPHS,Z.er),(0,a.Z)(Ur,Wr.REPORTS,Z.Do),(0,a.Z)(Ur,Wr.TREE,Z.BJ),(0,a.Z)(Ur,Wr.VARIABLES,Z.KJ),Ur),jo=t(43313),ko=t(84779);var wo=t(24141);var Oo=function(e){var n,t=e.activeView,r=e.afterWidth,o=e.blockRefs,i=e.blocks,c=e.editingBlock,l=e.fetchPipeline,a=e.globalVariables,s=e.insights,d=e.metadata,h=e.pipeline,v=e.runningBlocks,m=e.sampleData,g=e.selectedBlock,x=e.setEditingBlock,y=e.setSelectedBlock,j=e.statistics,w=(0,wo.i)().height,P=null===h||void 0===h?void 0:h.uuid,S=(0,p.useState)(!1),I=S[0],T=S[1],E=(0,p.useState)(null),_=E[0],D=E[1],B=(null===m||void 0===m?void 0:m.columns)||[],N=(null===m||void 0===m?void 0:m.rows)||[],L=(null===d||void 0===d?void 0:d.column_types)||{},M=(null===s||void 0===s||null===(n=s[0])||void 0===n?void 0:n.map((function(e){return e.feature})))||[],F=(null===s||void 0===s?void 0:s[1])||{},z=(0,p.useMemo)((function(){return(0,R.HK)((null===s||void 0===s?void 0:s[0])||[],(function(e){return e.feature.uuid}))}),[s]),H=function(e){var n=e.statistics,t=Object.keys(n),r=Array(jo.Dy.length).fill(0);return 0===t.length?null:(t.forEach((function(e){if(jo.Dy.includes(e)){var t=jo.CC[e],o=n[e],i=o,c=!1,l=[2,3],u=jo.Ub[e],a=jo.oH[e],s=jo.OD[e];if(jo.y_.includes(e))c=!0,l=[2,1,2];else if(e in jo.Sq){o=(0,ko.Jw)(o,0);var d=jo.Sq[e];i=n[d]}var p={columnFlexNumbers:l,name:t,progress:c,rate:i,successDirection:a,warning:s};jo.y_.includes(e)||(p.value=o),r[u]=p}})),r)}({statistics:j}),U=function(e){var n=e.columnTypes,t=void 0===n?{}:n,r=e.statistics,o=Object.keys(r);if(0===o.length)return null;var i=Object.values(t),c=i.length,l=[];l.push({name:"Column count",successDirection:jo.oH.column_count,value:(0,ze.x6)(c)}),o.forEach((function(e){if(jo.Zu.includes(e)){var n=jo.CC[e],t=r[e],o=jo.OD[e];l.push({name:n,successDirection:jo.oH[e],value:(0,ze.x6)(t),warning:o})}}));var u=(0,po.QO)(i),a=u.countCategory,s=u.countDatetime,d=u.countNumerical;return l.push({name:"Categorical Features",rate:a/c,value:(0,ze.x6)(a)},{name:"Numerical Features",rate:d/c,value:(0,ze.x6)(d)},{name:"Datetime Features",rate:s/c,value:(0,ze.x6)(s)}),l}({columnTypes:L,statistics:j}),W=(0,p.useCallback)((0,po.Fk)({columnTypes:L,columns:B,insightsByFeatureUUID:z,insightsOverview:F,noColumnLinks:!0,statistics:j}),[L,B,z,F,j]),K=(0,p.useMemo)((function(){return(0,b.jsx)(Kr,{blockRefs:o,blocks:i,globalVariables:a,setSelectedBlock:y})}),[null===o||void 0===o?void 0:o.current,i,a,y]),G=(0,f.Db)(Me.execute.pipelines.useCreate(P),{onError:function(e){var n=(0,Ee.qQ)(e).messages;null===D||void 0===D||D(n)},onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(){l(),null===D||void 0===D||D(null),T(!0),setTimeout((function(){T(!1)}),2500)}})}}),q=(0,u.Z)(G,2),V=q[0],X=q[1].isLoading;return(0,b.jsxs)(b.Fragment,{children:[t===Wr.TREE&&(null===_||void 0===_?void 0:_.length)>=1&&(0,b.jsxs)(O.Z,{mb:3,mt:2,mx:2,children:[(0,b.jsxs)(k.Z,{justifyContent:"space-between",children:[(0,b.jsx)(C.ZP,{bold:!0,danger:!0,children:"Errors"}),(0,b.jsx)(lt.Z,{basic:!0,iconOnly:!0,noPadding:!0,onClick:function(){return D(null)},transparent:!0,children:(0,b.jsx)(Z.x8,{muted:!0})})]}),null===_||void 0===_?void 0:_.map((function(e){return(0,b.jsx)(O.Z,{pb:1,children:(0,b.jsx)(C.ZP,{monospace:!0,xsmall:!0,children:e})},e)}))]}),(0,b.jsxs)(mo,{fullWidth:go.includes(t),children:[t===Wr.TREE&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(O.Z,{p:2,children:(0,b.jsx)(lt.Z,{beforeIcon:(0,b.jsx)(Z.JM,{inverted:!0,size:2*A.iI}),loading:X,onClick:function(){return V()},success:!0,children:(0,b.jsx)(C.ZP,{bold:!0,inverted:!0,primary:I,children:I?"Successfully executed!":"Execute pipeline"})})}),(0,b.jsx)(Tr,{blockRefs:o,editingBlock:c,fetchPipeline:l,pipeline:h,runningBlocks:v,selectedBlock:g,setEditingBlock:x,setSelectedBlock:y})]}),t===Wr.DATA&&B.length>0&&(0,b.jsx)(wt.Z,{columnHeaderHeight:vo,columns:B,height:w-($r+Wt.nn),noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,noBorderTop:!0,renderColumnHeader:W,rows:N,width:r}),t===Wr.REPORTS&&(0,b.jsx)(O.Z,{p:2,children:(0,b.jsxs)(k.Z,{flexDirection:"column",fullWidth:!0,children:[H&&(0,b.jsx)(Gr.Z,{stats:H,title:"Quality metrics"}),(0,b.jsx)(O.Z,{mb:A.cd}),U&&(0,b.jsx)(Gr.Z,{stats:U,title:"Statistics"})]})}),t===Wr.GRAPHS&&(0,b.jsx)(yr,{afterWidth:r,features:M,insightsOverview:F,statistics:j}),Wr.VARIABLES===t&&a&&K]})]})},Co=t(1887),Po=t.n(Co),Zo=t(57639);var So=function(e){var n=e.after,t=e.afterHeader,r=e.afterHidden,o=e.afterMousedownActive,i=e.afterWidth,c=e.before,l=e.beforeHeader,u=e.beforeHidden,a=e.beforeMousedownActive,s=e.beforeWidth,d=e.children,f=e.mainContainerRef,h=e.setAfterHidden,v=e.setAfterMousedownActive,m=e.setAfterWidth,g=e.setBeforeHidden,x=e.setBeforeMousedownActive,y=e.setBeforeWidth,j=(0,wo.i)().width,w=(0,p.useRef)(null),C=(0,p.useRef)(null),P=(0,p.useRef)(null),S=(0,p.useRef)(null),I=(0,p.useCallback)((function(){var e=!r;h(e),(0,tn.t8)(tn.zg,e)}),[r,h]),T=(0,p.useCallback)((function(){var e=!u;g(e),(0,tn.t8)(tn.Uu,e)}),[u,g]);(0,p.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===P||void 0===P||null===(n=P.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(j){var r=e.x;r+Qr>j-i&&(r=j-i-Qr),y(Math.max(r,Xr))}},c=function(e){var n,t;e.offsetX>=e.target.offsetWidth-Yr&&e.offsetX<=e.target.offsetWidth+Yr&&(x(!0),or(e),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},l=function(){var e,n;x(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===S||void 0===S||null===(e=S.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",l,!1),function(){var e,n,t,r;null===S||void 0===S||null===(e=S.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",c,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",l,!1),l()}}),[i,P,S,x,y,j]),(0,p.useEffect)((function(){var e,n,t,r,o=function(e){var n,t;((null===w||void 0===w||null===(n=w.current)||void 0===n||null===(t=n.getBoundingClientRect)||void 0===t?void 0:t.call(n))||{}).x;if(j){var r=j-e.x;r+Qr>j-s&&(r=j-s-Qr),m(Math.max(r,Vr))}},i=function(e){var n,t;e.offsetX>=-1*Yr&&e.offsetX<=Yr&&(v(!0),or(e),null===(n=document)||void 0===n||null===(t=n.addEventListener)||void 0===t||t.call(n,"mousemove",o,!1))},c=function(){var e,n;v(!1),null===(e=document)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousemove",o,!1)};return null===C||void 0===C||null===(e=C.current)||void 0===e||null===(n=e.addEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.addEventListener)||void 0===r||r.call(t,"mouseup",c,!1),function(){var e,n,t,r;null===C||void 0===C||null===(e=C.current)||void 0===e||null===(n=e.removeEventListener)||void 0===n||n.call(e,"mousedown",i,!1),null===(t=document)||void 0===t||null===(r=t.removeEventListener)||void 0===r||r.call(t,"mouseup",c,!1),c()}}),[s,w,C,v,m,j]);var E=r?4*A.iI:i,_=u?4*A.iI:s;return(0,b.jsxs)(Zo.Z,{children:[(o&&!r||a&&!u)&&(0,b.jsx)(Po(),{children:(0,b.jsx)("style",{dangerouslySetInnerHTML:{__html:"\n                body {\n                  cursor: col-resize;\n                }\n              "}})}),c&&(0,b.jsxs)(oo,{style:{width:_},children:[(0,b.jsx)(uo,{active:a,disabled:u,ref:S,right:0}),(0,b.jsx)(ro,{style:{width:_},visible:u,children:(0,b.jsxs)(k.Z,{alignItems:"center",fullWidth:!0,fullHeight:!0,justifyContent:"space-between",children:[(0,b.jsxs)(Xe.Z,{children:[(0,b.jsx)(O.Z,{pl:u?1:0}),!u&&l]}),(0,b.jsxs)(Xe.Z,{children:[(0,b.jsx)(Lt,{block:!0,label:u?"Show sidebar":"Hide sidebar",size:null,widthFitContent:!0,children:(0,b.jsxs)(lt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return T()},children:[u&&(0,b.jsx)(Z._Q,{neutral:!0,size:2*A.iI}),!u&&(0,b.jsx)(Z.s$,{neutral:!0,size:2*A.iI})]})},u?"before-is-hidden":"before-is-visible"),(0,b.jsx)(O.Z,{pr:u?1:2})]})]})}),(0,b.jsx)(io,{ref:P,children:!u&&c})]}),(0,b.jsx)(ao,{style:{left:_,width:"calc(100% - ".concat(_+E,"px)")},children:(0,b.jsx)(so,{ref:f,children:d})}),n&&(0,b.jsxs)(co,{style:{width:E},children:[(0,b.jsx)(uo,{active:o,disabled:r,left:0,ref:C}),(0,b.jsx)(ro,{style:{width:E},visible:r,children:(0,b.jsxs)(k.Z,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:[(0,b.jsxs)(Xe.Z,{children:[(0,b.jsx)(O.Z,{pl:r?1:2}),(0,b.jsxs)(lt.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){return I()},children:[r&&(0,b.jsx)(Z.s$,{neutral:!0,size:2*A.iI}),!r&&(0,b.jsx)(Z._Q,{neutral:!0,size:2*A.iI})]})]}),!r&&t]})}),(0,b.jsx)(lo,{ref:w,children:!r&&n})]})]})},Io=t(33766);function To(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Eo(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?To(Object(t),!0).forEach((function(n){(0,a.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):To(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _o(e){var n,t,r,o=e.pipeline,c=(0,h.useRouter)(),l=(0,wo.i)(),s=l.height,d=l.width,v=(0,p.useState)((0,tn.U2)(tn.L8,qr)),m=v[0],g=v[1],y=(0,p.useState)(null),j=y[0],k=y[1],w=(0,p.useState)((0,tn.U2)(tn.J3,Jr)),C=w[0],P=w[1],Z=(0,p.useState)(!!(0,tn.U2)(tn.zg)),S=Z[0],I=Z[1],T=(0,p.useState)(!!(0,tn.U2)(tn.Uu)),E=T[0],_=T[1],D=(0,p.useState)(!1),B=D[0],N=D[1],M=(0,p.useState)(!1),F=M[0],z=M[1],H=(0,ne.iV)(),U=H.sideview,W=H.file_path,K=(0,p.useCallback)((function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];(0,Io.u)((0,a.Z)({},bo,e),{pushHistory:n})}),[U]);(0,p.useEffect)((function(){U||K(Wr.TREE,!1)}),[U]);var G=(0,p.useRef)({}),q=(0,p.useRef)(null),V=o.uuid,X=(0,vt.Z)(V),J=(0,p.useCallback)((function(e){G.current=Eo(Eo({},G.current),e)}),[G]),Y=(0,p.useState)(null),Q=Y[0],$=Y[1];(0,p.useEffect)((function(){null===q||void 0===q||!q.current||B||F||$(q.current.getBoundingClientRect().width)}),[B,F,S,m,E,C,null===q||void 0===q?void 0:q.current,$,d]),(0,p.useEffect)((function(){B||(k(m),(0,tn.t8)(tn.L8,m))}),[B,m,k]),(0,p.useEffect)((function(){F||(0,tn.t8)(tn.J3,C)}),[F,C]);var ee=(0,p.useState)(null),te=ee[0],re=ee[1],oe=(0,p.useState)(!1),ie=oe[0],ce=oe[1],le=Me.variables.pipelines.list(!S&&V),ue=le.data,ae=le.mutate,se=null===ue||void 0===ue?void 0:ue.variables,de=(0,p.useState)([]),pe=de[0],fe=de[1],he=(0,p.useState)({upstreamBlocks:null}),ve=he[0],me=he[1],be=(0,p.useState)([]),ge=be[0],xe=be[1],ye=(0,p.useState)(null),je=ye[0],ke=ye[1],we=(0,p.useCallback)((function(){me({upstreamBlocks:{block:null,values:[]}}),Fe({}),ce(!1),re(null),xe([]),ke(null)}),[]);(0,p.useEffect)((function(){V!==X&&(G.current={})}),[V,X]);var Oe=Me.blocks.pipelines.outputs.detail(!S&&V,(null===je||void 0===je?void 0:je.type)!==i.SCRATCHPAD&&(null===je||void 0===je?void 0:je.uuid)),Ce=Oe.data,Pe=Oe.mutate,Ze=null===Ce||void 0===Ce||null===(n=Ce.outputs)||void 0===n||null===(t=n[0])||void 0===t?void 0:t.sample_data,Se=Me.blocks.pipelines.analyses.detail(!S&&V,(null===je||void 0===je?void 0:je.type)!==i.SCRATCHPAD&&(null===je||void 0===je?void 0:je.uuid)),Ie=Se.data,Te=Se.mutate,_e=(null===Ie||void 0===Ie||null===(r=Ie.analyses)||void 0===r?void 0:r[0])||{},De=_e.insights,Be=_e.metadata,Ae=_e.statistics,Re=void 0===Ae?{}:Ae;(0,p.useEffect)((function(){0===ge.length&&(Te(),Pe(),ae())}),[Te,Pe,ae,ge]),(0,p.useEffect)((function(){var e;null!==(e=ve.upstreamBlocks)&&void 0!==e&&e.block&&(I(!1),K(Wr.TREE))}),[ve.upstreamBlocks]);var Ne=(0,p.useState)({}),Le=Ne[0],Fe=Ne[1],He=Me.pipelines.detail(V),Ue=He.data,Ge=(He.isLoading,He.mutate),qe=Me.files.list(),Ve=qe.data,Xe=qe.mutate,Je=null===Ue||void 0===Ue?void 0:Ue.pipeline,Ye=Me.kernels.list({},{refreshInterval:5e3,revalidateOnFocus:!0}),Qe=Ye.data,$e=Ye.mutate,en=null===Qe||void 0===Qe?void 0:Qe.kernels,nn=null===en||void 0===en?void 0:en[0],rn=(0,p.useCallback)((function(e){(0,Io.u)({file_path:encodeURIComponent(e)})}),[]),on=Me.file_contents.detail(W).data,cn=null===on||void 0===on?void 0:on.file,ln=(0,f.Db)(Me.pipelines.useUpdate(V,{update_content:!0}),{onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(){return ce(!1)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),un=(0,u.Z)(ln,2),an=un[0],sn=un[1].isLoading,dn=(0,p.useCallback)((function(){return re(new Date),an({pipeline:Eo(Eo({},Je),{},{blocks:pe.map((function(e){return Eo(Eo({},e),{},{content:G.current[e.uuid]||e.content,outputs:i.SCRATCHPAD===e.type&&Le[e.uuid]?Le[e.uuid].map((function(n,t){return{text_data:JSON.stringify(n),variable_uuid:"".concat(e.uuid,"_").concat(t)}})):e.outputs})}))})})}),[pe,G.current,Le,Je,re,an]),pn=(0,f.Db)((function(e){var n=e.uuid;return Me.blocks.pipelines.useDelete(V,n)()}),{onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(e){var n=e.block.uuid;fe((function(e){return(0,R.oM)(e,e.findIndex((function(e){var t=e.uuid;return n===t})))})),Ge()},onErrorCallback:function(e,n){var t=e.url_parameters,r=n.messages;Fe((function(e){return Eo(Eo({},e),{},(0,a.Z)({},t.block_uuid,r.map((function(e){return{data:e,type:Wn.TEXT_PLAIN}}))))}))}})}}),fn=(0,u.Z)(pn,1)[0],hn=(0,f.Db)(Me.restart.kernels.useCreate(null===nn||void 0===nn?void 0:nn.id),{onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(){return $e()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),vn=(0,u.Z)(hn,1)[0],mn=(0,f.Db)(Me.interrupt.kernels.useCreate(null===nn||void 0===nn?void 0:nn.id),{onSuccess:function(e){return(0,Ee.wD)(e,{callback:function(e){},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}}),bn=(0,u.Z)(mn,1)[0],gn=((0,p.useCallback)((function(){window.confirm("Do you want to restart the kernel? All variables will be cleared.")&&vn()}),[vn]),(0,f.Db)(Me.blocks.pipelines.useCreate(V))),xn=(0,u.Z)(gn,1)[0],yn=(0,p.useCallback)((function(e,n,t){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:(0,ze.Y6)();xn({block:Eo({name:r,priority:n},e)}).then((function(e){(0,Ee.wD)(e,{callback:function(){var r=e.data.block;fe((function(e){return(0,R.Hk)(r,n,e)})),null===t||void 0===t||t(r),Xe(),Ge()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;console.log(t,r)}})}))}),[xn,fe]);(0,p.useEffect)((function(){if("undefined"!==typeof(null===Je||void 0===Je?void 0:Je.blocks)){fe(Je.blocks);var e={};G.current={},Je.blocks.forEach((function(n){var t=n.content,r=n.outputs,o=n.uuid;r.length>=1&&(e[o]=r.map((function(e){var n=e.sample_data,t=e.text_data,r=e.type;return n?{data:n,type:r}:t?JSON.parse(t):t}))),G.current[o]=t})),Fe((function(n){return Eo(Eo({},e),n)}))}}),[null===Je||void 0===Je?void 0:Je.blocks,fe,Fe]);var jn=(0,p.useMemo)((function(){return Ve?[null===Ve||void 0===Ve?void 0:Ve.files]:[]}),[null===Ve||void 0===Ve?void 0:Ve.files]),kn=(0,p.useRef)({}),wn=(0,p.useMemo)((function(){return(0,b.jsx)(L,{addNewBlockAtIndex:yn,blockRefs:kn,openFile:rn,openPipeline:function(e){we(),c.push("/pipelines/[...slug]","/pipelines/".concat(e))},pipeline:Je,setSelectedBlock:ke,tree:jn})}),[kn,jn,Je,ke]),On=(0,p.useMemo)((function(){return(0,b.jsx)(Oo,{activeView:U,afterWidth:j,blockRefs:kn,blocks:pe,editingBlock:ve,fetchPipeline:Ge,globalVariables:se,insights:De,metadata:Be,pipeline:Je,runningBlocks:ge,sampleData:Ze,selectedBlock:je,setEditingBlock:me,setSelectedBlock:ke,statistics:Re,views:xo})}),[U,j,kn,pe,ve,Ge,se,De,Be,Je,ge,Ze,je,me,Re]),Cn=(0,p.useMemo)((function(){return(0,b.jsx)(mr,{addNewBlockAtIndex:yn,blockRefs:kn,blocks:pe,deleteBlock:fn,fetchFileTree:Xe,fetchPipeline:Ge,interruptKernel:bn,isPipelineUpdating:sn,kernel:nn,mainContainerRef:q,mainContainerWidth:Q,messages:Le,pipeline:Je,pipelineContentTouched:ie,pipelineLastSaved:te,restartKernel:vn,runningBlocks:ge,savePipelineContent:dn,selectedBlock:je,setContentByBlockUUID:J,setEditingBlock:me,setMessages:Fe,setPipelineContentTouched:ce,setRunningBlocks:xe,setSelectedBlock:ke})}),[yn,kn,pe,fn,Xe,Ge,bn,sn,nn,q,Q,Le,Je,ie,te,vn,ge,dn,je,J,me,Fe,ce,xe,ke]);return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(Ke.Z,{title:null===Je||void 0===Je?void 0:Je.name}),(0,b.jsxs)(So,{after:On,afterHeader:(0,b.jsx)(b.Fragment,{children:xo.map((function(e){var n=e.key,t=e.label,r=n===U,o=yo[n];return(0,b.jsx)(O.Z,{pl:1,children:(0,b.jsx)(Gn,{beforeElement:(0,b.jsx)(o,{}),blackBorder:!0,compact:!0,onClick:function(){return K(n)},selected:r,uuid:n,children:t})},n)}))}),afterHidden:S,afterMousedownActive:B,afterWidth:m,before:wn,beforeHeader:(0,b.jsx)(We,{interruptKernel:bn,restartKernel:vn,savePipelineContent:dn,setMessages:Fe}),beforeHidden:E,beforeMousedownActive:F,beforeWidth:C,mainContainerRef:q,setAfterHidden:I,setAfterMousedownActive:N,setAfterWidth:g,setBeforeHidden:_,setBeforeMousedownActive:z,setBeforeWidth:P,children:[!cn&&Cn,cn&&(0,b.jsx)(x,{selectedFile:cn}),(0,b.jsx)(O.Z,{pb:Math.max(Math.floor(s/2/A.iI),0)})]})]})}_o.getInitialProps=function(){var e=(0,l.Z)(d().mark((function e(n){var t,r;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.slug,Array.isArray(t)&&(r=t[0]),e.abrupt("return",{pipeline:{uuid:r}});case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var Do=_o},26039:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[...slug]",function(){return t(95074)}])}},function(e){e.O(0,[3662,6762,7890,7670,9668,1619,9774,2888,179],(function(){return n=26039,e(e.s=n);var n}));var n=e.O();_N_E=n}]);