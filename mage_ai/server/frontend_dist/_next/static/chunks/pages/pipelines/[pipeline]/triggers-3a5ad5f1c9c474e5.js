(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4249],{60547:function(e,n,r){"use strict";r.d(n,{Z:function(){return k}});var t=r(82394),i=r(21831),o=r(82684),c=r(47999),u=r(1210),a=r(34744),l=r(49894),s=r(67971),d=r(87372),p=r(86673),f=r(82531),h=r(9518),b=r(23831),g=r(73942),v=r(49125),m=h.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],g.n_,3*v.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||b.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),x=r(3055),j=r(95354),y=r(24141),O=r(28598);function w(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Z(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?w(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):w(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var k=function(e){var n=e.after,r=e.afterHidden,t=e.afterWidth,h=e.before,b=e.beforeWidth,g=e.breadcrumbs,w=e.buildSidekick,k=e.children,P=e.errors,S=e.headline,_=e.pageName,C=e.pipeline,I=e.setErrors,D=e.subheader,E=e.subheaderBackground,N=e.subheaderBackgroundImage,H=e.subheaderButton,T=e.subheaderText,M=e.title,W=e.uuid,F=(0,y.i)().height,Y=C.uuid,B=f.ZP.pipelines.detail(Y,{includes_outputs:!1},{revalidateOnFocus:!1}).data,V=null===B||void 0===B?void 0:B.pipeline,A=(0,o.useMemo)((function(){return n||(w?w({height:F,heightOffset:x.Mz,pipeline:V}):null)}),[n,w,F,V]),R=t||(A?50*v.iI:null),J=(0,o.useMemo)((function(){var e=[];return V&&(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),g?(e.push({label:function(){return V.uuid},linkProps:{as:"/pipelines/".concat(Y,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(g)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return V.name}})),e}),[g,V,Y]);return(0,O.jsxs)(O.Fragment,{children:[(0,O.jsxs)(u.Z,{after:A,afterHidden:r,afterWidth:R,before:h,beforeWidth:b,breadcrumbs:J,navigationItems:(0,j.H)(_,V),subheaderChildren:"undefined"!==typeof D&&D,title:V?M?M(V):V.name:null,uuid:W,children:[(H||T)&&(0,O.jsx)(p.Z,{mb:v.Mq,mt:v.cd,mx:v.cd,children:(0,O.jsx)(m,{background:E,backgroundImage:N,children:(0,O.jsxs)(s.Z,{alignItems:"center",children:[H,T&&(0,O.jsx)(p.Z,{ml:3}),T]})})}),S&&(0,O.jsx)(p.Z,{p:v.cd,children:(0,O.jsxs)(p.Z,{mt:v.cd,px:v.cd,children:[(0,O.jsx)(d.Z,{level:5,children:S}),(0,O.jsx)(a.Z,{light:!0,mt:v.cd,short:!0})]})}),k]}),P&&(0,O.jsx)(c.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===I||void 0===I?void 0:I(null)},children:(0,O.jsx)(l.Z,Z(Z({},P),{},{onClose:function(){return null===I||void 0===I?void 0:I(null)}}))})]})}},58122:function(e,n,r){"use strict";r.d(n,{CL:function(){return f},FS:function(){return h},JZ:function(){return g},e7:function(){return v},v0:function(){return p},wx:function(){return b}});var t=r(75582),i=r(82394),o=r(43313),c=r(93348),u=r(1286),a=r(90211),l=r(84779);function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function p(e){var n=e.statistics,r=Object.keys(n),t=Array(o.Dy.length).fill(0);return 0===r.length?null:(r.forEach((function(e){if(o.Dy.includes(e)){var r=o.CC[e],i=n[e],c=i,u=!1,a=[2,3],s=o.Ub[e],d=o.oH[e],p=o.OD[e];if(o.y_.includes(e))u=!0,a=[2,1,2];else if(e in o.Sq){i=(0,l.Jw)(i,0);var f=o.Sq[e];c=n[f]}var h={columnFlexNumbers:a,name:r,progress:u,rate:c,successDirection:d,warning:p};o.y_.includes(e)||(h.value=i),t[s]=h}})),t)}function f(e){var n=e.columnTypes,r=void 0===n?{}:n,t=e.statistics,i=Object.keys(t);if(0===i.length)return null;var c=Object.values(r),l=c.length,s=[];s.push({name:"Column count",successDirection:o.oH.column_count,value:(0,a.x6)(l)}),i.forEach((function(e){if(o.Zu.includes(e)){var n=o.CC[e],r=t[e],i=o.OD[e];s.push({name:n,successDirection:o.oH[e],value:(0,a.x6)(r),warning:i})}}));var d=(0,u.QO)(c),p=d.countCategory,f=d.countDatetime,h=d.countNumerical;return s.push({name:"Categorical Features",rate:p/l,value:(0,a.x6)(p)},{name:"Numerical Features",rate:h/l,value:(0,a.x6)(h)},{name:"Datetime Features",rate:f/l,value:(0,a.x6)(f)}),s}function h(e){return"string"===typeof e?e:JSON.stringify(e)}function b(e,n){var r,t;return null===e||void 0===e||null===(r=e.find((function(e){var r=e.block;return n(r)})))||void 0===r||null===(t=r.variables)||void 0===t?void 0:t.map((function(e){var n=e.value;return d(d({},e),{},{value:h(n)})}))}function g(e,n){return n===c.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===c.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function v(e){return e?Object.entries(e).reduce((function(e,n){var r=(0,t.Z)(n,2),o=r[0],c=r[1],u=c;try{u=JSON.parse(c)}catch(a){}return d(d({},e),{},(0,i.Z)({},o,u))}),{}):e}},29237:function(e,n,r){"use strict";var t=r(9518),i=r(67971),o=r(86673),c=r(19711),u=r(23831),a=r(73942),l=r(37391),s=r(49125),d=r(28598),p=(0,t.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),f=t.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," ",""],a.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return"\n    border: 1px solid ".concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.dark&&"\n    background-color: ".concat((e.theme.background||u.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||u.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=t.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],a.n_,a.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||u.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),p,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),b=t.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,l.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),g=t.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],a.M8,a.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,r=e.children,t=e.containerRef,u=e.contentContainerRef,a=e.dark,l=e.footer,s=e.fullHeight,p=void 0===s||s,v=e.fullWidth,m=void 0===v||v,x=e.header,j=e.headerHeight,y=e.headerIcon,O=e.headerPaddingVertical,w=e.headerTitle,Z=e.maxHeight,k=e.maxWidth,P=e.minWidth,S=e.noPadding,_=e.overflowVisible,C=e.subtitle;return(0,d.jsxs)(f,{borderless:n,dark:a,fullHeight:p,fullWidth:m,maxHeight:Z,maxWidth:k,minWidth:P,overflowVisible:_,ref:t,children:[(x||w)&&(0,d.jsxs)(h,{headerPaddingVertical:O,height:j,children:[x&&x,w&&(0,d.jsx)(i.Z,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.Z,{alignItems:"center",children:[y&&y,(0,d.jsx)(o.Z,{ml:y?1:0,children:(0,d.jsx)(c.ZP,{bold:!0,default:!0,children:w})})]})})]}),(0,d.jsxs)(b,{maxHeight:Z,noPadding:S,overflowVisible:_,ref:u,children:[C&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(c.ZP,{default:!0,children:C})}),r]}),l&&(0,d.jsx)(g,{children:l})]})}},38435:function(e,n,r){"use strict";var t=r(82394),i=r(26304),o=r(82684),c=r(9518),u=r(69898),a=r(28598),l=["rows"];function s(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function d(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?s(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var p=c.default.textarea.withConfig({displayName:"TextArea__TextInputStyle",componentId:"sc-112wx63-0"})(["",""],u.p),f=function(e,n){var r=e.rows,t=void 0===r?3:r,o=(0,i.Z)(e,l);return(0,a.jsx)(u.Z,d(d({},o),{},{input:(0,a.jsx)(p,d({rows:t},o)),ref:n}))};n.Z=o.forwardRef(f)},70902:function(e,n,r){"use strict";var t=r(82394),i=r(26304),o=r(82684),c=r(9518),u=r(69898),a=r(23831),l=r(28598),s=["checked","disabled","onCheck"];function d(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function p(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?d(Object(r),!0).forEach((function(n){(0,t.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var f=c.default.label.withConfig({displayName:"ToggleSwitch__ToggleSwitchStyle",componentId:"sc-179r5zs-0"})([""," position:relative;display:inline-block;width:","px;min-width:","px;height:",'px;& input[type="checkbox"]{display:none;}& span{position:absolute;cursor:',";background-color:",";border-radius:13px;",';top:0;right:0;bottom:0;left:0;transition:background-color 0.2s ease;}& span::before{position:absolute;content:"";left:2px;top:2px;width:22px;height:22px;background-color:#787A85;border-radius:50%;transition:transform 0.3s ease;}& input[type="checkbox"]:checked + span::before{transform:translateX(20px);}',""],u.p,46,46,26,(function(e){return e.disabled?"not-allowed":"pointer"}),(function(e){return e.disabled?a.Z.monotone.white:a.Z.monotone.black}),(function(e){return e.disabled&&"border: 1px solid ".concat(a.Z.monotone.grey200)}),(function(e){return!e.disabled&&'\n    & input[type="checkbox"]:checked + span {\n      background-color: #6AA1E0;\n    }\n\n    & input[type="checkbox"]:checked + span::before {\n      background-color: '.concat(a.Z.monotone.white,";\n    }\n  ")})),h=function(e,n){var r=e.checked,t=e.disabled,o=e.onCheck,c=(0,i.Z)(e,s);return(0,l.jsx)(u.Z,p(p({},c),{},{disabled:t,input:(0,l.jsxs)(f,p(p({},c),{},{disabled:t,noBackground:!0,noBorder:!0,children:[(0,l.jsx)("input",{checked:r,type:"checkbox"}),(0,l.jsx)("span",{onClick:t?null:function(){return null===o||void 0===o?void 0:o((function(e){return!e}))}})]})),noBackground:!0,ref:n}))};n.Z=o.forwardRef(h)},6087:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return ue}});var t=r(77837),i=r(82394),o=r(75582),c=r(38860),u=r.n(c),a=r(12691),l=r.n(a),s=r(82684),d=r(83455),p=r(34376),f=r(60328),h=r(86532),b=r(34744),g=r(67971),v=r(87372),m=r(11135),x=r(10919),j=r(60547),y=r(93348),O=r(41788),w=r(29237),Z=r(86673),k=r(58180),P=r(19711),S=r(38435),_=r(82944),C=r(70902),I=r(23831),D=r(9518),E=r(73942),N=r(49125),H=D.default.div.withConfig({displayName:"indexstyle__ToggleStyle",componentId:"sc-f9kt7n-0"})(["padding:","px ","px;border-radius:","px;",""],1.5*N.iI,2*N.iI,E.n_,(function(e){return"\n    border: 1px solid ".concat((e.theme||I.Z).borders.light,";\n    background-color: ").concat((e.theme||I.Z).background.popup,";\n  ")})),T=r(90211),M=r(58122),W=r(28598);function F(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function Y(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?F(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}var B="".concat(N.iI,"px ").concat(3*N.iI,"px");var V=function(e){var n=e.initialPipelineSchedulePayload,r=e.onCancel,t=e.onSuccess,c=e.variables,u=(0,s.useState)(!1),a=u[0],l=u[1],d=(0,s.useState)({}),p=d[0],h=d[1],b=(0,s.useState)(c||{}),m=b[0],x=b[1],j=(0,s.useMemo)((function(){return Y(Y({},n),{},{name:(0,T.Y6)(),variables:a?(0,M.e7)(m):null})}),[n,a,m]),y=function(e,n){var r={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),x((function(r){return Y(Y({},r),{},(0,i.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return p[e]?(0,W.jsx)(S.Z,Y(Y({},r),{},{rows:1,value:n})):(0,W.jsx)(_.Z,Y({},r))};return(0,s.useEffect)((function(){var e=Object.entries(m).reduce((function(e,n){var r=(0,o.Z)(n,2),t=r[0],c=r[1],u=(0,T.Pb)(c)&&"object"===typeof JSON.parse(c)&&!Array.isArray(JSON.parse(c))&&null!==JSON.parse(c);return Y(Y({},e),{},(0,i.Z)({},t,u))}),{});h(e)}),[]),(0,W.jsxs)(w.Z,{footer:(0,W.jsxs)(g.Z,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,W.jsx)(f.Z,{onClick:function(){t({pipeline_schedule:j}),r()},padding:B,primaryAlternate:!0,children:"Run now"}),(0,W.jsx)(Z.Z,{mr:1}),(0,W.jsx)(f.Z,{borderColor:I.Z.background.page,onClick:r,padding:B,secondary:!0,children:"Cancel"})]}),header:(0,W.jsx)(v.Z,{level:5,children:"Run pipeline now"}),maxHeight:"90vh",minWidth:85*N.iI,subtitle:"Creates a new trigger and immediately runs the current pipeline once.",children:[(0,W.jsx)(H,{children:(0,W.jsxs)(g.Z,{alignItems:"center",children:[(0,W.jsx)(Z.Z,{mr:2,children:(0,W.jsx)(C.Z,{checked:a,onCheck:l})}),(0,W.jsx)(P.ZP,{bold:!0,large:!0,children:"Overwrite runtime variables"})]})}),a&&m&&Object.entries(m).length>0&&(0,W.jsx)(Z.Z,{mt:2,children:(0,W.jsx)(k.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(m).map((function(e){var n=(0,o.Z)(e,2),r=n[0],t=n[1];return[(0,W.jsx)(P.ZP,{default:!0,monospace:!0,children:r},"variable_".concat(r)),y(r,t)]}))})})]})},A=r(37391),R=D.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1xgfh62-0"})(["border-bottom:1px solid ",";padding:","px;"],I.Z.borders.medium,N.tr),J=D.default.div.withConfig({displayName:"indexstyle__CardsStyle",componentId:"sc-1xgfh62-1"})([""," height:80px;display:flex;overflow-x:scroll;"],A.w5),z=D.default.div.withConfig({displayName:"indexstyle__VariableCardStyle",componentId:"sc-1xgfh62-2"})(["background-color:",";border-radius:","px;flex-shrink:0;margin-right:","px;padding:","px;"],I.Z.background.output,E.n_,N.iI,N.tr),X=r(73899);var q=function(e){var n=e.hasOverride,r=e.scheduleType,t=e.variables,i=e.variablesOverride,c=[];return Object.entries(t).forEach((function(e){var n=(0,o.Z)(e,2),r=n[0],t=n[1],u=null===i||void 0===i?void 0:i[r];c.push({uuid:r,value:(0,M.FS)(u||t)})})),(0,M.JZ)(c,r),(0,W.jsxs)(R,{children:[(0,W.jsx)(Z.Z,{mb:2,children:(0,W.jsxs)(P.ZP,{bold:!0,large:!0,monospace:!0,muted:!0,children:["Runtime variables",n&&" (override)"]})}),(0,W.jsx)(J,{noScrollbarTrackBackground:!0,children:t&&c.map((function(e){var n=e.uuid,r=e.value;return(0,W.jsxs)(z,{children:[(0,W.jsx)(P.ZP,{monospace:!0,small:!0,children:n}),(0,W.jsx)(P.ZP,{color:X.Or,monospace:!0,small:!0,children:(0,M.FS)(r)})]})}))})]})},G=r(46261),Q=r(97225),L=r(82531),U=r(10503),$=r(59920),K=r(42305),ee=r(7715),ne=r(9736),re=r(96510),te=r(83608);function ie(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function oe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(r),!0).forEach((function(n){(0,i.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}function ce(e){var n=e.pipeline,r=(0,p.useRouter)(),t=(0,ne.Ct)(),c=n.uuid,u=(0,s.useState)(null),a=u[0],O=u[1],w=L.ZP.variables.pipelines.list(c).data,k=null===w||void 0===w?void 0:w.variables,S=L.ZP.pipeline_schedules.pipelines.list(c,{},{refreshInterval:7500}),_=S.data,C=S.mutate,I=(0,s.useMemo)((function(){return(null===_||void 0===_?void 0:_.pipeline_schedules)||[]}),[_]),D=function(e){return(0,d.Db)(L.ZP.pipeline_schedules.pipelines.useCreate(c),{onSuccess:function(n){return(0,re.wD)(n,{callback:function(n){var r=n.pipeline_schedule.id;null===e||void 0===e||e(r)},onErrorCallback:function(e,n){return O({errors:n,response:e})}})}})},E=D((function(e){return r.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===n||void 0===n?void 0:n.uuid,"/triggers/").concat(e,"/edit"))})),H=(0,o.Z)(E,2),F=H[0],Y=H[1].isLoading,B=D(C),A=(0,o.Z)(B,2),R=A[0],J=A[1].isLoading,z=(0,s.useMemo)((function(){var e;return null===(e=(0,M.wx)(k,(function(e){return"global"===e.uuid})))||void 0===e?void 0:e.reduce((function(e,n){var r=n.uuid,t=n.value;return oe(oe({},e),{},(0,i.Z)({},r,t))}),{})}),[k]),X={name:(0,T.Y6)(),schedule_interval:y.U5.ONCE,schedule_type:y.Xm.TIME,start_time:(0,K.d$)((new Date).toISOString(),{dayAgo:!0,utcFormat:!0}),status:y.fq.ACTIVE},ie=(0,te.dd)((function(){return(0,W.jsx)(V,{initialPipelineSchedulePayload:X,onCancel:ae,onSuccess:R,variables:z})}),{},[k,z],{background:!0,uuid:"run_pipeline_now_popup"}),ce=(0,o.Z)(ie,2),ue=ce[0],ae=ce[1],le=(0,s.useState)(),se=le[0],de=le[1],pe=(0,s.useMemo)((function(){var e=null===se||void 0===se?void 0:se.variables,n=!(0,ee.Qr)(e),r=n?null===se||void 0===se?void 0:se.variables:(0,ee.Qr)(z)?null:z;return function(i){var o=i.height-(r?151:0);return(0,W.jsxs)(W.Fragment,{children:[r&&(0,W.jsx)(q,{hasOverride:n,scheduleType:null===se||void 0===se?void 0:se.schedule_type,variables:z,variablesOverride:e}),!r&&(0,W.jsxs)(Z.Z,{p:N.cd,children:[(0,W.jsx)(P.ZP,{children:"This pipeline has no runtime variables."}),!t&&(0,W.jsxs)(Z.Z,{mt:1,children:[(0,W.jsx)(l(),{as:"/pipelines/".concat(c,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,W.jsx)(x.Z,{primary:!0,children:"Click here"})})," ",(0,W.jsx)(P.ZP,{inline:!0,children:"to add variables to this pipeline."})]})]}),(0,W.jsx)(h.Z,oe(oe({},i),{},{height:o,noStatus:!0}))]})}}),[k,se]);return(0,W.jsxs)(j.Z,{breadcrumbs:[{label:function(){return"Triggers"}}],buildSidekick:pe,errors:a,pageName:$.M.TRIGGERS,pipeline:n,setErrors:O,subheaderBackgroundImage:"/images/banner-shape-purple-peach.jpg",subheaderButton:(0,W.jsx)(m.ZP,{beforeElement:(0,W.jsx)(U.mm,{size:2.5*N.iI}),blackBorder:!0,inline:!0,loading:Y,noHoverUnderline:!0,onClick:function(){return F({pipeline_schedule:{name:(0,T.Y6)()}})},sameColorAsText:!0,uuid:"PipelineDetailPage/add_new_schedule",children:"Create new trigger"}),subheaderText:(0,W.jsx)(P.ZP,{bold:!0,large:!0,children:"Run this pipeline using a schedule, event, or API."}),title:function(e){var n=e.name;return"".concat(n," triggers")},uuid:"".concat($.M.TRIGGERS,"_").concat(c),children:[(0,W.jsx)(Z.Z,{mt:N.cd,px:N.cd,children:(0,W.jsxs)(g.Z,{justifyContent:"space-between",children:[(0,W.jsx)(v.Z,{level:5,children:"Pipeline triggers"}),(0,W.jsx)(G.Z,{appearBefore:!0,default:!0,fullSize:!0,label:"Creates an @once trigger and runs pipeline immediately",widthFitContent:!0,children:(0,W.jsx)(f.Z,{beforeIcon:(0,W.jsx)(U.JM,{inverted:!0,size:2*N.iI}),disabled:t,loading:J,onClick:(0,ee.Qr)(z)?function(){return R({pipeline_schedule:X})}:ue,outline:!0,success:!t,children:"Run pipeline now"})})]})}),(0,W.jsx)(b.Z,{light:!0,mt:N.cd,short:!0}),(0,W.jsx)(Q.Z,{fetchPipelineSchedules:C,pipeline:n,pipelineSchedules:I,selectedSchedule:se,setErrors:O,setSelectedSchedule:de})]})}ce.getInitialProps=function(){var e=(0,t.Z)(u().mark((function e(n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:r}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ue=(0,O.Z)(ce)},42305:function(e,n,r){"use strict";r.d(n,{A5:function(){return p},AY:function(){return f},BP:function(){return d},JX:function(){return s},OC:function(){return o},Pc:function(){return h},Tz:function(){return l},d$:function(){return a},lJ:function(){return b},n1:function(){return u}});var t=r(92083),i=r.n(t),o="YYYY-MM-DD HH:mm:ss",c="YYYY-MM-DD HH:mm",u="YYYY-MM-DD";function a(e,n){var r=n.dayAgo,t=n.includeSeconds,u=n.utcFormat,a=i()(e),l=c;return u&&(a=a.utc()),r&&(a=a.subtract(1,"days")),t&&(l=o),a.format(l)}function l(e){var n=a((new Date).toISOString(),{includeSeconds:!0,utcFormat:!0});return null!==e&&void 0!==e&&e.dateObj?new Date(n):n}function s(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return i().unix(e).format(null!==n&&void 0!==n&&n.withSeconds?o:c)}function d(e,n,r){return i()(e).utc().hours(+n).minutes(+r).format()}function p(e){return i()(e).unix()}function f(e,n,r){return"".concat(e.toISOString().split("T")[0]," ").concat(n,":").concat(r)}function h(e){var n=i().unix(+e).utc();return{date:n.toDate(),hour:String(n.hour()),minute:String(n.minute())}}function b(e){return e.padStart(2,"0")}},40183:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers",function(){return r(6087)}])}},function(e){e.O(0,[3850,2083,5896,4804,1774,5872,2344,4506,6166,8180,6214,6532,1286,3014,9774,2888,179],(function(){return n=40183,e(e.s=n);var n}));var n=e.O();_N_E=n}]);