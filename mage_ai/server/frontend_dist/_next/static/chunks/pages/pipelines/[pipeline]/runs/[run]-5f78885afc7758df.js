(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8662],{1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(82394),i=t(21831),o=t(82684),u=t(47999),l=t(49894),c=t(93461),s=t(57384),d=t(12344),a=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(a.HS,{ref:n,children:t})}var h=o.forwardRef(p),m=t(32063),v=t(15270),b=t(82531),g=t(66166),y=t(3055),O=t(49125),j=t(91427),x=t(24141);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var P=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,w=e.afterWidthOverride,P=e.before,k=e.beforeWidth,E=e.breadcrumbs,_=e.children,S=e.errors,I=e.headerMenuItems,C=e.navigationItems,D=e.setErrors,N=e.subheaderChildren,M=e.title,T=e.uuid,H=(0,x.i)().width,R="dashboard_after_width_".concat(T),A="dashboard_before_width_".concat(T),B=(0,o.useRef)(null),L=(0,o.useState)(w?p:(0,j.U2)(R,p)),U=L[0],W=L[1],F=(0,o.useState)(!1),V=F[0],G=F[1],z=(0,o.useState)(P?Math.max((0,j.U2)(A,k),13*O.iI):null),X=z[0],q=z[1],J=(0,o.useState)(!1),Y=J[0],K=J[1],Q=(0,o.useState)(null)[1],$=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,ee=null===$||void 0===$?void 0:$.projects,ne=[];E?ne.push.apply(ne,(0,i.Z)(E)):(null===ee||void 0===ee?void 0:ee.length)>=1&&ne.push.apply(ne,[{label:function(){var e;return null===(e=ee[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return M}}]),(0,o.useEffect)((function(){null===B||void 0===B||!B.current||V||Y||null===Q||void 0===Q||Q(B.current.getBoundingClientRect().width)}),[V,U,Y,X,B,Q,H]),(0,o.useEffect)((function(){V||(0,j.t8)(R,U)}),[r,V,U,R]),(0,o.useEffect)((function(){Y||(0,j.t8)(A,X)}),[Y,X,A]);var te=(0,g.Z)(p);return(0,o.useEffect)((function(){w&&te!==p&&W(p)}),[w,p,te]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.Z,{title:M}),(0,f.jsx)(d.Z,{breadcrumbs:ne,menuItems:I,project:null===ee||void 0===ee?void 0:ee[0],version:null===ee||void 0===ee||null===(n=ee[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(a.Nk,{children:[0!==(null===C||void 0===C?void 0:C.length)&&(0,f.jsx)(a.lm,{children:(0,f.jsx)(v.Z,{navigationItems:C})}),(0,f.jsx)(c.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(m.Z,{after:t,afterHeightOffset:y.Mz,afterHidden:r,afterMousedownActive:V,afterWidth:U,before:P,beforeHeightOffset:y.Mz,beforeMousedownActive:Y,beforeWidth:a.k1+(P?X:0),hideAfterCompletely:!0,leftOffset:P?a.k1:null,mainContainerRef:B,setAfterMousedownActive:G,setAfterWidth:W,setBeforeMousedownActive:K,setBeforeWidth:q,children:[N&&(0,f.jsx)(h,{children:N}),_]})})]}),S&&(0,f.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===D||void 0===D?void 0:D(null)},children:(0,f.jsx)(l.Z,Z(Z({},S),{},{onClose:function(){return null===D||void 0===D?void 0:D(null)}}))})]})}},62976:function(e,n,t){"use strict";t.d(n,{Z:function(){return T}});var r=t(82394),i=t(21831),o=t(82684),u=t(10919),l=t(12691),c=t.n(l),s=t(34376),d=t.n(s),a=t(9518),f=t(63068),p=t(44628),h=t(6508),m=t(67971),v=t(19711),b=t(23831),g=t(31969),y=function(){var e=document.createElement("div");e.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n},O=t(2005),j=t(31012),x=t(37391),w=t(6753),Z=t(49125),P=t(20567),k=t(24224),E=t(28598);function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function S(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?_(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var I=2*Z.iI+j.dN,C=20*Z.iI,D=a.default.div.withConfig({displayName:"DataTable__Styles",componentId:"sc-1arr863-0"})([""," "," "," .body > div{","}.table{border-spacing:0;display:inline-block;"," "," "," "," .tr{.td.td-index-column{","}}.th{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;","}.th,.td{"," font-family:",";margin:0;","}.td{padding:","px;}&.sticky{overflow:auto;}.header{overflow:hidden;}}"],(function(e){return e.disableScrolling&&"\n    overflow: hidden;\n  "}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,"px;\n  ")}),x.w5,(function(e){return!e.noBorderBottom&&"\n      border-bottom: 1px solid ".concat((e.theme.borders||g.Z.borders).medium,";\n    ")}),(function(e){return!e.noBorderLeft&&"\n      border-left: 1px solid ".concat((e.theme.borders||g.Z.borders).medium,";\n    ")}),(function(e){return!e.noBorderRight&&"\n      border-right: 1px solid ".concat((e.theme.borders||g.Z.borders).medium,";\n    ")}),(function(e){return!e.noBorderTop&&"\n      border-top: 1px solid ".concat((e.theme.borders||g.Z.borders).medium,";\n    ")}),(function(e){return"\n          color: ".concat((e.theme.content||g.Z.content).default,";\n        ")}),(function(e){return"\n        height: ".concat(e.columnHeaderHeight||I,"px;\n      ")}),j.iD,O.ry,(function(e){return"\n        background-color: ".concat((e.theme.background||g.Z.background).table,";\n        border-bottom: 1px solid ").concat((e.theme.borders||g.Z.borders).medium,";\n        border-right: 1px solid ").concat((e.theme.borders||g.Z.borders).medium,";\n      ")}),1*Z.iI);function N(e){var n=e.original,t=8.5*Math.max.apply(Math,(0,i.Z)(n.map((function(e){return(null===e||void 0===e?void 0:e.length)||0})))),r=Math.ceil(t/(C-2*Z.iI));return Math.max(r,1)*j.dN+2*Z.iI}function M(e){var n=e.columnHeaderHeight,t=e.columns,r=e.data,l=e.disableScrolling,s=e.height,x=e.index,_=e.invalidValues,D=e.maxHeight,M=e.numberOfIndexes,T=e.previewIndexes,H=e.renderColumnHeader,R=e.width,A=(0,o.useContext)(a.ThemeContext),B=(0,o.useRef)(null),L=(0,o.useRef)(null);(0,o.useEffect)((function(){var e=function(e){var n;null===B||void 0===B||null===(n=B.current)||void 0===n||n.scroll(e.target.scrollLeft,0)};return L&&L.current.addEventListener("scroll",e),function(){var n;null===L||void 0===L||null===(n=L.current)||void 0===n||n.removeEventListener("scroll",e)}}),[B,L]);var U=(0,o.useMemo)((function(){return x&&r&&x.length===r.length}),[r,x]),W=(0,o.useMemo)((function(){var e=[];return(0,k.w6)(M).forEach((function(n,t){var o=8.7*String(null===r||void 0===r?void 0:r.length).length;if(U){var u=x.map((function(e){return M>=2?String(e[t]).length:String(e).length}));o=8.7*Math.max.apply(Math,(0,i.Z)(u))}e.push(o+2*Z.iI)})),e}),[r,x,M,U]),F=t.map((function(e){return null===e||void 0===e?void 0:e.Header})).slice(1),V=(0,o.useMemo)((function(){return y()}),[]),G=(0,o.useMemo)((function(){var e=R-(Math.max.apply(Math,(0,i.Z)(W))+1.5*Z.iI+V),n=t.length-1,r=C;return r*n<e&&(r=e/n),{width:r}}),[t,W,V,R]),z=(0,p.useTable)({columns:t,data:r,defaultColumn:G},p.useBlockLayout,h.useSticky),X=z.getTableBodyProps,q=z.getTableProps,J=z.headerGroups,Y=z.prepareRow,K=z.rows,Q=d().query.slug,$=void 0===Q?[]:Q,ee=new Set((null===T||void 0===T?void 0:T.removedRows)||[]),ne=(0,o.useCallback)((function(e){var n=e.index,t=e.style,r=K[n];Y(r);var i=r.original,l=ee.has(n);return(0,E.jsx)("div",S(S({},r.getRowProps({style:S(S({},t),{},{width:"auto"})})),{},{className:"tr",children:r.cells.map((function(e,t){var r,s=t<=M-1,d=e.getCellProps(),a=e.column.id,f=null===_||void 0===_||null===(r=_[a])||void 0===r?void 0:r.includes(n),p=S({},d.style);s&&(p.fontFamily=O.Vp,p.left=0,p.position="sticky",p.textAlign=x?"right":"center",p.width=W[t]);var h,b=i[t-M],y=F.indexOf(a);if(f&&(p.color=g.Z.interactive.dangerBorder),l&&(p.backgroundColor=g.Z.background.danger),Array.isArray(b)||"object"===typeof b)try{b=JSON.stringify(b)}catch(j){b="Error: cannot display value"}return s&&(U?(h=x[n],Array.isArray(h)&&(h=h[t])):h=e.render("Cell")),(0,o.createElement)("div",S(S({},d),{},{className:"td ".concat(s?"td-index-column":""),key:"".concat(t,"-").concat(b),style:p}),h,!s&&(0,E.jsxs)(m.Z,{justifyContent:"space-between",children:[(0,E.jsxs)(v.ZP,{danger:f,default:!0,wordBreak:!0,children:[!0===b&&"true",!1===b&&"false",(null===b||"null"===b)&&"null",!0!==b&&!1!==b&&null!==b&&"null"!==b&&b]}),f&&(0,E.jsx)(c(),{as:(0,P.o_)(w.mW,y),href:"/datasets/[...slug]",passHref:!0,children:(0,E.jsx)(u.Z,{danger:!0,children:"View all"})})]}))}))}))}),[x,_,W,M,Y,K,$]),te=(0,o.useMemo)((function(){var e;return D?(e=(0,k.Sm)(K.map(N)),e+=n||I-j.dN):(e=s,e-=n||I),e}),[n,N,s,D,K]),re=(0,o.useMemo)((function(){return(0,E.jsx)(f.S_,{estimatedItemSize:I,height:te,itemCount:null===K||void 0===K?void 0:K.length,itemSize:function(e){return N(K[e])},outerRef:L,style:{maxHeight:D,pointerEvents:l?"none":null},children:ne})}),[te,L,ne,K]);return(0,E.jsx)("div",S(S({},q()),{},{className:"table sticky",style:{width:R},children:(0,E.jsxs)("div",S(S({},X()),{},{className:"body",children:[(0,E.jsx)("div",{className:"header",ref:B,children:J.map((function(e,n){return(0,o.createElement)("div",S(S({},e.getHeaderGroupProps()),{},{className:"tr",key:"".concat(e.id,"_").concat(n)}),e.headers.map((function(e,n){var t,r=n<=M-1,i=e.getHeaderProps(),u=S({},i.style);return r?(u.fontFamily=O.Vp,u.left=0,u.position="sticky",u.textAlign="center",u.width=W[n],u.minWidth=W[n]):H?t=H(e,n-M,{width:G.width}):(t=e.render("Header"),u.color=(A||b.Z).content.default,u.padding=1*Z.iI,u.minWidth=G.width),(0,o.createElement)("div",S(S({},i),{},{className:"th",key:e.id,style:u,title:r?"Row number":void 0}),t)})))}))}),re]}))}))}var T=function(e){var n=e.columnHeaderHeight,t=e.columns,i=e.disableScrolling,u=e.height,l=e.index,c=e.invalidValues,s=e.maxHeight,d=e.noBorderBottom,a=e.noBorderLeft,f=e.noBorderRight,p=e.noBorderTop,h=e.previewIndexes,m=e.renderColumnHeader,v=e.rows,b=e.width,g=(0,o.useMemo)((function(){return null!==l&&void 0!==l&&l.length&&Array.isArray(l[0])?l[0].length:1}),[l]),y=(0,o.useMemo)((function(){return(0,k.w6)(g).map((function(e,n){return{Header:(0,k.w6)(n+1).map((function(){return" "})).join(" "),accessor:function(e,n){return n},sticky:"left"}})).concat(null===t||void 0===t?void 0:t.map((function(e){return{Header:String(e),accessor:String(e)}})))}),[t,g]);return(0,o.useMemo)((function(){return null===v||void 0===v?void 0:v.map((function(e){return e.reduce((function(e,n,i){return S(S({},e),{},(0,r.Z)({},t[i],n))}),{})}))}),[t,v]),(0,E.jsx)(D,{columnHeaderHeight:n,disableScrolling:i,height:u,maxHeight:(s||0)+37,noBorderBottom:d,noBorderLeft:a,noBorderRight:f,noBorderTop:p,children:(0,E.jsx)(M,{columnHeaderHeight:n,columns:y,data:v,disableScrolling:i,height:u,index:l,invalidValues:c,maxHeight:s,numberOfIndexes:g,previewIndexes:h,renderColumnHeader:m,width:b})})}},27125:function(e,n,t){"use strict";var r=t(82684),i=t(12691),o=t.n(i),u=t(34376),l=t.n(u),c=t(9518),s=t(66050),d=t(60328),a=t(16634),f=t(10919),p=t(98781),h=t(86673),m=t(58180),v=t(19711),b=t(10503),g=t(49125),y=t(44162),O=t(24224),j=t(28598);n.Z=function(e){var n=e.blockRuns,t=e.onClickRow,i=e.pipeline,u=e.selectedRun,x=(0,r.useContext)(c.ThemeContext),w=(i||{}).uuid,Z=(0,r.useMemo)((function(){return i.blocks||[]}),[i]),P=(0,r.useMemo)((function(){return(0,O.HK)(Z,(function(e){return e.uuid}))}),[Z]);return(0,j.jsx)(m.Z,{columnFlex:[null,1,3,2,null,null],columns:[{uuid:"Date"},{uuid:"Status"},{uuid:"Trigger"},{uuid:"Block"},{uuid:"Completed"},{uuid:"Logs"}],isSelectedRow:function(e){return n[e].id===(null===u||void 0===u?void 0:u.id)},onClickRow:t,rows:null===n||void 0===n?void 0:n.map((function(e){var n,t,r,u,c=e.block_uuid,m=e.completed_at,O=e.created_at,Z=e.id,k=e.pipeline_schedule_id,E=e.pipeline_schedule_name,_=e.status,S=c,I=S.split(":");p.qL.INTEGRATION===i.type&&(S=I[0],r=I[1],u=I[2]);var C=P[S];return C||(C=P[I[0]]),[(0,j.jsx)(v.ZP,{monospace:!0,default:!0,children:O}),(0,j.jsx)(v.ZP,{danger:s.V.FAILED===_,default:s.V.CANCELLED===_,info:s.V.INITIAL===_,monospace:!0,success:s.V.COMPLETED===_,warning:s.V.RUNNING===_,children:_}),(0,j.jsx)(o(),{as:"/pipelines/".concat(w,"/triggers/").concat(k),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,j.jsx)(f.Z,{bold:!0,sameColorAsText:!0,children:E})}),(0,j.jsx)(o(),{as:"/pipelines/".concat(w,"/edit?block_uuid=").concat(S),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,j.jsxs)(f.Z,{bold:!0,sameColorAsText:!0,verticalAlignContent:!0,children:[(0,j.jsx)(a.Z,{color:(0,y.qn)(null===(n=C)||void 0===n?void 0:n.type,{blockColor:null===(t=C)||void 0===t?void 0:t.color,theme:x}).accent,size:1.5*g.iI,square:!0}),(0,j.jsx)(h.Z,{mr:1}),(0,j.jsxs)(v.ZP,{monospace:!0,children:[S,r&&": ",r&&(0,j.jsx)(v.ZP,{default:!0,inline:!0,monospace:!0,children:r}),u>=0&&": ",u>=0&&(0,j.jsx)(v.ZP,{default:!0,inline:!0,monospace:!0,children:u})]})]})}),(0,j.jsx)(v.ZP,{monospace:!0,default:!0,children:m||"-"}),(0,j.jsx)(d.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return l().push("/pipelines/".concat(w,"/logs?block_run_id[]=").concat(Z))},children:(0,j.jsx)(b.B4,{default:!0,size:2*g.iI})})]})),uuid:"block-runs"})}},60547:function(e,n,t){"use strict";t.d(n,{Z:function(){return P}});var r=t(82394),i=t(21831),o=t(82684),u=t(47999),l=t(1210),c=t(34744),s=t(49894),d=t(67971),a=t(87372),f=t(86673),p=t(82531),h=t(9518),m=t(23831),v=t(73942),b=t(49125),g=h.default.div.withConfig({displayName:"indexstyle__BannerStyle",componentId:"sc-1te3pmf-0"})(["border-radius:","px;padding:","px;"," "," ",""],v.n_,3*b.iI,(function(e){return"\n    box-shadow: ".concat((e.theme.shadow||m.Z.shadow).small,";\n  ")}),(function(e){return e.background&&"\n    background: ".concat(e.background,";\n  ")}),(function(e){return e.backgroundImage&&'\n    background-image: url("'.concat(e.backgroundImage,'");\n    background-position: center;\n    background-repeat: no-repeat;\n    background-size: cover;\n  ')})),y=t(3055),O=t(95354),j=t(24141),x=t(28598);function w(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?w(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):w(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var P=function(e){var n=e.after,t=e.afterHidden,r=e.afterWidth,h=e.before,m=e.beforeWidth,v=e.breadcrumbs,w=e.buildSidekick,P=e.children,k=e.errors,E=e.headline,_=e.pageName,S=e.pipeline,I=e.setErrors,C=e.subheader,D=e.subheaderBackground,N=e.subheaderBackgroundImage,M=e.subheaderButton,T=e.subheaderText,H=e.title,R=e.uuid,A=(0,j.i)().height,B=S.uuid,L=p.ZP.pipelines.detail(B,{includes_outputs:!1},{revalidateOnFocus:!1}).data,U=null===L||void 0===L?void 0:L.pipeline,W=(0,o.useMemo)((function(){return n||(w?w({height:A,heightOffset:y.Mz,pipeline:U}):null)}),[n,w,A,U]),F=r||(W?50*b.iI:null),V=(0,o.useMemo)((function(){var e=[];return U&&(e.push.apply(e,[{label:function(){return"Pipelines"},linkProps:{href:"/pipelines"}}]),v?(e.push({label:function(){return U.uuid},linkProps:{as:"/pipelines/".concat(B,"/triggers"),href:"/pipelines/[pipeline]/triggers"}}),e.push.apply(e,(0,i.Z)(v)),e[e.length-1].bold=!0):e.push({bold:!0,label:function(){return U.name}})),e}),[v,U,B]);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(l.Z,{after:W,afterHidden:t,afterWidth:F,before:h,beforeWidth:m,breadcrumbs:V,navigationItems:(0,O.H)(_,U),subheaderChildren:"undefined"!==typeof C&&C,title:U?H?H(U):U.name:null,uuid:R,children:[(M||T)&&(0,x.jsx)(f.Z,{mb:b.Mq,mt:b.cd,mx:b.cd,children:(0,x.jsx)(g,{background:D,backgroundImage:N,children:(0,x.jsxs)(d.Z,{alignItems:"center",children:[M,T&&(0,x.jsx)(f.Z,{ml:3}),T]})})}),E&&(0,x.jsx)(f.Z,{p:b.cd,children:(0,x.jsxs)(f.Z,{mt:b.cd,px:b.cd,children:[(0,x.jsx)(a.Z,{level:5,children:E}),(0,x.jsx)(c.Z,{light:!0,mt:b.cd,short:!0})]})}),P]}),k&&(0,x.jsx)(u.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===I||void 0===I?void 0:I(null)},children:(0,x.jsx)(s.Z,Z(Z({},k),{},{onClose:function(){return null===I||void 0===I?void 0:I(null)}}))})]})}},64155:function(e,n,t){"use strict";t.d(n,{Eh:function(){return s},ht:function(){return a},t0:function(){return d}});var r=t(9518),i=t(82386),o=t(1286),u=t(31012),l=t(37391),c=t(49125),s=(c.iI,o.O$+3*c.iI+u.dN),d=r.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-15ofupc-0"})([""," overflow:auto;position:absolute;width:100%;",""],l.w5,(function(e){return"\n    height: calc(100vh - ".concat(i.uX,"px - ").concat(e.heightOffset,"px);\n  ")})),a=r.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-15ofupc-1"})(["padding:","px;",""],2*c.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "}))},19395:function(e,n,t){"use strict";t.d(n,{IJ:function(){return d},Vx:function(){return f},eI:function(){return a},gU:function(){return h},tL:function(){return p},vJ:function(){return m}});var r,i,o=t(82394),u=t(92083),l=t.n(u);function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function d(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t=n.block_uuid,r=n.completed_at,i=n.started_at,u=n.status,c=null;i&&r&&(c=l()(r).valueOf()-l()(i).valueOf());return s(s({},e),{},(0,o.Z)({},t,{runtime:c,status:u}))}),{})}function a(e){if(!e)return null;var n=new Date(l()(e).valueOf()),t=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds());return new Date(t)}function f(e){return"string"!==typeof e?e:a(e.split("+")[0]).toISOString().split(".")[0]}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(i||(i={}));var p=(r={},(0,o.Z)(r,i.DAY,86400),(0,o.Z)(r,i.HOUR,3600),(0,o.Z)(r,i.MINUTE,60),(0,o.Z)(r,i.SECOND,1),r);function h(e){var n=i.SECOND,t=e;return e%86400===0?(t/=86400,n=i.DAY):e%3600===0?(t/=3600,n=i.HOUR):e%60===0&&(t/=60,n=i.MINUTE),{time:t,unit:n}}function m(e,n){return e*p[n]}},82635:function(e,n,t){"use strict";var r,i;t.d(n,{Gi:function(){return i},jU:function(){return u},uF:function(){return r}}),function(e){e.BUSY="busy",e.IDLE="idle",e.QUEUED="queued"}(r||(r={})),function(e){e.IMAGE_PNG="image/png",e.PROGRESS="progress",e.TABLE="table",e.TEXT="text",e.TEXT_HTML="text/html",e.TEXT_PLAIN="text/plain"}(i||(i={}));var o,u=[i.TEXT,i.TEXT_PLAIN];!function(e){e.DISPLAY_DATA="display_data",e.STATUS="status",e.STREAM="stream",e.STREAM_PIPELINE="stream_pipeline"}(o||(o={}))},47409:function(e,n,t){"use strict";t.d(n,{D:function(){return u},V:function(){return o}});var r,i=t(82394),o=t(66050).V,u=(r={},(0,i.Z)(r,o.CANCELLED,"Cancelled"),(0,i.Z)(r,o.COMPLETED,"Done"),(0,i.Z)(r,o.FAILED,"Failed"),(0,i.Z)(r,o.INITIAL,"Ready"),(0,i.Z)(r,o.RUNNING,"Running"),r)},23588:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return L}});var r=t(77837),i=t(75582),o=t(82394),u=t(38860),l=t.n(u),c=t(82684),s=t(83455),d=t(27125),a=t(60328),f=t(34744),p=t(87372),h=t(60547),m=t(47409),v=t(41788),b=t(86673),g=t(82531),y=t(26304),O=t(62976),j=t(86532),x=t(67971),w=t(54283),Z=t(19711),P=t(82635),k=t(64155),E=t(19395),_=t(90211),S=t(28598),I=["blockRuns","columns","dataType","height","heightOffset","loadingData","pipeline","renderColumnHeader","rows","selectedRun","textData"];function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function D(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var N=t(59920),M=t(49125),T=t(96510),H=t(66653);function R(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?R(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):R(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function B(e){var n,t=e.pipeline,r=e.pipelineRun,o=(0,c.useState)(),u=o[0],l=o[1],v=(0,c.useState)(null),C=v[0],R=v[1],B=t.uuid,L=g.ZP.pipelines.detail(B,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,U=(0,c.useMemo)((function(){return A(A({},null===L||void 0===L?void 0:L.pipeline),{},{uuid:B})}),[L,B]),W=g.ZP.pipeline_runs.detail(r.id,{},{refreshInterval:3e3,revalidateOnFocus:!0}).data,F=(0,c.useMemo)((function(){return null===W||void 0===W?void 0:W.pipeline_run}),[W]),V=(0,s.Db)(g.ZP.pipeline_runs.useUpdate(null===F||void 0===F?void 0:F.id),{onSuccess:function(e){return(0,T.wD)(e,{onErrorCallback:function(e,n){return R({errors:n,response:e})}})}}),G=(0,i.Z)(V,2),z=G[0],X=G[1].isLoading,q=g.ZP.outputs.block_runs.list(null===u||void 0===u?void 0:u.id),J=q.data,Y=q.loading,K=(null===J||void 0===J||null===(n=J.outputs)||void 0===n?void 0:n[0])||{},Q=K.sample_data,$=K.text_data,ee=K.type,ne=(0,c.useMemo)((function(){return null===F||void 0===F?void 0:F.block_runs}),[F]),te=((null===Q||void 0===Q?void 0:Q.columns)||[]).slice(0,40),re=(null===Q||void 0===Q?void 0:Q.rows)||[],ie=(0,c.useMemo)((function(){return(0,S.jsx)(d.Z,{blockRuns:ne,onClickRow:function(e){return l((function(n){var t=ne[e];return(null===n||void 0===n?void 0:n.id)!==t.id?t:null}))},pipeline:U,selectedRun:u})}),[ne,U,u]);return(0,S.jsxs)(h.Z,{breadcrumbs:[{label:function(){return"Runs"},linkProps:{as:"/pipelines/".concat(B,"/runs"),href:"/pipelines/[pipeline]/runs"}},{label:function(){return null===F||void 0===F?void 0:F.execution_date}}],buildSidekick:function(e){return function(e){var n=e.blockRuns,t=e.columns,r=e.dataType,i=e.height,o=e.heightOffset,u=e.loadingData,l=e.pipeline,c=e.renderColumnHeader,s=e.rows,d=e.selectedRun,a=e.textData,f=D({},(0,y.Z)(e,I));f.blockStatus=(0,E.IJ)(n);var h=(0,S.jsx)(b.Z,{ml:2,children:(0,S.jsx)(Z.ZP,{children:"This block run has no output."})}),m=s&&s.length>0?(0,S.jsx)(O.Z,{columnHeaderHeight:c?k.Eh:0,columns:t,height:i-o-90,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,renderColumnHeader:c,rows:s}):h,v=(0,_.Pb)(a)?JSON.stringify(JSON.parse(a),null,2):a,g=a?(0,S.jsx)(b.Z,{ml:2,children:(0,S.jsx)(Z.ZP,{monospace:!0,children:(0,S.jsx)("pre",{children:v})})}):h;return(0,S.jsxs)(S.Fragment,{children:[!d&&(0,S.jsx)(j.Z,D(D({},f),{},{height:i,heightOffset:o||0,pipeline:l})),d&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(b.Z,{pl:2,py:3,style:{position:"fixed"},children:(0,S.jsx)(p.Z,{level:4,muted:!0,children:"Block Output"})}),(0,S.jsxs)("div",{style:{position:"relative",top:"75px"},children:[u&&(0,S.jsx)(b.Z,{mt:2,children:(0,S.jsx)(x.Z,{alignItems:"center",fullWidth:!0,justifyContent:"center",children:(0,S.jsx)(w.Z,{color:"white",large:!0})})}),!u&&r===P.Gi.TABLE&&m,!u&&r!==P.Gi.TABLE&&g]})]})]})}(A(A({},e),{},{blockRuns:ne,columns:te,dataType:ee,loadingData:Y,rows:re,selectedRun:u,showDynamicBlocks:!0,textData:$}))},errors:C,pageName:N.M.RUNS,pipeline:U,setErrors:R,subheader:(null===F||void 0===F?void 0:F.status)&&F.status!==m.V.COMPLETED&&(0,S.jsx)(a.Z,{danger:!0,loading:X,onClick:function(e){(0,H.j)(e),z({pipeline_run:{pipeline_run_action:"retry_blocks"}})},outline:!0,children:"Retry incomplete blocks"}),title:function(e){var n=e.name;return"".concat(n," runs")},uuid:"".concat(N.M.RUNS,"_").concat(B,"_").concat(null===F||void 0===F?void 0:F.id),children:[(0,S.jsx)(b.Z,{mt:M.cd,px:M.cd,children:(0,S.jsx)(p.Z,{level:5,children:"Block runs"})}),(0,S.jsx)(f.Z,{light:!0,mt:M.cd,short:!0}),ie]})}B.getInitialProps=function(){var e=(0,r.Z)(l().mark((function e(n){var t,r,i;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query,r=t.pipeline,i=t.run,e.abrupt("return",{pipeline:{uuid:r},pipelineRun:{id:i}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var L=(0,v.Z)(B)},39525:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/runs/[run]",function(){return t(23588)}])}},function(e){e.O(0,[3850,5716,5896,4804,1774,5872,2125,2344,4506,6166,8180,6214,6532,1286,9774,2888,179],(function(){return n=39525,e(e.s=n);var n}));var n=e.O();_N_E=n}]);