(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4249],{61386:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=o.default,i=(null==n?void 0:n.suspense)?{}:{loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?i.loader=function(){return e}:"function"===typeof e?i.loader=e:"object"===typeof e&&(i=r({},i,e));!1;(i=r({},i,n)).suspense&&(delete i.ssr,delete i.loading);i.loadableGenerated&&delete(i=r({},i,i.loadableGenerated)).loadableGenerated;if("boolean"===typeof i.ssr&&!i.suspense){if(!i.ssr)return delete i.ssr,a(t,i);delete i.ssr}return t(i)},n.noSSR=a;var r=t(54363).Z,i=t(4858).Z,o=(i(t(82684)),i(t(41800)));function a(e,n){return delete n.webpack,delete n.modules,e(n)}("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&"undefined"===typeof n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},88124:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoadableContext=void 0;var r=(0,t(4858).Z)(t(82684)).default.createContext(null);n.LoadableContext=r},41800:function(e,n,t){"use strict";var r=t(71539),i=t(66745);function o(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return a(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return a(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,u=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return u=e.done,e},e:function(e){l=!0,o=e},f:function(){try{u||null==t.return||t.return()}finally{if(l)throw o}}}}function a(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var u=t(54363).Z,l=(0,t(4858).Z)(t(82684)),c=t(88124),s=t(82684).useSyncExternalStore,d=[],f=[],p=!1;function h(e){var n=e(),t={loading:!0,loaded:null,error:null};return t.promise=n.then((function(e){return t.loading=!1,t.loaded=e,e})).catch((function(e){throw t.loading=!1,t.error=e,e})),t}var g=function(){function e(n,t){r(this,e),this._loadFn=n,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var n=this._res,t=this._opts;n.loading&&("number"===typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),t.delay)),"number"===typeof t.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),t.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(n){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=u({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var n=this;return this._callbacks.add(e),function(){n._callbacks.delete(e)}}}]),e}();function b(e){return function(e,n){var t=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},n);t.suspense&&(t.lazy=l.default.lazy(t.loader));var r=null;function i(){if(!r){var n=new g(e,t);r={getCurrentValue:n.getCurrentValue.bind(n),subscribe:n.subscribe.bind(n),retry:n.retry.bind(n),promise:n.promise.bind(n)}}return r.promise()}if(!p){var a=t.webpack?t.webpack():t.modules;a&&f.push((function(e){var n,t=o(a);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(-1!==e.indexOf(r))return i()}}catch(u){t.e(u)}finally{t.f()}}))}function d(){i();var e=l.default.useContext(c.LoadableContext);e&&Array.isArray(t.modules)&&t.modules.forEach((function(n){e(n)}))}var h=t.suspense?function(e,n){return d(),l.default.createElement(t.lazy,u({},e,{ref:n}))}:function(e,n){d();var i=s(r.subscribe,r.getCurrentValue,r.getCurrentValue);return l.default.useImperativeHandle(n,(function(){return{retry:r.retry}}),[]),l.default.useMemo((function(){return i.loading||i.error?l.default.createElement(t.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:r.retry}):i.loaded?l.default.createElement((n=i.loaded)&&n.__esModule?n.default:n,e):null;var n}),[e,i])};return h.preload=function(){return i()},h.displayName="LoadableComponent",l.default.forwardRef(h)}(h,e)}function v(e,n){for(var t=[];e.length;){var r=e.pop();t.push(r(n))}return Promise.all(t).then((function(){if(e.length)return v(e,n)}))}b.preloadAll=function(){return new Promise((function(e,n){v(d).then(e,n)}))},b.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(n){var t=function(){return p=!0,n()};v(f,e).then(t,t)}))},window.__NEXT_PRELOADREADY=b.preloadReady;var m=b;n.default=m},51774:function(e,n,t){e.exports=t(61386)},8916:function(e,n,t){"use strict";t.d(n,{FS:function(){return l},JZ:function(){return s},e7:function(){return d},wx:function(){return c}});var r=t(75582),i=t(82394),o=t(30229);function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function u(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e){return"string"===typeof e?e:JSON.stringify(e)}function c(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return u(u({},e),{},{value:l(n)})}))}function s(e,n){return n===o.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===o.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function d(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),o=t[0],a=t[1],l=a;try{l=JSON.parse(a)}catch(c){}return u(u({},e),{},(0,i.Z)({},o,l))}),{}):e}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),o=t(38276),a=t(31748),u=t(72473),l=t(79633),c=t(70515),s=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=t;if(h>f)p=Array.from({length:f},(function(e,n){return n}));else{var g=Math.floor(h/2),b=n-g;n+g>=f?(b=f-h+2,h-=2):n-g<=0?(b=0,h-=2):(h-=4,b=n-Math.floor(h/2)),p=Array.from({length:h},(function(e,n){return n+b}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.Z,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(u.Hd,{size:1.5*c.iI,stroke:a.Av})}),!p.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{backgroundColor:e===n&&l.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!p.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(r.Z,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(u.Kw,{size:1.5*c.iI,stroke:a.Av})})]})})}},30229:function(e,n,t){"use strict";t.d(n,{TR:function(){return d},U5:function(){return l},Xm:function(){return o},Z4:function(){return s},fq:function(){return u},kJ:function(){return c}});var r,i,o,a=t(82394);!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(o||(o={}));var u,l,c,s=(r={},(0,a.Z)(r,o.API,(function(){return"API"})),(0,a.Z)(r,o.EVENT,(function(){return"event"})),(0,a.Z)(r,o.TIME,(function(){return"schedule"})),r);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(u||(u={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly"}(l||(l={})),function(e){e.CREATED_AT="created_at",e.NAME="name",e.PIPELINE="pipeline_uuid",e.STATUS="status",e.TYPE="schedule_type"}(c||(c={}));var d=(i={},(0,a.Z)(i,c.CREATED_AT,"Created at"),(0,a.Z)(i,c.NAME,"Name"),(0,a.Z)(i,c.PIPELINE,"Pipeline"),(0,a.Z)(i,c.STATUS,"Status"),(0,a.Z)(i,c.TYPE,"Type"),i)},83784:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var r="global"},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),o=t(38276),a=t(30160),u=t(44897),l=t(42631),c=t(47041),s=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),p=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],l.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||u.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||u.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||u.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||u.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],l.n_,l.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||u.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),g=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,c.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),b=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],l.M8,l.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,u=e.contentContainerRef,l=e.dark,c=e.footer,s=e.fullHeight,f=void 0===s||s,v=e.fullWidth,m=void 0===v||v,x=e.header,y=e.headerHeight,j=e.headerIcon,_=e.headerPaddingVertical,Z=e.headerTitle,P=e.maxHeight,w=e.maxWidth,O=e.minWidth,k=e.noPadding,C=e.overflowVisible,I=e.subtitle,S=e.success;return(0,d.jsxs)(p,{borderless:n,dark:l,fullHeight:f,fullWidth:m,maxHeight:P,maxWidth:w,minWidth:O,overflowVisible:C,ref:r,success:S,children:[(x||Z)&&(0,d.jsxs)(h,{headerPaddingVertical:_,height:y,children:[x&&x,Z&&(0,d.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.ZP,{alignItems:"center",children:[j&&j,(0,d.jsx)(o.Z,{ml:j?1:0,children:(0,d.jsx)(a.ZP,{bold:!0,default:!0,children:Z})})]})})]}),(0,d.jsxs)(g,{maxHeight:P,noPadding:k,overflowVisible:C,ref:u,children:[I&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(a.ZP,{default:!0,children:I})}),t]}),c&&(0,d.jsx)(b,{children:c})]})}},72191:function(e,n,t){"use strict";t.d(n,{bL:function(){return i},l2:function(){return o}});var r=t(70515),i=(r.iI,2*r.iI),o=(r.iI,3*r.iI)},23706:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return fe}});var r=t(77837),i=t(82394),o=t(75582),a=t(38860),u=t.n(a),l=t(12691),c=t.n(l),s=t(82684),d=t(83455),f=t(34376),p=t(71180),h=t(17586),g=t(15338),b=t(55485),v=t(85854),m=t(93369),x=t(48670),y=t(55072),j=t(75457),_=t(30229),Z=t(93808),P=t(65956),w=t(38276),O=t(75499),k=t(30160),C=t(35576),I=t(17488),S=t(69650),E=t(44897),T=t(38626),A=t(42631),N=t(70515),M=T.default.div.withConfig({displayName:"indexstyle__ToggleStyle",componentId:"sc-f9kt7n-0"})(["padding:","px ","px;border-radius:","px;",""],1.5*N.iI,2*N.iI,A.n_,(function(e){return"\n    border: 1px solid ".concat((e.theme||E.Z).borders.light,";\n    background-color: ").concat((e.theme||E.Z).background.popup,";\n  ")})),D=t(31098),V=t(8916),R=t(28598);function H(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?H(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F="".concat(N.iI,"px ").concat(3*N.iI,"px");var W=function(e){var n=e.initialPipelineSchedulePayload,t=e.onCancel,r=e.onSuccess,a=e.variables,u=(0,s.useState)(!1),l=u[0],c=u[1],d=(0,s.useState)({}),f=d[0],h=d[1],g=(0,s.useState)(a||{}),m=g[0],x=g[1],y=(0,s.useMemo)((function(){return L(L({},n),{},{name:(0,D.Y6)(),variables:l?(0,V.e7)(m):null})}),[n,l,m]),j=function(e,n){var t={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),x((function(t){return L(L({},t),{},(0,i.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return f[e]?(0,R.jsx)(C.Z,L(L({},t),{},{rows:1,value:n})):(0,R.jsx)(I.Z,L({},t))};return(0,s.useEffect)((function(){var e=Object.entries(m).reduce((function(e,n){var t=(0,o.Z)(n,2),r=t[0],a=t[1],u=(0,D.Pb)(a)&&"object"===typeof JSON.parse(a)&&!Array.isArray(JSON.parse(a))&&null!==JSON.parse(a);return L(L({},e),{},(0,i.Z)({},r,u))}),{});h(e)}),[]),(0,R.jsxs)(P.Z,{footer:(0,R.jsxs)(b.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,R.jsx)(p.Z,{onClick:function(){r({pipeline_schedule:y}),t()},padding:F,primaryAlternate:!0,children:"Run now"}),(0,R.jsx)(w.Z,{mr:1}),(0,R.jsx)(p.Z,{borderColor:E.Z.background.page,onClick:t,padding:F,secondary:!0,children:"Cancel"})]}),header:(0,R.jsx)(v.Z,{level:5,children:"Run pipeline now"}),maxHeight:"90vh",minWidth:85*N.iI,subtitle:"Creates a new trigger and immediately runs the current pipeline once.",children:[(0,R.jsx)(M,{children:(0,R.jsxs)(b.ZP,{alignItems:"center",children:[(0,R.jsx)(w.Z,{mr:2,children:(0,R.jsx)(S.Z,{checked:l,onCheck:c})}),(0,R.jsx)(k.ZP,{bold:!0,large:!0,children:"Overwrite runtime variables"})]})}),l&&m&&Object.entries(m).length>0&&(0,R.jsx)(w.Z,{mt:2,children:(0,R.jsx)(O.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(m).map((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1];return[(0,R.jsx)(k.ZP,{default:!0,monospace:!0,children:t},"variable_".concat(t)),j(t,r)]}))})})]})},B=t(47041),Y=T.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1xgfh62-0"})(["border-bottom:1px solid ",";padding:","px;"],E.Z.borders.medium,N.tr),z=T.default.div.withConfig({displayName:"indexstyle__CardsStyle",componentId:"sc-1xgfh62-1"})([""," height:80px;display:flex;overflow-x:scroll;"],B.w5),J=T.default.div.withConfig({displayName:"indexstyle__VariableCardStyle",componentId:"sc-1xgfh62-2"})(["background-color:",";border-radius:","px;flex-shrink:0;margin-right:","px;padding:","px;"],E.Z.background.output,A.n_,N.iI,N.tr),U=t(79633);var G=function(e){var n=e.hasOverride,t=e.scheduleType,r=e.variables,i=e.variablesOverride,a=[];return Object.entries(r).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0],r=n[1],u=null===i||void 0===i?void 0:i[t];a.push({uuid:t,value:(0,V.FS)(u||r)})})),(0,V.JZ)(a,t),(0,R.jsxs)(Y,{children:[(0,R.jsx)(w.Z,{mb:2,children:(0,R.jsxs)(k.ZP,{bold:!0,large:!0,monospace:!0,muted:!0,children:["Runtime variables",n&&" (override)"]})}),(0,R.jsx)(z,{noScrollbarTrackBackground:!0,children:r&&a.map((function(e){var n=e.uuid,t=e.value;return(0,R.jsxs)(J,{children:[(0,R.jsx)(k.ZP,{monospace:!0,small:!0,children:n}),(0,R.jsx)(k.ZP,{color:U.Or,monospace:!0,small:!0,children:(0,V.FS)(t)})]})}))})]})},Q=t(4190),X=t(12468),q=t(31743),K=t(35686),$=t(72473),ee=t(83784),ne=t(28795),te=t(3917),re=t(86735),ie=t(42122),oe=t(50178),ae=t(72619),ue=t(69419),le=t(89538);function ce(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function se(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ce(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ce(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function de(e){var n=e.pipeline,t=(0,f.useRouter)(),r=(0,oe.Ct)(),a=n.uuid,u=(0,s.useState)(null),l=u[0],Z=u[1],P=K.ZP.variables.pipelines.list(a,{global_only:!0},{revalidateOnFocus:!1}).data,O=null===P||void 0===P?void 0:P.variables,C=(0,ue.iV)(),I=null!==C&&void 0!==C&&C.page?C.page:0,S=K.ZP.pipeline_schedules.pipelines.list(a,{_limit:y.Q,_offset:(null!==C&&void 0!==C&&C.page?C.page:0)*y.Q},{refreshInterval:7500}),E=S.data,T=S.mutate,A=(0,s.useMemo)((function(){return(null===E||void 0===E?void 0:E.pipeline_schedules)||[]}),[E]),M=function(e){return(0,d.Db)(K.ZP.pipeline_schedules.pipelines.useCreate(a),{onSuccess:function(n){return(0,ae.wD)(n,{callback:function(n){var t=n.pipeline_schedule.id;null===e||void 0===e||e(t)},onErrorCallback:function(e,n){return Z({errors:n,response:e})}})}})},H=M((function(e){return t.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===n||void 0===n?void 0:n.uuid,"/triggers/").concat(e,"/edit"))})),L=(0,o.Z)(H,2),F=L[0],B=L[1].isLoading,Y=M(T),z=(0,o.Z)(Y,2),J=z[0],U=z[1].isLoading,ce=(0,s.useMemo)((function(){var e;return null===(e=(0,V.wx)(O,(function(e){return e.uuid===ee.C})))||void 0===e?void 0:e.reduce((function(e,n){var t=n.uuid,r=n.value;return se(se({},e),{},(0,i.Z)({},t,r))}),{})}),[O]),de={name:(0,D.Y6)(),schedule_interval:_.U5.ONCE,schedule_type:_.Xm.TIME,start_time:(0,te.d$)((new Date).toISOString(),{dayAgo:!0,utcFormat:!0}),status:_.fq.ACTIVE},fe=(0,le.dd)((function(){return(0,R.jsx)(W,{initialPipelineSchedulePayload:de,onCancel:ge,onSuccess:J,variables:ce})}),{},[O,ce],{background:!0,uuid:"run_pipeline_now_popup"}),pe=(0,o.Z)(fe,2),he=pe[0],ge=pe[1],be=(0,s.useState)(),ve=be[0],me=be[1],xe=(0,s.useMemo)((function(){var e=null===ve||void 0===ve?void 0:ve.variables,n=!(0,ie.Qr)(e),t=n?null===ve||void 0===ve?void 0:ve.variables:(0,ie.Qr)(ce)?null:ce;return function(i){var o=i.height-(t?151:80);return(0,R.jsxs)(R.Fragment,{children:[t&&(0,R.jsx)(G,{hasOverride:n,scheduleType:null===ve||void 0===ve?void 0:ve.schedule_type,variables:ce,variablesOverride:e}),!t&&(0,R.jsxs)(w.Z,{p:N.cd,children:[(0,R.jsx)(k.ZP,{children:"This pipeline has no runtime variables."}),!r&&(0,R.jsxs)(w.Z,{mt:1,children:[(0,R.jsx)(c(),{as:"/pipelines/".concat(a,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,R.jsx)(x.Z,{primary:!0,children:"Click here"})})," ",(0,R.jsx)(k.ZP,{inline:!0,children:"to add variables to this pipeline."})]})]}),(0,R.jsx)(h.Z,se(se({},i),{},{height:o,noStatus:!0}))]})}}),[r,a,null===ve||void 0===ve?void 0:ve.schedule_type,null===ve||void 0===ve?void 0:ve.variables,ce]),ye=(0,s.useMemo)((function(){var e;return(null===E||void 0===E||null===(e=E.metadata)||void 0===e?void 0:e.count)||[]}),[E]),je=K.ZP.pipeline_triggers.pipelines.list(a),_e=je.data,Ze=(je.mutate,(0,s.useMemo)((function(){return(0,re.HK)((null===_e||void 0===_e?void 0:_e.pipeline_triggers)||[],(function(e){return e.name}))}),[_e]));return(0,R.jsxs)(j.Z,{breadcrumbs:[{label:function(){return"Triggers"}}],buildSidekick:xe,errors:l,pageName:ne.M.TRIGGERS,pipeline:n,setErrors:Z,subheaderBackgroundImage:"".concat(t.basePath,"/images/banner-shape-purple-peach.jpg"),subheaderButton:(0,R.jsx)(m.ZP,{beforeElement:(0,R.jsx)($.mm,{size:2.5*N.iI}),blackBorder:!0,inline:!0,loading:B,noHoverUnderline:!0,onClick:function(){return F({pipeline_schedule:{name:(0,D.Y6)()}})},sameColorAsText:!0,uuid:"PipelineDetailPage/add_new_schedule",children:"Create new trigger"}),subheaderText:(0,R.jsx)(k.ZP,{bold:!0,large:!0,children:"Run this pipeline using a schedule, event, or API."}),title:function(e){var n=e.name;return"".concat(n," triggers")},uuid:"".concat(ne.M.TRIGGERS,"_").concat(a),children:[(0,R.jsx)(w.Z,{mt:N.cd,px:N.cd,children:(0,R.jsxs)(b.ZP,{justifyContent:"space-between",children:[(0,R.jsx)(v.Z,{level:5,children:"Pipeline triggers"}),(0,R.jsx)(X.Z,{appearBefore:!0,default:!0,fullSize:!0,label:"Creates an @once trigger and runs pipeline immediately",widthFitContent:!0,children:(0,R.jsx)(p.Z,{beforeIcon:(0,R.jsx)($.JM,{inverted:!0,size:2*N.iI}),disabled:r,loading:U,onClick:(0,ie.Qr)(ce)?function(){return J({pipeline_schedule:de})}:he,outline:!0,success:!r,children:"Run pipeline now"})})]})}),(0,R.jsx)(g.Z,{light:!0,mt:N.cd,short:!0}),E?(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(q.Z,{fetchPipelineSchedules:T,pipeline:n,pipelineSchedules:A,pipelineTriggersByName:Ze,selectedSchedule:ve,setErrors:Z,setSelectedSchedule:me}),(0,R.jsx)(w.Z,{p:2,children:(0,R.jsx)(y.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),r=se(se({},C),{},{page:n>=0?n:0});t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(a,"/triggers?").concat((0,ue.uM)(r)))},page:Number(I),totalPages:Math.ceil(ye/y.Q)})})]}):(0,R.jsx)(w.Z,{m:2,children:(0,R.jsx)(Q.Z,{inverted:!0})})]})}de.getInitialProps=function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var fe=(0,Z.Z)(de)},40183:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers",function(){return t(23706)}])}},function(e){e.O(0,[844,9902,426,9696,8264,5499,5347,5457,7586,1743,9774,2888,179],(function(){return n=40183,e(e.s=n);var n}));var n=e.O();_N_E=n}]);