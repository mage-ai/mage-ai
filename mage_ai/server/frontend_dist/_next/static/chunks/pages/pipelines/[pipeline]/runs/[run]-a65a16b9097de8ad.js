(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8662],{28108:function(t,e,n){"use strict";n.d(e,{Z:function(){return m}});var r=n(82684),i=n(63588),o=n.n(i),u=n(75823),a=n(29989),c=n(62072),l=n(53989),s=n(49894),d=n(18246),f=n(59309),p=n(65743),h=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function v(){return v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v.apply(this,arguments)}function m(t){var e=t.data,n=t.className,i=t.top,m=t.left,g=t.y,b=t.x0,y=void 0===b?c.l8:b,x=t.x1,j=void 0===x?c.xf:x,O=t.xScale,Z=t.yScale,w=t.color,k=t.keys,E=t.value,T=t.order,P=t.offset,S=t.children,I=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,h),A=(0,u.Z)();k&&A.keys(k),E&&(0,s.Z)(A.value,E),T&&A.order((0,d.ZP)(T)),P&&A.offset((0,f.ZP)(P));var D=A(e),_=(0,l.Z)(Z),L=D.map((function(t,e){var n=t.key;return{index:e,key:n,bars:t.map((function(e,r){var i=(O(j(e))||0)-(O(y(e))||0),o=O(y(e)),u="bandwidth"in Z?Z(g(e.data)):Math.max((Z(g(e.data))||0)-i/2);return{bar:e,key:n,index:r,height:_,width:i,x:o||0,y:u||0,color:w(t.key,r)}}))}}));return S?r.createElement(r.Fragment,null,S(L)):r.createElement(a.Z,{className:o()("visx-bar-stack-horizontal",n),top:i,left:m},L.map((function(t){return t.bars.map((function(e){return r.createElement(p.Z,v({key:"bar-stack-"+t.index+"-"+e.index,x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color},I))}))})))}},62072:function(t,e,n){"use strict";function r(t){return null==t?void 0:t[0]}function i(t){return null==t?void 0:t[1]}n.d(e,{l8:function(){return r},xf:function(){return i}})},59309:function(t,e,n){"use strict";n.d(e,{ZP:function(){return l}});var r=n(12759),i=n(27500),o=n(82610),u=n(34812),a=n(77944),c={expand:r.Z,diverging:i.Z,none:o.Z,silhouette:u.Z,wiggle:a.Z};Object.keys(c);function l(t){return t&&c[t]||c.none}},18246:function(t,e,n){"use strict";n.d(e,{ZP:function(){return l}});var r=n(39586),i=n(25516),o=n(54164),u=n(8512),a=n(2010),c={ascending:r.Z,descending:i.Z,insideout:o.Z,none:u.Z,reverse:a.Z};Object.keys(c);function l(t){return t&&c[t]||c.none}},93859:function(t,e,n){"use strict";n.d(e,{r:function(){return I},Z:function(){return L}});var r=n(82394),i=n(21831),o=n(82684),u=n(48670),a=n(12691),c=n.n(a),l=n(38626),s=n(78141),d=n(44628),f=n(6508),p=n(55485),h=n(30160),v=n(44897),m=n(70987),g=function(){var t=document.createElement("div");t.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(t);var e=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),e},b=n(95363),y=n(61896),x=n(47041),j=n(48888),O=n(70515),Z=n(40489),w=n(86735),k=n(28598);function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function T(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){(0,r.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var P=2*O.iI+y.dN,S=20*O.iI,I=8.7,A=l.default.div.withConfig({displayName:"DataTable__Styles",componentId:"sc-1arr863-0"})([""," "," "," .body > div{","}.table{border-spacing:0;display:inline-block;"," "," "," "," .tr{.td.td-index-column{","}}.th{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;","}.th,.td{"," font-family:",";margin:0;","}.td{padding:","px;}&.sticky{overflow:auto;}.header{overflow:hidden;}}"],(function(t){return t.disableScrolling&&"\n    overflow: hidden;\n  "}),(function(t){return t.height&&"\n    height: ".concat(t.height,"px;\n  ")}),(function(t){return t.maxHeight&&"\n    max-height: ".concat(t.maxHeight,"px;\n  ")}),x.w5,(function(t){return!t.noBorderBottom&&"\n      border-bottom: 1px solid ".concat((t.theme.borders||m.Z.borders).medium,";\n    ")}),(function(t){return!t.noBorderLeft&&"\n      border-left: 1px solid ".concat((t.theme.borders||m.Z.borders).medium,";\n    ")}),(function(t){return!t.noBorderRight&&"\n      border-right: 1px solid ".concat((t.theme.borders||m.Z.borders).medium,";\n    ")}),(function(t){return!t.noBorderTop&&"\n      border-top: 1px solid ".concat((t.theme.borders||m.Z.borders).medium,";\n    ")}),(function(t){return"\n          color: ".concat((t.theme.content||m.Z.content).default,";\n        ")}),(function(t){return"\n        height: ".concat(t.columnHeaderHeight||P,"px;\n      ")}),y.iD,b.ry,(function(t){return"\n        background-color: ".concat((t.theme.background||m.Z.background).table,";\n        border-bottom: 1px solid ").concat((t.theme.borders||m.Z.borders).medium,";\n        border-right: 1px solid ").concat((t.theme.borders||m.Z.borders).medium,";\n      ")}),1*O.iI);function D(t){var e=t.original,n=8.5*Math.max.apply(Math,(0,i.Z)(e.map((function(t){return(null===t||void 0===t?void 0:t.length)||0})))),r=Math.ceil(n/(S-2*O.iI));return Math.max(r,1)*y.dN+2*O.iI}function _(t){var e=t.columnHeaderHeight,n=t.columns,r=t.data,a=t.disableScrolling,x=t.height,E=t.index,A=t.invalidValues,_=t.maxHeight,L=t.numberOfIndexes,M=t.previewIndexes,C=t.renderColumnHeader,N=t.width,R=(0,o.useContext)(l.ThemeContext),H=(0,o.useRef)(null),Y=(0,o.useRef)(null);(0,o.useEffect)((function(){var t=function(t){var e;null===H||void 0===H||null===(e=H.current)||void 0===e||e.scroll(t.target.scrollLeft,0)};return Y&&Y.current.addEventListener("scroll",t),function(){var e;null===Y||void 0===Y||null===(e=Y.current)||void 0===e||e.removeEventListener("scroll",t)}}),[H,Y]);var U=(0,o.useMemo)((function(){return E&&r&&E.length===r.length}),[r,E]),B=(0,o.useMemo)((function(){var t=[];return(0,w.w6)(L).forEach((function(e,n){var o=String(null===r||void 0===r?void 0:r.length).length*I;if(U){var u=E.map((function(t){return L>=2?String(t[n]).length:String(t).length}));o=Math.max.apply(Math,(0,i.Z)(u))*I}t.push(o+2*O.iI)})),t}),[r,E,L,U]),V=n.map((function(t){return null===t||void 0===t?void 0:t.Header})).slice(1),F=(0,o.useMemo)((function(){return g()}),[]),z=(0,o.useMemo)((function(){var t=N-(Math.max.apply(Math,(0,i.Z)(B))+1.5*O.iI+F),e=n.length-1,r=S;return r*e<t&&(r=t/e),{width:r}}),[n,B,F,N]),G=(0,d.useTable)({columns:n,data:r,defaultColumn:z},d.useBlockLayout,f.useSticky),X=G.getTableBodyProps,W=G.getTableProps,J=G.headerGroups,q=G.prepareRow,K=G.rows,Q=(0,o.useCallback)((function(t){var e=t.index,n=t.style,r=new Set((null===M||void 0===M?void 0:M.removedRows)||[]),i=K[e];q(i);var a=i.original,l=r.has(e);return(0,k.jsx)("div",T(T({},i.getRowProps({style:T(T({},n),{},{width:"auto"})})),{},{className:"tr",children:i.cells.map((function(t,n){var r,i=n<=L-1,s=t.getCellProps(),d=t.column.id,f=null===A||void 0===A||null===(r=A[d])||void 0===r?void 0:r.includes(e),v=T({},s.style);i&&(v.fontFamily=b.Vp,v.left=0,v.position="sticky",v.textAlign=E?"right":"center",v.width=B[n]);var g,y=a[n-L],x=V.indexOf(d);if(f&&(v.color=m.Z.interactive.dangerBorder),l&&(v.backgroundColor=m.Z.background.danger),Array.isArray(y)||"object"===typeof y)try{y=JSON.stringify(y)}catch(O){y="Error: cannot display value"}return i&&(U?(g=E[e],Array.isArray(g)&&(g=g[n])):g=t.render("Cell")),(0,o.createElement)("div",T(T({},s),{},{className:"td ".concat(i?"td-index-column":""),key:"".concat(n,"-").concat(y),style:v}),g,!i&&(0,k.jsxs)(p.ZP,{justifyContent:"space-between",children:[(0,k.jsxs)(h.ZP,{danger:f,default:!0,wordBreak:!0,children:[!0===y&&"true",!1===y&&"false",(null===y||"null"===y)&&"null",!0!==y&&!1!==y&&null!==y&&"null"!==y&&y]}),f&&(0,k.jsx)(c(),{as:(0,Z.o_)(j.mW,x),href:"/datasets/[...slug]",passHref:!0,children:(0,k.jsx)(u.Z,{danger:!0,children:"View all"})})]}))}))}))}),[V,E,A,B,L,q,K,U,M]),$=(0,o.useMemo)((function(){var t;return _?(t=(0,w.Sm)(K.map(D)),t+=e||P-y.dN):(t=x,t-=e||P),t}),[e,x,_,K]),tt=(0,o.useMemo)((function(){return(0,k.jsx)(s.S_,{estimatedItemSize:P,height:$,itemCount:null===K||void 0===K?void 0:K.length,itemSize:function(t){return D(K[t])},outerRef:Y,style:{maxHeight:_,pointerEvents:a?"none":null},children:Q})}),[a,$,_,Q,K]);return(0,k.jsx)("div",T(T({},W()),{},{className:"table sticky",style:{width:N},children:(0,k.jsxs)("div",T(T({},X()),{},{className:"body",children:[(0,k.jsx)("div",{className:"header",ref:H,children:J.map((function(t,e){return(0,o.createElement)("div",T(T({},t.getHeaderGroupProps()),{},{className:"tr",key:"".concat(t.id,"_").concat(e)}),t.headers.map((function(t,e){var n,r=e<=L-1,i=t.getHeaderProps(),u=T({},i.style);return r?(u.fontFamily=b.Vp,u.left=0,u.position="sticky",u.textAlign="center",u.width=B[e],u.minWidth=B[e]):C?n=C(t,e-L,{width:z.width}):(n=t.render("Header"),u.color=(R||v.Z).content.default,u.padding=1*O.iI,u.minWidth=z.width),(0,o.createElement)("div",T(T({},i),{},{className:"th",key:t.id,style:u,title:r?"Row number":void 0}),n)})))}))}),tt]}))}))}var L=function(t){var e=t.columnHeaderHeight,n=t.columns,r=t.disableScrolling,i=t.height,u=t.index,a=t.invalidValues,c=t.maxHeight,l=t.noBorderBottom,s=t.noBorderLeft,d=t.noBorderRight,f=t.noBorderTop,p=t.previewIndexes,h=t.renderColumnHeader,v=t.rows,m=t.width;if(null===n||void 0===n?void 0:n.some((function(t){return""===t})))return null;var g=(0,o.useMemo)((function(){return null!==u&&void 0!==u&&u.length&&Array.isArray(u[0])?u[0].length:1}),[u]),b=(0,o.useMemo)((function(){return(0,w.w6)(g).map((function(t,e){return{Header:(0,w.w6)(e+1).map((function(){return" "})).join(" "),accessor:function(t,e){return e},sticky:"left"}})).concat(null===n||void 0===n?void 0:n.map((function(t){return{Header:String(t),accessor:String(t)}})))}),[n,g]),y=(0,o.useMemo)((function(){return(0,k.jsx)(_,{columnHeaderHeight:e,columns:b,data:v,disableScrolling:r,height:i,index:u,invalidValues:a,maxHeight:c,numberOfIndexes:g,previewIndexes:p,renderColumnHeader:h,width:m})}),[e,b,v,r,i,u,a,c,g,p,h,m]);return(0,k.jsx)(A,{columnHeaderHeight:e,disableScrolling:r,height:i,maxHeight:c?c+37:c,noBorderBottom:l,noBorderLeft:s,noBorderRight:d,noBorderTop:f,children:y})}},66909:function(t,e,n){"use strict";n.d(e,{Eh:function(){return l},t0:function(){return s}});var r=n(38626),i=n(2842),o=n(17679),u=n(61896),a=n(47041),c=n(70515),l=(c.iI,o.O$+3*c.iI+u.dN),s=r.default.div.withConfig({displayName:"indexstyle__SidekickContainerStyle",componentId:"sc-15ofupc-0"})([""," overflow:auto;position:absolute;width:100%;"," ",""],a.w5,(function(t){return"\n    height: calc(100vh - ".concat(i.uX,"px - ").concat(t.heightOffset,"px);\n  ")}),(function(t){return t.overflowHidden&&"\n    overflow: hidden;\n  "}));r.default.div.withConfig({displayName:"indexstyle__PaddingContainerStyle",componentId:"sc-15ofupc-1"})(["padding:","px;",""],2*c.iI,(function(t){return t.noPadding&&"\n    padding: 0;\n  "}))},16488:function(t,e,n){"use strict";n.d(e,{IJ:function(){return v},M8:function(){return k},Uc:function(){return x},XM:function(){return w},_U:function(){return h},eI:function(){return y},gU:function(){return O},lO:function(){return I},ri:function(){return g},tL:function(){return j},vJ:function(){return Z},xH:function(){return b}});var r,i=n(82394),o=n(92083),u=n.n(o),a=n(3917),c=n(4383),l=n(30229),s=n(42122),d=n(86735);function f(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function p(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?f(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var h=function(t){return!!t&&!Object.values(l.U5).includes(t)};function v(t){return null===t||void 0===t?void 0:t.reduce((function(t,e){var n=e.block_uuid,r=e.completed_at,o=e.started_at,a=e.status,c=null;o&&r&&(c=u()(r).valueOf()-u()(o).valueOf());return p(p({},t),{},(0,i.Z)({},n,{runtime:c,status:a}))}),{})}var m,g=function(t){var e=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:l.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:l.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:l.Xm.API}];return t?e.slice(0,1):e};function b(t){var e=(0,s.gR)(t,[l.gm.INTERVAL,l.gm.TYPE]),n=t[l.gm.INTERVAL];n&&(e["schedule_interval[]"]=encodeURIComponent(n));var r=t[l.gm.TYPE];return r&&(e["schedule_type[]"]=r),e}function y(t){return t?new Date(u()(t).valueOf()):null}function x(t,e){return e?(0,a.XG)(t,e):function(t){if("string"!==typeof t)return t;var e=t.split("+")[0];return u()(y(e)).format(a.Nx)}(t)}!function(t){t.DAY="day",t.HOUR="hour",t.MINUTE="minute",t.SECOND="second"}(m||(m={}));var j=(r={},(0,i.Z)(r,m.DAY,86400),(0,i.Z)(r,m.HOUR,3600),(0,i.Z)(r,m.MINUTE,60),(0,i.Z)(r,m.SECOND,1),r);function O(t){var e=m.SECOND,n=t;return t%86400===0?(n/=86400,e=m.DAY):t%3600===0?(n/=3600,e=m.HOUR):t%60===0&&(n/=60,e=m.MINUTE),{time:n,unit:e}}function Z(t,e){return t*j[e]}function w(t,e,n){var r,i=u()(t);return i.set("hour",+(null===e||void 0===e?void 0:e.hour)||0),i.set("minute",+(null===e||void 0===e?void 0:e.minute)||0),i.set("second",0),r=i.format(a.TD),null!==n&&void 0!==n&&n.includeSeconds&&(r=r.concat(":00")),null!==n&&void 0!==n&&n.localTimezone&&(r=i.format(a.lE),null!==n&&void 0!==n&&n.convertToUtc&&(r=(0,a.d$)(r,{includeSeconds:null===n||void 0===n?void 0:n.includeSeconds,utcFormat:!0}))),r}function k(t){var e,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r="",i=!0;return i&&(n?r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===t||void 0===t?void 0:t.id,"/api_trigger"):(r="".concat(window.origin,"/api/pipeline_schedules/").concat(null===t||void 0===t?void 0:t.id,"/pipeline_runs"),null!==t&&void 0!==t&&t.token&&(r="".concat(r,"/").concat(t.token)))),i&&(e=window.location.port)&&(r=r.replace(e,c.QT)),r}function E(t,e,n){return t.match(/[*,-/]/)?{additionalOffset:0,cronValue:t}:function(t,e,n){var r=n.indexOf(t),i=0;if(e<0)for(var o=0;o>e;o--)0===r?(r=n.length-1,i-=1):r-=1;else if(e>0)for(var u=0;u<e;u++)r===n.length-1?(r=0,i+=1):r+=1;return{additionalOffset:i,cronValue:String(n[r]||t)}}(+t,e,n)}var T=(0,d.m5)(60),P=(0,d.m5)(24),S=(0,a.Cs)();function I(t,e){if(!t)return t;var n=u()().local().format("Z"),r=n.split(":"),i="-"===n[0],o=3===r[0].length?Number(r[0].slice(1)):Number(r[0]),a=Number(r[1]);(i&&!e||!i&&e)&&(o=-o,a=-a);var c=t.split(" "),l=c[0],s=c[1],d=c[2],f=E(l,a,T),p=E(s,o+f.additionalOffset,P);if(c[0]=f.cronValue,c[1]=p.cronValue,0!==(null===p||void 0===p?void 0:p.additionalOffset)){var h=E(d,p.additionalOffset,S);c[2]=h.cronValue}return c.join(" ")}},52729:function(t,e,n){"use strict";n.d(e,{Z:function(){return U}});var r=n(26304),i=n(21831),o=n(82394),u=n(82684),a=n(26226),c=n(84969),l=n(90948),s=n(65743),d=n(29989),f=n(38626),p=n(61655),h=n(16853),v=n(65376),m=n(48072),g=n(98677),b=n(84181),y=n(55485),x=n(4190),j=n(30160),O=n(94035),Z=n(70987),w=n(79633),k=n(89370),E=n(95363),T=n(61896),P=n(70515),S=n(38469),I=n(6568),A=function(t){return t.slice(0,10)},D=function(t,e){var n=t.toISOString().slice(0,10),r=e.toISOString().slice(0,10);return"".concat(n,":").concat(r)},_=n(79221),L=n(98684),M=n(28598),C=["height","loading","selected","width","xAxisLabel","yAxisLabel"];function N(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function R(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?N(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var H={bottom:P.iI,left:3*P.iI,right:0,top:1*P.iI},Y=(0,p.Z)((function(t){var e=t.columnType,n=t.data,r=void 0===n?[]:n,o=t.getBarColor,a=t.getXValue,p=t.getYValue,y=t.height,x=t.hideTooltip,O=t.large,C=t.margin,N=void 0===C?{}:C,Y=t.muted,U=t.noPadding,B=t.numberOfXTicks,V=t.renderTooltipContent,F=t.selected,z=t.showAxisLabels,G=t.showTooltip,X=t.showYAxisLabels,W=t.showZeroes,J=t.sortData,q=t.tooltipData,K=t.tooltipLeft,Q=t.tooltipOpen,$=t.tooltipTop,tt=t.width,et=t.xLabelFormat,nt=t.yLabelFormat,rt=O?T.J5:T.VK,it=(0,u.useCallback)((function(t){return a?a(t):t[0]}),[a]),ot=(0,u.useCallback)((function(t){return p?p(t):t[1]}),[p]),ut=(0,u.useContext)(f.ThemeContext),at=e===k.RL.DATETIME,ct=R(R({},H),N);z&&(ct=R(R({},ct),{},{left:ct.left+P.iI}));var lt=J?J(r):r.sort((function(t,e){return e[1]-t[1]})),st=at?r.sort((function(t,e){return new Date(t[0])-new Date(e[0])})).filter((function(t){return!!t[0]})):lt.slice(0,60),dt=tt-(ct.left+ct.right),ft=y-(ct.bottom+ct.top),pt=at?function(t,e){var n,r=t.map((function(t){return new Date(t[0])})).sort((function(t,e){return t-e}));return(0,I.Z)({domain:(n=r,[(0,S.Z)(n[0]),(0,S.Z)(n[n.length-1])]),nice:!0,range:[0,e]})}(st,dt):null,ht=function(t,e){if(null===e)return{};var n=e.ticks().map((function(t){return t.toISOString()})),r={},i=0,o=1;return t.forEach((function(t){var e=new Date(t[0]),u=t[1],a=n[i],c=n[o];if(a&&c){var l=new Date(a),s=new Date(c),d=D(l,s);if(e>=l&&e<s)r[d]=(r[d]||0)+u;else for(;o<n.length||!r[d];)if(i+=1,o+=1,l=new Date(n[i]),s=new Date(n[o]),d=D(l,s),e>=l&&e<s)return void(r[d]=(r[d]||0)+u)}})),n.reduce((function(t,e,n,r){if(0===n)return t;var i=A(e),o=A(r[n-1]);return t.push("".concat(o,":").concat(i)),t}),[]).forEach((function(t){r[t]=r[t]||0})),r}(st,pt);st=pt?Object.entries(ht).sort((function(t,e){return new Date(A(t[0]))-new Date(A(e[0]))})):st;var vt=pt?Math.max.apply(Math,(0,i.Z)(Object.values(ht))):0,mt=st.reduce((function(t,e){return(0!==ot(e)||at||W)&&t.push(it(e)),t}),[]),gt=mt.length,bt=function(t,e,n){return n?.05:t>=30&&e<300?.5:t>=15?.3:t>=5?.1:t>2?.05:2===t?.025:0}(gt,tt,at),yt=(0,g.Z)({domain:mt,paddingInner:U?null:bt,range:[0,dt],round:!1}),xt=(0,b.Z)({domain:[0,Math.max.apply(Math,(0,i.Z)(st.map(ot)))],range:[ft,0],round:!0}),jt=(0,L.K)(ut),Ot={active:((null===ut||void 0===ut?void 0:ut.content)||Z.Z.content).active,default:jt[0],muted:((null===ut||void 0===ut?void 0:ut.monotone)||Z.Z.monotone).gray,selected:((null===ut||void 0===ut?void 0:ut.elevation)||Z.Z.elevation).visualizationAccent},Zt=Ot.default;Y?Zt=Ot.muted:F&&(Zt=Ot.selected);var wt=gt?at?vt:Math.max.apply(Math,(0,i.Z)(st.map((function(t){return ot(t)})))):0,kt=Math.floor(wt/6),Et=[0],Tt=0;if(wt>6)for(;Tt<wt;)Et.push(Tt+kt),Tt+=kt;else for(;Tt<=wt;)Et.push(Tt+1),Tt+=1;wt>9999?ct=R(R({},ct),{},{left:O?8*P.iI:4.1*P.iI}):wt>999&&(ct=R(R({},ct),{},{left:O?5*P.iI:3.6*P.iI}));var Pt=at?2.25:0,St=gt<10||e===k.RL.NUMBER||e===k.RL.NUMBER_WITH_DECIMALS||at||X,It=(0,u.useCallback)((function(t){var e=(0,m.Z)(t)||{x:0,y:0},n=e.x,r=e.y,i=(n-(z?ct.left:0))/dt,o=Math.floor(gt*i),u=st[o];"undefined"===typeof u&&(u=st[0]);var a=it(u);a=a.length>15?"".concat(a.slice(0,21)):a;var c=V?V(u):"".concat(a," (").concat(ot(u),")");G({tooltipData:c,tooltipLeft:n-ct.left,tooltipTop:r+ct.top})}),[st,gt,it,ot,ct.left,ct.top,V,z,G,tt]);return tt<10||!r.length?null:(0,M.jsxs)("div",{children:[(0,M.jsxs)("svg",{height:y+ct.bottom*(at?7.5:3),width:tt,children:[(0,M.jsx)(d.Z,{left:z?ct.left:0,top:ct.top+Pt,children:st.reduce((function(t,e){var n=it(e),r=ot(e);if(0!==r){var i,u=yt.bandwidth(),a=ft-(null!==(i=xt(r))&&void 0!==i?i:0),c=yt(n),l=ft-a;t.push((0,M.jsx)(s.Z,{fill:o?o(e):Zt,height:a,onMouseLeave:function(){return x()},onMouseMove:It,onTouchMove:It,onTouchStart:It,width:u,x:c,y:l},"bar-".concat(n)))}return t}),[])}),z&&(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(c.Z,{left:ct.left,scale:xt,stroke:Ot.muted,tickFormat:function(t){return nt?nt(t):(0,_.P5)(t)},tickLabelProps:function(){return{fill:Ot.active,fontFamily:E.ry,fontSize:rt,textAnchor:"end",transform:"translate(-2,2.5)"}},tickStroke:Ot.muted,tickValues:Et,top:ct.top+Pt}),(0,M.jsx)(l.Z,{left:ct.left,numTicks:at?void 0:B||6,orientation:"top",scale:pt||yt,stroke:Ot.muted,tickFormat:function(t){return et?et(String(t)):at?t.toISOString().slice(0,10):String(t)},tickLabelProps:function(t){return{fill:St?Ot.active:"transparent",fontFamily:E.ry,fontSize:rt,textAnchor:"middle",transform:at?"rotate(-90,".concat(pt(t),",0) translate(-33,10)"):"translate(0, ".concat(3*ct.bottom,")")}},tickLineProps:{transform:"translate(0,".concat(P.iI,")")},tickStroke:St?Ot.muted:"transparent",top:ft+ct.top+Pt})]})]}),Q&&q&&(0,M.jsx)(h.Z,{left:K,style:v.j,top:$,children:(0,M.jsx)(j.ZP,{color:w.E5,small:!0,children:q})})]})}));var U=function(t){var e=t.height,n=t.loading,i=t.selected,o=t.width,u=t.xAxisLabel,c=t.yAxisLabel,l=(0,r.Z)(t,C);return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsxs)("div",{style:{display:"flex",height:e,marginBottom:P.iI,width:"100%"},children:[c&&(0,M.jsx)(y.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,M.jsx)(O.Z,{children:(0,M.jsx)(j.ZP,{center:!0,muted:!0,small:!0,children:c})})}),(0,M.jsxs)("div",{style:{height:e,width:c?0===o?o:o-28:o},children:[n&&(0,M.jsx)(x.Z,{}),!n&&(0,M.jsx)(a.Z,{children:function(t){var e=t.height,n=t.width;return(0,M.jsx)(Y,R(R({},l),{},{height:e,selected:i,width:n}))}})]})]}),u&&(0,M.jsx)("div",{style:{paddingLeft:c?36:0,paddingTop:4},children:(0,M.jsx)(j.ZP,{center:!0,muted:!0,small:!0,children:u})})]})}},87862:function(t,e,n){"use strict";n.d(e,{Z:function(){return P}});var r=n(26304),i=n(82394),o=n(75582),u=n(26226),a=n(28940),c=n(82684),l=n(29989),s=n(38626),d=n(11684),f=n(24903),p=n(30160),h=n(44897),v=n(95363),m=n(61896),g=n(70515),b=n(98684),y=n(28598),x=["height","width","xAxisLabel"];function j(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?j(Object(n),!0).forEach((function(e){(0,i.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Z={bottom:0,left:0,right:0,top:0},w=function(t){var e=t.endAngle;return{endAngle:e>Math.PI?2*Math.PI:0,opacity:0,startAngle:e>Math.PI?2*Math.PI:0}},k=function(t){var e=t.startAngle;return{endAngle:t.endAngle,opacity:1,startAngle:e}};function E(t){var e=t.animate,n=t.arcs,r=t.path,i=t.getKey,u=t.getColor,a=t.onClickDatum,c=t.textColor;return(0,d.useTransition)(n,{enter:k,from:e?w:k,keys:i,leave:e?w:k,update:k})((function(t,e,n){var l=n.key,s=r.centroid(e),f=(0,o.Z)(s,2),p=f[0],h=f[1],g=e.endAngle-e.startAngle>=.1;return(0,y.jsxs)("g",{children:[(0,y.jsx)(d.animated.path,{d:(0,d.to)([t.startAngle,t.endAngle],(function(t,n){return r(O(O({},e),{},{endAngle:n,startAngle:t}))})),fill:u(e),onClick:function(){return a(e)},onTouchStart:function(){return a(e)}}),g&&(0,y.jsx)(d.animated.g,{style:{opacity:t.opacity},children:(0,y.jsx)("text",{dy:".33em",fill:c,fontFamily:v.ry,fontSize:m.J5,pointerEvents:"none",textAnchor:"middle",x:p,y:h,children:i(e)})})]},l)}))}function T(t){var e=t.animate,n=void 0===e||e,r=t.data,i=t.getX,o=t.getY,u=t.height,d=t.margin,p=void 0===d?Z:d,v=t.textColor,m=t.width,x=(0,c.useState)(null),j=x[0],w=x[1],k=(0,c.useContext)(s.ThemeContext),T=v||(null===k||void 0===k?void 0:k.content.active)||h.Z.content.active;if(m<10)return null;var P=(0,f.Z)({domain:r.map((function(t){return i(t)})),range:(0,b.K)(k)}),S=m-p.left-p.right,I=u-p.top-p.bottom,A=Math.min(S,I)/2,D=I/2,_=S/2,L=Math.min(S/4,12*g.iI);return(0,y.jsx)("svg",{height:u,width:m,children:(0,y.jsx)(l.Z,{left:_+p.left,top:D+p.top,children:(0,y.jsx)(a.Z,{cornerRadius:g.iI/2,data:j?r.filter((function(t){return JSON.stringify(t)===JSON.stringify(j)})):r,innerRadius:Math.max(A-L,12.25),outerRadius:A,padAngle:.005,pieValue:o,children:function(t){return(0,y.jsx)(E,O(O({},t),{},{animate:n,getColor:function(t){var e=t.data;return P(i(e))},getKey:function(t){var e=t.data;return i(e)},onClickDatum:function(t){var e=t.data;return n&&w(j&&JSON.stringify(j)===JSON.stringify(e)?null:e)},textColor:T}))}})})})}function P(t){var e=t.height,n=t.width,i=t.xAxisLabel,o=(0,r.Z)(t,x),a={};return"undefined"!==typeof e&&(a.height=e),"undefined"!==typeof n&&(a.width=n),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{style:a,children:(0,y.jsx)(u.Z,{children:function(t){var e=t.width,n=t.height;return(0,y.jsx)(T,O(O({},o),{},{height:n,width:e}))}})}),i&&(0,y.jsx)("div",{style:{paddingTop:4},children:(0,y.jsx)(p.ZP,{center:!0,muted:!0,small:!0,children:i})})]})}},98684:function(t,e,n){"use strict";n.d(e,{K:function(){return i}});var r=n(70987),i=function(t){var e=t||r.Z,n=e.brand,i=n.earth200,o=n.earth300,u=n.earth400,a=n.energy200,c=n.energy300,l=n.energy400,s=n.fire200,d=n.fire300,f=n.fire400,p=n.water200,h=n.water300,v=n.water400,m=n.wind200,g=n.wind300,b=n.wind400,y=e.chart;return[y.backgroundPrimary,y.backgroundSecondary,y.backgroundTertiary].concat([b,v,f,l,u,g,h,d,c,o,m,p,s,a,i])}},94035:function(t,e,n){"use strict";var r=n(38626).default.div.withConfig({displayName:"YAxisLabelContainer",componentId:"sc-qwp21x-0"})(["-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-o-transform:rotate(-90deg);-ms-transform:rotate(-90deg);transform:rotate(-90deg);white-space:nowrap;"]);e.Z=r},79221:function(t,e,n){"use strict";n.d(e,{P5:function(){return r},Vs:function(){return i}});n(81728);function r(t,e){var n=e||{},r=n.maxFractionDigits,i=n.minAmount,o=Intl.NumberFormat("en-US",{maximumFractionDigits:r||2,notation:"compact"});return"number"!==typeof t?t:t>=(i||1e4)?o.format(t):t.toString()}function i(t,e,n){var r,i;if("undefined"===typeof t||"undefined"===typeof e)return 0;var o=null===t||void 0===t||null===(r=t(e,n))||void 0===r||null===(i=r.props)||void 0===i?void 0:i.children;return(Array.isArray(o)?o:[o]).join("").length}},48888:function(t,e,n){"use strict";n.d(e,{AE:function(){return i},H3:function(){return o},mW:function(){return u},oE:function(){return a},yg:function(){return r}});var r="tabs[]",i="show_columns",o="column",u="Reports",a="Visualizations"},17679:function(t,e,n){"use strict";n.d(e,{O$:function(){return ot},Fk:function(){return ut}});var r=n(75582),i=n(12691),o=n.n(i),u=n(26304),a=n(21831),c=n(82394),l=n(82684),s=n(26226),d=n(84969),f=n(90948),p=n(65743),h=n(28108),v=n(79487),m=n(29989),g=n(38626),b=n(61655),y=n(16853),x=n(65376),j=n(48072),O=n(24903),Z=n(84181),w=n(98677),k=n(30160),E=n(70987),T=n(79633),P=n(61896),S=n(70515),I=n(95363),A=n(28598),D=["height","width"];function _(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_(Object(n),!0).forEach((function(e){(0,c.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var M={bottom:5*S.iI,left:3*S.iI,right:20*S.iI,top:0},C=function(t){return t.x},N=function(t){return t.y},R=(0,b.Z)((function(t){var e=t.data,n=t.height,r=t.hideTooltip,i=t.large,o=t.margin,u=void 0===o?{}:o,c=t.renderTooltipContent,s=t.showTooltip,b=t.tooltipData,S=t.tooltipLeft,D=t.tooltipOpen,_=t.tooltipTop,R=t.width,H=t.xAxisLabel,Y=t.xNumTicks,U=t.yLabelFormat,B=t.ySerialize,V=U;V||(V=function(t){return t.length>20?"".concat(t.substring(0,20),"..."):t});var F=i?P.iD:P.J5,z=(0,l.useContext)(g.ThemeContext),G=L(L({},M),u),X=e.slice(Math.max(0,e.length-50)),W=Object.keys(X[0]||[]).filter((function(t){return"x"===t})),J=(0,O.Z)({domain:W,range:[T.hM]}),q=(0,Z.Z)({domain:[0,Math.max.apply(Math,(0,a.Z)(X.map(C)))],nice:!0}),K=(0,w.Z)({domain:X.map(N),padding:.35}),Q={active:(null===z||void 0===z?void 0:z.content.default)||E.Z.content.default,backgroundPrimary:(null===z||void 0===z?void 0:z.chart.backgroundPrimary)||E.Z.chart.backgroundPrimary,backgroundSecondary:(null===z||void 0===z?void 0:z.chart.backgroundSecondary)||E.Z.chart.backgroundSecondary,muted:(null===z||void 0===z?void 0:z.content.muted)||E.Z.content.muted,primary:(null===z||void 0===z?void 0:z.chart.primary)||E.Z.chart.primary,tooltipBackground:(null===z||void 0===z?void 0:z.background.navigation)||E.Z.background.navigation},$=X.map(B),tt=Math.min(Math.max.apply(Math,(0,a.Z)($.map((function(t){return String(t).length})))),20);6*tt>2*G.right?G.right+=5.5*tt:6*tt>=G.right&&(G.right+=3.75*tt);var et=R-G.left-G.right,nt=n-G.top-G.bottom;G.left+=7*tt,q.rangeRound([0,et]),K.rangeRound([nt,0]);var rt=X.map(C).length,it=K($[rt-1]),ot=(0,l.useCallback)((function(t){var e=(0,j.Z)(t)||{x:0,y:0},n=e.x,r=e.y,i=1-(r-it/2)/(nt-it),o=Math.floor(i*rt),u=X[o];"undefined"===typeof u&&(u=X[o-1]),r>it&&r<nt-it&&s({tooltipData:u,tooltipLeft:n,tooltipTop:r+G.top})}),[X,rt,G.top,s,it,nt]);return R<10?null:(0,A.jsxs)("div",{children:[(0,A.jsxs)("svg",{height:n,width:R,children:[(0,A.jsx)(p.Z,{fill:"transparent",height:n-(G.top+G.bottom),onMouseLeave:function(){return r()},onMouseMove:ot,onTouchMove:ot,onTouchStart:ot,rx:14,width:R-G.left,x:G.left,y:0}),(0,A.jsxs)(m.Z,{left:G.left,top:G.top,children:[(0,A.jsx)(h.Z,{color:J,data:X,height:nt,keys:W,pointerEvents:"none",xScale:q,y:B,yScale:K,children:function(t){return t.map((function(t){return t.bars.map((function(e){return(0,A.jsx)("g",{children:(0,A.jsx)(A.Fragment,{children:(0,A.jsx)("rect",{fill:Q.backgroundPrimary,height:e.height,pointerEvents:"none",rx:4,width:e.width,x:e.x,y:e.y})})},"barstack-horizontal-".concat(t.index,"-").concat(e.index))}))}))}}),(0,A.jsx)(d.Z,{hideTicks:!0,scale:K,stroke:Q.muted,tickFormat:function(t){return V(t)},tickLabelProps:function(){return{fill:Q.active,fontFamily:I.ry,fontSize:F,style:{width:"10px"},textAnchor:"end"}},tickStroke:Q.muted,tickValues:$,top:2}),(0,A.jsx)(f.Z,{label:H,labelProps:{fill:Q.muted,fontFamily:I.ry,fontSize:F,textAnchor:"middle"},numTicks:Y,scale:q,stroke:Q.muted,tickLabelProps:function(){return{fill:Q.active,fontFamily:I.ry,fontSize:F,textAnchor:"middle"}},tickStroke:Q.muted,top:nt})]}),b&&(0,A.jsx)("g",{children:(0,A.jsx)(v.Z,{from:{x:G.left,y:_},pointerEvents:"none",stroke:T.Ej,strokeDasharray:"5,2",strokeWidth:1,to:{x:et+G.left,y:_}})})]}),D&&b&&(0,A.jsx)(y.Z,{left:S,style:L(L({},x.j),{},{backgroundColor:Q.tooltipBackground}),top:_,children:(0,A.jsxs)(k.ZP,{black:!0,small:!0,children:[null===c||void 0===c?void 0:c(b),!c&&C(b).toFixed(4)]})})]})}));var H,Y,U,B,V=function(t){var e=t.height,n=t.width,r=(0,u.Z)(t,D);return(0,A.jsx)("div",{style:{height:e,width:"undefined"===typeof n?"100%":n},children:(0,A.jsx)(s.Z,{children:function(t){var e=t.width,n=t.height;return(0,A.jsx)(R,L(L({},r),{},{height:n,width:e}))}})})},F=n(97618),z=n(52729),G=n(48670),X=n(87862),W=n(89370),J=n(86735),q=(J.Qj,J.tS,J.tS,J.tS,J.tS,J.Qj,J.Qj,J.Qj,J.tS,J.tS,H={},(0,c.Z)(H,W.RL.EMAIL,"domain_distribution"),(0,c.Z)(H,W.RL.TEXT,"word_distribution"),(0,c.Z)(H,W.RL.LIST,"element_distribution"),(0,c.Z)(H,"default","value_counts"),H),K=[].concat((0,a.Z)(W.P_),[W.RL.TEXT,W.RL.EMAIL,W.RL.LIST]),Q=(Y={},(0,c.Z)(Y,W.RL.EMAIL,"Domain distribution"),(0,c.Z)(Y,W.RL.TEXT,"Word distribution"),(0,c.Z)(Y,W.RL.LIST,"Element distribution"),(0,c.Z)(Y,"default","Distribution of values"),n(31353));!function(t){t.RANGE="range"}(U||(U={})),function(t){t.BAR_HORIZONTAL="bar_horizontal",t.LINE_CHART="line_chart",t.HISTOGRAM="histogram"}(B||(B={}));var $=n(48888),tt=n(92083),et=n.n(tt),nt=n(81728);function rt(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r||{},o=i.calculateAnomaly,u=i.feature,c=i.getYValue,l=t.x,s=t.x_metadata,d=s.label,f=s.label_type,p=t.y,h=(null===p||void 0===p?void 0:p.map((function(t){return null===c||void 0===c?void 0:c(t)})))||[],v=Math.max.apply(Math,(0,a.Z)(h)),m=Math.max.apply(Math,(0,a.Z)(h)),g=(0,J.Sm)(h),b=(0,J.IN)(h),y=g/Math.max(1,h.length),x=e[d]||u,j=null===x||void 0===x?void 0:x.columnType,O=W.RL.DATETIME===j,Z=[],w=[],k=l.length,E=l.map((function(t,e){var r,i,u,a,c=t.label,l=t.max,s=t.min,d=p[e];if(U.RANGE===f)if(n||(n=l-s),a=W.RL.NUMBER===j&&n<=k)r=Number(s);else if(r=n/2+s,O){var x="M/D/YYYY",E="M/D/YYYY",T="M/D/YYYY";n<=1?(x=n<=.1?"H:mm:ss.SSS":"H:mm:ss",E="H:mm:ss.SSS",T="H:mm:ss.SSS"):n<=60?(x="H:mm",E="H:mm:ss",T="H:mm:ss"):n<=3600?(x="H:mm",E="M/D/YYYY H:mm",T="H:mm"):n<=86400&&(E="M/D/YYYY H:mm",T="M/D/YYYY H:mm"),r=et().unix(r).format(x),i=et().unix(s).format(E),u=et().unix(l).format(T)}else r=(0,nt.QV)(r);else r=c;var P=e>=1?p[e-1]:null,S=!1;o&&(S=o({x:t,y:d,yPrevious:P,yValues:h,yValuesAverage:y,yValuesMax:v,yValuesMin:m,yValuesStandardDeviation:b,yValuesSum:g}));var I={hideRange:a,isUnusual:S,x:t,xLabel:r,xLabelMax:u,xLabelMin:i,y:d};return S&&(a?w.push(I):Z.push(I)),I}));return{distribution:{data:E,featureUUID:d},rangedWithUnusualDistribution:(0,J.YC)(Z,(function(t){var e=t.y;return c(e)}),{ascending:!1}),unusualDistribution:(0,J.YC)(w,(function(t){var e=t.y;return c(e)}),{ascending:!1})}}var it=n(40489);var ot=12*S.iI;function ut(t){var e=t.columnTypes,n=t.columns,i=t.insightsByFeatureUUID,u=t.insightsOverview,a=t.noColumnLinks,c=void 0!==a&&a,l=t.statistics;return function(t,a,s){var d=s.width,f=n[a],p=e[f],h=Q.T5[p],v=(i[f]||{}).charts,m=u.time_series,g=n.filter((function(t){return e[t]===W.RL.DATETIME})),b=null===m||void 0===m?void 0:m.map((function(t){return rt(t,{},{feature:{columnType:p,uuid:f}}).distribution})),y={};null===b||void 0===b||b.forEach((function(t,e){var n=t.data;y[g[e]]=(0,A.jsx)(z.Z,{data:n.map((function(t){var e=t.x,n=t.xLabel,r=t.xLabelMax,i=t.xLabelMin;return[n,t.y.count,i,r,e.min,e.max]})),height:ot,large:!0,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t){var e=(0,r.Z)(t,4),n=e[1],i=e[2],o=e[3];return(0,A.jsxs)("p",{children:["Rows: ",n,(0,A.jsx)("br",{}),"Start: ",i,(0,A.jsx)("br",{}),"End: ",o]})},sortData:function(t){return(0,J.YC)(t,"[4]")}},f)}));var x,j=null===v||void 0===v?void 0:v.find((function(t){var e=t.type;return B.HISTOGRAM===e})),O=(j?rt(j,{},{feature:{columnType:p,uuid:f},getYValue:function(t){return t.value}}):{}).distribution,Z=void 0===O?null:O,w=q[p]||q.default,E=null===l||void 0===l?void 0:l["".concat(f,"/").concat(w)],T=Object.entries(E||{}).map((function(t){var e=(0,r.Z)(t,2),n=e[0];return{x:e[1],y:n}})),P=W.RL.TRUE_OR_FALSE===p;if(W.RL.DATETIME===p)x=y[f];else if(Z&&!P)x=(0,A.jsx)(z.Z,{data:Z.data.map((function(t){var e=t.hideRange,n=t.isUnusual,r=t.x;return[t.xLabel,t.y.value,r.min,r.max,n,e]})),height:ot,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t){var e=(0,r.Z)(t,6),n=e[1],i=e[2],o=e[3],u=e[5];return(0,A.jsxs)("p",{children:[u&&(0,A.jsxs)(A.Fragment,{children:["Rows: ",n,(0,A.jsx)("br",{}),"Value: ",i]}),!u&&(0,A.jsxs)(A.Fragment,{children:["Rows: ",n,(0,A.jsx)("br",{}),"Range: ",i," - ",o]})]})},sortData:function(t){return(0,J.YC)(t,"[2]")},width:d-2*S.iI});else if(K.includes(p)){var I=(0,J.YC)((0,J.YC)(T,"x",{ascending:!1}).slice(0,5),"x");x=(0,A.jsx)(V,{data:I,height:ot,margin:{bottom:0,left:0,right:20,top:0},renderTooltipContent:function(t){var e=t.x,n=t.y;return"".concat(n," appears ").concat((0,nt.x6)(e)," times")},xNumTicks:2,ySerialize:function(t){return t.y}})}else P&&E&&(x=(0,A.jsx)(X.Z,{data:Object.entries(E),getX:function(t){var e=(0,r.Z)(t,2),n=e[0],i=e[1];return"".concat(n," (").concat((0,nt.x6)(i),")")},getY:function(t){return(0,r.Z)(t,2)[1]},height:ot}));return(0,A.jsxs)("div",{style:{padding:S.iI},children:[(0,A.jsxs)("div",{style:{alignItems:"center",display:"flex",marginBottom:S.iI},children:[h&&(0,A.jsx)(F.Z,{title:W.Rp[p],children:(0,A.jsx)(h,{size:2*S.iI})}),(0,A.jsx)("div",{style:{marginLeft:.5*S.iI,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:d-4.5*S.iI},children:c?(0,A.jsx)(k.ZP,{bold:!0,default:!0,title:n[a],children:n[a]}):(0,A.jsx)(o(),{as:(0,it.o_)($.oE,a),href:"/datasets/[...slug]",passHref:!0,children:(0,A.jsx)(G.Z,{bold:!0,monospace:!0,secondary:!0,small:!0,title:n[a],children:n[a]})})})]}),x,!x&&(0,A.jsx)("div",{style:{height:ot}})]})}}},40489:function(t,e,n){"use strict";n.d(e,{o_:function(){return c}});var r=n(75582),i=n(34376),o=n(48888);n(82684),n(12691),n(71180),n(58036),n(97618),n(55485),n(48670),n(38276),n(30160),n(72473),n(28598);var u,a=n(69419);!function(t){t.DATASETS="datasets",t.DATASET_DETAIL="dataset_detail",t.COLUMNS="features",t.COLUMN_DETAIL="feature_detail",t.EXPORT="export"}(u||(u={}));var c=function(t,e){var n=(0,i.useRouter)().query.slug,c=void 0===n?[]:n,l=(0,r.Z)(c,1)[0],s=(0,a.iV)(),d=s.show_columns,f=s.column,p="/".concat(u.DATASETS,"/").concat(l),h="".concat(o.H3,"=").concat(f||e),v="".concat(o.yg,"=").concat(t,"&").concat(h,"&").concat(o.AE,"=").concat(d||0);return"".concat(p,"?").concat(v)}},44265:function(t,e,n){"use strict";n.d(e,{Az:function(){return l},BF:function(){return c},Do:function(){return d},IK:function(){return a},P0:function(){return i},VO:function(){return u},sZ:function(){return s}});var r,i,o=n(82394),u=n(41143).V,a=[u.FAILED,u.COMPLETED,u.RUNNING,u.CANCELLED,u.INITIAL],c=[u.INITIAL,u.RUNNING],l=[u.CANCELLED,u.COMPLETED,u.FAILED],s="__mage_variables",d=(r={},(0,o.Z)(r,u.CANCELLED,"Cancelled"),(0,o.Z)(r,u.COMPLETED,"Done"),(0,o.Z)(r,u.FAILED,"Failed"),(0,o.Z)(r,u.INITIAL,"Ready"),(0,o.Z)(r,u.RUNNING,"Running"),r);!function(t){t.PIPELINE_UUID="pipeline_uuid[]",t.STATUS="status[]",t.TAG="pipeline_tag[]"}(i||(i={}))},30229:function(t,e,n){"use strict";n.d(e,{PN:function(){return a},TR:function(){return h},U5:function(){return l},Wb:function(){return p},Xm:function(){return o},Z4:function(){return s},fq:function(){return c},gm:function(){return d},kJ:function(){return f}});var r,i,o,u=n(82394),a="__bookmark_values__";!function(t){t.API="api",t.EVENT="event",t.TIME="time"}(o||(o={}));var c,l,s=(r={},(0,u.Z)(r,o.API,(function(){return"API"})),(0,u.Z)(r,o.EVENT,(function(){return"event"})),(0,u.Z)(r,o.TIME,(function(){return"schedule"})),r);!function(t){t.ACTIVE="active",t.INACTIVE="inactive"}(c||(c={})),function(t){t.ONCE="@once",t.HOURLY="@hourly",t.DAILY="@daily",t.WEEKLY="@weekly",t.MONTHLY="@monthly",t.ALWAYS_ON="@always_on"}(l||(l={}));var d,f,p=[l.ONCE,l.HOURLY,l.DAILY,l.WEEKLY,l.MONTHLY];!function(t){t.INTERVAL="frequency[]",t.STATUS="status[]",t.TAG="tag[]",t.TYPE="type[]"}(d||(d={})),function(t){t.CREATED_AT="created_at",t.NAME="name",t.PIPELINE="pipeline_uuid",t.STATUS="status",t.TYPE="schedule_type"}(f||(f={}));var h=(i={},(0,u.Z)(i,f.CREATED_AT,"Created at"),(0,u.Z)(i,f.NAME,"Name"),(0,u.Z)(i,f.PIPELINE,"Pipeline"),(0,u.Z)(i,f.STATUS,"Active"),(0,u.Z)(i,f.TYPE,"Type"),i)},14532:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return rt}});var r=n(77837),i=n(75582),o=n(82394),u=n(38860),a=n.n(u),c=n(82684),l=n(69864),s=n(34376),d=n(23192),f=n(71180),p=n(15338),h=n(97618),v=n(55485),m=n(85854),g=n(55072),b=n(75457),y=n(44265),x=n(57653),j=n(93808),O=n(38276),Z=n(4190),w=n(30160),k=n(35686),E=n(21831),T=n(26304),P=n(90299),S=n(93859),I=n(24138),A=n(48339),D=n(46684),_=n(70515),L=n(66909),M=n(8955),C=n(16488),N=n(81728),R=n(86735),H=n(28598),Y=["blockRuns","blocksOverride","columns","dataType","height","heightOffset","loadingData","outputs","pipeline","renderColumnHeader","rows","selectedRun","selectedTab","setSelectedTab","textData"];function U(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function B(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?U(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var V={uuid:"Dependency tree"},F={uuid:"Block output"},z=[F,V];var G=n(28795),X=n(81655),W=n(3917),J=n(72619),q=n(3314),K=n(69419),Q=n(70320);function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$(Object(n),!0).forEach((function(e){(0,o.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var et=100;function nt(t){var e=t.pipeline,n=t.pipelineRun,r=(0,Q.qB)(),o=(0,s.useRouter)(),u=(0,K.iV)(),a=null!==u&&void 0!==u&&u.page?u.page:0,j=(0,c.useState)(null),U=j[0],$=j[1],nt=(0,c.useState)(z[0]),rt=nt[0],it=nt[1],ot=(0,c.useState)(null),ut=ot[0],at=ot[1],ct=e.uuid,lt=k.ZP.pipelines.detail(ct,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,st=(0,c.useMemo)((function(){return tt(tt({},null===lt||void 0===lt?void 0:lt.pipeline),{},{uuid:ct})}),[lt,ct]),dt=k.ZP.pipeline_runs.detail(n.id,{_format:"with_basic_details"},{refreshInterval:3e3,revalidateOnFocus:!0}).data,ft=(0,c.useMemo)((function(){return(null===dt||void 0===dt?void 0:dt.pipeline_run)||{}}),[dt]),pt=ft.execution_date,ht=ft.id,vt=ft.status,mt={_limit:et,_offset:a*et,pipeline_run_id:ht},gt=null===u||void 0===u?void 0:u[X.lG.SORT_COL_IDX],bt=null===u||void 0===u?void 0:u[X.lG.SORT_DIRECTION];if(gt){var yt=d.fi[gt],xt=bt||X.sh.ASC;mt.order_by="".concat(yt,"%20").concat(xt)}var jt=k.ZP.block_runs.list(mt,{refreshInterval:5e3}),Ot=jt.data,Zt=jt.mutate,wt=(0,c.useMemo)((function(){return(null===Ot||void 0===Ot?void 0:Ot.block_runs)||[]}),[Ot]),kt=wt.map((function(t){return t.block_uuid})),Et=(0,c.useMemo)((function(){return kt}),[kt]),Tt=k.ZP.blocks.pipeline_runs.list(null===n||void 0===n?void 0:n.id,{_limit:et,block_uuid:Et},{}).data,Pt=(0,l.Db)(k.ZP.pipeline_runs.useUpdate(ht),{onSuccess:function(t){return(0,J.wD)(t,{callback:function(){$(null),null===Zt||void 0===Zt||Zt()},onErrorCallback:function(t,e){return at({errors:e,response:t})}})}}),St=(0,i.Z)(Pt,2),It=St[0],At=St[1].isLoading,Dt=k.ZP.outputs.block_runs.list(null===U||void 0===U?void 0:U.id),_t=Dt.data,Lt=Dt.loading;(0,c.useEffect)((function(){U||(null===rt||void 0===rt?void 0:rt.uuid)!==F.uuid||it(V)}),[U,null===rt||void 0===rt?void 0:rt.uuid]);var Mt=(0,c.useMemo)((function(){return(0,H.jsx)(d.ZP,{blockRuns:wt,onClickRow:function(t){$((function(e){var n=wt[t],r=(null===e||void 0===e?void 0:e.id)!==n.id?n:null;return r&&it((function(t){return t!==F?F:t})),r}))},pipeline:st,selectedRun:U,setErrors:at,sortableColumnIndexes:d.lG})}),[wt,st,U]),Ct=(null===st||void 0===st?void 0:st.type)!==x.qL.STREAMING&&vt&&vt!==y.VO.COMPLETED,Nt=((null===st||void 0===st?void 0:st.type)===x.qL.PYTHON||(null===st||void 0===st?void 0:st.type)===x.qL.INTEGRATION)&&U&&y.Az.includes(vt),Rt=(0,c.useMemo)((function(){var t;return(null===Ot||void 0===Ot||null===(t=Ot.metadata)||void 0===t?void 0:t.count)||[]}),[Ot]),Ht=(0,c.useMemo)((function(){return(0,H.jsx)(O.Z,{p:2,children:(0,H.jsx)(g.ZP,{maxPages:g.Et,onUpdate:function(t){var e=Number(t),n=tt(tt({},u),{},{page:e>=0?e:0});$(null),o.push("/pipelines/[pipeline]/runs/[run]","/pipelines/".concat(ct,"/runs/").concat(ht,"?").concat((0,K.uM)(n)))},page:Number(a),totalPages:Math.ceil(Rt/et)})})}),[a,ht,ct,u,o,Rt]),Yt=(0,c.useCallback)((function(t){return function(t){var e=t.blockRuns,n=t.blocksOverride,r=(t.columns,t.dataType,t.height),o=t.heightOffset,u=t.loadingData,a=t.outputs,c=t.pipeline,l=t.renderColumnHeader,s=(t.rows,t.selectedRun),d=t.selectedTab,f=t.setSelectedTab,h=(t.textData,B({},(0,T.Z)(t,Y)));h.blockStatus=(0,C.IJ)(e);var m=[],g=[],b=(0,N.bH)();if(!u){var y,x={};null===a||void 0===a||a.forEach((function(t){var e=t.type;x[e]||(x[e]={outputs:[],priority:Object.keys(x).length}),x[e].outputs.push(t)})),null===(y=(0,R.YC)(Object.entries(x),(function(t){var e=(0,i.Z)(t,2);return e[0],e[1].priority})))||void 0===y||y.forEach((function(t,e){var n=(0,i.Z)(t,2),u=n[0],a=n[1].outputs,c=[];null===a||void 0===a||a.forEach((function(t,n){var i,a=t.sample_data,s=t.text_data,d=t.type,f=(0,H.jsx)(O.Z,{ml:2,children:(0,H.jsx)(w.ZP,{children:"This block run has no output."})},"output-empty-".concat(e,"-").concat(n));if(d===A.Gi.TABLE){var p=((null===a||void 0===a?void 0:a.columns)||[]).slice(0,40),h=(null===a||void 0===a?void 0:a.rows)||[];i=h&&(null===h||void 0===h?void 0:h.length)>=1?(0,H.jsx)(S.Z,{columnHeaderHeight:l?L.Eh:0,columns:p,height:r-o-90,noBorderBottom:!0,noBorderLeft:!0,noBorderRight:!0,renderColumnHeader:l,rows:h},"output-table-".concat(e,"-").concat(n)):f}else{var v=(0,N.Pb)(s)?JSON.stringify(JSON.parse(s),null,2):s;i=s?(0,H.jsx)(O.Z,{ml:2,children:(0,H.jsx)(w.ZP,{monospace:!0,children:(0,H.jsx)("pre",{children:v})})},"output-text-".concat(e,"-").concat(n)):f}var y=b[e];A.Gi.TEXT===u?(c.push(i),0===n&&g.push({uuid:"Block output ".concat(n+1).concat(y)})):(m.push(i),g.push({uuid:"Block output ".concat(n+1).concat(y)}))})),A.Gi.TEXT===u&&m.push(c)}))}var j=m,k=g,U=z;(null===k||void 0===k?void 0:k.length)>=2&&(U=[F].concat((0,E.Z)(k.slice(1)),[V]));var G=d&&f,X=j[U.findIndex((function(t){return t.uuid===(null===d||void 0===d?void 0:d.uuid)}))];return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)("div",{style:{position:"fixed",top:D.Mz},children:G&&(0,H.jsx)(H.Fragment,{children:(0,H.jsx)(O.Z,{py:0,children:(0,H.jsx)(P.Z,{onClickTab:f,regularSizeText:!0,selectedTabUUID:null===d||void 0===d?void 0:d.uuid,tabs:s?U:[V],underlineStyle:!0})})})}),(0,H.jsxs)("div",{style:{position:"relative",top:M.u$},children:[G&&(0,H.jsx)(p.Z,{light:!0}),(!s||V.uuid===(null===d||void 0===d?void 0:d.uuid))&&(0,H.jsx)(I.ZP,B(B({},h),{},{blocksOverride:n,enablePorts:!1,height:r,heightOffset:(o||0)+(G?M.u$+1:0),pipeline:c})),s&&d&&V.uuid!==(null===d||void 0===d?void 0:d.uuid)&&(0,H.jsxs)(H.Fragment,{children:[u&&(0,H.jsx)(O.Z,{mt:2,children:(0,H.jsx)(v.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"center",children:(0,H.jsx)(Z.Z,{color:"white",large:!0})})}),!u&&(0,H.jsx)(O.Z,{py:_.cd,children:X})]})]})]})}(tt(tt({},t),{},{blockRuns:wt,blocksOverride:Rt<=et&&(null===Tt||void 0===Tt?void 0:Tt.blocks),loadingData:Lt,outputs:null===_t||void 0===_t?void 0:_t.outputs,selectedRun:U,selectedTab:rt,setSelectedTab:it,showDynamicBlocks:!0}))}),[wt,Tt,_t,Lt,U,rt,it,Rt]);return(0,H.jsxs)(b.Z,{breadcrumbs:[{label:function(){return"Runs"},linkProps:{as:"/pipelines/".concat(ct,"/runs"),href:"/pipelines/[pipeline]/runs"}},{label:function(){return r?(0,W.XG)(pt,r):pt}}],buildSidekick:Yt,errors:ut,pageName:G.M.RUNS,pipeline:st,setErrors:at,subheader:(Ct||Nt)&&(0,H.jsxs)(v.ZP,{alignItems:"center",children:[y.BF.includes(vt)&&(0,H.jsxs)(h.Z,{children:[(0,H.jsx)(w.ZP,{bold:!0,default:!0,large:!0,children:"Pipeline is running"}),(0,H.jsx)(O.Z,{mr:1}),(0,H.jsx)(Z.Z,{inverted:!0}),(0,H.jsx)(O.Z,{mr:2})]}),Ct&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(f.ZP,{danger:!0,loading:At,onClick:function(t){(0,q.j)(t),It({pipeline_run:{pipeline_run_action:"retry_blocks"}})},outline:!0,children:"Retry incomplete blocks"}),(0,H.jsx)(O.Z,{mr:2})]}),Nt&&(0,H.jsxs)(f.ZP,{loading:At,onClick:function(t){(0,q.j)(t),It({pipeline_run:{from_block_uuid:U.block_uuid,pipeline_run_action:"retry_blocks"}})},outline:!0,primary:!0,children:["Retry from selected block (",U.block_uuid,")"]})]}),title:function(t){var e=t.name;return"".concat(e," runs")},uuid:"".concat(G.M.RUNS,"_").concat(ct,"_").concat(ht),children:[(0,H.jsx)(O.Z,{mt:_.cd,px:_.cd,children:(0,H.jsx)(m.Z,{level:5,children:"Block runs"})}),(0,H.jsx)(p.Z,{light:!0,mt:_.cd,short:!0}),Mt,Ht]})}nt.getInitialProps=function(){var t=(0,r.Z)(a().mark((function t(e){var n,r,i;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,r=n.pipeline,i=n.run,t.abrupt("return",{pipeline:{uuid:r},pipelineRun:{id:i}});case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();var rt=(0,j.Z)(nt)},39525:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/runs/[run]",function(){return n(14532)}])}},function(t){t.O(0,[2678,1154,844,5820,1124,1751,5896,9161,2631,4267,9266,8487,8264,7858,5499,5283,5457,3745,3419,9774,2888,179],(function(){return e=39525,t(t.s=e);var e}));var e=t.O();_N_E=e}]);