(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5912],{46978:function(e,t,n){"use strict";n.d(t,{Cl:function(){return l},Nk:function(){return u},ZG:function(){return c}});var r=n(38626),i=n(44897),o=n(70515),c=1.5*o.iI,l=1*c+o.iI/2,u=r.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-uvd91-0"})([".row:hover{","}"],(function(e){return"\n      background-color: ".concat((e.theme.interactive||i.Z.interactive).hoverBackground,";\n    ")}))},29584:function(e,t,n){"use strict";var r=n(26304),i=n(82394),o=n(21831),c=(n(82684),n(84969)),l=n(90948),u=n(81354),a=n(67778),s=n(29989),d=n(17066),p=n(29179),f=n(65376),h=n(48072),m=n(98677),b=n(84181),x=n(24903),j=n(55485),v=n(26226),g=n(30160),y=n(94035),Z=n(44897),O=n(42631),k=n(95363),w=n(70515),P=n(79221),_=n(28598),L=["height","width","xAxisLabel","yAxisLabel"];function C(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?C(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e){var t=e.backgroundColor,n=e.colors,r=e.data,i=e.getXValue,j=(e.getYValue,e.height),v=e.keys,y=e.margin,w=e.numYTicks,L=e.showLegend,C=e.tooltipLeftOffset,T=void 0===C?0:C,D=e.width,N=e.xLabelFormat,S=e.yLabelFormat,E=(0,p.Z)(),F=E.hideTooltip,I=E.showTooltip,A=E.tooltipData,z=E.tooltipLeft,B=E.tooltipOpen,X=E.tooltipTop,q=D-(y.left+y.right),R=j-(y.bottom+y.top),V=r.reduce((function(e,t){var n=t,r=v.reduce((function(e,t){return Number(n[t])&&(e+=Number(n[t])),e}),0);return e.push(r),e}),[]),Y=(0,m.Z)({domain:r.map(i),padding:.4,range:[0,q],round:!1}),G=(0,b.Z)({domain:[0,Math.max.apply(Math,(0,o.Z)(V))],range:[R,0],round:!0}),H=(0,x.Z)({domain:v,range:n});return(0,_.jsxs)("div",{style:{position:"relative",zIndex:2},children:[(0,_.jsxs)("svg",{height:j,width:D,children:[(0,_.jsx)("rect",{fill:t||Z.Z.background.chartBlock,height:j,rx:14,width:D,x:0,y:0}),(0,_.jsx)(a.Z,{height:R,left:y.left,scale:G,stroke:"black",strokeOpacity:.2,top:y.top,width:q}),(0,_.jsx)(s.Z,{left:y.left,top:y.top,children:(0,_.jsx)(u.Z,{color:H,data:r,keys:v,value:function(e,t){return e[t]||0},x:i,xScale:Y,yScale:G,children:function(e){return e.map((function(e){return e.bars.map((function(t){return(0,_.jsx)("rect",{fill:t.color,height:t.height,onMouseLeave:F,onMouseMove:function(e){var n=(0,h.Z)(e),r=t.x+t.width/2+T;I({tooltipData:t,tooltipLeft:r,tooltipTop:(null===n||void 0===n?void 0:n.y)+10})},width:t.width,x:t.x,y:t.y},"bar-stack-".concat(e.index,"-").concat(t.index))}))}))}})}),(0,_.jsx)(c.Z,{hideTicks:!0,left:y.left,numTicks:w,scale:G,stroke:Z.Z.content.muted,tickFormat:function(e){return S?S(e):(0,P.P5)(e)},tickLabelProps:function(){return{fill:Z.Z.content.muted,fontFamily:k.ry,fontSize:11,textAnchor:"end",transform:"translate(0,2.5)"}},top:y.top}),(0,_.jsx)(l.Z,{hideTicks:!0,left:y.left,scale:Y,stroke:Z.Z.content.muted,tickFormat:N,tickLabelProps:function(){return{fill:Z.Z.content.muted,fontFamily:k.ry,fontSize:11,textAnchor:"middle"}},top:R+y.top})]}),L&&(0,_.jsx)("div",{style:{display:"flex",fontSize:"14px",justifyContent:"center",position:"absolute",top:y.top/2-10,width:"100%"},children:(0,_.jsx)(d.Z,{direction:"row",labelMargin:"0 15px 0 0",scale:H})}),B&&A&&(0,_.jsxs)(f.Z,{left:z,style:M(M({},f.j),{},{backgroundColor:Z.Z.background.page,borderRadius:"".concat(O.TR,"px"),padding:".3rem .4rem"}),top:X,children:[(0,_.jsx)(g.ZP,{bold:!0,color:H(A.key),children:A.key}),(0,_.jsx)(g.ZP,{children:A.bar.data[A.key]}),(0,_.jsx)(g.ZP,{children:i(A.bar.data)})]})]})}t.Z=function(e){var t=e.height,n=e.width,i=e.xAxisLabel,o=e.yAxisLabel,c=(0,r.Z)(e,L);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{style:{height:t,marginBottom:w.iI,width:n},children:[o&&(0,_.jsx)(j.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,_.jsx)(y.Z,{children:(0,_.jsx)(g.ZP,{center:!0,muted:!0,small:!0,children:o})})}),(0,_.jsx)("div",{style:{height:t,width:o?0===n?n:n-28:n},children:(0,_.jsx)(v.Z,{children:function(e){var t=e.height,n=e.width;return(0,_.jsx)(T,M(M({},c),{},{height:t,width:n}))}})}),i&&(0,_.jsx)("div",{style:{paddingLeft:o?36:0,paddingTop:4},children:(0,_.jsx)(g.ZP,{center:!0,muted:!0,small:!0,children:i})})]})})}},57772:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(75582),o=n(82394),c=n(38860),l=n.n(c),u=n(82684),a=n(92083),s=n.n(a),d=n(38626),p=n(29584),f=n(39867),h=n(55485),m=n(85854),b=n(7116),x=n(93808),j=n(44085),v=n(38276),g=n(35686),y=n(44897),Z=n(64657),O=n(46978),k=n(55283),w=n(3917),P=n(86735),_=n(28598);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function M(e){var t=e.pipeline,n=(0,u.useContext)(d.ThemeContext),r=(0,u.useState)(null),c=r[0],l=r[1],a=t.uuid,x=g.ZP.pipelines.detail(a,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,L=(0,u.useMemo)((function(){return C(C({},null===x||void 0===x?void 0:x.pipeline),{},{uuid:a})}),[x,a]),M=g.ZP.pipeline_schedules.pipelines.list(a).data,T=(0,u.useMemo)((function(){return null===M||void 0===M?void 0:M.pipeline_schedules}),[M]),D=(0,u.useMemo)((function(){return(0,P.HK)(null===L||void 0===L?void 0:L.blocks,(function(e){return e.uuid}))||{}}),[L]),N={pipeline_uuid:a};(c||0===c)&&(N.pipeline_schedule_id=Number(c));var S=g.ZP.monitor_stats.detail("block_run_count",N),E=S.data,F=S.mutate,I=((null===E||void 0===E?void 0:E.monitor_stat)||{}).stats,A=(0,u.useMemo)((function(){return(0,w.Y_)()}),[]),z=(0,u.useMemo)((function(){if(I)return Object.entries(I).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],c=n[1].data,l=A.map((function(e){return C({date:e},c[e]||{})}));return C(C({},e),{},(0,o.Z)({},r,l))}),{})}),[A,I]),B=(0,u.useMemo)((function(){var e=[];return e.push({bold:!0,label:function(){return"Monitors"}}),e}),[]);return(0,_.jsx)(b.Z,{breadcrumbs:B,monitorType:Z.a_.BLOCK_RUNS,pipeline:L,subheader:(0,_.jsx)(h.ZP,{children:(0,_.jsxs)(j.Z,{backgroundColor:y.Z.interactive.defaultBackground,label:"Trigger:",onChange:function(e){var t=e.target.value;"initial"!==t?(l(t),F(t)):(F(),l(null))},value:c||"initial",children:[(0,_.jsx)("option",{value:"initial",children:"All"}),T&&T.map((function(e){return(0,_.jsx)("option",{value:e.id,children:e.name},e.id)}))]})}),children:(0,_.jsx)(v.Z,{mx:2,children:z&&Object.entries(z).map((function(e){var t,r,o=(0,i.Z)(e,2),c=o[0],l=o[1];return(0,_.jsxs)(v.Z,{mt:3,children:[(0,_.jsxs)(h.ZP,{alignItems:"center",children:[(0,_.jsx)(v.Z,{mx:1,children:(0,_.jsx)(f.Z,{color:(0,k.qn)(null===(t=D[c])||void 0===t?void 0:t.type,{blockColor:null===(r=D[c])||void 0===r?void 0:r.color,theme:n}).accent,size:O.ZG,square:!0})}),(0,_.jsx)(m.Z,{level:4,children:c})]}),(0,_.jsx)(v.Z,{mt:1,children:(0,_.jsx)(p.Z,{colors:Z.NU,data:l,getXValue:function(e){return e.date},height:200,keys:Z.hu,margin:{bottom:30,left:35,right:0,top:10},tooltipLeftOffset:Z.CD,xLabelFormat:function(e){return s()(e).format("MMM DD")}})})]},c)}))})})}M.getInitialProps=function(){var e=(0,r.Z)(l().mark((function e(t){var n;return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.pipeline,e.abrupt("return",{pipeline:{uuid:n}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.default=(0,x.Z)(M)},83542:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/monitors/block-runs",function(){return n(57772)}])}},function(e){e.O(0,[844,2083,5896,2714,9210,8013,600,9696,8264,4839,5457,9242,9774,2888,179],(function(){return t=83542,e(e.s=t);var t}));var t=e.O();_N_E=t}]);