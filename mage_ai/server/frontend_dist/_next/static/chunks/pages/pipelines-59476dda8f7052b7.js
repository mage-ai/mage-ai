(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1221],{8666:function(e,n,i){"use strict";var t;i.d(n,{b:function(){return t}}),function(e){e.BLOCK="block",e.PIPELINE="pipeline"}(t||(t={}))},31882:function(e,n,i){"use strict";var t=i(38626),o=i(71180),r=i(55485),u=i(38276),l=i(30160),c=i(44897),s=i(72473),a=i(70515),d=i(61896),p=i(28598),f=t.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||c.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||c.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((a.iI+d.Al)/2,"px;\n    height: ").concat(1.5*a.iI+d.Al,"px;\n    padding: ").concat(a.iI/1.5,"px ").concat(1.25*a.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((a.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+a.iI/2+2,"px;\n    padding: ").concat(a.iI/4,"px ").concat(a.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||c.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,i=e.children,t=e.disabled,c=e.label,d=e.onClick,h=e.primary,v=e.small;return(0,p.jsx)(f,{border:n,primary:h,small:v,children:(0,p.jsx)(o.Z,{basic:!0,disabled:t,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,p.jsxs)(r.ZP,{alignItems:"center",children:[i,c&&(0,p.jsx)(l.ZP,{small:v,children:c}),!t&&d&&(0,p.jsx)(u.Z,{ml:1,children:(0,p.jsx)(s.x8,{default:h,muted:!h,size:v?a.iI:1.25*a.iI})})]})})})}},55620:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return xe}});var t=i(77837),o=i(75582),r=i(82394),u=i(38860),l=i.n(u),c=i(12691),s=i.n(c),a=i(82684),d=i(83455),p=i(34376),f=i(52749),h=i(60523),v=i(71180),m=i(31882),g=i(94629),x=i(97618),b=i(55485),j=i(85854),Z=i(93369),C=i(65956),w=i(38276),_=i(30160),k=i(35576),y=i(17488),I=i(28598);var P=function(e){var n=e.description,i=e.isLoading,t=e.maxWidth,o=e.minWidth,r=e.noEmptyValue,u=e.onClose,l=e.onSave,c=e.textArea,s=e.title,d=e.value,p=(0,a.useRef)(null),f=(0,a.useState)(d),h=f[0],m=f[1],g=c?k.Z:y.Z;return(0,a.useEffect)((function(){var e;null===p||void 0===p||null===(e=p.current)||void 0===e||e.focus()}),[]),(0,I.jsxs)(C.Z,{maxWidth:t,minWidth:o,children:[(0,I.jsx)(_.ZP,{bold:!0,children:s}),(0,I.jsx)(w.Z,{mt:1,children:(0,I.jsx)(g,{monospace:!0,onChange:function(e){return m(e.target.value)},ref:p,rows:c?7:null,value:h})}),n&&(0,I.jsx)(w.Z,{mt:2,children:(0,I.jsx)(_.ZP,{muted:!0,small:!0,children:n})}),(0,I.jsx)(w.Z,{mt:3,children:(0,I.jsxs)(b.ZP,{children:[(0,I.jsx)(Z.ZP,{bold:!0,inline:!0,loading:i,onClick:function(){h===d||r&&!h?u():l(h)},outline:!0,primary:!0,uuid:"Inputs/InputModal/SaveInput",children:"Save"}),(0,I.jsx)(w.Z,{ml:1}),(0,I.jsx)(v.Z,{onClick:u,children:"Cancel"})]})})]})},T=i(48670),A=i(57653),S=i(55729),E=i(93808),O=i(4190),D=i(75499),R=i(48381),M=i(69650),G=i(38013),L=i(35686),B=i(44897),N=i(42631),U=i(44425),H=i(72473),z=i(23780),Y=i(8666),V=i(46684),W=i(53808),q="pipeline_list_filters",K="pipeline_list_group_bys",Q="pipeline_list_sort_column_index",$="pipeline_list_sort_direction";function F(e){return(0,W.t8)(q,e),e}function X(e){return(0,W.t8)(K,e),e}var J=i(32929),ee=i(44898),ne=i(70515),ie=i(30229),te=i(81655),oe=i(31608),re=i(81728),ue=i(72619),le=i(69419),ce=i(65458),se=i(15610),ae=i(86735),de=i(42122),pe=i(3314),fe=i(89538);function he(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function ve(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?he(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):he(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var me={borderRadius:N.BG,iconOnly:!0,noBackground:!0,noBorder:!0,outline:!0,padding:"4px"};function ge(){var e=(0,p.useRouter)(),n=(0,a.useRef)(null),i=(0,a.useState)(null),t=i[0],u=i[1],l=(0,a.useState)(null),c=l[0],Z=l[1],k=(0,a.useState)(null),y=k[0],E=k[1],N=(0,a.useState)({}),he=N[0],ge=N[1],xe=(0,a.useState)(null),be=xe[0],je=xe[1],Ze=(0,le.iV)(),Ce=(0,le.DQ)(Ze,[A.$1.STATUS,A.$1.TAG,A.$1.TYPE]),we=L.ZP.pipelines.list(ve(ve({},Ce),{},{include_schedules:1})),_e=we.data,ke=we.mutate,ye=(0,a.useMemo)((function(){var e=(null===_e||void 0===_e?void 0:_e.pipelines)||[];if(y){var n=y.toLowerCase();e=e.filter((function(e){var i=e.name,t=e.description,o=e.uuid;return(null===i||void 0===i?void 0:i.toLowerCase().includes(n))||(null===o||void 0===o?void 0:o.toLowerCase().includes(n))||(null===t||void 0===t?void 0:t.toLowerCase().includes(n))}))}return e}),[null===_e||void 0===_e?void 0:_e.pipelines,y]),Ie=(0,a.useMemo)((function(){return(0,ae.HK)(ye,(function(e){return e.uuid}))}),[ye]),Pe=(0,a.useCallback)((function(e){var n,i,t,o;return null===e||void 0===e||null===(n=e[2])||void 0===n||null===(i=n.props)||void 0===i||null===(t=i.children)||void 0===t||null===(o=t.props)||void 0===o?void 0:o.children}),[]),Te=(0,a.useMemo)((function(){return(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.map((function(e){var n=Pe(e);return null===Ie||void 0===Ie?void 0:Ie[n]})):ye}),[Pe,c,ye,Ie]),Ae=(0,a.useMemo)((function(){return[1,2,3,4,5,6,8,9]}),[]),Se=L.ZP.projects.list(),Ee=Se.data,Oe=Se.mutate,De=(0,a.useMemo)((function(){var e;return null===Ee||void 0===Ee||null===(e=Ee.projects)||void 0===e?void 0:e[0]}),[Ee]),Re=null===Ze||void 0===Ze?void 0:Ze[te.lG.SORT_COL_IDX],Me=null===Ze||void 0===Ze?void 0:Ze[te.lG.SORT_DIRECTION],Ge=(0,a.useMemo)((function(){return Re?{columnIndex:+Re,sortDirection:Me||te.sh.ASC}:void 0}),[Re,Me]),Le=null===Ze||void 0===Ze?void 0:Ze[A.$1.GROUP];(0,a.useEffect)((function(){var e={};if(Re&&Ae.includes(+Re))(0,W.t8)(Q,Re),Me&&(0,W.t8)($,Me);else{var n=(0,W.U2)(Q,null),i=(0,W.U2)($,te.sh.ASC);null!==n&&(e[te.lG.SORT_COL_IDX]=n,e[te.lG.SORT_DIRECTION]=i)}if(Le)X((0,r.Z)({},Le,!0));else{var t,u=(0,W.U2)(K,{});u&&Object.entries(u).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],r=n[1];!t&&r&&(t=i)})),t&&(e[A.$1.GROUP]=t)}if((0,de.Qr)(Ce)){var l={},c=(0,W.U2)(q,{});c&&Object.entries(c).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],t=n[1];l[i]=[],Object.entries(t).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0];n[1]&&l[i].push(t)}))})),(0,de.Qr)(l)||(e=ve(ve({},e),l))}else{var s={};Object.entries(Ce).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],t=n[1];s[i]={};var r,u=t;(Array.isArray(u)||(u=[u]),u&&Array.isArray(u))&&(null===(r=u)||void 0===r||r.forEach((function(e){s[i][e]=!0})))})),F(s)}(0,de.Qr)(e)||(0,se.u7)(e,{pushHistory:!1})}),[Le,Ce,Ae,Re,Me]),(0,a.useEffect)((function(){(0,ue.bB)(_e,je)}),[_e]);var Be=function(e){return(0,d.Db)(L.ZP.pipelines.useCreate(),{onSuccess:function(n){return(0,ue.wD)(n,{callback:function(n){var i=n.pipeline.uuid;null===e||void 0===e||e(i)},onErrorCallback:function(e,n){return je({errors:n,response:e})}})}})},Ne=Be((function(n){return e.push("/pipelines/[pipeline]/edit","/pipelines/".concat(n,"/edit"))})),Ue=(0,o.Z)(Ne,2),He=Ue[0],ze=Ue[1].isLoading,Ye=Be((function(){return null===ke||void 0===ke?void 0:ke()})),Ve=(0,o.Z)(Ye,2),We=Ve[0],qe=Ve[1].isLoading,Ke=(0,d.Db)((function(e){return L.ZP.pipelines.useUpdate(e.uuid)({pipeline:e})}),{onSuccess:function(e){return(0,ue.wD)(e,{callback:function(e){var n=e.pipeline.uuid;ge((function(e){return ve(ve({},e),{},(0,r.Z)({},n,!1))})),ke(),null===un||void 0===un||un(),u(null)},onErrorCallback:function(e,n){var i,t=null===e||void 0===e||null===(i=e.url_parameters)||void 0===i?void 0:i.pk;ge((function(e){return ve(ve({},e),{},(0,r.Z)({},t,!1))})),je({errors:n,response:e})}})}}),Qe=(0,o.Z)(Ke,2),$e=Qe[0],Fe=Qe[1].isLoading,Xe=(0,d.Db)((function(e){return L.ZP.pipelines.useDelete(e)()}),{onSuccess:function(e){return(0,ue.wD)(e,{callback:function(){null===ke||void 0===ke||ke()},onErrorCallback:function(e,n){return je({errors:n,response:e})}})}}),Je=(0,o.Z)(Xe,2),en=Je[0],nn=Je[1].isLoading,tn=(0,fe.dd)((function(e){var n=e.pipeline,i=e.pipelineDescription,o=e.pipelineName;return(0,I.jsx)(P,{isLoading:Fe,minWidth:55*ne.iI,noEmptyValue:!!o,onClose:un,onSave:function(e){var i=n||t;if(i){var u=i.uuid,l={uuid:u};o?l.name=e:l.description=e,ge((function(e){return ve(ve({},e),{},(0,r.Z)({},u,!0))})),$e(l)}},textArea:!o,title:o?"Rename pipeline":"Edit description for ".concat(null===n||void 0===n?void 0:n.uuid),value:o||i})}),{},[Fe,t],{background:!0,uuid:"rename_pipeline_and_save"}),on=(0,o.Z)(tn,2),rn=on[0],un=on[1],ln=(0,fe.dd)((function(){return(0,I.jsx)(z.BC,{children:(0,I.jsx)(h.Z,{contained:!0,onClickCustomTemplate:function(e){He({pipeline:{custom_template_uuid:null===e||void 0===e?void 0:e.template_uuid,name:(0,re.Y6)()}}).then((function(){an()}))},showBreadcrumbs:!0,tabs:[J.A2]})})}),{},[He],{background:!0,uuid:"browse_templates"}),cn=(0,o.Z)(ln,2),sn=cn[0],an=cn[1],dn=(0,fe.dd)((function(e){var n=e.cancelButtonText,i=(e.header,e.onCancel),t=e.onSaveSuccess;return(0,I.jsx)(z.BC,{children:(0,I.jsx)(S.Z,{cancelButtonText:n,contained:!0,header:(0,I.jsx)(w.Z,{mb:ne.HN,children:(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(_.ZP,{warning:!0,children:"You need to add an OpenAI API key to your project before you can generate pipelines using AI."}),(0,I.jsx)(w.Z,{mt:1,children:(0,I.jsxs)(_.ZP,{warning:!0,children:["Read ",(0,I.jsx)(T.Z,{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key",openNewWindow:!0,children:"OpenAI\u2019s documentation"})," to get your API key."]})})]})}),onCancel:function(){null===i||void 0===i||i(),hn()},onSaveSuccess:function(e){Oe(),hn(),null===t||void 0===t||t(e)}})})}),{},[Oe],{background:!0,uuid:"configure_project"}),pn=(0,o.Z)(dn,2),fn=pn[0],hn=pn[1],vn=(0,fe.dd)((function(){return(0,I.jsx)(z.BC,{children:(0,I.jsx)(f.Z,{createPipeline:He,isLoading:ze,onClose:xn})})}),{},[He,ze],{background:!0,disableClickOutside:!0,disableCloseButton:!0,uuid:"AI_modal"}),mn=(0,o.Z)(vn,2),gn=mn[0],xn=mn[1],bn=(0,a.useMemo)((function(){return(0,ce.d)(He,{showAIModal:function(){null!==De&&void 0!==De&&De.openai_api_key?gn():fn({onSaveSuccess:function(){gn()}})},showBrowseTemplates:sn})}),[He,De,gn,sn,fn]),jn=L.ZP.tags.list().data,Zn=(0,a.useMemo)((function(){return(0,ae.YC)((null===jn||void 0===jn?void 0:jn.tags)||[],(function(e){return e.uuid}))}),[jn]),Cn=(0,a.useMemo)((function(){return(0,I.jsx)(G.Z,{addButtonProps:{isLoading:ze,label:"New",menuItems:bn},deleteRowProps:{confirmationMessage:"This is irreversible and will immediately delete everything associated           with the pipeline, including its blocks, triggers, runs, logs, and history.",isLoading:nn,item:"pipeline",onDelete:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null===t||void 0===t?void 0:t.uuid,"?"))&&en(null===t||void 0===t?void 0:t.uuid)}},extraActionButtonProps:{Icon:H.oX,confirmationDescription:"Cloning the selected pipeline will create a new pipeline with the same           configuration and code blocks. The blocks use the same block files as the original pipeline.           Pipeline triggers, runs, backfills, and logs are not copied over to the new pipeline.",confirmationMessage:"Do you want to clone the pipeline ".concat(null===t||void 0===t?void 0:t.uuid,"?"),isLoading:qe,onClick:function(){return We({pipeline:{clone_pipeline_uuid:null===t||void 0===t?void 0:t.uuid}})},openConfirmationDialogue:!0,tooltip:"Clone pipeline"},filterOptions:{status:Object.values(A.QK),tag:Zn.map((function(e){return e.uuid})),type:Object.values(A.qL)},filterValueLabelMapping:{tag:Zn.reduce((function(e,n){var i=n.uuid;return ve(ve({},e),{},(0,r.Z)({},i,i))}),{}),type:A.G7},groupButtonProps:{groupByLabel:Le,menuItems:[{beforeIcon:Le===A.r0.STATUS?(0,I.jsx)(H.Jr,{fill:B.Z.content.default,size:1.5*ne.iI}):(0,I.jsx)(H.Cd,{muted:!0,size:1.5*ne.iI}),label:function(){return(0,re.kC)(A.r0.STATUS)},onClick:function(){var e=Le===A.r0.STATUS?null:A.r0.STATUS;e||X({}),(0,se.u7)((0,r.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Status"},{beforeIcon:Le===A.r0.TAG?(0,I.jsx)(H.Jr,{fill:B.Z.content.default,size:1.5*ne.iI}):(0,I.jsx)(H.Cd,{muted:!0,size:1.5*ne.iI}),label:function(){return(0,re.kC)(A.r0.TAG)},onClick:function(){var e=Le===A.r0.TAG?null:A.r0.TAG;e||X({}),(0,se.u7)((0,r.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Tag"},{beforeIcon:Le===A.r0.TYPE?(0,I.jsx)(H.Jr,{fill:B.Z.content.default,size:1.5*ne.iI}):(0,I.jsx)(H.Cd,{muted:!0,size:1.5*ne.iI}),label:function(){return(0,re.kC)(A.r0.TYPE)},onClick:function(){var e=Le===A.r0.TYPE?null:A.r0.TYPE;e||X({}),(0,se.u7)((0,r.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Type"}]},moreActionsMenuItems:[{label:function(){return"Rename pipeline"},onClick:function(){return rn({pipelineName:null===t||void 0===t?void 0:t.name})},uuid:"Pipelines/MoreActionsMenu/Rename"},{label:function(){return"Edit description"},onClick:function(){return rn({pipeline:t,pipelineDescription:null===t||void 0===t?void 0:t.description})},uuid:"Pipelines/MoreActionsMenu/EditDescription"}],onClickFilterDefaults:function(){F({}),e.push("/pipelines")},onFilterApply:function(e,n){Object.values(n).every((function(e){return!(null!==e&&void 0!==e&&e.length)}))&&F({})},query:Ce,searchProps:{onChange:E,value:y},selectedRowId:null===t||void 0===t?void 0:t.uuid,setSelectedRow:u})}),[We,en,Le,qe,ze,nn,bn,Ce,e,y,t,rn,Zn]),wn=(0,z.VI)(null,{},[],{uuid:"pipelines/list"}),_n=(0,o.Z)(wn,1)[0],kn=(0,d.Db)(L.ZP.projects.useUpdate(null===De||void 0===De?void 0:De.name),{onSuccess:function(e){return(0,ue.wD)(e,{callback:function(){Oe()},onErrorCallback:function(e,n){return _n({errors:n,response:e})}})}}),yn=(0,o.Z)(kn,2),In=yn[0],Pn=yn[1].isLoading,Tn=(0,a.useCallback)((function(e){return In({project:e})}),[In]),An=(0,fe.dd)((function(){return(0,I.jsxs)(C.Z,{maxWidth:60*ne.iI,children:[(0,I.jsx)(w.Z,{mb:1,children:(0,I.jsx)(j.Z,{children:"Help improve Mage"})}),(0,I.jsx)(w.Z,{mb:ne.cd,children:(0,I.jsx)(_.ZP,{default:!0,children:"Please contribute usage statistics to help improve the developer experience for you and everyone in the community \ud83e\udd1d."})}),(0,I.jsx)(w.Z,{mb:ne.cd,children:(0,I.jsx)(C.Z,{success:!0,children:(0,I.jsxs)(b.ZP,{alignItems:"center",children:[(0,I.jsx)(H.Yo,{size:5*ne.iI,success:!0}),(0,I.jsx)(w.Z,{mr:1}),(0,I.jsx)(x.Z,{children:(0,I.jsx)(_.ZP,{children:"All usage statistics are completely anonymous. It\u2019s impossible for Mage to know which statistics belongs to whom."})})]})})}),(0,I.jsx)(w.Z,{mb:ne.cd,children:(0,I.jsxs)(_.ZP,{default:!0,children:["By opting into sending usage statistics to ",(0,I.jsx)(T.Z,{href:"https://www.mage.ai",openNewWindow:!0,children:"Mage"}),", it\u2019ll help the team and community of contributors (",(0,I.jsx)(T.Z,{href:"https://www.mage.ai/chat",openNewWindow:!0,children:"Magers"}),") learn what\u2019s going wrong with the tool and what improvements can be made."]})}),(0,I.jsx)(w.Z,{mb:ne.cd,children:(0,I.jsx)(_.ZP,{default:!0,children:"In addition to helping reduce potential errors, you\u2019ll help inform which features are useful and which need work."})}),(0,I.jsx)(w.Z,{mb:ne.cd,children:(0,I.jsxs)(b.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,I.jsx)(_.ZP,{bold:!0,children:"I want to help make Mage more powerful for everyone"}),(0,I.jsx)(w.Z,{mr:ne.cd}),(0,I.jsx)(M.Z,{checked:!0,onCheck:function(){window.confirm("Are you sure you don\u2019t want to help everyone in the community?")&&Tn({help_improve_mage:!1}).then((function(){return On()}))}})]})}),Pn&&(0,I.jsx)(w.Z,{mb:ne.cd,children:(0,I.jsx)(O.Z,{inverted:!0})}),(0,I.jsx)(w.Z,{mb:ne.cd,children:(0,I.jsxs)(_.ZP,{muted:!0,small:!0,children:["To learn more about how this works, please check out the ",(0,I.jsx)(T.Z,{href:"https://docs.mage.ai/contributing/statistics/overview",openNewWindow:!0,small:!0,children:"documentation"}),"."]})}),(0,I.jsx)(v.Z,{onClick:function(){return Tn({help_improve_mage:!0}).then((function(){return On()}))},secondary:!0,children:"Close"})]})}),{},[De],{background:!0,hideCallback:function(){Tn({help_improve_mage:!0})},uuid:"help_mage"}),Sn=(0,o.Z)(An,2),En=Sn[0],On=Sn[1];(0,a.useEffect)((function(){De&&null===(null===De||void 0===De?void 0:De.help_improve_mage)&&En()}),[De,En]);var Dn=(0,a.useMemo)((function(){var e={};null===Te||void 0===Te||Te.forEach((function(n,i){var t=null===n||void 0===n?void 0:n[Le];if(A.r0.STATUS===Le){var o=(n||{}).schedules,r=void 0===o?[]:o,u=r.length;t=r.find((function(e){var n=e.status;return ie.fq.ACTIVE===n}))?A.QK.ACTIVE:u>=1?A.QK.INACTIVE:A.QK.NO_SCHEDULES}else if(A.r0.TAG===Le){t=(null===n||void 0===n?void 0:n.tags)?(0,ae.YC)(n.tags,(function(e){return e})).join(", "):""}e[t]||(e[t]=[]),e[t].push(i)}));var n=[],i=[];return A.r0.STATUS===Le?Object.values(A.QK).forEach((function(t){n.push(e[t]),i.push((0,re.vg)(t))})):A.r0.TAG===Le?(0,ae.YC)(Object.keys(e),(function(e){return e})).forEach((function(t){n.push(e[t]),t?i.push(t.split(", ").map((function(e,n){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{marginLeft:n>=1?4:0}},"".concat(e,"-").concat(n,"-spacing")),(0,I.jsx)(m.Z,{small:!0,children:(0,I.jsx)(_.ZP,{children:e})},"".concat(e,"-").concat(n))]})}))):i.push("No tags")})):A.r0.TYPE===Le&&Object.values(A.qL).forEach((function(t){n.push(e[t]),i.push(A.G7[t])})),{rowGroupHeaders:i,rowsGroupedByIndex:n}}),[Le,Te]),Rn=Dn.rowGroupHeaders,Mn=Dn.rowsGroupedByIndex;return(0,I.jsx)(g.Z,{errors:be,setErrors:je,subheaderChildren:Cn,title:"Pipelines",uuid:"pipelines/index",children:0===(null===ye||void 0===ye?void 0:ye.length)?(0,I.jsx)(w.Z,{px:3,py:1,children:_e?(0,I.jsx)(_.ZP,{bold:!0,default:!0,monospace:!0,muted:!0,children:"No pipelines available"}):(0,I.jsx)(O.Z,{inverted:!0,large:!0})}):(0,I.jsx)(oe.cl,{includePadding:!!Le,maxHeight:"calc(100vh - ".concat(V.Mz+74,"px)"),children:(0,I.jsx)(D.Z,{columnFlex:[null,null,null,2,null,null,null,1,null,null,null],columns:[{label:function(){return""},uuid:"action"},{uuid:(0,re.kC)(A.r0.STATUS)},{uuid:"Name"},{uuid:"Description"},{uuid:(0,re.kC)(A.r0.TYPE)},{uuid:"Updated at"},{uuid:"Created at"},{uuid:"Tags"},{uuid:"Blocks"},{uuid:"Triggers"},{center:!0,label:function(){return""},uuid:"Actions"}],defaultSortColumnIndex:2,getUniqueRowIdentifier:Pe,isSelectedRow:function(e){var n;return(null===(n=Te[e])||void 0===n?void 0:n.uuid)===(null===t||void 0===t?void 0:t.uuid)},localStorageKeySortColIdx:Q,localStorageKeySortDirection:$,onClickRow:function(e){return u((function(n){var i=Te[e];return(null===n||void 0===n?void 0:n.uuid)!==(null===i||void 0===i?void 0:i.uuid)?i:null}))},onDoubleClickRow:function(n){e.push("/pipelines/[pipeline]/edit","/pipelines/".concat(Te[n].uuid,"/edit"))},ref:n,renderRightClickMenuItems:function(n){var i=Te[n];return[{label:function(){return"Edit description"},onClick:function(){return rn({pipeline:i,pipelineDescription:null===i||void 0===i?void 0:i.description})},uuid:"edit_description"},{label:function(){return"Rename"},onClick:function(){return rn({pipeline:i,pipelineName:null===i||void 0===i?void 0:i.name})},uuid:"rename"},{label:function(){return"Clone"},onClick:function(){return We({pipeline:{clone_pipeline_uuid:null===i||void 0===i?void 0:i.uuid}})},uuid:"clone"},{label:function(){return"Add/Remove tags"},onClick:function(){e.push("/pipelines/[pipeline]/settings","/pipelines/".concat(null===i||void 0===i?void 0:i.uuid,"/settings"))},uuid:"add_tags"},{label:function(){return"Create template"},onClick:function(){e.push("/templates?object_type=".concat(ee.R,"&new=1&pipeline_uuid=").concat(null===i||void 0===i?void 0:i.uuid))},uuid:"create_custom_template"},{label:function(){return"Create global data product"},onClick:function(){e.push("/global-data-products?object_type=".concat(Y.b.PIPELINE,"&new=1&object_uuid=").concat(null===i||void 0===i?void 0:i.uuid))},uuid:"create_global_data_product"},{label:function(){return"Delete"},onClick:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null===i||void 0===i?void 0:i.uuid,"?"))&&en(null===i||void 0===i?void 0:i.uuid)},uuid:"delete"}]},rightClickMenuWidth:25*ne.iI,rowGroupHeaders:Rn,rows:ye.map((function(n,i){var t=n.blocks,o=n.created_at,u=n.description,l=n.schedules,c=n.tags,a=n.type,d=n.updated_at,p=n.uuid,f=t.filter((function(e){var n=e.type;return U.tf.SCRATCHPAD!==n})).length,h=l.length,m=l.find((function(e){var n=e.status;return ie.fq.ACTIVE===n})),g=(0,I.jsx)("div",{children:(0,I.jsx)(R.Z,{tags:null===c||void 0===c?void 0:c.map((function(e){return{uuid:e}}))})},"pipeline_tags_".concat(i));return[h>=1||he[p]?(0,I.jsx)(v.Z,{iconOnly:!0,loading:!!he[p],noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(e){(0,pe.j)(e),ge((function(e){return ve(ve({},e),{},(0,r.Z)({},p,!0))})),$e(ve(ve({},n),{},{status:m?ie.fq.INACTIVE:ie.fq.ACTIVE}))},children:m?(0,I.jsx)(H.dz,{muted:!0,size:2*ne.iI}):(0,I.jsx)(H.Py,{default:!0,size:2*ne.iI})}):null,(0,I.jsx)(_.ZP,{default:!m,monospace:!0,success:!!m,children:m?ie.fq.ACTIVE:h>=1?ie.fq.INACTIVE:"no schedules"},"pipeline_status_".concat(i)),(0,I.jsx)(s(),{as:"/pipelines/".concat(p),href:"/pipelines/[pipeline]",passHref:!0,children:(0,I.jsx)(T.Z,{sameColorAsText:!0,children:p})},"pipeline_name_".concat(i)),(0,I.jsx)(_.ZP,{default:!0,title:u,width:90*ne.iI,children:u},"pipeline_description_".concat(i)),(0,I.jsx)(_.ZP,{children:A.G7[a]},"pipeline_type_".concat(i)),(0,I.jsx)(_.ZP,{monospace:!0,small:!0,title:d,children:d?d.slice(0,-3):(0,I.jsx)(I.Fragment,{children:"\u2014"})},"pipeline_updated_at_".concat(i)),(0,I.jsx)(_.ZP,{monospace:!0,small:!0,title:o,children:o?o.slice(0,16):(0,I.jsx)(I.Fragment,{children:"\u2014"})},"pipeline_created_at_".concat(i)),g,(0,I.jsx)(_.ZP,{default:0===f,monospace:!0,children:f},"pipeline_block_count_".concat(i)),(0,I.jsx)(_.ZP,{default:0===h,monospace:!0,children:h},"pipeline_trigger_count_".concat(i)),(0,I.jsxs)(x.Z,{flex:1,justifyContent:"flex-end",children:[(0,I.jsx)(v.Z,ve(ve({},me),{},{onClick:function(){e.push("/pipelines/[pipeline]","/pipelines/".concat(p))},title:"Detail",children:(0,I.jsx)(H.UY,{default:!0,size:2*ne.iI})})),(0,I.jsx)(w.Z,{mr:1}),(0,I.jsx)(v.Z,ve(ve({},me),{},{onClick:function(){e.push("/pipelines/[pipeline]/logs","/pipelines/".concat(p,"/logs"))},title:"Logs",children:(0,I.jsx)(H.$B,{default:!0,size:2*ne.iI})}))]},"chevron_icon_".concat(i))]})),rowsGroupedByIndex:Mn,setRowsSorted:Z,sortableColumnIndexes:Ae,sortedColumn:Ge,stickyHeader:!0})})})}ge.getInitialProps=(0,t.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var xe=(0,E.Z)(ge)},79274:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines",function(){return i(55620)}])}},function(e){e.O(0,[844,9902,426,8789,5264,4259,341,4754,6358,9696,8264,5499,1845,7586,5810,3859,2407,9264,2677,5422,9774,2888,179],(function(){return n=79274,e(e.s=n);var n}));var n=e.O();_N_E=n}]);