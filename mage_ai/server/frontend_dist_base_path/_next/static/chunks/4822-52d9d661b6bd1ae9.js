"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4822],{62976:function(e,n,t){t.d(n,{r:function(){return O},Z:function(){return B}});var r=t(82394),o=t(21831),i=t(82684),a=t(10919),c=t(12691),l=t.n(c),d=t(38626),u=t(72487),s=t(44628),h=t(6508),f=t(67971),m=t(19711),g=t(23831),p=t(31969),v=function(){var e=document.createElement("div");e.setAttribute("style","width: 100px; height: 100px; overflow: scroll; position:absolute; top:-9999px;"),document.body.appendChild(e);var n=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),n},b=t(2005),x=t(31012),y=t(37391),w=t(6753),j=t(49125),S=t(20567),H=t(24224),k=t(28598);function I(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?I(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=2*j.iI+x.dN,E=20*j.iI,O=8.7,P=d.default.div.withConfig({displayName:"DataTable__Styles",componentId:"sc-1arr863-0"})([""," "," "," .body > div{","}.table{border-spacing:0;display:inline-block;"," "," "," "," .tr{.td.td-index-column{","}}.th{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;","}.th,.td{"," font-family:",";margin:0;","}.td{padding:","px;}&.sticky{overflow:auto;}.header{overflow:hidden;}}"],(function(e){return e.disableScrolling&&"\n    overflow: hidden;\n  "}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,"px;\n  ")}),y.w5,(function(e){return!e.noBorderBottom&&"\n      border-bottom: 1px solid ".concat((e.theme.borders||p.Z.borders).medium,";\n    ")}),(function(e){return!e.noBorderLeft&&"\n      border-left: 1px solid ".concat((e.theme.borders||p.Z.borders).medium,";\n    ")}),(function(e){return!e.noBorderRight&&"\n      border-right: 1px solid ".concat((e.theme.borders||p.Z.borders).medium,";\n    ")}),(function(e){return!e.noBorderTop&&"\n      border-top: 1px solid ".concat((e.theme.borders||p.Z.borders).medium,";\n    ")}),(function(e){return"\n          color: ".concat((e.theme.content||p.Z.content).default,";\n        ")}),(function(e){return"\n        height: ".concat(e.columnHeaderHeight||C,"px;\n      ")}),x.iD,b.ry,(function(e){return"\n        background-color: ".concat((e.theme.background||p.Z.background).table,";\n        border-bottom: 1px solid ").concat((e.theme.borders||p.Z.borders).medium,";\n        border-right: 1px solid ").concat((e.theme.borders||p.Z.borders).medium,";\n      ")}),1*j.iI);function T(e){var n=e.original,t=8.5*Math.max.apply(Math,(0,o.Z)(n.map((function(e){return(null===e||void 0===e?void 0:e.length)||0})))),r=Math.ceil(t/(E-2*j.iI));return Math.max(r,1)*x.dN+2*j.iI}function A(e){var n=e.columnHeaderHeight,t=e.columns,r=e.data,c=e.disableScrolling,y=e.height,I=e.index,P=e.invalidValues,A=e.maxHeight,B=e.numberOfIndexes,M=e.previewIndexes,_=e.renderColumnHeader,N=e.width,L=(0,i.useContext)(d.ThemeContext),R=(0,i.useRef)(null),D=(0,i.useRef)(null);(0,i.useEffect)((function(){var e=function(e){var n;null===R||void 0===R||null===(n=R.current)||void 0===n||n.scroll(e.target.scrollLeft,0)};return D&&D.current.addEventListener("scroll",e),function(){var n;null===D||void 0===D||null===(n=D.current)||void 0===n||n.removeEventListener("scroll",e)}}),[R,D]);var V=(0,i.useMemo)((function(){return I&&r&&I.length===r.length}),[r,I]),W=(0,i.useMemo)((function(){var e=[];return(0,H.w6)(B).forEach((function(n,t){var i=String(null===r||void 0===r?void 0:r.length).length*O;if(V){var a=I.map((function(e){return B>=2?String(e[t]).length:String(e).length}));i=Math.max.apply(Math,(0,o.Z)(a))*O}e.push(i+2*j.iI)})),e}),[r,I,B,V]),z=t.map((function(e){return null===e||void 0===e?void 0:e.Header})).slice(1),U=(0,i.useMemo)((function(){return v()}),[]),F=(0,i.useMemo)((function(){var e=N-(Math.max.apply(Math,(0,o.Z)(W))+1.5*j.iI+U),n=t.length-1,r=E;return r*n<e&&(r=e/n),{width:r}}),[t,W,U,N]),G=(0,s.useTable)({columns:t,data:r,defaultColumn:F},s.useBlockLayout,h.useSticky),q=G.getTableBodyProps,J=G.getTableProps,X=G.headerGroups,K=G.prepareRow,Q=G.rows,Y=new Set((null===M||void 0===M?void 0:M.removedRows)||[]),$=(0,i.useCallback)((function(e){var n=e.index,t=e.style,r=Q[n];K(r);var o=r.original,c=Y.has(n);return(0,k.jsx)("div",Z(Z({},r.getRowProps({style:Z(Z({},t),{},{width:"auto"})})),{},{className:"tr",children:r.cells.map((function(e,t){var r,d=t<=B-1,u=e.getCellProps(),s=e.column.id,h=null===P||void 0===P||null===(r=P[s])||void 0===r?void 0:r.includes(n),g=Z({},u.style);d&&(g.fontFamily=b.Vp,g.left=0,g.position="sticky",g.textAlign=I?"right":"center",g.width=W[t]);var v,x=o[t-B],y=z.indexOf(s);if(h&&(g.color=p.Z.interactive.dangerBorder),c&&(g.backgroundColor=p.Z.background.danger),Array.isArray(x)||"object"===typeof x)try{x=JSON.stringify(x)}catch(j){x="Error: cannot display value"}return d&&(V?(v=I[n],Array.isArray(v)&&(v=v[t])):v=e.render("Cell")),(0,i.createElement)("div",Z(Z({},u),{},{className:"td ".concat(d?"td-index-column":""),key:"".concat(t,"-").concat(x),style:g}),v,!d&&(0,k.jsxs)(f.Z,{justifyContent:"space-between",children:[(0,k.jsxs)(m.ZP,{danger:h,default:!0,wordBreak:!0,children:[!0===x&&"true",!1===x&&"false",(null===x||"null"===x)&&"null",!0!==x&&!1!==x&&null!==x&&"null"!==x&&x]}),h&&(0,k.jsx)(l(),{as:(0,S.o_)(w.mW,y),href:"/datasets/[...slug]",passHref:!0,children:(0,k.jsx)(a.Z,{danger:!0,children:"View all"})})]}))}))}))}),[z,I,P,W,B,K,Q,V]),ee=(0,i.useMemo)((function(){var e;return A?(e=(0,H.Sm)(Q.map(T)),e+=n||C-x.dN):(e=y,e-=n||C),e}),[n,y,A,Q]),ne=(0,i.useMemo)((function(){return(0,k.jsx)(u.S_,{estimatedItemSize:C,height:ee,itemCount:null===Q||void 0===Q?void 0:Q.length,itemSize:function(e){return T(Q[e])},outerRef:D,style:{maxHeight:A,pointerEvents:c?"none":null},children:$})}),[c,ee,A,$,Q]);return(0,k.jsx)("div",Z(Z({},J()),{},{className:"table sticky",style:{width:N},children:(0,k.jsxs)("div",Z(Z({},q()),{},{className:"body",children:[(0,k.jsx)("div",{className:"header",ref:R,children:X.map((function(e,n){return(0,i.createElement)("div",Z(Z({},e.getHeaderGroupProps()),{},{className:"tr",key:"".concat(e.id,"_").concat(n)}),e.headers.map((function(e,n){var t,r=n<=B-1,o=e.getHeaderProps(),a=Z({},o.style);return r?(a.fontFamily=b.Vp,a.left=0,a.position="sticky",a.textAlign="center",a.width=W[n],a.minWidth=W[n]):_?t=_(e,n-B,{width:F.width}):(t=e.render("Header"),a.color=(L||g.Z).content.default,a.padding=1*j.iI,a.minWidth=F.width),(0,i.createElement)("div",Z(Z({},o),{},{className:"th",key:e.id,style:a,title:r?"Row number":void 0}),t)})))}))}),ne]}))}))}var B=function(e){var n=e.columnHeaderHeight,t=e.columns,r=e.disableScrolling,o=e.height,a=e.index,c=e.invalidValues,l=e.maxHeight,d=e.noBorderBottom,u=e.noBorderLeft,s=e.noBorderRight,h=e.noBorderTop,f=e.previewIndexes,m=e.renderColumnHeader,g=e.rows,p=e.width,v=(0,i.useMemo)((function(){return null!==a&&void 0!==a&&a.length&&Array.isArray(a[0])?a[0].length:1}),[a]),b=(0,i.useMemo)((function(){return(0,H.w6)(v).map((function(e,n){return{Header:(0,H.w6)(n+1).map((function(){return" "})).join(" "),accessor:function(e,n){return n},sticky:"left"}})).concat(null===t||void 0===t?void 0:t.map((function(e){return{Header:String(e),accessor:String(e)}})))}),[t,v]);return(0,k.jsx)(P,{columnHeaderHeight:n,disableScrolling:r,height:o,maxHeight:(l||0)+37,noBorderBottom:d,noBorderLeft:u,noBorderRight:s,noBorderTop:h,children:(0,k.jsx)(A,{columnHeaderHeight:n,columns:b,data:g,disableScrolling:r,height:o,index:a,invalidValues:c,maxHeight:l,numberOfIndexes:v,previewIndexes:f,renderColumnHeader:m,width:p})})}},6753:function(e,n,t){t.d(n,{AE:function(){return o},H3:function(){return i},mW:function(){return a},oE:function(){return c},yg:function(){return r}});var r="tabs[]",o="show_columns",i="column",a="Reports",c="Visualizations"},20567:function(e,n,t){t.d(n,{o_:function(){return l}});var r=t(75582),o=t(34376),i=t(6753);t(82684),t(12691),t(60328),t(57639),t(93461),t(67971),t(10919),t(86673),t(19711),t(10503),t(28598);var a,c=t(59e3);!function(e){e.DATASETS="datasets",e.DATASET_DETAIL="dataset_detail",e.COLUMNS="features",e.COLUMN_DETAIL="feature_detail",e.EXPORT="export"}(a||(a={}));var l=function(e,n){var t=(0,o.useRouter)().query.slug,l=void 0===t?[]:t,d=(0,r.Z)(l,1)[0],u=(0,c.iV)(),s=u.show_columns,h=u.column,f="/".concat(a.DATASETS,"/").concat(d),m="".concat(i.H3,"=").concat(h||n),g="".concat(i.yg,"=").concat(e,"&").concat(m,"&").concat(i.AE,"=").concat(s||0);return"".concat(f,"?").concat(g)}},32316:function(e,n,t){t.d(n,{Z:function(){return p}});var r=t(82684),o=t(60328),i=t(67971),a=t(882),c=t(86673),l=t(19711),d=t(99994),u=t(38626),s=t(49125),h=t(37391),f=u.default.div.withConfig({displayName:"indexstyle__TabsContainerStyle",componentId:"sc-segf7l-0"})(["padding-left:","px;padding-right:","px;"," "," ",""],s.cd*s.iI,s.cd*s.iI,(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.allowScroll&&"\n    overflow: auto;\n  "}),h.w5),m=t(66653),g=t(28598);var p=function(e){var n=e.allowScroll,t=e.compact,u=e.contained,h=e.noPadding,p=e.onClickTab,v=e.regularSizeText,b=e.selectedTabUUID,x=e.small,y=e.tabs,w=(0,r.useMemo)((function(){var e=y.length,n=[];return y.forEach((function(r,u){var h=r.Icon,f=r.IconSelected,y=r.label,w=r.uuid,j=w===b,S=j&&f||h,H=y?y():w,k=(0,g.jsxs)(i.Z,{alignItems:"center",children:[S&&(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(S,{default:!j,size:2*s.iI}),(0,g.jsx)(c.Z,{mr:1})]}),(0,g.jsx)(l.ZP,{bold:!0,default:!j,noWrapping:!0,small:!v,children:H})]});u>=1&&e>=2&&n.push((0,g.jsx)("div",{style:{marginLeft:1.5*s.iI}},"spacing-".concat(w))),j?n.push((0,g.jsx)(a.Z,{backgroundGradient:d.yr,backgroundPanel:!0,borderLess:!0,borderWidth:2,compact:t||x,onClick:function(e){(0,m.j)(e),p(r)},paddingUnitsHorizontal:1.75,paddingUnitsVertical:1.25,small:x,children:k},w)):n.push((0,g.jsx)("div",{style:{padding:2},children:(0,g.jsx)(o.Z,{borderLess:!0,compact:t||x,default:!0,onClick:function(e){(0,m.j)(e),p(r)},outline:!0,small:x,children:k})},"button-tab-".concat(w)))})),n}),[t,p,b,x,y]),j=(0,g.jsx)(i.Z,{alignItems:"center",children:w});return u?j:(0,g.jsx)(f,{allowScroll:n,noPadding:h,children:j})}}}]);