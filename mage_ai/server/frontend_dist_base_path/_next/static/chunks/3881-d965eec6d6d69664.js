"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3881],{1210:function(e,n,t){t.d(n,{Z:function(){return _}});var r=t(82394),o=t(21831),i=t(82684),l=t(47999),u=t(49894),a=t(93461),c=t(57384),s=t(41424),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var m=i.forwardRef(p),h=t(32063),v=t(85019),b=t(82531),w=t(66166),y=t(3055),g=t(49125),j=t(91427),x=t(24141);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n,t=e.after,r=e.afterHidden,p=e.afterWidth,O=e.afterWidthOverride,_=e.before,C=e.beforeWidth,I=e.breadcrumbs,S=e.children,P=e.errors,k=e.headerMenuItems,N=e.headerOffset,H=e.mainContainerHeader,E=e.navigationItems,M=e.setErrors,z=e.subheaderChildren,D=e.title,A=e.uuid,T=(0,x.i)().width,B="dashboard_after_width_".concat(A),F="dashboard_before_width_".concat(A),q=(0,i.useRef)(null),L=(0,i.useState)(O?p:(0,j.U2)(B,p)),R=L[0],U=L[1],W=(0,i.useState)(!1),G=W[0],Q=W[1],J=(0,i.useState)(_?Math.max((0,j.U2)(F,C),13*g.iI):null),X=J[0],Y=J[1],K=(0,i.useState)(!1),V=K[0],$=K[1],ee=(0,i.useState)(null)[1],ne=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,te=null===ne||void 0===ne?void 0:ne.projects,re=[];I?re.push.apply(re,(0,o.Z)(I)):(null===te||void 0===te?void 0:te.length)>=1&&re.push.apply(re,[{label:function(){var e;return null===(e=te[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},{bold:!0,label:function(){return D}}]),(0,i.useEffect)((function(){null===q||void 0===q||!q.current||G||V||null===ee||void 0===ee||ee(q.current.getBoundingClientRect().width)}),[G,R,V,X,q,ee,T]),(0,i.useEffect)((function(){G||(0,j.t8)(B,R)}),[r,G,R,B]),(0,i.useEffect)((function(){V||(0,j.t8)(F,X)}),[V,X,F]);var oe=(0,w.Z)(p);return(0,i.useEffect)((function(){O&&oe!==p&&U(p)}),[O,p,oe]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Z,{title:D}),(0,f.jsx)(s.Z,{breadcrumbs:re,menuItems:k,project:null===te||void 0===te?void 0:te[0],version:null===te||void 0===te||null===(n=te[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===E||void 0===E?void 0:E.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(v.Z,{navigationItems:E,showMore:!0})}),(0,f.jsx)(a.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(h.Z,{after:t,afterHeightOffset:y.Mz,afterHidden:r,afterMousedownActive:G,afterWidth:R,before:_,beforeHeightOffset:y.Mz,beforeMousedownActive:V,beforeWidth:d.k1+(_?X:0),headerOffset:N,hideAfterCompletely:!0,leftOffset:_?d.k1:null,mainContainerHeader:H,mainContainerRef:q,setAfterMousedownActive:Q,setAfterWidth:U,setBeforeMousedownActive:$,setBeforeWidth:Y,children:[z&&(0,f.jsx)(m,{children:z}),S]})})]}),P&&(0,f.jsx)(l.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===M||void 0===M?void 0:M(null)},children:(0,f.jsx)(u.Z,Z(Z({},P),{},{onClose:function(){return null===M||void 0===M?void 0:M(null)}}))})]})}},63153:function(e,n,t){t.d(n,{Z3:function(){return r},ms:function(){return i},s7:function(){return o}});var r=[{autoComplete:"username",label:"Username",required:!0,uuid:"username"},{autoComplete:"email",disabled:!1,label:"Email",required:!0,type:"email",uuid:"email"}],o="password_current",i=[{autoComplete:"current-password",label:"Current password",type:"password",uuid:o},{autoComplete:"new-password",label:"New password",type:"password",uuid:"password"},{autoComplete:"new-password",label:"Confirm new password",type:"password",uuid:"password_confirmation"}]},20582:function(e,n,t){var r=t(82394),o=t(21831),i=t(75582),l=t(21764),u=t(82684),a=t(83455),c=t(60328),s=t(79891),d=t(67971),f=t(87372),p=t(55378),m=t(86673),h=t(19711),v=t(82944),b=t(82531),w=t(66166),y=t(46336),g=t(63153),j=t(24224),x=t(9736),O=t(7715),Z=t(96510),_=t(28598);function C(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function I(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?C(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):C(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.disabledFields,t=e.hideFields,C=e.newUser,S=e.onDeleteSuccess,P=e.onSaveSuccess,k=e.showDelete,N=e.title,H=e.user,E=(0,u.useState)(!0),M=E[0],z=E[1],D=(0,u.useState)({}),A=D[0],T=D[1],B=(0,u.useState)(null),F=B[0],q=B[1],L=((0,x.PR)()||{}).owner,R=b.ZP.statuses.list().data,U=(0,u.useMemo)((function(){var e;return(null===R||void 0===R||null===(e=R.statuses)||void 0===e?void 0:e[0])||{}}),[R]),W=U.project_type,G=U.project_uuid,Q="global",J=null,X=null;W===y.k.SUB?(Q="project",J=G):W===y.k.MAIN&&(X="The roles selected here will apply to this user globally.\n                If a user has both a global role and a workspace role,\n                then the role with higher access will take precedence.");var Y=b.ZP.roles.list({entity:Q,entity_ids:J?[J]:[],limit_roles:!!C},{revalidateOnFocus:!1}),K=Y.data,V=(Y.mutate,(0,u.useMemo)((function(){return(null===K||void 0===K?void 0:K.roles)||[]}),[null===K||void 0===K?void 0:K.roles])),$=(0,a.Db)(C?b.ZP.users.useCreate():b.ZP.users.useUpdate(null===H||void 0===H?void 0:H.id),{onSuccess:function(e){return(0,Z.wD)(e,{callback:function(e){var n=e.user,t=g.Z3.concat(g.ms).map((function(e){return e.uuid}));t.push("id");var r=(0,O.GL)(n,t);q(r),l.Am.success(C?"New user created successfully.":"User profile successfully updated.",{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:"user-update-success-".concat(n.id)}),null===P||void 0===P||P(r)},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.exception,o=n.message,i=n.type;l.Am.error((null===t||void 0===t?void 0:t.error)||r||o,{position:l.Am.POSITION.BOTTOM_RIGHT,toastId:i})}})}}),ee=(0,i.Z)($,2),ne=ee[0],te=ee[1].isLoading,re=(0,a.Db)(b.ZP.users.useDelete(null===H||void 0===H?void 0:H.id),{onSuccess:function(e){return(0,Z.wD)(e,{callback:function(){null===S||void 0===S||S()},onErrorCallback:function(e){var n=e.error,t=n.errors,r=n.message;alert(r),console.log(t)}})}}),oe=(0,i.Z)(re,2),ie=oe[0],le=oe[1].isLoading,ue=t?(0,o.Z)(t):[];C&&ue.push(g.s7);var ae=!ue||!ue.includes(g.s7),ce=(0,w.Z)(H);(0,u.useEffect)((function(){if(H&&(!F||(null===ce||void 0===ce?void 0:ce.id)!==(null===H||void 0===H?void 0:H.id))){var e=g.Z3.concat(g.ms).map((function(e){return e.uuid}));q((0,O.GL)(H,e))}null!==F&&void 0!==F&&F.password||null!==F&&void 0!==F&&F.password_confirmation?(null===F||void 0===F?void 0:F.password)!==(null===F||void 0===F?void 0:F.password_confirmation)?T({password_confirmation:"Password confirmation does not match."}):!ae||null!==F&&void 0!==F&&F.password_current?T(null):T({password_current:"This field is required."}):null!==F&&void 0!==F&&F.password_current&&ae?null!==F&&void 0!==F&&F.password&&null!==F&&void 0!==F&&F.password_confirmation?T(null):T({password:"This field is required.",password_confirmation:"This field is required."}):null!==F&&void 0!==F&&F.password_current||null!==F&&void 0!==F&&F.password||null!==F&&void 0!==F&&F.password_confirmation||T(null)}),[F,ae,H,ce]);var se=(0,u.useState)(!1),de=se[0],fe=se[1],pe=(0,u.useMemo)((function(){return(de?null===F||void 0===F?void 0:F.roles_new:null===H||void 0===H?void 0:H.roles_new)||[]}),[F,de,H]),me=(0,u.useMemo)((function(){var e=(null===V||void 0===V?void 0:V.map((function(e){return e.id})))||[];return null===pe||void 0===pe?void 0:pe.filter((function(n){var t=n.id;return e.includes(t)}))}),[pe,V]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(f.Z,{children:N||"Edit profile"}),(0,_.jsxs)("form",{children:[g.Z3.filter((function(e){var n=e.uuid;return!ue||!ue.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,o=e.label,i=e.required,l=e.type,u=e.uuid;return(0,_.jsx)(m.Z,{mt:2,children:(0,_.jsx)(v.Z,{autoComplete:n,disabled:t&&!C,label:o,onChange:function(e){z(!1),q((function(n){return I(I({},n),{},(0,r.Z)({},u,e.target.value))}))},primary:!0,required:i,setContentOnMount:!0,type:l,value:(null===F||void 0===F?void 0:F[u])||""})},u)})),!(null!==H&&void 0!==H&&H.owner)&&!(null!==ue&&void 0!==ue&&ue.includes("roles"))&&(0,_.jsxs)(m.Z,{mt:2,children:[X&&(0,_.jsx)(m.Z,{mb:1,children:(0,_.jsx)(h.ZP,{children:X})}),(0,_.jsx)(p.Z,{disabled:null===n||void 0===n?void 0:n.includes("roles"),label:"Roles",onChange:function(e){var n=(0,j.sE)(V,(function(n){return n.id==e.target.value}));n&&(z(!1),fe(!0),q((function(e){var t={};return(0,j.sE)(pe,(function(e){return e.id==(null===n||void 0===n?void 0:n.id)}))||(t={roles_new:[].concat((0,o.Z)(pe),[n])}),I(I({},e),t)})))},primary:!0,setContentOnMount:!0,children:V.map((function(e){var n=e.id,t=e.name;return(0,_.jsx)("option",{value:n,children:t},t)}))}),(0,_.jsx)(m.Z,{mb:1}),(0,_.jsx)(d.Z,{alignItems:"center",flexWrap:"wrap",children:null===me||void 0===me?void 0:me.map((function(e){var t=e.id,r=e.name;return(0,_.jsx)(m.Z,{mb:1,mr:1,children:(0,_.jsx)(s.Z,{disabled:null===n||void 0===n?void 0:n.includes("roles"),label:r,onClick:function(){z(!1),fe(!0),q((function(e){return I(I({},e),{},{roles_new:(0,j.Od)(pe,(function(e){return e.id===t}))})}))},primary:!0})},"user_roles/".concat(r))}))})]}),(0,_.jsxs)(m.Z,{mt:5,children:[(0,_.jsx)(f.Z,{children:C?"Password":"Change password"}),g.ms.filter((function(e){var n=e.uuid;return!ue||!ue.includes(n)})).map((function(e){var n=e.autoComplete,t=e.disabled,o=e.label,i=e.required,l=e.type,u=e.uuid;return(0,_.jsx)(m.Z,{mt:2,children:(0,_.jsx)(v.Z,{autoComplete:n,disabled:t,label:o,meta:{error:null===A||void 0===A?void 0:A[u],touched:!(null===A||void 0===A||!A[u])},onChange:function(e){z(!1),q((function(n){return I(I({},n),{},(0,r.Z)({},u,e.target.value))}))},primary:!0,required:i,setContentOnMount:!0,type:l,value:(null===F||void 0===F?void 0:F[u])||""})},u)}))]}),(0,_.jsx)(m.Z,{mt:5,children:(0,_.jsxs)(d.Z,{children:[(0,_.jsx)(c.Z,{disabled:M||A&&!(0,O.Qr)(A),loading:te,onClick:function(){var e,n=I({},F);"roles_new"in n&&(n.roles_new=null===(e=F.roles_new)||void 0===e?void 0:e.map((function(e){return e.id})));ne({user:n})},primary:!0,children:C?"Create new user":"Update user profile"}),k&&L&&(0,_.jsx)(m.Z,{ml:1,children:(0,_.jsx)(c.Z,{danger:!0,loading:le,onClick:function(){window.confirm("Are you sure you want to delete ".concat(F.username||F.email,"?"))&&ie()},children:"Delete user"})})]})})]})]})}},46336:function(e,n,t){var r;t.d(n,{k:function(){return r}}),function(e){e.MAIN="main",e.STANDALONE="standalone",e.SUB="sub"}(r||(r={}))},79891:function(e,n,t){var r=t(38626),o=t(60328),i=t(67971),l=t(86673),u=t(19711),a=t(23831),c=t(10503),s=t(49125),d=t(31012),f=t(28598),p=r.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||a.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||a.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((s.iI+d.Al)/2,"px;\n    height: ").concat(1.5*s.iI+d.Al,"px;\n    padding: ").concat(s.iI/1.5,"px ").concat(1.25*s.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((s.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+s.iI/2+2,"px;\n    padding: ").concat(s.iI/4,"px ").concat(s.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||a.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,t=e.children,r=e.disabled,a=e.label,d=e.onClick,m=e.primary,h=e.small;return(0,f.jsx)(p,{border:n,primary:m,small:h,children:(0,f.jsx)(o.Z,{basic:!0,disabled:r,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,f.jsxs)(i.Z,{alignItems:"center",children:[t,a&&(0,f.jsx)(u.ZP,{small:h,children:a}),!r&&d&&(0,f.jsx)(l.Z,{ml:1,children:(0,f.jsx)(c.x8,{default:m,muted:!m,size:h?s.iI:1.25*s.iI})})]})})})}},87372:function(e,n,t){var r,o,i,l,u,a,c,s,d=t(82394),f=t(26304),p=t(26653),m=t(38626),h=t(33591),v=t(23831),b=t(2005),w=t(31012),y=t(19711),g=t(49125),j=t(86673),x=t(28598),O=["children","condensed","inline","level","marketing","spacingBelow"];function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function _(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,d.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var C=(0,m.css)([""," margin:0;"," "," "," "," "," "," "," "," "," "," "," "," ",""],y.IH,(function(e){return e.color&&"\n    color: ".concat(e.color,"\n  ")}),(function(e){return e.yellow&&"\n    color: ".concat((e.theme.accent||v.Z.accent).yellow,";\n  ")}),(function(e){return e.center&&"\n    text-align: center;\n  "}),(function(e){return!e.monospace&&0===Number(e.weightStyle)&&"\n    font-family: ".concat(b.iI,";\n  ")}),(function(e){return!e.monospace&&1===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&2===Number(e.weightStyle)&&"\n    font-family: ".concat(b.LX,";\n  ")}),(function(e){return!e.monospace&&3===Number(e.weightStyle)&&"\n    font-family: ".concat(b.ry,";\n  ")}),(function(e){return!e.monospace&&4===Number(e.weightStyle)&&"\n    font-family: ".concat(b.YC,";\n  ")}),(function(e){return!e.monospace&&5===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&(6===Number(e.weightStyle)||e.bold)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&7===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return!e.monospace&&8===Number(e.weightStyle)&&"\n    font-family: ".concat(b.nF,";\n  ")}),(function(e){return e.lineHeightAuto&&"\n    line-height: normal !important;\n  "})),I=m.default.div.withConfig({displayName:"Headline__HeadlineContainerStyle",componentId:"sc-12jzt2e-0"})(["",""],(function(e){return"\n    color: ".concat((e.theme.content||v.Z.content).active,";\n  ")})),S=m.default.h1.withConfig({displayName:"Headline__H1HeroStyle",componentId:"sc-12jzt2e-1"})([""," font-size:42px;line-height:56px;"," "," ",""],C,h.media.md(r||(r=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.lg(o||(o=(0,p.Z)(["\n    ","\n  "])),w.aQ),h.media.xl(i||(i=(0,p.Z)(["\n    ","\n  "])),w.aQ)),P=m.default.h1.withConfig({displayName:"Headline__H1Style",componentId:"sc-12jzt2e-2"})([""," ",""],C,w.MJ),k=m.default.h1.withConfig({displayName:"Headline__H1MarketingStyle",componentId:"sc-12jzt2e-3"})([""," "," "," "," "," ",""],C,h.media.xs(l||(l=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.sm(u||(u=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.md(a||(a=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.lg(c||(c=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI),h.media.xl(s||(s=(0,p.Z)(["\n    font-size: ","px;\n    line-height: ","px;\n  "])),6*g.iI,7*g.iI)),N=m.default.h2.withConfig({displayName:"Headline__H2Style",componentId:"sc-12jzt2e-4"})([""," ",""],C,w.BL),H=m.default.h3.withConfig({displayName:"Headline__H3Style",componentId:"sc-12jzt2e-5"})([""," font-size:24px;line-height:32px;"],C),E=m.default.h4.withConfig({displayName:"Headline__H4Style",componentId:"sc-12jzt2e-6"})([""," font-size:20px;line-height:28px;"],C),M=m.default.h5.withConfig({displayName:"Headline__H5Style",componentId:"sc-12jzt2e-7"})([""," font-size:18px;line-height:26px;"],C),z=m.default.span.withConfig({displayName:"Headline__SpanStyle",componentId:"sc-12jzt2e-8"})([""," "," "," "," ",""],C,(function(e){return 1===e.level&&"\n    ".concat(w.MJ,"\n  ")}),(function(e){return 2===e.level&&"\n    ".concat(w.BL,"\n  ")}),(function(e){return 3===e.level&&"\n    font-size: 24px;\n    line-height: 32px;\n  "}),(function(e){return 4===e.level&&"\n    font-size: 20px;\n    line-height: 28px;\n  "})),D=function(e){var n,t=e.children,r=e.condensed,o=e.inline,i=e.level,l=e.marketing,u=e.spacingBelow,a=(0,f.Z)(e,O);o?n=z:0===Number(i)?n=S:1===Number(i)?n=l?k:P:2===Number(i)?n=N:3===Number(i)?n=H:4===Number(i)?n=E:5===Number(i)&&(n=M);var c=(0,x.jsxs)(n,_(_({},a),{},{level:i,children:[u&&(0,x.jsx)(j.Z,{mb:r?2:3,children:t}),!u&&t]}));return o?c:(0,x.jsx)(I,{children:c})};D.defaultProps={level:3,weightStyle:6},n.Z=D},80022:function(e,n,t){function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}t.d(n,{Z:function(){return r}})},15544:function(e,n,t){function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.d(n,{Z:function(){return r}})},99177:function(e,n,t){function r(e,n){return r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e},r(e,n)}function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r(e,n)}t.d(n,{Z:function(){return o}})},93189:function(e,n,t){t.d(n,{Z:function(){return i}});var r=t(12539),o=t(80022);function i(e,n){if(n&&("object"===r(n)||"function"===typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return(0,o.Z)(e)}}}]);