"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4982],{62072:function(t,e,n){function r(t){return null==t?void 0:t[0]}function i(t){return null==t?void 0:t[1]}n.d(e,{l8:function(){return r},xf:function(){return i}})},59309:function(t,e,n){n.d(e,{ZP:function(){return c}});var r=n(12759),i=n(27500),a=n(82610),o=n(34812),l=n(77944),u={expand:r.Z,diverging:i.Z,none:a.Z,silhouette:o.Z,wiggle:l.Z};Object.keys(u);function c(t){return t&&u[t]||u.none}},18246:function(t,e,n){n.d(e,{ZP:function(){return c}});var r=n(39586),i=n(25516),a=n(54164),o=n(8512),l=n(2010),u={ascending:r.Z,descending:i.Z,insideout:a.Z,none:o.Z,reverse:l.Z};Object.keys(u);function c(t){return t&&u[t]||u.none}},4982:function(t,e,n){n.d(e,{O$:function(){return xt},Fk:function(){return vt}});var r=n(75582),i=n(12691),a=n.n(i),o=n(26304),l=n(21831),u=n(82394),c=n(82684),s=n(26226),d=n(84969),h=n(90948),f=n(65743),m=n(68925),x=n.n(m),v=n(75823),p=n(29989),g=n(62072),y=n(53989),b=n(49894),Z=n(18246),j=n(59309),k=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},S.apply(this,arguments)}function T(t){var e=t.data,n=t.className,r=t.top,i=t.left,a=t.y,o=t.x0,l=void 0===o?g.l8:o,u=t.x1,s=void 0===u?g.xf:u,d=t.xScale,h=t.yScale,m=t.color,T=t.keys,L=t.value,M=t.order,w=t.offset,O=t.children,E=function(t,e){if(null==t)return{};var n,r,i={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,k),R=(0,v.Z)();T&&R.keys(T),L&&(0,b.Z)(R.value,L),M&&R.order((0,Z.ZP)(M)),w&&R.offset((0,j.ZP)(w));var Y=R(e),I=(0,y.Z)(h),D=Y.map((function(t,e){var n=t.key;return{index:e,key:n,bars:t.map((function(e,r){var i=(d(s(e))||0)-(d(l(e))||0),o=d(l(e)),u="bandwidth"in h?h(a(e.data)):Math.max((h(a(e.data))||0)-i/2);return{bar:e,key:n,index:r,height:I,width:i,x:o||0,y:u||0,color:m(t.key,r)}}))}}));return O?c.createElement(c.Fragment,null,O(D)):c.createElement(p.Z,{className:x()("visx-bar-stack-horizontal",n),top:r,left:i},D.map((function(t){return t.bars.map((function(e){return c.createElement(f.Z,S({key:"bar-stack-"+t.index+"-"+e.index,x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color},E))}))})))}var L=n(79487),M=n(9518),w=n(61655),O=n(16853),E=n(65376),R=n(48072),Y=n(24903),I=n(84181),D=n(98677),P=n(30160),A=n(70987),_=n(79633),C=n(61896),H=n(70515),N=n(95363),F=n(28598),V=["height","width"];function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={bottom:5*H.iI,left:3*H.iI,right:20*H.iI,top:0},Q=function(t){return t.x},G=function(t){return t.y},X=(0,w.Z)((function(t){var e=t.data,n=t.height,r=t.hideTooltip,i=t.large,a=t.margin,o=void 0===a?{}:a,u=t.renderTooltipContent,s=t.showTooltip,m=t.tooltipData,x=t.tooltipLeft,v=t.tooltipOpen,g=t.tooltipTop,y=t.width,b=t.xAxisLabel,Z=t.xNumTicks,j=t.yLabelFormat,k=t.ySerialize,S=j;S||(S=function(t){return t.length>20?"".concat(t.substring(0,20),"..."):t});var w=i?C.iD:C.J5,H=(0,c.useContext)(M.ThemeContext),V=U(U({},B),o),z=e.slice(Math.max(0,e.length-50)),X=Object.keys(z[0]||[]).filter((function(t){return"x"===t})),W=(0,Y.Z)({domain:X,range:[_.hM]}),J=(0,I.Z)({domain:[0,Math.max.apply(Math,(0,l.Z)(z.map(Q)))],nice:!0}),$=(0,D.Z)({domain:z.map(G),padding:.35}),q={active:(null==H?void 0:H.content.default)||A.Z.content.default,backgroundPrimary:(null==H?void 0:H.chart.backgroundPrimary)||A.Z.chart.backgroundPrimary,backgroundSecondary:(null==H?void 0:H.chart.backgroundSecondary)||A.Z.chart.backgroundSecondary,muted:(null==H?void 0:H.content.muted)||A.Z.content.muted,primary:(null==H?void 0:H.chart.primary)||A.Z.chart.primary,tooltipBackground:(null==H?void 0:H.background.navigation)||A.Z.background.navigation},K=z.map(k),tt=Math.min(Math.max.apply(Math,(0,l.Z)(K.map((function(t){return String(t).length})))),20);6*tt>2*V.right?V.right+=5.5*tt:6*tt>=V.right&&(V.right+=3.75*tt);var et=y-V.left-V.right,nt=n-V.top-V.bottom;V.left+=7*tt,J.rangeRound([0,et]),$.rangeRound([nt,0]);var rt=z.map(Q).length,it=$(K[rt-1]),at=(0,c.useCallback)((function(t){var e=(0,R.Z)(t)||{x:0,y:0},n=e.x,r=e.y,i=1-(r-it/2)/(nt-it),a=Math.floor(i*rt),o=z[a];void 0===o&&(o=z[a-1]),r>it&&r<nt-it&&s({tooltipData:o,tooltipLeft:n,tooltipTop:r+V.top})}),[z,rt,V.top,s,it,nt]);return y<10?null:(0,F.jsxs)("div",{children:[(0,F.jsxs)("svg",{height:n,width:y,children:[(0,F.jsx)(f.Z,{fill:"transparent",height:n-(V.top+V.bottom),onMouseLeave:function(){return r()},onMouseMove:at,onTouchMove:at,onTouchStart:at,rx:14,width:y-V.left,x:V.left,y:0}),(0,F.jsxs)(p.Z,{left:V.left,top:V.top,children:[(0,F.jsx)(T,{color:W,data:z,height:nt,keys:X,pointerEvents:"none",xScale:J,y:k,yScale:$,children:function(t){return t.map((function(t){return t.bars.map((function(e){return(0,F.jsx)("g",{children:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("rect",{fill:q.backgroundPrimary,height:e.height,pointerEvents:"none",rx:4,width:e.width,x:e.x,y:e.y})})},"barstack-horizontal-".concat(t.index,"-").concat(e.index))}))}))}}),(0,F.jsx)(d.Z,{hideTicks:!0,scale:$,stroke:q.muted,tickFormat:function(t){return S(t)},tickLabelProps:function(){return{fill:q.active,fontFamily:N.ry,fontSize:w,style:{width:"10px"},textAnchor:"end"}},tickStroke:q.muted,tickValues:K,top:2}),(0,F.jsx)(h.Z,{label:b,labelProps:{fill:q.muted,fontFamily:N.ry,fontSize:w,textAnchor:"middle"},numTicks:Z,scale:J,stroke:q.muted,tickLabelProps:function(){return{fill:q.active,fontFamily:N.ry,fontSize:w,textAnchor:"middle"}},tickStroke:q.muted,top:nt})]}),m&&(0,F.jsx)("g",{children:(0,F.jsx)(L.Z,{from:{x:V.left,y:g},pointerEvents:"none",stroke:_.Ej,strokeDasharray:"5,2",strokeWidth:1,to:{x:et+V.left,y:g}})})]}),v&&m&&(0,F.jsx)(O.Z,{left:x,style:U(U({},E.j),{},{backgroundColor:q.tooltipBackground}),top:g,children:(0,F.jsxs)(P.ZP,{black:!0,small:!0,children:[null==u?void 0:u(m),!u&&Q(m).toFixed(4)]})})]})}));var W,J,$,q,K=function(t){var e=t.height,n=t.width,r=(0,o.Z)(t,V);return(0,F.jsx)("div",{style:{height:e,width:void 0===n?"100%":n},children:(0,F.jsx)(s.Z,{children:function(t){var e=t.width,n=t.height;return(0,F.jsx)(X,U(U({},r),{},{height:n,width:e}))}})})},tt=n(97618),et=n(52729),nt=n(48670),rt=n(87862),it=n(89370),at=n(86735),ot=(at.Qj,at.tS,at.tS,at.tS,at.tS,at.Qj,at.Qj,at.Qj,at.tS,at.tS,W={},(0,u.Z)(W,it.RL.EMAIL,"domain_distribution"),(0,u.Z)(W,it.RL.TEXT,"word_distribution"),(0,u.Z)(W,it.RL.LIST,"element_distribution"),(0,u.Z)(W,"default","value_counts"),W),lt=[].concat((0,l.Z)(it.P_),[it.RL.TEXT,it.RL.EMAIL,it.RL.LIST]),ut=(J={},(0,u.Z)(J,it.RL.EMAIL,"Domain distribution"),(0,u.Z)(J,it.RL.TEXT,"Word distribution"),(0,u.Z)(J,it.RL.LIST,"Element distribution"),(0,u.Z)(J,"default","Distribution of values"),n(31353));!function(t){t.RANGE="range"}($||($={})),function(t){t.BAR_HORIZONTAL="bar_horizontal",t.LINE_CHART="line_chart",t.HISTOGRAM="histogram"}(q||(q={}));var ct=n(48888),st=n(92083),dt=n.n(st),ht=n(81728);function ft(t,e){var n,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{})||{},i=r.calculateAnomaly,a=r.feature,o=r.getYValue,u=t.x,c=t.x_metadata,s=c.label,d=c.label_type,h=t.y,f=(null==h?void 0:h.map((function(t){return null==o?void 0:o(t)})))||[],m=Math.max.apply(Math,(0,l.Z)(f)),x=Math.max.apply(Math,(0,l.Z)(f)),v=(0,at.Sm)(f),p=(0,at.IN)(f),g=v/Math.max(1,f.length),y=e[s]||a,b=null==y?void 0:y.columnType,Z=it.RL.DATETIME===b,j=[],k=[],S=u.length;return{distribution:{data:u.map((function(t,e){var r,a,o,l,u=t.label,c=t.max,s=t.min,y=h[e];if($.RANGE===d)if(n||(n=c-s),l=it.RL.NUMBER===b&&n<=S)r=Number(s);else if(r=n/2+s,Z){var T="M/D/YYYY",L="M/D/YYYY",M="M/D/YYYY";n<=1?(T=n<=.1?"H:mm:ss.SSS":"H:mm:ss",L="H:mm:ss.SSS",M="H:mm:ss.SSS"):n<=60?(T="H:mm",L="H:mm:ss",M="H:mm:ss"):n<=3600?(T="H:mm",L="M/D/YYYY H:mm",M="H:mm"):n<=86400&&(L="M/D/YYYY H:mm",M="M/D/YYYY H:mm"),r=dt().unix(r).format(T),a=dt().unix(s).format(L),o=dt().unix(c).format(M)}else r=(0,ht.QV)(r);else r=u;var w=e>=1?h[e-1]:null,O=!1;i&&(O=i({x:t,y:y,yPrevious:w,yValues:f,yValuesAverage:g,yValuesMax:m,yValuesMin:x,yValuesStandardDeviation:p,yValuesSum:v}));var E={hideRange:l,isUnusual:O,x:t,xLabel:r,xLabelMax:o,xLabelMin:a,y:y};return O&&(l?k.push(E):j.push(E)),E})),featureUUID:s},rangedWithUnusualDistribution:(0,at.YC)(j,(function(t){var e=t.y;return o(e)}),{ascending:!1}),unusualDistribution:(0,at.YC)(k,(function(t){var e=t.y;return o(e)}),{ascending:!1})}}var mt=n(40489);var xt=12*H.iI;function vt(t){var e=t.columnTypes,n=t.columns,i=t.insightsByFeatureUUID,o=t.insightsOverview,l=t.noColumnLinks,u=void 0!==l&&l,c=t.statistics;return function(t,l,s){var d=s.width,h=n[l],f=e[h],m=ut.T5[f],x=(i[h]||{}).charts,v=o.time_series,p=n.filter((function(t){return e[t]===it.RL.DATETIME})),g=null==v?void 0:v.map((function(t){return ft(t,{},{feature:{columnType:f,uuid:h}}).distribution})),y={};null==g||g.forEach((function(t,e){var n=t.data;y[p[e]]=(0,F.jsx)(et.Z,{data:n.map((function(t){var e=t.x,n=t.xLabel,r=t.xLabelMax,i=t.xLabelMin;return[n,t.y.count,i,r,e.min,e.max]})),height:xt,large:!0,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t,e,n){var i=n.values,a=(0,r.Z)(i,2),o=a[0],l=a[1];return(0,F.jsxs)("p",{children:["Rows: ",t,(0,F.jsx)("br",{}),"Start: ",o,(0,F.jsx)("br",{}),"End: ",l]})},sortData:function(t){return(0,at.YC)(t,"[4]")}},h)}));var b,Z=null==x?void 0:x.find((function(t){var e=t.type;return q.HISTOGRAM===e})),j=(Z?ft(Z,{},{feature:{columnType:f,uuid:h},getYValue:function(t){return t.value}}):{}).distribution,k=void 0===j?null:j,S=ot[f]||ot.default,T=null==c?void 0:c["".concat(h,"/").concat(S)],L=Object.entries(T||{}).map((function(t){var e=(0,r.Z)(t,2),n=e[0];return{x:e[1],y:n}})),M=it.RL.TRUE_OR_FALSE===f;if(it.RL.DATETIME===f)b=y[h];else if(k&&!M)b=(0,F.jsx)(et.Z,{data:k.data.map((function(t){var e=t.hideRange,n=t.isUnusual,r=t.x;return[t.xLabel,t.y.value,r.min,r.max,n,e]})),height:xt,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t,e,n){var r,i,a=null==n||null===(r=n.values)||void 0===r?void 0:r[0],o=null==n||null===(i=n.values)||void 0===i?void 0:i[1],l=void 0===a||void 0===o;return(0,F.jsxs)("p",{children:[l&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",t,(0,F.jsx)("br",{}),"Value: ",void 0!==a?a:o]}),!l&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",t,(0,F.jsx)("br",{}),"Range: ",a," - ",o]})]})},sortData:function(t){return(0,at.YC)(t,"[2]")},width:d-2*H.iI});else if(lt.includes(f)){var w=(0,at.YC)((0,at.YC)(L,"x",{ascending:!1}).slice(0,5),"x");b=(0,F.jsx)(K,{data:w,height:xt,margin:{bottom:0,left:0,right:20,top:0},renderTooltipContent:function(t){var e=t.x,n=t.y;return"".concat(n," appears ").concat((0,ht.x6)(e)," times")},xNumTicks:2,ySerialize:function(t){return t.y}})}else M&&T&&(b=(0,F.jsx)(rt.Z,{data:Object.entries(T),getX:function(t){var e=(0,r.Z)(t,2),n=e[0],i=e[1];return"".concat(n," (").concat((0,ht.x6)(i),")")},getY:function(t){return(0,r.Z)(t,2)[1]},height:xt}));return(0,F.jsxs)("div",{style:{padding:H.iI},children:[(0,F.jsxs)("div",{style:{alignItems:"center",display:"flex",marginBottom:H.iI},children:[m&&(0,F.jsx)(tt.Z,{title:it.Rp[f],children:(0,F.jsx)(m,{size:2*H.iI})}),(0,F.jsx)("div",{style:{marginLeft:.5*H.iI,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:d-4.5*H.iI},children:u?(0,F.jsx)(P.ZP,{bold:!0,default:!0,title:n[l],children:n[l]}):(0,F.jsx)(a(),{as:(0,mt.o_)(ct.oE,l),href:"/datasets/[...slug]",passHref:!0,children:(0,F.jsx)(nt.Z,{bold:!0,monospace:!0,secondary:!0,small:!0,title:n[l],children:n[l]})})})]}),b,!b&&(0,F.jsx)("div",{style:{height:xt}})]})}}}}]);