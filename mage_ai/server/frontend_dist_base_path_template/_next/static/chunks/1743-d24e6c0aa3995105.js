"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1743],{48381:function(e,n,i){var t=i(82684),l=i(31882),r=i(55485),c=i(30160),u=i(86735),o=i(28598);n.Z=function(e){var n=e.onClickTag,i=e.tags,s=void 0===i?[]:i,a=(0,t.useMemo)((function(){return(null===s||void 0===s?void 0:s.length)||0}),[s]),d=(0,t.useMemo)((function(){return(0,u.YC)(s||[],"uuid")}),[s]);return(0,o.jsx)(r.ZP,{alignItems:"center",flexWrap:"wrap",children:null===d||void 0===d?void 0:d.reduce((function(e,i){return e.push((0,o.jsx)("div",{style:{marginBottom:2,marginRight:a>=2?4:0,marginTop:2},children:(0,o.jsx)(l.Z,{onClick:n?function(){return n(i)}:null,small:!0,children:(0,o.jsx)(c.ZP,{children:i.uuid})})},"tag-".concat(i.uuid))),e}),[])})}},31743:function(e,n,i){var t=i(82394),l=i(75582),r=i(12691),c=i.n(r),u=i(82684),o=i(69864),s=i(34376),a=i(71180),d=i(50724),p=i(55485),h=i(48670),g=i(30229),f=i(89515),x=i(38276),m=i(75499),j=i(48381),_=i(30160),b=i(69650),v=i(12468),y=i(35686),Z=i(72473),k=i(81655),C=i(72191),P=i(41143),O=i(70515),w=i(31608),I=i(16488),E=i(3917),S=i(50178),A=i(72619),D=i(3314),T=i(70320),L=i(28598);function N(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function F(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?N(Object(i),!0).forEach((function(n){(0,t.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):N(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var R=1.5*O.iI;n.Z=function(e){var n=e.disableActions,i=e.fetchPipelineSchedules,t=e.highlightRowOnHover,r=e.includeCreatedAtColumn,O=e.includePipelineColumn,N=e.pipeline,z=e.pipelineSchedules,V=e.pipelineTriggersByName,B=e.selectedSchedule,q=e.setErrors,H=e.setSelectedSchedule,U=e.stickyHeader,M=null===N||void 0===N?void 0:N.uuid,X=(0,s.useRouter)(),G=(0,u.useRef)({}),K=(0,u.useState)(null),$=K[0],W=K[1],Y=(0,u.useState)(0),J=Y[0],Q=Y[1],ee=(0,u.useState)(0),ne=ee[0],ie=ee[1],te=(0,T.q)(),le=te?k.O$:{},re=(0,o.Db)((function(e){return y.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:e})}),{onSuccess:function(e){return(0,A.wD)(e,{callback:function(){null===i||void 0===i||i()},onErrorCallback:function(e,n){return q({errors:n,response:e})}})}}),ce=(0,l.Z)(re,1)[0],ue=(0,o.Db)((function(e){return y.ZP.pipeline_schedules.useDelete(e)()}),{onSuccess:function(e){return(0,A.wD)(e,{callback:function(){null===i||void 0===i||i(),M?X.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(M,"/triggers")):null===i||void 0===i||i()},onErrorCallback:function(e,n){return q({errors:n,response:e})}})}}),oe=(0,l.Z)(ue,1)[0],se=[],ae=[];return n||(se.push.apply(se,[null,null]),ae.push.apply(ae,[{uuid:"Active"},{uuid:"Type"}])),se.push.apply(se,[1,2]),ae.push.apply(ae,[{uuid:"Name"},{uuid:"Description"}]),n||(se.push.apply(se,[null]),ae.push({uuid:"Frequency"})),se.push.apply(se,[1,1,null]),ae.push.apply(ae,[F(F({},le),{},{uuid:"Next run date"}),{uuid:"Latest status"},{uuid:"Runs"}]),n||(se.push.apply(se,[1]),ae.push({uuid:"Tags"})),se.push.apply(se,[null]),ae.push({uuid:"Logs"}),n||(0,S.Ct)()||(se.push.apply(se,[null]),ae.push({label:function(){return""},uuid:"edit/delete"})),!n&&O&&(ae.splice(2,0,{uuid:"Pipeline"}),se.splice(2,0,1)),!n&&r&&(ae.splice(5,0,F(F({},le),{},{uuid:"Created at"})),se.splice(5,0,null)),(0,L.jsx)(w.cl,{overflowVisible:!0,children:0===z.length?(0,L.jsx)(x.Z,{px:3,py:1,children:(0,L.jsx)(_.ZP,{bold:!0,default:!0,monospace:!0,muted:!0,children:"No triggers available"})}):(0,L.jsx)(m.Z,{columnFlex:se,columns:ae,highlightRowOnHover:t,isSelectedRow:function(e){return z[e].id===(null===B||void 0===B?void 0:B.id)},onClickRow:H?function(e){return null===H||void 0===H?void 0:H(z[e])}:null,rowVerticalPadding:6,rows:z.map((function(e,i){var t=e.id,l=e.created_at,o=e.description,s=e.next_pipeline_run_date,m=e.pipeline_runs_count,y=e.pipeline_uuid,w=e.last_pipeline_run_status,A=e.name,T=e.schedule_interval,N=e.status,F=e.tags,z=g.fq.ACTIVE===N,B=(0,I._U)(T),q=M||y;G.current[t]=(0,u.createRef)();var H,U=null!==V&&void 0!==V&&V[A]?(0,L.jsxs)(L.Fragment,{children:[(0,L.jsx)(x.Z,{mr:1}),(0,L.jsx)(v.Z,{block:!0,label:"This trigger is saved in code.",size:R,widthFitContent:!0,children:(0,L.jsx)(Z.EK,{default:!0,size:R})})]}):null,K=[];n?K.push.apply(K,[(0,L.jsxs)(p.ZP,{alignItems:"center",children:[(0,L.jsx)(_.ZP,{bold:!0,children:A}),U]},"trigger_name_".concat(i))]):K.push.apply(K,[(0,L.jsx)(v.Z,{block:!0,label:N,size:20,widthFitContent:!0,children:(0,L.jsx)(b.Z,{checked:z,compact:!0,onCheck:function(n){(0,D.j)(n),ce({id:e.id,status:z?g.fq.INACTIVE:g.fq.ACTIVE})},purpleBackground:!0})},"trigger_enabled_".concat(i)),(0,L.jsx)(_.ZP,{default:!0,monospace:!0,children:null===(H=g.Z4[e.schedule_type])||void 0===H?void 0:H.call(g.Z4)},"trigger_type_".concat(i)),(0,L.jsxs)(p.ZP,{alignItems:"center",children:[(0,L.jsx)(c(),{as:"/pipelines/".concat(q,"/triggers/").concat(t),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,L.jsx)(h.Z,{bold:!0,onClick:function(e){(0,D.j)(e),X.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(q,"/triggers/").concat(t))},sky:!0,children:A})}),U]},"trigger_name_".concat(i))]);return K.push.apply(K,[(0,L.jsx)(_.ZP,{default:!0,children:o},"trigger_description_".concat(i))]),n||K.push((0,L.jsx)(_.ZP,{default:!0,monospace:!0,children:te&&B?(0,I.lO)(T):T},"trigger_frequency_".concat(i))),K.push.apply(K,[(0,L.jsx)(_.ZP,{monospace:!0,small:!0,title:s?"UTC: ".concat(s.slice(0,19)):null,children:s?te?(0,E.XG)(s,te):(0,E.d$)(s,{includeSeconds:!0,utcFormat:!0}):(0,L.jsx)(L.Fragment,{children:"\u2014"})},"trigger_next_run_date_".concat(i)),(0,L.jsx)(_.ZP,{danger:P.V.FAILED===w,default:!w,monospace:!0,success:P.V.COMPLETED===w,warning:P.V.CANCELLED===w,children:w||"N/A"},"latest_run_status_".concat(i)),(0,L.jsx)(_.ZP,{default:!0,monospace:!0,children:m},"trigger_run_count_".concat(i))]),n||K.push((0,L.jsx)("div",{children:(0,L.jsx)(j.Z,{tags:null===F||void 0===F?void 0:F.map((function(e){return{uuid:e}}))})},"pipeline_tags_".concat(i))),K.push((0,L.jsx)(a.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return X.push("/pipelines/".concat(q,"/logs?pipeline_schedule_id[]=").concat(t))},children:(0,L.jsx)(Z.UL,{default:!0,size:C.bL})},"logs_button_".concat(i))),n||(0,S.Ct)()||K.push((0,L.jsxs)(p.ZP,{children:[(0,L.jsx)(a.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){return X.push("/pipelines/".concat(q,"/triggers/").concat(t,"/edit"))},title:"Edit",children:(0,L.jsx)(Z.I8,{default:!0,size:C.bL})}),(0,L.jsx)(x.Z,{mr:1}),(0,L.jsx)(a.Z,{default:!0,iconOnly:!0,noBackground:!0,onClick:function(){var e,n,i,l;W(t),Q((null===(e=G.current[t])||void 0===e||null===(n=e.current)||void 0===n?void 0:n.offsetTop)||0),ie((null===(i=G.current[t])||void 0===i||null===(l=i.current)||void 0===l?void 0:l.offsetLeft)||0)},ref:G.current[t],title:"Delete",children:(0,L.jsx)(Z.rF,{default:!0,size:C.bL})}),(0,L.jsx)(d.Z,{onClickOutside:function(){return W(null)},open:$===t,children:(0,L.jsx)(f.Z,{danger:!0,left:(ne||0)-k.nH,onCancel:function(){return W(null)},onClick:function(){W(null),oe(t)},title:"Are you sure you want to delete the trigger ".concat(A,"?"),top:(J||0)-(i<=1?k.oz:k.OK),width:k.Xx})})]},"edit_delete_buttons_".concat(i))),!n&&O&&K.splice(2,0,(0,L.jsx)(_.ZP,{default:!0,monospace:!0,children:q},"pipeline_name_".concat(i))),!n&&r&&K.splice(5,0,(0,L.jsx)(_.ZP,{default:!0,monospace:!0,small:!0,title:l?"UTC: ".concat(l.slice(0,19)):null,children:(0,E.XG)(null===l||void 0===l?void 0:l.slice(0,19),te)},"created_at_".concat(i))),K})),stickyHeader:U,uuid:"pipeline-triggers"})})}},31882:function(e,n,i){var t=i(38626),l=i(71180),r=i(55485),c=i(38276),u=i(30160),o=i(44897),s=i(72473),a=i(70515),d=i(61896),p=i(28598),h=t.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||o.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||o.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((a.iI+d.Al)/2,"px;\n    height: ").concat(1.5*a.iI+d.Al,"px;\n    padding: ").concat(a.iI/1.5,"px ").concat(1.25*a.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((a.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+a.iI/2+2,"px;\n    padding: ").concat(a.iI/4,"px ").concat(a.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||o.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,i=e.children,t=e.disabled,o=e.label,d=e.onClick,g=e.primary,f=e.small;return(0,p.jsx)(h,{border:n,primary:g,small:f,children:(0,p.jsx)(l.Z,{basic:!0,disabled:t,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,p.jsxs)(r.ZP,{alignItems:"center",children:[i,o&&(0,p.jsx)(u.ZP,{small:f,children:o}),!t&&d&&(0,p.jsx)(c.Z,{ml:1,children:(0,p.jsx)(s.x8,{default:g,muted:!g,size:f?a.iI:1.25*a.iI})})]})})})}}}]);