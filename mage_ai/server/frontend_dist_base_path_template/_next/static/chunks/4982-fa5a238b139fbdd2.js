"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4982],{62072:function(t,e,n){function i(t){return null==t?void 0:t[0]}function r(t){return null==t?void 0:t[1]}n.d(e,{l8:function(){return i},xf:function(){return r}})},59309:function(t,e,n){n.d(e,{ZP:function(){return c}});var i=n(12759),r=n(27500),o=n(82610),a=n(34812),l=n(77944),u={expand:i.Z,diverging:r.Z,none:o.Z,silhouette:a.Z,wiggle:l.Z};Object.keys(u);function c(t){return t&&u[t]||u.none}},18246:function(t,e,n){n.d(e,{ZP:function(){return c}});var i=n(39586),r=n(25516),o=n(54164),a=n(8512),l=n(2010),u={ascending:i.Z,descending:r.Z,insideout:o.Z,none:a.Z,reverse:l.Z};Object.keys(u);function c(t){return t&&u[t]||u.none}},4982:function(t,e,n){n.d(e,{O$:function(){return vt},Fk:function(){return pt}});var i=n(75582),r=n(12691),o=n.n(r),a=n(26304),l=n(21831),u=n(82394),c=n(82684),s=n(26226),d=n(84969),f=n(90948),h=n(65743),m=n(63588),v=n.n(m),p=n(75823),x=n(29989),y=n(62072),g=n(53989),b=n(49894),Z=n(18246),j=n(59309),k=["data","className","top","left","y","x0","x1","xScale","yScale","color","keys","value","order","offset","children"];function S(){return S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},S.apply(this,arguments)}function T(t){var e=t.data,n=t.className,i=t.top,r=t.left,o=t.y,a=t.x0,l=void 0===a?y.l8:a,u=t.x1,s=void 0===u?y.xf:u,d=t.xScale,f=t.yScale,m=t.color,T=t.keys,L=t.value,M=t.order,w=t.offset,O=t.children,E=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,k),R=(0,p.Z)();T&&R.keys(T),L&&(0,b.Z)(R.value,L),M&&R.order((0,Z.ZP)(M)),w&&R.offset((0,j.ZP)(w));var Y=R(e),I=(0,g.Z)(f),D=Y.map((function(t,e){var n=t.key;return{index:e,key:n,bars:t.map((function(e,i){var r=(d(s(e))||0)-(d(l(e))||0),a=d(l(e)),u="bandwidth"in f?f(o(e.data)):Math.max((f(o(e.data))||0)-r/2);return{bar:e,key:n,index:i,height:I,width:r,x:a||0,y:u||0,color:m(t.key,i)}}))}}));return O?c.createElement(c.Fragment,null,O(D)):c.createElement(x.Z,{className:v()("visx-bar-stack-horizontal",n),top:i,left:r},D.map((function(t){return t.bars.map((function(e){return c.createElement(h.Z,S({key:"bar-stack-"+t.index+"-"+e.index,x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color},E))}))})))}var L=n(79487),M=n(25976),w=n(61655),O=n(16853),E=n(65376),R=n(48072),Y=n(24903),I=n(84181),D=n(98677),P=n(30160),A=n(70987),_=n(79633),C=n(61896),H=n(70515),N=n(95363),F=n(28598),V=["height","width"];function z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function U(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?z(Object(n),!0).forEach((function(e){(0,u.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var B={bottom:5*H.iI,left:3*H.iI,right:20*H.iI,top:0},Q=function(t){return t.x},G=function(t){return t.y},X=(0,w.Z)((function(t){var e=t.data,n=t.height,i=t.hideTooltip,r=t.large,o=t.margin,a=void 0===o?{}:o,u=t.renderTooltipContent,s=t.showTooltip,m=t.tooltipData,v=t.tooltipLeft,p=t.tooltipOpen,y=t.tooltipTop,g=t.width,b=t.xAxisLabel,Z=t.xNumTicks,j=t.yLabelFormat,k=t.ySerialize,S=j;S||(S=function(t){return t.length>20?"".concat(t.substring(0,20),"..."):t});var w=r?C.iD:C.J5,H=(0,c.useContext)(M.ThemeContext),V=U(U({},B),a),z=e.slice(Math.max(0,e.length-50)),X=Object.keys(z[0]||[]).filter((function(t){return"x"===t})),W=(0,Y.Z)({domain:X,range:[_.hM]}),J=(0,I.Z)({domain:[0,Math.max.apply(Math,(0,l.Z)(z.map(Q)))],nice:!0}),$=(0,D.Z)({domain:z.map(G),padding:.35}),q={active:(null===H||void 0===H?void 0:H.content.default)||A.Z.content.default,backgroundPrimary:(null===H||void 0===H?void 0:H.chart.backgroundPrimary)||A.Z.chart.backgroundPrimary,backgroundSecondary:(null===H||void 0===H?void 0:H.chart.backgroundSecondary)||A.Z.chart.backgroundSecondary,muted:(null===H||void 0===H?void 0:H.content.muted)||A.Z.content.muted,primary:(null===H||void 0===H?void 0:H.chart.primary)||A.Z.chart.primary,tooltipBackground:(null===H||void 0===H?void 0:H.background.navigation)||A.Z.background.navigation},K=z.map(k),tt=Math.min(Math.max.apply(Math,(0,l.Z)(K.map((function(t){return String(t).length})))),20);6*tt>2*V.right?V.right+=5.5*tt:6*tt>=V.right&&(V.right+=3.75*tt);var et=g-V.left-V.right,nt=n-V.top-V.bottom;V.left+=7*tt,J.rangeRound([0,et]),$.rangeRound([nt,0]);var it=z.map(Q).length,rt=$(K[it-1]),ot=(0,c.useCallback)((function(t){var e=(0,R.Z)(t)||{x:0,y:0},n=e.x,i=e.y,r=1-(i-rt/2)/(nt-rt),o=Math.floor(r*it),a=z[o];"undefined"===typeof a&&(a=z[o-1]),i>rt&&i<nt-rt&&s({tooltipData:a,tooltipLeft:n,tooltipTop:i+V.top})}),[z,it,V.top,s,rt,nt]);return g<10?null:(0,F.jsxs)("div",{children:[(0,F.jsxs)("svg",{height:n,width:g,children:[(0,F.jsx)(h.Z,{fill:"transparent",height:n-(V.top+V.bottom),onMouseLeave:function(){return i()},onMouseMove:ot,onTouchMove:ot,onTouchStart:ot,rx:14,width:g-V.left,x:V.left,y:0}),(0,F.jsxs)(x.Z,{left:V.left,top:V.top,children:[(0,F.jsx)(T,{color:W,data:z,height:nt,keys:X,pointerEvents:"none",xScale:J,y:k,yScale:$,children:function(t){return t.map((function(t){return t.bars.map((function(e){return(0,F.jsx)("g",{children:(0,F.jsx)(F.Fragment,{children:(0,F.jsx)("rect",{fill:q.backgroundPrimary,height:e.height,pointerEvents:"none",rx:4,width:e.width,x:e.x,y:e.y})})},"barstack-horizontal-".concat(t.index,"-").concat(e.index))}))}))}}),(0,F.jsx)(d.Z,{hideTicks:!0,scale:$,stroke:q.muted,tickFormat:function(t){return S(t)},tickLabelProps:function(){return{fill:q.active,fontFamily:N.ry,fontSize:w,style:{width:"10px"},textAnchor:"end"}},tickStroke:q.muted,tickValues:K,top:2}),(0,F.jsx)(f.Z,{label:b,labelProps:{fill:q.muted,fontFamily:N.ry,fontSize:w,textAnchor:"middle"},numTicks:Z,scale:J,stroke:q.muted,tickLabelProps:function(){return{fill:q.active,fontFamily:N.ry,fontSize:w,textAnchor:"middle"}},tickStroke:q.muted,top:nt})]}),m&&(0,F.jsx)("g",{children:(0,F.jsx)(L.Z,{from:{x:V.left,y:y},pointerEvents:"none",stroke:_.Ej,strokeDasharray:"5,2",strokeWidth:1,to:{x:et+V.left,y:y}})})]}),p&&m&&(0,F.jsx)(O.Z,{left:v,style:U(U({},E.j),{},{backgroundColor:q.tooltipBackground}),top:y,children:(0,F.jsxs)(P.ZP,{black:!0,small:!0,children:[null===u||void 0===u?void 0:u(m),!u&&Q(m).toFixed(4)]})})]})}));var W,J,$,q,K=function(t){var e=t.height,n=t.width,i=(0,a.Z)(t,V);return(0,F.jsx)("div",{style:{height:e,width:"undefined"===typeof n?"100%":n},children:(0,F.jsx)(s.Z,{children:function(t){var e=t.width,n=t.height;return(0,F.jsx)(X,U(U({},i),{},{height:n,width:e}))}})})},tt=n(97618),et=n(52729),nt=n(48670),it=n(87862),rt=n(89370),ot=n(86735),at=(ot.Qj,ot.tS,ot.tS,ot.tS,ot.tS,ot.Qj,ot.Qj,ot.Qj,ot.tS,ot.tS,W={},(0,u.Z)(W,rt.RL.EMAIL,"domain_distribution"),(0,u.Z)(W,rt.RL.TEXT,"word_distribution"),(0,u.Z)(W,rt.RL.LIST,"element_distribution"),(0,u.Z)(W,"default","value_counts"),W),lt=[].concat((0,l.Z)(rt.P_),[rt.RL.TEXT,rt.RL.EMAIL,rt.RL.LIST]),ut=(J={},(0,u.Z)(J,rt.RL.EMAIL,"Domain distribution"),(0,u.Z)(J,rt.RL.TEXT,"Word distribution"),(0,u.Z)(J,rt.RL.LIST,"Element distribution"),(0,u.Z)(J,"default","Distribution of values"),n(31353));!function(t){t.RANGE="range"}($||($={})),function(t){t.BAR_HORIZONTAL="bar_horizontal",t.LINE_CHART="line_chart",t.HISTOGRAM="histogram"}(q||(q={}));var ct=n(48888),st=n(92083),dt=n.n(st),ft=n(81728);function ht(t,e){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i||{},o=r.calculateAnomaly,a=r.feature,u=r.getYValue,c=t.x,s=t.x_metadata,d=s.label,f=s.label_type,h=t.y,m=(null===h||void 0===h?void 0:h.map((function(t){return null===u||void 0===u?void 0:u(t)})))||[],v=Math.max.apply(Math,(0,l.Z)(m)),p=Math.max.apply(Math,(0,l.Z)(m)),x=(0,ot.Sm)(m),y=(0,ot.IN)(m),g=x/Math.max(1,m.length),b=e[d]||a,Z=null===b||void 0===b?void 0:b.columnType,j=rt.RL.DATETIME===Z,k=[],S=[],T=c.length,L=c.map((function(t,e){var i,r,a,l,u=t.label,c=t.max,s=t.min,d=h[e];if($.RANGE===f)if(n||(n=c-s),l=rt.RL.NUMBER===Z&&n<=T)i=Number(s);else if(i=n/2+s,j){var b="M/D/YYYY",L="M/D/YYYY",M="M/D/YYYY";n<=1?(b=n<=.1?"H:mm:ss.SSS":"H:mm:ss",L="H:mm:ss.SSS",M="H:mm:ss.SSS"):n<=60?(b="H:mm",L="H:mm:ss",M="H:mm:ss"):n<=3600?(b="H:mm",L="M/D/YYYY H:mm",M="H:mm"):n<=86400&&(L="M/D/YYYY H:mm",M="M/D/YYYY H:mm"),i=dt().unix(i).format(b),r=dt().unix(s).format(L),a=dt().unix(c).format(M)}else i=(0,ft.QV)(i);else i=u;var w=e>=1?h[e-1]:null,O=!1;o&&(O=o({x:t,y:d,yPrevious:w,yValues:m,yValuesAverage:g,yValuesMax:v,yValuesMin:p,yValuesStandardDeviation:y,yValuesSum:x}));var E={hideRange:l,isUnusual:O,x:t,xLabel:i,xLabelMax:a,xLabelMin:r,y:d};return O&&(l?S.push(E):k.push(E)),E}));return{distribution:{data:L,featureUUID:d},rangedWithUnusualDistribution:(0,ot.YC)(k,(function(t){var e=t.y;return u(e)}),{ascending:!1}),unusualDistribution:(0,ot.YC)(S,(function(t){var e=t.y;return u(e)}),{ascending:!1})}}var mt=n(40489);var vt=12*H.iI;function pt(t){var e=t.columnTypes,n=t.columns,r=t.insightsByFeatureUUID,a=t.insightsOverview,l=t.noColumnLinks,u=void 0!==l&&l,c=t.statistics;return function(t,l,s){var d=s.width,f=n[l],h=e[f],m=ut.T5[h],v=(r[f]||{}).charts,p=a.time_series,x=n.filter((function(t){return e[t]===rt.RL.DATETIME})),y=null===p||void 0===p?void 0:p.map((function(t){return ht(t,{},{feature:{columnType:h,uuid:f}}).distribution})),g={};null===y||void 0===y||y.forEach((function(t,e){var n=t.data;g[x[e]]=(0,F.jsx)(et.Z,{data:n.map((function(t){var e=t.x,n=t.xLabel,i=t.xLabelMax,r=t.xLabelMin;return[n,t.y.count,r,i,e.min,e.max]})),height:vt,large:!0,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t,e,n){var r=n.values,o=(0,i.Z)(r,2),a=o[0],l=o[1];return(0,F.jsxs)("p",{children:["Rows: ",t,(0,F.jsx)("br",{}),"Start: ",a,(0,F.jsx)("br",{}),"End: ",l]})},sortData:function(t){return(0,ot.YC)(t,"[4]")}},f)}));var b,Z=null===v||void 0===v?void 0:v.find((function(t){var e=t.type;return q.HISTOGRAM===e})),j=(Z?ht(Z,{},{feature:{columnType:h,uuid:f},getYValue:function(t){return t.value}}):{}).distribution,k=void 0===j?null:j,S=at[h]||at.default,T=null===c||void 0===c?void 0:c["".concat(f,"/").concat(S)],L=Object.entries(T||{}).map((function(t){var e=(0,i.Z)(t,2),n=e[0];return{x:e[1],y:n}})),M=rt.RL.TRUE_OR_FALSE===h;if(rt.RL.DATETIME===h)b=g[f];else if(k&&!M)b=(0,F.jsx)(et.Z,{data:k.data.map((function(t){var e=t.hideRange,n=t.isUnusual,i=t.x;return[t.xLabel,t.y.value,i.min,i.max,n,e]})),height:vt,margin:{bottom:0,left:0,right:0,top:0},renderTooltipContent:function(t,e,n){var i,r,o=null===n||void 0===n||null===(i=n.values)||void 0===i?void 0:i[0],a=null===n||void 0===n||null===(r=n.values)||void 0===r?void 0:r[1],l="undefined"===typeof o||"undefined"===typeof a;return(0,F.jsxs)("p",{children:[l&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",t,(0,F.jsx)("br",{}),"Value: ","undefined"!==typeof o?o:a]}),!l&&(0,F.jsxs)(F.Fragment,{children:["Rows: ",t,(0,F.jsx)("br",{}),"Range: ",o," - ",a]})]})},sortData:function(t){return(0,ot.YC)(t,"[2]")},width:d-2*H.iI});else if(lt.includes(h)){var w=(0,ot.YC)((0,ot.YC)(L,"x",{ascending:!1}).slice(0,5),"x");b=(0,F.jsx)(K,{data:w,height:vt,margin:{bottom:0,left:0,right:20,top:0},renderTooltipContent:function(t){var e=t.x,n=t.y;return"".concat(n," appears ").concat((0,ft.x6)(e)," times")},xNumTicks:2,ySerialize:function(t){return t.y}})}else M&&T&&(b=(0,F.jsx)(it.Z,{data:Object.entries(T),getX:function(t){var e=(0,i.Z)(t,2),n=e[0],r=e[1];return"".concat(n," (").concat((0,ft.x6)(r),")")},getY:function(t){return(0,i.Z)(t,2)[1]},height:vt}));return(0,F.jsxs)("div",{style:{padding:H.iI},children:[(0,F.jsxs)("div",{style:{alignItems:"center",display:"flex",marginBottom:H.iI},children:[m&&(0,F.jsx)(tt.Z,{title:rt.Rp[h],children:(0,F.jsx)(m,{size:2*H.iI})}),(0,F.jsx)("div",{style:{marginLeft:.5*H.iI,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",width:d-4.5*H.iI},children:u?(0,F.jsx)(P.ZP,{bold:!0,default:!0,title:n[l],children:n[l]}):(0,F.jsx)(o(),{as:(0,mt.o_)(ct.oE,l),href:"/datasets/[...slug]",passHref:!0,children:(0,F.jsx)(nt.Z,{bold:!0,monospace:!0,secondary:!0,small:!0,title:n[l],children:n[l]})})})]}),b,!b&&(0,F.jsx)("div",{style:{height:vt}})]})}}}}]);