(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1312],{66316:function(e,r,t){"use strict";t.d(r,{Z:function(){return j}});var n=t(82394),i=t(70613),o=t(31557),c=t(33591),u=t(38276),s=t(70515),a=t(28598);var l=function(e){var r=e.children,t=e.width,n=void 0===t?12:t;return(0,a.jsx)(u.Z,{px:s.zC,children:(0,a.jsx)(c.Row,{children:(0,a.jsx)(c.Col,{lg:n,md:Math.min(12,Math.round(1.5*(12-n))),sm:Math.min(12,Math.round(1.75*(12-n))),xs:12,children:r})})})},d=t(25976),f=t(46684),p=d.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-jcgu5l-0"})(["padding-top:","px;",""],f.Mz,(function(e){return e.fullHeight&&"\n    height: calc(100vh);\n  "}));function h(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function g(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?h(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):h(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var j=function(e){var r=e.children,t=e.headerProps,n=e.title;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:n}),(0,a.jsx)(o.Z,g({},t)),(0,a.jsx)(l,{children:(0,a.jsx)(p,{fullHeight:!0,children:r})})]})}},46568:function(e,r,t){"use strict";var n=t(82394),i=t(26304),o=(t(82684),t(33591)),c=t(28598),u=["children","fullHeight","gutter","style"];function s(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function a(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?s(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.children,t=e.fullHeight,n=e.gutter,s=e.style,l=void 0===s?{}:s,d=(0,i.Z)(e,u),f=a({},l);return n&&(f.paddingLeft=n,f.paddingRight=f.paddingLeft),t&&(f.height="100%"),(0,c.jsx)(o.Col,a(a({},d),{},{style:f,children:r}))}},82682:function(e,r,t){"use strict";var n=t(82394),i=t(26304),o=t(82684),c=t(33591),u=t(28598),s=["children","fullHeight","gutter","justifyContent","style"];function a(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?a(Object(t),!0).forEach((function(r){(0,n.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}r.Z=function(e){var r=e.children,t=e.fullHeight,n=e.gutter,a=e.justifyContent,d=e.style,f=void 0===d?{}:d,p=(0,i.Z)(e,s),h=l({},f);return n&&(h.marginLeft=-1*n,h.marginRight=h.marginLeft),t&&(h.height="100%"),(0,u.jsx)(c.Row,l(l({},p),{},{justifyContent:a,style:h,children:o.Children.map(r,(function(e,r){return e&&o.cloneElement(e,{gutter:n,key:r})}))}))}},94542:function(e,r,t){"use strict";t.d(r,{J:function(){return o},X:function(){return c}});var n=t(46568),i=t(82682),o=n.Z,c=i.Z},91769:function(e,r,t){"use strict";t.d(r,{f:function(){return v},h:function(){return j}});var n=t(82394),i=t(82684),o=t(34376),c=t(68562),u=t(72473),s=t(70515),a=t(69419),l=t(53808),d=t(28598);var f=function(e){var r=e.oauthResponse,t=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return r||{}}),[r]),f=n.url,p=n.redirect_query_params,h=void 0===p?{}:p;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(u.GoogleIcon,{size:2*s.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(f).state;(0,l.t8)(e,h),t.push(f)},uuid:"SignForm/google",children:"Sign in with Google"})})};var p=function(e){var r=e.oauthResponse,t=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return r||{}}),[r]),f=n.url,p=n.redirect_query_params,h=void 0===p?{}:p;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(u.MicrosoftIcon,{size:2*s.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(f).state;h&&(0,l.t8)(e,h),t.push(f)},uuid:"SignForm/active_directory",children:"Sign in with Microsoft"})})};var h=function(e){var r=e.oauthResponse,t=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return r||{}}),[r]),u=n.url,s=n.redirect_query_params,f=void 0===s?{}:s;return(0,d.jsx)(d.Fragment,{children:u&&(0,d.jsx)(c.ZP,{bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(u).state;(0,l.t8)(e,f),t.push(u)},uuid:"SignForm/oidc_generic",children:"Sign in with OIDC"})})};var g,j,b=function(e){var r=e.oauthResponse,t=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return r||{}}),[r]),u=n.url,s=n.redirect_query_params,f=void 0===s?{}:s;return(0,d.jsx)(d.Fragment,{children:u&&(0,d.jsx)(c.ZP,{bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(u).state;(0,l.t8)(e,f),t.push(u)},uuid:"SignForm/okta",children:"Sign in with Okta"})})};!function(e){e.ACTIVE_DIRECTORY="active_directory",e.AZURE_DEVOPS="azure_devops",e.BITBUCKET="bitbucket",e.GITHUB="github",e.GITLAB="gitlab",e.GOOGLE="google",e.OIDC_GENERIC="oidc_generic",e.OKTA="okta"}(j||(j={}));var v=(g={},(0,n.Z)(g,j.ACTIVE_DIRECTORY,p),(0,n.Z)(g,j.GOOGLE,f),(0,n.Z)(g,j.OIDC_GENERIC,h),(0,n.Z)(g,j.OKTA,b),g)},13180:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return L}});var n=t(77837),i=t(38860),o=t.n(i),c=t(66316),u=t(82394),s=t(75582),a=t(82684),l=t(69864),d=t(34376),f=t(40761),p=t(55485),h=t(85854),g=t(68562),j=t(38276),b=t(30160),v=t(17488),O=t(35686),y=t(25976),m=t(44897),x=t(42631),w=t(70515),P=y.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-641xul-0"})(["border-radius:","px;padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;width:100%;",""],x.TR,21*w.iI,w.Vj,w.Vj,w.Vj,(function(e){return"\n    background-color: ".concat((e.theme.background||m.Z.background).panel,";\n  ")})),Z=y.default.div.withConfig({displayName:"indexstyle__BackgroundImageStyle",componentId:"sc-641xul-1"})(["border-radius:","px;font-size:0;overflow:hidden;",""],x.D7,(function(e){return e.src&&"\n    background-image: url(".concat(e.src,");\n    background-size: cover;\n    background-repeat: no-repeat;\n    height: 100%;\n    width: 100%;\n  ")})),C=t(94542),_=t(39643),k=t(91769),E=t(42122),S=t(72619),D=t(42041),R=t(69419),I=t(50178),M=t(28598);function T(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function z(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?T(Object(t),!0).forEach((function(r){(0,u.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):T(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var V="email",F="password";var G=function(e){var r=e.title,t=(0,d.useRouter)(),n=(0,a.useState)(null),i=n[0],o=n[1],c=(0,a.useState)({}),y=c[0],m=c[1],x=(0,l.Db)(O.ZP.sessions.useCreate(),{onSuccess:function(e){return(0,S.wD)(e,{callback:function(e){var r=e.session,n=r.token,i=r.user;(0,I.av)(i),f.Z.storeToken(n,(function(){var e="".concat(t.basePath,"/"),r=(0,R.iV)(window.location.href),n=(0,R.uM)((0,E.gR)(r,["redirect_url","access_token","provider"]));r.redirect_url&&(e="".concat(r.redirect_url,"?").concat(n)),window.location.href=e}))},onErrorCallback:function(e){var r=e.error;o(r)}})}}),T=(0,s.Z)(x,2),G=T[0],H=T[1].isLoading,L=(0,a.useCallback)((function(e){return f.Z.logout((function(){return G(e)}))}),[G]),N=O.ZP.oauths.list({redirect_uri:encodeURIComponent(window.location.href)}).data,A=(0,a.useMemo)((function(){var e;return null===N||void 0===N||null===(e=N.oauths)||void 0===e?void 0:e.reduce((function(e,r){return e[r.provider]=r,e}),{})}),[N]),U=(0,R.iV)()||{},q=U.access_token,B=U.provider;return(0,a.useEffect)((function(){var e;q&&B&&G({session:(e={},(0,u.Z)(e,"provider",B),(0,u.Z)(e,"token",q),e)})}),[q,G,B]),(0,M.jsxs)(C.X,{fullHeight:!0,children:[(0,M.jsx)(C.J,{lg:6,md:12,children:(0,M.jsx)(p.ZP,{flexDirection:"column",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:(0,M.jsx)(j.Z,{px:{xl:5*w.zC,xs:w.zC},py:w.zC,children:(0,M.jsxs)(P,{children:[(0,M.jsx)(h.Z,{yellow:!0,children:r}),(0,M.jsxs)("form",{children:[(0,M.jsxs)(j.Z,{mt:3,children:[(0,M.jsx)(v.Z,{autoComplete:"username",label:"Email",large:!0,meta:{error:" ",touched:!!i},onChange:function(e){return m((function(r){return z(z({},r),{},(0,u.Z)({},V,e.target.value))}))},primary:!i,value:y.email}),(0,M.jsx)(j.Z,{mt:2,children:(0,M.jsx)(v.Z,{autoComplete:"current-password",label:"Password",large:!0,meta:{error:" ",touched:!!i},onChange:function(e){return m((function(r){return z(z({},r),{},(0,u.Z)({},F,e.target.value))}))},primary:!i,type:"password",value:y.password})})]}),i&&(0,M.jsx)(j.Z,{mt:2,children:(0,M.jsx)(b.ZP,{danger:!0,children:i.message})}),(0,M.jsx)(j.Z,{mt:3,children:(0,M.jsx)(g.ZP,{bold:!0,inline:!0,keyTextGroups:[[_.Lz]],keyboardShortcutValidation:function(e){var r=e.keyMapping;return(0,D.y)([_.Uq],r)},large:!0,loading:H,noHoverUnderline:!0,onClick:function(){return L({session:y})},selected:!0,uuid:"SignForm/action",wind:!0,children:"Sign into Mage"})}),Object.entries(k.f).map((function(e){var r=(0,s.Z)(e,2),t=r[0],n=r[1];return(0,M.jsx)(M.Fragment,{children:(null===A||void 0===A?void 0:A[t])&&(0,M.jsx)(j.Z,{mt:4,children:(0,M.jsx)(n,{oauthResponse:null===A||void 0===A?void 0:A[t]})})})}))]})]})})})}),(0,M.jsx)(C.J,{hiddenLgDown:!0,lg:6,style:{flex:1},children:(0,M.jsx)(j.Z,{fullHeight:!0,fullWidth:!0,px:w.zC,py:w.zC+8,children:(0,M.jsx)(Z,{src:"".concat(t.basePath,"/images/sessions/abstract.png"),children:"Sign in abstract image"})})})]})};function H(){return(0,M.jsx)(c.Z,{headerProps:{hideActions:!0},title:"Sign in",children:(0,M.jsx)(G,{title:"\ud83d\udc4b Sign in"})})}H.getInitialProps=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var L=H},6821:function(e,r,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return t(13180)}])}},function(e){e.O(0,[1557,9774,2888,179],(function(){return r=6821,e(e.s=r);var r}));var r=e.O();_N_E=r}]);