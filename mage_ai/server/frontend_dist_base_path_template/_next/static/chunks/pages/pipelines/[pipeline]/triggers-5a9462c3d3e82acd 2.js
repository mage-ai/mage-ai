(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4249],{61386:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=function(e,n){var t=o.default,i=(null==n?void 0:n.suspense)?{}:{loading:function(e){e.error,e.isLoading;return e.pastDelay,null}};e instanceof Promise?i.loader=function(){return e}:"function"===typeof e?i.loader=e:"object"===typeof e&&(i=r({},i,e));!1;(i=r({},i,n)).suspense&&(delete i.ssr,delete i.loading);i.loadableGenerated&&delete(i=r({},i,i.loadableGenerated)).loadableGenerated;if("boolean"===typeof i.ssr&&!i.suspense){if(!i.ssr)return delete i.ssr,u(t,i);delete i.ssr}return t(i)},n.noSSR=u;var r=t(54363).Z,i=t(4858).Z,o=(i(t(82684)),i(t(41800)));function u(e,n){return delete n.webpack,delete n.modules,e(n)}("function"===typeof n.default||"object"===typeof n.default&&null!==n.default)&&"undefined"===typeof n.default.__esModule&&(Object.defineProperty(n.default,"__esModule",{value:!0}),Object.assign(n.default,n),e.exports=n.default)},88124:function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.LoadableContext=void 0;var r=(0,t(4858).Z)(t(82684)).default.createContext(null);n.LoadableContext=r},41800:function(e,n,t){"use strict";var r=t(71539),i=t(66745);function o(e,n){var t="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=function(e,n){if(!e)return;if("string"===typeof e)return u(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(e);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return u(e,n)}(e))||n&&e&&"number"===typeof e.length){t&&(e=t);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,l=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return a=e.done,e},e:function(e){l=!0,o=e},f:function(){try{a||null==t.return||t.return()}finally{if(l)throw o}}}}function u(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=t(54363).Z,l=(0,t(4858).Z)(t(82684)),c=t(88124),s=t(82684).useSyncExternalStore,d=[],f=[],p=!1;function h(e){var n=e(),t={loading:!0,loaded:null,error:null};return t.promise=n.then((function(e){return t.loading=!1,t.loaded=e,e})).catch((function(e){throw t.loading=!1,t.error=e,e})),t}var v=function(){function e(n,t){r(this,e),this._loadFn=n,this._opts=t,this._callbacks=new Set,this._delay=null,this._timeout=null,this.retry()}return i(e,[{key:"promise",value:function(){return this._res.promise}},{key:"retry",value:function(){var e=this;this._clearTimeouts(),this._res=this._loadFn(this._opts.loader),this._state={pastDelay:!1,timedOut:!1};var n=this._res,t=this._opts;n.loading&&("number"===typeof t.delay&&(0===t.delay?this._state.pastDelay=!0:this._delay=setTimeout((function(){e._update({pastDelay:!0})}),t.delay)),"number"===typeof t.timeout&&(this._timeout=setTimeout((function(){e._update({timedOut:!0})}),t.timeout))),this._res.promise.then((function(){e._update({}),e._clearTimeouts()})).catch((function(n){e._update({}),e._clearTimeouts()})),this._update({})}},{key:"_update",value:function(e){this._state=a({},this._state,{error:this._res.error,loaded:this._res.loaded,loading:this._res.loading},e),this._callbacks.forEach((function(e){return e()}))}},{key:"_clearTimeouts",value:function(){clearTimeout(this._delay),clearTimeout(this._timeout)}},{key:"getCurrentValue",value:function(){return this._state}},{key:"subscribe",value:function(e){var n=this;return this._callbacks.add(e),function(){n._callbacks.delete(e)}}}]),e}();function g(e){return function(e,n){var t=Object.assign({loader:null,loading:null,delay:200,timeout:null,webpack:null,modules:null,suspense:!1},n);t.suspense&&(t.lazy=l.default.lazy(t.loader));var r=null;function i(){if(!r){var n=new v(e,t);r={getCurrentValue:n.getCurrentValue.bind(n),subscribe:n.subscribe.bind(n),retry:n.retry.bind(n),promise:n.promise.bind(n)}}return r.promise()}if(!p){var u=t.webpack?t.webpack():t.modules;u&&f.push((function(e){var n,t=o(u);try{for(t.s();!(n=t.n()).done;){var r=n.value;if(-1!==e.indexOf(r))return i()}}catch(a){t.e(a)}finally{t.f()}}))}function d(){i();var e=l.default.useContext(c.LoadableContext);e&&Array.isArray(t.modules)&&t.modules.forEach((function(n){e(n)}))}var h=t.suspense?function(e,n){return d(),l.default.createElement(t.lazy,a({},e,{ref:n}))}:function(e,n){d();var i=s(r.subscribe,r.getCurrentValue,r.getCurrentValue);return l.default.useImperativeHandle(n,(function(){return{retry:r.retry}}),[]),l.default.useMemo((function(){return i.loading||i.error?l.default.createElement(t.loading,{isLoading:i.loading,pastDelay:i.pastDelay,timedOut:i.timedOut,error:i.error,retry:r.retry}):i.loaded?l.default.createElement((n=i.loaded)&&n.__esModule?n.default:n,e):null;var n}),[e,i])};return h.preload=function(){return i()},h.displayName="LoadableComponent",l.default.forwardRef(h)}(h,e)}function b(e,n){for(var t=[];e.length;){var r=e.pop();t.push(r(n))}return Promise.all(t).then((function(){if(e.length)return b(e,n)}))}g.preloadAll=function(){return new Promise((function(e,n){b(d).then(e,n)}))},g.preloadReady=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((function(n){var t=function(){return p=!0,n()};b(f,e).then(t,t)}))},window.__NEXT_PRELOADREADY=g.preloadReady;var m=g;n.default=m},51774:function(e,n,t){e.exports=t(61386)},8916:function(e,n,t){"use strict";t.d(n,{FS:function(){return l},JZ:function(){return s},e7:function(){return d},wx:function(){return c}});var r=t(75582),i=t(82394),o=t(30229);function u(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function a(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?u(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e){return"string"===typeof e?e:JSON.stringify(e)}function c(e,n){var t,r;return null===e||void 0===e||null===(t=e.find((function(e){var t=e.block;return n(t)})))||void 0===t||null===(r=t.variables)||void 0===r?void 0:r.map((function(e){var n=e.value;return a(a({},e),{},{value:l(n)})}))}function s(e,n){return n===o.Xm.TIME?e.push({uuid:"execution_date",value:"<run datetime>"}):n===o.Xm.EVENT&&e.push({uuid:"event",value:"<trigger event>"}),e}function d(e){return e?Object.entries(e).reduce((function(e,n){var t=(0,r.Z)(n,2),o=t[0],u=t[1],l=u;try{l=JSON.parse(u)}catch(c){}return a(a({},e),{},(0,i.Z)({},o,l))}),{}):e}},16488:function(e,n,t){"use strict";t.d(n,{IJ:function(){return p},M8:function(){return _},Vx:function(){return m},XM:function(){return x},eI:function(){return b},gU:function(){return j},ri:function(){return v},tL:function(){return y},vJ:function(){return O},xH:function(){return g}});var r,i=t(82394),o=t(92083),u=t.n(o),a=t(3917),l=t(4383),c=t(30229),s=t(42122);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function p(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t=n.block_uuid,r=n.completed_at,o=n.started_at,a=n.status,l=null;o&&r&&(l=u()(r).valueOf()-u()(o).valueOf());return f(f({},e),{},(0,i.Z)({},t,{runtime:l,status:a}))}),{})}var h,v=function(e){var n=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:c.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:c.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:c.Xm.API}];return e?n.slice(0,1):n};function g(e){var n=(0,s.gR)(e,[c.gm.INTERVAL,c.gm.TYPE]),t=e[c.gm.INTERVAL];t&&(n["schedule_interval[]"]=encodeURIComponent(t));var r=e[c.gm.TYPE];return r&&(n["schedule_type[]"]=r),n}function b(e){if(!e)return null;var n=new Date(u()(e).valueOf()),t=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds());return new Date(t)}function m(e){return"string"!==typeof e?e:b(e.split("+")[0]).toISOString().split(".")[0]}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(h||(h={}));var y=(r={},(0,i.Z)(r,h.DAY,86400),(0,i.Z)(r,h.HOUR,3600),(0,i.Z)(r,h.MINUTE,60),(0,i.Z)(r,h.SECOND,1),r);function j(e){var n=h.SECOND,t=e;return e%86400===0?(t/=86400,n=h.DAY):e%3600===0?(t/=3600,n=h.HOUR):e%60===0&&(t/=60,n=h.MINUTE),{time:t,unit:n}}function O(e,n){return e*y[n]}function x(e,n,t){var r="".concat(e.toISOString().split("T")[0]," ").concat(null===n||void 0===n?void 0:n.hour,":").concat(null===n||void 0===n?void 0:n.minute);if(null!==t&&void 0!==t&&t.includeSeconds&&(r=r.concat(":00")),null!==t&&void 0!==t&&t.localTimezone){var i=u()(e);i.set("hour",+(null===n||void 0===n?void 0:n.hour)||0),i.set("minute",+(null===n||void 0===n?void 0:n.minute)||0),i.set("second",0),r=i.format(a.lE),null!==t&&void 0!==t&&t.convertToUtc&&(r=(0,a.d$)(r,{includeSeconds:null===t||void 0===t?void 0:t.includeSeconds,utcFormat:!0}))}return r}function _(e){var n,t="";return t="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(t="".concat(t,"/").concat(e.token)),(n=window.location.port)&&(t=t.replace(n,l.QT)),t}},70320:function(e,n,t){"use strict";t.d(n,{h:function(){return u},q:function(){return o}});var r=t(78419),i=t(53808);function o(){return(0,i.U2)(r.am,null)||!1}function u(e){return"undefined"!==typeof e&&(0,i.t8)(r.am,e),e}},81066:function(e,n,t){"use strict";t.d(n,{B:function(){return f}});var r=t(82394),i=t(46732),o=t(93369),u=t(72473),a=t(8059),l=t(70515),c=t(28598);function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var f={bold:!0,greyBorder:!0,paddingBottom:9,paddingTop:9};n.Z=function(e){var n=e.addButtonMenuOpen,t=e.addButtonMenuRef,r=e.isLoading,s=e.label,p=e.menuItems,h=e.onClick,v=e.onClickCallback;return(0,c.jsx)(i.Z,{disableKeyboardShortcuts:!0,items:p,onClickCallback:v,onClickOutside:v,open:n,parentRef:t,roundedStyle:!0,topOffset:1,uuid:"Table/Toolbar/NewItemMenu",children:(0,c.jsx)(o.ZP,d(d({},f),{},{background:a.eW,beforeElement:(0,c.jsx)(u.mm,{size:2.5*l.iI}),loading:r,onClick:function(e){e.preventDefault(),null===h||void 0===h||h()},uuid:"shared/AddButton/index",children:s}))})}},55072:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(71180),i=t(55485),o=t(38276),u=t(31748),a=t(72473),l=t(79633),c=t(70515),s=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=t;if(h>f)p=Array.from({length:f},(function(e,n){return n}));else{var v=Math.floor(h/2),g=n-v;n+v>=f?(g=f-h+2,h-=2):n-v<=0?(g=0,h-=2):(h-=4,g=n-Math.floor(h/2)),p=Array.from({length:h},(function(e,n){return n+g}))}return(0,s.jsx)(s.Fragment,{children:f>0&&(0,s.jsxs)(i.ZP,{alignItems:"center",children:[(0,s.jsx)(r.Z,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,s.jsx)(a.Hd,{size:1.5*c.iI,stroke:u.Av})}),!p.includes(0)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{backgroundColor:e===n&&l.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,s.jsxs)(s.Fragment,{children:[!p.includes(f-2)&&(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,s.jsx)(o.Z,{ml:1,children:(0,s.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,s.jsx)(o.Z,{ml:1}),(0,s.jsx)(r.Z,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,s.jsx)(a.Kw,{size:1.5*c.iI,stroke:u.Av})})]})})}},83784:function(e,n,t){"use strict";t.d(n,{C:function(){return r}});var r="global"},82359:function(e,n,t){"use strict";var r,i;t.d(n,{d:function(){return r},k:function(){return i}}),function(e){e.ADD_NEW_BLOCK_V2="add_new_block_v2",e.LOCAL_TIMEZONE="display_local_timezone"}(r||(r={})),function(e){e.MAIN="main",e.STANDALONE="standalone",e.SUB="sub"}(i||(i={}))},46732:function(e,n,t){"use strict";var r=t(82394),i=t(26304),o=(t(82684),t(50724)),u=t(70374),a=t(28598),l=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid","zIndex"];function c(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?c(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.children,t=e.items,r=e.open,c=e.onClickCallback,d=e.onClickOutside,f=e.parentRef,p=e.uuid,h=e.zIndex,v=(0,i.Z)(e,l),g=(0,a.jsxs)("div",{style:{position:"relative",zIndex:(d?3:2)+(h||0)},children:[(0,a.jsx)("div",{ref:f,children:n}),(0,a.jsx)(u.Z,s(s({},v),{},{items:t,onClickCallback:c,open:r,parentRef:f,uuid:p}))]});return d?(0,a.jsx)(o.Z,{onClickOutside:d,open:!0,children:g}):g}},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),o=t(38276),u=t(30160),a=t(44897),l=t(42631),c=t(47041),s=t(70515),d=t(28598),f=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*s.iI,1.5*s.iI,1.5*s.iI),p=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],l.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||a.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||a.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||a.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||a.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||a.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],l.n_,l.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||a.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||a.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),f,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),v=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*s.iI,c.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*s.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),g=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],l.M8,l.YF,1.75*s.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,a=e.contentContainerRef,l=e.dark,c=e.footer,s=e.fullHeight,f=void 0===s||s,b=e.fullWidth,m=void 0===b||b,y=e.header,j=e.headerHeight,O=e.headerIcon,x=e.headerPaddingVertical,_=e.headerTitle,P=e.maxHeight,w=e.maxWidth,Z=e.minWidth,k=e.noPadding,C=e.overflowVisible,S=e.subtitle,I=e.success;return(0,d.jsxs)(p,{borderless:n,dark:l,fullHeight:f,fullWidth:m,maxHeight:P,maxWidth:w,minWidth:Z,overflowVisible:C,ref:r,success:I,children:[(y||_)&&(0,d.jsxs)(h,{headerPaddingVertical:x,height:j,children:[y&&y,_&&(0,d.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,d.jsxs)(i.ZP,{alignItems:"center",children:[O&&O,(0,d.jsx)(o.Z,{ml:O?1:0,children:(0,d.jsx)(u.ZP,{bold:!0,default:!0,children:_})})]})})]}),(0,d.jsxs)(v,{maxHeight:P,noPadding:k,overflowVisible:C,ref:a,children:[S&&(0,d.jsx)(o.Z,{mb:2,children:(0,d.jsx)(u.ZP,{default:!0,children:S})}),t]}),c&&(0,d.jsx)(g,{children:c})]})}},72191:function(e,n,t){"use strict";t.d(n,{_k:function(){return o},bL:function(){return i},l2:function(){return u}});var r=t(70515),i=(r.iI,2*r.iI),o=2.5*r.iI,u=3*r.iI},23706:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return pe}});var r=t(77837),i=t(75582),o=t(82394),u=t(38860),a=t.n(u),l=t(12691),c=t.n(l),s=t(82684),d=t(69864),f=t(34376),p=t(17586),h=t(15338),v=t(48670),g=t(55072),b=t(75457),m=t(30229),y=t(93808),j=t(82359),O=t(71180),x=t(55485),_=t(85854),P=t(65956),w=t(38276),Z=t(75499),k=t(30160),C=t(35576),S=t(17488),I=t(69650),E=t(44897),D=t(38626),T=t(42631),N=t(70515),M=D.default.div.withConfig({displayName:"indexstyle__ToggleStyle",componentId:"sc-f9kt7n-0"})(["padding:","px ","px;border-radius:","px;",""],1.5*N.iI,2*N.iI,T.n_,(function(e){return"\n    border: 1px solid ".concat((e.theme||E.Z).borders.light,";\n    background-color: ").concat((e.theme||E.Z).background.popup,";\n  ")})),A=t(81728),R=t(8916),V=t(28598);function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var B="".concat(N.iI,"px ").concat(3*N.iI,"px");var F=function(e){var n=e.initialPipelineSchedulePayload,t=e.onCancel,r=e.onSuccess,u=e.variables,a=(0,s.useState)(!1),l=a[0],c=a[1],d=(0,s.useState)({}),f=d[0],p=d[1],h=(0,s.useState)(u||{}),v=h[0],g=h[1],b=(0,s.useMemo)((function(){return H(H({},n),{},{name:(0,A.Y6)(),variables:l?(0,R.e7)(v):null})}),[n,l,v]),m=function(e,n){var t={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),g((function(t){return H(H({},t),{},(0,o.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return f[e]?(0,V.jsx)(C.Z,H(H({},t),{},{rows:1,value:n})):(0,V.jsx)(S.Z,H({},t))};return(0,s.useEffect)((function(){var e=Object.entries(v).reduce((function(e,n){var t=(0,i.Z)(n,2),r=t[0],u=t[1],a=(0,A.Pb)(u)&&"object"===typeof JSON.parse(u)&&!Array.isArray(JSON.parse(u))&&null!==JSON.parse(u);return H(H({},e),{},(0,o.Z)({},r,a))}),{});p(e)}),[]),(0,V.jsxs)(P.Z,{footer:(0,V.jsxs)(x.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,V.jsx)(O.Z,{onClick:function(){r({pipeline_schedule:b}),t()},padding:B,primaryAlternate:!0,children:"Run now"}),(0,V.jsx)(w.Z,{mr:1}),(0,V.jsx)(O.Z,{borderColor:E.Z.background.page,onClick:t,padding:B,secondary:!0,children:"Cancel"})]}),header:(0,V.jsx)(_.Z,{level:5,children:"Run pipeline now"}),maxHeight:"90vh",minWidth:85*N.iI,subtitle:"Creates a new trigger and immediately runs the current pipeline once.",children:[(0,V.jsx)(M,{children:(0,V.jsxs)(x.ZP,{alignItems:"center",children:[(0,V.jsx)(w.Z,{mr:2,children:(0,V.jsx)(I.Z,{checked:l,onCheck:c})}),(0,V.jsx)(k.ZP,{bold:!0,large:!0,children:"Overwrite runtime variables"})]})}),l&&v&&Object.entries(v).length>0&&(0,V.jsx)(w.Z,{mt:2,children:(0,V.jsx)(Z.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(v).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return[(0,V.jsx)(k.ZP,{default:!0,monospace:!0,children:t},"variable_".concat(t)),m(t,r)]}))})})]})},U=t(47041),W=D.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1xgfh62-0"})(["border-bottom:1px solid ",";padding:","px;"],E.Z.borders.medium,N.tr),Y=D.default.div.withConfig({displayName:"indexstyle__CardsStyle",componentId:"sc-1xgfh62-1"})([""," height:80px;display:flex;overflow-x:scroll;"],U.w5),z=D.default.div.withConfig({displayName:"indexstyle__VariableCardStyle",componentId:"sc-1xgfh62-2"})(["background-color:",";border-radius:","px;flex-shrink:0;margin-right:","px;padding:","px;"],E.Z.background.output,T.n_,N.iI,N.tr),X=t(79633);var J=function(e){var n=e.hasOverride,t=e.scheduleType,r=e.variables,o=e.variablesOverride,u=[];return Object.entries(r).forEach((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1],a=null===o||void 0===o?void 0:o[t];u.push({uuid:t,value:(0,R.FS)(a||r)})})),(0,R.JZ)(u,t),(0,V.jsxs)(W,{children:[(0,V.jsx)(w.Z,{mb:2,children:(0,V.jsxs)(k.ZP,{bold:!0,large:!0,monospace:!0,muted:!0,children:["Runtime variables",n&&" (override)"]})}),(0,V.jsx)(Y,{noScrollbarTrackBackground:!0,children:r&&u.map((function(e){var n=e.uuid,t=e.value;return(0,V.jsxs)(z,{children:[(0,V.jsx)(k.ZP,{monospace:!0,small:!0,children:n}),(0,V.jsx)(k.ZP,{color:X.Or,monospace:!0,small:!0,children:(0,R.FS)(t)})]})}))})]})},Q=t(4190),G=t(38013),q=t(31743),K=t(35686),$=t(83784),ee=t(28795),ne=t(3917),te=t(69419),re=t(16488),ie=t(86735),oe=t(42122),ue=t(50178),ae=t(72619),le=t(70320),ce=t(89538);function se(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function de(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?se(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):se(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function fe(e){var n=e.pipeline,t=(0,f.useRouter)(),r=(0,ue.Ct)(),u=n.uuid,a=(0,s.useState)(null),l=a[0],y=a[1],O=K.ZP.projects.list().data,x=(0,s.useMemo)((function(){var e;return null===O||void 0===O||null===(e=O.projects)||void 0===e?void 0:e[0]}),[O]),_=((0,s.useMemo)((function(){var e;return(0,le.h)(null===x||void 0===x||null===(e=x.features)||void 0===e?void 0:e[j.d.LOCAL_TIMEZONE])}),[null===x||void 0===x?void 0:x.features]),K.ZP.variables.pipelines.list(u,{global_only:!0},{revalidateOnFocus:!1}).data),P=null===_||void 0===_?void 0:_.variables,Z=(0,te.iV)(),C=(0,te.DQ)(Z,[m.gm.INTERVAL,m.gm.STATUS,m.gm.TAG,m.gm.TYPE]),S=(0,re.xH)(C),I=null!==Z&&void 0!==Z&&Z.page?Z.page:0,E=K.ZP.pipeline_schedules.pipelines.list(u,de(de({},S),{},{_limit:g.Q,_offset:(null!==Z&&void 0!==Z&&Z.page?Z.page:0)*g.Q}),{refreshInterval:7500}),D=E.data,T=E.mutate,M=(0,s.useMemo)((function(){return(null===D||void 0===D?void 0:D.pipeline_schedules)||[]}),[D]),L=function(e){return(0,d.Db)(K.ZP.pipeline_schedules.pipelines.useCreate(u),{onSuccess:function(n){return(0,ae.wD)(n,{callback:function(n){var t=n.pipeline_schedule.id;null===e||void 0===e||e(t)},onErrorCallback:function(e,n){return y({errors:n,response:e})}})}})},H=L((function(e){return t.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===n||void 0===n?void 0:n.uuid,"/triggers/").concat(e,"/edit"))})),B=(0,i.Z)(H,2),U=B[0],W=B[1].isLoading,Y=L(T),z=(0,i.Z)(Y,2),X=z[0],se=z[1].isLoading,fe=(0,s.useMemo)((function(){var e;return null===(e=(0,R.wx)(P,(function(e){return e.uuid===$.C})))||void 0===e?void 0:e.reduce((function(e,n){var t=n.uuid,r=n.value;return de(de({},e),{},(0,o.Z)({},t,r))}),{})}),[P]),pe=(0,s.useMemo)((function(){return{name:(0,A.Y6)(),schedule_interval:m.U5.ONCE,schedule_type:m.Xm.TIME,start_time:(0,ne.d$)((new Date).toISOString(),{dayAgo:!0,utcFormat:!0}),status:m.fq.ACTIVE}}),[]),he=(0,ce.dd)((function(){return(0,V.jsx)(F,{initialPipelineSchedulePayload:pe,onCancel:be,onSuccess:X,variables:fe})}),{},[P,fe],{background:!0,uuid:"run_pipeline_now_popup"}),ve=(0,i.Z)(he,2),ge=ve[0],be=ve[1],me=(0,s.useState)(),ye=me[0],je=me[1],Oe=(0,s.useMemo)((function(){var e=null===ye||void 0===ye?void 0:ye.variables,n=!(0,oe.Qr)(e),t=n?null===ye||void 0===ye?void 0:ye.variables:(0,oe.Qr)(fe)?null:fe;return function(i){var o=i.height-(t?151:80);return(0,V.jsxs)(V.Fragment,{children:[t&&(0,V.jsx)(J,{hasOverride:n,scheduleType:null===ye||void 0===ye?void 0:ye.schedule_type,variables:fe,variablesOverride:e}),!t&&(0,V.jsxs)(w.Z,{p:N.cd,children:[(0,V.jsx)(k.ZP,{children:"This pipeline has no runtime variables."}),!r&&(0,V.jsxs)(w.Z,{mt:1,children:[(0,V.jsx)(c(),{as:"/pipelines/".concat(u,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,V.jsx)(v.Z,{primary:!0,children:"Click here"})})," ",(0,V.jsx)(k.ZP,{inline:!0,children:"to add variables to this pipeline."})]})]}),(0,V.jsx)(p.Z,de(de({},i),{},{height:o,noStatus:!0}))]})}}),[r,u,null===ye||void 0===ye?void 0:ye.schedule_type,null===ye||void 0===ye?void 0:ye.variables,fe]),xe=(0,s.useMemo)((function(){var e;return(null===D||void 0===D||null===(e=D.metadata)||void 0===e?void 0:e.count)||[]}),[D]),_e=K.ZP.pipeline_triggers.pipelines.list(u).data,Pe=(0,s.useMemo)((function(){return(0,ie.HK)((null===_e||void 0===_e?void 0:_e.pipeline_triggers)||[],(function(e){return e.name}))}),[_e]),we=K.ZP.tags.list().data,Ze=(0,s.useMemo)((function(){return(0,ie.YC)((null===we||void 0===we?void 0:we.tags)||[],(function(e){return e.uuid}))}),[we]),ke=(0,s.useMemo)((function(){return(0,V.jsx)(G.Z,{addButtonProps:{isLoading:W,label:"New trigger",onClick:function(){return U({pipeline_schedule:{name:(0,A.Y6)()}})}},filterOptions:{frequency:Object.values(m.U5),status:Object.values(m.fq),tag:Ze.map((function(e){return e.uuid})),type:Object.values(m.Xm)},filterValueLabelMapping:{tag:Ze.reduce((function(e,n){var t=n.uuid;return de(de({},e),{},(0,o.Z)({},t,t))}),{}),type:m.Z4},onClickFilterDefaults:function(){t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(u,"/triggers"))},query:C,secondaryButtonProps:{disabled:r,isLoading:se,label:"Run @once",onClick:(0,oe.Qr)(fe)?function(){return X({pipeline_schedule:pe})}:ge,tooltip:"Creates an @once trigger and runs pipeline immediately"},showDivider:!0})}),[U,X,W,se,r,pe,u,C,t,ge,Ze,fe]);return(0,V.jsxs)(b.Z,{breadcrumbs:[{label:function(){return"Triggers"}}],buildSidekick:Oe,errors:l,pageName:ee.M.TRIGGERS,pipeline:n,setErrors:y,subheader:ke,title:function(e){var n=e.name;return"".concat(n," triggers")},uuid:"".concat(ee.M.TRIGGERS,"_").concat(u),children:[(0,V.jsx)(h.Z,{light:!0}),D?(0,V.jsxs)(V.Fragment,{children:[(0,V.jsx)(q.Z,{fetchPipelineSchedules:T,pipeline:n,pipelineSchedules:M,pipelineTriggersByName:Pe,selectedSchedule:ye,setErrors:y,setSelectedSchedule:je}),(0,V.jsx)(w.Z,{p:2,children:(0,V.jsx)(g.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),r=de(de({},Z),{},{page:n>=0?n:0});t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(u,"/triggers?").concat((0,te.uM)(r)))},page:Number(I),totalPages:Math.ceil(xe/g.Q)})})]}):(0,V.jsx)(w.Z,{m:2,children:(0,V.jsx)(Q.Z,{inverted:!0})})]})}fe.getInitialProps=function(){var e=(0,r.Z)(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var pe=(0,y.Z)(fe)},40183:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers",function(){return t(23706)}])}},function(e){e.O(0,[844,9902,426,6358,9696,8264,5499,1845,5457,6285,1743,5422,9774,2888,179],(function(){return n=40183,e(e.s=n);var n}));var n=e.O();_N_E=n}]);