(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7713],{24491:function(e,t,n){"use strict";n.d(t,{i:function(){return f},p:function(){return a}});var r=n(82394),i=n(75582),o=n(61556),u=n(57653);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var a=function(e,t){if(!e)return[];var n=Object.entries(e).reduce((function(e,t){var n=(0,i.Z)(t,2),r=(n[0],n[1].data),o={};return Object.entries(r).forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],u=n[1],c={};r in e&&(c=e[r]);var a={};Object.entries(u).forEach((function(e){var t,n=(0,i.Z)(e,2),r=n[0],o=n[1],u=null!==(t=c)&&void 0!==t&&t[r]?c[r]:0;a[r]=u+o})),o[r]=l(l({},c),a)})),l(l({},e),o)}),{});return t.map((function(e){return l({date:e},n[e]||{})}))},s=o.E.reduce((function(e,t){return l(l({},e),{},(0,r.Z)({},t,0))}),{}),d=new Set(o.E),f=function(e,t){var n;if(!e)return{groupedPipelineRunData:[],pipelineRunCountByPipelineType:{},totalPipelineRunCount:0,ungroupedPipelineRunData:[]};var o=(n={},(0,r.Z)(n,u.qL.INTEGRATION,l({},s)),(0,r.Z)(n,u.qL.PYSPARK,{}),(0,r.Z)(n,u.qL.PYTHON,l({},s)),(0,r.Z)(n,u.qL.STREAMING,l({},s)),n),c=0,a=Object.entries(e).reduce((function(e,t){var n=(0,i.Z)(t,2),r=(n[0],n[1].data),u={},a={};return Object.entries(r).forEach((function(t){var n=(0,i.Z)(t,2),r=n[0],s=n[1],f={},p={};r in e.grouped?(f=l({},e.grouped[r]),u[r]=l({},f)):u[r]={},r in e.ungrouped&&(p=l({},e.ungrouped[r]));var h={},g={};Object.entries(s).forEach((function(t){var n=(0,i.Z)(t,2),s=n[0],v=n[1];"null"===s||null===s||(r in e.grouped&&s in e.grouped[r]&&(f[s]=l({},e.grouped[r][s])),h[s]={},Object.entries(v).forEach((function(e){var t,n,r,u=(0,i.Z)(e,2),l=u[0],a=u[1],v=null!==(t=f)&&void 0!==t&&null!==(n=t[s])&&void 0!==n&&n[l]?f[s][l]:0;h[s][l]=v+a;var m=null!==(r=p)&&void 0!==r&&r[l]?p[l]:0;g[l]=null!==g&&void 0!==g&&g[l]?g[l]+a:m+a,d.has(l)&&(o[s][l]=(o[s][l]||0)+a),c+=a})),u[r][s]=l(l({},f[s]),h[s]),a[r]=l(l({},p),g))}))})),{grouped:l(l({},e.grouped),u),ungrouped:l(l({},e.ungrouped),a)}}),{grouped:{},ungrouped:{}}),f=[],p=[];return t.forEach((function(e){f.push(l({date:e},a.grouped[e]||{})),p.push(l({date:e},a.ungrouped[e]||{}))})),{groupedPipelineRunData:f,pipelineRunCountByPipelineType:o,totalPipelineRunCount:c,ungroupedPipelineRunData:p}}},29584:function(e,t,n){"use strict";var r=n(26304),i=n(82394),o=n(21831),u=(n(82684),n(84969)),c=n(90948),l=n(81354),a=n(67778),s=n(29989),d=n(17066),f=n(29179),p=n(65376),h=n(48072),g=n(98677),v=n(84181),m=n(24903),b=n(55485),y=n(26226),j=n(30160),O=n(94035),w=n(44897),Z=n(42631),x=n(95363),E=n(70515),P=n(79221),_=n(28598),k=["height","width","xAxisLabel","yAxisLabel"];function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){(0,i.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=e.backgroundColor,n=e.colors,r=e.data,i=e.getXValue,b=(e.getYValue,e.height),y=e.keys,O=e.margin,E=e.numYTicks,k=e.showLegend,T=e.tooltipLeftOffset,L=void 0===T?0:T,I=e.width,A=e.xLabelFormat,D=e.yLabelFormat,C=(0,f.Z)(),M=C.hideTooltip,S=C.showTooltip,R=C.tooltipData,U=C.tooltipLeft,Y=C.tooltipOpen,F=C.tooltipTop,V=I-(O.left+O.right),q=b-(O.bottom+O.top),z=r.reduce((function(e,t){var n=t,r=y.reduce((function(e,t){return Number(n[t])&&(e+=Number(n[t])),e}),0);return e.push(r),e}),[]),B=(0,g.Z)({domain:r.map(i),padding:.4,range:[0,V],round:!1}),H=(0,v.Z)({domain:[0,Math.max.apply(Math,(0,o.Z)(z))],range:[q,0],round:!0}),W=(0,m.Z)({domain:y,range:n});return(0,_.jsxs)("div",{style:{position:"relative",zIndex:2},children:[(0,_.jsxs)("svg",{height:b,width:I,children:[(0,_.jsx)("rect",{fill:t||w.Z.background.chartBlock,height:b,rx:14,width:I,x:0,y:0}),(0,_.jsx)(a.Z,{height:q,left:O.left,scale:H,stroke:"black",strokeOpacity:.2,top:O.top,width:V}),(0,_.jsx)(s.Z,{left:O.left,top:O.top,children:(0,_.jsx)(l.Z,{color:W,data:r,keys:y,value:function(e,t){return e[t]||0},x:i,xScale:B,yScale:H,children:function(e){return e.map((function(e){return e.bars.map((function(t){return(0,_.jsx)("rect",{fill:t.color,height:t.height,onMouseLeave:M,onMouseMove:function(e){var n=(0,h.Z)(e),r=t.x+t.width/2+L;S({tooltipData:t,tooltipLeft:r,tooltipTop:(null===n||void 0===n?void 0:n.y)+10})},width:t.width,x:t.x,y:t.y},"bar-stack-".concat(e.index,"-").concat(t.index))}))}))}})}),(0,_.jsx)(u.Z,{hideTicks:!0,left:O.left,numTicks:E,scale:H,stroke:w.Z.content.muted,tickFormat:function(e){return D?D(e):(0,P.P5)(e)},tickLabelProps:function(){return{fill:w.Z.content.muted,fontFamily:x.ry,fontSize:11,textAnchor:"end",transform:"translate(0,2.5)"}},top:O.top}),(0,_.jsx)(c.Z,{hideTicks:!0,left:O.left,scale:B,stroke:w.Z.content.muted,tickFormat:A,tickLabelProps:function(){return{fill:w.Z.content.muted,fontFamily:x.ry,fontSize:11,textAnchor:"middle"}},top:q+O.top})]}),k&&(0,_.jsx)("div",{style:{display:"flex",fontSize:"14px",justifyContent:"center",position:"absolute",top:O.top/2-10,width:"100%"},children:(0,_.jsx)(d.Z,{direction:"row",labelMargin:"0 15px 0 0",scale:W})}),Y&&R&&(0,_.jsxs)(p.Z,{left:U,style:N(N({},p.j),{},{backgroundColor:w.Z.background.page,borderRadius:"".concat(Z.TR,"px"),padding:".3rem .4rem"}),top:F,children:[(0,_.jsx)(j.ZP,{bold:!0,color:W(R.key),children:R.key}),(0,_.jsx)(j.ZP,{children:R.bar.data[R.key]}),(0,_.jsx)(j.ZP,{children:i(R.bar.data)})]})]})}t.Z=function(e){var t=e.height,n=e.width,i=e.xAxisLabel,o=e.yAxisLabel,u=(0,r.Z)(e,k);return(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("div",{style:{height:t,marginBottom:E.iI,width:n},children:[o&&(0,_.jsx)(b.ZP,{alignItems:"center",fullHeight:!0,justifyContent:"center",width:28,children:(0,_.jsx)(O.Z,{children:(0,_.jsx)(j.ZP,{center:!0,muted:!0,small:!0,children:o})})}),(0,_.jsx)("div",{style:{height:t,width:o?0===n?n:n-28:n},children:(0,_.jsx)(y.Z,{children:function(e){var t=e.height,n=e.width;return(0,_.jsx)(L,N(N({},u),{},{height:t,width:n}))}})}),i&&(0,_.jsx)("div",{style:{paddingLeft:o?36:0,paddingTop:4},children:(0,_.jsx)(j.ZP,{center:!0,muted:!0,small:!0,children:i})})]})})}},41143:function(e,t,n){"use strict";var r;n.d(t,{V:function(){return r}}),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.FAILED="failed",e.INITIAL="initial",e.RUNNING="running",e.UPSTREAM_FAILED="upstream_failed",e.CONDITION_FAILED="condition_failed"}(r||(r={}))},61556:function(e,t,n){"use strict";n.d(t,{E:function(){return o},h:function(){return r}});n(57653);var r,i=n(41143);!function(e){e.BLOCK_RUN_COUNT="block_run_count",e.BLOCK_RUN_TIME="block_run_time",e.PIPELINE_RUN_COUNT="pipeline_run_count",e.PIPELINE_RUN_TIME="pipeline_run_time"}(r||(r={}));var o=[i.V.RUNNING,i.V.COMPLETED,i.V.FAILED]},30229:function(e,t,n){"use strict";n.d(t,{TR:function(){return p},U5:function(){return l},Wb:function(){return f},Xm:function(){return o},Z4:function(){return a},fq:function(){return c},gm:function(){return s},kJ:function(){return d}});var r,i,o,u=n(82394);!function(e){e.API="api",e.EVENT="event",e.TIME="time"}(o||(o={}));var c,l,a=(r={},(0,u.Z)(r,o.API,(function(){return"API"})),(0,u.Z)(r,o.EVENT,(function(){return"event"})),(0,u.Z)(r,o.TIME,(function(){return"schedule"})),r);!function(e){e.ACTIVE="active",e.INACTIVE="inactive"}(c||(c={})),function(e){e.ONCE="@once",e.HOURLY="@hourly",e.DAILY="@daily",e.WEEKLY="@weekly",e.MONTHLY="@monthly",e.ALWAYS_ON="@always_on"}(l||(l={}));var s,d,f=[l.ONCE,l.HOURLY,l.DAILY,l.WEEKLY,l.MONTHLY];!function(e){e.INTERVAL="frequency[]",e.STATUS="status[]",e.TAG="tag[]",e.TYPE="type[]"}(s||(s={})),function(e){e.CREATED_AT="created_at",e.NAME="name",e.PIPELINE="pipeline_uuid",e.STATUS="status",e.TYPE="schedule_type"}(d||(d={}));var p=(i={},(0,u.Z)(i,d.CREATED_AT,"Created at"),(0,u.Z)(i,d.NAME,"Name"),(0,u.Z)(i,d.PIPELINE,"Pipeline"),(0,u.Z)(i,d.STATUS,"Active"),(0,u.Z)(i,d.TYPE,"Type"),i)},65663:function(e,t,n){"use strict";n.r(t);var r=n(77837),i=n(75582),o=n(82394),u=n(38860),c=n.n(u),l=n(82684),a=n(12691),s=n.n(a),d=n(92083),f=n.n(d),p=n(38626),h=n(29584),g=n(55485),v=n(85854),m=n(48670),b=n(7116),y=n(93808),j=n(38276),O=n(30160),w=n(35686),Z=n(64657),x=n(72473),E=n(30229),P=n(70515),_=n(81728),k=n(24491),T=n(3917),N=n(28598);function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(Object(n),!0).forEach((function(t){(0,o.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var A=p.default.div.withConfig({displayName:"monitors__GradientTextStyle",componentId:"sc-1is2m2l-0"})(["background:linear-gradient(90deg,#7D55EC 28.12%,#2AB2FE 100%);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-fill-color:transparent;"]);function D(e){var t=e.pipeline.uuid,n=(0,l.useState)(null),r=n[0],u=n[1],c=w.ZP.pipeline_schedules.pipelines.list(t).data,a=(0,l.useMemo)((function(){return null===c||void 0===c?void 0:c.pipeline_schedules}),[c]),d=(0,l.useMemo)((function(){return null===a||void 0===a?void 0:a.reduce((function(e,t){return I(I({},e),{},(0,o.Z)({},null===t||void 0===t?void 0:t.id,t))}),{})}),[a]),p=w.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,y=(0,l.useMemo)((function(){return I(I({},null===p||void 0===p?void 0:p.pipeline),{},{uuid:t})}),[p,t]),L=w.ZP.monitor_stats.detail("pipeline_run_count",{pipeline_uuid:null===y||void 0===y?void 0:y.uuid}).data,D=((null===L||void 0===L?void 0:L.monitor_stat)||{}).stats,C=(0,l.useMemo)((function(){return(0,T.Y_)()}),[]),M=(0,l.useMemo)((function(){return(0,k.p)(D,C)}),[C,D]),S=(0,l.useMemo)((function(){if(D)return Object.entries(D).reduce((function(e,t){var n=(0,i.Z)(t,2),r=n[0],u=n[1].data,c=C.map((function(e){return I({date:e},u[e]||{})}));return I(I({},e),{},(0,o.Z)({},r,c))}),{})}),[C,D]),R=(0,l.useMemo)((function(){var e=[];return e.push({bold:!0,label:function(){return"Monitors"}}),e}),[]);return(0,N.jsx)(b.Z,{breadcrumbs:R,errors:r,monitorType:Z.a_.PIPELINE_RUNS,pipeline:y,setErrors:u,children:(0,N.jsxs)(j.Z,{mt:2,mx:2,children:[(0,N.jsx)(j.Z,{ml:1,children:(0,N.jsx)(A,{children:(0,N.jsx)(v.Z,{children:"All pipeline runs"})})}),(0,N.jsx)(j.Z,{mt:1,children:(0,N.jsx)(h.Z,{colors:Z.NU,data:M,getXValue:function(e){return e.date},height:200,keys:Z.hu,margin:{bottom:30,left:35,right:0,top:10},tooltipLeftOffset:Z.CD,xLabelFormat:function(e){return f()(e).format("MMM DD")}})}),S&&Object.entries(S).map((function(e){var n,r=(0,i.Z)(e,2),o=r[0],u=r[1],c=null===d||void 0===d?void 0:d[o];return(0,N.jsxs)(j.Z,{mt:3,children:[(0,N.jsxs)(g.ZP,{alignItems:"center",children:[(0,N.jsx)(j.Z,{mx:1,children:(0,N.jsx)(A,{children:(0,N.jsx)(O.ZP,{bold:!0,large:!0,children:(0,_.kC)(null===(n=E.Z4[null===c||void 0===c?void 0:c.schedule_type])||void 0===n?void 0:n.call(E.Z4))})})}),(0,N.jsx)(s(),{as:"/pipelines/".concat(t,"/triggers/").concat(null===c||void 0===c?void 0:c.id),href:"/pipelines/[pipeline]/triggers/[...slug]",passHref:!0,children:(0,N.jsx)(m.Z,{children:(0,N.jsxs)(g.ZP,{alignItems:"center",children:[(0,N.jsx)(v.Z,{level:5,children:(null===c||void 0===c?void 0:c.name)||o}),(0,N.jsx)(j.Z,{ml:1}),(0,N.jsx)(x._Q,{default:!0,size:2*P.iI})]})})})]}),(0,N.jsx)(j.Z,{mt:1,children:(0,N.jsx)(h.Z,{colors:Z.NU,data:u,getXValue:function(e){return e.date},height:200,keys:Z.hu,margin:{bottom:30,left:35,right:0,top:10},tooltipLeftOffset:Z.CD,xLabelFormat:function(e){return f()(e).format("MMM DD")}})})]},o)}))]})})}D.getInitialProps=function(){var e=(0,r.Z)(c().mark((function e(t){var n;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.query.pipeline,e.abrupt("return",{pipeline:{uuid:n}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),t.default=(0,y.Z)(D)},81728:function(e,t,n){"use strict";n.d(t,{RA:function(){return f},kC:function(){return p},vg:function(){return j},kE:function(){return P},Mp:function(){return h},Pb:function(){return s},HW:function(){return w},wX:function(){return g},x6:function(){return v},_6:function(){return m},zf:function(){return O},Y6:function(){return x},Lo:function(){return E},wE:function(){return _},J3:function(){return b},We:function(){return d},QV:function(){return Z},C5:function(){return y}});var r=n(75582),i=n(17717),o=["aged","ancient","autumn","billowing","bitter","black","blue","bold","broken","cold","cool","crimson","damp","dark","dawn","delicate","divine","dry","empty","falling","floral","fragrant","frosty","green","hidden","holy","icy","late","lingering","little","lively","long","misty","morning","muddy","nameless","old","patient","polished","proud","purple","quiet","red","restless","rough","shy","silent","small","snowy","solitary","sparkling","spring","still","summer","throbbing","twilight","wandering","weathered","white","wild","winter","wispy","withered","young"],u=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],c=(n(92083),["bird","breeze","brook","bush","butterfly","cherry","cloud","darkness","dawn","dew","dream","dust","feather","field","fire","firefly","flower","fog","forest","frog","frost","glade","glitter","grass","haze","hill","lake","leaf","meadow","moon","morning","mountain","night","paper","pine","pond","rain","resonance","river","sea","shadow","shape","silence","sky","smoke","snow","snowflake","sound","star","sun","sun","sunset","surf","thunder","tree","violet","voice","water","water","waterfall","wave","wildflower","wind","wood"]),l=["0","1","2","3","4","5","6","7","8","9"],a=n(86735);function s(e){if(!e)return!1;try{JSON.parse(e)}catch(t){return!1}return!0}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return e.split(" ").join(t)}function f(e){return e.split(" ").join("_")}function p(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return String((new Date).getTime()*e)}function g(e){return e.charAt(0).toLowerCase()+e.slice(1)}function v(e){if(null===e||"undefined"===typeof e)return"";var t=e.toString().split("."),n=(0,r.Z)(t,2),i=n[0],o=n[1],u=i.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");return o?"".concat(u,".").concat(o):u}function m(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=t,u=void 0!==o&&null!==o;if(u||(o=2),1===o)n=e;else{var c=e.length,l=e[c-1];n="y"===l&&"day"!==e?"".concat(e.slice(0,c-1),"ies"):"".concat(e,"s"===l?"es":"s")}if(u&&!i){var a=r?v(o):o;return"".concat(a," ").concat(n)}return n}function b(e){return null===e||void 0===e?void 0:e.replace(/_/g," ")}function y(e){var t=e.length;return"ies"===e.slice(t-3,t)?"".concat(e.slice(0,t-3),"y"):"es"===e.slice(t-2,t)&&"ces"!==e.slice(t-3,t)?e.slice(0,t-2):e.slice(0,t-1)}function j(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return p(b(e.toLowerCase()))}function O(e){var t,n=[["second",60],["minute",60],["hour",24],["day",7],["week",4],["month",12],["year",null]];return n.forEach((function(i,o){if(!t){var u=(0,r.Z)(i,2),c=u[0],l=u[1],a=n.slice(0,o).reduce((function(e,t){return e*Number(t[1])}),1);e<Number(l)*a&&(t=m(c,Math.round(e/a)))}})),t}function w(e){return"undefined"!==typeof e&&null!==e&&!isNaN(e)}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Math.pow(10,t);return Math.round((e||0)*n)/n}function x(){return"".concat((0,a.mp)(o)," ").concat((0,a.mp)(c))}function E(){return"".concat((0,a.mp)(u)).concat((0,a.mp)(l))}function P(e){return null===e||void 0===e?void 0:e.toLowerCase().replace(/\W+/g,"_")}function _(e){var t,n=e.split(i.sep),r=n[n.length-1].split(".");return t=1===r.length?r[0]:r.slice(0,-1).join("."),n.slice(0,n.length-1).concat(t).join(i.sep)}},89677:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/monitors",function(){return n(65663)}])}},function(e){e.O(0,[844,2083,5896,2714,9737,8013,600,9696,8264,5457,9242,9774,2888,179],(function(){return t=89677,e(e.s=t);var t}));var t=e.O();_N_E=t}]);