(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4249],{16488:function(e,n,t){"use strict";t.d(n,{IJ:function(){return g},M8:function(){return P},Vx:function(){return j},XM:function(){return Z},_U:function(){return h},eI:function(){return x},gU:function(){return O},lO:function(){return S},ri:function(){return m},tL:function(){return y},vJ:function(){return w},xH:function(){return b}});var r,i=t(82394),o=t(92083),c=t.n(o),u=t(3917),l=t(4383),a=t(30229),d=t(42122),s=t(86735);function p(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function f(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?p(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):p(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var h=function(e){return!!e&&!Object.values(a.U5).includes(e)};function g(e){return null===e||void 0===e?void 0:e.reduce((function(e,n){var t=n.block_uuid,r=n.completed_at,o=n.started_at,u=n.status,l=null;o&&r&&(l=c()(r).valueOf()-c()(o).valueOf());return f(f({},e),{},(0,i.Z)({},t,{runtime:l,status:u}))}),{})}var v,m=function(e){var n=[{description:function(){return"This pipeline will run continuously on an interval or just once."},label:function(){return"Schedule"},uuid:a.Xm.TIME},{description:function(){return"This pipeline will run when a specific event occurs."},label:function(){return"Event"},uuid:a.Xm.EVENT},{description:function(){return"Run this pipeline when you make an API call."},label:function(){return"API"},uuid:a.Xm.API}];return e?n.slice(0,1):n};function b(e){var n=(0,d.gR)(e,[a.gm.INTERVAL,a.gm.TYPE]),t=e[a.gm.INTERVAL];t&&(n["schedule_interval[]"]=encodeURIComponent(t));var r=e[a.gm.TYPE];return r&&(n["schedule_type[]"]=r),n}function x(e){if(!e)return null;var n=new Date(c()(e).valueOf()),t=Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds());return new Date(t)}function j(e){return"string"!==typeof e?e:x(e.split("+")[0]).toISOString().split(".")[0]}!function(e){e.DAY="day",e.HOUR="hour",e.MINUTE="minute",e.SECOND="second"}(v||(v={}));var y=(r={},(0,i.Z)(r,v.DAY,86400),(0,i.Z)(r,v.HOUR,3600),(0,i.Z)(r,v.MINUTE,60),(0,i.Z)(r,v.SECOND,1),r);function O(e){var n=v.SECOND,t=e;return e%86400===0?(t/=86400,n=v.DAY):e%3600===0?(t/=3600,n=v.HOUR):e%60===0&&(t/=60,n=v.MINUTE),{time:t,unit:n}}function w(e,n){return e*y[n]}function Z(e,n,t){var r="".concat(e.toISOString().split("T")[0]," ").concat(null===n||void 0===n?void 0:n.hour,":").concat(null===n||void 0===n?void 0:n.minute);if(null!==t&&void 0!==t&&t.includeSeconds&&(r=r.concat(":00")),null!==t&&void 0!==t&&t.localTimezone){var i=c()(e);i.set("hour",+(null===n||void 0===n?void 0:n.hour)||0),i.set("minute",+(null===n||void 0===n?void 0:n.minute)||0),i.set("second",0),r=i.format(u.lE),null!==t&&void 0!==t&&t.convertToUtc&&(r=(0,u.d$)(r,{includeSeconds:null===t||void 0===t?void 0:t.includeSeconds,utcFormat:!0}))}return r}function P(e){var n,t="";return t="".concat(window.origin,"/api/pipeline_schedules/").concat(null===e||void 0===e?void 0:e.id,"/pipeline_runs"),null!==e&&void 0!==e&&e.token&&(t="".concat(t,"/").concat(e.token)),(n=window.location.port)&&(t=t.replace(n,l.QT)),t}function I(e,n,t){return e.match(/[*,-/]/)?{additionalOffset:0,cronValue:e}:function(e,n,t){var r=t.indexOf(e),i=0;if(n<0)for(var o=0;o>n;o--)0===r?(r=t.length-1,i-=1):r-=1;else if(n>0)for(var c=0;c<n;c++)r===t.length-1?(r=0,i+=1):r+=1;return{additionalOffset:i,cronValue:String(t[r]||e)}}(+e,n,t)}var k=(0,s.m5)(60),C=(0,s.m5)(24),_=(0,u.Cs)();function S(e,n){if(!e)return e;var t=c()().local().format("Z"),r=t.split(":"),i="-"===t[0],o=3===r[0].length?Number(r[0].slice(1)):Number(r[0]),u=Number(r[1]);(i&&!n||!i&&n)&&(o=-o,u=-u);var l=e.split(" "),a=l[0],d=l[1],s=l[2],p=I(a,u,k),f=I(d,o+p.additionalOffset,C);if(l[0]=p.cronValue,l[1]=f.cronValue,0!==(null===f||void 0===f?void 0:f.additionalOffset)){var h=I(s,f.additionalOffset,_);l[2]=h.cronValue}return l.join(" ")}},81066:function(e,n,t){"use strict";t.d(n,{B:function(){return p}});var r=t(82394),i=t(46732),o=t(93369),c=t(72473),u=t(8059),l=t(70515),a=t(28598);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p={bold:!0,greyBorder:!0,paddingBottom:9,paddingTop:9};n.Z=function(e){var n=e.addButtonMenuOpen,t=e.addButtonMenuRef,r=e.isLoading,d=e.label,f=e.menuItems,h=e.onClick,g=e.onClickCallback;return(0,a.jsx)(i.Z,{disableKeyboardShortcuts:!0,items:f,onClickCallback:g,onClickOutside:g,open:n,parentRef:t,roundedStyle:!0,topOffset:1,uuid:"Table/Toolbar/NewItemMenu",children:(0,a.jsx)(o.ZP,s(s({},p),{},{background:u.eW,beforeElement:(0,a.jsx)(c.mm,{size:2.5*l.iI}),loading:r,onClick:function(e){e.preventDefault(),null===h||void 0===h||h()},uuid:"shared/AddButton/index",children:d}))})}},44265:function(e,n,t){"use strict";t.d(n,{Az:function(){return l},BF:function(){return u},Do:function(){return d},IK:function(){return c},VO:function(){return o},sZ:function(){return a}});var r,i=t(82394),o=t(41143).V,c=[o.FAILED,o.COMPLETED,o.RUNNING,o.CANCELLED,o.INITIAL],u=[o.INITIAL,o.RUNNING],l=[o.CANCELLED,o.COMPLETED,o.FAILED],a="__mage_variables",d=(r={},(0,i.Z)(r,o.CANCELLED,"Cancelled"),(0,i.Z)(r,o.COMPLETED,"Done"),(0,i.Z)(r,o.FAILED,"Failed"),(0,i.Z)(r,o.INITIAL,"Ready"),(0,i.Z)(r,o.RUNNING,"Running"),r)},46732:function(e,n,t){"use strict";var r=t(82394),i=t(26304),o=(t(82684),t(50724)),c=t(70374),u=t(28598),l=["children","items","open","onClickCallback","onClickOutside","parentRef","uuid","zIndex"];function a(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?a(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}n.Z=function(e){var n=e.children,t=e.items,r=e.open,a=e.onClickCallback,s=e.onClickOutside,p=e.parentRef,f=e.uuid,h=e.zIndex,g=(0,i.Z)(e,l),v=(0,u.jsxs)("div",{style:{position:"relative",zIndex:(s?3:2)+(h||0)},children:[(0,u.jsx)("div",{ref:p,children:n}),(0,u.jsx)(c.Z,d(d({},g),{},{items:t,onClickCallback:a,open:r,parentRef:p,uuid:f}))]});return s?(0,u.jsx)(o.Z,{onClickOutside:s,open:!0,children:v}):v}},65956:function(e,n,t){"use strict";var r=t(38626),i=t(55485),o=t(38276),c=t(30160),u=t(44897),l=t(42631),a=t(47041),d=t(70515),s=t(28598),p=(0,r.css)(["padding:","px;padding-bottom:","px;padding-top:","px;"],2*d.iI,1.5*d.iI,1.5*d.iI),f=r.default.div.withConfig({displayName:"Panel__PanelStyle",componentId:"sc-1ct8cgl-0"})(["border-radius:","px;overflow:hidden;"," "," "," "," "," "," "," "," "," "," "," ",""],l.n_,(function(e){return e.fullWidth&&"\n    width: 100%;\n  "}),(function(e){return!e.borderless&&"\n    border: 1px solid ".concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.success&&"\n    background-color: ".concat((e.theme.background||u.Z.background).successLight,";\n  ")}),(function(e){return e.success&&!e.borderless&&"\n    border: 1px solid ".concat((e.theme.background||u.Z.background).success,";\n  ")}),(function(e){return!e.dark&&!e.success&&"\n    background-color: ".concat((e.theme.background||u.Z.background).panel,";\n  ")}),(function(e){return e.dark&&"\n    background-color: ".concat((e.theme.background||u.Z.background).content,";\n  ")}),(function(e){return!e.fullHeight&&"\n    height: fit-content;\n  "}),(function(e){return e.maxHeight&&"\n    max-height: ".concat(e.maxHeight,";\n  ")}),(function(e){return e.maxWidth&&"\n    max-width: ".concat(e.maxWidth,"px;\n  ")}),(function(e){return e.minWidth&&"\n    min-width: ".concat(e.minWidth,"px;\n\n    @media (max-width: ").concat(e.minWidth,"px) {\n      min-width: 0;\n    }\n  ")}),(function(e){return e.borderless&&"\n    border: none;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),h=r.default.div.withConfig({displayName:"Panel__HeaderStyle",componentId:"sc-1ct8cgl-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;"," "," "," ",""],l.n_,l.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||u.Z.background).chartBlock,";\n    border-bottom: 1px solid ").concat((e.theme.interactive||u.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),p,(function(e){return e.headerPaddingVertical&&"\n    padding-bottom: ".concat(e.headerPaddingVertical,"px;\n    padding-top: ").concat(e.headerPaddingVertical,"px;\n  ")})),g=r.default.div.withConfig({displayName:"Panel__ContentStyle",componentId:"sc-1ct8cgl-2"})(["overflow-y:auto;padding:","px;height:100%;"," "," "," "," ",""],1.75*d.iI,a.w5,(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.maxHeight&&"\n    max-height: calc(".concat(e.maxHeight," - ").concat(15*d.iI,"px);\n  ")}),(function(e){return e.noPadding&&"\n    padding: 0;\n  "}),(function(e){return e.overflowVisible&&"\n    overflow: visible;\n  "})),v=r.default.div.withConfig({displayName:"Panel__FooterStyle",componentId:"sc-1ct8cgl-3"})(["border-style:",";border-top-width:","px;padding:","px;"],l.M8,l.YF,1.75*d.iI);n.Z=function(e){var n=e.borderless,t=e.children,r=e.containerRef,u=e.contentContainerRef,l=e.dark,a=e.footer,d=e.fullHeight,p=void 0===d||d,m=e.fullWidth,b=void 0===m||m,x=e.header,j=e.headerHeight,y=e.headerIcon,O=e.headerPaddingVertical,w=e.headerTitle,Z=e.maxHeight,P=e.maxWidth,I=e.minWidth,k=e.noPadding,C=e.overflowVisible,_=e.subtitle,S=e.success;return(0,s.jsxs)(f,{borderless:n,dark:l,fullHeight:p,fullWidth:b,maxHeight:Z,maxWidth:P,minWidth:I,overflowVisible:C,ref:r,success:S,children:[(x||w)&&(0,s.jsxs)(h,{headerPaddingVertical:O,height:j,children:[x&&x,w&&(0,s.jsx)(i.ZP,{alignItems:"center",justifyContent:"space-between",children:(0,s.jsxs)(i.ZP,{alignItems:"center",children:[y&&y,(0,s.jsx)(o.Z,{ml:y?1:0,children:(0,s.jsx)(c.ZP,{bold:!0,default:!0,children:w})})]})})]}),(0,s.jsxs)(g,{maxHeight:Z,noPadding:k,overflowVisible:C,ref:u,children:[_&&(0,s.jsx)(o.Z,{mb:2,children:(0,s.jsx)(c.ZP,{default:!0,children:_})}),t]}),a&&(0,s.jsx)(v,{children:a})]})}},35185:function(e,n,t){"use strict";var r=t(82394),i=t(91835),o=(t(82684),t(38626)),c=t(44897),u=t(42631),l=t(70515),a=t(28598);function d(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?d(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):d(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var p=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarContainerStyle",componentId:"sc-10x9ojc-0"})(["border-radius:","px;height:","px;overflow:hidden;position:relative;width:100%;",""],u.BG,.75*l.iI,(function(e){return"\n    background-color: ".concat((e.theme.monotone||c.Z.monotone).grey200,";\n  ")})),f=o.default.div.withConfig({displayName:"ProgressBar__ProgressBarStyle",componentId:"sc-10x9ojc-1"})(["height:inherit;position:absolute;"," "," "," ",""],(function(e){return!e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).positive,";\n  ")}),(function(e){return e.progress&&"\n    width: ".concat(e.progress,"%;\n  ")}),(function(e){return e.danger&&"\n    background-color: ".concat((e.theme.progress||c.Z.progress).negative,";\n  ")}),(function(e){return e.animateProgress&&"\n    animation: animate-progress ".concat(e.animateProgress.duration,"ms linear forwards;\n\n    @keyframes animate-progress {\n      0% {\n        width: ").concat(e.animateProgress.start,"%;\n      }\n\n      100% {\n        width: ").concat(e.animateProgress.end,"%;\n      }\n    }\n  ")}));n.Z=function(e){var n=(0,i.Z)({},e);return(0,a.jsx)(p,s(s({},n),{},{children:(0,a.jsx)(f,s({},n))}))}},72191:function(e,n,t){"use strict";t.d(n,{_k:function(){return o},bL:function(){return i},l2:function(){return c}});var r=t(70515),i=(r.iI,2*r.iI),o=2.5*r.iI,c=3*r.iI},18213:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Ce}});var r=t(77837),i=t(75582),o=t(82394),c=t(38860),u=t.n(c),l=t(12691),a=t.n(l),d=t(82684),s=t(69864),p=t(34376),f=t(17586),h=t(15338),g=t(93369),v=t(48670),m=t(55072),b=t(75457),x=t(30229),j=t(93808),y=t(82359),O=t(71180),w=t(55485),Z=t(85854),P=t(65956),I=t(38276),k=t(75499),C=t(30160),_=t(35576),S=t(17488),E=t(69650),N=t(44897),D=t(38626),T=t(42631),R=t(70515),B=D.default.div.withConfig({displayName:"indexstyle__ToggleStyle",componentId:"sc-f9kt7n-0"})(["padding:","px ","px;border-radius:","px;",""],1.5*R.iI,2*R.iI,T.n_,(function(e){return"\n    border: 1px solid ".concat((e.theme||N.Z).borders.light,";\n    background-color: ").concat((e.theme||N.Z).background.popup,";\n  ")})),M=t(81728),A=t(8916),H=t(28598);function V(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function L(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?V(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var F="".concat(R.iI,"px ").concat(3*R.iI,"px");var U=function(e){var n=e.initialPipelineSchedulePayload,t=e.onCancel,r=e.onSuccess,c=e.variables,u=(0,d.useState)(!1),l=u[0],a=u[1],s=(0,d.useState)({}),p=s[0],f=s[1],h=(0,d.useState)(c||{}),g=h[0],v=h[1],m=(0,d.useMemo)((function(){return L(L({},n),{},{name:(0,M.Y6)(),variables:l?(0,A.e7)(g):null})}),[n,l,g]),b=function(e,n){var t={borderless:!0,key:"variable_uuid_input_".concat(e),monospace:!0,onChange:function(n){n.preventDefault(),v((function(t){return L(L({},t),{},(0,o.Z)({},e,n.target.value))}))},paddingHorizontal:0,placeholder:"Variable value",value:n};return p[e]?(0,H.jsx)(_.Z,L(L({},t),{},{rows:1,value:n})):(0,H.jsx)(S.Z,L({},t))};return(0,d.useEffect)((function(){var e=Object.entries(g).reduce((function(e,n){var t=(0,i.Z)(n,2),r=t[0],c=t[1],u=(0,M.Pb)(c)&&"object"===typeof JSON.parse(c)&&!Array.isArray(JSON.parse(c))&&null!==JSON.parse(c);return L(L({},e),{},(0,o.Z)({},r,u))}),{});f(e)}),[]),(0,H.jsxs)(P.Z,{footer:(0,H.jsxs)(w.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"flex-end",children:[(0,H.jsx)(O.Z,{onClick:function(){r({pipeline_schedule:m}),t()},padding:F,primaryAlternate:!0,children:"Run now"}),(0,H.jsx)(I.Z,{mr:1}),(0,H.jsx)(O.Z,{borderColor:N.Z.background.page,onClick:t,padding:F,secondary:!0,children:"Cancel"})]}),header:(0,H.jsx)(Z.Z,{level:5,children:"Run pipeline now"}),maxHeight:"90vh",minWidth:85*R.iI,subtitle:"Creates a new trigger and immediately runs the current pipeline once.",children:[(0,H.jsx)(B,{children:(0,H.jsxs)(w.ZP,{alignItems:"center",children:[(0,H.jsx)(I.Z,{mr:2,children:(0,H.jsx)(E.Z,{checked:l,onCheck:a})}),(0,H.jsx)(C.ZP,{bold:!0,large:!0,children:"Overwrite runtime variables"})]})}),l&&g&&Object.entries(g).length>0&&(0,H.jsx)(I.Z,{mt:2,children:(0,H.jsx)(k.Z,{columnFlex:[null,1],columns:[{uuid:"Variable"},{uuid:"Value"}],rows:Object.entries(g).map((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1];return[(0,H.jsx)(C.ZP,{default:!0,monospace:!0,children:t},"variable_".concat(t)),b(t,r)]}))})})]})},G=t(97618),W=t(72473),z=t(47041),Y=t(91437),X=D.default.div.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-pu8csx-0"})([""," overflow-y:auto;position:relative;width:100%;z-index:3;border-radius:","px;"," "," "," ",""],z.w5,T.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||N.Z.background).page,";\n  ")}),(function(e){return e.height&&"\n    height: ".concat(e.height,"px;\n  ")}),(function(e){return e.flex&&"\n    flex: 1;\n  "}),(function(e){return(e.noBorder||e.noBorderRadius)&&"\n    border-radius: 0;\n  "})),J=D.default.div.withConfig({displayName:"indexstyle__ColumnHeaderRowStyle",componentId:"sc-pu8csx-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;position:sticky;top:0;width:100%;z-index:2;"," "," ",""],T.n_,T.n_,(function(e){return"\n    background-color: ".concat((e.theme.background||N.Z.background).panel,";\n  ")}),(function(e){return!e.noBorder&&"\n    border: 1px solid ".concat((e.theme.interactive||N.Z.interactive).defaultBorder,";\n  ")}),(function(e){return(e.noBorder||e.noBorderRadius)&&"\n    border-radius: 0;\n  "})),Q=D.default.div.withConfig({displayName:"indexstyle__ColumnHeaderCellStyle",componentId:"sc-pu8csx-2"})([""," ",""],(function(e){return!e.small&&"\n    padding: ".concat(1.5*R.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*R.iI,"px;\n  ")})),q=D.default.div.withConfig({displayName:"indexstyle__RowTitleStyle",componentId:"sc-pu8csx-3"})([""," "," ",""],(function(e){return"\n    background-color: ".concat((e.theme.background||N.Z.background).header,";\n    border: 1px solid ").concat((e.theme.interative||N.Z.interactive).defaultBorder,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*R.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*R.iI,"px;\n  ")})),K=D.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-pu8csx-4"})([""," "," "," ",""],(0,Y.eR)(),(function(e){return"\n    background-color: ".concat((e.theme.background||N.Z.background).page,";\n    border-top: none;\n    border-bottom: none;\n  ")}),(function(e){return!e.noBorder&&"\n    border-bottom: 1px solid ".concat((e.theme.interactive||N.Z.interactive).defaultBorder,";\n    border-left: 1px solid ").concat((e.theme.interactive||N.Z.interactive).defaultBorder,";\n    border-right: 1px solid ").concat((e.theme.interactive||N.Z.interactive).defaultBorder,";\n  ")}),(function(e){return e.finalRow&&!e.noBorderRadius&&"\n    border-bottom-left-radius: ".concat(T.n_,"px;\n    border-bottom-right-radius: ").concat(T.n_,"px;\n  ")})),$=D.default.div.withConfig({displayName:"indexstyle__TextStyle",componentId:"sc-pu8csx-5"})(["p{cursor:pointer;}"]),ee=D.default.div.withConfig({displayName:"indexstyle__RowCellStyle",componentId:"sc-pu8csx-6"})(["width:100%;z-index:0;"," "," "," "," ",""],(function(e){return!e.first&&"\n    border-left: 1px solid ".concat((e.theme.background||N.Z.background).page,";\n  ")}),(function(e){return!e.small&&"\n    padding: ".concat(1.5*R.iI,"px;\n  ")}),(function(e){return e.small&&"\n    padding: ".concat(1.5*R.iI,"px;\n  ")}),(function(e){return e.textColor&&"\n    & p {\n      color: ".concat(e.textColor,";\n    }\n  ")}),(function(e){return e.vanish&&"\n    border: none;\n    padding: 0 !important;\n    width: 0% !important;\n    height: 100% !important;\n    background-color: ".concat((e.theme.background||N.Z.background).page," !important;\n  ")})),ne=t(35185);var te=function(e){var n,t=e.cellIndex,r=e.danger,i=e.flex,o=e.render,c=e.rowGroupIndex,u=e.rowIndex,l=e.selected,a=e.small,s=e.showBackground,p=e.showProgress,f=e.textColor,h=e.value,g=e.vanish,m=(0,d.useState)(!1),b=m[0],x=m[1],j=Array.isArray(h);return n=o?o(h):"function"===typeof h?h({selected:l}):j?(0,H.jsxs)(G.Z,{alignItems:"start",flexDirection:"row",justifyContent:"space-between",children:[(0,H.jsxs)(C.ZP,{small:a,textOverflow:!0,title:h[0],children:[b&&(0,H.jsx)(H.Fragment,{children:"".concat(h[0]," & ").concat(h.length-1," more")}),!b&&(0,H.jsx)(H.Fragment,{children:h.map((function(e){return(0,H.jsx)("div",{children:e},e)}))})]}),(0,H.jsxs)(v.Z,{onClick:function(){return x(!b)},children:[b&&(0,H.jsx)(W.K5,{muted:!0,size:2*R.iI}),!b&&(0,H.jsx)(W.ol,{muted:!0,size:2*R.iI})]})]}):p?(0,H.jsx)(w.ZP,{alignItems:"center",fullHeight:!0,fullWidth:!0,children:(0,H.jsx)(ne.Z,{danger:h<80,progress:h})}):(0,H.jsx)(C.ZP,{bold:r,danger:r,small:a,textOverflow:!0,title:h,children:h}),(0,H.jsx)(G.Z,{flex:i,textOverflow:!0,children:(0,H.jsx)(ee,{first:0===t,showBackground:s,small:a,textColor:f,vanish:g,children:!g&&(0,H.jsxs)(H.Fragment,{children:[n," "]})})},"cell-".concat(c,"-").concat(u,"-").concat(t,"-").concat(h))};var re=function(e){var n=e.columnFlexNumbers,t=e.columnHeaders,r=e.height,i=e.isTextSelectionRequired,o=e.noBorder,c=e.noBorderRadius,u=e.onClickRow,l=e.onHoverRow,a=e.renderRowCellByIndex,s=e.rowGroupData,p=void 0===s?[]:s,f=e.selectedRowIndexes,h=e.small,g=e.flex,m=e.warnings,b=void 0===m?[]:m,x=(0,d.useMemo)((function(){return p.length}),[p]);return(0,H.jsxs)(X,{flex:g,height:r,noBorder:o,noBorderRadius:c,noScrollbarTrackBackground:!0,children:[(0,H.jsx)(J,{noBorder:o,noBorderRadius:c,children:(0,H.jsx)(w.ZP,{alignItems:"center",children:t.map((function(e,t){var r=e.Icon,i=e.label;return(0,H.jsx)(G.Z,{flex:n[t],children:(0,H.jsx)(Q,{first:0===t,small:h,children:(0,H.jsxs)(w.ZP,{alignItems:"center",children:[r&&(0,H.jsx)(W.Jr,{}),r&&(0,H.jsx)(I.Z,{mr:1}),(0,H.jsx)(C.ZP,{bold:!0,children:i})]})})},i)}))})}),p&&p.map((function(e,t){var r,d=e.title,s=e.rowData,p=d||t,g=[];d&&(r=(0,H.jsx)(q,{small:h,children:(0,H.jsx)(C.ZP,{bold:!0,children:d})}));var m=null===s||void 0===s?void 0:s.length;return null===s||void 0===s||s.forEach((function(e,r){var d=e.columnTextColors,s=e.columnValues,j=e.danger,y=e.uuid,O=(null===f||void 0===f?void 0:f[0])===t&&(null===f||void 0===f?void 0:f[1])===r,Z=[],P=b.find((function(e){return e.name===s[0]})),I=P&&(0,M.HD)(s[1])?(0,M.Tz)(s[1]):s[1],k=P&&P.compare(I,P.val);null===s||void 0===s||s.forEach((function(e,i,o){var c=null===a||void 0===a?void 0:a[i],u=d?d[i]:void 0;Array.isArray(e)?Z.push((0,H.jsx)(te,{cellIndex:i,flex:n[i],render:c,rowGroupIndex:t,rowIndex:r,selected:O,showBackground:r%2===1,showProgress:e[0],small:h,textColor:u,value:e[1]},i)):"undefined"===typeof e?(Z.pop(),i=o.length+1,Z.push((0,H.jsx)(te,{cellIndex:i,danger:j,flex:n[i],render:c,rowGroupIndex:t,rowIndex:r,selected:O,showBackground:r%2===1,small:h,textColor:u,value:e,vanish:!0},i))):Z.push((0,H.jsx)(te,{cellIndex:i,danger:k||j,flex:n[i],render:c,rowGroupIndex:t,rowIndex:r,selected:O,showBackground:r%2===1,small:h,textColor:u,value:e},i))}));var C=(0,H.jsx)(w.ZP,{textOverflow:!0,children:Z});g.push((0,H.jsxs)(K,{finalRow:x-1===t&&m-1===r,hasHover:!!l,noBorder:o,noBorderRadius:c,onMouseEnter:function(){return null===l||void 0===l?void 0:l({rowGroupIndex:t,rowIndex:r,uuid:y})},selected:O,children:[u&&(i?(0,H.jsx)($,{onClick:function(){return u({rowGroupIndex:t,rowIndex:r,uuid:y})},role:"cell",children:C}):(0,H.jsx)(v.Z,{block:!0,noHoverUnderline:!0,noOutline:!0,onClick:function(){return u({rowGroupIndex:t,rowIndex:r,uuid:y})},preventDefault:!0,children:C})),!u&&C]},"row-group-".concat(p,"-row-").concat(r)))})),(0,H.jsxs)("div",{children:[r,g]},p)}))]})},ie=D.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-1xgfh62-0"})(["display:flex;flex-direction:column;height:","px;border-bottom:1px solid ",";"],(function(e){return e.height}),N.Z.borders.medium),oe=t(79633);var ce=function(e){var n=e.height,t=e.scheduleType,r=e.variables,o=e.variablesOverride,c=[];Object.entries(r).forEach((function(e){var n=(0,i.Z)(e,2),t=n[0],r=n[1],u=null===o||void 0===o?void 0:o[t];c.push({uuid:t,value:(0,A.FS)(u||r)})})),(0,A.JZ)(c,t);var u=Object.keys(r).length;return(0,H.jsx)(ie,{height:n,children:r&&(0,H.jsx)(re,{columnFlexNumbers:[1,1],columnHeaders:[{label:"Runtime variable (".concat(u,")")},{label:"Value"}],noBorderRadius:!0,rowGroupData:[{rowData:c.map((function(e){var n=e.uuid,t=e.value;return{columnTextColors:[oe.Or,void 0],columnValues:[n,t],uuid:n}}))}],small:!0})})},ue=t(4190),le=t(12717),ae=t(85544),de=t(31743),se=t(35686),pe=t(83784),fe=t(28795),he=t(81066),ge=t(24944),ve=t(3917),me=t(69419),be=t(16488),xe=t(86735),je=t(42122),ye=t(50178),Oe=t(72619),we=t(70320),Ze=t(89538);function Pe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function Ie(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Pe(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Pe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function ke(e){var n=e.pipeline,t=(0,p.useRouter)(),r=(0,ye.Ct)(),c=n.uuid,u=(0,d.useState)(null),l=u[0],j=u[1],O=(0,d.useState)(!1),w=O[0],Z=O[1],P=se.ZP.projects.list().data,k=(0,d.useMemo)((function(){var e;return null===P||void 0===P||null===(e=P.projects)||void 0===e?void 0:e[0]}),[P]),_=((0,d.useMemo)((function(){var e;return(0,we.h)(null===k||void 0===k||null===(e=k.features)||void 0===e?void 0:e[y.d.LOCAL_TIMEZONE])}),[null===k||void 0===k?void 0:k.features]),se.ZP.client_pages.detail("pipeline_schedule:create",{"pipelines[]":[c]},{},{key:"Triggers/Edit/".concat(c)}).data),S=(0,d.useMemo)((function(){return null===_||void 0===_?void 0:_.client_page}),[_]),E=(0,d.useMemo)((function(){var e,n;return null===S||void 0===S||null===(e=S.components)||void 0===e||null===(n=e.find((function(e){return"create_with_interactions_component"===e.uuid})))||void 0===n?void 0:n.enabled}),[S]),N=(0,d.useMemo)((function(){return null===S||void 0===S?void 0:S.disabled}),[S]),D=se.ZP.variables.pipelines.list(c,{global_only:!0},{revalidateOnFocus:!1}).data,T=null===D||void 0===D?void 0:D.variables,B=(0,me.iV)(),V=(0,me.DQ)(B,[x.gm.INTERVAL,x.gm.STATUS,x.gm.TAG,x.gm.TYPE]),L=(0,be.xH)(V),F=null!==B&&void 0!==B&&B.page?B.page:0,G=se.ZP.pipeline_schedules.pipelines.list(c,Ie(Ie({},L),{},{_limit:m.Q,_offset:(null!==B&&void 0!==B&&B.page?B.page:0)*m.Q}),{refreshInterval:7500}),z=G.data,Y=G.mutate,X=(0,d.useMemo)((function(){return(null===z||void 0===z?void 0:z.pipeline_schedules)||[]}),[z]),J=function(e){return(0,s.Db)(se.ZP.pipeline_schedules.pipelines.useCreate(c),{onSuccess:function(n){return(0,Oe.wD)(n,{callback:function(n){var t=n.pipeline_schedule.id;null===e||void 0===e||e(t)},onErrorCallback:function(e,n){return j({errors:n,response:e})}})}})},Q=J((function(e){return t.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(null===n||void 0===n?void 0:n.uuid,"/triggers/").concat(e,"/edit"))})),q=(0,i.Z)(Q,2),K=q[0],$=q[1].isLoading,ee=J(Y),ne=(0,i.Z)(ee,2),te=ne[0],re=ne[1].isLoading,ie=(0,d.useMemo)((function(){var e;return null===(e=(0,A.wx)(T,(function(e){return e.uuid===pe.C})))||void 0===e?void 0:e.reduce((function(e,n){var t=n.uuid,r=n.value;return Ie(Ie({},e),{},(0,o.Z)({},t,r))}),{})}),[T]),oe=(0,M.Y6)(),Pe=(0,d.useMemo)((function(){return{name:oe,schedule_interval:x.U5.ONCE,schedule_type:x.Xm.TIME,start_time:(0,ve.d$)((new Date).toISOString(),{dayAgo:!0,utcFormat:!0}),status:x.fq.ACTIVE}}),[oe]),ke=(0,Ze.dd)((function(){return(0,H.jsx)(U,{initialPipelineSchedulePayload:Pe,onCancel:Se,onSuccess:te,variables:ie})}),{},[T,ie],{background:!0,uuid:"run_pipeline_now_popup"}),Ce=(0,i.Z)(ke,2),_e=Ce[0],Se=Ce[1],Ee=(0,d.useState)(),Ne=Ee[0],De=Ee[1],Te=(0,d.useMemo)((function(){var e=null===Ne||void 0===Ne?void 0:Ne.variables,n=!(0,je.Qr)(ie);return function(t){var i=80;if(n){var o=Object.keys(ie).length;i=46+43*Math.min(5,o)+1}var u=t.height-i;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(f.Z,Ie(Ie({},t),{},{height:u,noStatus:!0})),n&&(0,H.jsx)(ce,{height:i,scheduleType:null===Ne||void 0===Ne?void 0:Ne.schedule_type,variables:ie,variablesOverride:e}),!n&&(0,H.jsxs)(I.Z,{p:R.cd,children:[(0,H.jsx)(C.ZP,{children:"This pipeline has no runtime variables."}),!r&&(0,H.jsxs)(I.Z,{mt:1,children:[(0,H.jsx)(a(),{as:"/pipelines/".concat(c,"/edit?sideview=variables"),href:"/pipelines/[pipeline]/edit",passHref:!0,children:(0,H.jsx)(v.Z,{primary:!0,children:"Click here"})})," ",(0,H.jsx)(C.ZP,{inline:!0,children:"to add variables to this pipeline."})]})]})]})}}),[r,c,null===Ne||void 0===Ne?void 0:Ne.schedule_type,null===Ne||void 0===Ne?void 0:Ne.variables,ie]),Re=(0,d.useMemo)((function(){var e;return(null===z||void 0===z||null===(e=z.metadata)||void 0===e?void 0:e.count)||[]}),[z]),Be=se.ZP.pipeline_triggers.pipelines.list(c).data,Me=(0,d.useMemo)((function(){return(0,xe.HK)((null===Be||void 0===Be?void 0:Be.pipeline_triggers)||[],(function(e){return e.name}))}),[Be]),Ae=se.ZP.tags.list().data,He=(0,d.useMemo)((function(){return(0,xe.YC)((null===Ae||void 0===Ae?void 0:Ae.tags)||[],(function(e){return e.uuid}))}),[Ae]),Ve=se.ZP.pipeline_interactions.detail(E&&c,{filter_for_permissions:1}),Le=Ve.data,Fe=(Ve.mutate,se.ZP.interactions.pipeline_interactions.list(E&&c)),Ue=Fe.data,Ge=(Fe.mutate,se.ZP.pipelines.detail(E&&c).data),We=(0,d.useMemo)((function(){return(null===Le||void 0===Le?void 0:Le.pipeline_interaction)||{}}),[Le]),ze=((0,d.useMemo)((function(){return(null===Ue||void 0===Ue?void 0:Ue.interactions)||[]}),[Ue]),(0,d.useMemo)((function(){var e;return E&&(null===(e=Object.keys((null===We||void 0===We?void 0:We.blocks)||{}))||void 0===e?void 0:e.length)>=1}),[E,We])),Ye=(0,d.useMemo)((function(){return ze&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(I.Z,{ml:"12px"}),(0,H.jsx)(ge.lZ,{}),(0,H.jsx)(I.Z,{ml:"12px"}),(0,H.jsx)(g.ZP,Ie(Ie({},he.B),{},{Icon:W.yd,inline:!0,onClick:function(){return Z(!0)},uuid:"Create trigger with no-code",children:"Create trigger with no-code"}))]})}),[ze,Z]),Xe=(0,d.useMemo)((function(){return(0,H.jsx)(ae.Z,{addButtonProps:!N&&{isLoading:$,label:"New trigger",onClick:function(){return K({pipeline_schedule:{name:(0,M.Y6)()}})}},filterOptions:{frequency:Object.values(x.U5),status:Object.values(x.fq),tag:He.map((function(e){return e.uuid})),type:Object.values(x.Xm)},filterValueLabelMapping:{tag:He.reduce((function(e,n){var t=n.uuid;return Ie(Ie({},e),{},(0,o.Z)({},t,t))}),{}),type:x.Z4},onClickFilterDefaults:function(){t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(c,"/triggers"))},query:V,secondaryButtonProps:!N&&{disabled:r,isLoading:re,label:"Run @once",onClick:(0,je.Qr)(ie)?function(){return te({pipeline_schedule:Pe})}:_e,tooltip:"Creates an @once trigger and runs pipeline immediately"},showDivider:!N,children:Ye})}),[K,te,N,$,re,r,Ye,Pe,c,V,t,_e,He,ie]),Je=(0,d.useMemo)((function(){var e=[];return w?e.push.apply(e,[{label:function(){return"Triggers"},onClick:function(){return Z(!1)}},{bold:!0,label:function(){return"New trigger"}}]):e.push({label:function(){return"Triggers"}}),e}),[w,Z]);return w?(0,H.jsx)(le.Z,{creatingWithLimitation:!0,errors:l,onCancel:function(){return Z(!1)},pipeline:null===Ge||void 0===Ge?void 0:Ge.pipeline,project:k,setErrors:j,useCreateScheduleMutation:J}):(0,H.jsx)(b.Z,{breadcrumbs:Je,buildSidekick:!w&&Te,errors:l,pageName:fe.M.TRIGGERS,pipeline:n,setErrors:j,subheader:!w&&Xe,title:function(e){var n=e.name;return"".concat(n," triggers")},uuid:"".concat(fe.M.TRIGGERS,"_").concat(c),children:!w&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(h.Z,{light:!0}),z?(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(de.Z,{fetchPipelineSchedules:Y,pipeline:n,pipelineSchedules:X,pipelineTriggersByName:Me,selectedSchedule:Ne,setErrors:j,setSelectedSchedule:De}),(0,H.jsx)(I.Z,{p:2,children:(0,H.jsx)(m.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),r=Ie(Ie({},B),{},{page:n>=0?n:0});t.push("/pipelines/[pipeline]/triggers","/pipelines/".concat(c,"/triggers?").concat((0,me.uM)(r)))},page:Number(F),totalPages:Math.ceil(Re/m.Q)})})]}):(0,H.jsx)(I.Z,{m:2,children:(0,H.jsx)(ue.Z,{inverted:!0})})]})})}ke.getInitialProps=function(){var e=(0,r.Z)(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.query.pipeline,e.abrupt("return",{pipeline:{uuid:t}});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var Ce=(0,j.Z)(ke)},40183:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers",function(){return t(18213)}])}},function(e){e.O(0,[844,2083,2851,1124,341,9161,4495,9302,8013,600,4636,8264,4666,5499,4839,5457,7055,1769,1743,6333,3951,9774,2888,179],(function(){return n=40183,e(e.s=n);var n}));var n=e.O();_N_E=n}]);