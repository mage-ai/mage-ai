(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6780],{83641:function(e,n,t){"use strict";t.d(n,{I7:function(){return i},IB:function(){return c},VV:function(){return r},_7:function(){return s},rn:function(){return a}});var i,l=t(41143),r="datetime",s="code",a=l.V;!function(e){e.SECOND="second",e.MINUTE="minute",e.HOUR="hour",e.DAY="day",e.WEEK="week",e.MONTH="month",e.YEAR="year",e.CUSTOM="custom"}(i||(i={}));var c=[i.MINUTE,i.HOUR,i.DAY,i.WEEK,i.MONTH,i.YEAR,i.CUSTOM]},51532:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return ae}});var i=t(75582),l=t(77837),r=t(82394),s=t(38860),a=t.n(s),c=t(82684),u=t(83455),o=t(34376),d=t(83641),p=t(71180),f=t(15338),m=t(55485),b=t(85854),j=t(55072),h=t(75457),v=t(53943),x=t(44265),Z=t(83784),g=t(44085),k=t(38276),_=t(4190),P=t(75499),y=t(30160),O=t(35686),I=t(8955),E=t(72473),D=t(74395),w=t(70515),C=t(28795),S=t(81728),M=t(3917),N=t(8916),T=t(16488),L=t(15610),A=t(42122),F=t(50178),U=t(72619),R=t(3314),z=t(69419),B=t(70320),H=t(28598);function V(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?V(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var X=function(e){var n=e.backfill,t=e.errors,l=e.fetchBackfill,r=e.pipeline,s=e.setErrors,a=e.variables,V=(0,F.Ct)(),X=(0,B.q)(),G=(0,o.useRouter)(),K=n||{},q=K.block_uuid,W=K.end_datetime,J=K.id,Q=K.interval_type,$=K.interval_units,ee=K.name,ne=K.pipeline_run_dates,te=K.start_datetime,ie=K.status,le=K.total_run_count,re=K.variables,se=void 0===re?{}:re,ae=r.uuid,ce=(0,z.iV)(),ue={_limit:40,_offset:40*(null!==ce&&void 0!==ce&&ce.page?ce.page:0)};null!==ce&&void 0!==ce&&ce.status&&(ue.status=ce.status);var oe=O.ZP.pipeline_runs.list(Y(Y({},ue),{},{backfill_id:J}),{refreshInterval:3e3,revalidateOnFocus:!0},{pauseFetch:!J}),de=oe.data,pe=oe.mutate,fe=!(te&&W&&Q&&$),me=!ie,be=(0,c.useMemo)((function(){return(me?ne:null===de||void 0===de?void 0:de.pipeline_runs)||[]}),[de,ne,me]),je=(0,c.useMemo)((function(){var e;return(null===de||void 0===de||null===(e=de.metadata)||void 0===e?void 0:e.count)||[]}),[de]),he=(0,c.useState)(null),ve=he[0],xe=he[1],Ze=(0,c.useMemo)((function(){var e=null!==ce&&void 0!==ce&&ce.page?ce.page:0;return(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(v.Z,{disableRowSelect:me,emptyMessage:null!==ce&&void 0!==ce&&ce.status?"No runs available":'No runs available. Please complete backfill configuration by clicking "Edit backfill" above.',fetchPipelineRuns:pe,onClickRow:function(e){return xe((function(n){var t=be[e];return(null===n||void 0===n?void 0:n.id)!==t.id?t:null}))},pipelineRuns:be,selectedRun:ve,setErrors:s}),(0,H.jsx)(k.Z,{p:2,children:(0,H.jsx)(j.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),t=Y(Y({},ce),{},{page:n>=0?n:0});G.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ae,"/backfills/").concat(J,"?").concat((0,z.uM)(t)))},page:Number(e),totalPages:Math.ceil(je/40)})})]})}),[pe,J,be,ae,ce,G,ve,s,me,je]),ge=(0,c.useState)(I.G7[0]),ke=ge[0],_e=ge[1],Pe=(0,u.Db)(O.ZP.backfills.useUpdate(J),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){l(),pe()},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),ye=(0,i.Z)(Pe,2),Oe=ye[0],Ie=ye[1].isLoading,Ee=(0,c.useMemo)((function(){return!!ie&&(d.rn.CANCELLED!==ie&&d.rn.FAILED!==ie)}),[ie]),De=(0,c.useMemo)((function(){return ie&&d.rn.CANCELLED!==ie&&d.rn.FAILED!==ie&&d.rn.INITIAL!==ie&&d.rn.RUNNING!==ie}),[ie]),we=(0,c.useMemo)((function(){var e={default:!0,size:1.5*w.iI},n=[[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.VW,Y({},e)),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Backfill type"})]},"backfill_type_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:q?d._7:d.VV},"backfill_type")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.rs,Y({},e)),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Status"})]},"backfill_status_label"),(0,H.jsx)(y.ZP,{danger:d.rn.CANCELLED===ie||d.rn.FAILED==ie,default:d.rn.INITIAL===ie,monospace:!0,muted:!ie,success:d.rn.RUNNING===ie||d.rn.COMPLETED===ie,children:ie||"inactive"},"backfill_status")]];return q||n.push.apply(n,[[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.aw,Y({},e)),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Start date and time"})]},"backfill_start_date_label"),(0,H.jsx)(y.ZP,{monospace:!0,small:!0,children:X?(0,M.XG)(te,X):(0,T.Vx)(te)},"backfill_start_date")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.aw,Y({},e)),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"End date and time"})]},"backfill_end_date_label"),(0,H.jsx)(y.ZP,{monospace:!0,small:!0,children:X?(0,M.XG)(W,X):(0,T.Vx)(W)},"backfill_end_date")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.Pf,Y({},e)),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval type"})]},"interval_type_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:Q&&(0,S.kC)(Q)},"interval_type")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.Pf,Y({},e)),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval units"})]},"interval_units_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:$},"interval_units")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.qZ,Y({},e)),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Total runs"})]},"total_runs_label"),(0,H.jsx)(y.ZP,{monospace:!0,children:le},"total_runs")]]),(0,H.jsx)(P.Z,{columnFlex:[null,1],rows:n})}),[q,X,W,Q,$,te,ie,le]),Ce=(0,c.useMemo)((function(){return se||{}}),[se]),Se=(0,c.useMemo)((function(){var e,n=[];return(0,A.Qr)(Ce)?n=(0,N.wx)(a,(function(e){return e.uuid===Z.C})):Object.entries(Ce).forEach((function(e){var t=(0,i.Z)(e,2),l=t[0],r=t[1];n.push({uuid:l,value:(0,N.FS)(r)})})),"undefined"!==typeof n&&null!==(e=n)&&void 0!==e&&e.length?(0,H.jsx)(P.Z,{columnFlex:[null,1],rows:n.map((function(e){var n=e.uuid,t=e.value;return[(0,H.jsx)(y.ZP,{default:!0,monospace:!0,small:!0,children:n},"settings_variable_label_".concat(n)),(0,H.jsx)(y.ZP,{monospace:!0,small:!0,children:t},"settings_variable_".concat(n))]}))}):null}),[Ce,a]);return(0,H.jsx)(H.Fragment,{children:(0,H.jsxs)(h.Z,{afterHidden:!ve,before:(0,H.jsxs)(D.M,{children:[(0,H.jsxs)(k.Z,{mb:w.HN,pt:w.cd,px:w.cd,children:[(0,H.jsx)(k.Z,{mb:w.cd,children:(0,H.jsx)(E.yg,{size:5*w.iI})}),(0,H.jsx)(b.Z,{children:ee})]}),(0,H.jsx)(k.Z,{px:w.cd,children:(0,H.jsx)(b.Z,{level:5,children:"Settings"})}),(0,H.jsx)(f.Z,{light:!0,mt:1,short:!0}),we,Se&&(0,H.jsxs)(k.Z,{my:w.HN,children:[(0,H.jsx)(k.Z,{px:w.cd,children:(0,H.jsx)(b.Z,{level:5,children:"Runtime variables"})}),(0,H.jsx)(f.Z,{light:!0,mt:1,short:!0}),Se]})]}),beforeWidth:34*w.iI,breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(ae,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return ee},linkProps:{as:"/pipelines/".concat(ae,"/backfills/").concat(J),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],buildSidekick:function(e){return(0,I.ZP)(Y(Y({},e),{},{selectedRun:ve,selectedTab:ke,setSelectedTab:_e}))},errors:t,pageName:C.M.BACKFILLS,pipeline:r,setErrors:s,subheader:(0,H.jsxs)(m.ZP,{alignItems:"center",children:[!De&&(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(p.Z,{beforeIcon:Ee?(0,H.jsx)(E.dz,{size:2*w.iI}):(0,H.jsx)(E.Py,{inverted:!(d.rn.CANCELLED===ie||d.rn.FAILED===ie),size:2*w.iI}),danger:Ee,disabled:fe,loading:Ie,onClick:function(e){(0,R.j)(e),Oe({backfill:{status:Ee?d.rn.CANCELLED:d.rn.INITIAL}})},outline:!0,success:!Ee&&!(d.rn.CANCELLED===ie||d.rn.FAILED===ie)&&!fe,children:Ee?"Cancel backfill":d.rn.CANCELLED===ie||d.rn.FAILED===ie?"Retry backfill":"Start backfill"}),(0,H.jsx)(k.Z,{mr:w.cd})]}),!V&&(0,H.jsxs)(H.Fragment,{children:[ie===x.VO.COMPLETED?(0,H.jsx)(y.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}):(0,H.jsx)(p.Z,{linkProps:{as:"/pipelines/".concat(ae,"/backfills/").concat(J,"/edit"),href:"/pipelines/[pipeline]/backfills/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit backfill"}),(0,H.jsx)(k.Z,{mr:w.cd})]}),!me&&(0,H.jsxs)(g.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?G.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(ae,"/backfills/").concat(J)):(0,L.u7)({page:0,status:e.target.value})},paddingRight:4*w.iI,placeholder:"Select run status",value:(null===ce||void 0===ce?void 0:ce.status)||"all",children:[(0,H.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),x.IK.map((function(e){return(0,H.jsx)("option",{value:e,children:x.Do[e]},e)}))]})]}),title:function(){return ee},uuid:"backfill/detail",children:[(0,H.jsx)(k.Z,{mt:w.cd,px:w.cd,children:(0,H.jsx)(b.Z,{level:5,children:"Runs for this backfill"})}),(0,H.jsx)(f.Z,{light:!0,mt:w.cd,short:!0}),de?Ze:(0,H.jsx)(k.Z,{m:2,children:(0,H.jsx)(_.Z,{inverted:!0})})]})})},G=t(14805),K=t(50724),q=t(97618),W=t(17488),J=[{label:function(){return"Date and time window"},description:function(){return"Backfill between a date and time range."},uuid:d.VV}],Q=t(88785),$=t(79500);function ee(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function ne(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?ee(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var te=function(e){var n=e.backfill,t=e.errors,l=e.fetchBackfill,r=e.pipeline,s=e.setErrors,a=(e.variables,(0,o.useRouter)()),j=(0,B.q)(),v=(0,c.useState)(),x=v[0],Z=v[1],_=x||{},I=_.block_uuid,D=_.id,M=_.interval_type,L=_.interval_units,F=_.name,R=r.uuid,z=(0,c.useState)({}),V=z[0],Y=(z[1],(0,c.useState)(I?d._7:d.VV)),X=Y[0],ee=Y[1],te=(0,c.useState)(!1),ie=te[0],le=te[1],re=(0,c.useState)(!1),se=re[0],ae=re[1],ce=(0,c.useState)(null),ue=ce[0],oe=ce[1],de=(0,c.useState)(null),pe=de[0],fe=de[1],me=(0,c.useState)({hour:"00",minute:"00"}),be=me[0],je=me[1],he=(0,c.useState)({hour:"00",minute:"00"}),ve=he[0],xe=he[1];(0,c.useEffect)((function(){if(n){Z(n);var e=n.start_datetime;if(e){var t=(0,$.a)(e,{localTimezone:j});fe(null===t||void 0===t?void 0:t.date),xe(t.time)}var i=n.end_datetime;if(i){var l=(0,$.a)(i,{localTimezone:j});oe(null===l||void 0===l?void 0:l.date),je(null===l||void 0===l?void 0:l.time)}}}),[j,n]);var Ze=(0,c.useMemo)((function(){var e=[[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.KJ,{default:!0,size:1.5*w.iI}),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Backfill name"})]},"model_name_detail"),(0,H.jsx)(W.Z,{monospace:!0,onChange:function(e){e.preventDefault(),Z((function(n){return ne(ne({},n),{},{name:e.target.value})}))},placeholder:"Name this backfill",value:F},"model_name_input_detail")]];return d.VV===X&&e.push.apply(e,[[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.aw,{default:!0,size:1.5*w.iI}),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Start date and time"})]},"start_time"),(0,H.jsxs)("div",{style:{minHeight:"".concat(5.75*w.iI,"px")},children:[!ie&&(0,H.jsx)(W.Z,{monospace:!0,onClick:function(){return le((function(e){return!e}))},onFocus:function(){return le(!0)},placeholder:"YYYY-MM-DD HH:MM",value:pe?(0,T.XM)(pe,ve,{localTimezone:j}):""}),(0,H.jsx)("div",{style:{width:"400px"},children:(0,H.jsx)(K.Z,{disableEscape:!0,onClickOutside:function(){return le(!1)},open:ie,style:{position:"relative"},children:(0,H.jsx)(G.Z,{localTime:j,selectedDate:pe,selectedTime:ve,setSelectedDate:fe,setSelectedTime:xe,topPosition:!0})})})]},"start_time_input")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.aw,{default:!0,size:1.5*w.iI}),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"End date and time"})]},"end_time"),(0,H.jsxs)("div",{style:{minHeight:"".concat(5.75*w.iI,"px")},children:[!se&&(0,H.jsx)(W.Z,{monospace:!0,onClick:function(){return ae((function(e){return!e}))},onFocus:function(){return ae(!0)},placeholder:"YYYY-MM-DD HH:MM",value:ue?(0,T.XM)(ue,be,{localTimezone:j}):""}),(0,H.jsx)("div",{style:{width:"400px"},children:(0,H.jsx)(K.Z,{disableEscape:!0,onClickOutside:function(){return ae(!1)},open:se,style:{position:"relative"},children:(0,H.jsx)(G.Z,{localTime:j,selectedDate:ue,selectedTime:be,setSelectedDate:oe,setSelectedTime:je,topPosition:!0})})})]},"end_time_input")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.Pf,{default:!0,size:1.5*w.iI}),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval type"})]},"interval_type"),(0,H.jsx)(g.Z,{monospace:!0,onChange:function(e){e.preventDefault(),Z((function(n){return ne(ne({},n),{},{interval_type:e.target.value})}))},placeholder:"Time spacing between each backfill",value:M,children:d.IB.map((function(e){return(0,H.jsx)("option",{value:e,children:(0,S.kC)(e)},e)}))},"interval_type_input")],[(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(E.Pf,{default:!0,size:1.5*w.iI}),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(y.ZP,{default:!0,children:"Interval units"})]},"interval_units"),(0,H.jsx)(W.Z,{disabled:!M,monospace:!0,onChange:function(e){e.preventDefault(),Z((function(n){return ne(ne({},n),{},{interval_units:e.target.value})}))},placeholder:M?"Number of ".concat(M).concat(M!==d.I7.CUSTOM?"s":""," between each backfill"):"Interval type is required",type:"number",value:L},"interval_unit_input")]]),(0,H.jsxs)(H.Fragment,{children:[(0,H.jsx)(k.Z,{mb:2,px:w.cd,children:(0,H.jsx)(b.Z,{children:"Settings"})}),(0,H.jsx)(f.Z,{light:!0,short:!0}),(0,H.jsx)(P.Z,{columnFlex:[null,1],rows:e})]})}),[ue,pe,j,M,L,F,X,ie,se,be,ve]),ge=(0,u.Db)(O.ZP.backfills.useUpdate(D),{onSuccess:function(e){return(0,U.wD)(e,{callback:function(){l(),a.push("/pipelines/[pipeline]/backfills/[...slug]","/pipelines/".concat(R,"/backfills/").concat(D))},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),ke=(0,i.Z)(ge,2),_e=ke[0],Pe=ke[1].isLoading,ye=(0,c.useCallback)((function(){var e=ne(ne({},(0,A.GL)(x,["name"])),{},{end_datetime:null,interval_type:null,interval_units:null,start_datetime:null,variables:(0,N.e7)(V)});return d._7===X||(e.interval_type=M,e.interval_units=L,e.end_datetime=ue&&null!==be&&void 0!==be&&be.hour&&null!==be&&void 0!==be&&be.minute?(0,T.XM)(ue,be,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null,e.start_datetime=pe&&null!==ve&&void 0!==ve&&ve.hour&&null!==ve&&void 0!==ve&&ve.minute?(0,T.XM)(pe,ve,{convertToUtc:j,includeSeconds:!0,localTimezone:j}):null),_e({backfill:e})}),[ue,pe,j,M,L,x,V,X,be,ve,_e]),Oe=(0,c.useMemo)((function(){return d._7===X?!I:!(ue&&pe&&M&&L)}),[I,ue,pe,M,L,X]);return(0,H.jsxs)(h.Z,{breadcrumbs:[{label:function(){return"Backfills"},linkProps:{as:"/pipelines/".concat(R,"/backfills"),href:"/pipelines/[pipeline]/backfills"}},{label:function(){return null===x||void 0===x?void 0:x.name},linkProps:{as:"/pipelines/".concat(R,"/backfills/").concat(D),href:"/pipelines/[pipeline]/backfills/[...slug]"}}],errors:t,pageName:C.M.BACKFILLS,pipeline:r,setErrors:s,subheader:(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(p.Z,{disabled:Oe,loading:Pe,onClick:ye,outline:!0,primary:!0,children:"Save changes"}),(0,H.jsx)(k.Z,{mr:1}),(0,H.jsx)(p.Z,{linkProps:{href:"/pipelines/[pipeline]/backfills/[...slug]",as:"/pipelines/".concat(R,"/backfills/").concat(D)},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Cancel"})]}),title:function(){return"Edit ".concat(null===x||void 0===x?void 0:x.name)},uuid:"backfill/edit",children:[(0,H.jsxs)(k.Z,{p:w.cd,children:[(0,H.jsxs)(k.Z,{mb:2,children:[(0,H.jsx)(b.Z,{children:"Backfill type"}),(0,H.jsx)(y.ZP,{muted:!0,children:"How would you like this pipeline to be backfilled?"})]}),(0,H.jsx)(m.ZP,{children:J.map((function(e){var n=e.label,t=e.description,i=e.uuid,l=X===i,r=X&&!l;return(0,H.jsx)(p.Z,{noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(){ee(i)},children:(0,H.jsx)(Q.U,{selected:l,children:(0,H.jsxs)(m.ZP,{alignItems:"center",children:[(0,H.jsx)(q.Z,{children:(0,H.jsx)("input",{checked:l,type:"radio"})}),(0,H.jsx)(k.Z,{mr:w.cd}),(0,H.jsxs)(q.Z,{alignItems:"flex-start",flexDirection:"column",children:[(0,H.jsx)(b.Z,{bold:!0,default:!l&&!r,level:5,muted:!l&&r,children:n()}),(0,H.jsx)(y.ZP,{default:!l&&!r,leftAligned:!0,muted:r,children:t()})]})]})})},i)}))})]}),(0,H.jsx)(k.Z,{mt:5,children:Ze})]})},ie=t(93808);function le(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function re(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?le(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function se(e){var n=e.backfillId,t=e.pipelineUUID,i=e.subpath,l=(0,c.useState)(null),r=l[0],s=l[1],a=O.ZP.variables.pipelines.list(t,{},{revalidateOnFocus:!1}).data,u=(0,c.useMemo)((function(){return null===a||void 0===a?void 0:a.variables}),[a]),o=O.ZP.pipelines.detail(t,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,d=(0,c.useMemo)((function(){return re(re({},null===o||void 0===o?void 0:o.pipeline),{},{uuid:t})}),[o,t]),p=O.ZP.backfills.detail(n,{include_preview_runs:!0}),f=p.data,m=p.mutate,b=(0,c.useMemo)((function(){return null===f||void 0===f?void 0:f.backfill}),[f]);return"edit"===i?(0,H.jsx)(te,{backfill:b,errors:r,fetchBackfill:m,pipeline:d,setErrors:s,variables:u}):(0,H.jsx)(X,{backfill:b,errors:r,fetchBackfill:m,pipeline:d,setErrors:s,variables:u})}se.getInitialProps=function(){var e=(0,l.Z)(a().mark((function e(n){var t,l,r,s,c,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.query,l=t.pipeline,r=t.slug,!Array.isArray(r)){e.next=4;break}return s=(0,i.Z)(r,2),c=s[0],u=s[1],e.abrupt("return",{backfillId:c,pipelineUUID:l,subpath:u});case 4:return e.abrupt("return",{pipelineUUID:l});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var ae=(0,ie.Z)(se)},53664:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/backfills/[...slug]",function(){return t(51532)}])}},function(e){e.O(0,[844,9902,426,5264,7849,4495,6358,9696,8264,5499,1845,5457,6285,3943,5344,9774,2888,179],(function(){return n=53664,e(e.s=n);var n}));var n=e.O();_N_E=n}]);