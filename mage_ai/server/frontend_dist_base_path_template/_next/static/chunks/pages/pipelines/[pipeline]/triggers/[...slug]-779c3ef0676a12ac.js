(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[643],{92709:function(e,n,i){"use strict";i.d(n,{$e:function(){return c},Em:function(){return p},IY:function(){return s},Jf:function(){return l},LR:function(){return r},NR:function(){return o},Qj:function(){return d},Wf:function(){return g},b7:function(){return t},m$:function(){return a},tK:function(){return u}});var t="edit",r="[ERR_BLOCK_EXISTS]",l={uuid:"All files"},s={uuid:"Current blocks"},o=[l,s],u="CUSTOM_EVENT_BLOCK_OUTPUT_CHANGED",c="CUSTOM_EVENT_CODE_BLOCK_CHANGED",a="CUSTOM_EVENT_COLUMN_SCROLLER_CURSOR_MOVED",d="CUSTOM_EVENT_COLUMN_SCROLLER_RESET",p="CUSTOM_EVENT_COLUMN_SCROLLER_SCROLL_TO_BLOCK",g="CUSTOM_EVENT_SYNC_COLUMN_POSITIONS"},74395:function(e,n,i){"use strict";i.d(n,{M:function(){return s},W:function(){return l}});var t=i(38626),r=i(46684),l=34*i(70515).iI,s=t.default.div.withConfig({displayName:"indexstyle__BeforeStyle",componentId:"sc-12ee2ib-0"})(["min-height:calc(100vh - ","px);"],r.Mz)},8955:function(e,n,i){"use strict";i.d(n,{G7:function(){return b},ZP:function(){return P},u$:function(){return m}});var t=i(75582),r=i(82394),l=i(26304),s=i(90299),o=i(9134),u=i(24138),c=i(38276),a=i(30160),d=i(75499),p=i(70515),g=i(16488),f=i(42122),h=i(28598),v=["height","heightOffset","pipeline","selectedRun","selectedTab","setSelectedTab"];function j(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function x(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?j(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var m=44,_={uuid:"Run details"},Z={uuid:"Dependency tree"},b=[Z,_];function P(e){var n=e.height,i=e.heightOffset,r=e.pipeline,j=e.selectedRun,P=e.selectedTab,O=e.setSelectedTab,y=x({},(0,l.Z)(e,v));j?y.blockStatus=(0,g.IJ)(null===j||void 0===j?void 0:j.block_runs):y.noStatus=!0;var S=(0,f.Kn)(null===j||void 0===j?void 0:j.variables)?x({},null===j||void 0===j?void 0:j.variables):(null===j||void 0===j?void 0:j.variables)||{},w=null===j||void 0===j?void 0:j.event_variables;if(w&&(0,f.Kn)(w)&&!(0,f.Qr)(w))if((0,f.Kn)(S)&&S.hasOwnProperty("event")){var E=(0,f.Kn)(S.event)?S.event:{};S.event=x(x({},E),w)}else S.event=x({},w);var I=[];S&&JSON.stringify(S,null,2).split("\n").forEach((function(e){I.push("    ".concat(e))}));var k=j&&[["Run ID",null===j||void 0===j?void 0:j.id],["Variables",(0,h.jsx)(o.Z,{language:"json",small:!0,source:I.join("\n")},"variable_value")]],C=j&&(0,h.jsx)(c.Z,{pb:p.cd,px:p.cd,children:(0,h.jsx)(d.Z,{alignTop:!0,columnFlex:[null,1],columnMaxWidth:function(e){return 1===e?"100px":null},rows:k.map((function(e,n){var i=(0,t.Z)(e,2),r=i[0],l=i[1];return[(0,h.jsx)(a.ZP,{monospace:!0,muted:!0,children:r},"key_".concat(n)),(0,h.jsx)(a.ZP,{monospace:!0,textOverflow:!0,children:l},"val_".concat(n))]})),uuid:"LogDetail"})}),T=P&&O;return(0,h.jsxs)(h.Fragment,{children:[T&&(0,h.jsx)(c.Z,{py:p.cd,children:(0,h.jsx)(s.Z,{onClickTab:O,selectedTabUUID:null===P||void 0===P?void 0:P.uuid,tabs:b,underlineStyle:!0})}),(!T||Z.uuid===(null===P||void 0===P?void 0:P.uuid))&&(0,h.jsx)(u.ZP,x(x({},y),{},{height:n,heightOffset:(i||0)+(T?m:0),pipeline:r})),_.uuid===(null===P||void 0===P?void 0:P.uuid)&&C]})}},36604:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return de}});var t=i(75582),r=i(77837),l=i(82394),s=i(38860),o=i.n(s),u=i(82684),c=i(12691),a=i.n(c),d=i(38626),p=i(69864),g=i(34376),f=i(71180),h=i(39457),v=i(15338),j=i(55485),x=i(85854),m=i(48670),_=i(55072),Z=i(75457),b=i(53943),P=i(44265),O=i(30229),y=i(83784),S=i(44085),w=i(38276),E=i(4190),I=i(75499),k=i(48381),C=i(30160),T=i(12468),N=i(35686),M=i(8955),D=i(77417),R=i(74395),U=i(44425),L=i(72473),F=i(70515),A=i(28795),H=i(97196),V=i(8916),K=i(16488),z=i(3917),W=i(55283),q=i(44375),G=i(15610),X=i(86735),B=i(42122),J=i(50178),$=i(72619),Q=i(3314),Y=i(69419),ee=i(70320),ne=i(28598);function ie(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function te(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(i),!0).forEach((function(n){(0,l.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ie(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var re=function(e){var n=e.errors,i=e.fetchPipelineSchedule,r=e.pipeline,l=e.pipelineSchedule,s=e.setErrors,o=e.variables,c=(0,u.useContext)(d.ThemeContext),ie=(0,D.Z)().project,re=(0,g.useRouter)(),le=(0,J.Ct)(),se=(0,ee.q)(),oe=(0,u.useMemo)((function(){return(0,X.HK)((null===r||void 0===r?void 0:r.blocks)||[],(function(e){return e.uuid}))}),[r]),ue=(r||{}).uuid,ce=l||{},ae=ce.description,de=ce.id,pe=ce.event_matchers,ge=ce.name,fe=ce.next_pipeline_run_date,he=ce.schedule_interval,ve=ce.schedule_type,je=ce.settings,xe=ce.sla,me=ce.start_time,_e=ce.status,Ze=ce.tags,be=ce.variables,Pe=void 0===be?{}:be,Oe=(0,u.useMemo)((function(){return(0,K._U)(he)}),[he]),ye=(0,Y.iV)(),Se={_limit:30,_offset:30*(null!==ye&&void 0!==ye&&ye.page?ye.page:0)};null!==ye&&void 0!==ye&&ye.status&&(Se.status=ye.status),null!==l&&void 0!==l&&l.global_data_product_uuid&&(Se.global_data_product_uuid=null===l||void 0===l?void 0:l.global_data_product_uuid);var we=N.ZP.pipeline_runs.pipeline_schedules.list(de,Se,{refreshInterval:3e3,revalidateOnFocus:!0}),Ee=we.data,Ie=we.mutate,ke=(0,u.useMemo)((function(){return(null===Ee||void 0===Ee?void 0:Ee.pipeline_runs)||[]}),[Ee]),Ce=(0,u.useMemo)((function(){var e;return(null===Ee||void 0===Ee||null===(e=Ee.metadata)||void 0===e?void 0:e.count)||[]}),[Ee]),Te=(0,u.useState)(null),Ne=Te[0],Me=Te[1],De=(0,u.useMemo)((function(){var e=null!==ye&&void 0!==ye&&ye.page?ye.page:0;return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(b.Z,{fetchPipelineRuns:Ie,onClickRow:function(e){return Me((function(n){var i=ke[e];return(null===n||void 0===n?void 0:n.id)!==i.id?i:null}))},pipelineRuns:ke,selectedRun:Ne,setErrors:s,setSelectedRun:Me}),(0,ne.jsx)(w.Z,{p:2,children:(0,ne.jsx)(_.ZP,{maxPages:9,onUpdate:function(e){var n=Number(e),i=te(te({},ye),{},{page:n>=0?n:0});re.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(ue,"/triggers/").concat(de,"?").concat((0,Y.uM)(i)))},page:Number(e),totalPages:Math.ceil(Ce/30)})})]})}),[Ie,ke,de,ue,ye,re,Ne,s,Ce]),Re=(0,u.useState)(M.G7[0]),Ue=Re[0],Le=Re[1],Fe=(0,p.Db)((function(e){return N.ZP.pipeline_schedules.useUpdate(e.id)({pipeline_schedule:(0,B.gR)(e,["id"])})}),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){i()},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),Ae=(0,t.Z)(Fe,2),He=Ae[0],Ve=Ae[1].isLoading,Ke=N.ZP.pipeline_triggers.pipelines.list(ue),ze=Ke.data,We=Ke.mutate,qe=(0,u.useMemo)((function(){return(0,X.HK)((null===ze||void 0===ze?void 0:ze.pipeline_triggers)||[],(function(e){return e.name}))}),[ze]),Ge=(0,u.useMemo)((function(){return!(null===qe||void 0===qe||!qe[null===l||void 0===l?void 0:l.name])}),[l,qe]),Xe=(0,p.Db)(N.ZP.pipeline_triggers.pipelines.useCreate(ue),{onSuccess:function(e){return(0,$.wD)(e,{callback:function(){We()},onErrorCallback:function(e,n){return s({errors:n,response:e})}})}}),Be=(0,t.Z)(Xe,2),Je=Be[0],$e=Be[1].isLoading,Qe=(0,u.useMemo)((function(){return O.fq.ACTIVE===_e}),[_e]),Ye=(0,u.useMemo)((function(){var e,n,i={default:!0,size:1.5*F.iI},t=[[(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.VW,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Trigger type"})]},"trigger_type_label"),(0,ne.jsx)(C.ZP,{monospace:!0,children:null===(e=O.Z4[ve])||void 0===e?void 0:e.call(O.Z4)},"trigger_type")],[(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.rs,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Status"})]},"trigger_status_label"),(0,ne.jsx)(C.ZP,{danger:!Qe,monospace:!0,success:Qe,children:_e},"trigger_status")]];if(ae&&t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.KJ,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Description"})]},"trigger_description_label"),(0,ne.jsx)(C.ZP,{children:ae},"trigger_description")]),xe){var r=(0,K.gU)(xe),s=r.time,o=r.unit,u=1===s?o:"".concat(o,"s");t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.kI,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"SLA"})]},"trigger_sla_label"),(0,ne.jsx)(C.ZP,{monospace:!0,children:"".concat(s," ").concat(u)},"trigger_sla")])}if(he&&t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.Pf,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Frequency"})]},"trigger_frequency_label"),(0,ne.jsx)(C.ZP,{monospace:!0,children:se&&Oe?(0,K.lO)(he):he.replace("@","")},"trigger_frequency")],[(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.aw,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Next run date"})]},"trigger_next_run_date_label"),(0,ne.jsx)(C.ZP,{monospace:!0,children:fe?se?(0,z.XG)(fe,se):(0,z.d$)(fe,{includeSeconds:!0,utcFormat:!0}):"N/A"},"trigger_next_run_date")]),me&&t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.aw,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Start date"})]},"trigger_start_date_label"),(0,ne.jsx)(C.ZP,{monospace:!0,children:se?(0,z.XG)(me,se):me},"trigger_start_date")]),O.Xm.API===ve){var c=(0,K.M8)(l);t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(L.Ae,te({},i)),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"API endpoint"})]},"trigger_api_endpoint_label"),(0,ne.jsx)(h.Z,{copiedText:c,children:(0,ne.jsx)(C.ZP,{monospace:!0,small:!0,children:c})},"trigger_api_endpoint")])}if(null!==je&&void 0!==je&&je.timeout){var a=(0,K.gU)(null===je||void 0===je?void 0:je.timeout),d=a.time,p=a.unit,g=1===d?p:"".concat(p,"s");t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(T.Z,{default:!0,label:"Timeout set for runs of this trigger",size:1.5*F.iI,widthFitContent:!0}),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Timeout"})]},"trigger_timeout"),(0,ne.jsx)(C.ZP,{monospace:!0,children:"".concat(d," ").concat(g)},"trigger_timeout_label")])}null!==je&&void 0!==je&&je.skip_if_previous_running&&t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(T.Z,{default:!0,label:"Skip current run if any previous runs are still in progress",size:1.5*F.iI,widthFitContent:!0}),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Skip if running"})]},"trigger_skip_if_running"),(0,ne.jsx)(C.ZP,{monospace:!0,children:null===(n=je.skip_if_previous_running)||void 0===n?void 0:n.toString()},"trigger_skip_if_running_label")]);return null!==je&&void 0!==je&&je.allow_blocks_to_fail&&t.push([(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(T.Z,{default:!0,label:"Trigger runs will continue running blocks if other unrelated blocks fail",size:1.5*F.iI,widthFitContent:!0}),(0,ne.jsx)(w.Z,{mr:1}),(0,ne.jsx)(C.ZP,{default:!0,children:"Allow blocks to fail"})]},"trigger_allow_blocks_to_fail"),(0,ne.jsx)(C.ZP,{monospace:!0,children:je.allow_blocks_to_fail.toString()},"trigger_allow_blocks_to_fail_label")]),(0,ne.jsx)(I.Z,{columnFlex:[null,1],rows:t})}),[ae,se,Qe,Oe,fe,l,he,ve,je,xe,me,_e]),en=(0,u.useMemo)((function(){return Pe||{}}),[Pe]),nn=(0,u.useMemo)((function(){var e,n=[];return(0,B.Qr)(en)?n=(0,V.wx)(o,(function(e){return e.uuid===y.C})):Object.entries(en).forEach((function(e){var i=(0,t.Z)(e,2),r=i[0],l=i[1];[P.sZ,O.PN].includes(r)||n.push({uuid:r,value:(0,V.FS)(l)})})),"undefined"!==typeof(n=(0,V.JZ)(n||[],ve))&&null!==(e=n)&&void 0!==e&&e.length?(0,ne.jsx)(I.Z,{columnFlex:[null,1],rows:n.map((function(e){var n=e.uuid,i=e.value;return[(0,ne.jsx)(C.ZP,{default:!0,monospace:!0,children:n},"settings_variable_label_".concat(n)),(0,ne.jsx)(C.ZP,{monospace:!0,children:i},"settings_variable_".concat(n))]}))}):null}),[ve,en,o]),tn=(0,u.useMemo)((function(){var e=null===en||void 0===en?void 0:en[O.PN];return e?(0,ne.jsx)(ne.Fragment,{children:Object.entries(e||{}).map((function(e){var n,i=(0,t.Z)(e,2),r=i[0],l=i[1],s=null===oe||void 0===oe?void 0:oe[r];return(0,ne.jsxs)(w.Z,{mt:1,children:[(0,ne.jsx)(w.Z,{px:F.cd,pb:1,children:(0,ne.jsx)(C.ZP,{color:(0,W.qn)(null===s||void 0===s?void 0:s.type,{blockColor:null===s||void 0===s?void 0:s.color,theme:c}).accent,monospace:!0,children:r})}),(0,ne.jsx)(v.Z,{light:!0}),null===(n=Object.entries(l||{}))||void 0===n?void 0:n.map((function(e){var n=(0,t.Z)(e,2),i=n[0],r=n[1];return(0,ne.jsx)("div",{children:(0,ne.jsx)(I.Z,{columnFlex:[null,1],rows:[[(0,ne.jsx)(C.ZP,{default:!0,monospace:!0,children:"Stream"}),(0,ne.jsx)(C.ZP,{monospace:!0,rightAligned:!0,children:i})]].concat(Object.entries(r||{}).map((function(e){var n=(0,t.Z)(e,2),i=n[0],r=n[1];return[(0,ne.jsx)(C.ZP,{default:!0,monospace:!0,children:i},"settings_variable_label_".concat(i)),(0,ne.jsx)(C.ZP,{monospace:!0,rightAligned:!0,children:r},"settings_variable_".concat(i))]})))})},i)}))]},r)}))}):null}),[oe,ve,en,c,o]),rn=(0,u.useMemo)((function(){var e,n,i=[],t=null===en||void 0===en||null===(e=en[P.sZ])||void 0===e?void 0:e.blocks;return null===r||void 0===r||null===(n=r.blocks)||void 0===n||n.forEach((function(e){var n=e.type,r=e.uuid;if(U.tf.DBT===n){var l,s=(null===t||void 0===t||null===(l=t[r])||void 0===l?void 0:l.configuration)||{},o=s.flags,u=s.prefix,c=s.suffix,a=(0,q.IU)(e).name;(o||u||c)&&i.push({flags:o,prefix:u,suffix:c,uuid:a})}})),"undefined"!==typeof i&&null!==i&&void 0!==i&&i.length?(0,ne.jsx)(I.Z,{columnFlex:[1,null],rows:i.map((function(e){var n=e.flags,i=e.prefix,t=e.suffix,r=e.uuid;return[(0,ne.jsxs)(C.ZP,{monospace:!0,small:!0,children:[i&&(0,ne.jsx)(C.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:i}),r,t&&(0,ne.jsx)(C.ZP,{inline:!0,monospace:!0,muted:!0,small:!0,children:t})]},"settings_variable_label_".concat(r)),(0,ne.jsx)(C.ZP,{monospace:!0,muted:!0,small:!0,children:n&&n.join(", ")},"settings_variable_".concat(r))]}))}):null}),[r,en]),ln=(0,u.useMemo)((function(){return(0,ne.jsx)(I.Z,{columnFlex:[null,1],columns:[{uuid:"Provider"},{uuid:"Event"}],rows:null===pe||void 0===pe?void 0:pe.map((function(e,n){var i=e.event_type,t=e.name;return[(0,ne.jsx)(C.ZP,{default:!0,monospace:!0,children:H._P[i].label()},"".concat(i,"_").concat(n,"_label")),(0,ne.jsx)(C.ZP,{monospace:!0,children:t},"".concat(i,"_").concat(n,"_name"))]}))})}),[pe]),sn=(0,u.useMemo)((function(){var e,n,i,t,l,s,o;return"undefined"===typeof(null===r||void 0===r||null===(e=r.settings)||void 0===e||null===(n=e.triggers)||void 0===n?void 0:n.save_in_code_automatically)?null===ie||void 0===ie||null===(i=ie.pipelines)||void 0===i||null===(t=i.settings)||void 0===t||null===(l=t.triggers)||void 0===l?void 0:l.save_in_code_automatically:null===r||void 0===r||null===(s=r.settings)||void 0===s||null===(o=s.triggers)||void 0===o?void 0:o.save_in_code_automatically}),[r,ie]);return(0,ne.jsxs)(Z.Z,{afterHidden:!Ne,before:(0,ne.jsxs)(R.M,{children:[(0,ne.jsxs)(w.Z,{mb:F.HN,pt:F.cd,px:F.cd,children:[(0,ne.jsxs)(w.Z,{mb:F.cd,children:[O.Xm.TIME===ve&&(0,ne.jsx)(L.kO,{size:5*F.iI}),O.Xm.EVENT===ve&&(0,ne.jsx)(L.Jp,{size:5*F.iI}),O.Xm.API===ve&&(0,ne.jsx)(L.Bf,{size:5*F.iI}),!ve&&(0,ne.jsx)(L.VW,{size:5*F.iI})]}),(0,ne.jsx)(x.Z,{children:ge})]}),(0,ne.jsx)(w.Z,{px:F.cd,children:(0,ne.jsx)(x.Z,{level:5,children:"Settings"})}),(0,ne.jsx)(v.Z,{light:!0,mt:1,short:!0}),Ye,(null===pe||void 0===pe?void 0:pe.length)>=1&&(0,ne.jsxs)(w.Z,{my:F.HN,children:[(0,ne.jsx)(w.Z,{px:F.cd,children:(0,ne.jsx)(x.Z,{level:5,children:"Events"})}),(0,ne.jsx)(v.Z,{light:!0,mt:1,short:!0}),ln]}),nn&&(0,ne.jsxs)(w.Z,{my:F.HN,children:[(0,ne.jsx)(w.Z,{px:F.cd,children:(0,ne.jsx)(x.Z,{level:5,children:"Runtime variables"})}),(0,ne.jsx)(v.Z,{light:!0,mt:1,short:!0}),nn]}),tn&&(0,ne.jsxs)(w.Z,{my:F.HN,children:[(0,ne.jsx)(w.Z,{px:F.cd,children:(0,ne.jsx)(x.Z,{level:5,children:"Bookmark values"})}),(0,ne.jsx)(v.Z,{light:!0,mt:1,short:!0}),tn]}),rn&&(0,ne.jsxs)(w.Z,{my:F.HN,children:[(0,ne.jsx)(w.Z,{px:F.cd,children:(0,ne.jsx)(x.Z,{level:5,children:"dbt runtime settings"})}),(0,ne.jsx)(v.Z,{light:!0,mt:1,short:!0}),rn]}),(null===Ze||void 0===Ze?void 0:Ze.length)>=1&&(0,ne.jsxs)(w.Z,{my:F.HN,children:[(0,ne.jsx)(w.Z,{px:F.cd,children:(0,ne.jsx)(x.Z,{level:5,children:"Tags"})}),(0,ne.jsx)(v.Z,{light:!0,mt:1,short:!0}),(0,ne.jsx)(w.Z,{mt:F.cd,px:F.cd,children:(0,ne.jsx)(k.Z,{tags:null===Ze||void 0===Ze?void 0:Ze.map((function(e){return{uuid:e}}))})})]}),"\\",(0,ne.jsx)(w.Z,{my:F.HN,children:(0,ne.jsxs)(w.Z,{px:F.cd,children:[(0,ne.jsxs)(x.Z,{level:5,children:[Ge&&"Trigger exists in code",!Ge&&"Store trigger in code"]}),(0,ne.jsxs)(w.Z,{mt:1,children:[sn&&(0,ne.jsxs)(C.ZP,{default:!0,children:["This trigger will automatically be persisted in code. To change this behavior, update the ",(0,ne.jsx)(a(),{as:"/pipelines/".concat(ue,"/settings"),href:"/pipelines/[pipeline]/settings",passHref:!0,children:(0,ne.jsx)(m.Z,{openNewWindow:!0,children:"pipeline\u2019s settings"})})," or ",(0,ne.jsx)(a(),{as:"/settings/workspace/preferences",href:"/settings/workspace/preferences",passHref:!0,children:(0,ne.jsx)(m.Z,{openNewWindow:!0,children:"project settings"})}),"."]}),!sn&&(0,ne.jsxs)(C.ZP,{default:!0,children:["Save or update the trigger and its settings in the pipeline\u2019s metadata and version control the trigger using Git. For more information, please read the ",(0,ne.jsx)(m.Z,{href:"https://docs.mage.ai/guides/triggers/configure-triggers-in-code",openNewWindow:!0,children:"documentation"}),"."]})]}),!sn&&(0,ne.jsxs)(w.Z,{mt:F.cd,children:[!ze&&(0,ne.jsx)(E.Z,{inverted:!0}),ze&&(0,ne.jsxs)(f.ZP,{disabled:!(null!==l&&void 0!==l&&l.id),loading:$e,onClick:function(){Je({pipeline_trigger:{pipeline_schedule_id:null===l||void 0===l?void 0:l.id}})},secondary:!0,children:[Ge&&"Update trigger in code",!Ge&&"Save trigger in code"]})]})]})})]}),beforeWidth:R.W,breadcrumbs:[{label:function(){return"Triggers"},linkProps:{as:"/pipelines/".concat(ue,"/triggers"),href:"/pipelines/[pipeline]/triggers"}},{label:function(){return ge},linkProps:{as:"/pipelines/".concat(ue,"/triggers/").concat(de),href:"/pipelines/[pipeline]/triggers/[...slug]"}}],buildSidekick:function(e){return(0,M.ZP)(te(te({},e),{},{selectedRun:Ne,selectedTab:Ue,setSelectedTab:Le}))},errors:n,pageName:A.M.TRIGGERS,pipeline:r,setErrors:s,subheader:(0,ne.jsxs)(j.ZP,{alignItems:"center",children:[(0,ne.jsx)(f.ZP,{beforeIcon:Qe?(0,ne.jsx)(L.dz,{size:2*F.iI}):(0,ne.jsx)(L.Py,{inverted:!le,size:2*F.iI}),danger:Qe&&!le,loading:Ve,onClick:function(e){(0,Q.j)(e),He({id:de,status:Qe?O.fq.INACTIVE:O.fq.ACTIVE})},outline:!0,success:!Qe&&!le,children:Qe?"Pause trigger":"Start trigger"}),(0,ne.jsx)(w.Z,{mr:F.cd}),!le&&(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(f.ZP,{linkProps:{as:"/pipelines/".concat(ue,"/triggers/").concat(de,"/edit"),href:"/pipelines/[pipeline]/triggers/[...slug]"},noHoverUnderline:!0,outline:!0,sameColorAsText:!0,children:"Edit trigger"}),(0,ne.jsx)(w.Z,{mr:F.cd})]}),(0,ne.jsxs)(S.Z,{compact:!0,defaultColor:!0,onChange:function(e){e.preventDefault(),"all"===e.target.value?re.push("/pipelines/[pipeline]/triggers/[...slug]","/pipelines/".concat(ue,"/triggers/").concat(de)):(0,G.u7)({page:0,status:e.target.value})},paddingRight:4*F.iI,placeholder:"Select run status",value:(null===ye||void 0===ye?void 0:ye.status)||"all",children:[(0,ne.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),P.IK.map((function(e){return(0,ne.jsx)("option",{value:e,children:P.Do[e]},e)}))]})]}),title:function(){return ge},uuid:"triggers/detail",children:[(0,ne.jsx)(w.Z,{mt:F.cd,px:F.cd,children:(0,ne.jsx)(x.Z,{level:5,children:"Runs for this trigger"})}),(0,ne.jsx)(v.Z,{light:!0,mt:F.cd,short:!0}),De]})},le=i(12717),se=i(93808),oe=i(92709);function ue(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function ce(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ue(Object(i),!0).forEach((function(n){(0,l.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ue(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}function ae(e){var n=e.pipelineScheduleId,i=e.pipelineUUID,t=e.subpath,r=oe.b7===t,l=(0,u.useState)(null),s=l[0],o=l[1],c=N.ZP.variables.pipelines.list(i,{},{revalidateOnFocus:!1}).data,a=null===c||void 0===c?void 0:c.variables,d={};r&&(d._format="with_runtime_average");var p=N.ZP.pipeline_schedules.detail("undefined"!==typeof n&&n,d),g=p.data,f=p.mutate,h=null===g||void 0===g?void 0:g.pipeline_schedule,v=N.ZP.pipelines.detail(i,{includes_content:!1,includes_outputs:!1},{revalidateOnFocus:!1}).data,j=ce(ce({},null===v||void 0===v?void 0:v.pipeline),{},{uuid:i});return r?(0,ne.jsx)(le.Z,{errors:s,fetchPipelineSchedule:f,pipeline:j,pipelineSchedule:h,setErrors:o,variables:a}):(0,ne.jsx)(re,{errors:s,fetchPipelineSchedule:f,pipeline:j,pipelineSchedule:h,setErrors:o,variables:a})}ae.getInitialProps=function(){var e=(0,r.Z)(o().mark((function e(n){var i,r,l,s,u,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.query,r=i.pipeline,l=i.slug,!Array.isArray(l)){e.next=4;break}return s=(0,t.Z)(l,2),u=s[0],c=s[1],e.abrupt("return",{pipelineScheduleId:u,pipelineUUID:r,subpath:c});case 4:return e.abrupt("return",{pipelineUUID:r});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();var de=(0,se.Z)(ae)},95488:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines/[pipeline]/triggers/[...slug]",function(){return i(36604)}])}},function(e){e.O(0,[2678,1154,844,5820,1124,341,9161,4495,9302,4267,600,8487,8264,7858,5499,5457,4366,722,1769,3943,6798,845,2717,9774,2888,179],(function(){return n=95488,e(e.s=n);var n}));var n=e.O();_N_E=n}]);