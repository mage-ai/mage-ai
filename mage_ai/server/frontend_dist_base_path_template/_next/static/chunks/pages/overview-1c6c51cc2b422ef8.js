(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1709],{98677:function(n,e,t){"use strict";function r(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=0|Math.max(0,Math.ceil((e-n)/t)),o=new Array(i);++r<i;)o[r]=n+r*t;return o}t.d(e,{Z:function(){return a}});var i=t(8208),o=t(8162);function c(){var n,e,t=(0,o.Z)().unknown(void 0),u=t.domain,a=t.range,l=0,s=1,d=!1,f=0,p=0,h=.5;function m(){var t=u().length,i=s<l,o=i?s:l,c=i?l:s;n=(c-o)/Math.max(1,t-f+2*p),d&&(n=Math.floor(n)),o+=(c-o-n*(t-f))*h,e=n*(1-f),d&&(o=Math.round(o),e=Math.round(e));var m=r(t).map((function(e){return o+n*e}));return a(i?m.reverse():m)}return delete t.unknown,t.domain=function(n){return arguments.length?(u(n),m()):u()},t.range=function(n){return arguments.length?([l,s]=n,l=+l,s=+s,m()):[l,s]},t.rangeRound=function(n){return[l,s]=n,l=+l,s=+s,d=!0,m()},t.bandwidth=function(){return e},t.step=function(){return n},t.round=function(n){return arguments.length?(d=!!n,m()):d},t.padding=function(n){return arguments.length?(f=Math.min(1,p=+n),m()):f},t.paddingInner=function(n){return arguments.length?(f=Math.min(1,n),m()):f},t.paddingOuter=function(n){return arguments.length?(p=+n,m()):p},t.align=function(n){return arguments.length?(h=Math.max(0,Math.min(1,n)),m()):h},t.copy=function(){return c(u(),[l,s]).round(d).paddingInner(f).paddingOuter(p).align(h)},i.o.apply(m(),arguments)}var u=(0,t(93342).Z)("domain","range","reverse","align","padding","round");function a(n){return u(c(),n)}},81354:function(n,e,t){"use strict";t.d(e,{Z:function(){return g}});var r=t(82684),i=t(63588),o=t.n(i),c=t(75823),u=t(29989),a=t(62072),l=t(53989),s=t(49894),d=t(18246),f=t(59309),p=t(65743),h=["data","className","top","left","x","y0","y1","xScale","yScale","color","keys","value","order","offset","children"];function m(){return m=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},m.apply(this,arguments)}function g(n){var e=n.data,t=n.className,i=n.top,g=n.left,x=n.x,v=n.y0,b=void 0===v?a.l8:v,Z=n.y1,y=void 0===Z?a.xf:Z,j=n.xScale,w=n.yScale,k=n.color,_=n.keys,P=n.value,I=n.order,C=n.offset,O=n.children,M=function(n,e){if(null==n)return{};var t,r,i={},o=Object.keys(n);for(r=0;r<o.length;r++)t=o[r],e.indexOf(t)>=0||(i[t]=n[t]);return i}(n,h),T=(0,c.Z)();_&&T.keys(_),P&&(0,s.Z)(T.value,P),I&&T.order((0,d.ZP)(I)),C&&T.offset((0,f.ZP)(C));var S=T(e),N=(0,l.Z)(j),B=S.map((function(n,e){var t=n.key;return{index:e,key:t,bars:n.map((function(e,r){var i=(w(b(e))||0)-(w(y(e))||0),o=w(y(e)),c="bandwidth"in j?j(x(e.data)):Math.max((j(x(e.data))||0)-N/2);return{bar:e,key:t,index:r,height:i,width:N,x:c||0,y:o||0,color:k(n.key,r)}}))}}));return O?r.createElement(r.Fragment,null,O(B)):r.createElement(u.Z,{className:o()("visx-bar-stack",t),top:i,left:g},B.map((function(n){return n.bars.map((function(e){return r.createElement(p.Z,m({key:"bar-stack-"+n.index+"-"+e.index,x:e.x,y:e.y,height:e.height,width:e.width,fill:e.color},M))}))})))}},62072:function(n,e,t){"use strict";function r(n){return null==n?void 0:n[0]}function i(n){return null==n?void 0:n[1]}t.d(e,{l8:function(){return r},xf:function(){return i}})},53989:function(n,e,t){"use strict";function r(n){if("bandwidth"in n)return n.bandwidth();var e=n.range(),t=n.domain();return Math.abs(e[e.length-1]-e[0])/t.length}t.d(e,{Z:function(){return r}})},59309:function(n,e,t){"use strict";t.d(e,{ZP:function(){return l}});var r=t(12759),i=t(27500),o=t(82610),c=t(34812),u=t(77944),a={expand:r.Z,diverging:i.Z,none:o.Z,silhouette:c.Z,wiggle:u.Z};Object.keys(a);function l(n){return n&&a[n]||a.none}},18246:function(n,e,t){"use strict";t.d(e,{ZP:function(){return l}});var r=t(39586),i=t(25516),o=t(54164),c=t(8512),u=t(2010),a={ascending:r.Z,descending:i.Z,insideout:o.Z,none:c.Z,reverse:u.Z};Object.keys(a);function l(n){return n&&a[n]||a.none}},13946:function(n,e,t){"use strict";t.d(e,{t:function(){return r}});var r=Array.prototype.slice},27500:function(n,e,t){"use strict";function r(n,e){if((u=n.length)>0)for(var t,r,i,o,c,u,a=0,l=n[e[0]].length;a<l;++a)for(o=c=0,t=0;t<u;++t)(i=(r=n[e[t]][a])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=c,r[0]=c+=i):(r[0]=0,r[1]=i)}t.d(e,{Z:function(){return r}})},12759:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(82610);function i(n,e){if((i=n.length)>0){for(var t,i,o,c=0,u=n[0].length;c<u;++c){for(o=t=0;t<i;++t)o+=n[t][c][1]||0;if(o)for(t=0;t<i;++t)n[t][c][1]/=o}(0,r.Z)(n,e)}}},82610:function(n,e,t){"use strict";function r(n,e){if((i=n.length)>1)for(var t,r,i,o=1,c=n[e[0]],u=c.length;o<i;++o)for(r=c,c=n[e[o]],t=0;t<u;++t)c[t][1]+=c[t][0]=isNaN(r[t][1])?r[t][0]:r[t][1]}t.d(e,{Z:function(){return r}})},34812:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(82610);function i(n,e){if((t=n.length)>0){for(var t,i=0,o=n[e[0]],c=o.length;i<c;++i){for(var u=0,a=0;u<t;++u)a+=n[u][i][1]||0;o[i][1]+=o[i][0]=-a/2}(0,r.Z)(n,e)}}},77944:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(82610);function i(n,e){if((o=n.length)>0&&(i=(t=n[e[0]]).length)>0){for(var t,i,o,c=0,u=1;u<i;++u){for(var a=0,l=0,s=0;a<o;++a){for(var d=n[e[a]],f=d[u][1]||0,p=(f-(d[u-1][1]||0))/2,h=0;h<a;++h){var m=n[e[h]];p+=(m[u][1]||0)-(m[u-1][1]||0)}l+=f,s+=p*f}t[u-1][1]+=t[u-1][0]=c,l&&(c-=s/l)}t[u-1][1]+=t[u-1][0]=c,(0,r.Z)(n,e)}}},34128:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(8512);function i(n){var e=n.map(o);return(0,r.Z)(n).sort((function(n,t){return e[n]-e[t]}))}function o(n){for(var e,t=-1,r=0,i=n.length,o=-1/0;++t<i;)(e=+n[t][1])>o&&(o=e,r=t);return r}},39586:function(n,e,t){"use strict";t.d(e,{S:function(){return o},Z:function(){return i}});var r=t(8512);function i(n){var e=n.map(o);return(0,r.Z)(n).sort((function(n,t){return e[n]-e[t]}))}function o(n){for(var e,t=0,r=-1,i=n.length;++r<i;)(e=+n[r][1])&&(t+=e);return t}},25516:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(39586);function i(n){return(0,r.Z)(n).reverse()}},54164:function(n,e,t){"use strict";t.d(e,{Z:function(){return o}});var r=t(34128),i=t(39586);function o(n){var e,t,o=n.length,c=n.map(i.S),u=(0,r.Z)(n),a=0,l=0,s=[],d=[];for(e=0;e<o;++e)t=u[e],a<l?(a+=c[t],s.push(t)):(l+=c[t],d.push(t));return d.reverse().concat(s)}},8512:function(n,e,t){"use strict";function r(n){for(var e=n.length,t=new Array(e);--e>=0;)t[e]=e;return t}t.d(e,{Z:function(){return r}})},2010:function(n,e,t){"use strict";t.d(e,{Z:function(){return i}});var r=t(8512);function i(n){return(0,r.Z)(n).reverse()}},75823:function(n,e,t){"use strict";t.d(e,{Z:function(){return a}});var r=t(13946),i=t(90875),o=t(82610),c=t(8512);function u(n,e){return n[e]}function a(){var n=(0,i.Z)([]),e=c.Z,t=o.Z,a=u;function l(r){var i,o,c=n.apply(this,arguments),u=r.length,l=c.length,s=new Array(l);for(i=0;i<l;++i){for(var d,f=c[i],p=s[i]=new Array(u),h=0;h<u;++h)p[h]=d=[0,+a(r[h],f,h,r)],d.data=r[h];p.key=f}for(i=0,o=e(s);i<l;++i)s[o[i]].index=i;return t(s,o),s}return l.keys=function(e){return arguments.length?(n="function"===typeof e?e:(0,i.Z)(r.t.call(e)),l):n},l.value=function(n){return arguments.length?(a="function"===typeof n?n:(0,i.Z)(+n),l):a},l.order=function(n){return arguments.length?(e=null==n?c.Z:"function"===typeof n?n:(0,i.Z)(r.t.call(n)),l):e},l.offset=function(n){return arguments.length?(t=null==n?o.Z:n,l):t},l}},29241:function(n,e,t){"use strict";var r=t(38626),i=t(44897),o=r.default.div.withConfig({displayName:"PageSectionHeader",componentId:"sc-1wznrcv-0"})(["left:0;position:sticky;top:0;width:100%;z-index:3;",""],(function(n){return"\n    background-color: ".concat(n.backgroundColor||(n.theme.background||i.Z.background).page,";\n    border-bottom: 1px solid ").concat((n.theme.borders||i.Z.borders).medium,";\n  ")}));e.Z=o},96348:function(n,e,t){"use strict";t.d(e,{g:function(){return x},Z:function(){return v}});var r=t(82684),i=t(38626),o=t(44897),c=t(42631),u=t(47041),a=t(70515),l=1.5*a.iI,s=1.5*a.iI,d=i.default.div.withConfig({displayName:"indexstyle__TableStyle",componentId:"sc-13p7y8j-0"})(["border-radius:","px;overflow:hidden;width:100%;"," "," "," ",""],c.n_,(function(n){return n.width&&"\n    width: ".concat(n.width,"px;\n  ")}),(function(n){return"\n    background-color: ".concat((n.theme||o.Z).background.page,";\n    border: ").concat(c.YF,"px ").concat(c.M8," ").concat((n.theme||o.Z).interactive.defaultBorder,";\n    box-shadow: ").concat((n.theme||o.Z).shadow.frame,";\n  ")}),(function(n){return n.noBackground&&"\n    background-color: transparent;\n  "}),(function(n){return n.noBoxShadow&&"\n    box-shadow: none;\n  "})),f=i.default.div.withConfig({displayName:"indexstyle__RowContainerStyle",componentId:"sc-13p7y8j-1"})(["overflow:auto;border-bottom-left-radius:","px;border-bottom-right-radius:","px;"," "," "," ",""],c.n_,c.n_,u.w5,(function(n){return n.maxHeight>0&&"\n    max-height: ".concat(n.maxHeight,"px;\n  ")}),(function(n){return n.minHeight>0&&"\n    min-height: ".concat(n.minHeight,"px;\n  ")}),(function(n){return n.scrollable&&"\n    margin-bottom: ".concat(a.iI,"px;\n    overflow-y: auto;\n    padding-top: ").concat(3,"px;\n    padding-left: ").concat(3,"px;\n    padding-right: ").concat(3,"px;\n  ")})),p=i.default.div.withConfig({displayName:"indexstyle__HeaderStyle",componentId:"sc-13p7y8j-2"})(["border-top-left-radius:","px;border-top-right-radius:","px;padding:","px ","px;",""],c.n_,c.n_,l,2*a.iI,(function(n){return"\n    border-bottom: ".concat(c.YF,"px ").concat(c.M8," ").concat((n.theme.interactive||o.Z.interactive).defaultBorder,";\n  ")})),h=i.default.div.withConfig({displayName:"indexstyle__RowStyle",componentId:"sc-13p7y8j-3"})(["padding:","px ","px;"," "," "," "," "," ",""],s,2*a.iI,(function(n){return"\n    border-bottom: ".concat(c.YF,"px ").concat(c.M8," ").concat((n.theme||o.Z).borders.medium2,";\n  ")}),(function(n){return n.sameColorBorders&&"\n    border-bottom-color: ".concat((n.theme||o.Z).interactive.defaultBorder,";\n  ")}),(function(n){return n.noHorizontalPadding&&"\n    padding-left: 0;\n    padding-right: 0;\n  "}),(function(n){return n.condensed&&"\n    padding-top: ".concat(9,"px;\n    padding-bottom: ").concat(9,"px;\n  ")}),(function(n){return n.secondary&&"\n    background-color: ".concat((n.theme.background||o.Z.background).row2,";\n  ")}),(function(n){return n.last&&n.noBorder&&"\n    border-bottom-left-radius: ".concat(c.n_,"px;\n    border-bottom-right-radius: ").concat(c.n_,"px;\n    border-bottom: none;\n  ")})),m=i.default.div.withConfig({displayName:"indexstyle__FooterStyle",componentId:"sc-13p7y8j-4"})(["border-bottom-left-radius:","px;border-bottom-right-radius:","px;padding:","px ","px;",""],c.n_,c.n_,l,2*a.iI,(function(n){return"\n    border-top: ".concat(c.YF,"px ").concat(c.M8," ").concat((n.theme||o.Z).borders.medium2,";\n  ")})),g=t(28598),x=h;var v=function(n){var e=n.alternating,t=n.children,i=n.footer,o=n.header,c=n.maxHeight,u=n.minHeight,a=n.noBackground,l=n.noBoxShadow,s=n.sameColorBorders,h=n.scrollable,x=n.width,v=[].concat(t).filter((function(n){return null!==n}));return(0,g.jsxs)(d,{noBackground:a,noBoxShadow:l,width:x,children:[o&&(0,g.jsx)(p,{children:o}),(0,g.jsx)(f,{maxHeight:c,minHeight:u,scrollable:h,children:r.Children.map(v,(function(n,t){return n&&r.cloneElement(n,{last:t===v.length-1,sameColorBorders:s,secondary:e&&t%2===1})}))}),i&&(0,g.jsx)(m,{children:i})]})}},17380:function(n,e,t){"use strict";t.d(e,{i:function(){return s}});t(82684);var r=t(38626),i=(t(97618),t(55485),t(48670),t(38276),t(47329)),o=t.n(i);o().node,o().node,o().node.isRequired,o().bool,o().string.isRequired;t(30160);var c=t(70987),u=t(95363),a=t(70515),l=t(42631),s=(t(28598),"tab");r.default.div.withConfig({displayName:"Tabs__TabHeaderContainerStyle",componentId:"sc-rojme5-0"})(["",""],(function(n){return n.containerWidthPercentage&&"\n    width: ".concat(n.containerWidthPercentage,"%;\n  ")})),r.default.div.withConfig({displayName:"Tabs__TabHeader",componentId:"sc-rojme5-1"})(["border-top-left-radius:","px;border-top-right-radius:","px;margin-right:","px;position:relative;z-index:2;"," "," ",""],l.BG,l.BG,6*a.iI,(function(n){return n.noBottomBorder&&"\n    border-bottom: none;\n  "}),(function(n){return n.active&&"\n    border-bottom: ".concat(a.cd,"px solid;\n    border-color: ").concat((n.theme.interactive||c.Z.interactive).linkPrimary,";\n  ")}),(function(n){return n.fullWidth&&"\n    width: 100%;\n  "})),r.default.div.withConfig({displayName:"Tabs__LinkStyle",componentId:"sc-rojme5-2"})(["align-items:center;display:flex;"," "," ",""],(function(n){return n.bold&&"\n    font-family: ".concat(u.nF,";\n  ")}),(function(n){return n.fullWidth&&"\n    justify-content: center;\n  "}),(function(n){return!n.disabled&&"\n    &:hover {\n      path {\n        fill: ".concat((n.theme.content||c.Z.interactive).linkPrimary," !important;\n      }\n    }\n  ")}))},95407:function(n,e,t){"use strict";t.r(e),t.d(e,{default:function(){return In}});var r=t(77837),i=t(75582),o=t(82394),c=t(38860),u=t.n(c),a=t(83455),l=t(82684),s=t(34376),d=t(92083),f=t.n(d),p=t(52749),h=t(81066),m=t(29584),g=t(60523),x=t(90299),v=t(94629),b=t(55485),Z=t(85854),y=t(48670),j=t(97618),w=t(38276),k=t(30160),_=t(38626),P=t(44897),I=t(42631),C=t(70515),O=12.5*C.iI,M=8*C.iI,T=5*C.iI,S=3*C.iI,N=_.default.div.withConfig({displayName:"indexstyle__TileContainerStyle",componentId:"sc-c3nc3q-0"})(["padding:","px;border-radius:","px;height:","px;width:","px;"," ",""],2.5*C.iI,I.TR,O,O,(function(n){return"\n    background-color: ".concat((n.theme||P.Z).background.chartBlock,";\n  ")}),(function(n){return n.compact&&"\n    height: ".concat(M,"px;\n    width: ").concat(M,"px;\n  ")})),B=t(28598);var A=function(n){var e=n.Icon,t=n.compact,r=n.label;return(0,B.jsx)(N,{compact:t,children:(0,B.jsxs)(b.ZP,{alignItems:"center",flexDirection:"column",justifyContent:"center",children:[(0,B.jsx)(e,{size:t?S:T}),(0,B.jsx)(w.Z,{mb:"4px"}),(0,B.jsx)(k.ZP,{bold:!0,small:t,children:r})]})})},E=_.default.div.withConfig({displayName:"indexstyle__MetricsSummaryContainerStyle",componentId:"sc-nu65g1-0"})(["width:100%;padding:","px;border-radius:","px;",""],2*C.iI,I.n_,(function(n){return"\n    border: ".concat(I.YF,"px ").concat(I.M8," ").concat((n.theme||P.Z).interactive.defaultBorder,";\n    box-shadow: ").concat((n.theme||P.Z).shadow.frame,";\n  ")})),R=t(57653),D=t(41143),H=t(31098),L=t(48277),Y=t(86735);var F=function(n){var e=n.pipelineRunCountByPipelineType,t=(0,l.useMemo)((function(){if(!e)return[];var n=JSON.parse(JSON.stringify(e)),t=n[R.qL.PYTHON]||{};return Object.entries(n[R.qL.PYSPARK]||{}).forEach((function(n){var e=(0,i.Z)(n,2),r=e[0],o=e[1];t[r]?t[r]+=o:t[r]=o})),n[R.qL.PYTHON]=t,delete n[R.qL.PYSPARK],(0,Y.mr)(Object.entries(n).filter((function(n){var e=(0,i.Z)(n,2),t=(e[0],e[1]);return 0!==Object.keys(t).length})))}),[e]);return(0,B.jsxs)(E,{children:[(0,B.jsx)(k.ZP,{bold:!0,large:!0,children:"Pipeline run metrics"}),(0,B.jsx)(w.Z,{mb:2}),(0,B.jsx)(b.ZP,{alignItems:"center",justifyContent:"space-between",children:t.map((function(n,e){var r=(0,i.Z)(n,2),o=r[0],c=r[1];return(0,B.jsxs)(j.Z,{alignItems:"center",flex:"1",justifyContent:"space-between",style:0!==e?{borderLeft:"1px solid ".concat(P.Z.interactive.defaultBorder)}:null,children:[(0,B.jsx)(w.Z,{pl:0!==e?3:0,children:(0,B.jsx)(A,{Icon:R.Mj[o],label:R.G7[o]})}),(0,Y.mr)(Object.entries(c)).map((function(n,e){var t=(0,i.Z)(n,2),r=t[0],o=t[1];return(0,B.jsxs)(j.Z,{flexDirection:"column",children:[(0,B.jsx)(k.ZP,{children:(0,H.kC)(r)}),(0,B.jsx)(k.ZP,{bold:!0,danger:r===D.V.FAILED&&o>0,xlarge:!0,children:(0,L.uf)(o)})]},"".concat(r,"_").concat(e))})),(0,B.jsx)(w.Z,{pr:e!==t.length-1?2:0})]},"".concat(o,"_metric"))}))})]})},q=t(29241),z=t(65956),V=t(55729),W=t(93808),G=t(4190),U=t(12691),X=t.n(U),K=t(71180),J=t(96348),Q=t(68899),$=t(17380),nn=t(3917),en=t(69419),tn=40*C.iI,rn=40*C.iI;var on=function(n){var e=n.pipelineType,t=n.pipelineRuns,r=void 0===t?[]:t,i=(0,s.useRouter)(),o=(0,en.iV)(),c=(null===o||void 0===o?void 0:o[$.i])||nn.vk.TODAY,u=e===R.LM,a=u?R.LM:R.G7[e],l=R.Mj[e],d=r.length,f=0===d?"":"(".concat(d,")");return(0,B.jsx)(J.Z,{footer:(0,B.jsx)(b.ZP,{alignItems:"center",justifyContent:"center",children:(0,B.jsx)(X(),{as:"/pipeline-runs?status=failed",href:"/pipeline-runs",passHref:!0,children:(0,B.jsx)(y.Z,{sameColorAsText:!0,children:"View more"})})}),header:(0,B.jsxs)(b.ZP,{alignItems:"center",children:[(0,B.jsx)(K.Z,{beforeIcon:(0,B.jsx)(l,{size:2.5*C.iI}),compact:!0,notClickable:!0,children:(0,H.kC)(a)}),(0,B.jsx)(w.Z,{ml:2}),(0,B.jsxs)(k.ZP,{bold:!0,children:["Latest ",u?"":"".concat((0,H.wX)(a)," "),"pipeline run failures ",f]})]}),maxHeight:tn,minHeight:rn,children:0===d?(0,B.jsx)(b.ZP,{alignItems:"center",fullWidth:!0,justifyContent:"center",children:(0,B.jsx)(w.Z,{px:5,py:10,children:(0,B.jsxs)(b.ZP,{alignItems:"center",flexDirection:"column",children:[(0,B.jsx)(Q.Hn,{imageUrl:"".concat(i.basePath,"/images/blocks/grey_block.webp")}),(0,B.jsx)(w.Z,{mb:3}),(0,B.jsxs)(k.ZP,{large:!0,children:["No ",u?"":"".concat((0,H.wX)(a)," "),"pipeline run failures for ",nn.s8[c]]})]})})}):r.map((function(n){var e=n.created_at,t=n.id,r=n.pipeline_uuid;return(0,B.jsx)(J.g,{children:(0,B.jsxs)(b.ZP,{alignItems:"center",children:[(0,B.jsx)(X(),{as:"/pipelines/".concat(r),href:"/pipelines/[pipeline]",passHref:!0,children:(0,B.jsx)(y.Z,{monospace:!0,sameColorAsText:!0,small:!0,children:r})}),(0,B.jsx)(k.ZP,{monospace:!0,small:!0,children:"\xa0>\xa0"}),(0,B.jsx)(X(),{as:"/pipelines/".concat(r,"/runs/").concat(t),href:"/pipelines/[pipeline]/runs/[run]",passHref:!0,children:(0,B.jsxs)(y.Z,{danger:!0,monospace:!0,sameColorAsText:!0,small:!0,children:["Run created on ",e]})})]})},"pipeline_run_".concat(t))}))})},cn=t(35686),un=t(98464),an=t(64657),ln=t(23780),sn=t(61556),dn=t(32929),fn=t(72473),pn={Icon:fn.LE,label:function(){return(0,H.kC)(nn.s8[nn.vk.TODAY])},uuid:nn.vk.TODAY},hn={Icon:fn.ks,label:function(){return(0,H.kC)(nn.s8[nn.vk.WEEK])},uuid:nn.vk.WEEK},mn={Icon:fn.zE,label:function(){return(0,H.kC)(nn.s8[nn.vk.MONTH])},uuid:nn.vk.MONTH},gn=[pn,hn,mn],xn=t(24491),vn=t(65458),bn=t(15610),Zn=t(72619),yn=t(89538);function jn(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function wn(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?jn(Object(t),!0).forEach((function(e){(0,o.Z)(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):jn(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}var kn={mt:2,mx:3},_n={refreshInterval:6e4,revalidateOnFocus:!1};function Pn(){var n,e=(0,en.iV)(),t=(0,s.useRouter)(),r=(0,l.useRef)(null),c=(0,l.useState)(pn),u=c[0],d=c[1],j=(0,l.useState)(!1),_=j[0],I=j[1],O=(0,l.useState)(null),M=O[0],T=O[1],S=null===u||void 0===u?void 0:u.uuid,N=(0,un.Z)(u);(0,l.useEffect)((function(){var n=e[$.i];n&&d(gn.find((function(e){return e.uuid===n})))}),[e,u,N]);var A=(0,l.useMemo)((function(){return(0,nn.jV)(S,{isoString:!0})}),[S]),E=(0,l.useMemo)((function(){return{group_by_pipeline_type:1,start_time:A}}),[A]),L=cn.ZP.monitor_stats.detail(sn.h.PIPELINE_RUN_COUNT,E,wn({},_n)),W=L.data,U=L.isValidating,X=L.mutate,K=cn.ZP.pipeline_runs.list({_limit:50,include_pipeline_type:1,"order_by[]":"created_at desc",start_timestamp:(0,nn.A5)(A),status:D.V.FAILED},wn({},_n)).data,J=(0,l.useMemo)((function(){return((null===K||void 0===K?void 0:K.pipeline_runs)||[]).filter((function(n){return null!==n.pipeline_type}))}),[null===K||void 0===K?void 0:K.pipeline_runs]),Q=(0,l.useMemo)((function(){return(0,Y.vM)(J,(function(n){return n.pipeline_type}))}),[J]),tn=Q.integration,rn=void 0===tn?[]:tn,fn=Q.python,hn=void 0===fn?[]:fn,mn=Q.streaming,jn=void 0===mn?[]:mn;(0,l.useEffect)((function(){N&&(null===u||void 0===u?void 0:u.uuid)!==(null===N||void 0===N?void 0:N.uuid)&&X()}),[X,u,N]);var Pn,In=(0,l.useMemo)((function(){return(0,nn.Y_)(nn.yD[S]+1)}),[S]),Cn=(0,l.useMemo)((function(){var n,e=(null===W||void 0===W||null===(n=W.monitor_stat)||void 0===n?void 0:n.stats)||{};return(0,xn.i)(e,In)}),[null===W||void 0===W||null===(n=W.monitor_stat)||void 0===n?void 0:n.stats,In]),On=Cn.pipelineRunCountByPipelineType,Mn=Cn.totalPipelineRunCount,Tn=Cn.ungroupedPipelineRunData,Sn=(0,l.useMemo)((function(){return(0,nn.Ro)(nn.yD[S],{endDateOnly:S===nn.vk.TODAY})}),[S]),Nn=(Pn=function(n){return t.push("/pipelines/[pipeline]/edit","/pipelines/".concat(n,"/edit"))},(0,a.Db)(cn.ZP.pipelines.useCreate(),{onSuccess:function(n){return(0,Zn.wD)(n,{callback:function(n){var e=n.pipeline.uuid;null===Pn||void 0===Pn||Pn(e)},onErrorCallback:function(n,e){return T({errors:e,response:n})}})}})),Bn=(0,i.Z)(Nn,2),An=Bn[0],En=Bn[1].isLoading,Rn=cn.ZP.projects.list(),Dn=Rn.data,Hn=Rn.mutate,Ln=(0,l.useMemo)((function(){var n;return null===Dn||void 0===Dn||null===(n=Dn.projects)||void 0===n?void 0:n[0]}),[Dn]),Yn=(0,yn.dd)((function(){return(0,B.jsx)(ln.BC,{children:(0,B.jsx)(g.Z,{contained:!0,onClickCustomTemplate:function(n){An({pipeline:{custom_template_uuid:null===n||void 0===n?void 0:n.template_uuid,name:(0,H.Y6)()}}).then((function(){zn()}))},showBreadcrumbs:!0,tabs:[dn.A2]})})}),{},[],{background:!0,uuid:"browse_templates"}),Fn=(0,i.Z)(Yn,2),qn=Fn[0],zn=Fn[1],Vn=(0,yn.dd)((function(n){var e=n.cancelButtonText,t=(n.header,n.onCancel),r=n.onSaveSuccess;return(0,B.jsx)(ln.BC,{children:(0,B.jsx)(V.Z,{cancelButtonText:e,contained:!0,header:(0,B.jsx)(w.Z,{mb:C.HN,children:(0,B.jsxs)(z.Z,{children:[(0,B.jsx)(k.ZP,{warning:!0,children:"You need to add an OpenAI API key to your project before you can generate pipelines using AI."}),(0,B.jsx)(w.Z,{mt:1,children:(0,B.jsxs)(k.ZP,{warning:!0,children:["Read ",(0,B.jsx)(y.Z,{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key",openNewWindow:!0,children:"OpenAI\u2019s documentation"})," to get your API key."]})})]})}),onCancel:function(){null===t||void 0===t||t(),Un()},onSaveSuccess:function(n){Hn(),Un(),null===r||void 0===r||r(n)}})})}),{},[Hn],{background:!0,uuid:"configure_project"}),Wn=(0,i.Z)(Vn,2),Gn=Wn[0],Un=Wn[1],Xn=(0,yn.dd)((function(){return(0,B.jsx)(ln.BC,{children:(0,B.jsx)(p.Z,{createPipeline:An,isLoading:En,onClose:Qn})})}),{},[An,En],{background:!0,disableClickOutside:!0,disableCloseButton:!0,uuid:"AI_modal"}),Kn=(0,i.Z)(Xn,2),Jn=Kn[0],Qn=Kn[1],$n=(0,l.useMemo)((function(){return(0,vn.d)(An,{showAIModal:function(){null!==Ln&&void 0!==Ln&&Ln.openai_api_key?Jn():Gn({onSaveSuccess:function(){Jn()}})},showBrowseTemplates:qn})}),[An,Ln,Jn,qn,Gn]),ne=(0,l.useMemo)((function(){return(0,B.jsx)(h.Z,{addButtonMenuOpen:_,addButtonMenuRef:r,isLoading:En,label:"New pipeline",menuItems:$n,onClick:function(){return I((function(n){return!n}))},onClickCallback:function(){return I(!1)}})}),[_,En,$n]);return(0,B.jsxs)(v.Z,{errors:M,setErrors:T,title:"Overview",uuid:"overview/index",children:[(0,B.jsx)(q.Z,{backgroundColor:P.Z.background.panel,children:(0,B.jsx)(w.Z,{py:2,children:(0,B.jsxs)(b.ZP,{alignItems:"center",children:[(0,B.jsx)(w.Z,{ml:3,children:ne}),(0,B.jsx)(x.Z,{onClickTab:function(n){var e=n.uuid;(0,bn.u7)((0,o.Z)({},$.i,e),{replaceParams:!0})},regularSizeText:!0,selectedTabUUID:S,tabs:gn})]})})}),(0,B.jsxs)(w.Z,{mx:3,my:2,children:[(0,B.jsxs)(Z.Z,{level:4,children:[S===nn.vk.TODAY&&"".concat((0,H.kC)(nn.vk.TODAY),": ").concat(Sn),S!==nn.vk.TODAY&&"".concat((0,H.kC)(nn.s8[S]),": ").concat(Sn)]}),(0,B.jsx)(w.Z,{mt:2,children:U?(0,B.jsx)(w.Z,{mx:2,my:11,children:(0,B.jsx)(G.Z,{inverted:!0})}):(0,B.jsx)(F,{pipelineRunCountByPipelineType:On})}),(0,B.jsxs)(w.Z,{mt:2,children:[(0,B.jsx)(w.Z,{ml:2,children:(0,B.jsxs)(k.ZP,{bold:!0,large:!0,children:[U?"--":Mn," total pipeline runs"]})}),(0,B.jsx)(w.Z,{mt:1,children:(0,B.jsx)(m.Z,{backgroundColor:P.Z.background.panel,colors:an.NU,data:Tn,getXValue:function(n){return n.date},height:200,keys:an.hu,margin:{bottom:30,left:35,right:0,top:10},tooltipLeftOffset:an.CD,xLabelFormat:function(n){return f()(n).format("MMM DD")}})})]})]}),(0,B.jsx)(w.Z,wn(wn({},kn),{},{children:(0,B.jsxs)(b.ZP,{alignItems:"center",justifyContent:"center",children:[(0,B.jsx)(on,{pipelineRuns:J,pipelineType:R.LM}),(0,B.jsx)(w.Z,{ml:2}),(0,B.jsx)(on,{pipelineRuns:hn,pipelineType:R.qL.PYTHON})]})})),(0,B.jsx)(w.Z,wn(wn({},kn),{},{children:(0,B.jsxs)(b.ZP,{alignItems:"center",justifyContent:"center",children:[(0,B.jsx)(on,{pipelineRuns:rn,pipelineType:R.qL.INTEGRATION}),(0,B.jsx)(w.Z,{ml:2}),(0,B.jsx)(on,{pipelineRuns:jn,pipelineType:R.qL.STREAMING})]})})),(0,B.jsx)(w.Z,{mb:2})]})}Pn.getInitialProps=(0,r.Z)(u().mark((function n(){return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",{});case 1:case"end":return n.stop()}}),n)})));var In=(0,W.Z)(Pn)},48277:function(n,e,t){"use strict";t.d(e,{JI:function(){return o},uf:function(){return i}});var r=t(75582),i=function(n){var e=String(n).split("."),t=(0,r.Z)(e,2),i=t[0],o=t[1];return"".concat(i.replace(/\B(?=(\d{3})+(?!\d))/g,",")).concat(o?".".concat(o):"")};function o(n){var e=Math.floor(Date.now()/1e3);return n>0?e-n:e}},56655:function(n,e,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/overview",function(){return t(95407)}])}},function(n){n.O(0,[844,9902,426,5264,8789,4259,5896,9055,2714,9696,8264,5499,5347,7586,5810,1543,9264,523,6987,5079,9774,2888,179],(function(){return e=56655,n(n.s=e);var e}));var e=n.O();_N_E=e}]);