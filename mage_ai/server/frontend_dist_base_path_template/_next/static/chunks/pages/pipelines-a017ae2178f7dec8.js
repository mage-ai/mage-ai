(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1221],{8666:function(e,n,i){"use strict";var t;i.d(n,{b:function(){return t}}),function(e){e.BLOCK="block",e.PIPELINE="pipeline"}(t||(t={}))},31882:function(e,n,i){"use strict";var t=i(38626),o=i(71180),r=i(55485),u=i(38276),l=i(30160),c=i(44897),s=i(72473),a=i(70515),d=i(61896),p=i(28598),f=t.default.div.withConfig({displayName:"Chip__ChipStyle",componentId:"sc-1ok73g-0"})(["display:inline-block;"," "," "," "," ",""],(function(e){return!e.primary&&"\n    background-color: ".concat((e.theme.background||c.Z.background).tag,";\n  ")}),(function(e){return e.primary&&"\n    background-color: ".concat((e.theme.chart||c.Z.chart).primary,";\n  ")}),(function(e){return!e.small&&"\n    border-radius: ".concat((a.iI+d.Al)/2,"px;\n    height: ").concat(1.5*a.iI+d.Al,"px;\n    padding: ").concat(a.iI/1.5,"px ").concat(1.25*a.iI,"px;\n  ")}),(function(e){return e.small&&"\n    border-radius: ".concat((a.iI/2+d.Al)/2,"px;\n    height: ").concat(d.Al+a.iI/2+2,"px;\n    padding: ").concat(a.iI/4,"px ").concat(a.iI,"px;\n  ")}),(function(e){return e.border&&"\n    border: 1px solid ".concat((e.theme.content||c.Z.content).muted,";\n  ")}));n.Z=function(e){var n=e.border,i=e.children,t=e.disabled,c=e.label,d=e.onClick,h=e.primary,v=e.small;return(0,p.jsx)(f,{border:n,primary:h,small:v,children:(0,p.jsx)(o.Z,{basic:!0,disabled:t,noBackground:!0,noPadding:!0,onClick:d,transparent:!0,children:(0,p.jsxs)(r.ZP,{alignItems:"center",children:[i,c&&(0,p.jsx)(l.ZP,{small:v,children:c}),!t&&d&&(0,p.jsx)(u.Z,{ml:1,children:(0,p.jsx)(s.x8,{default:h,muted:!h,size:v?a.iI:1.25*a.iI})})]})})})}},55620:function(e,n,i){"use strict";i.r(n),i.d(n,{default:function(){return Ze}});var t=i(77837),o=i(75582),r=i(82394),u=i(38860),l=i.n(u),c=i(12691),s=i.n(c),a=i(82684),d=i(83455),p=i(34376),f=i(52749),h=i(60523),v=i(71180),m=i(31882),g=i(94629),x=i(97618),b=i(55485),j=i(85854),Z=i(93369),C=i(65956),_=i(38276),w=i(30160),k=i(35576),y=i(17488),I=i(28598);var P=function(e){var n=e.description,i=e.isLoading,t=e.maxWidth,o=e.minWidth,r=e.noEmptyValue,u=e.onClose,l=e.onSave,c=e.textArea,s=e.title,d=e.value,p=(0,a.useRef)(null),f=(0,a.useState)(d),h=f[0],m=f[1],g=c?k.Z:y.Z;return(0,a.useEffect)((function(){var e;null===p||void 0===p||null===(e=p.current)||void 0===e||e.focus()}),[]),(0,I.jsxs)(C.Z,{maxWidth:t,minWidth:o,children:[(0,I.jsx)(w.ZP,{bold:!0,children:s}),(0,I.jsx)(_.Z,{mt:1,children:(0,I.jsx)(g,{monospace:!0,onChange:function(e){return m(e.target.value)},ref:p,rows:c?7:null,value:h})}),n&&(0,I.jsx)(_.Z,{mt:2,children:(0,I.jsx)(w.ZP,{muted:!0,small:!0,children:n})}),(0,I.jsx)(_.Z,{mt:3,children:(0,I.jsxs)(b.ZP,{children:[(0,I.jsx)(Z.ZP,{bold:!0,inline:!0,loading:i,onClick:function(){h===d||r&&!h?u():l(h)},outline:!0,primary:!0,uuid:"Inputs/InputModal/SaveInput",children:"Save"}),(0,I.jsx)(_.Z,{ml:1}),(0,I.jsx)(v.Z,{onClick:u,children:"Cancel"})]})})]})},T=i(48670),A=i(57653),S=i(55729),E=i(93808),O=i(82359),D=i(4190),M=i(75499),R=i(48381),G=i(69650),L=i(38013),N=i(35686),B=i(44897),U=i(42631),H=i(44425),z=i(72473),Y=i(23780),V=i(8666),W=i(46684),q=i(53808),$="pipeline_list_filters",K="pipeline_list_group_bys",Q="pipeline_list_sort_column_index",X="pipeline_list_sort_direction";function F(e){return(0,q.t8)($,e),e}function J(e){return(0,q.t8)(K,e),e}var ee=i(32929),ne=i(44898),ie=i(70515),te=i(30229),oe=i(81655),re=i(31608),ue=i(81728),le=i(3917),ce=i(72619),se=i(69419),ae=i(65458),de=i(15610),pe=i(86735),fe=i(42122),he=i(3314),ve=i(70320),me=i(89538);function ge(e,n){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),i.push.apply(i,t)}return i}function xe(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?ge(Object(i),!0).forEach((function(n){(0,r.Z)(e,n,i[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ge(Object(i)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))}))}return e}var be={borderRadius:U.BG,iconOnly:!0,noBackground:!0,noBorder:!0,outline:!0,padding:"4px"};function je(){var e=(0,p.useRouter)(),n=(0,a.useRef)(null),i=(0,a.useState)(null),t=i[0],u=i[1],l=(0,a.useState)(null),c=l[0],Z=l[1],k=(0,a.useState)(null),y=k[0],E=k[1],U=(0,a.useState)({}),ge=U[0],je=U[1],Ze=(0,a.useState)(null),Ce=Ze[0],_e=Ze[1],we=(0,se.iV)(),ke=(0,se.DQ)(we,[A.$1.STATUS,A.$1.TAG,A.$1.TYPE]),ye=N.ZP.pipelines.list(xe(xe({},ke),{},{include_schedules:1})),Ie=ye.data,Pe=ye.mutate,Te=(0,a.useMemo)((function(){var e=(null===Ie||void 0===Ie?void 0:Ie.pipelines)||[];if(y){var n=y.toLowerCase();e=e.filter((function(e){var i=e.name,t=e.description,o=e.uuid;return(null===i||void 0===i?void 0:i.toLowerCase().includes(n))||(null===o||void 0===o?void 0:o.toLowerCase().includes(n))||(null===t||void 0===t?void 0:t.toLowerCase().includes(n))}))}return e}),[null===Ie||void 0===Ie?void 0:Ie.pipelines,y]),Ae=(0,a.useMemo)((function(){return(0,pe.HK)(Te,(function(e){return e.uuid}))}),[Te]),Se=(0,a.useCallback)((function(e){var n,i,t,o;return null===e||void 0===e||null===(n=e[2])||void 0===n||null===(i=n.props)||void 0===i||null===(t=i.children)||void 0===t||null===(o=t.props)||void 0===o?void 0:o.children}),[]),Ee=(0,a.useMemo)((function(){return(null===c||void 0===c?void 0:c.length)>0?null===c||void 0===c?void 0:c.map((function(e){var n=Se(e);return null===Ae||void 0===Ae?void 0:Ae[n]})):Te}),[Se,c,Te,Ae]),Oe=(0,a.useMemo)((function(){return[1,2,3,4,5,6,8,9]}),[]),De=N.ZP.projects.list(),Me=De.data,Re=De.mutate,Ge=(0,a.useMemo)((function(){var e;return null===Me||void 0===Me||null===(e=Me.projects)||void 0===e?void 0:e[0]}),[Me]),Le=(0,a.useMemo)((function(){var e;return(0,ve.h)(null===Ge||void 0===Ge||null===(e=Ge.features)||void 0===e?void 0:e[O.d.LOCAL_TIMEZONE])}),[null===Ge||void 0===Ge?void 0:Ge.features]),Ne=Le?oe.O$:{},Be=null===we||void 0===we?void 0:we[oe.lG.SORT_COL_IDX],Ue=null===we||void 0===we?void 0:we[oe.lG.SORT_DIRECTION],He=(0,a.useMemo)((function(){return Be?{columnIndex:+Be,sortDirection:Ue||oe.sh.ASC}:void 0}),[Be,Ue]),ze=null===we||void 0===we?void 0:we[A.$1.GROUP];(0,a.useEffect)((function(){var e={};if(Be&&Oe.includes(+Be))(0,q.t8)(Q,Be),Ue&&(0,q.t8)(X,Ue);else{var n=(0,q.U2)(Q,null),i=(0,q.U2)(X,oe.sh.ASC);null!==n&&(e[oe.lG.SORT_COL_IDX]=n,e[oe.lG.SORT_DIRECTION]=i)}if(ze)J((0,r.Z)({},ze,!0));else{var t,u=(0,q.U2)(K,{});u&&Object.entries(u).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],r=n[1];!t&&r&&(t=i)})),t&&(e[A.$1.GROUP]=t)}if((0,fe.Qr)(ke)){var l={},c=(0,q.U2)($,{});c&&Object.entries(c).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],t=n[1];l[i]=[],Object.entries(t).forEach((function(e){var n=(0,o.Z)(e,2),t=n[0];n[1]&&l[i].push(t)}))})),(0,fe.Qr)(l)||(e=xe(xe({},e),l))}else{var s={};Object.entries(ke).forEach((function(e){var n=(0,o.Z)(e,2),i=n[0],t=n[1];s[i]={};var r,u=t;(Array.isArray(u)||(u=[u]),u&&Array.isArray(u))&&(null===(r=u)||void 0===r||r.forEach((function(e){s[i][e]=!0})))})),F(s)}(0,fe.Qr)(e)||(0,de.u7)(e,{pushHistory:!1})}),[ze,ke,Oe,Be,Ue]),(0,a.useEffect)((function(){(0,ce.bB)(Ie,_e)}),[Ie]);var Ye=function(e){return(0,d.Db)(N.ZP.pipelines.useCreate(),{onSuccess:function(n){return(0,ce.wD)(n,{callback:function(n){var i=n.pipeline.uuid;null===e||void 0===e||e(i)},onErrorCallback:function(e,n){return _e({errors:n,response:e})}})}})},Ve=Ye((function(n){return e.push("/pipelines/[pipeline]/edit","/pipelines/".concat(n,"/edit"))})),We=(0,o.Z)(Ve,2),qe=We[0],$e=We[1].isLoading,Ke=Ye((function(){return null===Pe||void 0===Pe?void 0:Pe()})),Qe=(0,o.Z)(Ke,2),Xe=Qe[0],Fe=Qe[1].isLoading,Je=(0,d.Db)((function(e){return N.ZP.pipelines.useUpdate(e.uuid)({pipeline:e})}),{onSuccess:function(e){return(0,ce.wD)(e,{callback:function(e){var n=e.pipeline.uuid;je((function(e){return xe(xe({},e),{},(0,r.Z)({},n,!1))})),Pe(),null===dn||void 0===dn||dn(),u(null)},onErrorCallback:function(e,n){var i,t=null===e||void 0===e||null===(i=e.url_parameters)||void 0===i?void 0:i.pk;je((function(e){return xe(xe({},e),{},(0,r.Z)({},t,!1))})),_e({errors:n,response:e})}})}}),en=(0,o.Z)(Je,2),nn=en[0],tn=en[1].isLoading,on=(0,d.Db)((function(e){return N.ZP.pipelines.useDelete(e)()}),{onSuccess:function(e){return(0,ce.wD)(e,{callback:function(){null===Pe||void 0===Pe||Pe()},onErrorCallback:function(e,n){return _e({errors:n,response:e})}})}}),rn=(0,o.Z)(on,2),un=rn[0],ln=rn[1].isLoading,cn=(0,me.dd)((function(e){var n=e.pipeline,i=e.pipelineDescription,o=e.pipelineName;return(0,I.jsx)(P,{isLoading:tn,minWidth:55*ie.iI,noEmptyValue:!!o,onClose:dn,onSave:function(e){var i=n||t;if(i){var u=i.uuid,l={uuid:u};o?l.name=e:l.description=e,je((function(e){return xe(xe({},e),{},(0,r.Z)({},u,!0))})),nn(l)}},textArea:!o,title:o?"Rename pipeline":"Edit description for ".concat(null===n||void 0===n?void 0:n.uuid),value:o||i})}),{},[tn,t],{background:!0,uuid:"rename_pipeline_and_save"}),sn=(0,o.Z)(cn,2),an=sn[0],dn=sn[1],pn=(0,me.dd)((function(){return(0,I.jsx)(Y.BC,{children:(0,I.jsx)(h.Z,{contained:!0,onClickCustomTemplate:function(e){qe({pipeline:{custom_template_uuid:null===e||void 0===e?void 0:e.template_uuid,name:(0,ue.Y6)()}}).then((function(){vn()}))},showBreadcrumbs:!0,tabs:[ee.A2]})})}),{},[qe],{background:!0,uuid:"browse_templates"}),fn=(0,o.Z)(pn,2),hn=fn[0],vn=fn[1],mn=(0,me.dd)((function(e){var n=e.cancelButtonText,i=(e.header,e.onCancel),t=e.onSaveSuccess;return(0,I.jsx)(Y.BC,{children:(0,I.jsx)(S.Z,{cancelButtonText:n,contained:!0,header:(0,I.jsx)(_.Z,{mb:ie.HN,children:(0,I.jsxs)(C.Z,{children:[(0,I.jsx)(w.ZP,{warning:!0,children:"You need to add an OpenAI API key to your project before you can generate pipelines using AI."}),(0,I.jsx)(_.Z,{mt:1,children:(0,I.jsxs)(w.ZP,{warning:!0,children:["Read ",(0,I.jsx)(T.Z,{href:"https://help.openai.com/en/articles/4936850-where-do-i-find-my-secret-api-key",openNewWindow:!0,children:"OpenAI\u2019s documentation"})," to get your API key."]})})]})}),onCancel:function(){null===i||void 0===i||i(),bn()},onSaveSuccess:function(e){Re(),bn(),null===t||void 0===t||t(e)}})})}),{},[Re],{background:!0,uuid:"configure_project"}),gn=(0,o.Z)(mn,2),xn=gn[0],bn=gn[1],jn=(0,me.dd)((function(){return(0,I.jsx)(Y.BC,{children:(0,I.jsx)(f.Z,{createPipeline:qe,isLoading:$e,onClose:_n})})}),{},[qe,$e],{background:!0,disableClickOutside:!0,disableCloseButton:!0,uuid:"AI_modal"}),Zn=(0,o.Z)(jn,2),Cn=Zn[0],_n=Zn[1],wn=(0,a.useMemo)((function(){return(0,ae.d)(qe,{showAIModal:function(){null!==Ge&&void 0!==Ge&&Ge.openai_api_key?Cn():xn({onSaveSuccess:function(){Cn()}})},showBrowseTemplates:hn})}),[qe,Ge,Cn,hn,xn]),kn=N.ZP.tags.list().data,yn=(0,a.useMemo)((function(){return(0,pe.YC)((null===kn||void 0===kn?void 0:kn.tags)||[],(function(e){return e.uuid}))}),[kn]),In=(0,a.useMemo)((function(){return(0,I.jsx)(L.Z,{addButtonProps:{isLoading:$e,label:"New",menuItems:wn},deleteRowProps:{confirmationMessage:"This is irreversible and will immediately delete everything associated           with the pipeline, including its blocks, triggers, runs, logs, and history.",isLoading:ln,item:"pipeline",onDelete:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null===t||void 0===t?void 0:t.uuid,"?"))&&un(null===t||void 0===t?void 0:t.uuid)}},extraActionButtonProps:{Icon:z.oX,confirmationDescription:"Cloning the selected pipeline will create a new pipeline with the same           configuration and code blocks. The blocks use the same block files as the original pipeline.           Pipeline triggers, runs, backfills, and logs are not copied over to the new pipeline.",confirmationMessage:"Do you want to clone the pipeline ".concat(null===t||void 0===t?void 0:t.uuid,"?"),isLoading:Fe,onClick:function(){return Xe({pipeline:{clone_pipeline_uuid:null===t||void 0===t?void 0:t.uuid}})},openConfirmationDialogue:!0,tooltip:"Clone pipeline"},filterOptions:{status:Object.values(A.QK),tag:yn.map((function(e){return e.uuid})),type:Object.values(A.qL)},filterValueLabelMapping:{tag:yn.reduce((function(e,n){var i=n.uuid;return xe(xe({},e),{},(0,r.Z)({},i,i))}),{}),type:A.G7},groupButtonProps:{groupByLabel:ze,menuItems:[{beforeIcon:ze===A.r0.STATUS?(0,I.jsx)(z.Jr,{fill:B.Z.content.default,size:1.5*ie.iI}):(0,I.jsx)(z.Cd,{muted:!0,size:1.5*ie.iI}),label:function(){return(0,ue.kC)(A.r0.STATUS)},onClick:function(){var e=ze===A.r0.STATUS?null:A.r0.STATUS;e||J({}),(0,de.u7)((0,r.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Status"},{beforeIcon:ze===A.r0.TAG?(0,I.jsx)(z.Jr,{fill:B.Z.content.default,size:1.5*ie.iI}):(0,I.jsx)(z.Cd,{muted:!0,size:1.5*ie.iI}),label:function(){return(0,ue.kC)(A.r0.TAG)},onClick:function(){var e=ze===A.r0.TAG?null:A.r0.TAG;e||J({}),(0,de.u7)((0,r.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Tag"},{beforeIcon:ze===A.r0.TYPE?(0,I.jsx)(z.Jr,{fill:B.Z.content.default,size:1.5*ie.iI}):(0,I.jsx)(z.Cd,{muted:!0,size:1.5*ie.iI}),label:function(){return(0,ue.kC)(A.r0.TYPE)},onClick:function(){var e=ze===A.r0.TYPE?null:A.r0.TYPE;e||J({}),(0,de.u7)((0,r.Z)({},A.$1.GROUP,e),{pushHistory:!0})},uuid:"Pipelines/GroupMenu/Type"}]},moreActionsMenuItems:[{label:function(){return"Rename pipeline"},onClick:function(){return an({pipelineName:null===t||void 0===t?void 0:t.name})},uuid:"Pipelines/MoreActionsMenu/Rename"},{label:function(){return"Edit description"},onClick:function(){return an({pipeline:t,pipelineDescription:null===t||void 0===t?void 0:t.description})},uuid:"Pipelines/MoreActionsMenu/EditDescription"}],onClickFilterDefaults:function(){F({}),e.push("/pipelines")},onFilterApply:function(e,n){Object.values(n).every((function(e){return!(null!==e&&void 0!==e&&e.length)}))&&F({})},query:ke,searchProps:{onChange:E,value:y},selectedRowId:null===t||void 0===t?void 0:t.uuid,setSelectedRow:u})}),[Xe,un,ze,Fe,$e,ln,wn,ke,e,y,t,an,yn]),Pn=(0,Y.VI)(null,{},[],{uuid:"pipelines/list"}),Tn=(0,o.Z)(Pn,1)[0],An=(0,d.Db)(N.ZP.projects.useUpdate(null===Ge||void 0===Ge?void 0:Ge.name),{onSuccess:function(e){return(0,ce.wD)(e,{callback:function(){Re()},onErrorCallback:function(e,n){return Tn({errors:n,response:e})}})}}),Sn=(0,o.Z)(An,2),En=Sn[0],On=Sn[1].isLoading,Dn=(0,a.useCallback)((function(e){return En({project:e})}),[En]),Mn=(0,me.dd)((function(){return(0,I.jsxs)(C.Z,{maxWidth:60*ie.iI,children:[(0,I.jsx)(_.Z,{mb:1,children:(0,I.jsx)(j.Z,{children:"Help improve Mage"})}),(0,I.jsx)(_.Z,{mb:ie.cd,children:(0,I.jsx)(w.ZP,{default:!0,children:"Please contribute usage statistics to help improve the developer experience for you and everyone in the community \ud83e\udd1d."})}),(0,I.jsx)(_.Z,{mb:ie.cd,children:(0,I.jsx)(C.Z,{success:!0,children:(0,I.jsxs)(b.ZP,{alignItems:"center",children:[(0,I.jsx)(z.Yo,{size:5*ie.iI,success:!0}),(0,I.jsx)(_.Z,{mr:1}),(0,I.jsx)(x.Z,{children:(0,I.jsx)(w.ZP,{children:"All usage statistics are completely anonymous. It\u2019s impossible for Mage to know which statistics belongs to whom."})})]})})}),(0,I.jsx)(_.Z,{mb:ie.cd,children:(0,I.jsxs)(w.ZP,{default:!0,children:["By opting into sending usage statistics to ",(0,I.jsx)(T.Z,{href:"https://www.mage.ai",openNewWindow:!0,children:"Mage"}),", it\u2019ll help the team and community of contributors (",(0,I.jsx)(T.Z,{href:"https://www.mage.ai/chat",openNewWindow:!0,children:"Magers"}),") learn what\u2019s going wrong with the tool and what improvements can be made."]})}),(0,I.jsx)(_.Z,{mb:ie.cd,children:(0,I.jsx)(w.ZP,{default:!0,children:"In addition to helping reduce potential errors, you\u2019ll help inform which features are useful and which need work."})}),(0,I.jsx)(_.Z,{mb:ie.cd,children:(0,I.jsxs)(b.ZP,{alignItems:"center",justifyContent:"space-between",children:[(0,I.jsx)(w.ZP,{bold:!0,children:"I want to help make Mage more powerful for everyone"}),(0,I.jsx)(_.Z,{mr:ie.cd}),(0,I.jsx)(G.Z,{checked:!0,onCheck:function(){window.confirm("Are you sure you don\u2019t want to help everyone in the community?")&&Dn({help_improve_mage:!1}).then((function(){return Ln()}))}})]})}),On&&(0,I.jsx)(_.Z,{mb:ie.cd,children:(0,I.jsx)(D.Z,{inverted:!0})}),(0,I.jsx)(_.Z,{mb:ie.cd,children:(0,I.jsxs)(w.ZP,{muted:!0,small:!0,children:["To learn more about how this works, please check out the ",(0,I.jsx)(T.Z,{href:"https://docs.mage.ai/contributing/statistics/overview",openNewWindow:!0,small:!0,children:"documentation"}),"."]})}),(0,I.jsx)(v.Z,{onClick:function(){return Dn({help_improve_mage:!0}).then((function(){return Ln()}))},secondary:!0,children:"Close"})]})}),{},[Ge],{background:!0,hideCallback:function(){Dn({help_improve_mage:!0})},uuid:"help_mage"}),Rn=(0,o.Z)(Mn,2),Gn=Rn[0],Ln=Rn[1];(0,a.useEffect)((function(){Ge&&null===(null===Ge||void 0===Ge?void 0:Ge.help_improve_mage)&&Gn()}),[Ge,Gn]);var Nn=(0,a.useMemo)((function(){var e={};null===Ee||void 0===Ee||Ee.forEach((function(n,i){var t=null===n||void 0===n?void 0:n[ze];if(A.r0.STATUS===ze){var o=(n||{}).schedules,r=void 0===o?[]:o,u=r.length;t=r.find((function(e){var n=e.status;return te.fq.ACTIVE===n}))?A.QK.ACTIVE:u>=1?A.QK.INACTIVE:A.QK.NO_SCHEDULES}else if(A.r0.TAG===ze){t=(null===n||void 0===n?void 0:n.tags)?(0,pe.YC)(n.tags,(function(e){return e})).join(", "):""}e[t]||(e[t]=[]),e[t].push(i)}));var n=[],i=[];return A.r0.STATUS===ze?Object.values(A.QK).forEach((function(t){n.push(e[t]),i.push((0,ue.vg)(t))})):A.r0.TAG===ze?(0,pe.YC)(Object.keys(e),(function(e){return e})).forEach((function(t){n.push(e[t]),t?i.push(t.split(", ").map((function(e,n){return(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{style:{marginLeft:n>=1?4:0}},"".concat(e,"-").concat(n,"-spacing")),(0,I.jsx)(m.Z,{small:!0,children:(0,I.jsx)(w.ZP,{children:e})},"".concat(e,"-").concat(n))]})}))):i.push("No tags")})):A.r0.TYPE===ze&&Object.values(A.qL).forEach((function(t){n.push(e[t]),i.push(A.G7[t])})),{rowGroupHeaders:i,rowsGroupedByIndex:n}}),[ze,Ee]),Bn=Nn.rowGroupHeaders,Un=Nn.rowsGroupedByIndex;return(0,I.jsx)(g.Z,{errors:Ce,setErrors:_e,subheaderChildren:In,title:"Pipelines",uuid:"pipelines/index",children:0===(null===Te||void 0===Te?void 0:Te.length)?(0,I.jsx)(_.Z,{px:3,py:1,children:Ie?(0,I.jsx)(w.ZP,{bold:!0,default:!0,monospace:!0,muted:!0,children:"No pipelines available"}):(0,I.jsx)(D.Z,{inverted:!0,large:!0})}):(0,I.jsx)(re.cl,{includePadding:!!ze,maxHeight:"calc(100vh - ".concat(W.Mz+74,"px)"),children:(0,I.jsx)(M.Z,{columnFlex:[null,null,null,2,null,null,null,1,null,null,null],columns:[{label:function(){return""},uuid:"action"},{uuid:(0,ue.kC)(A.r0.STATUS)},{uuid:"Name"},{uuid:"Description"},{uuid:(0,ue.kC)(A.r0.TYPE)},xe(xe({},Ne),{},{uuid:"Updated at"}),xe(xe({},Ne),{},{uuid:"Created at"}),{uuid:"Tags"},{uuid:"Blocks"},{uuid:"Triggers"},{center:!0,label:function(){return""},uuid:"Actions"}],defaultSortColumnIndex:2,getUniqueRowIdentifier:Se,isSelectedRow:function(e){var n;return(null===(n=Ee[e])||void 0===n?void 0:n.uuid)===(null===t||void 0===t?void 0:t.uuid)},localStorageKeySortColIdx:Q,localStorageKeySortDirection:X,onClickRow:function(e){return u((function(n){var i=Ee[e];return(null===n||void 0===n?void 0:n.uuid)!==(null===i||void 0===i?void 0:i.uuid)?i:null}))},onDoubleClickRow:function(n){e.push("/pipelines/[pipeline]/edit","/pipelines/".concat(Ee[n].uuid,"/edit"))},ref:n,renderRightClickMenuItems:function(n){var i=Ee[n];return[{label:function(){return"Edit description"},onClick:function(){return an({pipeline:i,pipelineDescription:null===i||void 0===i?void 0:i.description})},uuid:"edit_description"},{label:function(){return"Rename"},onClick:function(){return an({pipeline:i,pipelineName:null===i||void 0===i?void 0:i.name})},uuid:"rename"},{label:function(){return"Clone"},onClick:function(){return Xe({pipeline:{clone_pipeline_uuid:null===i||void 0===i?void 0:i.uuid}})},uuid:"clone"},{label:function(){return"Add/Remove tags"},onClick:function(){e.push("/pipelines/[pipeline]/settings","/pipelines/".concat(null===i||void 0===i?void 0:i.uuid,"/settings"))},uuid:"add_tags"},{label:function(){return"Create template"},onClick:function(){e.push("/templates?object_type=".concat(ne.R,"&new=1&pipeline_uuid=").concat(null===i||void 0===i?void 0:i.uuid))},uuid:"create_custom_template"},{label:function(){return"Create global data product"},onClick:function(){e.push("/global-data-products?object_type=".concat(V.b.PIPELINE,"&new=1&object_uuid=").concat(null===i||void 0===i?void 0:i.uuid))},uuid:"create_global_data_product"},{label:function(){return"Delete"},onClick:function(){window.confirm("Are you sure you want to delete pipeline ".concat(null===i||void 0===i?void 0:i.uuid,"?"))&&un(null===i||void 0===i?void 0:i.uuid)},uuid:"delete"}]},rightClickMenuWidth:25*ie.iI,rowGroupHeaders:Bn,rows:Te.map((function(n,i){var t=n.blocks,o=n.created_at,u=n.description,l=n.schedules,c=n.tags,a=n.type,d=n.updated_at,p=n.uuid,f=t.filter((function(e){var n=e.type;return H.tf.SCRATCHPAD!==n})).length,h=l.length,m=l.find((function(e){var n=e.status;return te.fq.ACTIVE===n})),g=(0,I.jsx)("div",{children:(0,I.jsx)(R.Z,{tags:null===c||void 0===c?void 0:c.map((function(e){return{uuid:e}}))})},"pipeline_tags_".concat(i));return[h>=1||ge[p]?(0,I.jsx)(v.Z,{iconOnly:!0,loading:!!ge[p],noBackground:!0,noBorder:!0,noPadding:!0,onClick:function(e){(0,he.j)(e),je((function(e){return xe(xe({},e),{},(0,r.Z)({},p,!0))})),nn(xe(xe({},n),{},{status:m?te.fq.INACTIVE:te.fq.ACTIVE}))},children:m?(0,I.jsx)(z.dz,{muted:!0,size:2*ie.iI}):(0,I.jsx)(z.Py,{default:!0,size:2*ie.iI})}):null,(0,I.jsx)(w.ZP,{default:!m,monospace:!0,success:!!m,children:m?te.fq.ACTIVE:h>=1?te.fq.INACTIVE:"no schedules"},"pipeline_status_".concat(i)),(0,I.jsx)(s(),{as:"/pipelines/".concat(p),href:"/pipelines/[pipeline]",passHref:!0,children:(0,I.jsx)(T.Z,{sameColorAsText:!0,children:p})},"pipeline_name_".concat(i)),(0,I.jsx)(w.ZP,{default:!0,preWrap:!0,title:u,children:u},"pipeline_description_".concat(i)),(0,I.jsx)(w.ZP,{children:A.G7[a]},"pipeline_type_".concat(i)),(0,I.jsx)(w.ZP,{monospace:!0,small:!0,title:d?"UTC: ".concat(d):null,children:d?(0,le.XG)(d,Le):(0,I.jsx)(I.Fragment,{children:"\u2014"})},"pipeline_updated_at_".concat(i)),(0,I.jsx)(w.ZP,{monospace:!0,small:!0,title:o?"UTC: ".concat(o.slice(0,19)):null,children:o?(0,le.XG)(o.slice(0,19),Le):(0,I.jsx)(I.Fragment,{children:"\u2014"})},"pipeline_created_at_".concat(i)),g,(0,I.jsx)(w.ZP,{default:0===f,monospace:!0,children:f},"pipeline_block_count_".concat(i)),(0,I.jsx)(w.ZP,{default:0===h,monospace:!0,children:h},"pipeline_trigger_count_".concat(i)),(0,I.jsxs)(x.Z,{flex:1,justifyContent:"flex-end",children:[(0,I.jsx)(v.Z,xe(xe({},be),{},{onClick:function(){e.push("/pipelines/[pipeline]","/pipelines/".concat(p))},title:"Detail",children:(0,I.jsx)(z.UY,{default:!0,size:2*ie.iI})})),(0,I.jsx)(_.Z,{mr:1}),(0,I.jsx)(v.Z,xe(xe({},be),{},{onClick:function(){e.push("/pipelines/[pipeline]/logs","/pipelines/".concat(p,"/logs"))},title:"Logs",children:(0,I.jsx)(z.$B,{default:!0,size:2*ie.iI})}))]},"chevron_icon_".concat(i))]})),rowsGroupedByIndex:Un,setRowsSorted:Z,sortableColumnIndexes:Oe,sortedColumn:He,stickyHeader:!0})})})}je.getInitialProps=(0,t.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var Ze=(0,E.Z)(je)},79274:function(e,n,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipelines",function(){return i(55620)}])}},function(e){e.O(0,[844,9902,426,8789,5264,4259,341,4754,6358,9696,8264,5499,1845,6285,5810,3859,2407,9264,2677,5422,9774,2888,179],(function(){return n=79274,e(e.s=n);var n}));var n=e.O();_N_E=n}]);