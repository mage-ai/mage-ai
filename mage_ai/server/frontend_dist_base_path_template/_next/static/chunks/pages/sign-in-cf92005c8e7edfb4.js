(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1312],{66316:function(e,t,r){"use strict";r.d(t,{Z:function(){return j}});var n=r(82394),i=r(70613),o=r(31557),c=r(33591),u=r(38276),s=r(70515),a=r(28598);var l=function(e){var t=e.children,r=e.width,n=void 0===r?12:r;return(0,a.jsx)(u.Z,{px:s.zC,children:(0,a.jsx)(c.Row,{children:(0,a.jsx)(c.Col,{lg:n,md:Math.min(12,Math.round(1.5*(12-n))),sm:Math.min(12,Math.round(1.75*(12-n))),xs:12,children:t})})})},d=r(9518),f=r(46684),p=d.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-jcgu5l-0"})(["padding-top:","px;",""],f.Mz,(function(e){return e.fullHeight&&"\n    height: calc(100vh);\n  "}));function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var j=function(e){var t=e.children,r=e.headerProps,n=e.title;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.Z,{title:n}),(0,a.jsx)(o.Z,g({},r)),(0,a.jsx)(l,{children:(0,a.jsx)(p,{fullHeight:!0,children:t})})]})}},46568:function(e,t,r){"use strict";var n=r(82394),i=r(26304),o=(r(82684),r(33591)),c=r(28598),u=["children","fullHeight","gutter","style"];function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.children,r=e.fullHeight,n=e.gutter,s=e.style,l=void 0===s?{}:s,d=(0,i.Z)(e,u),f=a({},l);return n&&(f.paddingLeft=n,f.paddingRight=f.paddingLeft),r&&(f.height="100%"),(0,c.jsx)(o.Col,a(a({},d),{},{style:f,children:t}))}},82682:function(e,t,r){"use strict";var n=r(82394),i=r(26304),o=r(82684),c=r(33591),u=r(28598),s=["children","fullHeight","gutter","justifyContent","style"];function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}t.Z=function(e){var t=e.children,r=e.fullHeight,n=e.gutter,a=e.justifyContent,d=e.style,f=void 0===d?{}:d,p=(0,i.Z)(e,s),h=l({},f);return n&&(h.marginLeft=-1*n,h.marginRight=h.marginLeft),r&&(h.height="100%"),(0,u.jsx)(c.Row,l(l({},p),{},{justifyContent:a,style:h,children:o.Children.map(t,(function(e,t){return e&&o.cloneElement(e,{gutter:n,key:t})}))}))}},94542:function(e,t,r){"use strict";r.d(t,{J:function(){return o},X:function(){return c}});var n=r(46568),i=r(82682),o=n.Z,c=i.Z},91769:function(e,t,r){"use strict";r.d(t,{f:function(){return v},h:function(){return j}});var n=r(82394),i=r(82684),o=r(34376),c=r(68562),u=r(72473),s=r(70515),a=r(69419),l=r(53808),d=r(28598);var f=function(e){var t=e.oauthResponse,r=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return t||{}}),[t]),f=n.url,p=n.redirect_query_params,h=void 0===p?{}:p;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(u.GoogleIcon,{size:2*s.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(f).state;(0,l.t8)(e,h),r.push(f)},uuid:"SignForm/google",children:"Sign in with Google"})})};var p=function(e){var t=e.oauthResponse,r=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return t||{}}),[t]),f=n.url,p=n.redirect_query_params,h=void 0===p?{}:p;return(0,d.jsx)(d.Fragment,{children:f&&(0,d.jsx)(c.ZP,{beforeElement:(0,d.jsx)(u.MicrosoftIcon,{size:2*s.iI}),bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(f).state;h&&(0,l.t8)(e,h),r.push(f)},uuid:"SignForm/active_directory",children:"Sign in with Microsoft"})})};var h=function(e){var t=e.oauthResponse,r=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return t||{}}),[t]),u=n.url,s=n.redirect_query_params,f=void 0===s?{}:s;return(0,d.jsx)(d.Fragment,{children:u&&(0,d.jsx)(c.ZP,{bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(u).state;(0,l.t8)(e,f),r.push(u)},uuid:"SignForm/oidc_generic",children:"Sign in with OIDC"})})};var g,j,b=function(e){var t=e.oauthResponse,r=(0,o.useRouter)(),n=(0,i.useMemo)((function(){return t||{}}),[t]),u=n.url,s=n.redirect_query_params,f=void 0===s?{}:s;return(0,d.jsx)(d.Fragment,{children:u&&(0,d.jsx)(c.ZP,{bold:!0,inline:!0,onClick:function(){var e=(0,a.iV)(u).state;(0,l.t8)(e,f),r.push(u)},uuid:"SignForm/okta",children:"Sign in with Okta"})})};!function(e){e.ACTIVE_DIRECTORY="active_directory",e.AZURE_DEVOPS="azure_devops",e.BITBUCKET="bitbucket",e.GITHUB="github",e.GITLAB="gitlab",e.GOOGLE="google",e.OIDC_GENERIC="oidc_generic",e.OKTA="okta"}(j||(j={}));var v=(g={},(0,n.Z)(g,j.ACTIVE_DIRECTORY,p),(0,n.Z)(g,j.GOOGLE,f),(0,n.Z)(g,j.OIDC_GENERIC,h),(0,n.Z)(g,j.OKTA,b),g)},13180:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return L}});var n=r(77837),i=r(38860),o=r.n(i),c=r(66316),u=r(82394),s=r(75582),a=r(82684),l=r(83455),d=r(34376),f=r(40761),p=r(55485),h=r(85854),g=r(68562),j=r(38276),b=r(30160),v=r(17488),O=r(35686),y=r(9518),m=r(44897),x=r(42631),w=r(70515),P=y.default.div.withConfig({displayName:"indexstyle__ContainerStyle",componentId:"sc-641xul-0"})(["border-radius:","px;padding-bottom:","px;padding-left:","px;padding-right:","px;padding-top:","px;width:100%;",""],x.TR,21*w.iI,w.Vj,w.Vj,w.Vj,(function(e){return"\n    background-color: ".concat((e.theme.background||m.Z.background).panel,";\n  ")})),Z=y.default.div.withConfig({displayName:"indexstyle__BackgroundImageStyle",componentId:"sc-641xul-1"})(["border-radius:","px;font-size:0;overflow:hidden;",""],x.D7,(function(e){return e.src&&"\n    background-image: url(".concat(e.src,");\n    background-size: cover;\n    background-repeat: no-repeat;\n    height: 100%;\n    width: 100%;\n  ")})),C=r(94542),_=r(39643),k=r(91769),E=r(42122),S=r(72619),D=r(42041),R=r(69419),I=r(50178),M=r(28598);function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(Object(r),!0).forEach((function(t){(0,u.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var V="email",F="password";var G=function(e){var t=e.title,r=(0,d.useRouter)(),n=(0,a.useState)(null),i=n[0],o=n[1],c=(0,a.useState)({}),y=c[0],m=c[1],x=(0,l.Db)(O.ZP.sessions.useCreate(),{onSuccess:function(e){return(0,S.wD)(e,{callback:function(e){var t=e.session,n=t.token,i=t.user;(0,I.av)(i),f.Z.storeToken(n,(function(){var e="".concat(r.basePath,"/"),t=(0,R.iV)(window.location.href),n=(0,R.uM)((0,E.gR)(t,["redirect_url","access_token","provider"]));t.redirect_url&&(e="".concat(t.redirect_url,"?").concat(n)),window.location.href=e}))},onErrorCallback:function(e){var t=e.error;o(t)}})}}),T=(0,s.Z)(x,2),G=T[0],H=T[1].isLoading,L=(0,a.useCallback)((function(e){return f.Z.logout((function(){return G(e)}))}),[G]),N=O.ZP.oauths.list({redirect_uri:encodeURIComponent(window.location.href)}).data,A=(0,a.useMemo)((function(){var e;return null==N||null===(e=N.oauths)||void 0===e?void 0:e.reduce((function(e,t){return e[t.provider]=t,e}),{})}),[N]),U=(0,R.iV)()||{},q=U.access_token,B=U.provider;return(0,a.useEffect)((function(){var e;q&&B&&G({session:(e={},(0,u.Z)(e,"provider",B),(0,u.Z)(e,"token",q),e)})}),[q,G,B]),(0,M.jsxs)(C.X,{fullHeight:!0,children:[(0,M.jsx)(C.J,{lg:6,md:12,children:(0,M.jsx)(p.ZP,{flexDirection:"column",fullHeight:!0,fullWidth:!0,justifyContent:"center",children:(0,M.jsx)(j.Z,{px:{xl:5*w.zC,xs:w.zC},py:w.zC,children:(0,M.jsxs)(P,{children:[(0,M.jsx)(h.Z,{yellow:!0,children:t}),(0,M.jsxs)("form",{children:[(0,M.jsxs)(j.Z,{mt:3,children:[(0,M.jsx)(v.Z,{autoComplete:"username",label:"Email",large:!0,meta:{error:" ",touched:!!i},onChange:function(e){return m((function(t){return z(z({},t),{},(0,u.Z)({},V,e.target.value))}))},primary:!i,value:y[V]}),(0,M.jsx)(j.Z,{mt:2,children:(0,M.jsx)(v.Z,{autoComplete:"current-password",label:"Password",large:!0,meta:{error:" ",touched:!!i},onChange:function(e){return m((function(t){return z(z({},t),{},(0,u.Z)({},F,e.target.value))}))},primary:!i,type:"password",value:y[F]})})]}),i&&(0,M.jsx)(j.Z,{mt:2,children:(0,M.jsx)(b.ZP,{danger:!0,children:i.message})}),(0,M.jsx)(j.Z,{mt:3,children:(0,M.jsx)(g.ZP,{bold:!0,inline:!0,keyTextGroups:[[_.Lz]],keyboardShortcutValidation:function(e){var t=e.keyMapping;return(0,D.y)([_.Uq],t)},large:!0,loading:H,noHoverUnderline:!0,onClick:function(){return L({session:y})},selected:!0,uuid:"SignForm/action",wind:!0,children:"Sign into Mage"})}),Object.entries(k.f).map((function(e){var t=(0,s.Z)(e,2),r=t[0],n=t[1];return(0,M.jsx)(M.Fragment,{children:(null==A?void 0:A[r])&&(0,M.jsx)(j.Z,{mt:4,children:(0,M.jsx)(n,{oauthResponse:null==A?void 0:A[r]})})})}))]})]})})})}),(0,M.jsx)(C.J,{hiddenLgDown:!0,lg:6,style:{flex:1},children:(0,M.jsx)(j.Z,{fullHeight:!0,fullWidth:!0,px:w.zC,py:w.zC+8,children:(0,M.jsx)(Z,{src:"".concat(r.basePath,"/images/sessions/abstract.png"),children:"Sign in abstract image"})})})]})};function H(){return(0,M.jsx)(c.Z,{headerProps:{hideActions:!0},title:"Sign in",children:(0,M.jsx)(G,{title:"👋 Sign in"})})}H.getInitialProps=(0,n.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)})));var L=H},6821:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sign-in",function(){return r(13180)}])}},function(e){e.O(0,[1557,9774,2888,179],(function(){return t=6821,e(e.s=t);var t}));var t=e.O();_N_E=t}]);