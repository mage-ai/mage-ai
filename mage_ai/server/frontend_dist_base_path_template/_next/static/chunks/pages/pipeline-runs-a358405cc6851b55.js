(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1009],{1210:function(e,n,t){"use strict";t.d(n,{Z:function(){return _}});var r=t(82394),i=t(21831),o=t(82684),s=t(47999),u=t(49894),l=t(93461),c=t(57384),a=t(41424),d=t(72454),f=t(28598);function p(e,n){var t=e.children;return(0,f.jsx)(d.HS,{ref:n,children:t})}var h=o.forwardRef(p),v=t(32063),j=t(85019),b=t(82531),g=t(66166),m=t(3055),x=t(49125),O=t(91427),Z=t(24141);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var _=function(e){var n,t=e.addProjectBreadcrumbToCustomBreadcrumbs,r=e.after,p=e.afterHidden,P=e.afterWidth,_=e.afterWidthOverride,k=e.before,y=e.beforeWidth,C=e.breadcrumbs,E=e.children,I=e.errors,A=e.headerMenuItems,M=e.headerOffset,D=e.mainContainerHeader,N=e.navigationItems,S=e.setErrors,B=e.subheaderChildren,F=e.title,L=e.uuid,R=(0,Z.i)().width,H="dashboard_after_width_".concat(L),T="dashboard_before_width_".concat(L),W=(0,o.useRef)(null),U=(0,o.useState)(_?P:(0,O.U2)(H,P)),z=U[0],Q=U[1],K=(0,o.useState)(!1),V=K[0],X=K[1],G=(0,o.useState)(k?Math.max((0,O.U2)(T,y),13*x.iI):null),$=G[0],q=G[1],J=(0,o.useState)(!1),Y=J[0],ee=J[1],ne=(0,o.useState)(null)[1],te=b.ZP.projects.list({},{revalidateOnFocus:!1}).data,re=null===te||void 0===te?void 0:te.projects,ie={label:function(){var e;return null===re||void 0===re||null===(e=re[0])||void 0===e?void 0:e.name},linkProps:{href:"/"}},oe=[];C?(t&&oe.push(ie),oe.push.apply(oe,(0,i.Z)(C))):(null===re||void 0===re?void 0:re.length)>=1&&oe.push.apply(oe,[ie,{bold:!0,label:function(){return F}}]),(0,o.useEffect)((function(){null===W||void 0===W||!W.current||V||Y||null===ne||void 0===ne||ne(W.current.getBoundingClientRect().width)}),[V,z,Y,$,W,ne,R]),(0,o.useEffect)((function(){V||(0,O.t8)(H,z)}),[p,V,z,H]),(0,o.useEffect)((function(){Y||(0,O.t8)(T,$)}),[Y,$,T]);var se=(0,g.Z)(P);return(0,o.useEffect)((function(){_&&se!==P&&Q(P)}),[_,P,se]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(c.Z,{title:F}),(0,f.jsx)(a.Z,{breadcrumbs:oe,menuItems:A,project:null===re||void 0===re?void 0:re[0],version:null===re||void 0===re||null===(n=re[0])||void 0===n?void 0:n.version}),(0,f.jsxs)(d.Nk,{children:[0!==(null===N||void 0===N?void 0:N.length)&&(0,f.jsx)(d.lm,{showMore:!0,children:(0,f.jsx)(j.Z,{navigationItems:N,showMore:!0})}),(0,f.jsx)(l.Z,{flex:1,flexDirection:"column",children:(0,f.jsxs)(v.Z,{after:r,afterHeightOffset:m.Mz,afterHidden:p,afterMousedownActive:V,afterWidth:z,before:k,beforeHeightOffset:m.Mz,beforeMousedownActive:Y,beforeWidth:d.k1+(k?$:0),headerOffset:M,hideAfterCompletely:!0,leftOffset:k?d.k1:null,mainContainerHeader:D,mainContainerRef:W,setAfterMousedownActive:X,setAfterWidth:Q,setBeforeMousedownActive:ee,setBeforeWidth:q,children:[B&&(0,f.jsx)(h,{children:B}),E]})})]}),I&&(0,f.jsx)(s.Z,{disableClickOutside:!0,isOpen:!0,onClickOutside:function(){return null===S||void 0===S?void 0:S(null)},children:(0,f.jsx)(u.Z,w(w({},I),{},{onClose:function(){return null===S||void 0===S?void 0:S(null)}}))})]})}},51099:function(e,n,t){"use strict";t.d(n,{Et:function(){return f},Q:function(){return d}});t(82684);var r=t(60328),i=t(67971),o=t(86673),s=t(19963),u=t(22341),l=t(73899),c=t(49125),a=t(28598),d=30,f=9;n.ZP=function(e){var n=e.page,t=e.maxPages,d=e.onUpdate,f=e.totalPages,p=[],h=t;if(h>f)p=Array.from({length:f},(function(e,n){return n}));else{var v=Math.floor(h/2),j=n-v;n+v>=f?(j=f-h+2,h-=2):n-v<=0?(j=0,h-=2):(h-=4,j=n-Math.floor(h/2)),p=Array.from({length:h},(function(e,n){return n+j}))}return(0,a.jsx)(a.Fragment,{children:f>0&&(0,a.jsxs)(i.ZP,{alignItems:"center",children:[(0,a.jsx)(r.Z,{disabled:0===n,onClick:function(){return d(n-1)},children:(0,a.jsx)(u.Hd,{size:1.5*c.iI,stroke:s.Av})}),!p.includes(0)&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(0)},children:1})},0),!p.includes(1)&&(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0)]}),p.map((function(e){return(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(r.Z,{backgroundColor:e===n&&l.a$,borderLess:!0,noBackground:!0,notClickable:e===n,onClick:function(){e!==n&&d(e)},children:e+1})},e)})),!p.includes(f-1)&&(0,a.jsxs)(a.Fragment,{children:[!p.includes(f-2)&&(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(r.Z,{noBackground:!0,noPadding:!0,notClickable:!0,children:"..."})},0),(0,a.jsx)(o.Z,{ml:1,children:(0,a.jsx)(r.Z,{borderLess:!0,noBackground:!0,onClick:function(){return d(f-1)},children:f})},f-1)]}),(0,a.jsx)(o.Z,{ml:1}),(0,a.jsx)(r.Z,{disabled:n===f-1,onClick:function(){return d(n+1)},children:(0,a.jsx)(u.Kw,{size:1.5*c.iI,stroke:s.Av})})]})})}},66050:function(e,n,t){"use strict";var r;t.d(n,{V:function(){return r}}),function(e){e.CANCELLED="cancelled",e.COMPLETED="completed",e.FAILED="failed",e.INITIAL="initial",e.RUNNING="running",e.UPSTREAM_FAILED="upstream_failed",e.CONDITION_FAILED="condition_failed"}(r||(r={}))},92597:function(e,n,t){"use strict";t.r(n);var r=t(77837),i=t(82394),o=t(38860),s=t.n(o),u=t(82684),l=t(34376),c=t(1210),a=t(67971),d=t(51099),f=t(97496),p=t(41788),h=t(55378),v=t(86673),j=t(19711),b=t(82531),g=t(47409),m=t(49125),x=t(33766),O=t(59e3),Z=t(28598);function P(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function w(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?P(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):P(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function _(){var e=(0,l.useRouter)(),n=(0,u.useState)(null),t=n[0],r=n[1],i=(0,O.iV)(),o=null!==i&&void 0!==i&&i.page?i.page:0,s={_limit:d.Q,_offset:o*d.Q,disable_retries_grouping:!0};null!==i&&void 0!==i&&i.status&&(s.status=i.status);var p=b.ZP.pipeline_runs.list(s,{refreshInterval:3e3,revalidateOnFocus:!0}),P=p.data,_=p.mutate,k=(0,u.useMemo)((function(){return(null===P||void 0===P?void 0:P.pipeline_runs)||[]}),[P]),y=(0,u.useMemo)((function(){var e;return(null===P||void 0===P||null===(e=P.metadata)||void 0===e?void 0:e.count)||[]}),[P]);return(0,Z.jsxs)(c.Z,{errors:t,setErrors:r,title:"Pipeline runs",uuid:"pipeline_runs/index",children:[(0,Z.jsx)(v.Z,{mx:2,my:1,children:(0,Z.jsxs)(a.ZP,{alignItems:"center",children:[(0,Z.jsx)(j.ZP,{bold:!0,default:!0,large:!0,children:"Filter runs by status:"}),(0,Z.jsx)(v.Z,{mr:1}),(0,Z.jsxs)(h.Z,{compact:!0,defaultColor:!0,fitContent:!0,onChange:function(n){n.preventDefault(),"all"===n.target.value?e.push("/pipeline-runs"):(0,x.u7)({page:0,status:n.target.value})},paddingRight:4*m.iI,placeholder:"Select run status",value:(null===i||void 0===i?void 0:i.status)||"all",children:[(0,Z.jsx)("option",{value:"all",children:"All statuses"},"all_statuses"),g.IK.map((function(e){return(0,Z.jsx)("option",{value:e,children:g.Do[e]},e)}))]})]})}),(0,Z.jsx)(f.Z,{fetchPipelineRuns:_,pipelineRuns:k,setErrors:r}),(0,Z.jsx)(v.Z,{p:2,children:(0,Z.jsx)(d.ZP,{maxPages:d.Et,onUpdate:function(n){var t=Number(n),r=w(w({},i),{},{page:t>=0?t:0});e.push("/pipeline-runs","/pipeline-runs?".concat((0,O.uM)(r)))},page:Number(o),totalPages:Math.ceil(y/d.Q)})})]})}_.getInitialProps=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{});case 1:case"end":return e.stop()}}),e)}))),n.default=(0,p.Z)(_)},60710:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/pipeline-runs",function(){return t(92597)}])}},function(e){e.O(0,[844,9902,1424,1005,7815,7496,9774,2888,179],(function(){return n=60710,e(e.s=n);var n}));var n=e.O();_N_E=n}]);