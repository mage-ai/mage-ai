"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1668],{48421:function(e,n,t){t.d(n,{Z:function(){return ye}});var o=t(21831),i=t(82394),r=t(75582),l=t(65701),u=t(1254),c=t(82684),a=t(69864),d=t(10975),s=t(14567),f=t(47041),v=t(70515),h=t(28598),p=3*v.iI;var m=function(e){e.blockLayoutItem;var n=e.buildChart,t=e.height,o=e.width,i=(0,c.useMemo)((function(){return t-(f.nn+p)}),[t]),r=(0,c.useMemo)((function(){return null===n||void 0===n?void 0:n({height:i,width:o})}),[n,i,o]);return(0,h.jsx)(h.Fragment,{children:r})},g=t(75399),b=t(71180),x=t(4006),j=t(97618),y=t(55485),Z=t(46732),k=t(72473),_=t(25976),C=t(44897),P=t(42631),w=3*v.iI,O=_.default.div.withConfig({displayName:"indexstyle__DividerStyle",componentId:"sc-17acf36-0"})(["display:flex;position:relative;",";",";"],(function(e){return!e.horizontal&&"\n    height: 100%;\n    justify-content: center;\n    width: ".concat(w,"px;\n  ")}),(function(e){return e.horizontal&&"\n    align-items: center;\n    height: ".concat(w,"px;\n    margin-left: ").concat(w,"px;\n    margin-right: ").concat(w,"px;\n    width: calc(100% - ").concat(2*w,"px);\n  ")})),I=_.default.div.withConfig({displayName:"indexstyle__BarStyle",componentId:"sc-17acf36-1"})(["border-radius:","px;"," ",";",";"],P.Ro,(function(e){return"\n    background-color: ".concat((e.theme||C.Z).accent.blueLight,";\n  ")}),(function(e){return!e.horizontal&&"\n    height: 100%;\n    width: ".concat(.5*v.iI,"px;\n  ")}),(function(e){return e.horizontal&&"\n    height: ".concat(.5*v.iI,"px;\n    width: 100%;\n  ")})),S=_.default.a.withConfig({displayName:"indexstyle__ButtonStyle",componentId:"sc-17acf36-2"})(["align-items:center;border-radius:50%;display:flex;height:","px;justify-content:center;position:absolute;width:","px;"," ",";",";"],3*v.iI,3*v.iI,(function(e){return"\n    background-color: ".concat((e.theme||C.Z).background.page,";\n    border: ").concat(P.mP,"px solid ").concat((e.theme||C.Z).accent.blueLight,";\n    box-shadow:\n      0 0 0 ").concat(P.mP,"px ").concat((e.theme||C.Z).background.page,";\n\n    &:hover {\n      background-color: ").concat((e.theme||C.Z).interactive.linkPrimary,";\n      border: ").concat(P.mP,"px solid ").concat((e.theme||C.Z).interactive.linkPrimary,";\n      cursor: pointer;\n    }\n  ")}),(function(e){return!e.horizontal&&"\n    top: ".concat(3*v.iI,"px;\n  ")}),(function(e){return e.horizontal&&"\n    left: ".concat(3*v.iI,"px;\n  ")}));var M=function(e){var n=e.horizontal,t=e.onClickAdd,o=(0,c.useState)(!1),i=o[0],r=o[1];return(0,h.jsx)(O,{horizontal:n,onMouseEnter:function(){return r(!0)},onMouseLeave:function(){return r(!1)},children:i&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(S,{horizontal:n,href:"#",onClick:function(e){e.preventDefault(),null===t||void 0===t||t()},children:(0,h.jsx)(k.Add,{size:2*v.iI})}),(0,h.jsx)(I,{horizontal:n})]})})},E=t(38276),L=t(4190),D=t(30160),R=t(17488),N=t(35686),B=t(72619),U=2*(P.YF+v.cd*v.iI)+w,A=_.default.div.withConfig({displayName:"indexstyle__ItemStyle",componentId:"sc-rcft6g-0"})(["border-radius:","px;padding:","px;",""],P.Ro,v.cd*v.iI,(function(e){return"\n    border: ".concat(P.YF,"px ").concat(P.M8," ").concat((e.theme||C.Z).interactive.defaultBorder,";\n    background-color: ").concat((e.theme||C.Z).background.chartBlock,";\n  ")})),H=t(35058),F=t(23780),T=t(77837),W=t(38860),q=t.n(W);function z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function J(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?z(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var K=function(e){var n=(0,c.useState)(null),t=n[0],o=n[1],i=(0,c.useState)(!1),r=i[0],l=i[1],u=(0,c.useState)(null),a=u[0],d=u[1],s=(0,c.useRef)(null),f=(0,c.useCallback)((0,T.Z)(q().mark((function n(){var t,i,r,u,c,a,f,v=arguments;return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:for(l(!0),d(null),s.current&&s.current.abort(),s.current=new AbortController,t=s.current.signal,n.prev=5,i=v.length,r=new Array(i),u=0;u<i;u++)r[u]=v[u];return r.length>0&&"object"===typeof r[r.length-1]?(c=r[r.length-1],r[r.length-1]=J(J({},c),{},{signal:t})):r.push({signal:t}),n.next=10,e.apply(void 0,r);case 10:a=n.sent,o(a),n.next=18;break;case 14:n.prev=14,n.t0=n.catch(5),"AbortError"!==(f=n.t0).name&&d(f);case 18:return n.prev=18,l(!1),n.finish(18);case 21:case"end":return n.stop()}}),n,null,[[5,14,18,21]])}))),[e]);return(0,c.useEffect)((function(){return function(){s.current&&s.current.abort()}}),[]),{doFetch:f,data:t,isLoading:r,error:a}};function V(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function Y(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?V(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):V(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var G=function(e){var n,t=e.block,o=e.blockLayoutItem,l=void 0===o?null:o,u=e.blockUUID,f=e.columnIndex,p=e.columnLayoutSettings,_=e.columnsInRow,C=e.createNewBlockItem,P=e.detail,O=e.disableDrag,I=e.first,S=e.height,T=e.isLoading,W=e.onDrop,q=e.onFetchBlockLayoutItem,z=e.onSave,J=e.pageBlockLayoutUUID,V=e.removeBlockLayoutItem,G=e.rowIndex,X=e.setSelectedBlockItem,Q=e.updateLayout,$=e.width,ee=(0,c.useRef)(null),ne=(0,c.useState)(!1),te=ne[0],oe=ne[1],ie=(0,c.useState)(!1),re=ie[0],le=ie[1],ue=(0,c.useState)(!1),ce=ue[0],ae=ue[1],de=(0,c.useState)(p)[0],se=(0,c.useState)(t),fe=se[0],ve=(se[1],(0,c.useMemo)((function(){return l||fe}),[l,fe])),he=(0,F.VI)(null,{},[],{uuid:"BlockLayoutItem/".concat(J,"/").concat(u)}),pe=(0,r.Z)(he,1)[0],me=(0,c.useMemo)((function(){var e,n=null===ve||void 0===ve||null===(e=ve.data_source)||void 0===e?void 0:e.refresh_interval;return n||6e4}),[ve]),ge=(0,c.useState)({block_layout_item:ve}),be=ge[0],xe=(ge[1],(0,a.Db)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N.ZP.block_layout_items.page_block_layouts.detailAsync(!l&&encodeURIComponent(J),!l&&encodeURIComponent(u),{skip_render:!(null===e||void 0===e||!e.skip_render)},{refreshInterval:me,revalidateOnFocus:!1})}),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(e){if(null!==e&&void 0!==e&&e.error)pe({response:e});else{var n=null===e||void 0===e?void 0:e.block_layout_item;q&&(null===q||void 0===q||q(n))}}})}})),je=(0,r.Z)(xe,2),ye=je[0],Ze=je[1].isLoading,ke=K((function(){return!P&&ye()})),_e=ke.doFetch;ke.data,ke.isLoading,ke.error,(0,c.useEffect)((function(){_e()}),[]);var Ce=(0,c.useMemo)((function(){return T&&Ze}),[T,Ze]),Pe=(0,c.useMemo)((function(){var e;return null!==be&&void 0!==be&&be.block_layout_item?null===be||void 0===be||null===(e=be.block_layout_item)||void 0===e?void 0:e.data:null===ve||void 0===ve?void 0:ve.data}),[ve,be]),we=(0,c.useCallback)((function(e){var n,t=e.height,o=e.width;if(!Pe)return null;var r=null===Pe||void 0===Pe?void 0:Pe.render;if(r){var l=null===Pe||void 0===Pe?void 0:Pe.render_type;if(g.hN.JPEG===l||g.hN.JPG===l)return(0,h.jsx)("img",{height:t,src:"data:image/jpeg;base64,".concat(r),width:o});if(g.hN.PNG===l)return(0,h.jsx)("img",{height:t,src:"data:image/png;base64,".concat(r),width:o});if(g.hN.HTML===l)return(0,h.jsx)("iframe",{srcDoc:r,style:{height:t,width:o}})}return(0,h.jsx)(x.Z,{block:Y(Y({},ve),{},{configuration:Y(Y({},null===ve||void 0===ve?void 0:ve.configuration),{},(0,i.Z)({},H.JJ,t))}),data:Pe,width:o,xAxisLabel:null===ve||void 0===ve||null===(n=ve.configuration)||void 0===n?void 0:n.x_axis_label})}),[ve,Pe]),Oe=(0,d.c)((function(){return{collect:function(e){return{isDragging:!!e.isDragging()}},item:{blockLayoutItem:ve,columnIndex:f,rowIndex:G},type:"BlockLayoutItem"}}),[ve,f,G]),Ie=(0,r.Z)(Oe,2),Se=Ie[0],Me=Ie[1],Ee=(0,s.L)((function(){return{accept:"BlockLayoutItem",drop:function(e){return null===W||void 0===W?void 0:W(e)}}}),[W]),Le=(0,r.Z)(Ee,2)[1];return P?(0,h.jsx)(m,{blockLayoutItem:ve,buildChart:we,height:S,width:$}):(0,h.jsxs)(h.Fragment,{children:[I&&(0,h.jsx)(M,{onClickAdd:function(){return C({columnIndex:f,rowIndex:G})}}),(0,h.jsx)(j.Z,{flex:1,flexDirection:"column",children:(0,h.jsx)("div",{onMouseEnter:function(){return ae(!0)},onMouseLeave:function(){return ae(!1)},ref:Le,children:(0,h.jsxs)(A,Y(Y({},Se),{},{ref:O?null:Me,children:[(0,h.jsx)(E.Z,{mb:1,children:(0,h.jsxs)(y.ZP,{alignContent:"center",justifyContent:"space-between",children:[(0,h.jsx)(E.Z,{py:1,children:(0,h.jsx)(D.ZP,{bold:!0,default:!0,children:(null===ve||void 0===ve?void 0:ve.name)||u})}),(0,h.jsx)("div",{children:(0,h.jsx)(Z.Z,{items:[{label:function(){return"Edit content"},onClick:function(){return null===X||void 0===X?void 0:X(ve)},uuid:"Edit content"},{label:function(){return"Change height and/or width"},onClick:function(){return le(!0)},uuid:"Change"},{label:function(){return"Remove chart"},onClick:function(){return null===V||void 0===V?void 0:V()},uuid:"Remove chart"}],onClickCallback:function(){return oe(!1)},onClickOutside:function(){return oe(!1)},open:te,parentRef:ee,rightOffset:0,uuid:"BlockLayoutItem/".concat(u),children:(ce||te)&&(0,h.jsx)(b.ZP,{disabled:Ce,iconOnly:!0,loading:Ce,noBackground:!0,onClick:function(){oe(!0)},children:(0,h.jsx)(k.Ellipsis,{default:!0,size:2*v.iI})})})})]})}),re&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(y.ZP,{alignItems:"center",fullWidth:!0,children:[(0,h.jsxs)(j.Z,{flex:1,flexDirection:"column",children:[(0,h.jsx)(D.ZP,{bold:!0,muted:!0,small:!0,children:"Width (flex box)"}),(0,h.jsx)(R.Z,{compact:!0,fullWidth:!0,onChange:function(e){return null===Q||void 0===Q?void 0:Q(Y(Y({},p),{},{width:"undefined"!==typeof e.target.value?Number(e.target.value):e.target.value}))},primary:!0,setContentOnMount:!0,small:!0,type:"number",value:(null===p||void 0===p?void 0:p.width)||""})]}),(0,h.jsx)(E.Z,{mr:1}),(0,h.jsxs)(j.Z,{flex:1,flexDirection:"column",children:[(0,h.jsx)(D.ZP,{bold:!0,muted:!0,small:!0,children:"Max width (%)"}),(0,h.jsx)(R.Z,{compact:!0,fullWidth:!0,label:"Max width percentage",onChange:function(e){return null===Q||void 0===Q?void 0:Q(Y(Y({},p),{},{max_width_percentage:"undefined"!==typeof e.target.value?Number(e.target.value):e.target.value}))},primary:!0,setContentOnMount:!0,small:!0,type:"number",value:(null===p||void 0===p?void 0:p.max_width_percentage)||""})]}),(0,h.jsx)(E.Z,{mr:1}),(0,h.jsxs)(j.Z,{flex:1,flexDirection:"column",children:[(0,h.jsx)(D.ZP,{bold:!0,muted:!0,small:!0,children:"Height (pixels)"}),(0,h.jsx)(R.Z,{compact:!0,fullWidth:!0,onChange:function(e){return null===Q||void 0===Q?void 0:Q(Y(Y({},p),{},{height:"undefined"!==typeof e.target.value?Number(e.target.value):e.target.value}))},primary:!0,setContentOnMount:!0,small:!0,type:"number",value:(null===p||void 0===p?void 0:p.height)||""})]})]}),(0,h.jsx)(E.Z,{mt:v.cd,children:(0,h.jsxs)(y.ZP,{alignItems:"center",justifyContent:"flex-end",children:[(0,h.jsx)(b.ZP,{compact:!0,onClick:function(){null===z||void 0===z||z(),le(!1)},primary:!0,small:!0,children:"Save"}),(0,h.jsx)(E.Z,{mr:1}),(0,h.jsx)(b.ZP,{compact:!0,onClick:function(){le(!1),null===Q||void 0===Q||Q(de)},small:!0,children:"Cancel"})]})})]}),!be&&(0,h.jsx)(E.Z,{p:v.cd,children:(0,h.jsx)(L.Z,{})}),be&&!Pe&&(0,h.jsx)(D.ZP,{muted:!0,children:"Chart hasn\u2019t been configured or no data was retrieved."}),Pe&&we({height:S||(null===ve||void 0===ve||null===(n=ve.configuration)||void 0===n?void 0:n[H.JJ]),width:$-(U+1)-(_?w/_:0)})]}))})}),(0,h.jsx)(M,{onClickAdd:function(){return C({columnIndex:f+1,rowIndex:G})}})]})},X=t(44425),Q=t(54750),$=t(31882),ee=t(10305),ne=t(44085),te=t(85108),oe=t(81728),ie=t(86735);function re(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function le(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?re(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ue=function(e){var n=e.block,t=e.updateConfiguration,o=n||{},l=o.data,u=o.configuration,a=(u||{}).chart_type,d=(l||{}).columns,s=te.G8[a],f=(0,c.useMemo)((function(){return Object.entries(s||{}).reduce((function(e,n){var o=(0,r.Z)(n,2),l=o[0],c=o[1];return le(le({},e),{},(0,i.Z)({},l,c.map((function(e){var n,o=e.autoRun,r=e.label,l=e.monospace,c=e.options,a=e.settings,s=void 0===a?{}:a,f=e.type,v=e.uuid,p={fullWidth:!0,key:v,label:(0,oe.kC)(r()),monospace:l,onChange:function(e){return t((0,i.Z)({},v,e.target.value),{autoRun:o})},value:(null===u||void 0===u?void 0:u[v])||""};if(te.VR.COLUMNS===f){var m=u[v]||[];n=(0,h.jsxs)(h.Fragment,{children:[(!s.maxValues||m.length<s.maxValues)&&(0,h.jsx)(ne.Z,le(le({},p),{},{onChange:function(e){var n=u[v]||[],r=e.target.value;n.includes(r)?n=(0,ie.Od)(n,(function(e){return e===r})):n.push(r),t((0,i.Z)({},v,n),{autoRun:o})},value:null,children:(0,ie.YC)((d||[]).filter((function(e){return!m.includes(e)})),(function(e){return e})).map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))})),m.map((function(e){return(0,h.jsx)("div",{style:{display:"inline-block",marginRight:2,marginTop:2},children:(0,h.jsx)($.Z,{label:e,onClick:function(){t((0,i.Z)({},v,(0,ie.Od)(m,(function(n){return n===e}))),{autoRun:o})}})},e)}))]})}else if(te.VR.METRICS===f){var g=u[v]||[];n=(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Metrics"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Select a column and an aggregation function."}),(0,h.jsxs)(ee.Z,{onChange:function(e,n){var r=n.resetValues,l=n.setValues;2===e.filter((function(e){return!!e})).length&&(g.find((function(n){var t=n.aggregation;return n.column===e[1]&&t===e[0]}))||(t((0,i.Z)({},v,g.concat({aggregation:e[0],column:e[1]})),{autoRun:o}),l([null,null]),r()))},children:[(0,h.jsx)(ne.Z,le(le({},p),{},{label:"aggregation",children:(0,ie.YC)(H.bn,(function(e){return e})).map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))})),(0,h.jsx)(ne.Z,le(le({},p),{},{label:"column",children:(0,ie.YC)(d||[],(function(e){return e})).map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))}))]}),g.map((function(e){var n=e.aggregation,r=e.column;return(0,h.jsx)("div",{style:{display:"inline-block",marginRight:2,marginTop:2},children:(0,h.jsx)($.Z,{label:(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(D.ZP,{inline:!0,monospace:!0,children:[n,"("]}),r,(0,h.jsx)(D.ZP,{inline:!0,monospace:!0,children:")"})]}),onClick:function(){t((0,i.Z)({},v,(0,ie.Od)(g,(function(e){var t=e.aggregation,o=e.column;return n===t&&r===o}))),{autoRun:o})}})},"".concat(n,"(").concat(r,")"))}))]})}else n=c?(0,h.jsx)(ne.Z,le(le({},p),{},{children:c.map((function(e){return(0,h.jsx)("option",{value:e,children:e},e)}))})):(0,h.jsx)(R.Z,le(le({},p),{},{type:f}));return(0,h.jsx)(E.Z,{mb:1,children:n},v)}))))}),{noCode:[]})}),[d,u,s,t]),v=(f.code,f.noCode);return(0,h.jsx)(h.Fragment,{children:v})},ce=t(89083),ae=t(15338),de=t(85854),se=t(65927),fe=t(48670),ve=t(62547);var he=function(){var e=(0,c.useRef)(null),n=(0,c.useCallback)((function(n,t){for(var o=arguments.length,i=new Array(o>2?o-2:0),r=2;r<o;r++)i[r-2]=arguments[r];e.current&&clearTimeout(e.current),e.current=setTimeout((function(){n.apply(void 0,i)}),t)}),[]);return[n,(0,c.useCallback)((function(){e.current&&(clearTimeout(e.current),e.current=null)}),[])]},pe=t(2842),me=t(53808),ge=t(42122),be=t(19183);function xe(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function je(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?xe(Object(t),!0).forEach((function(n){(0,i.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):xe(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var ye=function(e){var n,t=e.leftOffset,d=e.pageBlockLayoutTemplate,s=e.topOffset,p=e.uuid,m=(0,F.VI)(null,{},[],{uuid:"BlockLayout/".concat(p)}),x=(0,r.Z)(m,1)[0],Z=he(),_=(0,r.Z)(Z,1)[0],C=(0,c.useState)({}),P=(C[0],C[1],(0,c.useState)(null)),w=P[0],O=P[1],I=(0,c.useState)({}),S=I[0],U=I[1],A=(0,c.useState)(!1),T=(A[0],A[1],(0,c.useRef)(null),"block_layout_after_width_".concat(p)),W="block_layout_before_width_".concat(p),q=(0,c.useRef)(null),z=(0,c.useState)((0,me.U2)(T,40*v.iI)),J=z[0],K=z[1],V=(0,c.useState)(!1),Y=V[0],$=V[1],ee=(0,c.useState)(Math.max((0,me.U2)(W),50*v.iI)),te=ee[0],re=ee[1],le=(0,c.useState)(!1),xe=le[0],ye=le[1],Ze=(0,c.useRef)(null),ke=(0,be.i)(),_e=(0,c.useState)(null),Ce=_e[0],Pe=_e[1],we=(0,c.useState)(null),Oe=we[0],Ie=we[1],Se=(0,c.useMemo)((function(){var e;return null===Ce||void 0===Ce||null===(e=Ce.data_source)||void 0===e?void 0:e.refresh_interval}),[Ce]),Me=(0,c.useMemo)((function(){return null===S||void 0===S?void 0:S[null===Ce||void 0===Ce?void 0:Ce.uuid]}),[S,Ce]),Ee=(0,c.useState)(null),Le=Ee[0],De=Ee[1],Re=(0,a.Db)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return N.ZP.block_layout_items.page_block_layouts.detailAsync(Ce&&encodeURIComponent(p),Ce&&encodeURIComponent(null===Ce||void 0===Ce?void 0:Ce.uuid),{configuration_override:encodeURIComponent(JSON.stringify((null===w||void 0===w?void 0:w.configuration)||"")),content_override:encodeURIComponent((null===w||void 0===w?void 0:w.content)||(null===Me||void 0===Me?void 0:Me.content)||""),data_source_override:encodeURIComponent(JSON.stringify((null===w||void 0===w?void 0:w.data_source)||"")),skip_render:!(null===e||void 0===e||!e.skip_render)},{refreshInterval:Se,revalidateOnFocus:!Se})}),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(e){return De((function(n){var t,o=null===e||void 0===e?void 0:e.block_layout_item;return(null===n||void 0===n||null===(t=n.block_layout_item)||void 0===t?void 0:t.uuid)!==(null===o||void 0===o?void 0:o.uuid)&&O((function(e){return je(je({},e),o)})),U((function(e){return je(je({},e),{},(0,i.Z)({},null===o||void 0===o?void 0:o.uuid,o))})),e}))}})}}),Ne=(0,r.Z)(Re,2),Be=Ne[0],Ue=Ne[1].isLoading,Ae=(0,c.useMemo)((function(){return null===Le||void 0===Le?void 0:Le.block_layout_item}),[Le]);(0,c.useEffect)((function(){var e;null!==Ae&&void 0!==Ae&&null!==(e=Ae.data)&&void 0!==e&&e.error&&x({response:null===Ae||void 0===Ae?void 0:Ae.data})}),[Ae,x]);var He=(0,c.useCallback)((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_((function(){return Be({skip_render:!1})}),null!==n&&void 0!==n&&n.skip_render?3e3:300),O("function"===typeof e?e:function(n){return je(je({},n),e)})}),[Be,_,O]),Fe=(0,c.useCallback)((function(e){He(je(je({},e),{},{name_new:(null===e||void 0===e?void 0:e.name_new)||(null===e||void 0===e?void 0:e.name)||(0,oe.Y6)()})),Pe(e)}),[He,Pe]),Te=(0,c.useState)(null),We=Te[0],qe=Te[1],ze=(0,c.useMemo)((function(){return null===We||void 0===We?void 0:We.page_block_layout}),[We]),Je=(0,a.Db)((function(){return N.ZP.page_block_layouts.detailAsync(encodeURIComponent(p))}),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(e){qe(e)}})}}),Ke=(0,r.Z)(Je,2),Ve=Ke[0];Ke[1].isLoading,(0,c.useEffect)((function(){Ve()}),[]);var Ye=(0,c.useMemo)((function(){return null===ze||void 0===ze?void 0:ze.layout}),[ze]),Ge=(0,a.Db)(N.ZP.page_block_layouts.useUpdate(encodeURIComponent(p)),{onSuccess:function(e){return(0,B.wD)(e,{callback:function(e){var n=(null===e||void 0===e?void 0:e.page_block_layout).blocks;qe(e);var t=Object.values(n).find((function(e){return e.name===(null===w||void 0===w?void 0:w.name_new)}));t&&Fe(t),Ie(null)},onErrorCallback:function(e,n){return x({errors:n,response:e})}})}}),Xe=(0,r.Z)(Ge,2),Qe=Xe[0],$e=Xe[1].isLoading,en=(0,c.useCallback)((function(e){return Qe({page_block_layout:{blocks:je(je({},null===ze||void 0===ze?void 0:ze.blocks),{},(0,i.Z)({},null===e||void 0===e?void 0:e.uuid,(0,ge.gR)(e,["data"]))),layout:null===ze||void 0===ze?void 0:ze.layout}})}),[ze,Qe]),nn=(0,c.useCallback)((function(){return Qe({page_block_layout:{blocks:null===ze||void 0===ze?void 0:ze.blocks,layout:null===ze||void 0===ze?void 0:ze.layout}})}),[ze,Qe]),tn=(0,c.useMemo)((function(){return null===ze||void 0===ze?void 0:ze.blocks}),[ze]),on=(0,c.useCallback)((function(e,n,t){var i,r=(0,o.Z)(Ye);r[e][n]=t,i=r,qe((function(e){return je(je({},e),{},{page_block_layout:je(je({},null===e||void 0===e?void 0:e.page_block_layout),{},{layout:i})})}))}),[Ye]),rn=(0,c.useState)(null),ln=rn[0],un=rn[1],cn=(0,c.useState)(null),an=cn[0],dn=cn[1];(0,c.useEffect)((function(){var e;null===q||void 0===q||!q.current||Y||xe||un(null===q||void 0===q||null===(e=q.current)||void 0===e?void 0:e.getBoundingClientRect())}),[Y,xe,q,Ce,ke]),(0,c.useEffect)((function(){var e;null!==Ze&&void 0!==Ze&&Ze.current&&dn(null===Ze||void 0===Ze||null===(e=Ze.current)||void 0===e?void 0:e.getBoundingClientRect())}),[Ze,Ce,ke]),(0,c.useEffect)((function(){Y||(0,me.t8)(T,J)}),[Y,J,T]),(0,c.useEffect)((function(){xe||(0,me.t8)(W,te)}),[xe,te,W]);var sn=(0,c.useCallback)((function(e,n,t){var i=je({},null===ze||void 0===ze?void 0:ze.blocks);null===i||void 0===i||delete i[e];var r=(0,o.Z)(null===ze||void 0===ze?void 0:ze.layout),l=r[n]||[],u=(0,ie.oM)(l,t);0===(null===u||void 0===u?void 0:u.length)?r=(0,ie.oM)(r,n):r[n]=u,Ie(e),Qe({page_block_layout:{blocks:i,layout:r}})}),[ze,Qe]),fn=(0,c.useCallback)((function(e,n,t,i){var r=(0,o.Z)(Ye||[]),l=r[e]||[],u=l[n];if(e===t&&n!==i){var c=(0,ie.oM)(l,n);r[e]=(0,ie.Hk)(u,i>n?i:i-1,c)}else{var a=(0,ie.oM)(l,n);r[e]=a;var d=(0,ie.Hk)(u,i,r[t]);r[t]=d,0===(null===a||void 0===a?void 0:a.length)&&(r=(0,ie.oM)(r,e))}e===t&&n===i||Qe({page_block_layout:{blocks:null===ze||void 0===ze?void 0:ze.blocks,layout:r}})}),[Ye,ze,Qe]),vn=(0,c.useCallback)((function(e){var n=(0,oe.Y6)(),t={name:n,type:X.tf.CHART,uuid:(0,oe.kE)(n)},r=(0,o.Z)(Ye||[]),l={block_uuid:t.uuid,width:1};if(e){var u=e||{},c=u.columnIndex,a=void 0===c?0:c,d=u.rowIndex,s=u.rowIndexInsert;"undefined"!==typeof s?r=(0,ie.Hk)([l],s,r):r[d]=(0,ie.Hk)(l,a,r[d])}else r.push([l]);Qe({page_block_layout:{blocks:je(je({},null===ze||void 0===ze?void 0:ze.blocks),{},(0,i.Z)({},t.uuid,t)),layout:r}}),Fe(t),He((function(){return{}}))}),[Ye,ze,Fe,He,Qe]),hn=(0,c.useMemo)((function(){var e=[];return null===Ye||void 0===Ye||Ye.forEach((function(n,t){var o=[],r=(0,ie.Sm)(null===n||void 0===n?void 0:n.map((function(e){return e.width||0})));n.forEach((function(e,l){var u=e.block_uuid,c=e.height,a=e.max_width_percentage,d=e.width,s=null===tn||void 0===tn?void 0:tn[u],v="undefined"!==typeof a&&null!==a?a>=0?a/100:a:null,m=d/r,g=v&&m>v?v:m,b=(null===ln||void 0===ln?void 0:ln.width)-f.nn;o.push((0,h.jsx)(j.Z,{flexBasis:"".concat(Math.floor(100*g),"%"),children:(0,h.jsx)(G,{block:s,blockLayoutItem:null===S||void 0===S?void 0:S[u],blockUUID:u,columnIndex:l,columnLayoutSettings:e,columnsInRow:null===n||void 0===n?void 0:n.length,createNewBlockItem:vn,first:0===l,height:c,isLoading:Oe===u&&$e,onDrop:function(e){var n=e.columnIndex,o=e.rowIndex;fn(o,n,t,l)},onFetchBlockLayoutItem:function(e){return U((function(n){return je(je({},n),{},(0,i.Z)({},null===e||void 0===e?void 0:e.uuid,e))}))},onSave:nn,pageBlockLayoutUUID:p,removeBlockLayoutItem:function(){return sn(u,t,l)},rowIndex:t,setSelectedBlockItem:Fe,updateLayout:function(e){return on(t,l,e)},width:Math.floor(g*b)})},"row-".concat(t,"-column-").concat(l,"-").concat(u)))})),0===t&&e.push((0,h.jsx)(M,{horizontal:!0,onClickAdd:function(){return vn({rowIndexInsert:t})}},"layout-divider-".concat(t,"-top"))),e.push((0,h.jsx)(y.ZP,{children:o},"row-".concat(t))),e.push((0,h.jsx)(M,{horizontal:!0,onClickAdd:function(){return vn({rowIndexInsert:t+1})}},"layout-divider-".concat(t,"-bottom")))})),e}),[tn,ln,vn,Oe,$e,S,Ye,fn,sn,nn,Fe,on,p]),pn=(0,c.useMemo)((function(){return We&&0===(null===Ye||void 0===Ye?void 0:Ye.length)}),[We,Ye]),mn=(0,c.useMemo)((function(){return(0,h.jsx)(y.ZP,{justifyContent:"center",children:(0,h.jsxs)(E.Z,{my:3*v.HN,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:v.Mq,children:[(0,h.jsx)(E.Z,{mb:1,children:(0,h.jsx)(de.Z,{center:!0,children:"Create a custom dashboard"})}),(0,h.jsx)(D.ZP,{center:!0,default:!0,children:"Add customizable charts with the exact insights you need."}),d&&(0,h.jsx)(D.ZP,{center:!0,default:!0,children:"Start with a recommended set or freely define your own."})]}),(0,h.jsxs)(y.ZP,{alignContent:"center",justifyContent:"center",children:[d&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(b.ZP,{onClick:function(){return Qe({page_block_layout:d})},primary:!0,children:"Add recommended charts"}),(0,h.jsx)(E.Z,{mr:1})]}),(0,h.jsx)(b.ZP,{onClick:function(){return vn()},primary:!d,secondary:!!d,children:"Create new chart"})]})]})})}),[vn,d,Qe]),gn=(0,c.useMemo)((function(){return(null===ln||void 0===ln?void 0:ln.height)-(null===an||void 0===an?void 0:an.height)}),[ln,an]),bn=(0,c.useMemo)((function(){return!Ce}),[Ce]),xn=N.ZP.pipelines.detail(null===w||void 0===w||null===(n=w.data_source)||void 0===n?void 0:n.pipeline_uuid).data,jn=(0,c.useMemo)((function(){return null===xn||void 0===xn?void 0:xn.pipeline}),[xn]),yn=(0,c.useMemo)((function(){return(0,ie.YC)((null===jn||void 0===jn?void 0:jn.blocks)||[],"uuid")}),[jn]),Zn=N.ZP.pipelines.list().data,kn=(0,c.useMemo)((function(){return(0,ie.YC)((null===Zn||void 0===Zn?void 0:Zn.pipelines)||[],"uuid")}),[Zn]),_n=N.ZP.pipeline_schedules.pipelines.list(null===jn||void 0===jn?void 0:jn.uuid).data,Cn=(0,c.useMemo)((function(){return null===_n||void 0===_n?void 0:_n.pipeline_schedules}),[_n]),Pn=(0,c.useMemo)((function(){return je(je(je({},Ce),w),{},{data:je(je(je({},null===Ce||void 0===Ce?void 0:Ce.data),null===w||void 0===w?void 0:w.data),null===Ae||void 0===Ae?void 0:Ae.data)})}),[Ae,w,Ce]),wn=(0,c.useMemo)((function(){var e,n,t,o,i,r,l,u,c,a,d,f,p;return bn?null:(0,h.jsxs)("div",{style:{paddingBottom:v.Mq*v.iI,paddingTop:"undefined"===typeof s?pe.Wi:0},children:[(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Chart name"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Human readable name for your chart."})]}),(0,h.jsx)(R.Z,{onChange:function(e){return He((function(n){return je(je({},n),{},{name_new:e.target.value})}),{skip_render:!0})},placeholder:"Type name for chart...",primary:!0,setContentOnMount:!0,value:(null===w||void 0===w?void 0:w.name_new)||""})]}),(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Chart type"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Choose how you want to display your data."})]}),(0,h.jsx)(ne.Z,{onChange:function(e){return He((function(n){return je(je({},n),{},{configuration:{chart_type:e.target.value}})}),{skip_render:!0})},placeholder:"Select chart type",primary:!0,value:(null===w||void 0===w||null===(e=w.configuration)||void 0===e?void 0:e.chart_type)||"",children:H.CK.concat(H.oV.CUSTOM).map((function(e){return(0,h.jsx)("option",{value:e,children:(0,oe.kC)(e)},e)}))})]}),(0,h.jsx)(E.Z,{mt:v.Mq,children:(0,h.jsx)(ae.Z,{light:!0})}),(0,h.jsx)(E.Z,{mt:v.Mq,px:v.cd,children:(0,h.jsx)(de.Z,{children:"Data source"})}),(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Data source type"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Configure where the data for this chart comes from."})]}),(0,h.jsx)(ne.Z,{onChange:function(e){return He((function(n){return je(je({},n),{},{data_source:je(je({},null===n||void 0===n?void 0:n.data_source),{},{type:e.target.value})})}),{skip_render:!0})},placeholder:"Select data source type",primary:!0,value:(null===w||void 0===w||null===(n=w.data_source)||void 0===n?void 0:n.type)||"",children:g.tW.map((function(e){return(0,h.jsx)("option",{value:e,children:(0,oe.kC)(g.Qj[e])},e)}))})]}),[g.XO.BLOCK,g.XO.BLOCK_RUNS,g.XO.PIPELINE_RUNS,g.XO.PIPELINE_SCHEDULES].includes(null===w||void 0===w||null===(t=w.data_source)||void 0===t?void 0:t.type)&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Pipeline UUID"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Select the pipeline the data source comes from."})]}),(0,h.jsxs)(ne.Z,{monospace:!0,onChange:function(e){return He((function(n){return je(je({},n),{},{data_source:je(je({},null===n||void 0===n?void 0:n.data_source),{},{block_uuid:null,pipeline_schedule_id:null,pipeline_uuid:e.target.value})})}),{skip_render:!0})},primary:!0,value:(null===w||void 0===w||null===(o=w.data_source)||void 0===o?void 0:o.pipeline_uuid)||"",children:[(0,h.jsx)("option",{value:null}),null===kn||void 0===kn?void 0:kn.map((function(e){var n=e.uuid;return(0,h.jsx)("option",{value:n,children:n},n)}))]})]})}),[g.XO.PIPELINE_RUNS].includes(null===w||void 0===w||null===(i=w.data_source)||void 0===i?void 0:i.type)&&(0,h.jsx)(h.Fragment,{children:(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Trigger"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Select the trigger that the pipeline runs should belong to."})]}),(0,h.jsxs)(ne.Z,{monospace:!0,onChange:function(e){return He((function(n){return je(je({},n),{},{data_source:je(je({},null===n||void 0===n?void 0:n.data_source),{},{pipeline_schedule_id:e.target.value})})}),{skip_render:!0})},primary:!0,value:(null===w||void 0===w||null===(r=w.data_source)||void 0===r?void 0:r.pipeline_schedule_id)||"",children:[(0,h.jsx)("option",{value:null}),null===Cn||void 0===Cn?void 0:Cn.map((function(e){var n=e.id,t=e.name;return(0,h.jsx)("option",{value:n,children:t},n)}))]})]})}),g.XO.BLOCK===(null===w||void 0===w||null===(l=w.data_source)||void 0===l?void 0:l.type)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Block UUID"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Select the block the data source comes from."})]}),(0,h.jsxs)(ne.Z,{monospace:!0,onChange:function(e){return He((function(n){return je(je({},n),{},{data_source:je(je({},null===n||void 0===n?void 0:n.data_source),{},{block_uuid:e.target.value})})}),{skip_render:!0})},primary:!0,value:(null===w||void 0===w||null===(u=w.data_source)||void 0===u?void 0:u.block_uuid)||"",children:[(0,h.jsx)("option",{value:null}),null===yn||void 0===yn?void 0:yn.map((function(e){var n=e.uuid;return(0,h.jsx)("option",{value:n,children:n},n)}))]})]}),(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Partitions"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Enter a positive or a negative number. If positive, then data from the block will be the most recent N partitions. If negative, then data from the block will be the oldest N partitions."}),(0,h.jsx)(E.Z,{mt:1,children:(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"Leave blank if you want the chart to execute the block and display the data produced from that ad hoc block execution."})})]}),(0,h.jsx)(R.Z,{monospace:!0,onChange:function(e){return He((function(n){return je(je({},n),{},{data_source:je(je({},null===n||void 0===n?void 0:n.data_source),{},{partitions:"undefined"!==typeof e.target.value?Number(e.target.value):e.target.value})})}),{skip_render:!0})},placeholder:"Enter number of partitions",primary:!0,setContentOnMount:!0,type:"number",value:(null===w||void 0===w||null===(c=w.data_source)||void 0===c?void 0:c.partitions)||""})]})]}),(0,h.jsxs)(E.Z,{mt:v.Mq,px:v.cd,children:[(0,h.jsxs)(E.Z,{mb:1,children:[(0,h.jsx)(D.ZP,{bold:!0,children:"Refresh interval"}),(0,h.jsx)(D.ZP,{muted:!0,small:!0,children:"How frequent do you want this chart to automatically fetch new data from its data source? Enter a number in milliseconds (e.g. 1000ms is 1 second)."})]}),(0,h.jsx)(R.Z,{monospace:!0,onChange:function(e){return He((function(n){return je(je({},n),{},{data_source:je(je({},null===n||void 0===n?void 0:n.data_source),{},{refresh_interval:e.target.value})})}),{skip_render:!0})},placeholder:"Enter number for refresh interval",primary:!0,setContentOnMount:!0,type:"number",value:(null===w||void 0===w||null===(a=w.data_source)||void 0===a?void 0:a.refresh_interval)||6e4})]}),(0,h.jsx)(E.Z,{mt:v.Mq,children:(0,h.jsx)(ae.Z,{light:!0})}),(0,h.jsx)(E.Z,{mt:v.Mq,px:v.cd,children:(0,h.jsx)(de.Z,{children:"Chart display settings"})}),(0,h.jsx)(E.Z,{mt:v.Mq,px:v.cd,children:null!==Pn&&void 0!==Pn&&Pn.data_source?(0,h.jsxs)(D.ZP,{default:!0,children:["Number of columns from data source: ","undefined"!==typeof(null===Pn||void 0===Pn||null===(d=Pn.data)||void 0===d?void 0:d.columns)?(0,h.jsx)(D.ZP,{bold:!0,inline:!0,monospace:!0,children:null===Pn||void 0===Pn||null===(f=Pn.data)||void 0===f||null===(p=f.columns)||void 0===p?void 0:p.length}):(0,h.jsx)(E.Z,{mt:1,children:(0,h.jsx)(L.Z,{inverted:!0,small:!0})})]}):(0,h.jsx)(D.ZP,{default:!0,children:"Please select a data source type above."})}),(0,h.jsx)(E.Z,{mt:v.Mq,px:v.cd,children:(0,h.jsx)(ue,{block:Pn,updateConfiguration:function(e){He((function(n){return je(je({},n),{},{configuration:je(je({},null===n||void 0===n?void 0:n.configuration),e)})}))}})})]})}),[bn,Pn,yn,w,Cn,kn,He,s]),On=(0,c.useMemo)((function(){return Ce&&(0,h.jsxs)(E.Z,{py:v.cd,children:[(0,h.jsxs)(E.Z,{mb:v.Mq,px:v.cd,children:[(0,h.jsx)(E.Z,{mb:1,children:(0,h.jsx)(de.Z,{children:"Custom code"})}),(0,h.jsxs)(D.ZP,{default:!0,children:["Write code for custom data sources, parsing, etc. For more information on what is possible, please check out the ",(0,h.jsx)(fe.Z,{href:"https://docs.mage.ai/visualizations/dashboards#custom-code-for-chart",openNewWindow:!0,children:"chart documentation"}),"."]})]}),(0,h.jsx)(ce.Z,{autoHeight:!0,block:je(je({},Me),Ce),onChange:function(e){He((function(n){return je(je({},n),{},{content:e})}),{skip_render:!0})},value:(null===w||void 0===w?void 0:w.content)||(null===Me||void 0===Me?void 0:Me.content)||"",width:"100%"})]})}),[Me,w,Ce,He]),In=(0,c.useMemo)((function(){return(0,h.jsx)(E.Z,{p:v.cd,children:(0,h.jsxs)(y.ZP,{children:[(0,h.jsx)(b.ZP,{fullWidth:!0,loading:$e,onClick:function(){return en(w)},primary:!0,children:"Save changes"}),(0,h.jsx)(E.Z,{mr:1}),(0,h.jsx)(b.ZP,{fullWidth:!0,onClick:function(){return Fe(null)},secondary:!0,children:"Back to dashboard"})]})})}),[$e,w,Fe,en]);return(0,h.jsxs)(ve.Z,{after:On,afterHeightOffset:s||0,afterHidden:bn,afterMousedownActive:Y,afterWidth:J,before:wn,beforeDraggableTopOffset:s?s-pe.Wi:0,beforeFooter:!bn&&In,beforeHeader:(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(Q.Z,{breadcrumbs:[{label:function(){return"Back to dashboard"},onClick:function(){return Fe(null)}},{bold:!0,label:function(){return(null===Ce||void 0===Ce?void 0:Ce.name)||(null===Ce||void 0===Ce?void 0:Ce.uuid)}}]})}),beforeHeaderOffset:6*v.iI,beforeHeightOffset:s||0,beforeHidden:bn,beforeMousedownActive:xe,beforeWidth:te,contained:!0,excludeOffsetFromBeforeDraggableLeft:!0,headerOffset:s||0,hideAfterCompletely:!0,hideBeforeCompletely:!0,leftOffset:t||0,mainContainerRef:q,setAfterMousedownActive:$,setAfterWidth:K,setBeforeMousedownActive:ye,setBeforeWidth:re,children:[(0,h.jsxs)("div",{ref:Ze,style:{position:"relative"},children:[Ce&&Ue&&(0,h.jsx)("div",{style:{position:"absolute",width:"100%"},children:(0,h.jsx)(se.Z,{})}),(0,h.jsxs)(y.ZP,{justifyContent:"space-between",children:[(0,h.jsx)(j.Z,{flex:1}),bn&&!pn&&(0,h.jsx)(E.Z,{p:v.cd,children:(0,h.jsx)(b.ZP,{beforeIcon:(0,h.jsx)(k.Add,{size:2*v.iI}),onClick:function(){return vn()},primary:!0,children:"Create new chart"})})]})]}),(0,h.jsxs)(l.W,{backend:u.PD,children:[Ce&&(0,h.jsx)(G,{block:je(je({},Me),Ce),blockLayoutItem:je(je(je({},Me),Ae),{},{configuration:je(je(je({},null===Me||void 0===Me?void 0:Me.configuration),null===Ae||void 0===Ae?void 0:Ae.configuration),null===w||void 0===w?void 0:w.configuration),data:Ae?null===Ae||void 0===Ae?void 0:Ae.data:null===Me||void 0===Me?void 0:Me.data,data_source:je(je(je({},null===Me||void 0===Me?void 0:Me.data_source),null===Ae||void 0===Ae?void 0:Ae.data_source),null===w||void 0===w?void 0:w.data_source)}),blockUUID:null===Ce||void 0===Ce?void 0:Ce.uuid,detail:!0,disableDrag:!0,height:gn,pageBlockLayoutUUID:p,setSelectedBlockItem:Fe,width:null===ln||void 0===ln?void 0:ln.width}),(0,h.jsx)("div",{style:{display:Ce||pn?"none":null},children:hn}),!Ce&&pn&&mn]}),(0,h.jsx)(E.Z,{mb:2})]})}},75399:function(e,n,t){t.d(n,{Qj:function(){return c},XO:function(){return i},hN:function(){return r},tW:function(){return u}});var o,i,r,l=t(82394);!function(e){e.BLOCK="block",e.BLOCK_RUNS="block_runs",e.CHART_CODE="chart_code",e.PIPELINES="pipelines",e.PIPELINE_RUNS="pipeline_runs",e.PIPELINE_SCHEDULES="pipeline_schedules"}(i||(i={})),function(e){e.HTML="html",e.JPEG="jpeg",e.JPG="jpg",e.PNG="png"}(r||(r={}));var u=[i.BLOCK,i.BLOCK_RUNS,i.CHART_CODE,i.PIPELINES,i.PIPELINE_RUNS,i.PIPELINE_SCHEDULES],c=(o={},(0,l.Z)(o,i.BLOCK,"Block data output"),(0,l.Z)(o,i.BLOCK_RUNS,"Block runs"),(0,l.Z)(o,i.CHART_CODE,"Custom code"),(0,l.Z)(o,i.PIPELINES,"Pipelines"),(0,l.Z)(o,i.PIPELINE_RUNS,"Pipeline runs"),(0,l.Z)(o,i.PIPELINE_SCHEDULES,"Triggers"),o)}}]);