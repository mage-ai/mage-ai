import React from 'react';
import { Meta, Story } from '@storybook/react';

import FeatureProfiles, { FeatureProfilesProps } from '@components/datasets/FeatureProfiles';
import ThemeBlock from '../ThemeBlock';

export default {
  component: FeatureProfiles,
  title: 'Components/FeatureProfiles',
} as Meta;

const TemplateWithTheme = ({ ...props }) => (
  <ThemeBlock>
    {/*@ts-ignore*/}
    <FeatureProfiles {...props} />
  </ThemeBlock>
);

const Template: Story<FeatureProfilesProps> =
  (args) => <TemplateWithTheme {...args} />;

const statistics = {
  'count': 891,
  'PassengerId/count': 891,
  'PassengerId/count_distinct': 891,
  'PassengerId/null_value_count': 0,
  'PassengerId/value_counts': {
    '1': 1,
    '599': 1,
    '588': 1,
    '589': 1,
    '590': 1,
    '591': 1,
    '592': 1,
    '593': 1,
    '594': 1,
    '595': 1,
    '596': 1,
    '597': 1,
    '598': 1,
    '600': 1,
    '586': 1,
    '601': 1,
    '602': 1,
    '603': 1,
    '604': 1,
    '605': 1
  },
  'PassengerId/null_value_rate': 0.0,
  'PassengerId/unique_value_rate': 1.0,
  'PassengerId/max_null_seq': 0,
  'PassengerId/average': 446.0,
  'PassengerId/max': 891,
  'PassengerId/median': 446.0,
  'PassengerId/min': 1,
  'PassengerId/sum': 397386,
  'PassengerId/skew': 0.0,
  'PassengerId/std': 257.3538420152301,
  'PassengerId/outlier_count': 0,
  'PassengerId/outlier_ratio': 0.0,
  'PassengerId/outliers': [],
  'PassengerId/box_plot_data': {
    'outliers': [],
    'min': 1,
    'first_quartile': 223,
    'median': 446.0,
    'third_quartile': 669,
    'max': 891
  },
  'PassengerId/invalid_value_count': 0,
  'PassengerId/invalid_values': [],
  'PassengerId/invalid_indices': [],
  'PassengerId/invalid_value_distribution': {},
  'PassengerId/invalid_value_rate': 0.0,
  'PassengerId/completeness': 1.0,
  'PassengerId/validity': 1.0,
  'PassengerId/quality': 'Good',
  'Survived/count': 891,
  'Survived/count_distinct': 2,
  'Survived/null_value_count': 0,
  'Survived/value_counts': {
    '0': 549,
    '1': 342
  },
  'Survived/null_value_rate': 0.0,
  'Survived/unique_value_rate': 0.002244668911335578,
  'Survived/max_null_seq': 0,
  'Survived/mode': 0,
  'Survived/mode_ratio': 0,
  'Survived/invalid_value_count': 0,
  'Survived/invalid_values': [],
  'Survived/invalid_indices': [],
  'Survived/invalid_value_distribution': {},
  'Survived/invalid_value_rate': 0.0,
  'Survived/completeness': 1.0,
  'Survived/validity': 1.0,
  'Survived/quality': 'Good',
  'Pclass/count': 891,
  'Pclass/count_distinct': 3,
  'Pclass/null_value_count': 0,
  'Pclass/value_counts': {
    '3': 491,
    '1': 216,
    '2': 184
  },
  'Pclass/null_value_rate': 0.0,
  'Pclass/unique_value_rate': 0.003367003367003367,
  'Pclass/max_null_seq': 0,
  'Pclass/average': 2.308641975308642,
  'Pclass/max': 3,
  'Pclass/median': 3.0,
  'Pclass/min': 1,
  'Pclass/sum': 2057,
  'Pclass/skew': -0.6305479068752845,
  'Pclass/std': 0.836071240977049,
  'Pclass/outlier_count': 0,
  'Pclass/outlier_ratio': 0.0,
  'Pclass/outliers': [],
  'Pclass/box_plot_data': {
    'outliers': [],
    'min': 1,
    'first_quartile': 2,
    'median': 3.0,
    'third_quartile': 3,
    'max': 3
  },
  'Pclass/invalid_value_count': 0,
  'Pclass/invalid_values': [],
  'Pclass/invalid_indices': [],
  'Pclass/invalid_value_distribution': {},
  'Pclass/invalid_value_rate': 0.0,
  'Pclass/completeness': 1.0,
  'Pclass/validity': 1.0,
  'Pclass/quality': 'Good',
  'Name/count': 891,
  'Name/count_distinct': 891,
  'Name/null_value_count': 0,
  'Name/value_counts': {
    'Braund, Mr. Owen Harris': 1,
    'Boulos, Mr. Hanna': 1,
    'Frolicher-Stehli, Mr. Maxmillian': 1,
    'Gilinski, Mr. Eliezer': 1,
    'Murdlin, Mr. Joseph': 1,
    'Rintamaki, Mr. Matti': 1,
    'Stephenson, Mrs. Walter Bertram (Martha Eustis)': 1,
    'Elsbury, Mr. William James': 1,
    'Bourke, Miss. Mary': 1,
    'Chapman, Mr. John Henry': 1,
    'Van Impe, Mr. Jean Baptiste': 1,
    'Leitch, Miss. Jessie Wills': 1,
    'Johnson, Mr. Alfred': 1,
    'Duff Gordon, Sir. Cosmo Edmund ("Mr Morgan")': 1,
    'Taussig, Miss. Ruth': 1,
    'Jacobsohn, Mrs. Sidney Samuel (Amy Frances Christy)': 1,
    'Slabenoff, Mr. Petco': 1,
    'Harrington, Mr. Charles H': 1,
    'Torber, Mr. Ernst William': 1,
    'Homer, Mr. Harry ("Mr E Haven")': 1
  },
  'Name/null_value_rate': 0.0,
  'Name/unique_value_rate': 1.0,
  'Name/max_null_seq': 0,
  'Name/avg_string_length': 26.925925925925927,
  'Name/min_character_count': 12,
  'Name/max_character_count': 82,
  'Name/max_word_count': 14,
  'Name/avg_word_count': 4.078563411896745,
  'Name/min_word_count': 3,
  'Name/word_distribution': {
    'mr': 521,
    'miss': 182,
    'mrs': 129,
    'william': 64,
    'john': 44,
    'master': 40,
    'henry': 35,
    'charles': 24,
    'george': 24,
    'james': 24,
    'thomas': 22,
    'mary': 20,
    'edward': 18,
    'anna': 17,
    'joseph': 16,
    'johan': 15,
    'frederick': 15,
    'elizabeth': 15,
    'richard': 14,
    'samuel': 13
  },
  'Name/mode': 'Braund, Mr. Owen Harris',
  'Name/mode_ratio': 0.001122334455667789,
  'Name/invalid_value_count': 0,
  'Name/invalid_values': [],
  'Name/invalid_indices': [],
  'Name/invalid_value_distribution': {},
  'Name/invalid_value_rate': 0.0,
  'Name/completeness': 1.0,
  'Name/validity': 1.0,
  'Name/quality': 'Good',
  'Sex/count': 891,
  'Sex/count_distinct': 2,
  'Sex/null_value_count': 0,
  'Sex/value_counts': {
    'male': 577,
    'female': 314
  },
  'Sex/null_value_rate': 0.0,
  'Sex/unique_value_rate': 0.002244668911335578,
  'Sex/max_null_seq': 0,
  'Sex/mode': 'male',
  'Sex/mode_ratio': 0.6475869809203143,
  'Sex/invalid_value_count': 0,
  'Sex/invalid_values': [],
  'Sex/invalid_indices': [],
  'Sex/invalid_value_distribution': {},
  'Sex/invalid_value_rate': 0.0,
  'Sex/completeness': 1.0,
  'Sex/validity': 1.0,
  'Sex/quality': 'Good',
  'Age/count': 714,
  'Age/count_distinct': 88,
  'Age/null_value_count': 177,
  'Age/value_counts': {
    'nan': 177,
    '24.0': 30,
    '22.0': 27,
    '18.0': 26,
    '28.0': 25,
    '30.0': 25,
    '19.0': 25,
    '21.0': 24,
    '25.0': 23,
    '36.0': 22,
    '29.0': 20,
    '35.0': 18,
    '32.0': 18,
    '26.0': 18,
    '27.0': 18,
    '31.0': 17,
    '16.0': 17,
    '34.0': 15,
    '20.0': 15,
    '23.0': 15
  },
  'Age/null_value_rate': 0.19865319865319866,
  'Age/unique_value_rate': 0.09876543209876543,
  'Age/max_null_seq': 4,
  'Age/average': 29.69911764705882,
  'Age/max': 80.0,
  'Age/median': 28.0,
  'Age/min': 0.42,
  'Age/sum': 21205.17,
  'Age/skew': 0.38910778230082693,
  'Age/std': 14.526497332334042,
  'Age/outlier_count': 2,
  'Age/outlier_ratio': 0.002244668911335578,
  'Age/outliers': [
    80.0,
    74.0
  ],
  'Age/box_plot_data': {
    'outliers': [
      66.0,
      65.0,
      71.0,
      70.5,
      80.0,
      70.0,
      74.0
    ],
    'min': 0.42,
    'first_quartile': 20.0,
    'median': 28.0,
    'third_quartile': 38.0,
    'max': 64.0
  },
  'Age/invalid_value_count': 0,
  'Age/invalid_values': [],
  'Age/invalid_indices': [],
  'Age/invalid_value_distribution': {},
  'Age/invalid_value_rate': 0.0,
  'Age/completeness': 0.8013468013468014,
  'Age/validity': 0.8013468013468014,
  'Age/quality': 'Good',
  'SibSp/count': 891,
  'SibSp/count_distinct': 7,
  'SibSp/null_value_count': 0,
  'SibSp/value_counts': {
    '0': 608,
    '1': 209,
    '2': 28,
    '4': 18,
    '3': 16,
    '8': 7,
    '5': 5
  },
  'SibSp/null_value_rate': 0.0,
  'SibSp/unique_value_rate': 0.007856341189674524,
  'SibSp/max_null_seq': 0,
  'SibSp/average': 0.5230078563411896,
  'SibSp/max': 8,
  'SibSp/median': 0.0,
  'SibSp/min': 0,
  'SibSp/sum': 466,
  'SibSp/skew': 3.6953517271630565,
  'SibSp/std': 1.1027434322934317,
  'SibSp/outlier_count': 30,
  'SibSp/outlier_ratio': 0.03367003367003367,
  'SibSp/outliers': [
    4,
    4,
    5,
    4,
    5,
    4,
    8,
    4,
    4,
    8,
    4,
    8,
    4,
    4,
    4,
    4,
    8,
    5,
    5,
    4,
    4,
    5,
    4,
    4,
    8,
    4,
    4,
    8,
    4,
    8
  ],
  'SibSp/box_plot_data': {
    'outliers': [
      3,
      4,
      5,
      8
    ],
    'min': 0,
    'first_quartile': 0,
    'median': 0.0,
    'third_quartile': 1,
    'max': 2
  },
  'SibSp/invalid_value_count': 0,
  'SibSp/invalid_values': [],
  'SibSp/invalid_indices': [],
  'SibSp/invalid_value_distribution': {},
  'SibSp/invalid_value_rate': 0.0,
  'SibSp/completeness': 1.0,
  'SibSp/validity': 1.0,
  'SibSp/quality': 'Good',
  'Parch/count': 891,
  'Parch/count_distinct': 7,
  'Parch/null_value_count': 0,
  'Parch/value_counts': {
    '0': 678,
    '1': 118,
    '2': 80,
    '5': 5,
    '3': 5,
    '4': 4,
    '6': 1
  },
  'Parch/null_value_rate': 0.0,
  'Parch/unique_value_rate': 0.007856341189674524,
  'Parch/max_null_seq': 0,
  'Parch/average': 0.38159371492704824,
  'Parch/max': 6,
  'Parch/median': 0.0,
  'Parch/min': 0,
  'Parch/sum': 340,
  'Parch/skew': 2.7491170471010933,
  'Parch/std': 0.8060572211299483,
  'Parch/outlier_count': 15,
  'Parch/outlier_ratio': 0.016835016835016835,
  'Parch/outliers': [
    5,
    5,
    3,
    4,
    4,
    3,
    4,
    4,
    5,
    5,
    6,
    3,
    3,
    3,
    5
  ],
  'Parch/box_plot_data': {
    'outliers': [
      0,
      1,
      2,
      5,
      3,
      4,
      6
    ],
    'min': null,
    'first_quartile': 0,
    'median': 0.0,
    'third_quartile': 0,
    'max': null
  },
  'Parch/invalid_value_count': 0,
  'Parch/invalid_values': [],
  'Parch/invalid_indices': [],
  'Parch/invalid_value_distribution': {},
  'Parch/invalid_value_rate': 0.0,
  'Parch/completeness': 1.0,
  'Parch/validity': 1.0,
  'Parch/quality': 'Good',
  'Ticket/count': 891,
  'Ticket/count_distinct': 681,
  'Ticket/null_value_count': 0,
  'Ticket/value_counts': {
    '347082': 7,
    'CA. 2343': 7,
    '1601': 7,
    '3101295': 6,
    'CA 2144': 6,
    '347088': 6,
    'S.O.C. 14879': 5,
    '382652': 5,
    'LINE': 4,
    'PC 17757': 4,
    '17421': 4,
    '349909': 4,
    '113760': 4,
    '4133': 4,
    '113781': 4,
    'W./C. 6608': 4,
    '2666': 4,
    '19950': 4,
    '347077': 4,
    'C.A. 31921': 3
  },
  'Ticket/null_value_rate': 0.0,
  'Ticket/unique_value_rate': 0.7643097643097643,
  'Ticket/max_null_seq': 0,
  'Ticket/mode': '347082',
  'Ticket/mode_ratio': 0.007856341189674524,
  'Ticket/invalid_value_count': 0,
  'Ticket/invalid_values': [],
  'Ticket/invalid_indices': [],
  'Ticket/invalid_value_distribution': {},
  'Ticket/invalid_value_rate': 0.0,
  'Ticket/completeness': 1.0,
  'Ticket/validity': 1.0,
  'Ticket/quality': 'Good',
  'Fare/count': 891,
  'Fare/count_distinct': 248,
  'Fare/null_value_count': 0,
  'Fare/value_counts': {
    '8.05': 43,
    '13.0': 42,
    '7.8958': 38,
    '7.75': 34,
    '26.0': 31,
    '10.5': 24,
    '7.925': 18,
    '7.775': 16,
    '7.2292': 15,
    '0.0': 15,
    '26.55': 15,
    '7.8542': 13,
    '8.6625': 13,
    '7.25': 13,
    '7.225': 12,
    '9.5': 9,
    '16.1': 9,
    '24.15': 8,
    '15.5': 8,
    '14.4542': 7
  },
  'Fare/null_value_rate': 0.0,
  'Fare/unique_value_rate': 0.2783389450056117,
  'Fare/max_null_seq': 0,
  'Fare/average': 32.204207968574636,
  'Fare/max': 512.3292,
  'Fare/median': 14.4542,
  'Fare/min': 0.0,
  'Fare/sum': 28693.9493,
  'Fare/skew': 4.787316519674893,
  'Fare/std': 49.6934285971809,
  'Fare/outlier_count': 20,
  'Fare/outlier_ratio': 0.02244668911335578,
  'Fare/outliers': [
    263.0,
    263.0,
    247.5208,
    512.3292,
    247.5208,
    262.375,
    263.0,
    211.5,
    227.525,
    263.0,
    221.7792,
    227.525,
    512.3292,
    211.3375,
    227.525,
    227.525,
    211.3375,
    512.3292,
    262.375,
    211.3375
  ],
  'Fare/box_plot_data': {
    'outliers': [
      71.2833,
      263.0,
      146.5208,
      82.1708,
      76.7292,
      80.0,
      83.475,
      73.5,
      77.2875,
      247.5208,
      79.2,
      66.6,
      69.55,
      113.275,
      76.2917,
      90.0,
      86.5,
      512.3292,
      79.65,
      153.4625,
      135.6333,
      77.9583,
      78.85,
      91.0792,
      151.55,
      110.8833,
      108.9,
      83.1583,
      262.375,
      164.8667,
      134.5,
      133.65,
      75.25,
      69.3,
      211.5,
      227.525,
      120.0,
      81.8583,
      89.1042,
      78.2667,
      93.5,
      221.7792,
      106.425,
      71.0,
      211.3375
    ],
    'min': 0.0,
    'first_quartile': 7.8958,
    'median': 14.4542,
    'third_quartile': 31.0,
    'max': 65.0
  },
  'Fare/invalid_value_count': 0,
  'Fare/invalid_values': [],
  'Fare/invalid_indices': [],
  'Fare/invalid_value_distribution': {},
  'Fare/invalid_value_rate': 0.0,
  'Fare/completeness': 1.0,
  'Fare/validity': 1.0,
  'Fare/quality': 'Good',
  'Cabin/count': 204,
  'Cabin/count_distinct': 147,
  'Cabin/null_value_count': 687,
  'Cabin/value_counts': {
    'nan': 687,
    'C23 C25 C27': 4,
    'G6': 4,
    'B96 B98': 4,
    'C22 C26': 3,
    'D': 3,
    'F33': 3,
    'E101': 3,
    'F2': 3,
    'B20': 2,
    'E67': 2,
    'C125': 2,
    'E24': 2,
    'B49': 2,
    'B77': 2,
    'D35': 2,
    'C78': 2,
    'C93': 2,
    'C65': 2,
    'B57 B59 B63 B66': 2
  },
  'Cabin/null_value_rate': 0.7710437710437711,
  'Cabin/unique_value_rate': 0.16498316498316498,
  'Cabin/max_null_seq': 20,
  'Cabin/mode': 'C23 C25 C27',
  'Cabin/mode_ratio': 0.004489337822671156,
  'Cabin/invalid_value_count': 0,
  'Cabin/invalid_values': [],
  'Cabin/invalid_indices': [],
  'Cabin/invalid_value_distribution': {},
  'Cabin/invalid_value_rate': 0.0,
  'Cabin/completeness': 0.2289562289562289,
  'Cabin/validity': 0.2289562289562289,
  'Cabin/quality': 'Bad',
  'Embarked/count': 889,
  'Embarked/count_distinct': 3,
  'Embarked/null_value_count': 2,
  'Embarked/value_counts': {
    'S': 644,
    'C': 168,
    'Q': 77,
    'nan': 2
  },
  'Embarked/null_value_rate': 0.002244668911335578,
  'Embarked/unique_value_rate': 0.003367003367003367,
  'Embarked/max_null_seq': 1,
  'Embarked/mode': 'S',
  'Embarked/mode_ratio': 0.7227833894500562,
  'Embarked/invalid_value_count': 0,
  'Embarked/invalid_values': [],
  'Embarked/invalid_indices': [],
  'Embarked/invalid_value_distribution': {},
  'Embarked/invalid_value_rate': 0.0,
  'Embarked/completeness': 0.9977553310886644,
  'Embarked/validity': 0.9977553310886644,
  'Embarked/quality': 'Good',
  'total_null_value_count': 866,
  'total_null_value_rate': 0.08099513655069211,
  'total_invalid_value_count': 0,
  'total_invalid_value_rate': 0.0,
  'duplicate_row_count': 0,
  'empty_column_count': 0,
  'avg_null_value_count': 72.16666666666667,
  'avg_invalid_value_count': 0.0,
  'empty_column_rate': 0.0,
  'duplicate_row_rate': 0.0,
  'completeness': 0.9190048634493079,
  'validity': 0.9190048634493079,
  'is_timeseries': false,
  'timeseries_index': []
};

const featureData = {
  'PassengerId': 'number',
  'Survived': 'true_or_false',
  'Pclass': 'number',
  'Name': 'text',
  'Sex': 'true_or_false',
  'Age': 'number_with_decimals',
  'SibSp': 'number',
  'Parch': 'number',
  'Ticket': 'category_high_cardinality',
  'Fare': 'number_with_decimals',
  'Cabin': 'category',
  'Embarked': 'category'
};

const features = Object.entries(featureData).map(([uuid, columnType]) => ({ columnType, uuid }));

export const Regular = Template.bind({});
Regular.args = {
  features,
  statistics,
};

export const Linked = Template.bind({});
Linked.args = {
  features,
  shouldLink: true,
  statistics,
};
