/*!-----------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.49.0(383fdf3fc0e1e1a024068b8d0fd4f3dcbae74d04)
 * Released under the MIT license
 * https://github.com/microsoft/vscode/blob/main/LICENSE.txt
 *-----------------------------------------------------------*/(function(){var ie=["exports","require","vs/base/common/lifecycle","vs/nls","vs/nls!vs/editor/editor.main","vs/editor/common/core/range","vs/base/browser/dom","vs/base/common/event","vs/platform/instantiation/common/instantiation","vs/editor/common/core/position","vs/base/common/errors","vs/css!vs/editor/editor.main","vs/base/common/strings","vs/base/common/arrays","vs/platform/contextkey/common/contextkey","vs/base/common/async","vs/editor/browser/editorExtensions","vs/base/common/platform","vs/editor/common/services/languageFeatures","vs/base/common/cancellation","vs/base/common/types","vs/editor/common/editorContextKeys","vs/base/common/uri","vs/platform/theme/common/themeService","vs/editor/common/core/selection","vs/platform/commands/common/commands","vs/base/common/codicons","vs/platform/configuration/common/configuration","vs/editor/common/languages","vs/platform/actions/common/actions","vs/base/common/observable","vs/base/common/themables","vs/platform/keybinding/common/keybinding","vs/platform/theme/common/colorRegistry","vs/editor/common/languages/languageConfigurationRegistry","vs/base/common/color","vs/editor/browser/services/codeEditorService","vs/editor/common/model/textModel","vs/editor/common/config/editorOptions","vs/platform/registry/common/platform","vs/base/browser/fastDomNode","vs/base/common/actions","vs/editor/common/model","vs/editor/common/languages/language","vs/base/browser/ui/hover/hoverDelegateFactory","vs/base/common/map","vs/base/browser/keyboardEvent","vs/base/browser/ui/aria/aria","vs/platform/instantiation/common/extensions","vs/base/common/network","vs/base/common/resources","vs/platform/notification/common/notification","vs/base/browser/window","vs/editor/common/services/model","vs/base/common/iterator","vs/base/common/objects","vs/editor/browser/view/viewPart","vs/base/common/htmlContent","vs/platform/contextview/browser/contextView","vs/editor/common/core/lineRange","vs/platform/log/common/log","vs/platform/opener/common/opener","vs/platform/telemetry/common/telemetry","vs/base/browser/browser","vs/base/common/stopwatch","vs/editor/common/core/offsetRange","vs/platform/accessibility/common/accessibility","vs/base/common/arraysFind","vs/base/browser/touch","vs/base/common/keyCodes","vs/base/common/linkedList","vs/editor/browser/config/domFontInfo","vs/editor/common/core/editOperation","vs/base/browser/mouseEvent","vs/editor/common/services/resolverService","vs/platform/quickinput/common/quickInput","vs/platform/theme/common/iconRegistry","vs/base/browser/ui/hover/hoverDelegate2","vs/base/common/filters","vs/editor/common/cursorCommon","vs/base/browser/ui/widget","vs/base/browser/ui/scrollbar/scrollableElement","vs/base/browser/ui/actionbar/actionbar","vs/editor/browser/widget/diffEditor/utils","vs/editor/common/services/languageFeatureDebounce","vs/editor/common/languages/modesRegistry","vs/editor/common/core/editorColorRegistry","vs/base/common/assert","vs/base/common/hierarchicalKind","vs/base/browser/event","vs/editor/common/core/cursorColumns","vs/editor/common/viewModel","vs/platform/progress/common/progress","vs/platform/theme/common/colorUtils","vs/platform/theme/common/theme","vs/base/common/lazy","vs/editor/contrib/hover/browser/hoverTypes","vs/base/common/path","vs/platform/storage/common/storage","vs/base/browser/trustedTypes","vs/editor/common/diff/rangeMapping","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/length","vs/editor/common/tokens/lineTokens","vs/editor/common/standaloneStrings","vs/platform/markers/common/markers","vs/platform/configuration/common/configurationRegistry","vs/platform/theme/browser/defaultStyles","vs/base/common/severity","vs/editor/common/core/textLength","vs/editor/common/core/textEdit","vs/base/browser/ui/iconLabel/iconLabels","vs/base/browser/ui/list/listWidget","vs/editor/common/core/stringBuilder","vs/editor/common/services/editorWorker","vs/platform/clipboard/common/clipboardService","vs/platform/hover/browser/hover","vs/platform/layout/browser/layoutService","vs/editor/browser/widget/markdownRenderer/browser/markdownRenderer","vs/editor/contrib/editorState/browser/editorState","vs/platform/theme/common/colors/baseColors","vs/platform/actions/browser/menuEntryActionViewItem","vs/base/common/decorators","vs/base/common/functional","vs/base/common/mime","vs/base/common/observableInternal/base","vs/base/common/hash","vs/editor/common/languages/languageConfiguration","vs/editor/common/textModelEvents","vs/editor/browser/view/dynamicViewOverlay","vs/editor/contrib/codeAction/common/types","vs/editor/contrib/snippet/browser/snippetParser","vs/editor/common/viewLayout/viewLineRenderer","vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/platform/keybinding/common/keybindingsRegistry","vs/platform/theme/common/colors/editorColors","vs/base/common/keybindings","vs/base/common/numbers","vs/base/common/iconLabels","vs/editor/browser/stableEditorScroll","vs/editor/common/core/characterClassifier","vs/editor/common/core/eolCounter","vs/editor/common/commands/replaceCommand","vs/editor/common/editorFeatures","vs/editor/common/encodedTokenAttributes","vs/editor/common/languages/supports","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/smallImmutableSet","vs/editor/common/viewLayout/lineDecorations","vs/base/browser/ui/actionbar/actionViewItems","vs/editor/browser/services/bulkEditService","vs/editor/standalone/common/standaloneTheme","vs/editor/contrib/suggest/browser/suggest","vs/platform/quickinput/common/quickAccess","vs/editor/contrib/codeAction/browser/codeAction","vs/editor/contrib/peekView/browser/peekView","vs/base/browser/ui/tree/tree","vs/base/common/equals","vs/base/common/buffer","vs/base/common/observableInternal/logging","vs/base/common/scrollable","vs/editor/browser/view/renderingContext","vs/editor/common/config/editorZoom","vs/editor/common/core/wordCharacterClassifier","vs/editor/common/core/wordHelper","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/diffAlgorithm","vs/editor/browser/editorBrowser","vs/editor/common/viewEventHandler","vs/base/browser/globalPointerMoveMonitor","vs/base/browser/ui/sash/sash","vs/base/browser/ui/hover/hoverWidget","vs/base/browser/ui/toggle/toggle","vs/base/browser/ui/tree/abstractTree","vs/editor/common/languages/nullTokenize","vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/platform/dialogs/common/dialogs","vs/platform/instantiation/common/serviceCollection","vs/platform/label/common/label","vs/editor/contrib/documentSymbols/browser/outlineModel","vs/editor/contrib/message/browser/messageController","vs/editor/browser/editorDom","vs/editor/browser/widget/codeEditor/embeddedCodeEditorWidget","vs/platform/workspace/common/workspace","vs/base/common/idGenerator","vs/base/common/observableInternal/debugName","vs/base/common/observableInternal/derived","vs/base/common/range","vs/base/common/diff/diff","vs/base/common/codiconsUtil","vs/base/common/uint","vs/base/common/uuid","vs/base/common/dataTransfer","vs/base/browser/ui/codicons/codiconStyles","vs/editor/common/core/textModelDefaults","vs/editor/common/editorCommon","vs/editor/common/cursor/cursorWordOperations","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/beforeEditPositionMapper","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/ast","vs/editor/common/model/textModelSearch","vs/editor/contrib/folding/browser/foldingRanges","vs/editor/contrib/inlineCompletions/browser/ghostText","vs/editor/contrib/inlineCompletions/browser/utils","vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/base/browser/markdownRenderer","vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture","vs/editor/common/services/textResourceConfiguration","vs/platform/contextkey/common/contextkeys","vs/editor/browser/controller/textAreaInput","vs/editor/common/commands/shiftCommand","vs/editor/browser/coreCommands","vs/platform/list/browser/listService","vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/platform/actions/browser/toolbar","vs/platform/undoRedo/common/undoRedo","vs/editor/browser/widget/diffEditor/registrations.contribution","vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/editor/contrib/find/browser/findModel","vs/editor/contrib/snippet/browser/snippetController2","vs/base/browser/ui/scrollbar/scrollbarState","vs/base/browser/dnd","vs/base/common/ternarySearchTree","vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/editor/contrib/colorPicker/browser/colorPicker","vs/css!vs/editor/contrib/hover/browser/hover","vs/css!vs/platform/quickinput/browser/media/quickInput","vs/editor/browser/config/tabFocus","vs/editor/common/core/indentation","vs/editor/common/diff/defaultLinesDiffComputer/utils","vs/editor/common/diff/linesDiffComputer","vs/editor/common/cursor/cursorMoveOperations","vs/editor/common/cursor/cursorDeleteOperations","vs/editor/common/cursor/cursorMoveCommands","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/tokenizer","vs/editor/common/model/utils","vs/editor/common/standalone/standaloneEnums","vs/editor/common/textModelGuides","vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/editor/common/viewEvents","vs/editor/common/viewModelEventDispatcher","vs/editor/contrib/hover/browser/hoverActionIds","vs/editor/contrib/inlineCompletions/browser/commandIds","vs/editor/contrib/inlineCompletions/browser/singleTextEdit","vs/base/common/keybindingLabels","vs/base/browser/canIUse","vs/base/browser/ui/tree/indexTreeModel","vs/base/browser/ui/tree/objectTreeModel","vs/base/common/extpath","vs/base/common/marshalling","vs/base/browser/pixelRatio","vs/base/browser/ui/iconLabel/iconLabel","vs/base/browser/ui/resizable/resizable","vs/base/browser/ui/scrollbar/scrollbarArrow","vs/base/browser/ui/list/listView","vs/base/browser/ui/button/button","vs/base/browser/ui/inputbox/inputBox","vs/base/browser/ui/findinput/findInput","vs/editor/browser/view/viewLayer","vs/editor/common/languages/supports/richEditBrackets","vs/editor/common/config/fontInfo","vs/platform/instantiation/common/descriptors","vs/editor/common/services/markerDecorations","vs/editor/common/services/semanticTokensStyling","vs/editor/contrib/dropOrPasteInto/browser/edit","vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/editor/contrib/parameterHints/browser/provideSignatureHelp","vs/platform/environment/common/environment","vs/platform/jsonschemas/common/jsonContributionRegistry","vs/editor/common/config/editorConfigurationSchema","vs/editor/browser/services/editorWorkerService","vs/editor/common/languages/autoIndent","vs/editor/common/languages/enterAction","vs/editor/common/cursor/cursorTypeOperations","vs/editor/contrib/gotoSymbol/browser/goToSymbol","vs/platform/theme/common/colors/miscColors","vs/platform/theme/common/colors/listColors","vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/editor/browser/viewParts/lines/viewLine","vs/editor/common/services/semanticTokensProviderStyling","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/editor/contrib/inlineEdit/browser/inlineEditController","vs/editor/browser/widget/diffEditor/diffEditorWidget","vs/editor/contrib/codeAction/browser/codeActionController","vs/editor/contrib/folding/browser/folding","vs/editor/contrib/inlineProgress/browser/inlineProgress","vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/editor/contrib/hover/browser/hoverController","vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/editor/standalone/browser/standaloneServices","vs/base/browser/performance","vs/base/common/cache","vs/base/common/collections","vs/base/common/observableInternal/autorun","vs/base/common/ime","vs/base/common/observableInternal/utils","vs/base/common/symbols","vs/css!vs/base/browser/ui/actionbar/actionbar","vs/css!vs/base/browser/ui/dropdown/dropdown","vs/css!vs/base/browser/ui/findinput/findInput","vs/css!vs/base/browser/ui/list/list","vs/css!vs/platform/actionWidget/browser/actionWidget","vs/editor/browser/viewParts/minimap/minimapCharSheet","vs/editor/common/config/diffEditor","vs/editor/browser/view/viewUserInputEvents","vs/editor/browser/controller/textAreaState","vs/editor/common/core/rgba","vs/editor/common/cursor/cursorAtomicMoveOperations","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/myersDiffAlgorithm","vs/editor/common/diff/defaultLinesDiffComputer/heuristicSequenceOptimizations","vs/editor/common/diff/defaultLinesDiffComputer/linesSliceCharSequence","vs/editor/common/diff/defaultLinesDiffComputer/defaultLinesDiffComputer","vs/editor/common/editorAction","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/combineTextEditInfos","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/parser","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/brackets","vs/editor/common/model/prefixSumComputer","vs/editor/common/model/textModelPart","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeBase","vs/editor/common/modelLineProjectionData","vs/editor/common/services/treeViewsDnd","vs/editor/common/services/unicodeTextModelHighlighter","vs/editor/common/model/guidesTextModelPart","vs/editor/common/tokens/contiguousMultilineTokensBuilder","vs/editor/browser/viewParts/margin/margin","vs/editor/common/viewModel/overviewZoneManager","vs/editor/contrib/comment/browser/blockCommentCommand","vs/editor/contrib/folding/browser/foldingModel","vs/editor/contrib/folding/browser/indentRangeProvider","vs/editor/contrib/folding/browser/syntaxRangeProvider","vs/editor/contrib/format/browser/formattingEdit","vs/editor/contrib/indentation/common/indentUtils","vs/editor/contrib/semanticTokens/common/semanticTokensConfig","vs/editor/contrib/smartSelect/browser/bracketSelections","vs/editor/contrib/stickyScroll/browser/stickyScrollElement","vs/editor/contrib/suggest/browser/completionModel","vs/editor/contrib/suggest/browser/wordDistance","vs/editor/standalone/common/monarch/monarchCommon","vs/editor/browser/widget/multiDiffEditor/utils","vs/base/common/process","vs/base/common/glob","vs/base/browser/dompurify/dompurify","vs/base/browser/formattedTextRenderer","vs/base/browser/ui/contextview/contextview","vs/base/browser/ui/countBadge/countBadge","vs/base/browser/ui/highlightedlabel/highlightedLabel","vs/base/browser/ui/scrollbar/abstractScrollbar","vs/base/browser/ui/splitview/splitview","vs/base/browser/ui/findinput/findInputToggles","vs/base/browser/ui/dropdown/dropdownActionViewItem","vs/base/browser/ui/tree/objectTree","vs/base/common/worker/simpleWorker","vs/editor/browser/config/elementSizeObserver","vs/editor/common/core/textChange","vs/editor/common/languageSelector","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBuffer","vs/editor/contrib/hover/browser/hoverOperation","vs/editor/contrib/inlayHints/browser/inlayHints","vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/editor/browser/config/fontMeasurements","vs/editor/common/viewModel/viewModelDecorations","vs/editor/common/languages/textToHtmlTokenizer","vs/editor/common/services/editorBaseApi","vs/editor/common/viewModel/minimapTokensColorTracker","vs/editor/common/model/editStack","vs/nls!vs/editor/contrib/rename/browser/renameWidget","vs/platform/action/common/action","vs/platform/files/common/files","vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/editor/contrib/inlineCompletions/browser/ghostTextWidget","vs/editor/contrib/codelens/browser/codelens","vs/editor/contrib/semanticTokens/common/getSemanticTokens","vs/editor/standalone/common/monarch/monarchLexer","vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/editor/contrib/hover/browser/contentHoverStatusBar","vs/editor/contrib/hover/browser/contentHoverWidget","vs/platform/keybinding/common/keybindingResolver","vs/platform/keybinding/common/resolvedKeybindingItem","vs/editor/standalone/browser/standaloneLayoutService","vs/platform/contextview/browser/contextViewService","vs/platform/quickinput/browser/quickInputUtils","vs/platform/dnd/browser/dnd","vs/editor/browser/dnd","vs/editor/contrib/colorPicker/browser/defaultDocumentColorProvider","vs/editor/contrib/colorPicker/browser/color","vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/platform/configuration/common/configurationModels","vs/platform/history/browser/contextScopedHistoryWidget","vs/editor/contrib/suggest/browser/suggestMemory","vs/platform/actions/common/menuService","vs/editor/browser/widget/diffEditor/diffEditorViewModel","vs/editor/contrib/codeAction/browser/codeActionModel","vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/editor/contrib/format/browser/format","vs/editor/contrib/hover/browser/getHover","vs/editor/contrib/wordOperations/browser/wordOperations","vs/platform/theme/common/colors/inputColors","vs/platform/theme/common/colors/minimapColors","vs/editor/browser/controller/mouseTarget","vs/editor/browser/widget/diffEditor/features/overviewRulerFeature","vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/editor/contrib/quickAccess/browser/editorNavigationQuickAccess","vs/editor/standalone/browser/standaloneCodeEditorService","vs/editor/standalone/browser/standaloneThemeService","vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/platform/quickinput/browser/quickInputTree","vs/platform/quickinput/browser/quickInput","vs/editor/browser/widget/multiDiffEditor/diffEditorItemTemplate","vs/editor/contrib/colorPicker/browser/colorDetector","vs/editor/contrib/colorPicker/browser/colorHoverParticipant","vs/editor/contrib/find/browser/findController","vs/editor/contrib/folding/browser/foldingDecorations","vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/editor/contrib/gotoError/browser/gotoError","vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/editor/contrib/inlayHints/browser/inlayHintsLocations","vs/editor/contrib/inlayHints/browser/inlayHintsController","vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/editor/contrib/stickyScroll/browser/stickyScrollController","vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/editor/contrib/snippet/browser/snippetSession","vs/editor/contrib/suggest/browser/suggestModel","vs/editor/contrib/suggest/browser/suggestController","vs/platform/workspace/common/workspaceTrust","vs/base/browser/iframe","vs/base/browser/ui/list/list","vs/base/browser/ui/list/splice","vs/base/common/diff/diffChange","vs/base/common/comparers","vs/base/common/linkedText","vs/base/common/marked/marked","vs/base/common/naturalLanguage/korean","vs/base/common/navigator","vs/base/common/history","vs/base/common/observableInternal/promise","vs/base/browser/ui/list/rangeMap","vs/base/common/search","vs/base/common/tfIdf","vs/base/common/codiconsLibrary","vs/css!vs/base/browser/ui/aria/aria","vs/css!vs/base/browser/ui/button/button","vs/css!vs/base/browser/ui/codicons/codicon/codicon","vs/css!vs/base/browser/ui/codicons/codicon/codicon-modifiers","vs/css!vs/base/browser/ui/contextview/contextview","vs/css!vs/base/browser/ui/countBadge/countBadge","vs/css!vs/base/browser/ui/hover/hoverWidget","vs/css!vs/base/browser/ui/iconLabel/iconlabel","vs/css!vs/base/browser/ui/inputbox/inputBox","vs/css!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/css!vs/base/browser/ui/mouseCursor/mouseCursor","vs/css!vs/base/browser/ui/progressbar/progressbar","vs/css!vs/base/browser/ui/sash/sash","vs/css!vs/base/browser/ui/scrollbar/media/scrollbars","vs/css!vs/base/browser/ui/selectBox/selectBox","vs/css!vs/base/browser/ui/selectBox/selectBoxCustom","vs/css!vs/base/browser/ui/splitview/splitview","vs/css!vs/base/browser/ui/table/table","vs/css!vs/base/browser/ui/toggle/toggle","vs/css!vs/base/browser/ui/toolbar/toolbar","vs/css!vs/base/browser/ui/tree/media/tree","vs/css!vs/editor/browser/controller/textAreaHandler","vs/css!vs/editor/browser/services/hoverService/hover","vs/css!vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/css!vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/css!vs/editor/browser/viewParts/decorations/decorations","vs/css!vs/editor/browser/viewParts/glyphMargin/glyphMargin","vs/css!vs/editor/browser/viewParts/indentGuides/indentGuides","vs/css!vs/editor/browser/viewParts/lineNumbers/lineNumbers","vs/css!vs/editor/browser/viewParts/lines/viewLines","vs/css!vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/css!vs/editor/browser/viewParts/margin/margin","vs/css!vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/css!vs/editor/browser/viewParts/minimap/minimap","vs/css!vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/css!vs/editor/browser/viewParts/rulers/rulers","vs/css!vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/css!vs/editor/browser/viewParts/selections/selections","vs/css!vs/editor/browser/viewParts/viewCursors/viewCursors","vs/css!vs/editor/browser/viewParts/whitespace/whitespace","vs/css!vs/editor/browser/widget/codeEditor/editor","vs/css!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/css!vs/editor/browser/widget/diffEditor/style","vs/css!vs/editor/browser/widget/markdownRenderer/browser/renderedMarkdown","vs/css!vs/editor/browser/widget/multiDiffEditor/style","vs/css!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/css!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/css!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/css!vs/editor/contrib/codelens/browser/codelensWidget","vs/css!vs/editor/contrib/dnd/browser/dnd","vs/css!vs/editor/contrib/dropOrPasteInto/browser/postEditWidget","vs/css!vs/editor/contrib/find/browser/findOptionsWidget","vs/css!vs/editor/contrib/find/browser/findWidget","vs/css!vs/editor/contrib/folding/browser/folding","vs/css!vs/editor/contrib/gotoError/browser/media/gotoErrorWidget","vs/css!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/css!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/css!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/css!vs/editor/contrib/inlineCompletions/browser/ghostText","vs/css!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEdit","vs/css!vs/editor/contrib/inlineEdit/browser/inlineEditHintsWidget","vs/css!vs/editor/contrib/inlineProgress/browser/inlineProgressWidget","vs/css!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/css!vs/editor/contrib/links/browser/links","vs/css!vs/editor/contrib/message/browser/messageController","vs/css!vs/editor/contrib/parameterHints/browser/parameterHints","vs/css!vs/editor/contrib/peekView/browser/media/peekViewWidget","vs/css!vs/editor/contrib/rename/browser/renameWidget","vs/css!vs/editor/contrib/snippet/browser/snippetSession","vs/css!vs/editor/contrib/stickyScroll/browser/stickyScroll","vs/css!vs/editor/contrib/suggest/browser/media/suggest","vs/css!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/css!vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/css!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/css!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/css!vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/css!vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/css!vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/css!vs/editor/standalone/browser/quickInput/standaloneQuickInput","vs/css!vs/editor/standalone/browser/standalone-tokens","vs/css!vs/platform/actions/browser/menuEntryActionViewItem","vs/css!vs/platform/opener/browser/link","vs/css!vs/platform/severityIcon/browser/media/severityIcon","vs/editor/browser/config/charWidthReader","vs/editor/browser/config/migrateOptions","vs/editor/browser/observableUtilities","vs/editor/browser/viewParts/lines/domReadingContext","vs/editor/browser/viewParts/lines/rangeUtil","vs/editor/browser/viewParts/minimap/minimapCharRenderer","vs/editor/browser/viewParts/minimap/minimapPreBaked","vs/editor/browser/viewParts/minimap/minimapCharRendererFactory","vs/editor/browser/widget/diffEditor/delegatingEditorImpl","vs/editor/browser/widget/multiDiffEditor/objectPool","vs/editor/common/commands/trimTrailingWhitespaceCommand","vs/editor/common/commands/surroundSelectionCommand","vs/editor/common/core/positionToOffset","vs/editor/common/cursor/cursorContext","vs/editor/common/diff/defaultLinesDiffComputer/lineSequence","vs/editor/common/diff/defaultLinesDiffComputer/algorithms/dynamicProgrammingDiffing","vs/editor/common/diff/defaultLinesDiffComputer/computeMovedLines","vs/editor/common/diff/legacyLinesDiffComputer","vs/editor/common/diff/linesDiffComputers","vs/editor/common/editorTheme","vs/editor/common/languages/defaultDocumentColorsComputer","vs/editor/common/languages/linkComputer","vs/editor/common/cursor/cursorColumnSelection","vs/editor/common/cursor/oneCursor","vs/editor/common/cursor/cursorCollection","vs/editor/common/languages/supports/characterPair","vs/editor/common/languages/supports/indentRules","vs/editor/common/languages/supports/inplaceReplaceSupport","vs/editor/common/languages/supports/languageBracketsConfiguration","vs/editor/common/languages/supports/onEnter","vs/editor/common/languages/supports/tokenization","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/nodeReader","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/concat23Trees","vs/editor/common/model/bracketPairsTextModelPart/fixBrackets","vs/editor/common/model/fixedArray","vs/editor/common/model/indentationGuesser","vs/editor/common/model/intervalTree","vs/editor/common/model/pieceTreeTextBuffer/rbTreeBase","vs/editor/common/model/mirrorTextModel","vs/editor/common/model/textModelText","vs/editor/common/services/findSectionHeaders","vs/editor/common/textModelBracketPairs","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsTree/bracketPairsTree","vs/editor/common/tokenizationRegistry","vs/editor/common/tokens/contiguousMultilineTokens","vs/editor/common/tokens/contiguousTokensEditing","vs/editor/common/tokens/contiguousTokensStore","vs/editor/common/tokens/sparseMultilineTokens","vs/editor/common/tokens/sparseTokensStore","vs/editor/browser/viewParts/blockDecorations/blockDecorations","vs/editor/browser/viewParts/decorations/decorations","vs/editor/browser/viewParts/linesDecorations/linesDecorations","vs/editor/browser/viewParts/marginDecorations/marginDecorations","vs/editor/browser/viewParts/rulers/rulers","vs/editor/browser/viewParts/scrollDecoration/scrollDecoration","vs/editor/browser/viewParts/viewZones/viewZones","vs/editor/common/viewLayout/linePart","vs/editor/common/viewLayout/linesLayout","vs/editor/common/viewLayout/viewLinesViewportData","vs/editor/common/viewModel/glyphLanesModel","vs/editor/common/viewModel/modelLineProjection","vs/editor/common/viewModel/monospaceLineBreaksComputer","vs/editor/browser/viewParts/overviewRuler/overviewRuler","vs/editor/common/viewModel/viewContext","vs/editor/common/viewLayout/viewLayout","vs/editor/contrib/caretOperations/browser/moveCaretCommand","vs/editor/contrib/colorPicker/browser/colorPickerModel","vs/editor/contrib/comment/browser/lineCommentCommand","vs/editor/contrib/dnd/browser/dragAndDropCommand","vs/editor/contrib/find/browser/replaceAllCommand","vs/editor/contrib/find/browser/replacePattern","vs/editor/contrib/folding/browser/hiddenRangeModel","vs/editor/contrib/hover/browser/contentHoverTypes","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplaceCommand","vs/editor/contrib/inlineEdit/browser/commandIds","vs/editor/contrib/linesOperations/browser/copyLinesCommand","vs/editor/contrib/linesOperations/browser/sortLinesCommand","vs/editor/contrib/smartSelect/browser/wordSelections","vs/editor/contrib/suggest/browser/suggestCommitCharacters","vs/editor/contrib/suggest/browser/suggestOvertypingCapturer","vs/editor/standalone/common/monarch/monarchCompile","vs/nls!vs/base/browser/ui/actionbar/actionViewItems","vs/nls!vs/base/browser/ui/findinput/findInput","vs/nls!vs/base/browser/ui/findinput/findInputToggles","vs/nls!vs/base/browser/ui/findinput/replaceInput","vs/nls!vs/base/browser/ui/hover/hoverWidget","vs/nls!vs/base/browser/ui/inputbox/inputBox","vs/nls!vs/base/browser/ui/keybindingLabel/keybindingLabel","vs/nls!vs/base/browser/ui/selectBox/selectBoxCustom","vs/nls!vs/base/browser/ui/toolbar/toolbar","vs/nls!vs/base/browser/ui/tree/abstractTree","vs/nls!vs/base/common/actions","vs/nls!vs/base/common/errorMessage","vs/base/common/errorMessage","vs/nls!vs/base/common/keybindingLabels","vs/nls!vs/base/common/platform","vs/base/browser/fonts","vs/base/browser/ui/scrollbar/scrollbarVisibilityController","vs/base/browser/ui/tree/compressedObjectTreeModel","vs/base/common/hotReload","vs/base/common/fuzzyScorer","vs/base/common/labels","vs/base/browser/ui/dropdown/dropdown","vs/base/browser/ui/list/rowCache","vs/base/browser/ui/progressbar/progressbar","vs/base/browser/ui/selectBox/selectBoxNative","vs/base/browser/ui/scrollbar/horizontalScrollbar","vs/base/browser/ui/scrollbar/verticalScrollbar","vs/base/browser/ui/list/listPaging","vs/base/browser/ui/table/tableWidget","vs/base/browser/ui/selectBox/selectBoxCustom","vs/base/browser/ui/selectBox/selectBox","vs/base/browser/ui/findinput/replaceInput","vs/base/browser/ui/menu/menu","vs/base/browser/ui/toolbar/toolbar","vs/base/browser/ui/tree/dataTree","vs/base/browser/ui/tree/asyncDataTree","vs/base/browser/defaultWorkerFactory","vs/base/parts/storage/common/storage","vs/editor/browser/viewParts/contentWidgets/contentWidgets","vs/editor/browser/viewParts/overlayWidgets/overlayWidgets","vs/editor/browser/widget/codeEditor/codeEditorContributions","vs/editor/browser/widget/diffEditor/components/diffEditorSash","vs/editor/browser/widget/diffEditor/utils/editorGutter","vs/editor/browser/view/domLineBreaksComputer","vs/editor/browser/view/viewOverlays","vs/editor/common/languageFeatureRegistry","vs/editor/common/languages/supports/electricCharacter","vs/editor/common/model/bracketPairsTextModelPart/bracketPairsImpl","vs/editor/common/model/pieceTreeTextBuffer/pieceTreeTextBufferBuilder","vs/editor/common/services/semanticTokensDto","vs/editor/contrib/hover/browser/contentHoverComputer","vs/editor/contrib/hover/browser/marginHoverComputer","vs/editor/contrib/hover/browser/resizableContentWidget","vs/editor/contrib/inlineCompletions/browser/provideInlineCompletions","vs/nls!vs/editor/browser/controller/textAreaHandler","vs/nls!vs/editor/browser/coreCommands","vs/nls!vs/editor/browser/editorExtensions","vs/nls!vs/editor/browser/services/hoverService/hoverWidget","vs/nls!vs/editor/browser/services/hoverService/updatableHoverWidget","vs/editor/browser/services/hoverService/updatableHoverWidget","vs/nls!vs/editor/browser/widget/codeEditor/codeEditorWidget","vs/nls!vs/editor/browser/widget/diffEditor/commands","vs/nls!vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/nls!vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin","vs/nls!vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/nls!vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature","vs/nls!vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/editor/browser/widget/diffEditor/features/revertButtonsFeature","vs/nls!vs/editor/browser/widget/diffEditor/registrations.contribution","vs/nls!vs/editor/browser/widget/multiDiffEditor/colors","vs/nls!vs/editor/common/config/editorConfigurationSchema","vs/nls!vs/editor/common/config/editorOptions","vs/editor/browser/viewParts/viewCursors/viewCursor","vs/nls!vs/editor/common/core/editorColorRegistry","vs/nls!vs/editor/common/editorContextKeys","vs/nls!vs/editor/common/languages","vs/editor/common/model/textModelTokens","vs/editor/common/model/tokenizationTextModelPart","vs/editor/common/services/editorSimpleWorker","vs/nls!vs/editor/common/languages/modesRegistry","vs/nls!vs/editor/common/model/editStack","vs/nls!vs/editor/common/standaloneStrings","vs/nls!vs/editor/common/viewLayout/viewLineRenderer","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/renderLines","vs/nls!vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/nls!vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/nls!vs/editor/contrib/caretOperations/browser/caretOperations","vs/nls!vs/editor/contrib/caretOperations/browser/transpose","vs/nls!vs/editor/contrib/clipboard/browser/clipboard","vs/nls!vs/editor/contrib/codeAction/browser/codeAction","vs/nls!vs/editor/contrib/codeAction/browser/codeActionCommands","vs/nls!vs/editor/contrib/codeAction/browser/codeActionContributions","vs/nls!vs/editor/contrib/codeAction/browser/codeActionController","vs/nls!vs/editor/contrib/codeAction/browser/codeActionMenu","vs/nls!vs/editor/contrib/codeAction/browser/lightBulbWidget","vs/nls!vs/editor/contrib/codelens/browser/codelensController","vs/nls!vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/nls!vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/nls!vs/editor/contrib/comment/browser/comment","vs/nls!vs/editor/contrib/contextmenu/browser/contextmenu","vs/nls!vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/copyPasteController","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/defaultProviders","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/nls!vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/nls!vs/editor/contrib/editorState/browser/keybindingCancellation","vs/nls!vs/editor/contrib/find/browser/findController","vs/nls!vs/editor/contrib/find/browser/findWidget","vs/nls!vs/editor/contrib/folding/browser/folding","vs/nls!vs/editor/contrib/folding/browser/foldingDecorations","vs/nls!vs/editor/contrib/fontZoom/browser/fontZoom","vs/nls!vs/editor/contrib/format/browser/formatActions","vs/nls!vs/editor/contrib/gotoError/browser/gotoError","vs/nls!vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/goToCommands","vs/nls!vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesController","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/nls!vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/nls!vs/editor/contrib/gotoSymbol/browser/referencesModel","vs/nls!vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/nls!vs/editor/contrib/hover/browser/hoverActions","vs/nls!vs/editor/contrib/hover/browser/markdownHoverParticipant","vs/nls!vs/editor/contrib/hover/browser/markerHoverParticipant","vs/nls!vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/nls!vs/editor/contrib/indentation/browser/indentation","vs/nls!vs/editor/contrib/inlayHints/browser/inlayHintsHover","vs/nls!vs/editor/contrib/inlineCompletions/browser/commands","vs/nls!vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController","vs/nls!vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget","vs/nls!vs/editor/contrib/lineSelection/browser/lineSelection","vs/nls!vs/editor/contrib/linesOperations/browser/linesOperations","vs/nls!vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/nls!vs/editor/contrib/links/browser/links","vs/nls!vs/editor/contrib/message/browser/messageController","vs/nls!vs/editor/contrib/multicursor/browser/multicursor","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHints","vs/nls!vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/nls!vs/editor/contrib/peekView/browser/peekView","vs/nls!vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/nls!vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/nls!vs/editor/contrib/readOnlyMessage/browser/contribution","vs/nls!vs/editor/contrib/rename/browser/rename","vs/nls!vs/editor/contrib/smartSelect/browser/smartSelect","vs/nls!vs/editor/contrib/snippet/browser/snippetController2","vs/nls!vs/editor/contrib/snippet/browser/snippetVariables","vs/nls!vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/nls!vs/editor/contrib/suggest/browser/suggest","vs/nls!vs/editor/contrib/suggest/browser/suggestController","vs/nls!vs/editor/contrib/suggest/browser/suggestWidget","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetDetails","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/nls!vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/nls!vs/editor/contrib/symbolIcons/browser/symbolIcons","vs/nls!vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/nls!vs/editor/contrib/tokenization/browser/tokenization","vs/nls!vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/nls!vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/nls!vs/editor/contrib/wordHighlighter/browser/highlightDecorations","vs/nls!vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/nls!vs/editor/contrib/wordOperations/browser/wordOperations","vs/nls!vs/platform/accessibilitySignal/browser/accessibilitySignalService","vs/nls!vs/platform/action/common/actionCommonCategories","vs/nls!vs/platform/actionWidget/browser/actionList","vs/nls!vs/platform/actionWidget/browser/actionWidget","vs/nls!vs/platform/actions/browser/menuEntryActionViewItem","vs/nls!vs/platform/actions/browser/toolbar","vs/nls!vs/platform/actions/common/menuService","vs/nls!vs/platform/configuration/common/configurationRegistry","vs/nls!vs/platform/contextkey/browser/contextKeyService","vs/nls!vs/platform/contextkey/common/contextkey","vs/nls!vs/platform/contextkey/common/contextkeys","vs/nls!vs/platform/contextkey/common/scanner","vs/nls!vs/platform/history/browser/contextScopedHistoryWidget","vs/nls!vs/platform/keybinding/common/abstractKeybindingService","vs/nls!vs/platform/list/browser/listService","vs/nls!vs/platform/markers/common/markers","vs/nls!vs/platform/quickinput/browser/commandsQuickAccess","vs/nls!vs/platform/quickinput/browser/helpQuickAccess","vs/nls!vs/platform/quickinput/browser/quickInput","vs/nls!vs/platform/quickinput/browser/quickInputController","vs/nls!vs/platform/quickinput/browser/quickInputTree","vs/nls!vs/platform/quickinput/browser/quickInputUtils","vs/nls!vs/platform/theme/common/colors/baseColors","vs/nls!vs/platform/theme/common/colors/chartsColors","vs/nls!vs/platform/theme/common/colors/editorColors","vs/nls!vs/platform/theme/common/colors/inputColors","vs/nls!vs/platform/theme/common/colors/listColors","vs/nls!vs/platform/theme/common/colors/menuColors","vs/nls!vs/platform/theme/common/colors/minimapColors","vs/nls!vs/platform/theme/common/colors/miscColors","vs/nls!vs/platform/theme/common/colors/quickpickColors","vs/nls!vs/platform/theme/common/colors/searchColors","vs/nls!vs/platform/theme/common/iconRegistry","vs/nls!vs/platform/undoRedo/common/undoRedoService","vs/nls!vs/platform/workspace/common/workspace","vs/platform/action/common/actionCommonCategories","vs/platform/contextkey/common/scanner","vs/platform/editor/common/editor","vs/platform/extensions/common/extensions","vs/platform/history/browser/historyWidgetKeybindingHint","vs/platform/instantiation/common/graph","vs/editor/common/services/languageFeaturesService","vs/editor/common/services/treeViewsDndService","vs/editor/contrib/inlineEdit/browser/ghostTextWidget","vs/editor/contrib/links/browser/getLinks","vs/editor/standalone/browser/colorizer","vs/editor/contrib/parameterHints/browser/parameterHintsModel","vs/editor/contrib/suggest/browser/suggestAlternatives","vs/editor/contrib/suggest/browser/wordContextKey","vs/editor/browser/config/editorConfiguration","vs/editor/browser/widget/diffEditor/diffEditorOptions","vs/platform/contextkey/browser/contextKeyService","vs/platform/instantiation/common/instantiationService","vs/platform/keybinding/common/baseResolvedKeybinding","vs/platform/keybinding/common/abstractKeybindingService","vs/platform/keybinding/common/usLayoutResolvedKeybinding","vs/platform/accessibility/browser/accessibilityService","vs/editor/contrib/diffEditorBreadcrumbs/browser/contribution","vs/editor/contrib/documentSymbols/browser/documentSymbols","vs/platform/clipboard/browser/clipboardService","vs/platform/log/common/logService","vs/editor/contrib/gotoError/browser/markerNavigationService","vs/platform/markers/common/markerService","vs/editor/browser/services/openerService","vs/platform/opener/browser/link","vs/platform/quickinput/browser/pickerQuickAccess","vs/platform/quickinput/browser/quickInputBox","vs/editor/browser/services/hoverService/hoverWidget","vs/editor/browser/services/webWorker","vs/editor/common/cursor/cursor","vs/editor/common/services/getIconClasses","vs/editor/common/services/languagesAssociations","vs/editor/common/services/languagesRegistry","vs/editor/common/services/languageService","vs/editor/contrib/hover/browser/marginHoverWidget","vs/editor/contrib/indentation/common/indentation","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsSource","vs/editor/contrib/linesOperations/browser/moveLinesCommand","vs/platform/configuration/common/configurations","vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode","vs/platform/quickinput/browser/helpQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneHelpQuickAccess","vs/platform/quickinput/browser/quickAccess","vs/platform/severityIcon/browser/severityIcon","vs/editor/contrib/codelens/browser/codeLensCache","vs/editor/browser/services/markerDecorations","vs/editor/browser/view/viewController","vs/editor/browser/widget/diffEditor/diffProviderFactoryService","vs/editor/contrib/anchorSelect/browser/anchorSelect","vs/editor/contrib/caretOperations/browser/caretOperations","vs/editor/contrib/caretOperations/browser/transpose","vs/editor/contrib/comment/browser/comment","vs/editor/contrib/cursorUndo/browser/cursorUndo","vs/editor/contrib/editorState/browser/keybindingCancellation","vs/editor/contrib/codeAction/browser/codeActionKeybindingResolver","vs/editor/contrib/fontZoom/browser/fontZoom","vs/editor/contrib/format/browser/formatActions","vs/editor/contrib/gotoSymbol/browser/symbolNavigation","vs/editor/contrib/indentation/browser/indentation","vs/editor/contrib/lineSelection/browser/lineSelection","vs/editor/contrib/linesOperations/browser/linesOperations","vs/editor/contrib/longLinesHelper/browser/longLinesHelper","vs/editor/contrib/readOnlyMessage/browser/contribution","vs/editor/contrib/smartSelect/browser/smartSelect","vs/editor/contrib/tokenization/browser/tokenization","vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators","vs/editor/contrib/wordPartOperations/browser/wordPartOperations","vs/editor/standalone/browser/iPadShowKeyboard/iPadShowKeyboard","vs/editor/standalone/browser/inspectTokens/inspectTokens","vs/platform/quickinput/browser/commandsQuickAccess","vs/editor/contrib/quickAccess/browser/commandsQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneCommandsQuickAccess","vs/platform/theme/common/colors/menuColors","vs/platform/theme/common/colors/chartsColors","vs/platform/theme/common/colors/quickpickColors","vs/platform/theme/common/colors/searchColors","vs/editor/browser/viewParts/minimap/minimap","vs/editor/browser/widget/multiDiffEditor/colors","vs/editor/contrib/codeAction/browser/codeActionMenu","vs/editor/contrib/gotoSymbol/browser/peek/referencesTree","vs/platform/actionWidget/browser/actionList","vs/platform/actionWidget/browser/actionWidget","vs/platform/contextview/browser/contextMenuHandler","vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer","vs/editor/contrib/colorPicker/browser/colorPickerWidget","vs/editor/contrib/parameterHints/browser/parameterHintsWidget","vs/editor/contrib/parameterHints/browser/parameterHints","vs/editor/contrib/unicodeHighlighter/browser/bannerController","vs/platform/theme/browser/iconsStyleSheet","vs/editor/browser/controller/mouseHandler","vs/editor/browser/controller/pointerHandler","vs/editor/browser/viewParts/lines/viewLines","vs/editor/browser/services/abstractCodeEditorService","vs/editor/browser/services/hoverService/hoverService","vs/editor/browser/viewParts/editorScrollbar/editorScrollbar","vs/editor/browser/viewParts/selections/selections","vs/editor/browser/widget/diffEditor/components/diffEditorEditors","vs/editor/browser/viewParts/currentLineHighlight/currentLineHighlight","vs/editor/browser/viewParts/indentGuides/indentGuides","vs/editor/browser/controller/textAreaHandler","vs/editor/browser/viewParts/overviewRuler/decorationsOverviewRuler","vs/editor/browser/viewParts/viewCursors/viewCursors","vs/editor/browser/viewParts/whitespace/whitespace","vs/editor/browser/view","vs/editor/common/model/bracketPairsTextModelPart/colorizedBracketPairsDecorationProvider","vs/editor/common/services/markerDecorationsService","vs/editor/common/services/semanticTokensStylingService","vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess","vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess","vs/editor/contrib/rename/browser/renameWidget","vs/editor/contrib/rename/browser/rename","vs/editor/contrib/semanticTokens/browser/documentSemanticTokens","vs/editor/contrib/semanticTokens/browser/viewportSemanticTokens","vs/editor/contrib/suggest/browser/suggestWidgetRenderer","vs/editor/standalone/browser/quickAccess/standaloneGotoLineQuickAccess","vs/editor/standalone/browser/quickAccess/standaloneGotoSymbolQuickAccess","vs/editor/standalone/common/themes","vs/editor/standalone/browser/toggleHighContrast/toggleHighContrast","vs/editor/contrib/suggest/browser/suggestWidgetStatus","vs/editor/browser/widget/diffEditor/features/gutterFeature","vs/editor/contrib/inlineEdit/browser/commands","vs/editor/contrib/inlineEdit/browser/hoverParticipant","vs/editor/contrib/inlineEdit/browser/inlineEdit.contribution","vs/platform/contextview/browser/contextMenuService","vs/platform/quickinput/browser/quickInputController","vs/platform/quickinput/browser/quickInputService","vs/editor/standalone/browser/quickInput/standaloneQuickInputService","vs/editor/browser/widget/diffEditor/components/diffEditorDecorations","vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/diffEditorViewZones","vs/editor/common/services/modelService","vs/editor/common/viewModel/viewModelLines","vs/editor/common/viewModel/viewModelImpl","vs/editor/browser/widget/diffEditor/commands","vs/editor/browser/widget/diffEditor/diffEditor.contribution","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidgetImpl","vs/editor/browser/widget/multiDiffEditor/multiDiffEditorWidget","vs/editor/contrib/bracketMatching/browser/bracketMatching","vs/editor/contrib/codeAction/browser/codeActionCommands","vs/editor/contrib/codeAction/browser/codeActionContributions","vs/editor/contrib/codelens/browser/codelensWidget","vs/editor/contrib/codelens/browser/codelensController","vs/editor/contrib/colorPicker/browser/standaloneColorPickerWidget","vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions","vs/editor/contrib/dnd/browser/dnd","vs/editor/contrib/find/browser/findDecorations","vs/editor/contrib/find/browser/findOptionsWidget","vs/editor/contrib/find/browser/findState","vs/editor/contrib/find/browser/findWidget","vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController","vs/editor/contrib/linkedEditing/browser/linkedEditing","vs/editor/contrib/links/browser/links","vs/editor/contrib/sectionHeaders/browser/sectionHeaders","vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollProvider","vs/editor/contrib/stickyScroll/browser/stickyScrollWidget","vs/editor/contrib/suggest/browser/suggestWidget","vs/editor/contrib/multicursor/browser/multicursor","vs/editor/contrib/wordHighlighter/browser/wordHighlighter","vs/editor/contrib/zoneWidget/browser/zoneWidget","vs/editor/contrib/gotoError/browser/gotoErrorWidget","vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget","vs/editor/contrib/hover/browser/markerHoverParticipant","vs/editor/contrib/hover/browser/contentHoverController","vs/editor/contrib/colorPicker/browser/colorContributions","vs/editor/contrib/hover/browser/hoverActions","vs/editor/contrib/hover/browser/hoverContribution","vs/editor/contrib/inlayHints/browser/inlayHintsContribution","vs/editor/contrib/stickyScroll/browser/stickyScrollActions","vs/editor/contrib/stickyScroll/browser/stickyScrollContribution","vs/editor/standalone/browser/referenceSearch/standaloneReferenceSearch","vs/platform/undoRedo/common/undoRedoService","vs/editor/contrib/contextmenu/browser/contextmenu","vs/editor/contrib/clipboard/browser/clipboard","vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution","vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution","vs/editor/contrib/snippet/browser/snippetVariables","vs/editor/contrib/inlineCompletions/browser/inlineCompletionsModel","vs/editor/contrib/inlineCompletions/browser/suggestWidgetInlineCompletionProvider","vs/editor/contrib/inlineCompletions/browser/commands","vs/editor/contrib/inlineCompletions/browser/hoverParticipant","vs/editor/contrib/inlineCompletions/browser/inlineCompletions.contribution","vs/editor/contrib/suggest/browser/suggestInlineCompletions","vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter","vs/editor/editor.all","vs/editor/standalone/browser/standaloneCodeEditor","vs/editor/standalone/browser/standaloneEditor","vs/editor/standalone/browser/standaloneLanguages","vs/editor/editor.api","vs/css","vs/editor/edcore.main"],ne=function(Q){for(var e=[],f=0,k=Q.length;f<k;f++)e[f]=ie[Q[f]];return e};define(ie[998],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.load=f;function f(p,w,b,C){if(C=C||{},(C["vs/css"]||{}).disabled){b({});return}const s=w.toUrl(p+".css");k(p,s,()=>{b({})},i=>{typeof b.error=="function"&&b.error("Could not find "+s+".")})}function k(p,w,b,C){if(E(p,w)){b();return}D(p,w,b,C)}function E(p,w){const b=window.document.getElementsByTagName("link");for(let C=0,o=b.length;C<o;C++){const s=b[C].getAttribute("data-name"),i=b[C].getAttribute("href");if(s===p||i===w)return!0}return!1}function D(p,w,b,C){const o=document.createElement("link");o.setAttribute("rel","stylesheet"),o.setAttribute("type","text/css"),o.setAttribute("data-name",p),y(p,o,b,C),o.setAttribute("href",w),(window.document.head||window.document.getElementsByTagName("head")[0]).appendChild(o)}function y(p,w,b,C){const o=()=>{w.removeEventListener("load",s),w.removeEventListener("error",i)},s=t=>{o(),b()},i=t=>{o(),C(t)};w.addEventListener("load",s),w.addEventListener("error",i)}}),define(ie[3],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.localize=C,e.localize2=o,e.getConfiguredDefaultLocale=s,e.setPseudoTranslation=i,e.create=t,e.load=n;let f=typeof document<"u"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const k="i-default";function E(c,m){let u;return m.length===0?u=c:u=c.replace(/\{(\d+)\}/g,(r,a)=>{const h=a[0],l=m[h];let g=r;return typeof l=="string"?g=l:(typeof l=="number"||typeof l=="boolean"||l===void 0||l===null)&&(g=String(l)),g}),f&&(u="\uFF3B"+u.replace(/[aouei]/g,"$&$&")+"\uFF3D"),u}function D(c,m){let u=c[m];return u||(u=c["*"],u)?u:null}function y(c){return c.charAt(c.length-1)==="/"?c:c+"/"}async function p(c,m,u){const r=y(c)+y(m)+"vscode/"+y(u),a=await fetch(r);if(a.ok)return await a.json();throw new Error(`${a.status} - ${a.statusText}`)}function w(c){return function(m,u){const r=Array.prototype.slice.call(arguments,2);return E(c[m],r)}}function b(c){return(m,u,...r)=>({value:E(c[m],r),original:E(u,r)})}function C(c,m,...u){return E(m,u)}function o(c,m,...u){const r=E(m,u);return{value:r,original:r}}function s(c){}function i(c){f=c}function t(c,m){var u;return{localize:w(m[c]),localize2:b(m[c]),getConfiguredDefaultLocale:(u=m.getConfiguredDefaultLocale)!==null&&u!==void 0?u:r=>{}}}function n(c,m,u,r){var a;const h=(a=r["vs/nls"])!==null&&a!==void 0?a:{};if(!c||c.length===0)return u({localize:C,localize2:o,getConfiguredDefaultLocale:()=>{var _;return(_=h.availableLanguages)===null||_===void 0?void 0:_["*"]}});const l=h.availableLanguages?D(h.availableLanguages,c):null,g=l===null||l===k;let d=".nls";g||(d=d+"."+l);const v=_=>{Array.isArray(_)?(_.localize=w(_),_.localize2=b(_)):(_.localize=w(_[c]),_.localize2=b(_[c])),_.getConfiguredDefaultLocale=()=>{var S;return(S=h.availableLanguages)===null||S===void 0?void 0:S["*"]},u(_)};typeof h.loadBundle=="function"?h.loadBundle(c,l,(_,S)=>{_?m([c+".nls"],v):v(S)}):h.translationServiceUrl&&!g?(async()=>{var _;try{const S=await p(h.translationServiceUrl,l,c);return v(S)}catch(S){if(!l.includes("-"))return console.error(S),m([c+".nls"],v);try{const L=l.split("-")[0],I=await p(h.translationServiceUrl,L,c);return(_=h.availableLanguages)!==null&&_!==void 0||(h.availableLanguages={}),h.availableLanguages["*"]=L,v(I)}catch(L){return console.error(L),m([c+".nls"],v)}}})():m([c+d],v,_=>{if(d===".nls"){console.error("Failed trying to load default language strings",_);return}console.error(`Failed to load message bundle for language ${l}. Falling back to the default language:`,_),m([c+".nls"],v)})}});/*! @license DOMPurify 3.0.5 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.0.5/LICENSE */const{entries:Vt,setPrototypeOf:zt,isFrozen:Xt,getPrototypeOf:Jt,getOwnPropertyDescriptor:ei}=Object;let{freeze:mt,seal:St,create:ti}=Object,{apply:Rt,construct:Pt}=typeof Reflect<"u"&&Reflect;Rt||(Rt=function(e,f,k){return e.apply(f,k)}),mt||(mt=function(e){return e}),St||(St=function(e){return e}),Pt||(Pt=function(e,f){return new e(...f)});const ii=bt(Array.prototype.forEach),Kt=bt(Array.prototype.pop),kt=bt(Array.prototype.push),Mt=bt(String.prototype.toLowerCase),Ot=bt(String.prototype.toString),ni=bt(String.prototype.match),wt=bt(String.prototype.replace),si=bt(String.prototype.indexOf),oi=bt(String.prototype.trim),vt=bt(RegExp.prototype.test),Tt=ri(TypeError);function bt(Q){return function(e){for(var f=arguments.length,k=new Array(f>1?f-1:0),E=1;E<f;E++)k[E-1]=arguments[E];return Rt(Q,e,k)}}function ri(Q){return function(){for(var e=arguments.length,f=new Array(e),k=0;k<e;k++)f[k]=arguments[k];return Pt(Q,f)}}function Xe(Q,e,f){var k;f=(k=f)!==null&&k!==void 0?k:Mt,zt&&zt(Q,null);let E=e.length;for(;E--;){let D=e[E];if(typeof D=="string"){const y=f(D);y!==D&&(Xt(e)||(e[E]=y),D=y)}Q[D]=!0}return Q}function It(Q){const e=ti(null);for(const[f,k]of Vt(Q))e[f]=k;return e}function Nt(Q,e){for(;Q!==null;){const k=ei(Q,e);if(k){if(k.get)return bt(k.get);if(typeof k.value=="function")return bt(k.value)}Q=Jt(Q)}function f(k){return console.warn("fallback value for",k),null}return f}const qt=mt(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),Ft=mt(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xt=mt(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ai=mt(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),Bt=mt(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),li=mt(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),Ut=mt(["#text"]),jt=mt(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),Wt=mt(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Gt=mt(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),At=mt(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),di=St(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ci=St(/<%[\w\W]*|[\w\W]*%>/gm),ui=St(/\${[\w\W]*}/gm),hi=St(/^data-[\-\w.\u00B7-\uFFFF]/),gi=St(/^aria-[\-\w]+$/),$t=St(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),fi=St(/^(?:\w+script|data):/i),mi=St(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Zt=St(/^html$/i);var Yt=Object.freeze({__proto__:null,MUSTACHE_EXPR:di,ERB_EXPR:ci,TMPLIT_EXPR:ui,DATA_ATTR:hi,ARIA_ATTR:gi,IS_ALLOWED_URI:$t,IS_SCRIPT_OR_DATA:fi,ATTR_WHITESPACE:mi,DOCTYPE_NAME:Zt});const pi=()=>typeof window>"u"?null:window,vi=function(e,f){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let k=null;const E="data-tt-policy-suffix";f&&f.hasAttribute(E)&&(k=f.getAttribute(E));const D="dompurify"+(k?"#"+k:"");try{return e.createPolicy(D,{createHTML(y){return y},createScriptURL(y){return y}})}catch{return console.warn("TrustedTypes policy "+D+" could not be created."),null}};function Qt(){let Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:pi();const e=Te=>Qt(Te);if(e.version="3.0.5",e.removed=[],!Q||!Q.document||Q.document.nodeType!==9)return e.isSupported=!1,e;const f=Q.document,k=f.currentScript;let{document:E}=Q;const{DocumentFragment:D,HTMLTemplateElement:y,Node:p,Element:w,NodeFilter:b,NamedNodeMap:C=Q.NamedNodeMap||Q.MozNamedAttrMap,HTMLFormElement:o,DOMParser:s,trustedTypes:i}=Q,t=w.prototype,n=Nt(t,"cloneNode"),c=Nt(t,"nextSibling"),m=Nt(t,"childNodes"),u=Nt(t,"parentNode");if(typeof y=="function"){const Te=E.createElement("template");Te.content&&Te.content.ownerDocument&&(E=Te.content.ownerDocument)}let r,a="";const{implementation:h,createNodeIterator:l,createDocumentFragment:g,getElementsByTagName:d}=E,{importNode:v}=f;let _={};e.isSupported=typeof Vt=="function"&&typeof u=="function"&&h&&h.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:S,ERB_EXPR:L,TMPLIT_EXPR:I,DATA_ATTR:T,ARIA_ATTR:N,IS_SCRIPT_OR_DATA:A,ATTR_WHITESPACE:O}=Yt;let{IS_ALLOWED_URI:M}=Yt,R=null;const x=Xe({},[...qt,...Ft,...xt,...Bt,...Ut]);let F=null;const W=Xe({},[...jt,...Wt,...Gt,...At]);let H=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),z=null,j=null,K=!0,U=!0,G=!1,te=!0,ee=!1,Y=!1,P=!1,Z=!1,re=!1,ce=!1,he=!1,pe=!0,ge=!1;const X="user-content-";let ae=!0,oe=!1,B={},q=null;const V=Xe({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let $=null;const J=Xe({},["audio","video","img","source","image","track"]);let se=null;const de=Xe({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),le="http://www.w3.org/1998/Math/MathML",fe="http://www.w3.org/2000/svg",ve="http://www.w3.org/1999/xhtml";let Ce=ve,Se=!1,_e=null;const ke=Xe({},[le,fe,ve],Ot);let Ee;const Ae=["application/xhtml+xml","text/html"],xe="text/html";let We,Be=null;const De=E.createElement("form"),Ne=function(Le){return Le instanceof RegExp||Le instanceof Function},me=function(Le){if(!(Be&&Be===Le)){if((!Le||typeof Le!="object")&&(Le={}),Le=It(Le),Ee=Ae.indexOf(Le.PARSER_MEDIA_TYPE)===-1?Ee=xe:Ee=Le.PARSER_MEDIA_TYPE,We=Ee==="application/xhtml+xml"?Ot:Mt,R="ALLOWED_TAGS"in Le?Xe({},Le.ALLOWED_TAGS,We):x,F="ALLOWED_ATTR"in Le?Xe({},Le.ALLOWED_ATTR,We):W,_e="ALLOWED_NAMESPACES"in Le?Xe({},Le.ALLOWED_NAMESPACES,Ot):ke,se="ADD_URI_SAFE_ATTR"in Le?Xe(It(de),Le.ADD_URI_SAFE_ATTR,We):de,$="ADD_DATA_URI_TAGS"in Le?Xe(It(J),Le.ADD_DATA_URI_TAGS,We):J,q="FORBID_CONTENTS"in Le?Xe({},Le.FORBID_CONTENTS,We):V,z="FORBID_TAGS"in Le?Xe({},Le.FORBID_TAGS,We):{},j="FORBID_ATTR"in Le?Xe({},Le.FORBID_ATTR,We):{},B="USE_PROFILES"in Le?Le.USE_PROFILES:!1,K=Le.ALLOW_ARIA_ATTR!==!1,U=Le.ALLOW_DATA_ATTR!==!1,G=Le.ALLOW_UNKNOWN_PROTOCOLS||!1,te=Le.ALLOW_SELF_CLOSE_IN_ATTR!==!1,ee=Le.SAFE_FOR_TEMPLATES||!1,Y=Le.WHOLE_DOCUMENT||!1,re=Le.RETURN_DOM||!1,ce=Le.RETURN_DOM_FRAGMENT||!1,he=Le.RETURN_TRUSTED_TYPE||!1,Z=Le.FORCE_BODY||!1,pe=Le.SANITIZE_DOM!==!1,ge=Le.SANITIZE_NAMED_PROPS||!1,ae=Le.KEEP_CONTENT!==!1,oe=Le.IN_PLACE||!1,M=Le.ALLOWED_URI_REGEXP||$t,Ce=Le.NAMESPACE||ve,H=Le.CUSTOM_ELEMENT_HANDLING||{},Le.CUSTOM_ELEMENT_HANDLING&&Ne(Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(H.tagNameCheck=Le.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&Ne(Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(H.attributeNameCheck=Le.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Le.CUSTOM_ELEMENT_HANDLING&&typeof Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(H.allowCustomizedBuiltInElements=Le.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ee&&(U=!1),ce&&(re=!0),B&&(R=Xe({},[...Ut]),F=[],B.html===!0&&(Xe(R,qt),Xe(F,jt)),B.svg===!0&&(Xe(R,Ft),Xe(F,Wt),Xe(F,At)),B.svgFilters===!0&&(Xe(R,xt),Xe(F,Wt),Xe(F,At)),B.mathMl===!0&&(Xe(R,Bt),Xe(F,Gt),Xe(F,At))),Le.ADD_TAGS&&(R===x&&(R=It(R)),Xe(R,Le.ADD_TAGS,We)),Le.ADD_ATTR&&(F===W&&(F=It(F)),Xe(F,Le.ADD_ATTR,We)),Le.ADD_URI_SAFE_ATTR&&Xe(se,Le.ADD_URI_SAFE_ATTR,We),Le.FORBID_CONTENTS&&(q===V&&(q=It(q)),Xe(q,Le.FORBID_CONTENTS,We)),ae&&(R["#text"]=!0),Y&&Xe(R,["html","head","body"]),R.table&&(Xe(R,["tbody"]),delete z.tbody),Le.TRUSTED_TYPES_POLICY){if(typeof Le.TRUSTED_TYPES_POLICY.createHTML!="function")throw Tt('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof Le.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Tt('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');r=Le.TRUSTED_TYPES_POLICY,a=r.createHTML("")}else r===void 0&&(r=vi(i,k)),r!==null&&typeof a=="string"&&(a=r.createHTML(""));mt&&mt(Le),Be=Le}},be=Xe({},["mi","mo","mn","ms","mtext"]),Re=Xe({},["foreignobject","desc","title","annotation-xml"]),He=Xe({},["title","style","font","a","script"]),qe=Xe({},Ft);Xe(qe,xt),Xe(qe,ai);const Ue=Xe({},Bt);Xe(Ue,li);const Ze=function(Le){let Oe=u(Le);(!Oe||!Oe.tagName)&&(Oe={namespaceURI:Ce,tagName:"template"});const Pe=Mt(Le.tagName),ze=Mt(Oe.tagName);return _e[Le.namespaceURI]?Le.namespaceURI===fe?Oe.namespaceURI===ve?Pe==="svg":Oe.namespaceURI===le?Pe==="svg"&&(ze==="annotation-xml"||be[ze]):!!qe[Pe]:Le.namespaceURI===le?Oe.namespaceURI===ve?Pe==="math":Oe.namespaceURI===fe?Pe==="math"&&Re[ze]:!!Ue[Pe]:Le.namespaceURI===ve?Oe.namespaceURI===fe&&!Re[ze]||Oe.namespaceURI===le&&!be[ze]?!1:!Ue[Pe]&&(He[Pe]||!qe[Pe]):!!(Ee==="application/xhtml+xml"&&_e[Le.namespaceURI]):!1},et=function(Le){kt(e.removed,{element:Le});try{Le.parentNode.removeChild(Le)}catch{Le.remove()}},nt=function(Le,Oe){try{kt(e.removed,{attribute:Oe.getAttributeNode(Le),from:Oe})}catch{kt(e.removed,{attribute:null,from:Oe})}if(Oe.removeAttribute(Le),Le==="is"&&!F[Le])if(re||ce)try{et(Oe)}catch{}else try{Oe.setAttribute(Le,"")}catch{}},at=function(Le){let Oe,Pe;if(Z)Le="<remove></remove>"+Le;else{const $e=ni(Le,/^[\r\n\t ]+/);Pe=$e&&$e[0]}Ee==="application/xhtml+xml"&&Ce===ve&&(Le='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Le+"</body></html>");const ze=r?r.createHTML(Le):Le;if(Ce===ve)try{Oe=new s().parseFromString(ze,Ee)}catch{}if(!Oe||!Oe.documentElement){Oe=h.createDocument(Ce,"template",null);try{Oe.documentElement.innerHTML=Se?a:ze}catch{}}const je=Oe.body||Oe.documentElement;return Le&&Pe&&je.insertBefore(E.createTextNode(Pe),je.childNodes[0]||null),Ce===ve?d.call(Oe,Y?"html":"body")[0]:Y?Oe.documentElement:je},ft=function(Le){return l.call(Le.ownerDocument||Le,Le,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},tt=function(Le){return Le instanceof o&&(typeof Le.nodeName!="string"||typeof Le.textContent!="string"||typeof Le.removeChild!="function"||!(Le.attributes instanceof C)||typeof Le.removeAttribute!="function"||typeof Le.setAttribute!="function"||typeof Le.namespaceURI!="string"||typeof Le.insertBefore!="function"||typeof Le.hasChildNodes!="function")},ht=function(Le){return typeof p=="object"?Le instanceof p:Le&&typeof Le=="object"&&typeof Le.nodeType=="number"&&typeof Le.nodeName=="string"},ot=function(Le,Oe,Pe){_[Le]&&ii(_[Le],ze=>{ze.call(e,Oe,Pe,Be)})},_t=function(Le){let Oe;if(ot("beforeSanitizeElements",Le,null),tt(Le))return et(Le),!0;const Pe=We(Le.nodeName);if(ot("uponSanitizeElement",Le,{tagName:Pe,allowedTags:R}),Le.hasChildNodes()&&!ht(Le.firstElementChild)&&(!ht(Le.content)||!ht(Le.content.firstElementChild))&&vt(/<[/\w]/g,Le.innerHTML)&&vt(/<[/\w]/g,Le.textContent))return et(Le),!0;if(!R[Pe]||z[Pe]){if(!z[Pe]&&ye(Pe)&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Pe)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Pe)))return!1;if(ae&&!q[Pe]){const ze=u(Le)||Le.parentNode,je=m(Le)||Le.childNodes;if(je&&ze){const $e=je.length;for(let Qe=$e-1;Qe>=0;--Qe)ze.insertBefore(n(je[Qe],!0),c(Le))}}return et(Le),!0}return Le instanceof w&&!Ze(Le)||(Pe==="noscript"||Pe==="noembed"||Pe==="noframes")&&vt(/<\/no(script|embed|frames)/i,Le.innerHTML)?(et(Le),!0):(ee&&Le.nodeType===3&&(Oe=Le.textContent,Oe=wt(Oe,S," "),Oe=wt(Oe,L," "),Oe=wt(Oe,I," "),Le.textContent!==Oe&&(kt(e.removed,{element:Le.cloneNode()}),Le.textContent=Oe)),ot("afterSanitizeElements",Le,null),!1)},pt=function(Le,Oe,Pe){if(pe&&(Oe==="id"||Oe==="name")&&(Pe in E||Pe in De))return!1;if(!(U&&!j[Oe]&&vt(T,Oe))){if(!(K&&vt(N,Oe))){if(!F[Oe]||j[Oe]){if(!(ye(Le)&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Le)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Le))&&(H.attributeNameCheck instanceof RegExp&&vt(H.attributeNameCheck,Oe)||H.attributeNameCheck instanceof Function&&H.attributeNameCheck(Oe))||Oe==="is"&&H.allowCustomizedBuiltInElements&&(H.tagNameCheck instanceof RegExp&&vt(H.tagNameCheck,Pe)||H.tagNameCheck instanceof Function&&H.tagNameCheck(Pe))))return!1}else if(!se[Oe]){if(!vt(M,wt(Pe,O,""))){if(!((Oe==="src"||Oe==="xlink:href"||Oe==="href")&&Le!=="script"&&si(Pe,"data:")===0&&$[Le])){if(!(G&&!vt(A,wt(Pe,O,"")))){if(Pe)return!1}}}}}}return!0},ye=function(Le){return Le.indexOf("-")>0},we=function(Le){let Oe,Pe,ze,je;ot("beforeSanitizeAttributes",Le,null);const{attributes:$e}=Le;if(!$e)return;const Qe={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:F};for(je=$e.length;je--;){Oe=$e[je];const{name:gt,namespaceURI:Ye}=Oe;if(Pe=gt==="value"?Oe.value:oi(Oe.value),ze=We(gt),Qe.attrName=ze,Qe.attrValue=Pe,Qe.keepAttr=!0,Qe.forceKeepAttr=void 0,ot("uponSanitizeAttribute",Le,Qe),Pe=Qe.attrValue,Qe.forceKeepAttr||(nt(gt,Le),!Qe.keepAttr))continue;if(!te&&vt(/\/>/i,Pe)){nt(gt,Le);continue}ee&&(Pe=wt(Pe,S," "),Pe=wt(Pe,L," "),Pe=wt(Pe,I," "));const Fe=We(Le.nodeName);if(pt(Fe,ze,Pe)){if(ge&&(ze==="id"||ze==="name")&&(nt(gt,Le),Pe=X+Pe),r&&typeof i=="object"&&typeof i.getAttributeType=="function"&&!Ye)switch(i.getAttributeType(Fe,ze)){case"TrustedHTML":{Pe=r.createHTML(Pe);break}case"TrustedScriptURL":{Pe=r.createScriptURL(Pe);break}}try{Ye?Le.setAttributeNS(Ye,gt,Pe):Le.setAttribute(gt,Pe),Kt(e.removed)}catch{}}}ot("afterSanitizeAttributes",Le,null)},Me=function Te(Le){let Oe;const Pe=ft(Le);for(ot("beforeSanitizeShadowDOM",Le,null);Oe=Pe.nextNode();)ot("uponSanitizeShadowNode",Oe,null),!_t(Oe)&&(Oe.content instanceof D&&Te(Oe.content),we(Oe));ot("afterSanitizeShadowDOM",Le,null)};return e.sanitize=function(Te){let Le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Oe,Pe,ze,je;if(Se=!Te,Se&&(Te="<!-->"),typeof Te!="string"&&!ht(Te))if(typeof Te.toString=="function"){if(Te=Te.toString(),typeof Te!="string")throw Tt("dirty is not a string, aborting")}else throw Tt("toString is not a function");if(!e.isSupported)return Te;if(P||me(Le),e.removed=[],typeof Te=="string"&&(oe=!1),oe){if(Te.nodeName){const gt=We(Te.nodeName);if(!R[gt]||z[gt])throw Tt("root node is forbidden and cannot be sanitized in-place")}}else if(Te instanceof p)Oe=at("<!---->"),Pe=Oe.ownerDocument.importNode(Te,!0),Pe.nodeType===1&&Pe.nodeName==="BODY"||Pe.nodeName==="HTML"?Oe=Pe:Oe.appendChild(Pe);else{if(!re&&!ee&&!Y&&Te.indexOf("<")===-1)return r&&he?r.createHTML(Te):Te;if(Oe=at(Te),!Oe)return re?null:he?a:""}Oe&&Z&&et(Oe.firstChild);const $e=ft(oe?Te:Oe);for(;ze=$e.nextNode();)_t(ze)||(ze.content instanceof D&&Me(ze.content),we(ze));if(oe)return Te;if(re){if(ce)for(je=g.call(Oe.ownerDocument);Oe.firstChild;)je.appendChild(Oe.firstChild);else je=Oe;return(F.shadowroot||F.shadowrootmode)&&(je=v.call(f,je,!0)),je}let Qe=Y?Oe.outerHTML:Oe.innerHTML;return Y&&R["!doctype"]&&Oe.ownerDocument&&Oe.ownerDocument.doctype&&Oe.ownerDocument.doctype.name&&vt(Zt,Oe.ownerDocument.doctype.name)&&(Qe="<!DOCTYPE "+Oe.ownerDocument.doctype.name+`>
`+Qe),ee&&(Qe=wt(Qe,S," "),Qe=wt(Qe,L," "),Qe=wt(Qe,I," ")),r&&he?r.createHTML(Qe):Qe},e.setConfig=function(Te){me(Te),P=!0},e.clearConfig=function(){Be=null,P=!1},e.isValidAttribute=function(Te,Le,Oe){Be||me({});const Pe=We(Te),ze=We(Le);return pt(Pe,ze,Oe)},e.addHook=function(Te,Le){typeof Le=="function"&&(_[Te]=_[Te]||[],kt(_[Te],Le))},e.removeHook=function(Te){if(_[Te])return Kt(_[Te])},e.removeHooks=function(Te){_[Te]&&(_[Te]=[])},e.removeAllHooks=function(){_={}},e}var Ci=Qt();define("vs/base/browser/dompurify/dompurify",function(){return Ci}),define(ie[40],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastDomNode=void 0,e.createFastDomNode=E;class f{constructor(y){this.domNode=y,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._paddingLeft="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._fontVariationSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(y){const p=k(y);this._maxWidth!==p&&(this._maxWidth=p,this.domNode.style.maxWidth=this._maxWidth)}setWidth(y){const p=k(y);this._width!==p&&(this._width=p,this.domNode.style.width=this._width)}setHeight(y){const p=k(y);this._height!==p&&(this._height=p,this.domNode.style.height=this._height)}setTop(y){const p=k(y);this._top!==p&&(this._top=p,this.domNode.style.top=this._top)}setLeft(y){const p=k(y);this._left!==p&&(this._left=p,this.domNode.style.left=this._left)}setBottom(y){const p=k(y);this._bottom!==p&&(this._bottom=p,this.domNode.style.bottom=this._bottom)}setRight(y){const p=k(y);this._right!==p&&(this._right=p,this.domNode.style.right=this._right)}setPaddingLeft(y){const p=k(y);this._paddingLeft!==p&&(this._paddingLeft=p,this.domNode.style.paddingLeft=this._paddingLeft)}setFontFamily(y){this._fontFamily!==y&&(this._fontFamily=y,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(y){this._fontWeight!==y&&(this._fontWeight=y,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(y){const p=k(y);this._fontSize!==p&&(this._fontSize=p,this.domNode.style.fontSize=this._fontSize)}setFontStyle(y){this._fontStyle!==y&&(this._fontStyle=y,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(y){this._fontFeatureSettings!==y&&(this._fontFeatureSettings=y,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setFontVariationSettings(y){this._fontVariationSettings!==y&&(this._fontVariationSettings=y,this.domNode.style.fontVariationSettings=this._fontVariationSettings)}setTextDecoration(y){this._textDecoration!==y&&(this._textDecoration=y,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(y){const p=k(y);this._lineHeight!==p&&(this._lineHeight=p,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(y){const p=k(y);this._letterSpacing!==p&&(this._letterSpacing=p,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(y){this._className!==y&&(this._className=y,this.domNode.className=this._className)}toggleClassName(y,p){this.domNode.classList.toggle(y,p),this._className=this.domNode.className}setDisplay(y){this._display!==y&&(this._display=y,this.domNode.style.display=this._display)}setPosition(y){this._position!==y&&(this._position=y,this.domNode.style.position=this._position)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this.domNode.style.visibility=this._visibility)}setColor(y){this._color!==y&&(this._color=y,this.domNode.style.color=this._color)}setBackgroundColor(y){this._backgroundColor!==y&&(this._backgroundColor=y,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(y){this._layerHint!==y&&(this._layerHint=y,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(y){this._boxShadow!==y&&(this._boxShadow=y,this.domNode.style.boxShadow=y)}setContain(y){this._contain!==y&&(this._contain=y,this.domNode.style.contain=this._contain)}setAttribute(y,p){this.domNode.setAttribute(y,p)}removeAttribute(y){this.domNode.removeAttribute(y)}appendChild(y){this.domNode.appendChild(y.domNode)}removeChild(y){this.domNode.removeChild(y.domNode)}}e.FastDomNode=f;function k(D){return typeof D=="number"?`${D}px`:D}function E(D){return new f(D)}}),define(ie[422],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IframeUtils=void 0;const f=new WeakMap;function k(D){if(!D.parent||D.parent===D)return null;try{const y=D.location,p=D.parent.location;if(y.origin!=="null"&&p.origin!=="null"&&y.origin!==p.origin)return null}catch{return null}return D.parent}class E{static getSameOriginWindowChain(y){let p=f.get(y);if(!p){p=[],f.set(y,p);let w=y,b;do b=k(w),b?p.push({window:new WeakRef(w),iframeElement:w.frameElement||null}):p.push({window:new WeakRef(w),iframeElement:null}),w=b;while(w)}return p.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(y,p){var w,b;if(!p||y===p)return{top:0,left:0};let C=0,o=0;const s=this.getSameOriginWindowChain(y);for(const i of s){const t=i.window.deref();if(C+=(w=t?.scrollY)!==null&&w!==void 0?w:0,o+=(b=t?.scrollX)!==null&&b!==void 0?b:0,t===p||!i.iframeElement)break;const n=i.iframeElement.getBoundingClientRect();C+=n.top,o+=n.left}return{top:C,left:o}}}e.IframeUtils=E}),define(ie[287],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inputLatency=void 0;var f;(function(k){const E={total:0,min:Number.MAX_VALUE,max:0},D={...E},y={...E},p={...E};let w=0;const b={keydown:0,input:0,render:0};function C(){a(),performance.mark("inputlatency/start"),performance.mark("keydown/start"),b.keydown=1,queueMicrotask(o)}k.onKeyDown=C;function o(){b.keydown===1&&(performance.mark("keydown/end"),b.keydown=2)}function s(){performance.mark("input/start"),b.input=1,r()}k.onBeforeInput=s;function i(){b.input===0&&s(),queueMicrotask(t)}k.onInput=i;function t(){b.input===1&&(performance.mark("input/end"),b.input=2)}function n(){a()}k.onKeyUp=n;function c(){a()}k.onSelectionChange=c;function m(){b.keydown===2&&b.input===2&&b.render===0&&(performance.mark("render/start"),b.render=1,queueMicrotask(u),r())}k.onRenderStart=m;function u(){b.render===1&&(performance.mark("render/end"),b.render=2)}function r(){setTimeout(a)}function a(){b.keydown===2&&b.input===2&&b.render===2&&(performance.mark("inputlatency/end"),performance.measure("keydown","keydown/start","keydown/end"),performance.measure("input","input/start","input/end"),performance.measure("render","render/start","render/end"),performance.measure("inputlatency","inputlatency/start","inputlatency/end"),h("keydown",E),h("input",D),h("render",y),h("inputlatency",p),w++,l())}function h(_,S){const L=performance.getEntriesByName(_)[0].duration;S.total+=L,S.min=Math.min(S.min,L),S.max=Math.max(S.max,L)}function l(){performance.clearMarks("keydown/start"),performance.clearMarks("keydown/end"),performance.clearMarks("input/start"),performance.clearMarks("input/end"),performance.clearMarks("render/start"),performance.clearMarks("render/end"),performance.clearMarks("inputlatency/start"),performance.clearMarks("inputlatency/end"),performance.clearMeasures("keydown"),performance.clearMeasures("input"),performance.clearMeasures("render"),performance.clearMeasures("inputlatency"),b.keydown=0,b.input=0,b.render=0}function g(){if(w===0)return;const _={keydown:d(E),input:d(D),render:d(y),total:d(p),sampleCount:w};return v(E),v(D),v(y),v(p),w=0,_}k.getAndClearMeasurements=g;function d(_){return{average:_.total/w,max:_.max,min:_.min}}function v(_){_.total=0,_.min=Number.MAX_VALUE,_.max=0}})(f||(e.inputLatency=f={}))}),define(ie[77],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setBaseLayerHoverDelegate=k,e.getBaseLayerHoverDelegate=E;let f={showHover:()=>{},hideHover:()=>{},showAndFocusLastHover:()=>{},setupUpdatableHover:()=>null};function k(D){f=D}function E(){return f}}),define(ie[423],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListError=void 0;class f extends Error{constructor(E,D){super(`ListError [${E}] ${D}`)}}e.ListError=f}),define(ie[424],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CombinedSpliceable=void 0;class f{constructor(E){this.spliceables=E}splice(E,D,y){this.spliceables.forEach(p=>p.splice(E,D,y))}}e.CombinedSpliceable=f}),define(ie[216],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarState=void 0;const f=20;class k{constructor(D,y,p,w,b,C){this._scrollbarSize=Math.round(y),this._oppositeScrollbarSize=Math.round(p),this._arrowSize=Math.round(D),this._visibleSize=w,this._scrollSize=b,this._scrollPosition=C,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new k(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(D){const y=Math.round(D);return this._visibleSize!==y?(this._visibleSize=y,this._refreshComputedValues(),!0):!1}setScrollSize(D){const y=Math.round(D);return this._scrollSize!==y?(this._scrollSize=y,this._refreshComputedValues(),!0):!1}setScrollPosition(D){const y=Math.round(D);return this._scrollPosition!==y?(this._scrollPosition=y,this._refreshComputedValues(),!0):!1}setScrollbarSize(D){this._scrollbarSize=Math.round(D)}setOppositeScrollbarSize(D){this._oppositeScrollbarSize=Math.round(D)}static _computeValues(D,y,p,w,b){const C=Math.max(0,p-D),o=Math.max(0,C-2*y),s=w>0&&w>p;if(!s)return{computedAvailableSize:Math.round(C),computedIsNeeded:s,computedSliderSize:Math.round(o),computedSliderRatio:0,computedSliderPosition:0};const i=Math.round(Math.max(f,Math.floor(p*o/w))),t=(o-i)/(w-p),n=b*t;return{computedAvailableSize:Math.round(C),computedIsNeeded:s,computedSliderSize:Math.round(i),computedSliderRatio:t,computedSliderPosition:Math.round(n)}}_refreshComputedValues(){const D=k._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=D.computedAvailableSize,this._computedIsNeeded=D.computedIsNeeded,this._computedSliderSize=D.computedSliderSize,this._computedSliderRatio=D.computedSliderRatio,this._computedSliderPosition=D.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(D){if(!this._computedIsNeeded)return 0;const y=D-this._arrowSize-this._computedSliderSize/2;return Math.round(y/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(D){if(!this._computedIsNeeded)return 0;const y=D-this._arrowSize;let p=this._scrollPosition;return y<this._computedSliderPosition?p-=this._visibleSize:p+=this._visibleSize,p}getDesiredScrollPositionFromDelta(D){if(!this._computedIsNeeded)return 0;const y=this._computedSliderPosition+D;return Math.round(y/this._computedSliderRatio)}}e.ScrollbarState=k}),define(ie[154],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WeakMapper=e.TreeError=e.TreeMouseEventTarget=e.ObjectTreeElementCollapseState=void 0;var f;(function(y){y[y.Expanded=0]="Expanded",y[y.Collapsed=1]="Collapsed",y[y.PreserveOrExpanded=2]="PreserveOrExpanded",y[y.PreserveOrCollapsed=3]="PreserveOrCollapsed"})(f||(e.ObjectTreeElementCollapseState=f={}));var k;(function(y){y[y.Unknown=0]="Unknown",y[y.Twistie=1]="Twistie",y[y.Element=2]="Element",y[y.Filter=3]="Filter"})(k||(e.TreeMouseEventTarget=k={}));class E extends Error{constructor(p,w){super(`TreeError [${p}] ${w}`)}}e.TreeError=E;class D{constructor(p){this.fn=p,this._map=new WeakMap}map(p){let w=this._map.get(p);return w||(w=this.fn(p),this._map.set(p,w)),w}}e.WeakMapper=D}),define(ie[52],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.mainWindow=void 0,e.ensureCodeWindow=f;function f(k,E){const D=k;typeof D.vscodeWindowId!="number"&&Object.defineProperty(D,"vscodeWindowId",{get:()=>E})}e.mainWindow=window}),define(ie[63],ne([1,0,52]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isElectron=e.isWebkitWebView=e.isSafari=e.isChrome=e.isWebKit=e.isFirefox=void 0,e.addMatchMediaChangeListener=E,e.getZoomFactor=D,e.isStandalone=w;class k{constructor(){this.mapWindowIdToZoomFactor=new Map}getZoomFactor(C){var o;return(o=this.mapWindowIdToZoomFactor.get(this.getWindowId(C)))!==null&&o!==void 0?o:1}getWindowId(C){return C.vscodeWindowId}}k.INSTANCE=new k;function E(b,C,o){typeof C=="string"&&(C=b.matchMedia(C)),C.addEventListener("change",o)}function D(b){return k.INSTANCE.getZoomFactor(b)}const y=navigator.userAgent;e.isFirefox=y.indexOf("Firefox")>=0,e.isWebKit=y.indexOf("AppleWebKit")>=0,e.isChrome=y.indexOf("Chrome")>=0,e.isSafari=!e.isChrome&&y.indexOf("Safari")>=0,e.isWebkitWebView=!e.isChrome&&!e.isSafari&&e.isWebKit,e.isElectron=y.indexOf("Electron/")>=0,e.isAndroid=y.indexOf("Android")>=0;let p=!1;if(typeof f.mainWindow.matchMedia=="function"){const b=f.mainWindow.matchMedia("(display-mode: standalone) or (display-mode: window-controls-overlay)"),C=f.mainWindow.matchMedia("(display-mode: fullscreen)");p=b.matches,E(f.mainWindow,b,({matches:o})=>{p&&C.matches||(p=o)})}function w(){return p}}),define(ie[13],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Permutation=e.CallbackIterable=e.ArrayQueue=e.booleanComparator=e.numberComparator=e.CompareResult=void 0,e.tail=f,e.tail2=k,e.equals=E,e.removeFastWithoutKeepingOrder=D,e.binarySearch=y,e.binarySearch2=p,e.quickSelect=w,e.groupBy=b,e.groupAdjacentBy=C,e.forEachAdjacent=o,e.forEachWithNeighbors=s,e.coalesce=i,e.coalesceInPlace=t,e.isFalsyOrEmpty=n,e.isNonEmptyArray=c,e.distinct=m,e.firstOrDefault=u,e.range=r,e.arrayInsert=a,e.pushToStart=h,e.pushToEnd=l,e.pushMany=g,e.asArray=d,e.insertInto=v,e.splice=_,e.compareBy=I,e.tieBreakComparators=T,e.reverseOrder=O;function f(F,W=0){return F[F.length-(1+W)]}function k(F){if(F.length===0)throw new Error("Invalid tail call");return[F.slice(0,F.length-1),F[F.length-1]]}function E(F,W,H=(z,j)=>z===j){if(F===W)return!0;if(!F||!W||F.length!==W.length)return!1;for(let z=0,j=F.length;z<j;z++)if(!H(F[z],W[z]))return!1;return!0}function D(F,W){const H=F.length-1;W<H&&(F[W]=F[H]),F.pop()}function y(F,W,H){return p(F.length,z=>H(F[z],W))}function p(F,W){let H=0,z=F-1;for(;H<=z;){const j=(H+z)/2|0,K=W(j);if(K<0)H=j+1;else if(K>0)z=j-1;else return j}return-(H+1)}function w(F,W,H){if(F=F|0,F>=W.length)throw new TypeError("invalid index");const z=W[Math.floor(W.length*Math.random())],j=[],K=[],U=[];for(const G of W){const te=H(G,z);te<0?j.push(G):te>0?K.push(G):U.push(G)}return F<j.length?w(F,j,H):F<j.length+U.length?U[0]:w(F-(j.length+U.length),K,H)}function b(F,W){const H=[];let z;for(const j of F.slice(0).sort(W))!z||W(z[0],j)!==0?(z=[j],H.push(z)):z.push(j);return H}function*C(F,W){let H,z;for(const j of F)z!==void 0&&W(z,j)?H.push(j):(H&&(yield H),H=[j]),z=j;H&&(yield H)}function o(F,W){for(let H=0;H<=F.length;H++)W(H===0?void 0:F[H-1],H===F.length?void 0:F[H])}function s(F,W){for(let H=0;H<F.length;H++)W(H===0?void 0:F[H-1],F[H],H+1===F.length?void 0:F[H+1])}function i(F){return F.filter(W=>!!W)}function t(F){let W=0;for(let H=0;H<F.length;H++)F[H]&&(F[W]=F[H],W+=1);F.length=W}function n(F){return!Array.isArray(F)||F.length===0}function c(F){return Array.isArray(F)&&F.length>0}function m(F,W=H=>H){const H=new Set;return F.filter(z=>{const j=W(z);return H.has(j)?!1:(H.add(j),!0)})}function u(F,W){return F.length>0?F[0]:W}function r(F,W){let H=typeof W=="number"?F:0;typeof W=="number"?H=F:(H=0,W=F);const z=[];if(H<=W)for(let j=H;j<W;j++)z.push(j);else for(let j=H;j>W;j--)z.push(j);return z}function a(F,W,H){const z=F.slice(0,W),j=F.slice(W);return z.concat(H,j)}function h(F,W){const H=F.indexOf(W);H>-1&&(F.splice(H,1),F.unshift(W))}function l(F,W){const H=F.indexOf(W);H>-1&&(F.splice(H,1),F.push(W))}function g(F,W){for(const H of W)F.push(H)}function d(F){return Array.isArray(F)?F:[F]}function v(F,W,H){const z=S(F,W),j=F.length,K=H.length;F.length=j+K;for(let U=j-1;U>=z;U--)F[U+K]=F[U];for(let U=0;U<K;U++)F[U+z]=H[U]}function _(F,W,H,z){const j=S(F,W);let K=F.splice(j,H);return K===void 0&&(K=[]),v(F,j,z),K}function S(F,W){return W<0?Math.max(W+F.length,0):Math.min(W,F.length)}var L;(function(F){function W(K){return K<0}F.isLessThan=W;function H(K){return K<=0}F.isLessThanOrEqual=H;function z(K){return K>0}F.isGreaterThan=z;function j(K){return K===0}F.isNeitherLessOrGreaterThan=j,F.greaterThan=1,F.lessThan=-1,F.neitherLessOrGreaterThan=0})(L||(e.CompareResult=L={}));function I(F,W){return(H,z)=>W(F(H),F(z))}function T(...F){return(W,H)=>{for(const z of F){const j=z(W,H);if(!L.isNeitherLessOrGreaterThan(j))return j}return L.neitherLessOrGreaterThan}}const N=(F,W)=>F-W;e.numberComparator=N;const A=(F,W)=>(0,e.numberComparator)(F?1:0,W?1:0);e.booleanComparator=A;function O(F){return(W,H)=>-F(W,H)}class M{constructor(W){this.items=W,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(W){let H=this.firstIdx;for(;H<this.items.length&&W(this.items[H]);)H++;const z=H===this.firstIdx?null:this.items.slice(this.firstIdx,H);return this.firstIdx=H,z}takeFromEndWhile(W){let H=this.lastIdx;for(;H>=0&&W(this.items[H]);)H--;const z=H===this.lastIdx?null:this.items.slice(H+1,this.lastIdx+1);return this.lastIdx=H,z}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const W=this.items[this.firstIdx];return this.firstIdx++,W}takeCount(W){const H=this.items.slice(this.firstIdx,this.firstIdx+W);return this.firstIdx+=W,H}}e.ArrayQueue=M;class R{constructor(W){this.iterate=W}toArray(){const W=[];return this.iterate(H=>(W.push(H),!0)),W}filter(W){return new R(H=>this.iterate(z=>W(z)?H(z):!0))}map(W){return new R(H=>this.iterate(z=>H(W(z))))}findLast(W){let H;return this.iterate(z=>(W(z)&&(H=z),!0)),H}findLastMaxBy(W){let H,z=!0;return this.iterate(j=>((z||L.isGreaterThan(W(j,H)))&&(z=!1,H=j),!0)),H}}e.CallbackIterable=R,R.empty=new R(F=>{});class x{constructor(W){this._indexMap=W}static createSortPermutation(W,H){const z=Array.from(W.keys()).sort((j,K)=>H(W[j],W[K]));return new x(z)}apply(W){return W.map((H,z)=>W[this._indexMap[z]])}inverse(){const W=this._indexMap.slice();for(let H=0;H<this._indexMap.length;H++)W[this._indexMap[H]]=H;return new x(W)}}e.Permutation=x}),define(ie[67],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonotonousArray=void 0,e.findLast=f,e.findLastIdx=k,e.findLastMonotonous=E,e.findLastIdxMonotonous=D,e.findFirstMonotonous=y,e.findFirstIdxMonotonousOrArrLen=p,e.findFirstMax=b,e.findLastMax=C,e.findFirstMin=o,e.findMaxIdx=s,e.mapFindFirst=i;function f(t,n){const c=k(t,n);if(c!==-1)return t[c]}function k(t,n,c=t.length-1){for(let m=c;m>=0;m--){const u=t[m];if(n(u))return m}return-1}function E(t,n){const c=D(t,n);return c===-1?void 0:t[c]}function D(t,n,c=0,m=t.length){let u=c,r=m;for(;u<r;){const a=Math.floor((u+r)/2);n(t[a])?u=a+1:r=a}return u-1}function y(t,n){const c=p(t,n);return c===t.length?void 0:t[c]}function p(t,n,c=0,m=t.length){let u=c,r=m;for(;u<r;){const a=Math.floor((u+r)/2);n(t[a])?r=a:u=a+1}return u}class w{constructor(n){this._array=n,this._findLastMonotonousLastIdx=0}findLastMonotonous(n){if(w.assertInvariants){if(this._prevFindLastPredicate){for(const m of this._array)if(this._prevFindLastPredicate(m)&&!n(m))throw new Error("MonotonousArray: current predicate must be weaker than (or equal to) the previous predicate.")}this._prevFindLastPredicate=n}const c=D(this._array,n,this._findLastMonotonousLastIdx);return this._findLastMonotonousLastIdx=c+1,c===-1?void 0:this._array[c]}}e.MonotonousArray=w,w.assertInvariants=!1;function b(t,n){if(t.length===0)return;let c=t[0];for(let m=1;m<t.length;m++){const u=t[m];n(u,c)>0&&(c=u)}return c}function C(t,n){if(t.length===0)return;let c=t[0];for(let m=1;m<t.length;m++){const u=t[m];n(u,c)>=0&&(c=u)}return c}function o(t,n){return b(t,(c,m)=>-n(c,m))}function s(t,n){if(t.length===0)return-1;let c=0;for(let m=1;m<t.length;m++){const u=t[m];n(u,t[c])>0&&(c=m)}return c}function i(t,n){for(const c of t){const m=n(c);if(m!==void 0)return m}}}),define(ie[288],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CachedFunction=e.LRUCachedFunction=void 0,e.identity=f;function f(D){return D}class k{constructor(y,p){this.lastCache=void 0,this.lastArgKey=void 0,typeof y=="function"?(this._fn=y,this._computeKey=f):(this._fn=p,this._computeKey=y.getCacheKey)}get(y){const p=this._computeKey(y);return this.lastArgKey!==p&&(this.lastArgKey=p,this.lastCache=this._fn(y)),this.lastCache}}e.LRUCachedFunction=k;class E{get cachedValues(){return this._map}constructor(y,p){this._map=new Map,this._map2=new Map,typeof y=="function"?(this._fn=y,this._computeKey=f):(this._fn=p,this._computeKey=y.getCacheKey)}get(y){const p=this._computeKey(y);if(this._map2.has(p))return this._map2.get(p);const w=this._fn(y);return this._map.set(y,w),this._map2.set(p,w),w}}e.CachedFunction=E}),define(ie[289],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffSets=f,e.intersection=k;function f(E,D){const y=[],p=[];for(const w of E)D.has(w)||y.push(w);for(const w of D)E.has(w)||p.push(w);return{removed:y,added:p}}function k(E,D){const y=new Set;for(const p of D)E.has(p)&&y.add(p);return y}}),define(ie[35],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Color=e.HSVA=e.HSLA=e.RGBA=void 0;function f(p,w){const b=Math.pow(10,w);return Math.round(p*b)/b}class k{constructor(w,b,C,o=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,w))|0,this.g=Math.min(255,Math.max(0,b))|0,this.b=Math.min(255,Math.max(0,C))|0,this.a=f(Math.max(Math.min(1,o),0),3)}static equals(w,b){return w.r===b.r&&w.g===b.g&&w.b===b.b&&w.a===b.a}}e.RGBA=k;class E{constructor(w,b,C,o){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,b),0),3),this.l=f(Math.max(Math.min(1,C),0),3),this.a=f(Math.max(Math.min(1,o),0),3)}static equals(w,b){return w.h===b.h&&w.s===b.s&&w.l===b.l&&w.a===b.a}static fromRGBA(w){const b=w.r/255,C=w.g/255,o=w.b/255,s=w.a,i=Math.max(b,C,o),t=Math.min(b,C,o);let n=0,c=0;const m=(t+i)/2,u=i-t;if(u>0){switch(c=Math.min(m<=.5?u/(2*m):u/(2-2*m),1),i){case b:n=(C-o)/u+(C<o?6:0);break;case C:n=(o-b)/u+2;break;case o:n=(b-C)/u+4;break}n*=60,n=Math.round(n)}return new E(n,c,m,s)}static _hue2rgb(w,b,C){return C<0&&(C+=1),C>1&&(C-=1),C<1/6?w+(b-w)*6*C:C<1/2?b:C<2/3?w+(b-w)*(2/3-C)*6:w}static toRGBA(w){const b=w.h/360,{s:C,l:o,a:s}=w;let i,t,n;if(C===0)i=t=n=o;else{const c=o<.5?o*(1+C):o+C-o*C,m=2*o-c;i=E._hue2rgb(m,c,b+1/3),t=E._hue2rgb(m,c,b),n=E._hue2rgb(m,c,b-1/3)}return new k(Math.round(i*255),Math.round(t*255),Math.round(n*255),s)}}e.HSLA=E;class D{constructor(w,b,C,o){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,w),0)|0,this.s=f(Math.max(Math.min(1,b),0),3),this.v=f(Math.max(Math.min(1,C),0),3),this.a=f(Math.max(Math.min(1,o),0),3)}static equals(w,b){return w.h===b.h&&w.s===b.s&&w.v===b.v&&w.a===b.a}static fromRGBA(w){const b=w.r/255,C=w.g/255,o=w.b/255,s=Math.max(b,C,o),i=Math.min(b,C,o),t=s-i,n=s===0?0:t/s;let c;return t===0?c=0:s===b?c=((C-o)/t%6+6)%6:s===C?c=(o-b)/t+2:c=(b-C)/t+4,new D(Math.round(c*60),n,s,w.a)}static toRGBA(w){const{h:b,s:C,v:o,a:s}=w,i=o*C,t=i*(1-Math.abs(b/60%2-1)),n=o-i;let[c,m,u]=[0,0,0];return b<60?(c=i,m=t):b<120?(c=t,m=i):b<180?(m=i,u=t):b<240?(m=t,u=i):b<300?(c=t,u=i):b<=360&&(c=i,u=t),c=Math.round((c+n)*255),m=Math.round((m+n)*255),u=Math.round((u+n)*255),new k(c,m,u,s)}}e.HSVA=D;class y{static fromHex(w){return y.Format.CSS.parseHex(w)||y.red}static equals(w,b){return!w&&!b?!0:!w||!b?!1:w.equals(b)}get hsla(){return this._hsla?this._hsla:E.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:D.fromRGBA(this.rgba)}constructor(w){if(w)if(w instanceof k)this.rgba=w;else if(w instanceof E)this._hsla=w,this.rgba=E.toRGBA(w);else if(w instanceof D)this._hsva=w,this.rgba=D.toRGBA(w);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}equals(w){return!!w&&k.equals(this.rgba,w.rgba)&&E.equals(this.hsla,w.hsla)&&D.equals(this.hsva,w.hsva)}getRelativeLuminance(){const w=y._relativeLuminanceForComponent(this.rgba.r),b=y._relativeLuminanceForComponent(this.rgba.g),C=y._relativeLuminanceForComponent(this.rgba.b),o=.2126*w+.7152*b+.0722*C;return f(o,4)}static _relativeLuminanceForComponent(w){const b=w/255;return b<=.03928?b/12.92:Math.pow((b+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(w){const b=this.getRelativeLuminance(),C=w.getRelativeLuminance();return b>C}isDarkerThan(w){const b=this.getRelativeLuminance(),C=w.getRelativeLuminance();return b<C}lighten(w){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*w,this.hsla.a))}darken(w){return new y(new E(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*w,this.hsla.a))}transparent(w){const{r:b,g:C,b:o,a:s}=this.rgba;return new y(new k(b,C,o,s*w))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new y(new k(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}makeOpaque(w){if(this.isOpaque()||w.rgba.a!==1)return this;const{r:b,g:C,b:o,a:s}=this.rgba;return new y(new k(w.rgba.r-s*(w.rgba.r-b),w.rgba.g-s*(w.rgba.g-C),w.rgba.b-s*(w.rgba.b-o),1))}toString(){return this._toString||(this._toString=y.Format.CSS.format(this)),this._toString}static getLighterColor(w,b,C){if(w.isLighterThan(b))return w;C=C||.5;const o=w.getRelativeLuminance(),s=b.getRelativeLuminance();return C=C*(s-o)/s,w.lighten(C)}static getDarkerColor(w,b,C){if(w.isDarkerThan(b))return w;C=C||.5;const o=w.getRelativeLuminance(),s=b.getRelativeLuminance();return C=C*(o-s)/o,w.darken(C)}}e.Color=y,y.white=new y(new k(255,255,255,1)),y.black=new y(new k(0,0,0,1)),y.red=new y(new k(255,0,0,1)),y.blue=new y(new k(0,0,255,1)),y.green=new y(new k(0,255,0,1)),y.cyan=new y(new k(0,255,255,1)),y.lightgrey=new y(new k(211,211,211,1)),y.transparent=new y(new k(0,0,0,0)),function(p){let w;(function(b){let C;(function(o){function s(l){return l.rgba.a===1?`rgb(${l.rgba.r}, ${l.rgba.g}, ${l.rgba.b})`:p.Format.CSS.formatRGBA(l)}o.formatRGB=s;function i(l){return`rgba(${l.rgba.r}, ${l.rgba.g}, ${l.rgba.b}, ${+l.rgba.a.toFixed(2)})`}o.formatRGBA=i;function t(l){return l.hsla.a===1?`hsl(${l.hsla.h}, ${(l.hsla.s*100).toFixed(2)}%, ${(l.hsla.l*100).toFixed(2)}%)`:p.Format.CSS.formatHSLA(l)}o.formatHSL=t;function n(l){return`hsla(${l.hsla.h}, ${(l.hsla.s*100).toFixed(2)}%, ${(l.hsla.l*100).toFixed(2)}%, ${l.hsla.a.toFixed(2)})`}o.formatHSLA=n;function c(l){const g=l.toString(16);return g.length!==2?"0"+g:g}function m(l){return`#${c(l.rgba.r)}${c(l.rgba.g)}${c(l.rgba.b)}`}o.formatHex=m;function u(l,g=!1){return g&&l.rgba.a===1?p.Format.CSS.formatHex(l):`#${c(l.rgba.r)}${c(l.rgba.g)}${c(l.rgba.b)}${c(Math.round(l.rgba.a*255))}`}o.formatHexA=u;function r(l){return l.isOpaque()?p.Format.CSS.formatHex(l):p.Format.CSS.formatRGBA(l)}o.format=r;function a(l){const g=l.length;if(g===0||l.charCodeAt(0)!==35)return null;if(g===7){const d=16*h(l.charCodeAt(1))+h(l.charCodeAt(2)),v=16*h(l.charCodeAt(3))+h(l.charCodeAt(4)),_=16*h(l.charCodeAt(5))+h(l.charCodeAt(6));return new p(new k(d,v,_,1))}if(g===9){const d=16*h(l.charCodeAt(1))+h(l.charCodeAt(2)),v=16*h(l.charCodeAt(3))+h(l.charCodeAt(4)),_=16*h(l.charCodeAt(5))+h(l.charCodeAt(6)),S=16*h(l.charCodeAt(7))+h(l.charCodeAt(8));return new p(new k(d,v,_,S/255))}if(g===4){const d=h(l.charCodeAt(1)),v=h(l.charCodeAt(2)),_=h(l.charCodeAt(3));return new p(new k(16*d+d,16*v+v,16*_+_))}if(g===5){const d=h(l.charCodeAt(1)),v=h(l.charCodeAt(2)),_=h(l.charCodeAt(3)),S=h(l.charCodeAt(4));return new p(new k(16*d+d,16*v+v,16*_+_,(16*S+S)/255))}return null}o.parseHex=a;function h(l){switch(l){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(C=b.CSS||(b.CSS={}))})(w=p.Format||(p.Format={}))}(y||(e.Color=y={}))}),define(ie[121],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.memoize=f;function f(k,E,D){let y=null,p=null;if(typeof D.value=="function"?(y="value",p=D.value,p.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof D.get=="function"&&(y="get",p=D.get),!p)throw new Error("not supported");const w=`$memoize$${E}`;D[y]=function(...b){return this.hasOwnProperty(w)||Object.defineProperty(this,w,{configurable:!1,enumerable:!1,writable:!1,value:p.apply(this,b)}),this[w]}}}),define(ie[425],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffChange=void 0;class f{constructor(E,D,y,p){this.originalStart=E,this.originalLength=D,this.modifiedStart=y,this.modifiedLength=p}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}e.DiffChange=f}),define(ie[155],ne([1,0,13]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.strictEquals=void 0,e.itemsEquals=E,e.itemEquals=D,e.equalsIfDefined=y;const k=(w,b)=>w===b;e.strictEquals=k;function E(w=e.strictEquals){return(b,C)=>f.equals(b,C,w)}function D(){return(w,b)=>w.equals(b)}function y(w,b,C){return!w||!b?w===b:C(w,b)}const p=new WeakMap}),define(ie[10],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BugIndicatingError=e.ErrorNoTelemetry=e.NotSupportedError=e.CancellationError=e.errorHandler=e.ErrorHandler=void 0,e.onUnexpectedError=k,e.onUnexpectedExternalError=E,e.transformErrorForSerialization=D,e.isCancellationError=p,e.canceled=b,e.illegalArgument=C,e.illegalState=o;class f{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(c){setTimeout(()=>{throw c.stack?i.isErrorNoTelemetry(c)?new i(c.message+`

`+c.stack):new Error(c.message+`

`+c.stack):c},0)}}emit(c){this.listeners.forEach(m=>{m(c)})}onUnexpectedError(c){this.unexpectedErrorHandler(c),this.emit(c)}onUnexpectedExternalError(c){this.unexpectedErrorHandler(c)}}e.ErrorHandler=f,e.errorHandler=new f;function k(n){p(n)||e.errorHandler.onUnexpectedError(n)}function E(n){p(n)||e.errorHandler.onUnexpectedExternalError(n)}function D(n){if(n instanceof Error){const{name:c,message:m}=n,u=n.stacktrace||n.stack;return{$isError:!0,name:c,message:m,stack:u,noTelemetry:i.isErrorNoTelemetry(n)}}return n}const y="Canceled";function p(n){return n instanceof w?!0:n instanceof Error&&n.name===y&&n.message===y}class w extends Error{constructor(){super(y),this.name=this.message}}e.CancellationError=w;function b(){const n=new Error(y);return n.name=n.message,n}function C(n){return n?new Error(`Illegal argument: ${n}`):new Error("Illegal argument")}function o(n){return n?new Error(`Illegal state: ${n}`):new Error("Illegal state")}class s extends Error{constructor(c){super("NotSupported"),c&&(this.message=c)}}e.NotSupportedError=s;class i extends Error{constructor(c){super(c),this.name="CodeExpectedError"}static fromError(c){if(c instanceof i)return c;const m=new i;return m.message=c.message,m.stack=c.stack,m}static isErrorNoTelemetry(c){return c.name==="CodeExpectedError"}}e.ErrorNoTelemetry=i;class t extends Error{constructor(c){super(c||"An unexpected bug occurred."),Object.setPrototypeOf(this,t.prototype)}}e.BugIndicatingError=t}),define(ie[99],ne([1,0,52,10]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createTrustedTypesPolicy=E;function E(D,y){var p;const w=globalThis.MonacoEnvironment;if(w?.createTrustedTypesPolicy)try{return w.createTrustedTypesPolicy(D,y)}catch(b){(0,k.onUnexpectedError)(b);return}try{return(p=f.mainWindow.trustedTypes)===null||p===void 0?void 0:p.createPolicy(D,y)}catch(b){(0,k.onUnexpectedError)(b);return}}}),define(ie[87],ne([1,0,10]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ok=k,e.assertNever=E,e.softAssert=D,e.assertFn=y,e.checkAdjacentItems=p;function k(w,b){if(!w)throw new Error(b?`Assertion failed (${b})`:"Assertion Failed")}function E(w,b="Unreachable"){throw new Error(b)}function D(w){w||(0,f.onUnexpectedError)(new f.BugIndicatingError("Soft Assertion Failed"))}function y(w){if(!w()){debugger;w(),(0,f.onUnexpectedError)(new f.BugIndicatingError("Assertion Failed"))}}function p(w,b){let C=0;for(;C<w.length-1;){const o=w[C],s=w[C+1];if(!b(o,s))return!1;C++}return!0}}),define(ie[122],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createSingleCallFunction=f;function f(k,E){const D=this;let y=!1,p;return function(){if(y)return p;if(y=!0,E)try{p=k.apply(D,arguments)}finally{E()}else p=k.apply(D,arguments);return p}}}),define(ie[88],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HierarchicalKind=void 0;class f{constructor(E){this.value=E}equals(E){return this.value===E.value}contains(E){return this.equals(E)||this.value===""||E.value.startsWith(this.value+f.sep)}intersects(E){return this.contains(E)||E.contains(this)}append(...E){return new f((this.value?[this.value,...E]:E).join(f.sep))}}e.HierarchicalKind=f,f.sep=".",f.None=new f("@@none@@"),f.Empty=new f("")}),define(ie[181],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultGenerator=e.IdGenerator=void 0;class f{constructor(E){this._prefix=E,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}e.IdGenerator=f,e.defaultGenerator=new f("id#")}),define(ie[54],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Iterable=void 0;var f;(function(k){function E(l){return l&&typeof l=="object"&&typeof l[Symbol.iterator]=="function"}k.is=E;const D=Object.freeze([]);function y(){return D}k.empty=y;function*p(l){yield l}k.single=p;function w(l){return E(l)?l:p(l)}k.wrap=w;function b(l){return l||D}k.from=b;function*C(l){for(let g=l.length-1;g>=0;g--)yield l[g]}k.reverse=C;function o(l){return!l||l[Symbol.iterator]().next().done===!0}k.isEmpty=o;function s(l){return l[Symbol.iterator]().next().value}k.first=s;function i(l,g){for(const d of l)if(g(d))return!0;return!1}k.some=i;function t(l,g){for(const d of l)if(g(d))return d}k.find=t;function*n(l,g){for(const d of l)g(d)&&(yield d)}k.filter=n;function*c(l,g){let d=0;for(const v of l)yield g(v,d++)}k.map=c;function*m(...l){for(const g of l)yield*g}k.concat=m;function u(l,g,d){let v=d;for(const _ of l)v=g(v,_);return v}k.reduce=u;function*r(l,g,d=l.length){for(g<0&&(g+=l.length),d<0?d+=l.length:d>l.length&&(d=l.length);g<d;g++)yield l[g]}k.slice=r;function a(l,g=Number.POSITIVE_INFINITY){const d=[];if(g===0)return[d,l];const v=l[Symbol.iterator]();for(let _=0;_<g;_++){const S=v.next();if(S.done)return[d,k.empty()];d.push(S.value)}return[d,{[Symbol.iterator](){return v}}]}k.consume=a;async function h(l){const g=[];for await(const d of l)g.push(d);return Promise.resolve(g)}k.asyncToArray=h})(f||(e.Iterable=f={}))}),define(ie[69],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyCodeUtils=e.IMMUTABLE_KEY_CODE_TO_CODE=e.IMMUTABLE_CODE_TO_KEY_CODE=e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE=e.EVENT_KEY_CODE_MAP=void 0,e.KeyChord=C;class f{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(s,i){this._keyCodeToStr[s]=i,this._strToKeyCode[i.toLowerCase()]=s}keyCodeToStr(s){return this._keyCodeToStr[s]}strToKeyCode(s){return this._strToKeyCode[s.toLowerCase()]||0}}const k=new f,E=new f,D=new f;e.EVENT_KEY_CODE_MAP=new Array(230),e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE={};const y=[],p=Object.create(null),w=Object.create(null);e.IMMUTABLE_CODE_TO_KEY_CODE=[],e.IMMUTABLE_KEY_CODE_TO_CODE=[];for(let o=0;o<=193;o++)e.IMMUTABLE_CODE_TO_KEY_CODE[o]=-1;for(let o=0;o<=132;o++)e.IMMUTABLE_KEY_CODE_TO_CODE[o]=-1;(function(){const o="",s=[[1,0,"None",0,"unknown",0,"VK_UNKNOWN",o,o],[1,1,"Hyper",0,o,0,o,o,o],[1,2,"Super",0,o,0,o,o,o],[1,3,"Fn",0,o,0,o,o,o],[1,4,"FnLock",0,o,0,o,o,o],[1,5,"Suspend",0,o,0,o,o,o],[1,6,"Resume",0,o,0,o,o,o],[1,7,"Turbo",0,o,0,o,o,o],[1,8,"Sleep",0,o,0,"VK_SLEEP",o,o],[1,9,"WakeUp",0,o,0,o,o,o],[0,10,"KeyA",31,"A",65,"VK_A",o,o],[0,11,"KeyB",32,"B",66,"VK_B",o,o],[0,12,"KeyC",33,"C",67,"VK_C",o,o],[0,13,"KeyD",34,"D",68,"VK_D",o,o],[0,14,"KeyE",35,"E",69,"VK_E",o,o],[0,15,"KeyF",36,"F",70,"VK_F",o,o],[0,16,"KeyG",37,"G",71,"VK_G",o,o],[0,17,"KeyH",38,"H",72,"VK_H",o,o],[0,18,"KeyI",39,"I",73,"VK_I",o,o],[0,19,"KeyJ",40,"J",74,"VK_J",o,o],[0,20,"KeyK",41,"K",75,"VK_K",o,o],[0,21,"KeyL",42,"L",76,"VK_L",o,o],[0,22,"KeyM",43,"M",77,"VK_M",o,o],[0,23,"KeyN",44,"N",78,"VK_N",o,o],[0,24,"KeyO",45,"O",79,"VK_O",o,o],[0,25,"KeyP",46,"P",80,"VK_P",o,o],[0,26,"KeyQ",47,"Q",81,"VK_Q",o,o],[0,27,"KeyR",48,"R",82,"VK_R",o,o],[0,28,"KeyS",49,"S",83,"VK_S",o,o],[0,29,"KeyT",50,"T",84,"VK_T",o,o],[0,30,"KeyU",51,"U",85,"VK_U",o,o],[0,31,"KeyV",52,"V",86,"VK_V",o,o],[0,32,"KeyW",53,"W",87,"VK_W",o,o],[0,33,"KeyX",54,"X",88,"VK_X",o,o],[0,34,"KeyY",55,"Y",89,"VK_Y",o,o],[0,35,"KeyZ",56,"Z",90,"VK_Z",o,o],[0,36,"Digit1",22,"1",49,"VK_1",o,o],[0,37,"Digit2",23,"2",50,"VK_2",o,o],[0,38,"Digit3",24,"3",51,"VK_3",o,o],[0,39,"Digit4",25,"4",52,"VK_4",o,o],[0,40,"Digit5",26,"5",53,"VK_5",o,o],[0,41,"Digit6",27,"6",54,"VK_6",o,o],[0,42,"Digit7",28,"7",55,"VK_7",o,o],[0,43,"Digit8",29,"8",56,"VK_8",o,o],[0,44,"Digit9",30,"9",57,"VK_9",o,o],[0,45,"Digit0",21,"0",48,"VK_0",o,o],[1,46,"Enter",3,"Enter",13,"VK_RETURN",o,o],[1,47,"Escape",9,"Escape",27,"VK_ESCAPE",o,o],[1,48,"Backspace",1,"Backspace",8,"VK_BACK",o,o],[1,49,"Tab",2,"Tab",9,"VK_TAB",o,o],[1,50,"Space",10,"Space",32,"VK_SPACE",o,o],[0,51,"Minus",88,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[0,52,"Equal",86,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[0,53,"BracketLeft",92,"[",219,"VK_OEM_4","[","OEM_4"],[0,54,"BracketRight",94,"]",221,"VK_OEM_6","]","OEM_6"],[0,55,"Backslash",93,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,56,"IntlHash",0,o,0,o,o,o],[0,57,"Semicolon",85,";",186,"VK_OEM_1",";","OEM_1"],[0,58,"Quote",95,"'",222,"VK_OEM_7","'","OEM_7"],[0,59,"Backquote",91,"`",192,"VK_OEM_3","`","OEM_3"],[0,60,"Comma",87,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[0,61,"Period",89,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[0,62,"Slash",90,"/",191,"VK_OEM_2","/","OEM_2"],[1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",o,o],[1,64,"F1",59,"F1",112,"VK_F1",o,o],[1,65,"F2",60,"F2",113,"VK_F2",o,o],[1,66,"F3",61,"F3",114,"VK_F3",o,o],[1,67,"F4",62,"F4",115,"VK_F4",o,o],[1,68,"F5",63,"F5",116,"VK_F5",o,o],[1,69,"F6",64,"F6",117,"VK_F6",o,o],[1,70,"F7",65,"F7",118,"VK_F7",o,o],[1,71,"F8",66,"F8",119,"VK_F8",o,o],[1,72,"F9",67,"F9",120,"VK_F9",o,o],[1,73,"F10",68,"F10",121,"VK_F10",o,o],[1,74,"F11",69,"F11",122,"VK_F11",o,o],[1,75,"F12",70,"F12",123,"VK_F12",o,o],[1,76,"PrintScreen",0,o,0,o,o,o],[1,77,"ScrollLock",84,"ScrollLock",145,"VK_SCROLL",o,o],[1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",o,o],[1,79,"Insert",19,"Insert",45,"VK_INSERT",o,o],[1,80,"Home",14,"Home",36,"VK_HOME",o,o],[1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",o,o],[1,82,"Delete",20,"Delete",46,"VK_DELETE",o,o],[1,83,"End",13,"End",35,"VK_END",o,o],[1,84,"PageDown",12,"PageDown",34,"VK_NEXT",o,o],[1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",o],[1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",o],[1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",o],[1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",o],[1,89,"NumLock",83,"NumLock",144,"VK_NUMLOCK",o,o],[1,90,"NumpadDivide",113,"NumPad_Divide",111,"VK_DIVIDE",o,o],[1,91,"NumpadMultiply",108,"NumPad_Multiply",106,"VK_MULTIPLY",o,o],[1,92,"NumpadSubtract",111,"NumPad_Subtract",109,"VK_SUBTRACT",o,o],[1,93,"NumpadAdd",109,"NumPad_Add",107,"VK_ADD",o,o],[1,94,"NumpadEnter",3,o,0,o,o,o],[1,95,"Numpad1",99,"NumPad1",97,"VK_NUMPAD1",o,o],[1,96,"Numpad2",100,"NumPad2",98,"VK_NUMPAD2",o,o],[1,97,"Numpad3",101,"NumPad3",99,"VK_NUMPAD3",o,o],[1,98,"Numpad4",102,"NumPad4",100,"VK_NUMPAD4",o,o],[1,99,"Numpad5",103,"NumPad5",101,"VK_NUMPAD5",o,o],[1,100,"Numpad6",104,"NumPad6",102,"VK_NUMPAD6",o,o],[1,101,"Numpad7",105,"NumPad7",103,"VK_NUMPAD7",o,o],[1,102,"Numpad8",106,"NumPad8",104,"VK_NUMPAD8",o,o],[1,103,"Numpad9",107,"NumPad9",105,"VK_NUMPAD9",o,o],[1,104,"Numpad0",98,"NumPad0",96,"VK_NUMPAD0",o,o],[1,105,"NumpadDecimal",112,"NumPad_Decimal",110,"VK_DECIMAL",o,o],[0,106,"IntlBackslash",97,"OEM_102",226,"VK_OEM_102",o,o],[1,107,"ContextMenu",58,"ContextMenu",93,o,o,o],[1,108,"Power",0,o,0,o,o,o],[1,109,"NumpadEqual",0,o,0,o,o,o],[1,110,"F13",71,"F13",124,"VK_F13",o,o],[1,111,"F14",72,"F14",125,"VK_F14",o,o],[1,112,"F15",73,"F15",126,"VK_F15",o,o],[1,113,"F16",74,"F16",127,"VK_F16",o,o],[1,114,"F17",75,"F17",128,"VK_F17",o,o],[1,115,"F18",76,"F18",129,"VK_F18",o,o],[1,116,"F19",77,"F19",130,"VK_F19",o,o],[1,117,"F20",78,"F20",131,"VK_F20",o,o],[1,118,"F21",79,"F21",132,"VK_F21",o,o],[1,119,"F22",80,"F22",133,"VK_F22",o,o],[1,120,"F23",81,"F23",134,"VK_F23",o,o],[1,121,"F24",82,"F24",135,"VK_F24",o,o],[1,122,"Open",0,o,0,o,o,o],[1,123,"Help",0,o,0,o,o,o],[1,124,"Select",0,o,0,o,o,o],[1,125,"Again",0,o,0,o,o,o],[1,126,"Undo",0,o,0,o,o,o],[1,127,"Cut",0,o,0,o,o,o],[1,128,"Copy",0,o,0,o,o,o],[1,129,"Paste",0,o,0,o,o,o],[1,130,"Find",0,o,0,o,o,o],[1,131,"AudioVolumeMute",117,"AudioVolumeMute",173,"VK_VOLUME_MUTE",o,o],[1,132,"AudioVolumeUp",118,"AudioVolumeUp",175,"VK_VOLUME_UP",o,o],[1,133,"AudioVolumeDown",119,"AudioVolumeDown",174,"VK_VOLUME_DOWN",o,o],[1,134,"NumpadComma",110,"NumPad_Separator",108,"VK_SEPARATOR",o,o],[0,135,"IntlRo",115,"ABNT_C1",193,"VK_ABNT_C1",o,o],[1,136,"KanaMode",0,o,0,o,o,o],[0,137,"IntlYen",0,o,0,o,o,o],[1,138,"Convert",0,o,0,o,o,o],[1,139,"NonConvert",0,o,0,o,o,o],[1,140,"Lang1",0,o,0,o,o,o],[1,141,"Lang2",0,o,0,o,o,o],[1,142,"Lang3",0,o,0,o,o,o],[1,143,"Lang4",0,o,0,o,o,o],[1,144,"Lang5",0,o,0,o,o,o],[1,145,"Abort",0,o,0,o,o,o],[1,146,"Props",0,o,0,o,o,o],[1,147,"NumpadParenLeft",0,o,0,o,o,o],[1,148,"NumpadParenRight",0,o,0,o,o,o],[1,149,"NumpadBackspace",0,o,0,o,o,o],[1,150,"NumpadMemoryStore",0,o,0,o,o,o],[1,151,"NumpadMemoryRecall",0,o,0,o,o,o],[1,152,"NumpadMemoryClear",0,o,0,o,o,o],[1,153,"NumpadMemoryAdd",0,o,0,o,o,o],[1,154,"NumpadMemorySubtract",0,o,0,o,o,o],[1,155,"NumpadClear",131,"Clear",12,"VK_CLEAR",o,o],[1,156,"NumpadClearEntry",0,o,0,o,o,o],[1,0,o,5,"Ctrl",17,"VK_CONTROL",o,o],[1,0,o,4,"Shift",16,"VK_SHIFT",o,o],[1,0,o,6,"Alt",18,"VK_MENU",o,o],[1,0,o,57,"Meta",91,"VK_COMMAND",o,o],[1,157,"ControlLeft",5,o,0,"VK_LCONTROL",o,o],[1,158,"ShiftLeft",4,o,0,"VK_LSHIFT",o,o],[1,159,"AltLeft",6,o,0,"VK_LMENU",o,o],[1,160,"MetaLeft",57,o,0,"VK_LWIN",o,o],[1,161,"ControlRight",5,o,0,"VK_RCONTROL",o,o],[1,162,"ShiftRight",4,o,0,"VK_RSHIFT",o,o],[1,163,"AltRight",6,o,0,"VK_RMENU",o,o],[1,164,"MetaRight",57,o,0,"VK_RWIN",o,o],[1,165,"BrightnessUp",0,o,0,o,o,o],[1,166,"BrightnessDown",0,o,0,o,o,o],[1,167,"MediaPlay",0,o,0,o,o,o],[1,168,"MediaRecord",0,o,0,o,o,o],[1,169,"MediaFastForward",0,o,0,o,o,o],[1,170,"MediaRewind",0,o,0,o,o,o],[1,171,"MediaTrackNext",124,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",o,o],[1,172,"MediaTrackPrevious",125,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",o,o],[1,173,"MediaStop",126,"MediaStop",178,"VK_MEDIA_STOP",o,o],[1,174,"Eject",0,o,0,o,o,o],[1,175,"MediaPlayPause",127,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",o,o],[1,176,"MediaSelect",128,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",o,o],[1,177,"LaunchMail",129,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",o,o],[1,178,"LaunchApp2",130,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",o,o],[1,179,"LaunchApp1",0,o,0,"VK_MEDIA_LAUNCH_APP1",o,o],[1,180,"SelectTask",0,o,0,o,o,o],[1,181,"LaunchScreenSaver",0,o,0,o,o,o],[1,182,"BrowserSearch",120,"BrowserSearch",170,"VK_BROWSER_SEARCH",o,o],[1,183,"BrowserHome",121,"BrowserHome",172,"VK_BROWSER_HOME",o,o],[1,184,"BrowserBack",122,"BrowserBack",166,"VK_BROWSER_BACK",o,o],[1,185,"BrowserForward",123,"BrowserForward",167,"VK_BROWSER_FORWARD",o,o],[1,186,"BrowserStop",0,o,0,"VK_BROWSER_STOP",o,o],[1,187,"BrowserRefresh",0,o,0,"VK_BROWSER_REFRESH",o,o],[1,188,"BrowserFavorites",0,o,0,"VK_BROWSER_FAVORITES",o,o],[1,189,"ZoomToggle",0,o,0,o,o,o],[1,190,"MailReply",0,o,0,o,o,o],[1,191,"MailForward",0,o,0,o,o,o],[1,192,"MailSend",0,o,0,o,o,o],[1,0,o,114,"KeyInComposition",229,o,o,o],[1,0,o,116,"ABNT_C2",194,"VK_ABNT_C2",o,o],[1,0,o,96,"OEM_8",223,"VK_OEM_8",o,o],[1,0,o,0,o,0,"VK_KANA",o,o],[1,0,o,0,o,0,"VK_HANGUL",o,o],[1,0,o,0,o,0,"VK_JUNJA",o,o],[1,0,o,0,o,0,"VK_FINAL",o,o],[1,0,o,0,o,0,"VK_HANJA",o,o],[1,0,o,0,o,0,"VK_KANJI",o,o],[1,0,o,0,o,0,"VK_CONVERT",o,o],[1,0,o,0,o,0,"VK_NONCONVERT",o,o],[1,0,o,0,o,0,"VK_ACCEPT",o,o],[1,0,o,0,o,0,"VK_MODECHANGE",o,o],[1,0,o,0,o,0,"VK_SELECT",o,o],[1,0,o,0,o,0,"VK_PRINT",o,o],[1,0,o,0,o,0,"VK_EXECUTE",o,o],[1,0,o,0,o,0,"VK_SNAPSHOT",o,o],[1,0,o,0,o,0,"VK_HELP",o,o],[1,0,o,0,o,0,"VK_APPS",o,o],[1,0,o,0,o,0,"VK_PROCESSKEY",o,o],[1,0,o,0,o,0,"VK_PACKET",o,o],[1,0,o,0,o,0,"VK_DBE_SBCSCHAR",o,o],[1,0,o,0,o,0,"VK_DBE_DBCSCHAR",o,o],[1,0,o,0,o,0,"VK_ATTN",o,o],[1,0,o,0,o,0,"VK_CRSEL",o,o],[1,0,o,0,o,0,"VK_EXSEL",o,o],[1,0,o,0,o,0,"VK_EREOF",o,o],[1,0,o,0,o,0,"VK_PLAY",o,o],[1,0,o,0,o,0,"VK_ZOOM",o,o],[1,0,o,0,o,0,"VK_NONAME",o,o],[1,0,o,0,o,0,"VK_PA1",o,o],[1,0,o,0,o,0,"VK_OEM_CLEAR",o,o]],i=[],t=[];for(const n of s){const[c,m,u,r,a,h,l,g,d]=n;if(t[m]||(t[m]=!0,y[m]=u,p[u]=m,w[u.toLowerCase()]=m,c&&(e.IMMUTABLE_CODE_TO_KEY_CODE[m]=r,r!==0&&r!==3&&r!==5&&r!==4&&r!==6&&r!==57&&(e.IMMUTABLE_KEY_CODE_TO_CODE[r]=m))),!i[r]){if(i[r]=!0,!a)throw new Error(`String representation missing for key code ${r} around scan code ${u}`);k.define(r,a),E.define(r,g||a),D.define(r,d||g||a)}h&&(e.EVENT_KEY_CODE_MAP[h]=r),l&&(e.NATIVE_WINDOWS_KEY_CODE_TO_KEY_CODE[l]=r)}e.IMMUTABLE_KEY_CODE_TO_CODE[3]=46})();var b;(function(o){function s(u){return k.keyCodeToStr(u)}o.toString=s;function i(u){return k.strToKeyCode(u)}o.fromString=i;function t(u){return E.keyCodeToStr(u)}o.toUserSettingsUS=t;function n(u){return D.keyCodeToStr(u)}o.toUserSettingsGeneral=n;function c(u){return E.strToKeyCode(u)||D.strToKeyCode(u)}o.fromUserSettings=c;function m(u){if(u>=98&&u<=113)return null;switch(u){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return k.keyCodeToStr(u)}o.toElectronAccelerator=m})(b||(e.KeyCodeUtils=b={}));function C(o,s){const i=(s&65535)<<16>>>0;return(o|i)>>>0}}),define(ie[135],ne([1,0,10]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybinding=e.ResolvedChord=e.Keybinding=e.ScanCodeChord=e.KeyCodeChord=void 0,e.decodeKeybinding=k,e.createSimpleKeybinding=E;function k(C,o){if(typeof C=="number"){if(C===0)return null;const s=(C&65535)>>>0,i=(C&4294901760)>>>16;return i!==0?new p([E(s,o),E(i,o)]):new p([E(s,o)])}else{const s=[];for(let i=0;i<C.length;i++)s.push(E(C[i],o));return new p(s)}}function E(C,o){const s=!!(C&2048),i=!!(C&256),t=o===2?i:s,n=!!(C&1024),c=!!(C&512),m=o===2?s:i,u=C&255;return new D(t,n,c,m,u)}class D{constructor(o,s,i,t,n){this.ctrlKey=o,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.keyCode=n}equals(o){return o instanceof D&&this.ctrlKey===o.ctrlKey&&this.shiftKey===o.shiftKey&&this.altKey===o.altKey&&this.metaKey===o.metaKey&&this.keyCode===o.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}e.KeyCodeChord=D;class y{constructor(o,s,i,t,n){this.ctrlKey=o,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.scanCode=n}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}e.ScanCodeChord=y;class p{constructor(o){if(o.length===0)throw(0,f.illegalArgument)("chords");this.chords=o}}e.Keybinding=p;class w{constructor(o,s,i,t,n,c){this.ctrlKey=o,this.shiftKey=s,this.altKey=i,this.metaKey=t,this.keyLabel=n,this.keyAriaLabel=c}}e.ResolvedChord=w;class b{}e.ResolvedKeybinding=b}),define(ie[95],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Lazy=void 0;class f{constructor(E){this.executor=E,this._didRun=!1}get value(){if(!this._didRun)try{this._value=this.executor()}catch(E){this._error=E}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}e.Lazy=f}),define(ie[44],ne([1,0,95]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setHoverDelegateFactory=p,e.getDefaultHoverDelegate=w,e.createInstantHoverDelegate=b;let E=()=>({get delay(){return-1},dispose:()=>{},showHover:()=>{}});const D=new f.Lazy(()=>E("mouse",!1)),y=new f.Lazy(()=>E("element",!1));function p(C){E=C}function w(C){return C==="element"?y.value:D.value}function b(){return E("element",!0)}}),define(ie[156],ne([1,0,95]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VSBuffer=void 0,e.readUInt16LE=p,e.writeUInt16LE=w,e.readUInt32BE=b,e.writeUInt32BE=C,e.readUInt8=o,e.writeUInt8=s;const k=typeof Buffer<"u",E=new f.Lazy(()=>new Uint8Array(256));let D;class y{static wrap(t){return k&&!Buffer.isBuffer(t)&&(t=Buffer.from(t.buffer,t.byteOffset,t.byteLength)),new y(t)}constructor(t){this.buffer=t,this.byteLength=this.buffer.byteLength}toString(){return k?this.buffer.toString():(D||(D=new TextDecoder),D.decode(this.buffer))}}e.VSBuffer=y;function p(i,t){return i[t+0]<<0>>>0|i[t+1]<<8>>>0}function w(i,t,n){i[n+0]=t&255,t=t>>>8,i[n+1]=t&255}function b(i,t){return i[t]*2**24+i[t+1]*2**16+i[t+2]*2**8+i[t+3]}function C(i,t,n){i[n+3]=t,t=t>>>8,i[n+2]=t,t=t>>>8,i[n+1]=t,t=t>>>8,i[n]=t}function o(i,t){return i[t]}function s(i,t,n){i[n]=t}}),define(ie[426],ne([1,0,95]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compareFileNames=y,e.compareAnything=p,e.compareByPrefix=w;const k=new f.Lazy(()=>{const b=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:b,collatorIsNumeric:b.resolvedOptions().numeric}}),E=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),D=new f.Lazy(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function y(b,C,o=!1){const s=b||"",i=C||"",t=k.value.collator.compare(s,i);return k.value.collatorIsNumeric&&t===0&&s!==i?s<i?-1:1:t}function p(b,C,o){const s=b.toLowerCase(),i=C.toLowerCase(),t=w(b,C,o);if(t)return t;const n=s.endsWith(o),c=i.endsWith(o);if(n!==c)return n?-1:1;const m=y(s,i);return m!==0?m:s.localeCompare(i)}function w(b,C,o){const s=b.toLowerCase(),i=C.toLowerCase(),t=s.startsWith(o),n=i.startsWith(o);if(t!==n)return t?-1:1;if(t&&n){if(s.length<i.length)return-1;if(s.length>i.length)return 1}return 0}}),define(ie[2],ne([1,0,122,54]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableMap=e.ImmortalReference=e.RefCountedDisposable=e.MutableDisposable=e.Disposable=e.DisposableStore=void 0,e.setDisposableTracker=y,e.trackDisposable=p,e.markAsDisposed=w,e.markAsSingleton=o,e.isDisposable=s,e.dispose=i,e.combinedDisposable=t,e.toDisposable=n;const E=!1;let D=null;function y(l){D=l}if(E){const l="__is_disposable_tracked__";y(new class{trackDisposable(g){const d=new Error("Potentially leaked disposable").stack;setTimeout(()=>{g[l]||console.log(d)},3e3)}setParent(g,d){if(g&&g!==m.None)try{g[l]=!0}catch{}}markAsDisposed(g){if(g&&g!==m.None)try{g[l]=!0}catch{}}markAsSingleton(g){}})}function p(l){return D?.trackDisposable(l),l}function w(l){D?.markAsDisposed(l)}function b(l,g){D?.setParent(l,g)}function C(l,g){if(D)for(const d of l)D.setParent(d,g)}function o(l){return D?.markAsSingleton(l),l}function s(l){return typeof l=="object"&&l!==null&&typeof l.dispose=="function"&&l.dispose.length===0}function i(l){if(k.Iterable.is(l)){const g=[];for(const d of l)if(d)try{d.dispose()}catch(v){g.push(v)}if(g.length===1)throw g[0];if(g.length>1)throw new AggregateError(g,"Encountered errors while disposing of store");return Array.isArray(l)?[]:l}else if(l)return l.dispose(),l}function t(...l){const g=n(()=>i(l));return C(l,g),g}function n(l){const g=p({dispose:(0,f.createSingleCallFunction)(()=>{w(g),l()})});return g}class c{constructor(){this._toDispose=new Set,this._isDisposed=!1,p(this)}dispose(){this._isDisposed||(w(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){if(this._toDispose.size!==0)try{i(this._toDispose)}finally{this._toDispose.clear()}}add(g){if(!g)return g;if(g===this)throw new Error("Cannot register a disposable on itself!");return b(g,this),this._isDisposed?c.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(g),g}deleteAndLeak(g){g&&this._toDispose.has(g)&&(this._toDispose.delete(g),b(g,null))}}e.DisposableStore=c,c.DISABLE_DISPOSED_WARNING=!1;class m{constructor(){this._store=new c,p(this),b(this._store,this)}dispose(){w(this),this._store.dispose()}_register(g){if(g===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(g)}}e.Disposable=m,m.None=Object.freeze({dispose(){}});class u{constructor(){this._isDisposed=!1,p(this)}get value(){return this._isDisposed?void 0:this._value}set value(g){var d;this._isDisposed||g===this._value||((d=this._value)===null||d===void 0||d.dispose(),g&&b(g,this),this._value=g)}clear(){this.value=void 0}dispose(){var g;this._isDisposed=!0,w(this),(g=this._value)===null||g===void 0||g.dispose(),this._value=void 0}}e.MutableDisposable=u;class r{constructor(g){this._disposable=g,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}e.RefCountedDisposable=r;class a{constructor(g){this.object=g}dispose(){}}e.ImmortalReference=a;class h{constructor(){this._store=new Map,this._isDisposed=!1,p(this)}dispose(){w(this),this._isDisposed=!0,this.clearAndDisposeAll()}clearAndDisposeAll(){if(this._store.size)try{i(this._store.values())}finally{this._store.clear()}}get(g){return this._store.get(g)}set(g,d,v=!1){var _;this._isDisposed&&console.warn(new Error("Trying to add a disposable to a DisposableMap that has already been disposed of. The added object will be leaked!").stack),v||(_=this._store.get(g))===null||_===void 0||_.dispose(),this._store.set(g,d)}deleteAndDispose(g){var d;(d=this._store.get(g))===null||d===void 0||d.dispose(),this._store.delete(g)}[Symbol.iterator](){return this._store[Symbol.iterator]()}}e.DisposableMap=h}),define(ie[70],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedList=void 0;class f{constructor(D){this.element=D,this.next=f.Undefined,this.prev=f.Undefined}}f.Undefined=new f(void 0);class k{constructor(){this._first=f.Undefined,this._last=f.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===f.Undefined}clear(){let D=this._first;for(;D!==f.Undefined;){const y=D.next;D.prev=f.Undefined,D.next=f.Undefined,D=y}this._first=f.Undefined,this._last=f.Undefined,this._size=0}unshift(D){return this._insert(D,!1)}push(D){return this._insert(D,!0)}_insert(D,y){const p=new f(D);if(this._first===f.Undefined)this._first=p,this._last=p;else if(y){const b=this._last;this._last=p,p.prev=b,b.next=p}else{const b=this._first;this._first=p,p.next=b,b.prev=p}this._size+=1;let w=!1;return()=>{w||(w=!0,this._remove(p))}}shift(){if(this._first!==f.Undefined){const D=this._first.element;return this._remove(this._first),D}}pop(){if(this._last!==f.Undefined){const D=this._last.element;return this._remove(this._last),D}}_remove(D){if(D.prev!==f.Undefined&&D.next!==f.Undefined){const y=D.prev;y.next=D.next,D.next.prev=y}else D.prev===f.Undefined&&D.next===f.Undefined?(this._first=f.Undefined,this._last=f.Undefined):D.next===f.Undefined?(this._last=this._last.prev,this._last.next=f.Undefined):D.prev===f.Undefined&&(this._first=this._first.next,this._first.prev=f.Undefined);this._size-=1}*[Symbol.iterator](){let D=this._first;for(;D!==f.Undefined;)yield D.element,D=D.next}}e.LinkedList=k});var Ie=this&&this.__decorate||function(Q,e,f,k){var E=arguments.length,D=E<3?e:k===null?k=Object.getOwnPropertyDescriptor(e,f):k,y;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")D=Reflect.decorate(Q,e,f,k);else for(var p=Q.length-1;p>=0;p--)(y=Q[p])&&(D=(E<3?y(D):E>3?y(e,f,D):y(e,f))||D);return E>3&&D&&Object.defineProperty(e,f,D),D};define(ie[427],ne([1,0,121]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkedText=void 0,e.parseLinkedText=D;class k{constructor(p){this.nodes=p}toString(){return this.nodes.map(p=>typeof p=="string"?p:p.label).join("")}}e.LinkedText=k,Ie([f.memoize],k.prototype,"toString",null);const E=/\[([^\]]+)\]\(((?:https?:\/\/|command:|file:)[^\)\s]+)(?: (["'])(.+?)(\3))?\)/gi;function D(y){const p=[];let w=0,b;for(;b=E.exec(y);){b.index-w>0&&p.push(y.substring(w,b.index));const[,C,o,,s]=b;s?p.push({label:C,href:o,title:s}):p.push({label:C,href:o}),w=b.index+b[0].length}return w<y.length&&p.push(y.substring(w)),new k(p)}}),define(ie[45],ne([1,0]),function(Q,e){"use strict";var f,k;Object.defineProperty(e,"__esModule",{value:!0}),e.SetMap=e.BidirectionalMap=e.LRUCache=e.LinkedMap=e.ResourceMap=void 0;class E{constructor(i,t){this.uri=i,this.value=t}}function D(s){return Array.isArray(s)}class y{constructor(i,t){if(this[f]="ResourceMap",i instanceof y)this.map=new Map(i.map),this.toKey=t??y.defaultToKey;else if(D(i)){this.map=new Map,this.toKey=t??y.defaultToKey;for(const[n,c]of i)this.set(n,c)}else this.map=new Map,this.toKey=i??y.defaultToKey}set(i,t){return this.map.set(this.toKey(i),new E(i,t)),this}get(i){var t;return(t=this.map.get(this.toKey(i)))===null||t===void 0?void 0:t.value}has(i){return this.map.has(this.toKey(i))}get size(){return this.map.size}clear(){this.map.clear()}delete(i){return this.map.delete(this.toKey(i))}forEach(i,t){typeof t<"u"&&(i=i.bind(t));for(const[n,c]of this.map)i(c.value,c.uri,this)}*values(){for(const i of this.map.values())yield i.value}*keys(){for(const i of this.map.values())yield i.uri}*entries(){for(const i of this.map.values())yield[i.uri,i.value]}*[(f=Symbol.toStringTag,Symbol.iterator)](){for(const[,i]of this.map)yield[i.uri,i.value]}}e.ResourceMap=y,y.defaultToKey=s=>s.toString();class p{constructor(){this[k]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var i;return(i=this._head)===null||i===void 0?void 0:i.value}get last(){var i;return(i=this._tail)===null||i===void 0?void 0:i.value}has(i){return this._map.has(i)}get(i,t=0){const n=this._map.get(i);if(n)return t!==0&&this.touch(n,t),n.value}set(i,t,n=0){let c=this._map.get(i);if(c)c.value=t,n!==0&&this.touch(c,n);else{switch(c={key:i,value:t,next:void 0,previous:void 0},n){case 0:this.addItemLast(c);break;case 1:this.addItemFirst(c);break;case 2:this.addItemLast(c);break;default:this.addItemLast(c);break}this._map.set(i,c),this._size++}return this}delete(i){return!!this.remove(i)}remove(i){const t=this._map.get(i);if(t)return this._map.delete(i),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const i=this._head;return this._map.delete(i.key),this.removeItem(i),this._size--,i.value}forEach(i,t){const n=this._state;let c=this._head;for(;c;){if(t?i.bind(t)(c.value,c.key,this):i(c.value,c.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");c=c.next}}keys(){const i=this,t=this._state;let n=this._head;const c={[Symbol.iterator](){return c},next(){if(i._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const m={value:n.key,done:!1};return n=n.next,m}else return{value:void 0,done:!0}}};return c}values(){const i=this,t=this._state;let n=this._head;const c={[Symbol.iterator](){return c},next(){if(i._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const m={value:n.value,done:!1};return n=n.next,m}else return{value:void 0,done:!0}}};return c}entries(){const i=this,t=this._state;let n=this._head;const c={[Symbol.iterator](){return c},next(){if(i._state!==t)throw new Error("LinkedMap got modified during iteration.");if(n){const m={value:[n.key,n.value],done:!1};return n=n.next,m}else return{value:void 0,done:!0}}};return c}[(k=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(i){if(i>=this.size)return;if(i===0){this.clear();return}let t=this._head,n=this.size;for(;t&&n>i;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}trimNew(i){if(i>=this.size)return;if(i===0){this.clear();return}let t=this._tail,n=this.size;for(;t&&n>i;)this._map.delete(t.key),t=t.previous,n--;this._tail=t,this._size=n,t&&(t.next=void 0),this._state++}addItemFirst(i){if(!this._head&&!this._tail)this._tail=i;else if(this._head)i.next=this._head,this._head.previous=i;else throw new Error("Invalid list");this._head=i,this._state++}addItemLast(i){if(!this._head&&!this._tail)this._head=i;else if(this._tail)i.previous=this._tail,this._tail.next=i;else throw new Error("Invalid list");this._tail=i,this._state++}removeItem(i){if(i===this._head&&i===this._tail)this._head=void 0,this._tail=void 0;else if(i===this._head){if(!i.next)throw new Error("Invalid list");i.next.previous=void 0,this._head=i.next}else if(i===this._tail){if(!i.previous)throw new Error("Invalid list");i.previous.next=void 0,this._tail=i.previous}else{const t=i.next,n=i.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}i.next=void 0,i.previous=void 0,this._state++}touch(i,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(t!==1&&t!==2)){if(t===1){if(i===this._head)return;const n=i.next,c=i.previous;i===this._tail?(c.next=void 0,this._tail=c):(n.previous=c,c.next=n),i.previous=void 0,i.next=this._head,this._head.previous=i,this._head=i,this._state++}else if(t===2){if(i===this._tail)return;const n=i.next,c=i.previous;i===this._head?(n.previous=void 0,this._head=n):(n.previous=c,c.next=n),i.next=void 0,i.previous=this._tail,this._tail.next=i,this._tail=i,this._state++}}}toJSON(){const i=[];return this.forEach((t,n)=>{i.push([n,t])}),i}fromJSON(i){this.clear();for(const[t,n]of i)this.set(t,n)}}e.LinkedMap=p;class w extends p{constructor(i,t=1){super(),this._limit=i,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(i){this._limit=i,this.checkTrim()}get(i,t=2){return super.get(i,t)}peek(i){return super.get(i,0)}set(i,t){return super.set(i,t,2),this}checkTrim(){this.size>this._limit&&this.trim(Math.round(this._limit*this._ratio))}}class b extends w{constructor(i,t=1){super(i,t)}trim(i){this.trimOld(i)}set(i,t){return super.set(i,t),this.checkTrim(),this}}e.LRUCache=b;class C{constructor(i){if(this._m1=new Map,this._m2=new Map,i)for(const[t,n]of i)this.set(t,n)}clear(){this._m1.clear(),this._m2.clear()}set(i,t){this._m1.set(i,t),this._m2.set(t,i)}get(i){return this._m1.get(i)}getKey(i){return this._m2.get(i)}delete(i){const t=this._m1.get(i);return t===void 0?!1:(this._m1.delete(i),this._m2.delete(t),!0)}keys(){return this._m1.keys()}values(){return this._m1.values()}}e.BidirectionalMap=C;class o{constructor(){this.map=new Map}add(i,t){let n=this.map.get(i);n||(n=new Set,this.map.set(i,n)),n.add(t)}delete(i,t){const n=this.map.get(i);n&&(n.delete(t),n.size===0&&this.map.delete(i))}forEach(i,t){const n=this.map.get(i);n&&n.forEach(t)}get(i){const t=this.map.get(i);return t||new Set}}e.SetMap=o}),function(Q,e){typeof define=="function"&&define.amd?define(ie[428],ne([0]),e):typeof exports=="object"&&typeof module<"u"?e(exports):(Q=typeof globalThis<"u"?globalThis:Q||self,e(Q.marked={}))}(this,function(Q){"use strict";function e(X,ae){for(var oe=0;oe<ae.length;oe++){var B=ae[oe];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(X,B.key,B)}}function f(X,ae,oe){return ae&&e(X.prototype,ae),oe&&e(X,oe),Object.defineProperty(X,"prototype",{writable:!1}),X}function k(X,ae){if(X){if(typeof X=="string")return E(X,ae);var oe=Object.prototype.toString.call(X).slice(8,-1);if(oe==="Object"&&X.constructor&&(oe=X.constructor.name),oe==="Map"||oe==="Set")return Array.from(X);if(oe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(oe))return E(X,ae)}}function E(X,ae){(ae==null||ae>X.length)&&(ae=X.length);for(var oe=0,B=new Array(ae);oe<ae;oe++)B[oe]=X[oe];return B}function D(X,ae){var oe=typeof Symbol<"u"&&X[Symbol.iterator]||X["@@iterator"];if(oe)return(oe=oe.call(X)).next.bind(oe);if(Array.isArray(X)||(oe=k(X))||ae&&X&&typeof X.length=="number"){oe&&(X=oe);var B=0;return function(){return B>=X.length?{done:!0}:{done:!1,value:X[B++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}Q.defaults=y();function p(X){Q.defaults=X}var w=/[&<>"']/,b=/[&<>"']/g,C=/[<>"']|&(?!#?\w+;)/,o=/[<>"']|&(?!#?\w+;)/g,s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},i=function(ae){return s[ae]};function t(X,ae){if(ae){if(w.test(X))return X.replace(b,i)}else if(C.test(X))return X.replace(o,i);return X}var n=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function c(X){return X.replace(n,function(ae,oe){return oe=oe.toLowerCase(),oe==="colon"?":":oe.charAt(0)==="#"?oe.charAt(1)==="x"?String.fromCharCode(parseInt(oe.substring(2),16)):String.fromCharCode(+oe.substring(1)):""})}var m=/(^|[^\[])\^/g;function u(X,ae){X=typeof X=="string"?X:X.source,ae=ae||"";var oe={replace:function(q,V){return V=V.source||V,V=V.replace(m,"$1"),X=X.replace(q,V),oe},getRegex:function(){return new RegExp(X,ae)}};return oe}var r=/[^\w:]/g,a=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(X,ae,oe){if(X){var B;try{B=decodeURIComponent(c(oe)).replace(r,"").toLowerCase()}catch{return null}if(B.indexOf("javascript:")===0||B.indexOf("vbscript:")===0||B.indexOf("data:")===0)return null}ae&&!a.test(oe)&&(oe=_(ae,oe));try{oe=encodeURI(oe).replace(/%25/g,"%")}catch{return null}return oe}var l={},g=/^[^:]+:\/*[^/]*$/,d=/^([^:]+:)[\s\S]*$/,v=/^([^:]+:\/*[^/]*)[\s\S]*$/;function _(X,ae){l[" "+X]||(g.test(X)?l[" "+X]=X+"/":l[" "+X]=T(X,"/",!0)),X=l[" "+X];var oe=X.indexOf(":")===-1;return ae.substring(0,2)==="//"?oe?ae:X.replace(d,"$1")+ae:ae.charAt(0)==="/"?oe?ae:X.replace(v,"$1")+ae:X+ae}var S={exec:function(){}};function L(X){for(var ae=1,oe,B;ae<arguments.length;ae++){oe=arguments[ae];for(B in oe)Object.prototype.hasOwnProperty.call(oe,B)&&(X[B]=oe[B])}return X}function I(X,ae){var oe=X.replace(/\|/g,function(V,$,J){for(var se=!1,de=$;--de>=0&&J[de]==="\\";)se=!se;return se?"|":" |"}),B=oe.split(/ \|/),q=0;if(B[0].trim()||B.shift(),B.length>0&&!B[B.length-1].trim()&&B.pop(),B.length>ae)B.splice(ae);else for(;B.length<ae;)B.push("");for(;q<B.length;q++)B[q]=B[q].trim().replace(/\\\|/g,"|");return B}function T(X,ae,oe){var B=X.length;if(B===0)return"";for(var q=0;q<B;){var V=X.charAt(B-q-1);if(V===ae&&!oe)q++;else if(V!==ae&&oe)q++;else break}return X.slice(0,B-q)}function N(X,ae){if(X.indexOf(ae[1])===-1)return-1;for(var oe=X.length,B=0,q=0;q<oe;q++)if(X[q]==="\\")q++;else if(X[q]===ae[0])B++;else if(X[q]===ae[1]&&(B--,B<0))return q;return-1}function A(X){X&&X.sanitize&&!X.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function O(X,ae){if(ae<1)return"";for(var oe="";ae>1;)ae&1&&(oe+=X),ae>>=1,X+=X;return oe+X}function M(X,ae,oe,B){var q=ae.href,V=ae.title?t(ae.title):null,$=X[1].replace(/\\([\[\]])/g,"$1");if(X[0].charAt(0)!=="!"){B.state.inLink=!0;var J={type:"link",raw:oe,href:q,title:V,text:$,tokens:B.inlineTokens($)};return B.state.inLink=!1,J}return{type:"image",raw:oe,href:q,title:V,text:t($)}}function R(X,ae){var oe=X.match(/^(\s+)(?:```)/);if(oe===null)return ae;var B=oe[1];return ae.split(`
`).map(function(q){var V=q.match(/^\s+/);if(V===null)return q;var $=V[0];return $.length>=B.length?q.slice(B.length):q}).join(`
`)}var x=function(){function X(oe){this.options=oe||Q.defaults}var ae=X.prototype;return ae.space=function(B){var q=this.rules.block.newline.exec(B);if(q&&q[0].length>0)return{type:"space",raw:q[0]}},ae.code=function(B){var q=this.rules.block.code.exec(B);if(q){var V=q[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:q[0],codeBlockStyle:"indented",text:this.options.pedantic?V:T(V,`
`)}}},ae.fences=function(B){var q=this.rules.block.fences.exec(B);if(q){var V=q[0],$=R(V,q[3]||"");return{type:"code",raw:V,lang:q[2]?q[2].trim():q[2],text:$}}},ae.heading=function(B){var q=this.rules.block.heading.exec(B);if(q){var V=q[2].trim();if(/#$/.test(V)){var $=T(V,"#");(this.options.pedantic||!$||/ $/.test($))&&(V=$.trim())}return{type:"heading",raw:q[0],depth:q[1].length,text:V,tokens:this.lexer.inline(V)}}},ae.hr=function(B){var q=this.rules.block.hr.exec(B);if(q)return{type:"hr",raw:q[0]}},ae.blockquote=function(B){var q=this.rules.block.blockquote.exec(B);if(q){var V=q[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:q[0],tokens:this.lexer.blockTokens(V,[]),text:V}}},ae.list=function(B){var q=this.rules.block.list.exec(B);if(q){var V,$,J,se,de,le,fe,ve,Ce,Se,_e,ke,Ee=q[1].trim(),Ae=Ee.length>1,xe={type:"list",raw:"",ordered:Ae,start:Ae?+Ee.slice(0,-1):"",loose:!1,items:[]};Ee=Ae?"\\d{1,9}\\"+Ee.slice(-1):"\\"+Ee,this.options.pedantic&&(Ee=Ae?Ee:"[*+-]");for(var We=new RegExp("^( {0,3}"+Ee+")((?:[	 ][^\\n]*)?(?:\\n|$))");B&&(ke=!1,!(!(q=We.exec(B))||this.rules.block.hr.test(B)));){if(V=q[0],B=B.substring(V.length),ve=q[2].split(`
`,1)[0],Ce=B.split(`
`,1)[0],this.options.pedantic?(se=2,_e=ve.trimLeft()):(se=q[2].search(/[^ ]/),se=se>4?1:se,_e=ve.slice(se),se+=q[1].length),le=!1,!ve&&/^ *$/.test(Ce)&&(V+=Ce+`
`,B=B.substring(Ce.length+1),ke=!0),!ke)for(var Be=new RegExp("^ {0,"+Math.min(3,se-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),De=new RegExp("^ {0,"+Math.min(3,se-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)"),Ne=new RegExp("^ {0,"+Math.min(3,se-1)+"}(?:```|~~~)"),me=new RegExp("^ {0,"+Math.min(3,se-1)+"}#");B&&(Se=B.split(`
`,1)[0],ve=Se,this.options.pedantic&&(ve=ve.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Ne.test(ve)||me.test(ve)||Be.test(ve)||De.test(B)));){if(ve.search(/[^ ]/)>=se||!ve.trim())_e+=`
`+ve.slice(se);else if(!le)_e+=`
`+ve;else break;!le&&!ve.trim()&&(le=!0),V+=Se+`
`,B=B.substring(Se.length+1)}xe.loose||(fe?xe.loose=!0:/\n *\n *$/.test(V)&&(fe=!0)),this.options.gfm&&($=/^\[[ xX]\] /.exec(_e),$&&(J=$[0]!=="[ ] ",_e=_e.replace(/^\[[ xX]\] +/,""))),xe.items.push({type:"list_item",raw:V,task:!!$,checked:J,loose:!1,text:_e}),xe.raw+=V}xe.items[xe.items.length-1].raw=V.trimRight(),xe.items[xe.items.length-1].text=_e.trimRight(),xe.raw=xe.raw.trimRight();var be=xe.items.length;for(de=0;de<be;de++){this.lexer.state.top=!1,xe.items[de].tokens=this.lexer.blockTokens(xe.items[de].text,[]);var Re=xe.items[de].tokens.filter(function(qe){return qe.type==="space"}),He=Re.every(function(qe){for(var Ue=qe.raw.split(""),Ze=0,et=D(Ue),nt;!(nt=et()).done;){var at=nt.value;if(at===`
`&&(Ze+=1),Ze>1)return!0}return!1});!xe.loose&&Re.length&&He&&(xe.loose=!0,xe.items[de].loose=!0)}return xe}},ae.html=function(B){var q=this.rules.block.html.exec(B);if(q){var V={type:"html",raw:q[0],pre:!this.options.sanitizer&&(q[1]==="pre"||q[1]==="script"||q[1]==="style"),text:q[0]};if(this.options.sanitize){var $=this.options.sanitizer?this.options.sanitizer(q[0]):t(q[0]);V.type="paragraph",V.text=$,V.tokens=this.lexer.inline($)}return V}},ae.def=function(B){var q=this.rules.block.def.exec(B);if(q){q[3]&&(q[3]=q[3].substring(1,q[3].length-1));var V=q[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:V,raw:q[0],href:q[2],title:q[3]}}},ae.table=function(B){var q=this.rules.block.table.exec(B);if(q){var V={type:"table",header:I(q[1]).map(function(fe){return{text:fe}}),align:q[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:q[3]&&q[3].trim()?q[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(V.header.length===V.align.length){V.raw=q[0];var $=V.align.length,J,se,de,le;for(J=0;J<$;J++)/^ *-+: *$/.test(V.align[J])?V.align[J]="right":/^ *:-+: *$/.test(V.align[J])?V.align[J]="center":/^ *:-+ *$/.test(V.align[J])?V.align[J]="left":V.align[J]=null;for($=V.rows.length,J=0;J<$;J++)V.rows[J]=I(V.rows[J],V.header.length).map(function(fe){return{text:fe}});for($=V.header.length,se=0;se<$;se++)V.header[se].tokens=this.lexer.inline(V.header[se].text);for($=V.rows.length,se=0;se<$;se++)for(le=V.rows[se],de=0;de<le.length;de++)le[de].tokens=this.lexer.inline(le[de].text);return V}}},ae.lheading=function(B){var q=this.rules.block.lheading.exec(B);if(q)return{type:"heading",raw:q[0],depth:q[2].charAt(0)==="="?1:2,text:q[1],tokens:this.lexer.inline(q[1])}},ae.paragraph=function(B){var q=this.rules.block.paragraph.exec(B);if(q){var V=q[1].charAt(q[1].length-1)===`
`?q[1].slice(0,-1):q[1];return{type:"paragraph",raw:q[0],text:V,tokens:this.lexer.inline(V)}}},ae.text=function(B){var q=this.rules.block.text.exec(B);if(q)return{type:"text",raw:q[0],text:q[0],tokens:this.lexer.inline(q[0])}},ae.escape=function(B){var q=this.rules.inline.escape.exec(B);if(q)return{type:"escape",raw:q[0],text:t(q[1])}},ae.tag=function(B){var q=this.rules.inline.tag.exec(B);if(q)return!this.lexer.state.inLink&&/^<a /i.test(q[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(q[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(q[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(q[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:q[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(q[0]):t(q[0]):q[0]}},ae.link=function(B){var q=this.rules.inline.link.exec(B);if(q){var V=q[2].trim();if(!this.options.pedantic&&/^</.test(V)){if(!/>$/.test(V))return;var $=T(V.slice(0,-1),"\\");if((V.length-$.length)%2===0)return}else{var J=N(q[2],"()");if(J>-1){var se=q[0].indexOf("!")===0?5:4,de=se+q[1].length+J;q[2]=q[2].substring(0,J),q[0]=q[0].substring(0,de).trim(),q[3]=""}}var le=q[2],fe="";if(this.options.pedantic){var ve=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(le);ve&&(le=ve[1],fe=ve[3])}else fe=q[3]?q[3].slice(1,-1):"";return le=le.trim(),/^</.test(le)&&(this.options.pedantic&&!/>$/.test(V)?le=le.slice(1):le=le.slice(1,-1)),M(q,{href:le&&le.replace(this.rules.inline._escapes,"$1"),title:fe&&fe.replace(this.rules.inline._escapes,"$1")},q[0],this.lexer)}},ae.reflink=function(B,q){var V;if((V=this.rules.inline.reflink.exec(B))||(V=this.rules.inline.nolink.exec(B))){var $=(V[2]||V[1]).replace(/\s+/g," ");if($=q[$.toLowerCase()],!$||!$.href){var J=V[0].charAt(0);return{type:"text",raw:J,text:J}}return M(V,$,V[0],this.lexer)}},ae.emStrong=function(B,q,V){V===void 0&&(V="");var $=this.rules.inline.emStrong.lDelim.exec(B);if($&&!($[3]&&V.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var J=$[1]||$[2]||"";if(!J||J&&(V===""||this.rules.inline.punctuation.exec(V))){var se=$[0].length-1,de,le,fe=se,ve=0,Ce=$[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Ce.lastIndex=0,q=q.slice(-1*B.length+se);($=Ce.exec(q))!=null;)if(de=$[1]||$[2]||$[3]||$[4]||$[5]||$[6],!!de){if(le=de.length,$[3]||$[4]){fe+=le;continue}else if(($[5]||$[6])&&se%3&&!((se+le)%3)){ve+=le;continue}if(fe-=le,!(fe>0)){if(le=Math.min(le,le+fe+ve),Math.min(se,le)%2){var Se=B.slice(1,se+$.index+le);return{type:"em",raw:B.slice(0,se+$.index+le+1),text:Se,tokens:this.lexer.inlineTokens(Se)}}var _e=B.slice(2,se+$.index+le-1);return{type:"strong",raw:B.slice(0,se+$.index+le+1),text:_e,tokens:this.lexer.inlineTokens(_e)}}}}}},ae.codespan=function(B){var q=this.rules.inline.code.exec(B);if(q){var V=q[2].replace(/\n/g," "),$=/[^ ]/.test(V),J=/^ /.test(V)&&/ $/.test(V);return $&&J&&(V=V.substring(1,V.length-1)),V=t(V,!0),{type:"codespan",raw:q[0],text:V}}},ae.br=function(B){var q=this.rules.inline.br.exec(B);if(q)return{type:"br",raw:q[0]}},ae.del=function(B){var q=this.rules.inline.del.exec(B);if(q)return{type:"del",raw:q[0],text:q[2],tokens:this.lexer.inlineTokens(q[2])}},ae.autolink=function(B,q){var V=this.rules.inline.autolink.exec(B);if(V){var $,J;return V[2]==="@"?($=t(this.options.mangle?q(V[1]):V[1]),J="mailto:"+$):($=t(V[1]),J=$),{type:"link",raw:V[0],text:$,href:J,tokens:[{type:"text",raw:$,text:$}]}}},ae.url=function(B,q){var V;if(V=this.rules.inline.url.exec(B)){var $,J;if(V[2]==="@")$=t(this.options.mangle?q(V[0]):V[0]),J="mailto:"+$;else{var se;do se=V[0],V[0]=this.rules.inline._backpedal.exec(V[0])[0];while(se!==V[0]);$=t(V[0]),V[1]==="www."?J="http://"+$:J=$}return{type:"link",raw:V[0],text:$,href:J,tokens:[{type:"text",raw:$,text:$}]}}},ae.inlineText=function(B,q){var V=this.rules.inline.text.exec(B);if(V){var $;return this.lexer.state.inRawBlock?$=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(V[0]):t(V[0]):V[0]:$=t(this.options.smartypants?q(V[0]):V[0]),{type:"text",raw:V[0],text:$}}},X}(),F={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:S,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};F._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,F._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,F.def=u(F.def).replace("label",F._label).replace("title",F._title).getRegex(),F.bullet=/(?:[*+-]|\d{1,9}[.)])/,F.listItemStart=u(/^( *)(bull) */).replace("bull",F.bullet).getRegex(),F.list=u(F.list).replace(/bull/g,F.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+F.def.source+")").getRegex(),F._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",F._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,F.html=u(F.html,"i").replace("comment",F._comment).replace("tag",F._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),F.paragraph=u(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.blockquote=u(F.blockquote).replace("paragraph",F.paragraph).getRegex(),F.normal=L({},F),F.gfm=L({},F.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),F.gfm.table=u(F.gfm.table).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.gfm.paragraph=u(F._paragraph).replace("hr",F.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",F.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",F._tag).getRegex(),F.pedantic=L({},F.normal,{html:u(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",F._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:S,paragraph:u(F.normal._paragraph).replace("hr",F.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",F.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var W={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:S,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:S,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};W._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",W.punctuation=u(W.punctuation).replace(/punctuation/g,W._punctuation).getRegex(),W.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,W.escapedEmSt=/\\\*|\\_/g,W._comment=u(F._comment).replace("(?:-->|$)","-->").getRegex(),W.emStrong.lDelim=u(W.emStrong.lDelim).replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimAst=u(W.emStrong.rDelimAst,"g").replace(/punct/g,W._punctuation).getRegex(),W.emStrong.rDelimUnd=u(W.emStrong.rDelimUnd,"g").replace(/punct/g,W._punctuation).getRegex(),W._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,W._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,W._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,W.autolink=u(W.autolink).replace("scheme",W._scheme).replace("email",W._email).getRegex(),W._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,W.tag=u(W.tag).replace("comment",W._comment).replace("attribute",W._attribute).getRegex(),W._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,W._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,W._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,W.link=u(W.link).replace("label",W._label).replace("href",W._href).replace("title",W._title).getRegex(),W.reflink=u(W.reflink).replace("label",W._label).replace("ref",F._label).getRegex(),W.nolink=u(W.nolink).replace("ref",F._label).getRegex(),W.reflinkSearch=u(W.reflinkSearch,"g").replace("reflink",W.reflink).replace("nolink",W.nolink).getRegex(),W.normal=L({},W),W.pedantic=L({},W.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:u(/^!?\[(label)\]\((.*?)\)/).replace("label",W._label).getRegex(),reflink:u(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",W._label).getRegex()}),W.gfm=L({},W.normal,{escape:u(W.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),W.gfm.url=u(W.gfm.url,"i").replace("email",W.gfm._extended_email).getRegex(),W.breaks=L({},W.gfm,{br:u(W.br).replace("{2,}","*").getRegex(),text:u(W.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function H(X){return X.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function z(X){var ae="",oe,B,q=X.length;for(oe=0;oe<q;oe++)B=X.charCodeAt(oe),Math.random()>.5&&(B="x"+B.toString(16)),ae+="&#"+B+";";return ae}var j=function(){function X(oe){this.tokens=[],this.tokens.links=Object.create(null),this.options=oe||Q.defaults,this.options.tokenizer=this.options.tokenizer||new x,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var B={block:F.normal,inline:W.normal};this.options.pedantic?(B.block=F.pedantic,B.inline=W.pedantic):this.options.gfm&&(B.block=F.gfm,this.options.breaks?B.inline=W.breaks:B.inline=W.gfm),this.tokenizer.rules=B}X.lex=function(B,q){var V=new X(q);return V.lex(B)},X.lexInline=function(B,q){var V=new X(q);return V.inlineTokens(B)};var ae=X.prototype;return ae.lex=function(B){B=B.replace(/\r\n|\r/g,`
`),this.blockTokens(B,this.tokens);for(var q;q=this.inlineQueue.shift();)this.inlineTokens(q.src,q.tokens);return this.tokens},ae.blockTokens=function(B,q){var V=this;q===void 0&&(q=[]),this.options.pedantic?B=B.replace(/\t/g,"    ").replace(/^ +$/gm,""):B=B.replace(/^( *)(\t+)/gm,function(fe,ve,Ce){return ve+"    ".repeat(Ce.length)});for(var $,J,se,de;B;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(fe){return($=fe.call({lexer:V},B,q))?(B=B.substring($.raw.length),q.push($),!0):!1}))){if($=this.tokenizer.space(B)){B=B.substring($.raw.length),$.raw.length===1&&q.length>0?q[q.length-1].raw+=`
`:q.push($);continue}if($=this.tokenizer.code(B)){B=B.substring($.raw.length),J=q[q.length-1],J&&(J.type==="paragraph"||J.type==="text")?(J.raw+=`
`+$.raw,J.text+=`
`+$.text,this.inlineQueue[this.inlineQueue.length-1].src=J.text):q.push($);continue}if($=this.tokenizer.fences(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.heading(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.hr(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.blockquote(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.list(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.html(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.def(B)){B=B.substring($.raw.length),J=q[q.length-1],J&&(J.type==="paragraph"||J.type==="text")?(J.raw+=`
`+$.raw,J.text+=`
`+$.raw,this.inlineQueue[this.inlineQueue.length-1].src=J.text):this.tokens.links[$.tag]||(this.tokens.links[$.tag]={href:$.href,title:$.title});continue}if($=this.tokenizer.table(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.lheading(B)){B=B.substring($.raw.length),q.push($);continue}if(se=B,this.options.extensions&&this.options.extensions.startBlock&&function(){var fe=1/0,ve=B.slice(1),Ce=void 0;V.options.extensions.startBlock.forEach(function(Se){Ce=Se.call({lexer:this},ve),typeof Ce=="number"&&Ce>=0&&(fe=Math.min(fe,Ce))}),fe<1/0&&fe>=0&&(se=B.substring(0,fe+1))}(),this.state.top&&($=this.tokenizer.paragraph(se))){J=q[q.length-1],de&&J.type==="paragraph"?(J.raw+=`
`+$.raw,J.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=J.text):q.push($),de=se.length!==B.length,B=B.substring($.raw.length);continue}if($=this.tokenizer.text(B)){B=B.substring($.raw.length),J=q[q.length-1],J&&J.type==="text"?(J.raw+=`
`+$.raw,J.text+=`
`+$.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=J.text):q.push($);continue}if(B){var le="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(le);break}else throw new Error(le)}}return this.state.top=!0,q},ae.inline=function(B,q){return q===void 0&&(q=[]),this.inlineQueue.push({src:B,tokens:q}),q},ae.inlineTokens=function(B,q){var V=this;q===void 0&&(q=[]);var $,J,se,de=B,le,fe,ve;if(this.tokens.links){var Ce=Object.keys(this.tokens.links);if(Ce.length>0)for(;(le=this.tokenizer.rules.inline.reflinkSearch.exec(de))!=null;)Ce.includes(le[0].slice(le[0].lastIndexOf("[")+1,-1))&&(de=de.slice(0,le.index)+"["+O("a",le[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(le=this.tokenizer.rules.inline.blockSkip.exec(de))!=null;)de=de.slice(0,le.index)+"["+O("a",le[0].length-2)+"]"+de.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(le=this.tokenizer.rules.inline.escapedEmSt.exec(de))!=null;)de=de.slice(0,le.index)+"++"+de.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;B;)if(fe||(ve=""),fe=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(_e){return($=_e.call({lexer:V},B,q))?(B=B.substring($.raw.length),q.push($),!0):!1}))){if($=this.tokenizer.escape(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.tag(B)){B=B.substring($.raw.length),J=q[q.length-1],J&&$.type==="text"&&J.type==="text"?(J.raw+=$.raw,J.text+=$.text):q.push($);continue}if($=this.tokenizer.link(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.reflink(B,this.tokens.links)){B=B.substring($.raw.length),J=q[q.length-1],J&&$.type==="text"&&J.type==="text"?(J.raw+=$.raw,J.text+=$.text):q.push($);continue}if($=this.tokenizer.emStrong(B,de,ve)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.codespan(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.br(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.del(B)){B=B.substring($.raw.length),q.push($);continue}if($=this.tokenizer.autolink(B,z)){B=B.substring($.raw.length),q.push($);continue}if(!this.state.inLink&&($=this.tokenizer.url(B,z))){B=B.substring($.raw.length),q.push($);continue}if(se=B,this.options.extensions&&this.options.extensions.startInline&&function(){var _e=1/0,ke=B.slice(1),Ee=void 0;V.options.extensions.startInline.forEach(function(Ae){Ee=Ae.call({lexer:this},ke),typeof Ee=="number"&&Ee>=0&&(_e=Math.min(_e,Ee))}),_e<1/0&&_e>=0&&(se=B.substring(0,_e+1))}(),$=this.tokenizer.inlineText(se,H)){B=B.substring($.raw.length),$.raw.slice(-1)!=="_"&&(ve=$.raw.slice(-1)),fe=!0,J=q[q.length-1],J&&J.type==="text"?(J.raw+=$.raw,J.text+=$.text):q.push($);continue}if(B){var Se="Infinite loop on byte: "+B.charCodeAt(0);if(this.options.silent){console.error(Se);break}else throw new Error(Se)}}return q},f(X,null,[{key:"rules",get:function(){return{block:F,inline:W}}}]),X}(),K=function(){function X(oe){this.options=oe||Q.defaults}var ae=X.prototype;return ae.code=function(B,q,V){var $=(q||"").match(/\S*/)[0];if(this.options.highlight){var J=this.options.highlight(B,$);J!=null&&J!==B&&(V=!0,B=J)}return B=B.replace(/\n$/,"")+`
`,$?'<pre><code class="'+this.options.langPrefix+t($,!0)+'">'+(V?B:t(B,!0))+`</code></pre>
`:"<pre><code>"+(V?B:t(B,!0))+`</code></pre>
`},ae.blockquote=function(B){return`<blockquote>
`+B+`</blockquote>
`},ae.html=function(B){return B},ae.heading=function(B,q,V,$){if(this.options.headerIds){var J=this.options.headerPrefix+$.slug(V);return"<h"+q+' id="'+J+'">'+B+"</h"+q+`>
`}return"<h"+q+">"+B+"</h"+q+`>
`},ae.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},ae.list=function(B,q,V){var $=q?"ol":"ul",J=q&&V!==1?' start="'+V+'"':"";return"<"+$+J+`>
`+B+"</"+$+`>
`},ae.listitem=function(B){return"<li>"+B+`</li>
`},ae.checkbox=function(B){return"<input "+(B?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},ae.paragraph=function(B){return"<p>"+B+`</p>
`},ae.table=function(B,q){return q&&(q="<tbody>"+q+"</tbody>"),`<table>
<thead>
`+B+`</thead>
`+q+`</table>
`},ae.tablerow=function(B){return`<tr>
`+B+`</tr>
`},ae.tablecell=function(B,q){var V=q.header?"th":"td",$=q.align?"<"+V+' align="'+q.align+'">':"<"+V+">";return $+B+("</"+V+`>
`)},ae.strong=function(B){return"<strong>"+B+"</strong>"},ae.em=function(B){return"<em>"+B+"</em>"},ae.codespan=function(B){return"<code>"+B+"</code>"},ae.br=function(){return this.options.xhtml?"<br/>":"<br>"},ae.del=function(B){return"<del>"+B+"</del>"},ae.link=function(B,q,V){if(B=h(this.options.sanitize,this.options.baseUrl,B),B===null)return V;var $='<a href="'+t(B)+'"';return q&&($+=' title="'+q+'"'),$+=">"+V+"</a>",$},ae.image=function(B,q,V){if(B=h(this.options.sanitize,this.options.baseUrl,B),B===null)return V;var $='<img src="'+B+'" alt="'+V+'"';return q&&($+=' title="'+q+'"'),$+=this.options.xhtml?"/>":">",$},ae.text=function(B){return B},X}(),U=function(){function X(){}var ae=X.prototype;return ae.strong=function(B){return B},ae.em=function(B){return B},ae.codespan=function(B){return B},ae.del=function(B){return B},ae.html=function(B){return B},ae.text=function(B){return B},ae.link=function(B,q,V){return""+V},ae.image=function(B,q,V){return""+V},ae.br=function(){return""},X}(),G=function(){function X(){this.seen={}}var ae=X.prototype;return ae.serialize=function(B){return B.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},ae.getNextSafeSlug=function(B,q){var V=B,$=0;if(this.seen.hasOwnProperty(V)){$=this.seen[B];do $++,V=B+"-"+$;while(this.seen.hasOwnProperty(V))}return q||(this.seen[B]=$,this.seen[V]=0),V},ae.slug=function(B,q){q===void 0&&(q={});var V=this.serialize(B);return this.getNextSafeSlug(V,q.dryrun)},X}(),te=function(){function X(oe){this.options=oe||Q.defaults,this.options.renderer=this.options.renderer||new K,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new U,this.slugger=new G}X.parse=function(B,q){var V=new X(q);return V.parse(B)},X.parseInline=function(B,q){var V=new X(q);return V.parseInline(B)};var ae=X.prototype;return ae.parse=function(B,q){q===void 0&&(q=!0);var V="",$,J,se,de,le,fe,ve,Ce,Se,_e,ke,Ee,Ae,xe,We,Be,De,Ne,me,be=B.length;for($=0;$<be;$++){if(_e=B[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[_e.type]&&(me=this.options.extensions.renderers[_e.type].call({parser:this},_e),me!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(_e.type))){V+=me||"";continue}switch(_e.type){case"space":continue;case"hr":{V+=this.renderer.hr();continue}case"heading":{V+=this.renderer.heading(this.parseInline(_e.tokens),_e.depth,c(this.parseInline(_e.tokens,this.textRenderer)),this.slugger);continue}case"code":{V+=this.renderer.code(_e.text,_e.lang,_e.escaped);continue}case"table":{for(Ce="",ve="",de=_e.header.length,J=0;J<de;J++)ve+=this.renderer.tablecell(this.parseInline(_e.header[J].tokens),{header:!0,align:_e.align[J]});for(Ce+=this.renderer.tablerow(ve),Se="",de=_e.rows.length,J=0;J<de;J++){for(fe=_e.rows[J],ve="",le=fe.length,se=0;se<le;se++)ve+=this.renderer.tablecell(this.parseInline(fe[se].tokens),{header:!1,align:_e.align[se]});Se+=this.renderer.tablerow(ve)}V+=this.renderer.table(Ce,Se);continue}case"blockquote":{Se=this.parse(_e.tokens),V+=this.renderer.blockquote(Se);continue}case"list":{for(ke=_e.ordered,Ee=_e.start,Ae=_e.loose,de=_e.items.length,Se="",J=0;J<de;J++)We=_e.items[J],Be=We.checked,De=We.task,xe="",We.task&&(Ne=this.renderer.checkbox(Be),Ae?We.tokens.length>0&&We.tokens[0].type==="paragraph"?(We.tokens[0].text=Ne+" "+We.tokens[0].text,We.tokens[0].tokens&&We.tokens[0].tokens.length>0&&We.tokens[0].tokens[0].type==="text"&&(We.tokens[0].tokens[0].text=Ne+" "+We.tokens[0].tokens[0].text)):We.tokens.unshift({type:"text",text:Ne}):xe+=Ne),xe+=this.parse(We.tokens,Ae),Se+=this.renderer.listitem(xe,De,Be);V+=this.renderer.list(Se,ke,Ee);continue}case"html":{V+=this.renderer.html(_e.text);continue}case"paragraph":{V+=this.renderer.paragraph(this.parseInline(_e.tokens));continue}case"text":{for(Se=_e.tokens?this.parseInline(_e.tokens):_e.text;$+1<be&&B[$+1].type==="text";)_e=B[++$],Se+=`
`+(_e.tokens?this.parseInline(_e.tokens):_e.text);V+=q?this.renderer.paragraph(Se):Se;continue}default:{var Re='Token with "'+_e.type+'" type was not found.';if(this.options.silent){console.error(Re);return}else throw new Error(Re)}}}return V},ae.parseInline=function(B,q){q=q||this.renderer;var V="",$,J,se,de=B.length;for($=0;$<de;$++){if(J=B[$],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[J.type]&&(se=this.options.extensions.renderers[J.type].call({parser:this},J),se!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(J.type))){V+=se||"";continue}switch(J.type){case"escape":{V+=q.text(J.text);break}case"html":{V+=q.html(J.text);break}case"link":{V+=q.link(J.href,J.title,this.parseInline(J.tokens,q));break}case"image":{V+=q.image(J.href,J.title,J.text);break}case"strong":{V+=q.strong(this.parseInline(J.tokens,q));break}case"em":{V+=q.em(this.parseInline(J.tokens,q));break}case"codespan":{V+=q.codespan(J.text);break}case"br":{V+=q.br();break}case"del":{V+=q.del(this.parseInline(J.tokens,q));break}case"text":{V+=q.text(J.text);break}default:{var le='Token with "'+J.type+'" type was not found.';if(this.options.silent){console.error(le);return}else throw new Error(le)}}}return V},X}();function ee(X,ae,oe){if(typeof X>"u"||X===null)throw new Error("marked(): input parameter is undefined or null");if(typeof X!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(X)+", string expected");if(typeof ae=="function"&&(oe=ae,ae=null),ae=L({},ee.defaults,ae||{}),A(ae),oe){var B=ae.highlight,q;try{q=j.lex(X,ae)}catch(de){return oe(de)}var V=function(le){var fe;if(!le)try{ae.walkTokens&&ee.walkTokens(q,ae.walkTokens),fe=te.parse(q,ae)}catch(ve){le=ve}return ae.highlight=B,le?oe(le):oe(null,fe)};if(!B||B.length<3||(delete ae.highlight,!q.length))return V();var $=0;ee.walkTokens(q,function(de){de.type==="code"&&($++,setTimeout(function(){B(de.text,de.lang,function(le,fe){if(le)return V(le);fe!=null&&fe!==de.text&&(de.text=fe,de.escaped=!0),$--,$===0&&V()})},0))}),$===0&&V();return}function J(de){if(de.message+=`
Please report this to https://github.com/markedjs/marked.`,ae.silent)return"<p>An error occurred:</p><pre>"+t(de.message+"",!0)+"</pre>";throw de}try{var se=j.lex(X,ae);if(ae.walkTokens){if(ae.async)return Promise.all(ee.walkTokens(se,ae.walkTokens)).then(function(){return te.parse(se,ae)}).catch(J);ee.walkTokens(se,ae.walkTokens)}return te.parse(se,ae)}catch(de){J(de)}}ee.options=ee.setOptions=function(X){return L(ee.defaults,X),p(ee.defaults),ee},ee.getDefaults=y,ee.defaults=Q.defaults,ee.use=function(){for(var X=arguments.length,ae=new Array(X),oe=0;oe<X;oe++)ae[oe]=arguments[oe];var B=L.apply(void 0,[{}].concat(ae)),q=ee.defaults.extensions||{renderers:{},childTokens:{}},V;ae.forEach(function($){if($.extensions&&(V=!0,$.extensions.forEach(function(se){if(!se.name)throw new Error("extension name required");if(se.renderer){var de=q.renderers?q.renderers[se.name]:null;de?q.renderers[se.name]=function(){for(var le=arguments.length,fe=new Array(le),ve=0;ve<le;ve++)fe[ve]=arguments[ve];var Ce=se.renderer.apply(this,fe);return Ce===!1&&(Ce=de.apply(this,fe)),Ce}:q.renderers[se.name]=se.renderer}if(se.tokenizer){if(!se.level||se.level!=="block"&&se.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");q[se.level]?q[se.level].unshift(se.tokenizer):q[se.level]=[se.tokenizer],se.start&&(se.level==="block"?q.startBlock?q.startBlock.push(se.start):q.startBlock=[se.start]:se.level==="inline"&&(q.startInline?q.startInline.push(se.start):q.startInline=[se.start]))}se.childTokens&&(q.childTokens[se.name]=se.childTokens)})),$.renderer&&function(){var se=ee.defaults.renderer||new K,de=function(ve){var Ce=se[ve];se[ve]=function(){for(var Se=arguments.length,_e=new Array(Se),ke=0;ke<Se;ke++)_e[ke]=arguments[ke];var Ee=$.renderer[ve].apply(se,_e);return Ee===!1&&(Ee=Ce.apply(se,_e)),Ee}};for(var le in $.renderer)de(le);B.renderer=se}(),$.tokenizer&&function(){var se=ee.defaults.tokenizer||new x,de=function(ve){var Ce=se[ve];se[ve]=function(){for(var Se=arguments.length,_e=new Array(Se),ke=0;ke<Se;ke++)_e[ke]=arguments[ke];var Ee=$.tokenizer[ve].apply(se,_e);return Ee===!1&&(Ee=Ce.apply(se,_e)),Ee}};for(var le in $.tokenizer)de(le);B.tokenizer=se}(),$.walkTokens){var J=ee.defaults.walkTokens;B.walkTokens=function(se){var de=[];return de.push($.walkTokens.call(this,se)),J&&(de=de.concat(J.call(this,se))),de}}V&&(B.extensions=q),ee.setOptions(B)})},ee.walkTokens=function(X,ae){for(var oe=[],B=function(){var J=V.value;switch(oe=oe.concat(ae.call(ee,J)),J.type){case"table":{for(var se=D(J.header),de;!(de=se()).done;){var le=de.value;oe=oe.concat(ee.walkTokens(le.tokens,ae))}for(var fe=D(J.rows),ve;!(ve=fe()).done;)for(var Ce=ve.value,Se=D(Ce),_e;!(_e=Se()).done;){var ke=_e.value;oe=oe.concat(ee.walkTokens(ke.tokens,ae))}break}case"list":{oe=oe.concat(ee.walkTokens(J.items,ae));break}default:ee.defaults.extensions&&ee.defaults.extensions.childTokens&&ee.defaults.extensions.childTokens[J.type]?ee.defaults.extensions.childTokens[J.type].forEach(function(Ee){oe=oe.concat(ee.walkTokens(J[Ee],ae))}):J.tokens&&(oe=oe.concat(ee.walkTokens(J.tokens,ae)))}},q=D(X),V;!(V=q()).done;)B();return oe},ee.parseInline=function(X,ae){if(typeof X>"u"||X===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof X!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(X)+", string expected");ae=L({},ee.defaults,ae||{}),A(ae);try{var oe=j.lexInline(X,ae);return ae.walkTokens&&ee.walkTokens(oe,ae.walkTokens),te.parseInline(oe,ae)}catch(B){if(B.message+=`
Please report this to https://github.com/markedjs/marked.`,ae.silent)return"<p>An error occurred:</p><pre>"+t(B.message+"",!0)+"</pre>";throw B}},ee.Parser=te,ee.parser=te.parse,ee.Renderer=K,ee.TextRenderer=U,ee.Lexer=j,ee.lexer=j.lex,ee.Tokenizer=x,ee.Slugger=G,ee.parse=ee;var Y=ee.options,P=ee.setOptions,Z=ee.use,re=ee.walkTokens,ce=ee.parseInline,he=ee,pe=te.parse,ge=j.lex;Q.Lexer=j,Q.Parser=te,Q.Renderer=K,Q.Slugger=G,Q.TextRenderer=U,Q.Tokenizer=x,Q.getDefaults=y,Q.lexer=ge,Q.marked=ee,Q.options=Y,Q.parse=he,Q.parseInline=ce,Q.parser=pe,Q.setOptions=P,Q.use=Z,Q.walkTokens=re,Object.defineProperty(Q,"__esModule",{value:!0})}),define(ie[123],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Mimes=void 0,e.Mimes=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})}),define(ie[217],ne([1,0,123]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTransfers=void 0,e.DataTransfers={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:f.Mimes.text,INTERNAL_URI_LIST:"application/vnd.code.uri-list"}}),define(ie[429],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getKoreanAltChars=f;function f(s){const i=D(s);if(i&&i.length>0)return new Uint32Array(i)}let k=0;const E=new Uint32Array(10);function D(s){if(k=0,y(s,w,4352),k>0||(y(s,b,4449),k>0)||(y(s,C,4520),k>0)||(y(s,o,12593),k))return E.subarray(0,k);if(s>=44032&&s<=55203){const i=s-44032,t=i%588,n=Math.floor(i/588),c=Math.floor(t/28),m=t%28-1;if(n<w.length?y(n,w,0):4352+n-12593<o.length&&y(4352+n,o,12593),c<b.length?y(c,b,0):4449+c-12593<o.length&&y(4449+c-12593,o,12593),m>=0&&(m<C.length?y(m,C,0):4520+m-12593<o.length&&y(4520+m-12593,o,12593)),k>0)return E.subarray(0,k)}}function y(s,i,t){s>=t&&s<t+i.length&&p(i[s-t])}function p(s){s!==0&&(E[k++]=s&255,s>>8&&(E[k++]=s>>8&255),s>>16&&(E[k++]=s>>16&255))}const w=new Uint8Array([114,82,115,101,69,102,97,113,81,116,84,100,119,87,99,122,120,118,103]),b=new Uint16Array([107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108]),C=new Uint16Array([114,82,29810,115,30579,26483,101,102,29286,24934,29030,29798,30822,30310,26470,97,113,29809,116,84,100,119,99,122,120,118,103]),o=new Uint16Array([114,82,29810,115,30579,26483,101,69,102,29286,24934,29030,29798,30822,30310,26470,97,113,81,29809,116,84,100,119,87,99,122,120,118,103,107,111,105,79,106,112,117,80,104,27496,28520,27752,121,110,27246,28782,27758,98,109,27757,108])}),define(ie[430],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ArrayNavigator=void 0;class f{constructor(E,D=0,y=E.length,p=D-1){this.items=E,this.start=D,this.end=y,this.index=p}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}e.ArrayNavigator=f}),define(ie[431],ne([1,0,430]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryNavigator=void 0;class k{constructor(D=[],y=10){this._initialize(D),this._limit=y,this._onChange()}getHistory(){return this._elements}add(D){this._history.delete(D),this._history.add(D),this._onChange()}next(){return this._navigator.next()}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}isLast(){return this._currentPosition()>=this._elements.length-1}isNowhere(){return this._navigator.current()===null}has(D){return this._history.has(D)}_onChange(){this._reduceToLimit();const D=this._elements;this._navigator=new f.ArrayNavigator(D,0,D.length,D.length)}_reduceToLimit(){const D=this._elements;D.length>this._limit&&this._initialize(D.slice(D.length-this._limit))}_currentPosition(){const D=this._navigator.current();return D?this._elements.indexOf(D):-1}_initialize(D){this._history=new Set;for(const y of D)this._history.add(y)}get _elements(){const D=[];return this._history.forEach(y=>D.push(y)),D}}e.HistoryNavigator=k}),define(ie[136],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SlidingWindowAverage=e.MovingAverage=void 0,e.clamp=f;function f(D,y,p){return Math.min(Math.max(D,y),p)}class k{constructor(){this._n=1,this._val=0}update(y){return this._val=this._val+(y-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}e.MovingAverage=k;class E{constructor(y){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(y),this._values.fill(0,0,y)}update(y){const p=this._values[this._index];return this._values[this._index]=y,this._index=(this._index+1)%this._values.length,this._sum-=p,this._sum+=y,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}e.SlidingWindowAverage=E}),define(ie[182],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DebugNameData=void 0,e.getDebugName=D,e.getFunctionName=s;class f{constructor(t,n,c){this.owner=t,this.debugNameSource=n,this.referenceFn=c}getDebugName(t){return D(t,this)}}e.DebugNameData=f;const k=new Map,E=new WeakMap;function D(i,t){var n;const c=E.get(i);if(c)return c;const m=y(i,t);if(m){let u=(n=k.get(m))!==null&&n!==void 0?n:0;u++,k.set(m,u);const r=u===1?m:`${m}#${u}`;return E.set(i,r),r}}function y(i,t){const n=E.get(i);if(n)return n;const c=t.owner?C(t.owner)+".":"";let m;const u=t.debugNameSource;if(u!==void 0)if(typeof u=="function"){if(m=u(),m!==void 0)return c+m}else return c+u;const r=t.referenceFn;if(r!==void 0&&(m=s(r),m!==void 0))return c+m;if(t.owner!==void 0){const a=p(t.owner,i);if(a!==void 0)return c+a}}function p(i,t){for(const n in i)if(i[n]===t)return n}const w=new Map,b=new WeakMap;function C(i){var t;const n=b.get(i);if(n)return n;const c=o(i);let m=(t=w.get(c))!==null&&t!==void 0?t:0;m++,w.set(c,m);const u=m===1?c:`${c}#${m}`;return b.set(i,u),u}function o(i){const t=i.constructor;return t?t.name:"Object"}function s(i){const t=i.toString(),c=/\/\*\*\s*@description\s*([^*]*)\*\//.exec(t),m=c?c[1]:void 0;return m?.trim()}}),define(ie[157],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConsoleObservableLogger=void 0,e.setLogger=k,e.getLogger=E;let f;function k(n){f=n}function E(){return f}class D{constructor(){this.indentation=0,this.changedObservablesSets=new WeakMap}textToConsoleArgs(c){return y([p(i("|  ",this.indentation)),c])}formatInfo(c){return c.hadValue?c.didChange?[p(" "),b(C(c.oldValue,70),{color:"red",strikeThrough:!0}),p(" "),b(C(c.newValue,60),{color:"green"})]:[p(" (unchanged)")]:[p(" "),b(C(c.newValue,60),{color:"green"}),p(" (initial)")]}handleObservableChanged(c,m){console.log(...this.textToConsoleArgs([w("observable value changed"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(m)]))}formatChanges(c){if(c.size!==0)return b(" (changed deps: "+[...c].map(m=>m.debugName).join(", ")+")",{color:"gray"})}handleDerivedCreated(c){const m=c.handleChange;this.changedObservablesSets.set(c,new Set),c.handleChange=(u,r)=>(this.changedObservablesSets.get(c).add(u),m.apply(c,[u,r]))}handleDerivedRecomputed(c,m){const u=this.changedObservablesSets.get(c);console.log(...this.textToConsoleArgs([w("derived recomputed"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(m),this.formatChanges(u),{data:[{fn:c._computeFn}]}])),u.clear()}handleFromEventObservableTriggered(c,m){console.log(...this.textToConsoleArgs([w("observable from event triggered"),b(c.debugName,{color:"BlueViolet"}),...this.formatInfo(m),{data:[{fn:c._getValue}]}]))}handleAutorunCreated(c){const m=c.handleChange;this.changedObservablesSets.set(c,new Set),c.handleChange=(u,r)=>(this.changedObservablesSets.get(c).add(u),m.apply(c,[u,r]))}handleAutorunTriggered(c){const m=this.changedObservablesSets.get(c);console.log(...this.textToConsoleArgs([w("autorun"),b(c.debugName,{color:"BlueViolet"}),this.formatChanges(m),{data:[{fn:c._runFn}]}])),m.clear(),this.indentation++}handleAutorunFinished(c){this.indentation--}handleBeginTransaction(c){let m=c.getDebugName();m===void 0&&(m=""),console.log(...this.textToConsoleArgs([w("transaction"),b(m,{color:"BlueViolet"}),{data:[{fn:c._fn}]}])),this.indentation++}handleEndTransaction(){this.indentation--}}e.ConsoleObservableLogger=D;function y(n){const c=new Array,m=[];let u="";function r(h){if("length"in h)for(const l of h)l&&r(l);else"text"in h?(u+=`%c${h.text}`,c.push(h.style),h.data&&m.push(...h.data)):"data"in h&&m.push(...h.data)}r(n);const a=[u,...c];return a.push(...m),a}function p(n){return b(n,{color:"black"})}function w(n){return b(t(`${n}: `,10),{color:"black",bold:!0})}function b(n,c={color:"black"}){function m(r){return Object.entries(r).reduce((a,[h,l])=>`${a}${h}:${l};`,"")}const u={color:c.color};return c.strikeThrough&&(u["text-decoration"]="line-through"),c.bold&&(u["font-weight"]="bold"),{text:n,style:m(u)}}function C(n,c){switch(typeof n){case"number":return""+n;case"string":return n.length+2<=c?`"${n}"`:`"${n.substr(0,c-7)}"+...`;case"boolean":return n?"true":"false";case"undefined":return"undefined";case"object":return n===null?"null":Array.isArray(n)?o(n,c):s(n,c);case"symbol":return n.toString();case"function":return`[[Function${n.name?" "+n.name:""}]]`;default:return""+n}}function o(n,c){let m="[ ",u=!0;for(const r of n){if(u||(m+=", "),m.length-5>c){m+="...";break}u=!1,m+=`${C(r,c-m.length)}`}return m+=" ]",m}function s(n,c){let m="{ ",u=!0;for(const[r,a]of Object.entries(n)){if(u||(m+=", "),m.length-5>c){m+="...";break}u=!1,m+=`${r}: ${C(a,c-m.length)}`}return m+=" }",m}function i(n,c){let m="";for(let u=1;u<=c;u++)m+=n;return m}function t(n,c){for(;n.length<c;)n+=" ";return n}}),define(ie[290],ne([1,0,87,2,182,157]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutorunObserver=void 0,e.autorun=y,e.autorunOpts=p,e.autorunHandleChanges=w,e.autorunWithStore=b;function y(o){return new C(new E.DebugNameData(void 0,void 0,o),o,void 0,void 0)}function p(o,s){var i;return new C(new E.DebugNameData(o.owner,o.debugName,(i=o.debugReferenceFn)!==null&&i!==void 0?i:s),s,void 0,void 0)}function w(o,s){var i;return new C(new E.DebugNameData(o.owner,o.debugName,(i=o.debugReferenceFn)!==null&&i!==void 0?i:s),s,o.createEmptyChangeSummary,o.handleChange)}function b(o){const s=new k.DisposableStore,i=p({owner:void 0,debugName:void 0,debugReferenceFn:o},t=>{s.clear(),o(t,s)});return(0,k.toDisposable)(()=>{i.dispose(),s.dispose()})}class C{get debugName(){var s;return(s=this._debugNameData.getDebugName(this))!==null&&s!==void 0?s:"(anonymous)"}constructor(s,i,t,n){var c,m;this._debugNameData=s,this._runFn=i,this.createChangeSummary=t,this._handleChange=n,this.state=2,this.updateCount=0,this.disposed=!1,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=(c=this.createChangeSummary)===null||c===void 0?void 0:c.call(this),(m=(0,D.getLogger)())===null||m===void 0||m.handleAutorunCreated(this),this._runIfNeeded(),(0,k.trackDisposable)(this)}dispose(){this.disposed=!0;for(const s of this.dependencies)s.removeObserver(this);this.dependencies.clear(),(0,k.markAsDisposed)(this)}_runIfNeeded(){var s,i,t;if(this.state===3)return;const n=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=n,this.state=3;const c=this.disposed;try{if(!c){(s=(0,D.getLogger)())===null||s===void 0||s.handleAutorunTriggered(this);const m=this.changeSummary;this.changeSummary=(i=this.createChangeSummary)===null||i===void 0?void 0:i.call(this),this._runFn(this,m)}}finally{c||(t=(0,D.getLogger)())===null||t===void 0||t.handleAutorunFinished(this);for(const m of this.dependenciesToBeRemoved)m.removeObserver(this);this.dependenciesToBeRemoved.clear()}}toString(){return`Autorun<${this.debugName}>`}beginUpdate(){this.state===3&&(this.state=1),this.updateCount++}endUpdate(){if(this.updateCount===1)do{if(this.state===1){this.state=3;for(const s of this.dependencies)if(s.reportChanges(),this.state===2)break}this._runIfNeeded()}while(this.state!==3);this.updateCount--,(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(s){this.state===3&&this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(this.state=1)}handleChange(s,i){this.dependencies.has(s)&&!this.dependenciesToBeRemoved.has(s)&&(!this._handleChange||this._handleChange({changedObservable:s,change:i,didChange:n=>n===s},this.changeSummary))&&(this.state=2)}readObservable(s){if(this.disposed)return s.get();s.addObserver(this);const i=s.get();return this.dependencies.add(s),this.dependenciesToBeRemoved.delete(s),i}}e.AutorunObserver=C,function(o){o.Observer=C}(y||(e.autorun=y={}))}),define(ie[124],ne([1,0,155,182,157]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableObservableValue=e.ObservableValue=e.TransactionImpl=e.BaseObservable=e.ConvenientObservable=void 0,e._setRecomputeInitiallyAndOnChange=y,e._setKeepObserved=w,e._setDerivedOpts=C,e.transaction=i,e.globalTransaction=n,e.asyncTransaction=c,e.subtransaction=m,e.observableValue=r,e.observableValueOpts=a,e.disposableObservableValue=l;let D;function y(d){D=d}let p;function w(d){p=d}let b;function C(d){b=d}class o{get TChange(){return null}reportChanges(){this.get()}read(v){return v?v.readObservable(this):this.get()}map(v,_){const S=_===void 0?void 0:v,L=_===void 0?v:_;return b({owner:S,debugName:()=>{const I=(0,k.getFunctionName)(L);if(I!==void 0)return I;const N=/^\s*\(?\s*([a-zA-Z_$][a-zA-Z_$0-9]*)\s*\)?\s*=>\s*\1(?:\??)\.([a-zA-Z_$][a-zA-Z_$0-9]*)\s*$/.exec(L.toString());if(N)return`${this.debugName}.${N[2]}`;if(!S)return`${this.debugName} (mapped)`},debugReferenceFn:L},I=>L(this.read(I),I))}recomputeInitiallyAndOnChange(v,_){return v.add(D(this,_)),this}}e.ConvenientObservable=o;class s extends o{constructor(){super(...arguments),this.observers=new Set}addObserver(v){const _=this.observers.size;this.observers.add(v),_===0&&this.onFirstObserverAdded()}removeObserver(v){this.observers.delete(v)&&this.observers.size===0&&this.onLastObserverRemoved()}onFirstObserverAdded(){}onLastObserverRemoved(){}}e.BaseObservable=s;function i(d,v){const _=new u(d,v);try{d(_)}finally{_.finish()}}let t;function n(d){if(t)d(t);else{const v=new u(d,void 0);t=v;try{d(v)}finally{v.finish(),t=void 0}}}async function c(d,v){const _=new u(d,v);try{await d(_)}finally{_.finish()}}function m(d,v,_){d?v(d):i(v,_)}class u{constructor(v,_){var S;this._fn=v,this._getDebugName=_,this.updatingObservers=[],(S=(0,E.getLogger)())===null||S===void 0||S.handleBeginTransaction(this)}getDebugName(){return this._getDebugName?this._getDebugName():(0,k.getFunctionName)(this._fn)}updateObserver(v,_){this.updatingObservers.push({observer:v,observable:_}),v.beginUpdate(_)}finish(){var v;const _=this.updatingObservers;for(let S=0;S<_.length;S++){const{observer:L,observable:I}=_[S];L.endUpdate(I)}this.updatingObservers=null,(v=(0,E.getLogger)())===null||v===void 0||v.handleEndTransaction()}}e.TransactionImpl=u;function r(d,v){let _;return typeof d=="string"?_=new k.DebugNameData(void 0,d,void 0):_=new k.DebugNameData(d,void 0,void 0),new h(_,v,f.strictEquals)}function a(d,v){var _;return new h(new k.DebugNameData(d.owner,d.debugName,void 0),v,(_=d.equalsFn)!==null&&_!==void 0?_:f.strictEquals)}class h extends s{get debugName(){var v;return(v=this._debugNameData.getDebugName(this))!==null&&v!==void 0?v:"ObservableValue"}constructor(v,_,S){super(),this._debugNameData=v,this._equalityComparator=S,this._value=_}get(){return this._value}set(v,_,S){var L;if(this._equalityComparator(this._value,v))return;let I;_||(_=I=new u(()=>{},()=>`Setting ${this.debugName}`));try{const T=this._value;this._setValue(v),(L=(0,E.getLogger)())===null||L===void 0||L.handleObservableChanged(this,{oldValue:T,newValue:v,change:S,didChange:!0,hadValue:!0});for(const N of this.observers)_.updateObserver(N,this),N.handleChange(this,S)}finally{I&&I.finish()}}toString(){return`${this.debugName}: ${this._value}`}_setValue(v){this._value=v}}e.ObservableValue=h;function l(d,v){let _;return typeof d=="string"?_=new k.DebugNameData(void 0,d,void 0):_=new k.DebugNameData(d,void 0,void 0),new g(_,v,f.strictEquals)}class g extends h{_setValue(v){this._value!==v&&(this._value&&this._value.dispose(),this._value=v)}dispose(){var v;(v=this._value)===null||v===void 0||v.dispose()}}e.DisposableObservableValue=g}),define(ie[183],ne([1,0,87,155,2,124,182,157]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Derived=void 0,e.derived=w,e.derivedOpts=b,e.derivedHandleChanges=C,e.derivedWithStore=o,e.derivedDisposable=s;function w(t,n){return n!==void 0?new i(new y.DebugNameData(t,void 0,n),n,void 0,void 0,void 0,k.strictEquals):new i(new y.DebugNameData(void 0,void 0,t),t,void 0,void 0,void 0,k.strictEquals)}function b(t,n){var c;return new i(new y.DebugNameData(t.owner,t.debugName,t.debugReferenceFn),n,void 0,void 0,t.onLastObserverRemoved,(c=t.equalsFn)!==null&&c!==void 0?c:k.strictEquals)}(0,D._setDerivedOpts)(b);function C(t,n){var c;return new i(new y.DebugNameData(t.owner,t.debugName,void 0),n,t.createEmptyChangeSummary,t.handleChange,void 0,(c=t.equalityComparer)!==null&&c!==void 0?c:k.strictEquals)}function o(t,n){let c,m;n===void 0?(c=t,m=void 0):(m=t,c=n);const u=new E.DisposableStore;return new i(new y.DebugNameData(m,void 0,c),r=>(u.clear(),c(r,u)),void 0,void 0,()=>u.dispose(),k.strictEquals)}function s(t,n){let c,m;n===void 0?(c=t,m=void 0):(m=t,c=n);const u=new E.DisposableStore;return new i(new y.DebugNameData(m,void 0,c),r=>{u.clear();const a=c(r);return a&&u.add(a),a},void 0,void 0,()=>u.dispose(),k.strictEquals)}class i extends D.BaseObservable{get debugName(){var n;return(n=this._debugNameData.getDebugName(this))!==null&&n!==void 0?n:"(anonymous)"}constructor(n,c,m,u,r=void 0,a){var h,l;super(),this._debugNameData=n,this._computeFn=c,this.createChangeSummary=m,this._handleChange=u,this._handleLastObserverRemoved=r,this._equalityComparator=a,this.state=0,this.value=void 0,this.updateCount=0,this.dependencies=new Set,this.dependenciesToBeRemoved=new Set,this.changeSummary=void 0,this.changeSummary=(h=this.createChangeSummary)===null||h===void 0?void 0:h.call(this),(l=(0,p.getLogger)())===null||l===void 0||l.handleDerivedCreated(this)}onLastObserverRemoved(){var n;this.state=0,this.value=void 0;for(const c of this.dependencies)c.removeObserver(this);this.dependencies.clear(),(n=this._handleLastObserverRemoved)===null||n===void 0||n.call(this)}get(){var n;if(this.observers.size===0){const c=this._computeFn(this,(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this));return this.onLastObserverRemoved(),c}else{do{if(this.state===1){for(const c of this.dependencies)if(c.reportChanges(),this.state===2)break}this.state===1&&(this.state=3),this._recomputeIfNeeded()}while(this.state!==3);return this.value}}_recomputeIfNeeded(){var n,c;if(this.state===3)return;const m=this.dependenciesToBeRemoved;this.dependenciesToBeRemoved=this.dependencies,this.dependencies=m;const u=this.state!==0,r=this.value;this.state=3;const a=this.changeSummary;this.changeSummary=(n=this.createChangeSummary)===null||n===void 0?void 0:n.call(this);try{this.value=this._computeFn(this,a)}finally{for(const l of this.dependenciesToBeRemoved)l.removeObserver(this);this.dependenciesToBeRemoved.clear()}const h=u&&!this._equalityComparator(r,this.value);if((c=(0,p.getLogger)())===null||c===void 0||c.handleDerivedRecomputed(this,{oldValue:r,newValue:this.value,change:void 0,didChange:h,hadValue:u}),h)for(const l of this.observers)l.handleChange(this,void 0)}toString(){return`LazyDerived<${this.debugName}>`}beginUpdate(n){this.updateCount++;const c=this.updateCount===1;if(this.state===3&&(this.state=1,!c))for(const m of this.observers)m.handlePossibleChange(this);if(c)for(const m of this.observers)m.beginUpdate(this)}endUpdate(n){if(this.updateCount--,this.updateCount===0){const c=[...this.observers];for(const m of c)m.endUpdate(this)}(0,f.assertFn)(()=>this.updateCount>=0)}handlePossibleChange(n){if(this.state===3&&this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){this.state=1;for(const c of this.observers)c.handlePossibleChange(this)}}handleChange(n,c){if(this.dependencies.has(n)&&!this.dependenciesToBeRemoved.has(n)){const m=this._handleChange?this._handleChange({changedObservable:n,change:c,didChange:r=>r===n},this.changeSummary):!0,u=this.state===3;if(m&&(this.state===1||u)&&(this.state=2,u))for(const r of this.observers)r.handlePossibleChange(this)}}readObservable(n){n.addObserver(this);const c=n.get();return this.dependencies.add(n),this.dependenciesToBeRemoved.delete(n),c}addObserver(n){const c=!this.observers.has(n)&&this.updateCount>0;super.addObserver(n),c&&n.beginUpdate(this)}removeObserver(n){const c=this.observers.has(n)&&this.updateCount>0;super.removeObserver(n),c&&n.endUpdate(this)}}e.Derived=i}),define(ie[432],ne([1,0,290,10]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=E;function E(D,y,p,w){return y||(y=b=>b!=null),new Promise((b,C)=>{let o=!0,s=!1;const i=D.map(n=>({isFinished:y(n),error:p?p(n):!1,state:n})),t=(0,f.autorun)(n=>{const{isFinished:c,error:m,state:u}=i.read(n);(c||m)&&(o?s=!0:t.dispose(),m?C(m===!0?u:m):b(u))});if(w){const n=w.onCancellationRequested(()=>{t.dispose(),n.dispose(),C(new k.CancellationError)});if(w.isCancellationRequested){t.dispose(),n.dispose(),C(new k.CancellationError);return}}o=!1,s&&t.dispose()})}}),define(ie[184],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;var f;(function(k){function E(w,b){if(w.start>=b.end||b.start>=w.end)return{start:0,end:0};const C=Math.max(w.start,b.start),o=Math.min(w.end,b.end);return o-C<=0?{start:0,end:0}:{start:C,end:o}}k.intersect=E;function D(w){return w.end-w.start<=0}k.isEmpty=D;function y(w,b){return!D(E(w,b))}k.intersects=y;function p(w,b){const C=[],o={start:w.start,end:Math.min(b.start,w.end)},s={start:Math.max(b.end,w.start),end:w.end};return D(o)||C.push(o),D(s)||C.push(s),C}k.relativeComplement=p})(f||(e.Range=f={}))}),define(ie[433],ne([1,0,184]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMap=void 0,e.groupIntersect=k,e.shift=E,e.consolidate=D;function k(w,b){const C=[];for(const o of b){if(w.start>=o.range.end)continue;if(w.end<o.range.start)break;const s=f.Range.intersect(w,o.range);f.Range.isEmpty(s)||C.push({range:s,size:o.size})}return C}function E({start:w,end:b},C){return{start:w+C,end:b+C}}function D(w){const b=[];let C=null;for(const o of w){const s=o.range.start,i=o.range.end,t=o.size;if(C&&t===C.size){C.range.end=i;continue}C={range:{start:s,end:i},size:t},b.push(C)}return b}function y(...w){return D(w.reduce((b,C)=>b.concat(C),[]))}class p{get paddingTop(){return this._paddingTop}set paddingTop(b){this._size=this._size+b-this._paddingTop,this._paddingTop=b}constructor(b){this.groups=[],this._size=0,this._paddingTop=0,this._paddingTop=b??0,this._size=this._paddingTop}splice(b,C,o=[]){const s=o.length-C,i=k({start:0,end:b},this.groups),t=k({start:b+C,end:Number.POSITIVE_INFINITY},this.groups).map(c=>({range:E(c.range,s),size:c.size})),n=o.map((c,m)=>({range:{start:b+m,end:b+m+1},size:c.size}));this.groups=y(i,n,t),this._size=this._paddingTop+this.groups.reduce((c,m)=>c+m.size*(m.range.end-m.range.start),0)}get count(){const b=this.groups.length;return b?this.groups[b-1].range.end:0}get size(){return this._size}indexAt(b){if(b<0)return-1;if(b<this._paddingTop)return 0;let C=0,o=this._paddingTop;for(const s of this.groups){const i=s.range.end-s.range.start,t=o+i*s.size;if(b<t)return C+Math.floor((b-o)/s.size);C+=i,o=t}return C}indexAfter(b){return Math.min(this.indexAt(b)+1,this.count)}positionAt(b){if(b<0)return-1;let C=0,o=0;for(const s of this.groups){const i=s.range.end-s.range.start,t=o+i;if(b<t)return this._paddingTop+C+(b-o)*s.size;C+=i*s.size,o=t}return-1}}e.RangeMap=p}),define(ie[64],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StopWatch=void 0;const f=globalThis.performance&&typeof globalThis.performance.now=="function";class k{static create(D){return new k(D)}constructor(D){this._now=f&&D===!1?Date.now:globalThis.performance.now.bind(globalThis.performance),this._startTime=this._now(),this._stopTime=-1}stop(){this._stopTime=this._now()}reset(){this._startTime=this._now(),this._stopTime=-1}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}}e.StopWatch=k}),define(ie[7],ne([1,0,10,122,2,70,64]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Relay=e.EventBufferer=e.EventMultiplexer=e.MicrotaskEmitter=e.DebounceEmitter=e.PauseableEmitter=e.createEventDeliveryQueue=e.Emitter=e.EventProfiling=e.Event=void 0;const p=!1,w=!1,b=!1;var C;(function(L){L.None=()=>E.Disposable.None;function I(ae){if(b){const{onDidAddListener:oe}=ae,B=t.create();let q=0;ae.onDidAddListener=()=>{++q===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),B.print()),oe?.()}}}function T(ae,oe){return z(ae,()=>{},0,void 0,!0,void 0,oe)}L.defer=T;function N(ae){return(oe,B=null,q)=>{let V=!1,$;return $=ae(J=>{if(!V)return $?$.dispose():V=!0,oe.call(B,J)},null,q),V&&$.dispose(),$}}L.once=N;function A(ae,oe,B){return W((q,V=null,$)=>ae(J=>q.call(V,oe(J)),null,$),B)}L.map=A;function O(ae,oe,B){return W((q,V=null,$)=>ae(J=>{oe(J),q.call(V,J)},null,$),B)}L.forEach=O;function M(ae,oe,B){return W((q,V=null,$)=>ae(J=>oe(J)&&q.call(V,J),null,$),B)}L.filter=M;function R(ae){return ae}L.signal=R;function x(...ae){return(oe,B=null,q)=>{const V=(0,E.combinedDisposable)(...ae.map($=>$(J=>oe.call(B,J))));return H(V,q)}}L.any=x;function F(ae,oe,B,q){let V=B;return A(ae,$=>(V=oe(V,$),V),q)}L.reduce=F;function W(ae,oe){let B;const q={onWillAddFirstListener(){B=ae(V.fire,V)},onDidRemoveLastListener(){B?.dispose()}};oe||I(q);const V=new r(q);return oe?.add(V),V.event}function H(ae,oe){return oe instanceof Array?oe.push(ae):oe&&oe.add(ae),ae}function z(ae,oe,B=100,q=!1,V=!1,$,J){let se,de,le,fe=0,ve;const Ce={leakWarningThreshold:$,onWillAddFirstListener(){se=ae(_e=>{fe++,de=oe(de,_e),q&&!le&&(Se.fire(de),de=void 0),ve=()=>{const ke=de;de=void 0,le=void 0,(!q||fe>1)&&Se.fire(ke),fe=0},typeof B=="number"?(clearTimeout(le),le=setTimeout(ve,B)):le===void 0&&(le=0,queueMicrotask(ve))})},onWillRemoveListener(){V&&fe>0&&ve?.()},onDidRemoveLastListener(){ve=void 0,se.dispose()}};J||I(Ce);const Se=new r(Ce);return J?.add(Se),Se.event}L.debounce=z;function j(ae,oe=0,B){return L.debounce(ae,(q,V)=>q?(q.push(V),q):[V],oe,void 0,!0,void 0,B)}L.accumulate=j;function K(ae,oe=(q,V)=>q===V,B){let q=!0,V;return M(ae,$=>{const J=q||!oe($,V);return q=!1,V=$,J},B)}L.latch=K;function U(ae,oe,B){return[L.filter(ae,oe,B),L.filter(ae,q=>!oe(q),B)]}L.split=U;function G(ae,oe=!1,B=[],q){let V=B.slice(),$=ae(de=>{V?V.push(de):se.fire(de)});q&&q.add($);const J=()=>{V?.forEach(de=>se.fire(de)),V=null},se=new r({onWillAddFirstListener(){$||($=ae(de=>se.fire(de)),q&&q.add($))},onDidAddFirstListener(){V&&(oe?setTimeout(J):J())},onDidRemoveLastListener(){$&&$.dispose(),$=null}});return q&&q.add(se),se.event}L.buffer=G;function te(ae,oe){return(q,V,$)=>{const J=oe(new Y);return ae(function(se){const de=J.evaluate(se);de!==ee&&q.call(V,de)},void 0,$)}}L.chain=te;const ee=Symbol("HaltChainable");class Y{constructor(){this.steps=[]}map(oe){return this.steps.push(oe),this}forEach(oe){return this.steps.push(B=>(oe(B),B)),this}filter(oe){return this.steps.push(B=>oe(B)?B:ee),this}reduce(oe,B){let q=B;return this.steps.push(V=>(q=oe(q,V),q)),this}latch(oe=(B,q)=>B===q){let B=!0,q;return this.steps.push(V=>{const $=B||!oe(V,q);return B=!1,q=V,$?V:ee}),this}evaluate(oe){for(const B of this.steps)if(oe=B(oe),oe===ee)break;return oe}}function P(ae,oe,B=q=>q){const q=(...se)=>J.fire(B(...se)),V=()=>ae.on(oe,q),$=()=>ae.removeListener(oe,q),J=new r({onWillAddFirstListener:V,onDidRemoveLastListener:$});return J.event}L.fromNodeEventEmitter=P;function Z(ae,oe,B=q=>q){const q=(...se)=>J.fire(B(...se)),V=()=>ae.addEventListener(oe,q),$=()=>ae.removeEventListener(oe,q),J=new r({onWillAddFirstListener:V,onDidRemoveLastListener:$});return J.event}L.fromDOMEventEmitter=Z;function re(ae){return new Promise(oe=>N(ae)(oe))}L.toPromise=re;function ce(ae){const oe=new r;return ae.then(B=>{oe.fire(B)},()=>{oe.fire(void 0)}).finally(()=>{oe.dispose()}),oe.event}L.fromPromise=ce;function he(ae,oe,B){return oe(B),ae(q=>oe(q))}L.runAndSubscribe=he;class pe{constructor(oe,B){this._observable=oe,this._counter=0,this._hasChanged=!1;const q={onWillAddFirstListener:()=>{oe.addObserver(this)},onDidRemoveLastListener:()=>{oe.removeObserver(this)}};B||I(q),this.emitter=new r(q),B&&B.add(this.emitter)}beginUpdate(oe){this._counter++}handlePossibleChange(oe){}handleChange(oe,B){this._hasChanged=!0}endUpdate(oe){this._counter--,this._counter===0&&(this._observable.reportChanges(),this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this._observable.get())))}}function ge(ae,oe){return new pe(ae,oe).emitter.event}L.fromObservable=ge;function X(ae){return(oe,B,q)=>{let V=0,$=!1;const J={beginUpdate(){V++},endUpdate(){V--,V===0&&(ae.reportChanges(),$&&($=!1,oe.call(B)))},handlePossibleChange(){},handleChange(){$=!0}};ae.addObserver(J),ae.reportChanges();const se={dispose(){ae.removeObserver(J)}};return q instanceof E.DisposableStore?q.add(se):Array.isArray(q)&&q.push(se),se}}L.fromObservableLight=X})(C||(e.Event=C={}));class o{constructor(I){this.listenerCount=0,this.invocationCount=0,this.elapsedOverall=0,this.durations=[],this.name=`${I}_${o._idPool++}`,o.all.add(this)}start(I){this._stopWatch=new y.StopWatch,this.listenerCount=I}stop(){if(this._stopWatch){const I=this._stopWatch.elapsed();this.durations.push(I),this.elapsedOverall+=I,this.invocationCount+=1,this._stopWatch=void 0}}}e.EventProfiling=o,o.all=new Set,o._idPool=0;let s=-1;class i{constructor(I,T=Math.random().toString(18).slice(2,5)){this.threshold=I,this.name=T,this._warnCountdown=0}dispose(){var I;(I=this._stacks)===null||I===void 0||I.clear()}check(I,T){const N=this.threshold;if(N<=0||T<N)return;this._stacks||(this._stacks=new Map);const A=this._stacks.get(I.value)||0;if(this._stacks.set(I.value,A+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=N*.5;let O,M=0;for(const[R,x]of this._stacks)(!O||M<x)&&(O=R,M=x);console.warn(`[${this.name}] potential listener LEAK detected, having ${T} listeners already. MOST frequent listener (${M}):`),console.warn(O)}return()=>{const O=this._stacks.get(I.value)||0;this._stacks.set(I.value,O-1)}}}class t{static create(){var I;return new t((I=new Error().stack)!==null&&I!==void 0?I:"")}constructor(I){this.value=I}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class n{constructor(I){this.value=I}}const c=2,m=(L,I)=>{if(L instanceof n)I(L);else for(let T=0;T<L.length;T++){const N=L[T];N&&I(N)}},u=p?new FinalizationRegistry(L=>{typeof L=="string"&&(console.warn("[LEAKING LISTENER] GC'ed a listener that was NOT yet disposed. This is where is was created:"),console.warn(L))}):void 0;class r{constructor(I){var T,N,A,O,M;this._size=0,this._options=I,this._leakageMon=s>0||!((T=this._options)===null||T===void 0)&&T.leakWarningThreshold?new i((A=(N=this._options)===null||N===void 0?void 0:N.leakWarningThreshold)!==null&&A!==void 0?A:s):void 0,this._perfMon=!((O=this._options)===null||O===void 0)&&O._profName?new o(this._options._profName):void 0,this._deliveryQueue=(M=this._options)===null||M===void 0?void 0:M.deliveryQueue}dispose(){var I,T,N,A;if(!this._disposed){if(this._disposed=!0,((I=this._deliveryQueue)===null||I===void 0?void 0:I.current)===this&&this._deliveryQueue.reset(),this._listeners){if(w){const O=this._listeners;queueMicrotask(()=>{m(O,M=>{var R;return(R=M.stack)===null||R===void 0?void 0:R.print()})})}this._listeners=void 0,this._size=0}(N=(T=this._options)===null||T===void 0?void 0:T.onDidRemoveLastListener)===null||N===void 0||N.call(T),(A=this._leakageMon)===null||A===void 0||A.dispose()}}get event(){var I;return(I=this._event)!==null&&I!==void 0||(this._event=(T,N,A)=>{var O,M,R,x,F;if(this._leakageMon&&this._size>this._leakageMon.threshold*3)return console.warn(`[${this._leakageMon.name}] REFUSES to accept new listeners because it exceeded its threshold by far`),E.Disposable.None;if(this._disposed)return E.Disposable.None;N&&(T=T.bind(N));const W=new n(T);let H,z;this._leakageMon&&this._size>=Math.ceil(this._leakageMon.threshold*.2)&&(W.stack=t.create(),H=this._leakageMon.check(W.stack,this._size+1)),w&&(W.stack=z??t.create()),this._listeners?this._listeners instanceof n?((F=this._deliveryQueue)!==null&&F!==void 0||(this._deliveryQueue=new h),this._listeners=[this._listeners,W]):this._listeners.push(W):((M=(O=this._options)===null||O===void 0?void 0:O.onWillAddFirstListener)===null||M===void 0||M.call(O,this),this._listeners=W,(x=(R=this._options)===null||R===void 0?void 0:R.onDidAddFirstListener)===null||x===void 0||x.call(R,this)),this._size++;const j=(0,E.toDisposable)(()=>{u?.unregister(j),H?.(),this._removeListener(W)});if(A instanceof E.DisposableStore?A.add(j):Array.isArray(A)&&A.push(j),u){const K=new Error().stack.split(`
`).slice(2).join(`
`).trim();u.register(j,K,j)}return j}),this._event}_removeListener(I){var T,N,A,O;if((N=(T=this._options)===null||T===void 0?void 0:T.onWillRemoveListener)===null||N===void 0||N.call(T,this),!this._listeners)return;if(this._size===1){this._listeners=void 0,(O=(A=this._options)===null||A===void 0?void 0:A.onDidRemoveLastListener)===null||O===void 0||O.call(A,this),this._size=0;return}const M=this._listeners,R=M.indexOf(I);if(R===-1)throw console.log("disposed?",this._disposed),console.log("size?",this._size),console.log("arr?",JSON.stringify(this._listeners)),new Error("Attempted to dispose unknown listener");this._size--,M[R]=void 0;const x=this._deliveryQueue.current===this;if(this._size*c<=M.length){let F=0;for(let W=0;W<M.length;W++)M[W]?M[F++]=M[W]:x&&(this._deliveryQueue.end--,F<this._deliveryQueue.i&&this._deliveryQueue.i--);M.length=F}}_deliver(I,T){var N;if(!I)return;const A=((N=this._options)===null||N===void 0?void 0:N.onListenerError)||f.onUnexpectedError;if(!A){I.value(T);return}try{I.value(T)}catch(O){A(O)}}_deliverQueue(I){const T=I.current._listeners;for(;I.i<I.end;)this._deliver(T[I.i++],I.value);I.reset()}fire(I){var T,N,A,O;if(!((T=this._deliveryQueue)===null||T===void 0)&&T.current&&(this._deliverQueue(this._deliveryQueue),(N=this._perfMon)===null||N===void 0||N.stop()),(A=this._perfMon)===null||A===void 0||A.start(this._size),this._listeners)if(this._listeners instanceof n)this._deliver(this._listeners,I);else{const M=this._deliveryQueue;M.enqueue(this,I,this._listeners.length),this._deliverQueue(M)}(O=this._perfMon)===null||O===void 0||O.stop()}hasListeners(){return this._size>0}}e.Emitter=r;const a=()=>new h;e.createEventDeliveryQueue=a;class h{constructor(){this.i=-1,this.end=0}enqueue(I,T,N){this.i=0,this.end=N,this.current=I,this.value=T}reset(){this.i=this.end,this.current=void 0,this.value=void 0}}class l extends r{constructor(I){super(I),this._isPaused=0,this._eventQueue=new D.LinkedList,this._mergeFn=I?.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){if(this._eventQueue.size>0){const I=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(I))}}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(I){this._size&&(this._isPaused!==0?this._eventQueue.push(I):super.fire(I))}}e.PauseableEmitter=l;class g extends l{constructor(I){var T;super(I),this._delay=(T=I.delay)!==null&&T!==void 0?T:100}fire(I){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(I)}}e.DebounceEmitter=g;class d extends r{constructor(I){super(I),this._queuedEvents=[],this._mergeFn=I?.merge}fire(I){this.hasListeners()&&(this._queuedEvents.push(I),this._queuedEvents.length===1&&queueMicrotask(()=>{this._mergeFn?super.fire(this._mergeFn(this._queuedEvents)):this._queuedEvents.forEach(T=>super.fire(T)),this._queuedEvents=[]}))}}e.MicrotaskEmitter=d;class v{constructor(){this.hasListeners=!1,this.events=[],this.emitter=new r({onWillAddFirstListener:()=>this.onFirstListenerAdd(),onDidRemoveLastListener:()=>this.onLastListenerRemove()})}get event(){return this.emitter.event}add(I){const T={event:I,listener:null};this.events.push(T),this.hasListeners&&this.hook(T);const N=()=>{this.hasListeners&&this.unhook(T);const A=this.events.indexOf(T);this.events.splice(A,1)};return(0,E.toDisposable)((0,k.createSingleCallFunction)(N))}onFirstListenerAdd(){this.hasListeners=!0,this.events.forEach(I=>this.hook(I))}onLastListenerRemove(){this.hasListeners=!1,this.events.forEach(I=>this.unhook(I))}hook(I){I.listener=I.event(T=>this.emitter.fire(T))}unhook(I){var T;(T=I.listener)===null||T===void 0||T.dispose(),I.listener=null}dispose(){var I;this.emitter.dispose();for(const T of this.events)(I=T.listener)===null||I===void 0||I.dispose();this.events=[]}}e.EventMultiplexer=v;class _{constructor(){this.buffers=[]}wrapEvent(I){return(T,N,A)=>I(O=>{const M=this.buffers[this.buffers.length-1];M?M.push(()=>T.call(N,O)):T.call(N,O)},void 0,A)}bufferEvents(I){const T=[];this.buffers.push(T);const N=I();return this.buffers.pop(),T.forEach(A=>A()),N}}e.EventBufferer=_;class S{constructor(){this.listening=!1,this.inputEvent=C.None,this.inputEventListener=E.Disposable.None,this.emitter=new r({onDidAddFirstListener:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onDidRemoveLastListener:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(I){this.inputEvent=I,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=I(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}e.Relay=S}),define(ie[89],ne([1,0,7]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomEmitter=void 0;class k{get event(){return this.emitter.event}constructor(D,y,p){const w=b=>this.emitter.fire(b);this.emitter=new f.Emitter({onWillAddFirstListener:()=>D.addEventListener(y,w,p),onDidRemoveLastListener:()=>D.removeEventListener(y,w,p)})}dispose(){this.emitter.dispose()}}e.DomEmitter=k}),define(ie[19],ne([1,0,7]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancellationTokenSource=e.CancellationToken=void 0,e.cancelOnDispose=p;const k=Object.freeze(function(w,b){const C=setTimeout(w.bind(b),0);return{dispose(){clearTimeout(C)}}});var E;(function(w){function b(C){return C===w.None||C===w.Cancelled||C instanceof D?!0:!C||typeof C!="object"?!1:typeof C.isCancellationRequested=="boolean"&&typeof C.onCancellationRequested=="function"}w.isCancellationToken=b,w.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:f.Event.None}),w.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:k})})(E||(e.CancellationToken=E={}));class D{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?k:(this._emitter||(this._emitter=new f.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class y{constructor(b){this._token=void 0,this._parentListener=void 0,this._parentListener=b&&b.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new D),this._token}cancel(){this._token?this._token instanceof D&&this._token.cancel():this._token=E.Cancelled}dispose(b=!1){var C;b&&this.cancel(),(C=this._parentListener)===null||C===void 0||C.dispose(),this._token?this._token instanceof D&&this._token.dispose():this._token=E.None}}e.CancellationTokenSource=y;function p(w){const b=new y;return w.add({dispose(){b.cancel()}}),b.token}}),define(ie[291],ne([1,0,7]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IME=e.IMEImpl=void 0;class k{constructor(){this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._enabled=!0}get enabled(){return this._enabled}enable(){this._enabled=!0,this._onDidChange.fire()}disable(){this._enabled=!1,this._onDidChange.fire()}}e.IMEImpl=k,e.IME=new k}),define(ie[292],ne([1,0,7,2,124,182,183,157]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ValueWithChangeEventFromObservable=e.KeepAliveObserver=e.FromEventObservable=void 0,e.constObservable=w,e.observableFromEvent=C,e.observableSignalFromEvent=s,e.observableSignal=t,e.keepObserved=c,e.recomputeInitiallyAndOnChange=m,e.derivedObservableWithWritableCache=r,e.mapObservableArrayCached=a,e.observableFromValueWithChangeEvent=g;function w(d){return new b(d)}class b extends E.ConvenientObservable{constructor(v){super(),this.value=v}get debugName(){return this.toString()}get(){return this.value}addObserver(v){}removeObserver(v){}toString(){return`Const: ${this.value}`}}function C(d,v){return new o(d,v)}class o extends E.BaseObservable{constructor(v,_){super(),this.event=v,this._getValue=_,this.hasValue=!1,this.handleEvent=S=>{var L;const I=this._getValue(S),T=this.value,N=!this.hasValue||T!==I;let A=!1;N&&(this.value=I,this.hasValue&&(A=!0,(0,E.subtransaction)(o.globalTransaction,O=>{var M;(M=(0,p.getLogger)())===null||M===void 0||M.handleFromEventObservableTriggered(this,{oldValue:T,newValue:I,change:void 0,didChange:N,hadValue:this.hasValue});for(const R of this.observers)O.updateObserver(R,this),R.handleChange(this,void 0)},()=>{const O=this.getDebugName();return"Event fired"+(O?`: ${O}`:"")})),this.hasValue=!0),A||(L=(0,p.getLogger)())===null||L===void 0||L.handleFromEventObservableTriggered(this,{oldValue:T,newValue:I,change:void 0,didChange:N,hadValue:this.hasValue})}}getDebugName(){return(0,D.getFunctionName)(this._getValue)}get debugName(){const v=this.getDebugName();return"From Event"+(v?`: ${v}`:"")}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0,this.hasValue=!1,this.value=void 0}get(){return this.subscription?(this.hasValue||this.handleEvent(void 0),this.value):this._getValue(void 0)}}e.FromEventObservable=o,function(d){d.Observer=o;function v(_,S){let L=!1;o.globalTransaction===void 0&&(o.globalTransaction=_,L=!0);try{S()}finally{L&&(o.globalTransaction=void 0)}}d.batchEventsGlobally=v}(C||(e.observableFromEvent=C={}));function s(d,v){return new i(d,v)}class i extends E.BaseObservable{constructor(v,_){super(),this.debugName=v,this.event=_,this.handleEvent=()=>{(0,E.transaction)(S=>{for(const L of this.observers)S.updateObserver(L,this),L.handleChange(this,void 0)},()=>this.debugName)}}onFirstObserverAdded(){this.subscription=this.event(this.handleEvent)}onLastObserverRemoved(){this.subscription.dispose(),this.subscription=void 0}get(){}}function t(d){return typeof d=="string"?new n(d):new n(void 0,d)}class n extends E.BaseObservable{get debugName(){var v;return(v=new D.DebugNameData(this._owner,this._debugName,void 0).getDebugName(this))!==null&&v!==void 0?v:"Observable Signal"}constructor(v,_){super(),this._debugName=v,this._owner=_}trigger(v,_){if(!v){(0,E.transaction)(S=>{this.trigger(S,_)},()=>`Trigger signal ${this.debugName}`);return}for(const S of this.observers)v.updateObserver(S,this),S.handleChange(this,_)}get(){}}function c(d){const v=new u(!1,void 0);return d.addObserver(v),(0,k.toDisposable)(()=>{d.removeObserver(v)})}(0,E._setKeepObserved)(c);function m(d,v){const _=new u(!0,v);return d.addObserver(_),v?v(d.get()):d.reportChanges(),(0,k.toDisposable)(()=>{d.removeObserver(_)})}(0,E._setRecomputeInitiallyAndOnChange)(m);class u{constructor(v,_){this._forceRecompute=v,this._handleValue=_,this._counter=0}beginUpdate(v){this._counter++}endUpdate(v){this._counter--,this._counter===0&&this._forceRecompute&&(this._handleValue?this._handleValue(v.get()):v.reportChanges())}handlePossibleChange(v){}handleChange(v,_){}}e.KeepAliveObserver=u;function r(d,v){let _;const S=t("derivedObservableWithWritableCache"),L=(0,y.derived)(d,I=>(S.read(I),_=v(I,_),_));return Object.assign(L,{clearCache:I=>{_=void 0,S.trigger(I)},setCache:(I,T)=>{_=I,S.trigger(T)}})}function a(d,v,_,S){let L=new h(_,S);return(0,y.derivedOpts)({debugReferenceFn:_,owner:d,onLastObserverRemoved:()=>{L.dispose(),L=new h(_)}},T=>(L.setItems(v.read(T)),L.getItems()))}class h{constructor(v,_){this._map=v,this._keySelector=_,this._cache=new Map,this._items=[]}dispose(){this._cache.forEach(v=>v.store.dispose()),this._cache.clear()}setItems(v){const _=[],S=new Set(this._cache.keys());for(const L of v){const I=this._keySelector?this._keySelector(L):L;let T=this._cache.get(I);if(T)S.delete(I);else{const N=new k.DisposableStore;T={out:this._map(L,N),store:N},this._cache.set(I,T)}_.push(T.out)}for(const L of S)this._cache.get(L).store.dispose(),this._cache.delete(L);this._items=_}getItems(){return this._items}}class l{constructor(v){this.observable=v}get onDidChange(){return f.Event.fromObservableLight(this.observable)}get value(){return this.observable.get()}}e.ValueWithChangeEventFromObservable=l;function g(d,v){return v instanceof l?v.observable:C(v.onDidChange,()=>v.value)}}),define(ie[30],ne([1,0,124,183,290,292,432,157]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.waitForState=e.observableSignalFromEvent=e.observableSignal=e.observableFromEvent=e.recomputeInitiallyAndOnChange=e.keepObserved=e.derivedObservableWithWritableCache=e.constObservable=e.autorunOpts=e.autorunWithStore=e.autorunHandleChanges=e.autorun=e.derivedWithStore=e.derivedHandleChanges=e.derivedOpts=e.derived=e.subtransaction=e.transaction=e.disposableObservableValue=e.observableValue=void 0,Object.defineProperty(e,"observableValue",{enumerable:!0,get:function(){return f.observableValue}}),Object.defineProperty(e,"disposableObservableValue",{enumerable:!0,get:function(){return f.disposableObservableValue}}),Object.defineProperty(e,"transaction",{enumerable:!0,get:function(){return f.transaction}}),Object.defineProperty(e,"subtransaction",{enumerable:!0,get:function(){return f.subtransaction}}),Object.defineProperty(e,"derived",{enumerable:!0,get:function(){return k.derived}}),Object.defineProperty(e,"derivedOpts",{enumerable:!0,get:function(){return k.derivedOpts}}),Object.defineProperty(e,"derivedHandleChanges",{enumerable:!0,get:function(){return k.derivedHandleChanges}}),Object.defineProperty(e,"derivedWithStore",{enumerable:!0,get:function(){return k.derivedWithStore}}),Object.defineProperty(e,"autorun",{enumerable:!0,get:function(){return E.autorun}}),Object.defineProperty(e,"autorunHandleChanges",{enumerable:!0,get:function(){return E.autorunHandleChanges}}),Object.defineProperty(e,"autorunWithStore",{enumerable:!0,get:function(){return E.autorunWithStore}}),Object.defineProperty(e,"autorunOpts",{enumerable:!0,get:function(){return E.autorunOpts}}),Object.defineProperty(e,"constObservable",{enumerable:!0,get:function(){return D.constObservable}}),Object.defineProperty(e,"derivedObservableWithWritableCache",{enumerable:!0,get:function(){return D.derivedObservableWithWritableCache}}),Object.defineProperty(e,"keepObserved",{enumerable:!0,get:function(){return D.keepObserved}}),Object.defineProperty(e,"recomputeInitiallyAndOnChange",{enumerable:!0,get:function(){return D.recomputeInitiallyAndOnChange}}),Object.defineProperty(e,"observableFromEvent",{enumerable:!0,get:function(){return D.observableFromEvent}}),Object.defineProperty(e,"observableSignal",{enumerable:!0,get:function(){return D.observableSignal}}),Object.defineProperty(e,"observableSignalFromEvent",{enumerable:!0,get:function(){return D.observableSignalFromEvent}}),Object.defineProperty(e,"waitForState",{enumerable:!0,get:function(){return y.waitForState}}),!1&&(0,p.setLogger)(new p.ConsoleObservableLogger)}),define(ie[158],ne([1,0,7,2]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SmoothScrollingOperation=e.SmoothScrollingUpdate=e.Scrollable=e.ScrollState=void 0;class E{constructor(i,t,n,c,m,u,r){this._forceIntegerValues=i,this._scrollStateBrand=void 0,this._forceIntegerValues&&(t=t|0,n=n|0,c=c|0,m=m|0,u=u|0,r=r|0),this.rawScrollLeft=c,this.rawScrollTop=r,t<0&&(t=0),c+t>n&&(c=n-t),c<0&&(c=0),m<0&&(m=0),r+m>u&&(r=u-m),r<0&&(r=0),this.width=t,this.scrollWidth=n,this.scrollLeft=c,this.height=m,this.scrollHeight=u,this.scrollTop=r}equals(i){return this.rawScrollLeft===i.rawScrollLeft&&this.rawScrollTop===i.rawScrollTop&&this.width===i.width&&this.scrollWidth===i.scrollWidth&&this.scrollLeft===i.scrollLeft&&this.height===i.height&&this.scrollHeight===i.scrollHeight&&this.scrollTop===i.scrollTop}withScrollDimensions(i,t){return new E(this._forceIntegerValues,typeof i.width<"u"?i.width:this.width,typeof i.scrollWidth<"u"?i.scrollWidth:this.scrollWidth,t?this.rawScrollLeft:this.scrollLeft,typeof i.height<"u"?i.height:this.height,typeof i.scrollHeight<"u"?i.scrollHeight:this.scrollHeight,t?this.rawScrollTop:this.scrollTop)}withScrollPosition(i){return new E(this._forceIntegerValues,this.width,this.scrollWidth,typeof i.scrollLeft<"u"?i.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof i.scrollTop<"u"?i.scrollTop:this.rawScrollTop)}createScrollEvent(i,t){const n=this.width!==i.width,c=this.scrollWidth!==i.scrollWidth,m=this.scrollLeft!==i.scrollLeft,u=this.height!==i.height,r=this.scrollHeight!==i.scrollHeight,a=this.scrollTop!==i.scrollTop;return{inSmoothScrolling:t,oldWidth:i.width,oldScrollWidth:i.scrollWidth,oldScrollLeft:i.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:i.height,oldScrollHeight:i.scrollHeight,oldScrollTop:i.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:n,scrollWidthChanged:c,scrollLeftChanged:m,heightChanged:u,scrollHeightChanged:r,scrollTopChanged:a}}}e.ScrollState=E;class D extends k.Disposable{constructor(i){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new f.Emitter),this.onScroll=this._onScroll.event,this._smoothScrollDuration=i.smoothScrollDuration,this._scheduleAtNextAnimationFrame=i.scheduleAtNextAnimationFrame,this._state=new E(i.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(i){this._smoothScrollDuration=i}validateScrollPosition(i){return this._state.withScrollPosition(i)}getScrollDimensions(){return this._state}setScrollDimensions(i,t){var n;const c=this._state.withScrollDimensions(i,t);this._setState(c,!!this._smoothScrolling),(n=this._smoothScrolling)===null||n===void 0||n.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(i){const t=this._state.withScrollPosition(i);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(t,!1)}setScrollPositionSmooth(i,t){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(i);if(this._smoothScrolling){i={scrollLeft:typeof i.scrollLeft>"u"?this._smoothScrolling.to.scrollLeft:i.scrollLeft,scrollTop:typeof i.scrollTop>"u"?this._smoothScrolling.to.scrollTop:i.scrollTop};const n=this._state.withScrollPosition(i);if(this._smoothScrolling.to.scrollLeft===n.scrollLeft&&this._smoothScrolling.to.scrollTop===n.scrollTop)return;let c;t?c=new b(this._smoothScrolling.from,n,this._smoothScrolling.startTime,this._smoothScrolling.duration):c=this._smoothScrolling.combine(this._state,n,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=c}else{const n=this._state.withScrollPosition(i);this._smoothScrolling=b.start(this._state,n,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}hasPendingScrollAnimation(){return!!this._smoothScrolling}_performSmoothScrolling(){if(!this._smoothScrolling)return;const i=this._smoothScrolling.tick(),t=this._state.withScrollPosition(i);if(this._setState(t,!0),!!this._smoothScrolling){if(i.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{this._smoothScrolling&&(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(i,t){const n=this._state;n.equals(i)||(this._state=i,this._onScroll.fire(this._state.createScrollEvent(n,t)))}}e.Scrollable=D;class y{constructor(i,t,n){this.scrollLeft=i,this.scrollTop=t,this.isDone=n}}e.SmoothScrollingUpdate=y;function p(s,i){const t=i-s;return function(n){return s+t*o(n)}}function w(s,i,t){return function(n){return n<t?s(n/t):i((n-t)/(1-t))}}class b{constructor(i,t,n,c){this.from=i,this.to=t,this.duration=c,this.startTime=n,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(i,t,n){if(Math.abs(i-t)>2.5*n){let m,u;return i<t?(m=i+.75*n,u=t-.75*n):(m=i-.75*n,u=t+.75*n),w(p(i,m),p(u,t),.33)}return p(i,t)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(i){this.to=i.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(i){const t=(i-this.startTime)/this.duration;if(t<1){const n=this.scrollLeft(t),c=this.scrollTop(t);return new y(n,c,!1)}return new y(this.to.scrollLeft,this.to.scrollTop,!0)}combine(i,t,n){return b.start(i,t,n)}static start(i,t,n){n=n+10;const c=Date.now()-10;return new b(i,t,c,n)}}e.SmoothScrollingOperation=b;function C(s){return Math.pow(s,3)}function o(s){return 1-C(1-s)}}),define(ie[12],ne([1,0,288,95]),function(Q,e,f,k){"use strict";var E;Object.defineProperty(e,"__esModule",{value:!0}),e.InvisibleCharacters=e.AmbiguousCharacters=e.noBreakWhitespace=e.UTF8_BOM_CHARACTER=e.UNUSUAL_LINE_TERMINATORS=e.GraphemeIterator=e.CodePointIterator=void 0,e.isFalsyOrWhitespace=D,e.format=p,e.htmlAttributeEncodeValue=w,e.escape=b,e.escapeRegExpCharacters=C,e.trim=o,e.ltrim=s,e.rtrim=i,e.convertSimple2RegExpPattern=t,e.stripWildcards=n,e.createRegExp=c,e.regExpLeadsToEndlessLoop=m,e.splitLines=u,e.splitLinesIncludeSeparators=r,e.firstNonWhitespaceIndex=a,e.getLeadingWhitespace=h,e.lastNonWhitespaceIndex=l,e.compare=g,e.compareSubstring=d,e.compareIgnoreCase=v,e.compareSubstringIgnoreCase=_,e.isAsciiDigit=S,e.isLowerAsciiLetter=L,e.isUpperAsciiLetter=I,e.equalsIgnoreCase=T,e.startsWithIgnoreCase=N,e.commonPrefixLength=A,e.commonSuffixLength=O,e.isHighSurrogate=M,e.isLowSurrogate=R,e.computeCodePoint=x,e.getNextCodePoint=F,e.nextCharLength=j,e.prevCharLength=K,e.getCharContainingOffset=U,e.containsRTL=ee,e.isBasicASCII=P,e.containsUnusualLineTerminators=Z,e.isFullWidthCharacter=re,e.isEmojiImprecise=ce,e.startsWithUTF8BOM=he,e.containsUppercaseCharacter=pe,e.singleLetterHash=ge,e.getLeftDeleteOffset=B;function D(se){return!se||typeof se!="string"?!0:se.trim().length===0}const y=/{(\d+)}/g;function p(se,...de){return de.length===0?se:se.replace(y,function(le,fe){const ve=parseInt(fe,10);return isNaN(ve)||ve<0||ve>=de.length?le:de[ve]})}function w(se){return se.replace(/[<>"'&]/g,de=>{switch(de){case"<":return"&lt;";case">":return"&gt;";case'"':return"&quot;";case"'":return"&apos;";case"&":return"&amp;"}return de})}function b(se){return se.replace(/[<>&]/g,function(de){switch(de){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return de}})}function C(se){return se.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function o(se,de=" "){const le=s(se,de);return i(le,de)}function s(se,de){if(!se||!de)return se;const le=de.length;if(le===0||se.length===0)return se;let fe=0;for(;se.indexOf(de,fe)===fe;)fe=fe+le;return se.substring(fe)}function i(se,de){if(!se||!de)return se;const le=de.length,fe=se.length;if(le===0||fe===0)return se;let ve=fe,Ce=-1;for(;Ce=se.lastIndexOf(de,ve-1),!(Ce===-1||Ce+le!==ve);){if(Ce===0)return"";ve=Ce}return se.substring(0,ve)}function t(se){return se.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function n(se){return se.replace(/\*/g,"")}function c(se,de,le={}){if(!se)throw new Error("Cannot create regex from empty string");de||(se=C(se)),le.wholeWord&&(/\B/.test(se.charAt(0))||(se="\\b"+se),/\B/.test(se.charAt(se.length-1))||(se=se+"\\b"));let fe="";return le.global&&(fe+="g"),le.matchCase||(fe+="i"),le.multiline&&(fe+="m"),le.unicode&&(fe+="u"),new RegExp(se,fe)}function m(se){return se.source==="^"||se.source==="^$"||se.source==="$"||se.source==="^\\s*$"?!1:!!(se.exec("")&&se.lastIndex===0)}function u(se){return se.split(/\r\n|\r|\n/)}function r(se){var de;const le=[],fe=se.split(/(\r\n|\r|\n)/);for(let ve=0;ve<Math.ceil(fe.length/2);ve++)le.push(fe[2*ve]+((de=fe[2*ve+1])!==null&&de!==void 0?de:""));return le}function a(se){for(let de=0,le=se.length;de<le;de++){const fe=se.charCodeAt(de);if(fe!==32&&fe!==9)return de}return-1}function h(se,de=0,le=se.length){for(let fe=de;fe<le;fe++){const ve=se.charCodeAt(fe);if(ve!==32&&ve!==9)return se.substring(de,fe)}return se.substring(de,le)}function l(se,de=se.length-1){for(let le=de;le>=0;le--){const fe=se.charCodeAt(le);if(fe!==32&&fe!==9)return le}return-1}function g(se,de){return se<de?-1:se>de?1:0}function d(se,de,le=0,fe=se.length,ve=0,Ce=de.length){for(;le<fe&&ve<Ce;le++,ve++){const ke=se.charCodeAt(le),Ee=de.charCodeAt(ve);if(ke<Ee)return-1;if(ke>Ee)return 1}const Se=fe-le,_e=Ce-ve;return Se<_e?-1:Se>_e?1:0}function v(se,de){return _(se,de,0,se.length,0,de.length)}function _(se,de,le=0,fe=se.length,ve=0,Ce=de.length){for(;le<fe&&ve<Ce;le++,ve++){let ke=se.charCodeAt(le),Ee=de.charCodeAt(ve);if(ke===Ee)continue;if(ke>=128||Ee>=128)return d(se.toLowerCase(),de.toLowerCase(),le,fe,ve,Ce);L(ke)&&(ke-=32),L(Ee)&&(Ee-=32);const Ae=ke-Ee;if(Ae!==0)return Ae}const Se=fe-le,_e=Ce-ve;return Se<_e?-1:Se>_e?1:0}function S(se){return se>=48&&se<=57}function L(se){return se>=97&&se<=122}function I(se){return se>=65&&se<=90}function T(se,de){return se.length===de.length&&_(se,de)===0}function N(se,de){const le=de.length;return de.length>se.length?!1:_(se,de,0,le)===0}function A(se,de){const le=Math.min(se.length,de.length);let fe;for(fe=0;fe<le;fe++)if(se.charCodeAt(fe)!==de.charCodeAt(fe))return fe;return le}function O(se,de){const le=Math.min(se.length,de.length);let fe;const ve=se.length-1,Ce=de.length-1;for(fe=0;fe<le;fe++)if(se.charCodeAt(ve-fe)!==de.charCodeAt(Ce-fe))return fe;return le}function M(se){return 55296<=se&&se<=56319}function R(se){return 56320<=se&&se<=57343}function x(se,de){return(se-55296<<10)+(de-56320)+65536}function F(se,de,le){const fe=se.charCodeAt(le);if(M(fe)&&le+1<de){const ve=se.charCodeAt(le+1);if(R(ve))return x(fe,ve)}return fe}function W(se,de){const le=se.charCodeAt(de-1);if(R(le)&&de>1){const fe=se.charCodeAt(de-2);if(M(fe))return x(fe,le)}return le}class H{get offset(){return this._offset}constructor(de,le=0){this._str=de,this._len=de.length,this._offset=le}setOffset(de){this._offset=de}prevCodePoint(){const de=W(this._str,this._offset);return this._offset-=de>=65536?2:1,de}nextCodePoint(){const de=F(this._str,this._len,this._offset);return this._offset+=de>=65536?2:1,de}eol(){return this._offset>=this._len}}e.CodePointIterator=H;class z{get offset(){return this._iterator.offset}constructor(de,le=0){this._iterator=new H(de,le)}nextGraphemeLength(){const de=ae.getInstance(),le=this._iterator,fe=le.offset;let ve=de.getGraphemeBreakType(le.nextCodePoint());for(;!le.eol();){const Ce=le.offset,Se=de.getGraphemeBreakType(le.nextCodePoint());if(X(ve,Se)){le.setOffset(Ce);break}ve=Se}return le.offset-fe}prevGraphemeLength(){const de=ae.getInstance(),le=this._iterator,fe=le.offset;let ve=de.getGraphemeBreakType(le.prevCodePoint());for(;le.offset>0;){const Ce=le.offset,Se=de.getGraphemeBreakType(le.prevCodePoint());if(X(Se,ve)){le.setOffset(Ce);break}ve=Se}return fe-le.offset}eol(){return this._iterator.eol()}}e.GraphemeIterator=z;function j(se,de){return new z(se,de).nextGraphemeLength()}function K(se,de){return new z(se,de).prevGraphemeLength()}function U(se,de){de>0&&R(se.charCodeAt(de))&&de--;const le=de+j(se,de);return[le-K(se,le),le]}let G;function te(){return/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/}function ee(se){return G||(G=te()),G.test(se)}const Y=/^[\t\n\r\x20-\x7E]*$/;function P(se){return Y.test(se)}e.UNUSUAL_LINE_TERMINATORS=/[\u2028\u2029]/;function Z(se){return e.UNUSUAL_LINE_TERMINATORS.test(se)}function re(se){return se>=11904&&se<=55215||se>=63744&&se<=64255||se>=65281&&se<=65374}function ce(se){return se>=127462&&se<=127487||se===8986||se===8987||se===9200||se===9203||se>=9728&&se<=10175||se===11088||se===11093||se>=127744&&se<=128591||se>=128640&&se<=128764||se>=128992&&se<=129008||se>=129280&&se<=129535||se>=129648&&se<=129782}e.UTF8_BOM_CHARACTER="\uFEFF";function he(se){return!!(se&&se.length>0&&se.charCodeAt(0)===65279)}function pe(se,de=!1){return se?(de&&(se=se.replace(/\\./g,"")),se.toLowerCase()!==se):!1}function ge(se){return se=se%(2*26),se<26?String.fromCharCode(97+se):String.fromCharCode(65+se-26)}function X(se,de){return se===0?de!==5&&de!==7:se===2&&de===3?!1:se===4||se===2||se===3||de===4||de===2||de===3?!0:!(se===8&&(de===8||de===9||de===11||de===12)||(se===11||se===9)&&(de===9||de===10)||(se===12||se===10)&&de===10||de===5||de===13||de===7||se===1||se===13&&de===14||se===6&&de===6)}class ae{static getInstance(){return ae._INSTANCE||(ae._INSTANCE=new ae),ae._INSTANCE}constructor(){this._data=oe()}getGraphemeBreakType(de){if(de<32)return de===10?3:de===13?2:4;if(de<127)return 0;const le=this._data,fe=le.length/3;let ve=1;for(;ve<=fe;)if(de<le[3*ve])ve=2*ve;else if(de>le[3*ve+1])ve=2*ve+1;else return le[3*ve+2];return 0}}ae._INSTANCE=null;function oe(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function B(se,de){if(se===0)return 0;const le=q(se,de);if(le!==void 0)return le;const fe=new H(de,se);return fe.prevCodePoint(),fe.offset}function q(se,de){const le=new H(de,se);let fe=le.prevCodePoint();for(;V(fe)||fe===65039||fe===8419;){if(le.offset===0)return;fe=le.prevCodePoint()}if(!ce(fe))return;let ve=le.offset;return ve>0&&le.prevCodePoint()===8205&&(ve=le.offset),ve}function V(se){return 127995<=se&&se<=127999}e.noBreakWhitespace="\xA0";class ${static getInstance(de){return E.cache.get(Array.from(de))}static getLocales(){return E._locales.value}constructor(de){this.confusableDictionary=de}isAmbiguous(de){return this.confusableDictionary.has(de)}getPrimaryConfusable(de){return this.confusableDictionary.get(de)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}e.AmbiguousCharacters=$,E=$,$.ambiguousCharacterData=new k.Lazy(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125,119846,109],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),$.cache=new f.LRUCachedFunction({getCacheKey:JSON.stringify},se=>{function de(Ee){const Ae=new Map;for(let xe=0;xe<Ee.length;xe+=2)Ae.set(Ee[xe],Ee[xe+1]);return Ae}function le(Ee,Ae){const xe=new Map(Ee);for(const[We,Be]of Ae)xe.set(We,Be);return xe}function fe(Ee,Ae){if(!Ee)return Ae;const xe=new Map;for(const[We,Be]of Ee)Ae.has(We)&&xe.set(We,Be);return xe}const ve=E.ambiguousCharacterData.value;let Ce=se.filter(Ee=>!Ee.startsWith("_")&&Ee in ve);Ce.length===0&&(Ce=["_default"]);let Se;for(const Ee of Ce){const Ae=de(ve[Ee]);Se=fe(Se,Ae)}const _e=de(ve._common),ke=le(_e,Se);return new E(ke)}),$._locales=new k.Lazy(()=>Object.keys(E.ambiguousCharacterData.value).filter(se=>!se.startsWith("_")));class J{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(J.getRawData())),this._data}static isInvisibleCharacter(de){return J.getData().has(de)}static get codePoints(){return J.getData()}}e.InvisibleCharacters=J,J._data=void 0}),define(ie[78],ne([1,0,45,429,12]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FuzzyScoreOptions=e.FuzzyScore=e.matchesPrefix=e.matchesStrictPrefix=void 0,e.or=D,e.matchesContiguousSubString=p,e.matchesSubString=w,e.isUpper=o,e.matchesCamelCase=S,e.matchesWords=L,e.matchesFuzzy=M,e.matchesFuzzy2=R,e.anyScore=x,e.createMatches=F,e.isPatternInWord=he,e.fuzzyScore=X,e.fuzzyScoreGracefulAggressive=B;function D(...$){return function(J,se){for(let de=0,le=$.length;de<le;de++){const fe=$[de](J,se);if(fe)return fe}return null}}e.matchesStrictPrefix=y.bind(void 0,!1),e.matchesPrefix=y.bind(void 0,!0);function y($,J,se){if(!se||se.length<J.length)return null;let de;return $?de=E.startsWithIgnoreCase(se,J):de=se.indexOf(J)===0,de?J.length>0?[{start:0,end:J.length}]:[]:null}function p($,J){const se=J.toLowerCase().indexOf($.toLowerCase());return se===-1?null:[{start:se,end:se+$.length}]}function w($,J){return b($.toLowerCase(),J.toLowerCase(),0,0)}function b($,J,se,de){if(se===$.length)return[];if(de===J.length)return null;if($[se]===J[de]){let le=null;return(le=b($,J,se+1,de+1))?a({start:de,end:de+1},le):null}return b($,J,se,de+1)}function C($){return 97<=$&&$<=122}function o($){return 65<=$&&$<=90}function s($){return 48<=$&&$<=57}function i($){return $===32||$===9||$===10||$===13}const t=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach($=>t.add($.charCodeAt(0)));function n($){return i($)||t.has($)}function c($,J){return $===J||n($)&&n(J)}const m=new Map;function u($){if(m.has($))return m.get($);let J;const se=(0,k.getKoreanAltChars)($);return se&&(J=se),m.set($,J),J}function r($){return C($)||o($)||s($)}function a($,J){return J.length===0?J=[$]:$.end===J[0].start?J[0].start=$.start:J.unshift($),J}function h($,J){for(let se=J;se<$.length;se++){const de=$.charCodeAt(se);if(o(de)||s(de)||se>0&&!r($.charCodeAt(se-1)))return se}return $.length}function l($,J,se,de){if(se===$.length)return[];if(de===J.length)return null;if($[se]!==J[de].toLowerCase())return null;{let le=null,fe=de+1;for(le=l($,J,se+1,de+1);!le&&(fe=h(J,fe))<J.length;)le=l($,J,se+1,fe),fe++;return le===null?null:a({start:de,end:de+1},le)}}function g($){let J=0,se=0,de=0,le=0,fe=0;for(let ke=0;ke<$.length;ke++)fe=$.charCodeAt(ke),o(fe)&&J++,C(fe)&&se++,r(fe)&&de++,s(fe)&&le++;const ve=J/$.length,Ce=se/$.length,Se=de/$.length,_e=le/$.length;return{upperPercent:ve,lowerPercent:Ce,alphaPercent:Se,numericPercent:_e}}function d($){const{upperPercent:J,lowerPercent:se}=$;return se===0&&J>.6}function v($){const{upperPercent:J,lowerPercent:se,alphaPercent:de,numericPercent:le}=$;return se>.2&&J<.8&&de>.6&&le<.2}function _($){let J=0,se=0,de=0,le=0;for(let fe=0;fe<$.length;fe++)de=$.charCodeAt(fe),o(de)&&J++,C(de)&&se++,i(de)&&le++;return(J===0||se===0)&&le===0?$.length<=30:J<=5}function S($,J){if(!J||(J=J.trim(),J.length===0)||!_($))return null;J.length>60&&(J=J.substring(0,60));const se=g(J);if(!v(se)){if(!d(se))return null;J=J.toLowerCase()}let de=null,le=0;for($=$.toLowerCase();le<J.length&&(de=l($,J,0,le))===null;)le=h(J,le+1);return de}function L($,J,se=!1){if(!J||J.length===0)return null;let de=null,le=0;for($=$.toLowerCase(),J=J.toLowerCase();le<J.length&&(de=I($,J,0,le,se),de===null);)le=T(J,le+1);return de}function I($,J,se,de,le){let fe=0;if(se===$.length)return[];if(de===J.length)return null;if(!c($.charCodeAt(se),J.charCodeAt(de))){const Se=u($.charCodeAt(se));if(!Se)return null;for(let _e=0;_e<Se.length;_e++)if(!c(Se[_e],J.charCodeAt(de+_e)))return null;fe+=Se.length-1}let ve=null,Ce=de+fe+1;if(ve=I($,J,se+1,Ce,le),!le)for(;!ve&&(Ce=T(J,Ce))<J.length;)ve=I($,J,se+1,Ce,le),Ce++;if(!ve)return null;if($.charCodeAt(se)!==J.charCodeAt(de)){const Se=u($.charCodeAt(se));if(!Se)return ve;for(let _e=0;_e<Se.length;_e++)if(Se[_e]!==J.charCodeAt(de+_e))return ve}return a({start:de,end:de+fe+1},ve)}function T($,J){for(let se=J;se<$.length;se++)if(n($.charCodeAt(se))||se>0&&n($.charCodeAt(se-1)))return se;return $.length}const N=D(e.matchesPrefix,S,p),A=D(e.matchesPrefix,S,w),O=new f.LRUCache(1e4);function M($,J,se=!1){if(typeof $!="string"||typeof J!="string")return null;let de=O.get($);de||(de=new RegExp(E.convertSimple2RegExpPattern($),"i"),O.set($,de));const le=de.exec(J);return le?[{start:le.index,end:le.index+le[0].length}]:se?A($,J):N($,J)}function R($,J){const se=X($,$.toLowerCase(),0,J,J.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return se?F(se):null}function x($,J,se,de,le,fe){const ve=Math.min(13,$.length);for(;se<ve;se++){const Ce=X($,J,se,de,le,fe,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(Ce)return Ce}return[0,fe]}function F($){if(typeof $>"u")return[];const J=[],se=$[1];for(let de=$.length-1;de>1;de--){const le=$[de]+se,fe=J[J.length-1];fe&&fe.end===le?fe.end=le+1:J.push({start:le,end:le+1})}return J}const W=128;function H(){const $=[],J=[];for(let se=0;se<=W;se++)J[se]=0;for(let se=0;se<=W;se++)$.push(J.slice(0));return $}function z($){const J=[];for(let se=0;se<=$;se++)J[se]=0;return J}const j=z(2*W),K=z(2*W),U=H(),G=H(),te=H(),ee=!1;function Y($,J,se,de,le){function fe(Ce,Se,_e=" "){for(;Ce.length<Se;)Ce=_e+Ce;return Ce}let ve=` |   |${de.split("").map(Ce=>fe(Ce,3)).join("|")}
`;for(let Ce=0;Ce<=se;Ce++)Ce===0?ve+=" |":ve+=`${J[Ce-1]}|`,ve+=$[Ce].slice(0,le+1).map(Se=>fe(Se.toString(),3)).join("|")+`
`;return ve}function P($,J,se,de){$=$.substr(J),se=se.substr(de),console.log(Y(G,$,$.length,se,se.length)),console.log(Y(te,$,$.length,se,se.length)),console.log(Y(U,$,$.length,se,se.length))}function Z($,J){if(J<0||J>=$.length)return!1;const se=$.codePointAt(J);switch(se){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!E.isEmojiImprecise(se)}}function re($,J){if(J<0||J>=$.length)return!1;switch($.charCodeAt(J)){case 32:case 9:return!0;default:return!1}}function ce($,J,se){return J[$]!==se[$]}function he($,J,se,de,le,fe,ve=!1){for(;J<se&&le<fe;)$[J]===de[le]&&(ve&&(j[J]=le),J+=1),le+=1;return J===se}var pe;(function($){$.Default=[-100,0];function J(se){return!se||se.length===2&&se[0]===-100&&se[1]===0}$.isDefault=J})(pe||(e.FuzzyScore=pe={}));class ge{constructor(J,se){this.firstMatchCanBeWeak=J,this.boostFullMatch=se}}e.FuzzyScoreOptions=ge,ge.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function X($,J,se,de,le,fe,ve=ge.default){const Ce=$.length>W?W:$.length,Se=de.length>W?W:de.length;if(se>=Ce||fe>=Se||Ce-se>Se-fe||!he(J,se,Ce,le,fe,Se,!0))return;ae(Ce,Se,se,fe,J,le);let _e=1,ke=1,Ee=se,Ae=fe;const xe=[!1];for(_e=1,Ee=se;Ee<Ce;_e++,Ee++){const me=j[Ee],be=K[Ee],Re=Ee+1<Ce?K[Ee+1]:Se;for(ke=me-fe+1,Ae=me;Ae<Re;ke++,Ae++){let He=Number.MIN_SAFE_INTEGER,qe=!1;Ae<=be&&(He=oe($,J,Ee,se,de,le,Ae,Se,fe,U[_e-1][ke-1]===0,xe));let Ue=0;He!==Number.MAX_SAFE_INTEGER&&(qe=!0,Ue=He+G[_e-1][ke-1]);const Ze=Ae>me,et=Ze?G[_e][ke-1]+(U[_e][ke-1]>0?-5:0):0,nt=Ae>me+1&&U[_e][ke-1]>0,at=nt?G[_e][ke-2]+(U[_e][ke-2]>0?-5:0):0;if(nt&&(!Ze||at>=et)&&(!qe||at>=Ue))G[_e][ke]=at,te[_e][ke]=3,U[_e][ke]=0;else if(Ze&&(!qe||et>=Ue))G[_e][ke]=et,te[_e][ke]=2,U[_e][ke]=0;else if(qe)G[_e][ke]=Ue,te[_e][ke]=1,U[_e][ke]=U[_e-1][ke-1]+1;else throw new Error("not possible")}}if(ee&&P($,se,de,fe),!xe[0]&&!ve.firstMatchCanBeWeak)return;_e--,ke--;const We=[G[_e][ke],fe];let Be=0,De=0;for(;_e>=1;){let me=ke;do{const be=te[_e][me];if(be===3)me=me-2;else if(be===2)me=me-1;else break}while(me>=1);Be>1&&J[se+_e-1]===le[fe+ke-1]&&!ce(me+fe-1,de,le)&&Be+1>U[_e][me]&&(me=ke),me===ke?Be++:Be=1,De||(De=me),_e--,ke=me-1,We.push(ke)}Se===Ce&&ve.boostFullMatch&&(We[0]+=2);const Ne=De-Ce;return We[0]-=Ne,We}function ae($,J,se,de,le,fe){let ve=$-1,Ce=J-1;for(;ve>=se&&Ce>=de;)le[ve]===fe[Ce]&&(K[ve]=Ce,ve--),Ce--}function oe($,J,se,de,le,fe,ve,Ce,Se,_e,ke){if(J[se]!==fe[ve])return Number.MIN_SAFE_INTEGER;let Ee=1,Ae=!1;return ve===se-de?Ee=$[se]===le[ve]?7:5:ce(ve,le,fe)&&(ve===0||!ce(ve-1,le,fe))?(Ee=$[se]===le[ve]?7:5,Ae=!0):Z(fe,ve)&&(ve===0||!Z(fe,ve-1))?Ee=5:(Z(fe,ve-1)||re(fe,ve-1))&&(Ee=5,Ae=!0),Ee>1&&se===de&&(ke[0]=!0),Ae||(Ae=ce(ve,le,fe)||Z(fe,ve-1)||re(fe,ve-1)),se===de?ve>Se&&(Ee-=Ae?3:5):_e?Ee+=Ae?2:0:Ee+=Ae?0:1,ve+1===Ce&&(Ee-=Ae?3:5),Ee}function B($,J,se,de,le,fe,ve){return q($,J,se,de,le,fe,!0,ve)}function q($,J,se,de,le,fe,ve,Ce){let Se=X($,J,se,de,le,fe,Ce);if(Se&&!ve)return Se;if($.length>=3){const _e=Math.min(7,$.length-1);for(let ke=se+1;ke<_e;ke++){const Ee=V($,ke);if(Ee){const Ae=X(Ee,Ee.toLowerCase(),se,de,le,fe,Ce);Ae&&(Ae[0]-=3,(!Se||Ae[0]>Se[0])&&(Se=Ae))}}}return Se}function V($,J){if(J+1>=$.length)return;const se=$[J],de=$[J+1];if(se!==de)return $.slice(0,J)+de+se+$.slice(J+2)}}),define(ie[125],ne([1,0,12]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringSHA1=void 0,e.hash=k,e.doHash=E,e.numberHash=D,e.stringHash=p,e.toHexString=i;function k(n){return E(n,0)}function E(n,c){switch(typeof n){case"object":return n===null?D(349,c):Array.isArray(n)?w(n,c):b(n,c);case"string":return p(n,c);case"boolean":return y(n,c);case"number":return D(n,c);case"undefined":return D(937,c);default:return D(617,c)}}function D(n,c){return(c<<5)-c+n|0}function y(n,c){return D(n?433:863,c)}function p(n,c){c=D(149417,c);for(let m=0,u=n.length;m<u;m++)c=D(n.charCodeAt(m),c);return c}function w(n,c){return c=D(104579,c),n.reduce((m,u)=>E(u,m),c)}function b(n,c){return c=D(181387,c),Object.keys(n).sort().reduce((m,u)=>(m=p(u,m),E(n[u],m)),c)}function C(n,c,m=32){const u=m-c,r=~((1<<u)-1);return(n<<c|(r&n)>>>u)>>>0}function o(n,c=0,m=n.byteLength,u=0){for(let r=0;r<m;r++)n[c+r]=u}function s(n,c,m="0"){for(;n.length<c;)n=m+n;return n}function i(n,c=32){return n instanceof ArrayBuffer?Array.from(new Uint8Array(n)).map(m=>m.toString(16).padStart(2,"0")).join(""):s((n>>>0).toString(16),c/4)}class t{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(67),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(c){const m=c.length;if(m===0)return;const u=this._buff;let r=this._buffLen,a=this._leftoverHighSurrogate,h,l;for(a!==0?(h=a,l=-1,a=0):(h=c.charCodeAt(0),l=0);;){let g=h;if(f.isHighSurrogate(h))if(l+1<m){const d=c.charCodeAt(l+1);f.isLowSurrogate(d)?(l++,g=f.computeCodePoint(h,d)):g=65533}else{a=h;break}else f.isLowSurrogate(h)&&(g=65533);if(r=this._push(u,r,g),l++,l<m)h=c.charCodeAt(l);else break}this._buffLen=r,this._leftoverHighSurrogate=a}_push(c,m,u){return u<128?c[m++]=u:u<2048?(c[m++]=192|(u&1984)>>>6,c[m++]=128|(u&63)>>>0):u<65536?(c[m++]=224|(u&61440)>>>12,c[m++]=128|(u&4032)>>>6,c[m++]=128|(u&63)>>>0):(c[m++]=240|(u&1835008)>>>18,c[m++]=128|(u&258048)>>>12,c[m++]=128|(u&4032)>>>6,c[m++]=128|(u&63)>>>0),m>=64&&(this._step(),m-=64,this._totalLen+=64,c[0]=c[64],c[1]=c[65],c[2]=c[66]),m}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),i(this._h0)+i(this._h1)+i(this._h2)+i(this._h3)+i(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,o(this._buff,this._buffLen),this._buffLen>56&&(this._step(),o(this._buff));const c=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(c/4294967296),!1),this._buffDV.setUint32(60,c%4294967296,!1),this._step()}_step(){const c=t._bigBlock32,m=this._buffDV;for(let _=0;_<64;_+=4)c.setUint32(_,m.getUint32(_,!1),!1);for(let _=64;_<320;_+=4)c.setUint32(_,C(c.getUint32(_-12,!1)^c.getUint32(_-32,!1)^c.getUint32(_-56,!1)^c.getUint32(_-64,!1),1),!1);let u=this._h0,r=this._h1,a=this._h2,h=this._h3,l=this._h4,g,d,v;for(let _=0;_<80;_++)_<20?(g=r&a|~r&h,d=1518500249):_<40?(g=r^a^h,d=1859775393):_<60?(g=r&a|r&h|a&h,d=2400959708):(g=r^a^h,d=3395469782),v=C(u,5)+g+l+d+c.getUint32(_*4,!1)&4294967295,l=h,h=a,a=C(r,30),r=u,u=v;this._h0=this._h0+u&4294967295,this._h1=this._h1+r&4294967295,this._h2=this._h2+a&4294967295,this._h3=this._h3+h&4294967295,this._h4=this._h4+l&4294967295}}e.StringSHA1=t,t._bigBlock32=new DataView(new ArrayBuffer(320))}),define(ie[185],ne([1,0,425,125]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LcsDiff=e.StringDiffSequence=void 0,e.stringDiff=D;class E{constructor(o){this.source=o}getElements(){const o=this.source,s=new Int32Array(o.length);for(let i=0,t=o.length;i<t;i++)s[i]=o.charCodeAt(i);return s}}e.StringDiffSequence=E;function D(C,o,s){return new b(new E(C),new E(o)).ComputeDiff(s).changes}class y{static Assert(o,s){if(!o)throw new Error(s)}}class p{static Copy(o,s,i,t,n){for(let c=0;c<n;c++)i[t+c]=o[s+c]}static Copy2(o,s,i,t,n){for(let c=0;c<n;c++)i[t+c]=o[s+c]}}class w{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new f.DiffChange(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(o,s){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_originalCount++}AddModifiedElement(o,s){this.m_originalStart=Math.min(this.m_originalStart,o),this.m_modifiedStart=Math.min(this.m_modifiedStart,s),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class b{constructor(o,s,i=null){this.ContinueProcessingPredicate=i,this._originalSequence=o,this._modifiedSequence=s;const[t,n,c]=b._getElements(o),[m,u,r]=b._getElements(s);this._hasStrings=c&&r,this._originalStringElements=t,this._originalElementsOrHash=n,this._modifiedStringElements=m,this._modifiedElementsOrHash=u,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(o){return o.length>0&&typeof o[0]=="string"}static _getElements(o){const s=o.getElements();if(b._isStringArray(s)){const i=new Int32Array(s.length);for(let t=0,n=s.length;t<n;t++)i[t]=(0,k.stringHash)(s[t],0);return[s,i,!0]}return s instanceof Int32Array?[[],s,!1]:[[],new Int32Array(s),!1]}ElementsAreEqual(o,s){return this._originalElementsOrHash[o]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[o]===this._modifiedStringElements[s]:!0}ElementsAreStrictEqual(o,s){if(!this.ElementsAreEqual(o,s))return!1;const i=b._getStrictElement(this._originalSequence,o),t=b._getStrictElement(this._modifiedSequence,s);return i===t}static _getStrictElement(o,s){return typeof o.getStrictElement=="function"?o.getStrictElement(s):null}OriginalElementsAreEqual(o,s){return this._originalElementsOrHash[o]!==this._originalElementsOrHash[s]?!1:this._hasStrings?this._originalStringElements[o]===this._originalStringElements[s]:!0}ModifiedElementsAreEqual(o,s){return this._modifiedElementsOrHash[o]!==this._modifiedElementsOrHash[s]?!1:this._hasStrings?this._modifiedStringElements[o]===this._modifiedStringElements[s]:!0}ComputeDiff(o){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,o)}_ComputeDiff(o,s,i,t,n){const c=[!1];let m=this.ComputeDiffRecursive(o,s,i,t,c);return n&&(m=this.PrettifyChanges(m)),{quitEarly:c[0],changes:m}}ComputeDiffRecursive(o,s,i,t,n){for(n[0]=!1;o<=s&&i<=t&&this.ElementsAreEqual(o,i);)o++,i++;for(;s>=o&&t>=i&&this.ElementsAreEqual(s,t);)s--,t--;if(o>s||i>t){let h;return i<=t?(y.Assert(o===s+1,"originalStart should only be one more than originalEnd"),h=[new f.DiffChange(o,0,i,t-i+1)]):o<=s?(y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),h=[new f.DiffChange(o,s-o+1,i,0)]):(y.Assert(o===s+1,"originalStart should only be one more than originalEnd"),y.Assert(i===t+1,"modifiedStart should only be one more than modifiedEnd"),h=[]),h}const c=[0],m=[0],u=this.ComputeRecursionPoint(o,s,i,t,c,m,n),r=c[0],a=m[0];if(u!==null)return u;if(!n[0]){const h=this.ComputeDiffRecursive(o,r,i,a,n);let l=[];return n[0]?l=[new f.DiffChange(r+1,s-(r+1)+1,a+1,t-(a+1)+1)]:l=this.ComputeDiffRecursive(r+1,s,a+1,t,n),this.ConcatenateChanges(h,l)}return[new f.DiffChange(o,s-o+1,i,t-i+1)]}WALKTRACE(o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L){let I=null,T=null,N=new w,A=s,O=i,M=g[0]-_[0]-t,R=-1073741824,x=this.m_forwardHistory.length-1;do{const F=M+o;F===A||F<O&&r[F-1]<r[F+1]?(h=r[F+1],d=h-M-t,h<R&&N.MarkNextChange(),R=h,N.AddModifiedElement(h+1,d),M=F+1-o):(h=r[F-1]+1,d=h-M-t,h<R&&N.MarkNextChange(),R=h-1,N.AddOriginalElement(h,d+1),M=F-1-o),x>=0&&(r=this.m_forwardHistory[x],o=r[0],A=1,O=r.length-1)}while(--x>=-1);if(I=N.getReverseChanges(),L[0]){let F=g[0]+1,W=_[0]+1;if(I!==null&&I.length>0){const H=I[I.length-1];F=Math.max(F,H.getOriginalEnd()),W=Math.max(W,H.getModifiedEnd())}T=[new f.DiffChange(F,l-F+1,W,v-W+1)]}else{N=new w,A=c,O=m,M=g[0]-_[0]-u,R=1073741824,x=S?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const F=M+n;F===A||F<O&&a[F-1]>=a[F+1]?(h=a[F+1]-1,d=h-M-u,h>R&&N.MarkNextChange(),R=h+1,N.AddOriginalElement(h+1,d+1),M=F+1-n):(h=a[F-1],d=h-M-u,h>R&&N.MarkNextChange(),R=h,N.AddModifiedElement(h+1,d+1),M=F-1-n),x>=0&&(a=this.m_reverseHistory[x],n=a[0],A=1,O=a.length-1)}while(--x>=-1);T=N.getChanges()}return this.ConcatenateChanges(I,T)}ComputeRecursionPoint(o,s,i,t,n,c,m){let u=0,r=0,a=0,h=0,l=0,g=0;o--,i--,n[0]=0,c[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const d=s-o+(t-i),v=d+1,_=new Int32Array(v),S=new Int32Array(v),L=t-i,I=s-o,T=o-i,N=s-t,O=(I-L)%2===0;_[L]=o,S[I]=s,m[0]=!1;for(let M=1;M<=d/2+1;M++){let R=0,x=0;a=this.ClipDiagonalBound(L-M,M,L,v),h=this.ClipDiagonalBound(L+M,M,L,v);for(let W=a;W<=h;W+=2){W===a||W<h&&_[W-1]<_[W+1]?u=_[W+1]:u=_[W-1]+1,r=u-(W-L)-T;const H=u;for(;u<s&&r<t&&this.ElementsAreEqual(u+1,r+1);)u++,r++;if(_[W]=u,u+r>R+x&&(R=u,x=r),!O&&Math.abs(W-I)<=M-1&&u>=S[W])return n[0]=u,c[0]=r,H<=S[W]&&1447>0&&M<=1448?this.WALKTRACE(L,a,h,T,I,l,g,N,_,S,u,s,n,r,t,c,O,m):null}const F=(R-o+(x-i)-M)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(R,F))return m[0]=!0,n[0]=R,c[0]=x,F>0&&1447>0&&M<=1448?this.WALKTRACE(L,a,h,T,I,l,g,N,_,S,u,s,n,r,t,c,O,m):(o++,i++,[new f.DiffChange(o,s-o+1,i,t-i+1)]);l=this.ClipDiagonalBound(I-M,M,I,v),g=this.ClipDiagonalBound(I+M,M,I,v);for(let W=l;W<=g;W+=2){W===l||W<g&&S[W-1]>=S[W+1]?u=S[W+1]-1:u=S[W-1],r=u-(W-I)-N;const H=u;for(;u>o&&r>i&&this.ElementsAreEqual(u,r);)u--,r--;if(S[W]=u,O&&Math.abs(W-L)<=M&&u<=_[W])return n[0]=u,c[0]=r,H>=_[W]&&1447>0&&M<=1448?this.WALKTRACE(L,a,h,T,I,l,g,N,_,S,u,s,n,r,t,c,O,m):null}if(M<=1447){let W=new Int32Array(h-a+2);W[0]=L-a+1,p.Copy2(_,a,W,1,h-a+1),this.m_forwardHistory.push(W),W=new Int32Array(g-l+2),W[0]=I-l+1,p.Copy2(S,l,W,1,g-l+1),this.m_reverseHistory.push(W)}}return this.WALKTRACE(L,a,h,T,I,l,g,N,_,S,u,s,n,r,t,c,O,m)}PrettifyChanges(o){for(let s=0;s<o.length;s++){const i=o[s],t=s<o.length-1?o[s+1].originalStart:this._originalElementsOrHash.length,n=s<o.length-1?o[s+1].modifiedStart:this._modifiedElementsOrHash.length,c=i.originalLength>0,m=i.modifiedLength>0;for(;i.originalStart+i.originalLength<t&&i.modifiedStart+i.modifiedLength<n&&(!c||this.OriginalElementsAreEqual(i.originalStart,i.originalStart+i.originalLength))&&(!m||this.ModifiedElementsAreEqual(i.modifiedStart,i.modifiedStart+i.modifiedLength));){const r=this.ElementsAreStrictEqual(i.originalStart,i.modifiedStart);if(this.ElementsAreStrictEqual(i.originalStart+i.originalLength,i.modifiedStart+i.modifiedLength)&&!r)break;i.originalStart++,i.modifiedStart++}const u=[null];if(s<o.length-1&&this.ChangesOverlap(o[s],o[s+1],u)){o[s]=u[0],o.splice(s+1,1),s--;continue}}for(let s=o.length-1;s>=0;s--){const i=o[s];let t=0,n=0;if(s>0){const h=o[s-1];t=h.originalStart+h.originalLength,n=h.modifiedStart+h.modifiedLength}const c=i.originalLength>0,m=i.modifiedLength>0;let u=0,r=this._boundaryScore(i.originalStart,i.originalLength,i.modifiedStart,i.modifiedLength);for(let h=1;;h++){const l=i.originalStart-h,g=i.modifiedStart-h;if(l<t||g<n||c&&!this.OriginalElementsAreEqual(l,l+i.originalLength)||m&&!this.ModifiedElementsAreEqual(g,g+i.modifiedLength))break;const v=(l===t&&g===n?5:0)+this._boundaryScore(l,i.originalLength,g,i.modifiedLength);v>r&&(r=v,u=h)}i.originalStart-=u,i.modifiedStart-=u;const a=[null];if(s>0&&this.ChangesOverlap(o[s-1],o[s],a)){o[s-1]=a[0],o.splice(s,1),s++;continue}}if(this._hasStrings)for(let s=1,i=o.length;s<i;s++){const t=o[s-1],n=o[s],c=n.originalStart-t.originalStart-t.originalLength,m=t.originalStart,u=n.originalStart+n.originalLength,r=u-m,a=t.modifiedStart,h=n.modifiedStart+n.modifiedLength,l=h-a;if(c<5&&r<20&&l<20){const g=this._findBetterContiguousSequence(m,r,a,l,c);if(g){const[d,v]=g;(d!==t.originalStart+t.originalLength||v!==t.modifiedStart+t.modifiedLength)&&(t.originalLength=d-t.originalStart,t.modifiedLength=v-t.modifiedStart,n.originalStart=d+c,n.modifiedStart=v+c,n.originalLength=u-n.originalStart,n.modifiedLength=h-n.modifiedStart)}}}return o}_findBetterContiguousSequence(o,s,i,t,n){if(s<n||t<n)return null;const c=o+s-n+1,m=i+t-n+1;let u=0,r=0,a=0;for(let h=o;h<c;h++)for(let l=i;l<m;l++){const g=this._contiguousSequenceScore(h,l,n);g>0&&g>u&&(u=g,r=h,a=l)}return u>0?[r,a]:null}_contiguousSequenceScore(o,s,i){let t=0;for(let n=0;n<i;n++){if(!this.ElementsAreEqual(o+n,s+n))return 0;t+=this._originalStringElements[o+n].length}return t}_OriginalIsBoundary(o){return o<=0||o>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[o])}_OriginalRegionIsBoundary(o,s){if(this._OriginalIsBoundary(o)||this._OriginalIsBoundary(o-1))return!0;if(s>0){const i=o+s;if(this._OriginalIsBoundary(i-1)||this._OriginalIsBoundary(i))return!0}return!1}_ModifiedIsBoundary(o){return o<=0||o>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[o])}_ModifiedRegionIsBoundary(o,s){if(this._ModifiedIsBoundary(o)||this._ModifiedIsBoundary(o-1))return!0;if(s>0){const i=o+s;if(this._ModifiedIsBoundary(i-1)||this._ModifiedIsBoundary(i))return!0}return!1}_boundaryScore(o,s,i,t){const n=this._OriginalRegionIsBoundary(o,s)?1:0,c=this._ModifiedRegionIsBoundary(i,t)?1:0;return n+c}ConcatenateChanges(o,s){const i=[];if(o.length===0||s.length===0)return s.length>0?s:o;if(this.ChangesOverlap(o[o.length-1],s[0],i)){const t=new Array(o.length+s.length-1);return p.Copy(o,0,t,0,o.length-1),t[o.length-1]=i[0],p.Copy(s,1,t,o.length,s.length-1),t}else{const t=new Array(o.length+s.length);return p.Copy(o,0,t,0,o.length),p.Copy(s,0,t,o.length,s.length),t}}ChangesOverlap(o,s,i){if(y.Assert(o.originalStart<=s.originalStart,"Left change is not less than or equal to right change"),y.Assert(o.modifiedStart<=s.modifiedStart,"Left change is not less than or equal to right change"),o.originalStart+o.originalLength>=s.originalStart||o.modifiedStart+o.modifiedLength>=s.modifiedStart){const t=o.originalStart;let n=o.originalLength;const c=o.modifiedStart;let m=o.modifiedLength;return o.originalStart+o.originalLength>=s.originalStart&&(n=s.originalStart+s.originalLength-o.originalStart),o.modifiedStart+o.modifiedLength>=s.modifiedStart&&(m=s.modifiedStart+s.modifiedLength-o.modifiedStart),i[0]=new f.DiffChange(t,n,c,m),!0}else return i[0]=null,!1}ClipDiagonalBound(o,s,i,t){if(o>=0&&o<t)return o;const n=i,c=t-i-1,m=s%2===0;if(o<0){const u=n%2===0;return m===u?0:1}else{const u=c%2===0;return m===u?t-1:t-2}}}e.LcsDiff=b}),define(ie[434],ne([1,0,12]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.buildReplaceStringWithCasePreserved=k;function k(y,p){if(y&&y[0]!==""){const w=E(y,p,"-"),b=E(y,p,"_");return w&&!b?D(y,p,"-"):!w&&b?D(y,p,"_"):y[0].toUpperCase()===y[0]?p.toUpperCase():y[0].toLowerCase()===y[0]?p.toLowerCase():f.containsUppercaseCharacter(y[0][0])&&p.length>0?p[0].toUpperCase()+p.substr(1):y[0][0].toUpperCase()!==y[0][0]&&p.length>0?p[0].toLowerCase()+p.substr(1):p}else return p}function E(y,p,w){return y[0].indexOf(w)!==-1&&p.indexOf(w)!==-1&&y[0].split(w).length===p.split(w).length}function D(y,p,w){const b=p.split(w),C=y[0].split(w);let o="";return b.forEach((s,i)=>{o+=k([C[i]],s)+w}),o.slice(0,-1)}}),define(ie[107],ne([1,0,12]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var k;(function(E){E[E.Ignore=0]="Ignore",E[E.Info=1]="Info",E[E.Warning=2]="Warning",E[E.Error=3]="Error"})(k||(k={})),function(E){const D="error",y="warning",p="warn",w="info",b="ignore";function C(s){return s?f.equalsIgnoreCase(D,s)?E.Error:f.equalsIgnoreCase(y,s)||f.equalsIgnoreCase(p,s)?E.Warning:f.equalsIgnoreCase(w,s)?E.Info:E.Ignore:E.Ignore}E.fromValue=C;function o(s){switch(s){case E.Error:return D;case E.Warning:return y;case E.Info:return w;default:return b}}E.toString=o}(k||(k={})),e.default=k}),define(ie[293],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MicrotaskDelay=void 0,e.MicrotaskDelay=Symbol("MicrotaskDelay")}),define(ie[218],ne([1,0,12]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TernarySearchTree=e.UriIterator=e.PathIterator=e.ConfigKeysIterator=e.StringIterator=void 0;class k{constructor(){this._value="",this._pos=0}reset(C){return this._value=C,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(C){const o=C.charCodeAt(0),s=this._value.charCodeAt(this._pos);return o-s}value(){return this._value[this._pos]}}e.StringIterator=k;class E{constructor(C=!0){this._caseSensitive=C}reset(C){return this._value=C,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let C=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(C)this._from++;else break;else C=!1;return this}cmp(C){return this._caseSensitive?(0,f.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.ConfigKeysIterator=E;class D{constructor(C=!0,o=!0){this._splitOnBackslash=C,this._caseSensitive=o}reset(C){this._from=0,this._to=0,this._value=C,this._valueLen=C.length;for(let o=C.length-1;o>=0;o--,this._valueLen--){const s=this._value.charCodeAt(o);if(!(s===47||this._splitOnBackslash&&s===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let C=!0;for(;this._to<this._valueLen;this._to++){const o=this._value.charCodeAt(this._to);if(o===47||this._splitOnBackslash&&o===92)if(C)this._from++;else break;else C=!1}return this}cmp(C){return this._caseSensitive?(0,f.compareSubstring)(C,this._value,0,C.length,this._from,this._to):(0,f.compareSubstringIgnoreCase)(C,this._value,0,C.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}e.PathIterator=D;class y{constructor(C,o){this._ignorePathCasing=C,this._ignoreQueryAndFragment=o,this._states=[],this._stateIdx=0}reset(C){return this._value=C,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new D(!1,!this._ignorePathCasing(C)),this._pathIterator.reset(C.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(C)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(C){if(this._states[this._stateIdx]===1)return(0,f.compareIgnoreCase)(C,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,f.compareIgnoreCase)(C,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(C);if(this._states[this._stateIdx]===4)return(0,f.compare)(C,this._value.query);if(this._states[this._stateIdx]===5)return(0,f.compare)(C,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}e.UriIterator=y;class p{constructor(){this.height=1}rotateLeft(){const C=this.right;return this.right=C.left,C.left=this,this.updateHeight(),C.updateHeight(),C}rotateRight(){const C=this.left;return this.left=C.right,C.right=this,this.updateHeight(),C.updateHeight(),C}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var C,o;return(o=(C=this.left)===null||C===void 0?void 0:C.height)!==null&&o!==void 0?o:0}get heightRight(){var C,o;return(o=(C=this.right)===null||C===void 0?void 0:C.height)!==null&&o!==void 0?o:0}}class w{static forUris(C=()=>!1,o=()=>!1){return new w(new y(C,o))}static forStrings(){return new w(new k)}static forConfigKeys(){return new w(new E)}constructor(C){this._iter=C}clear(){this._root=void 0}set(C,o){const s=this._iter.reset(C);let i;this._root||(this._root=new p,this._root.segment=s.value());const t=[];for(i=this._root;;){const c=s.cmp(i.segment);if(c>0)i.left||(i.left=new p,i.left.segment=s.value()),t.push([-1,i]),i=i.left;else if(c<0)i.right||(i.right=new p,i.right.segment=s.value()),t.push([1,i]),i=i.right;else if(s.hasNext())s.next(),i.mid||(i.mid=new p,i.mid.segment=s.value()),t.push([0,i]),i=i.mid;else break}const n=i.value;i.value=o,i.key=C;for(let c=t.length-1;c>=0;c--){const m=t[c][1];m.updateHeight();const u=m.balanceFactor();if(u<-1||u>1){const r=t[c][0],a=t[c+1][0];if(r===1&&a===1)t[c][1]=m.rotateLeft();else if(r===-1&&a===-1)t[c][1]=m.rotateRight();else if(r===1&&a===-1)m.right=t[c+1][1]=t[c+1][1].rotateRight(),t[c][1]=m.rotateLeft();else if(r===-1&&a===1)m.left=t[c+1][1]=t[c+1][1].rotateLeft(),t[c][1]=m.rotateRight();else throw new Error;if(c>0)switch(t[c-1][0]){case-1:t[c-1][1].left=t[c][1];break;case 1:t[c-1][1].right=t[c][1];break;case 0:t[c-1][1].mid=t[c][1];break}else this._root=t[0][1]}}return n}get(C){var o;return(o=this._getNode(C))===null||o===void 0?void 0:o.value}_getNode(C){const o=this._iter.reset(C);let s=this._root;for(;s;){const i=o.cmp(s.segment);if(i>0)s=s.left;else if(i<0)s=s.right;else if(o.hasNext())o.next(),s=s.mid;else break}return s}has(C){const o=this._getNode(C);return!(o?.value===void 0&&o?.mid===void 0)}delete(C){return this._delete(C,!1)}deleteSuperstr(C){return this._delete(C,!0)}_delete(C,o){var s;const i=this._iter.reset(C),t=[];let n=this._root;for(;n;){const c=i.cmp(n.segment);if(c>0)t.push([-1,n]),n=n.left;else if(c<0)t.push([1,n]),n=n.right;else if(i.hasNext())i.next(),t.push([0,n]),n=n.mid;else break}if(n){if(o?(n.left=void 0,n.mid=void 0,n.right=void 0,n.height=1):(n.key=void 0,n.value=void 0),!n.mid&&!n.value)if(n.left&&n.right){const c=this._min(n.right);if(c.key){const{key:m,value:u,segment:r}=c;this._delete(c.key,!1),n.key=m,n.value=u,n.segment=r}}else{const c=(s=n.left)!==null&&s!==void 0?s:n.right;if(t.length>0){const[m,u]=t[t.length-1];switch(m){case-1:u.left=c;break;case 0:u.mid=c;break;case 1:u.right=c;break}}else this._root=c}for(let c=t.length-1;c>=0;c--){const m=t[c][1];m.updateHeight();const u=m.balanceFactor();if(u>1?(m.right.balanceFactor()>=0||(m.right=m.right.rotateRight()),t[c][1]=m.rotateLeft()):u<-1&&(m.left.balanceFactor()<=0||(m.left=m.left.rotateLeft()),t[c][1]=m.rotateRight()),c>0)switch(t[c-1][0]){case-1:t[c-1][1].left=t[c][1];break;case 1:t[c-1][1].right=t[c][1];break;case 0:t[c-1][1].mid=t[c][1];break}else this._root=t[0][1]}}}_min(C){for(;C.left;)C=C.left;return C}findSubstr(C){const o=this._iter.reset(C);let s=this._root,i;for(;s;){const t=o.cmp(s.segment);if(t>0)s=s.left;else if(t<0)s=s.right;else if(o.hasNext())o.next(),i=s.value||i,s=s.mid;else break}return s&&s.value||i}findSuperstr(C){return this._findSuperstrOrElement(C,!1)}_findSuperstrOrElement(C,o){const s=this._iter.reset(C);let i=this._root;for(;i;){const t=s.cmp(i.segment);if(t>0)i=i.left;else if(t<0)i=i.right;else if(s.hasNext())s.next(),i=i.mid;else return i.mid?this._entries(i.mid):o?i.value:void 0}}forEach(C){for(const[o,s]of this)C(s,o)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(C){const o=[];return this._dfsEntries(C,o),o[Symbol.iterator]()}_dfsEntries(C,o){C&&(C.left&&this._dfsEntries(C.left,o),C.value&&o.push([C.key,C.value]),C.mid&&this._dfsEntries(C.mid,o),C.right&&this._dfsEntries(C.right,o))}}e.TernarySearchTree=w}),define(ie[435],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TfIdfCalculator=void 0,e.normalizeTfIdfScores=E;function f(D){var y;const p=new Map;for(const w of D)p.set(w,((y=p.get(w))!==null&&y!==void 0?y:0)+1);return p}class k{constructor(){this.chunkCount=0,this.chunkOccurrences=new Map,this.documents=new Map}calculateScores(y,p){const w=this.computeEmbedding(y),b=new Map,C=[];for(const[o,s]of this.documents){if(p.isCancellationRequested)return[];for(const i of s.chunks){const t=this.computeSimilarityScore(i,w,b);t>0&&C.push({key:o,score:t})}}return C}static termFrequencies(y){return f(k.splitTerms(y))}static*splitTerms(y){const p=w=>w.toLowerCase();for(const[w]of y.matchAll(/\b\p{Letter}[\p{Letter}\d]{2,}\b/gu)){yield p(w);const b=w.replace(/([a-z])([A-Z])/g,"$1 $2").split(/\s+/g);if(b.length>1)for(const C of b)C.length>2&&/\p{Letter}{3,}/gu.test(C)&&(yield p(C))}}updateDocuments(y){var p;for(const{key:w}of y)this.deleteDocument(w);for(const w of y){const b=[];for(const C of w.textChunks){const o=k.termFrequencies(C);for(const s of o.keys())this.chunkOccurrences.set(s,((p=this.chunkOccurrences.get(s))!==null&&p!==void 0?p:0)+1);b.push({text:C,tf:o})}this.chunkCount+=b.length,this.documents.set(w.key,{chunks:b})}return this}deleteDocument(y){const p=this.documents.get(y);if(p){this.documents.delete(y),this.chunkCount-=p.chunks.length;for(const w of p.chunks)for(const b of w.tf.keys()){const C=this.chunkOccurrences.get(b);if(typeof C=="number"){const o=C-1;o<=0?this.chunkOccurrences.delete(b):this.chunkOccurrences.set(b,o)}}}}computeSimilarityScore(y,p,w){let b=0;for(const[C,o]of Object.entries(p)){const s=y.tf.get(C);if(!s)continue;let i=w.get(C);typeof i!="number"&&(i=this.computeIdf(C),w.set(C,i));const t=s*i;b+=t*o}return b}computeEmbedding(y){const p=k.termFrequencies(y);return this.computeTfidf(p)}computeIdf(y){var p;const w=(p=this.chunkOccurrences.get(y))!==null&&p!==void 0?p:0;return w>0?Math.log((this.chunkCount+1)/w):0}computeTfidf(y){const p=Object.create(null);for(const[w,b]of y){const C=this.computeIdf(w);C>0&&(p[w]=b*C)}return p}}e.TfIdfCalculator=k;function E(D){var y,p;const w=D.slice(0);w.sort((C,o)=>o.score-C.score);const b=(p=(y=w[0])===null||y===void 0?void 0:y.score)!==null&&p!==void 0?p:0;if(b>0)for(const C of w)C.score/=b;return w}}),define(ie[20],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isString=f,e.isObject=k,e.isTypedArray=E,e.isNumber=D,e.isIterable=y,e.isBoolean=p,e.isUndefined=w,e.isDefined=b,e.isUndefinedOrNull=C,e.assertType=o,e.assertIsDefined=s,e.isFunction=i,e.validateConstraints=t,e.validateConstraint=n;function f(c){return typeof c=="string"}function k(c){return typeof c=="object"&&c!==null&&!Array.isArray(c)&&!(c instanceof RegExp)&&!(c instanceof Date)}function E(c){const m=Object.getPrototypeOf(Uint8Array);return typeof c=="object"&&c instanceof m}function D(c){return typeof c=="number"&&!isNaN(c)}function y(c){return!!c&&typeof c[Symbol.iterator]=="function"}function p(c){return c===!0||c===!1}function w(c){return typeof c>"u"}function b(c){return!C(c)}function C(c){return w(c)||c===null}function o(c,m){if(!c)throw new Error(m?`Unexpected type, expected '${m}'`:"Unexpected type")}function s(c){if(C(c))throw new Error("Assertion Failed: argument is undefined or null");return c}function i(c){return typeof c=="function"}function t(c,m){const u=Math.min(c.length,m.length);for(let r=0;r<u;r++)n(c[r],m[r])}function n(c,m){if(f(m)){if(typeof c!==m)throw new Error(`argument does not match constraint: typeof ${m}`)}else if(i(m)){try{if(c instanceof m)return}catch{}if(!C(c)&&c.constructor===m||m.length===1&&m.call(void 0,c)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}}),define(ie[186],ne([1,0,20]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.register=E,e.getCodiconFontCharacters=D;const k=Object.create(null);function E(y,p){if((0,f.isString)(p)){const w=k[p];if(w===void 0)throw new Error(`${y} references an unknown codicon: ${p}`);p=w}return k[y]=p,{id:y}}function D(){return k}}),define(ie[436],ne([1,0,186]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.codiconsLibrary=void 0,e.codiconsLibrary={add:(0,f.register)("add",6e4),plus:(0,f.register)("plus",6e4),gistNew:(0,f.register)("gist-new",6e4),repoCreate:(0,f.register)("repo-create",6e4),lightbulb:(0,f.register)("lightbulb",60001),lightBulb:(0,f.register)("light-bulb",60001),repo:(0,f.register)("repo",60002),repoDelete:(0,f.register)("repo-delete",60002),gistFork:(0,f.register)("gist-fork",60003),repoForked:(0,f.register)("repo-forked",60003),gitPullRequest:(0,f.register)("git-pull-request",60004),gitPullRequestAbandoned:(0,f.register)("git-pull-request-abandoned",60004),recordKeys:(0,f.register)("record-keys",60005),keyboard:(0,f.register)("keyboard",60005),tag:(0,f.register)("tag",60006),gitPullRequestLabel:(0,f.register)("git-pull-request-label",60006),tagAdd:(0,f.register)("tag-add",60006),tagRemove:(0,f.register)("tag-remove",60006),person:(0,f.register)("person",60007),personFollow:(0,f.register)("person-follow",60007),personOutline:(0,f.register)("person-outline",60007),personFilled:(0,f.register)("person-filled",60007),gitBranch:(0,f.register)("git-branch",60008),gitBranchCreate:(0,f.register)("git-branch-create",60008),gitBranchDelete:(0,f.register)("git-branch-delete",60008),sourceControl:(0,f.register)("source-control",60008),mirror:(0,f.register)("mirror",60009),mirrorPublic:(0,f.register)("mirror-public",60009),star:(0,f.register)("star",60010),starAdd:(0,f.register)("star-add",60010),starDelete:(0,f.register)("star-delete",60010),starEmpty:(0,f.register)("star-empty",60010),comment:(0,f.register)("comment",60011),commentAdd:(0,f.register)("comment-add",60011),alert:(0,f.register)("alert",60012),warning:(0,f.register)("warning",60012),search:(0,f.register)("search",60013),searchSave:(0,f.register)("search-save",60013),logOut:(0,f.register)("log-out",60014),signOut:(0,f.register)("sign-out",60014),logIn:(0,f.register)("log-in",60015),signIn:(0,f.register)("sign-in",60015),eye:(0,f.register)("eye",60016),eyeUnwatch:(0,f.register)("eye-unwatch",60016),eyeWatch:(0,f.register)("eye-watch",60016),circleFilled:(0,f.register)("circle-filled",60017),primitiveDot:(0,f.register)("primitive-dot",60017),closeDirty:(0,f.register)("close-dirty",60017),debugBreakpoint:(0,f.register)("debug-breakpoint",60017),debugBreakpointDisabled:(0,f.register)("debug-breakpoint-disabled",60017),debugHint:(0,f.register)("debug-hint",60017),terminalDecorationSuccess:(0,f.register)("terminal-decoration-success",60017),primitiveSquare:(0,f.register)("primitive-square",60018),edit:(0,f.register)("edit",60019),pencil:(0,f.register)("pencil",60019),info:(0,f.register)("info",60020),issueOpened:(0,f.register)("issue-opened",60020),gistPrivate:(0,f.register)("gist-private",60021),gitForkPrivate:(0,f.register)("git-fork-private",60021),lock:(0,f.register)("lock",60021),mirrorPrivate:(0,f.register)("mirror-private",60021),close:(0,f.register)("close",60022),removeClose:(0,f.register)("remove-close",60022),x:(0,f.register)("x",60022),repoSync:(0,f.register)("repo-sync",60023),sync:(0,f.register)("sync",60023),clone:(0,f.register)("clone",60024),desktopDownload:(0,f.register)("desktop-download",60024),beaker:(0,f.register)("beaker",60025),microscope:(0,f.register)("microscope",60025),vm:(0,f.register)("vm",60026),deviceDesktop:(0,f.register)("device-desktop",60026),file:(0,f.register)("file",60027),fileText:(0,f.register)("file-text",60027),more:(0,f.register)("more",60028),ellipsis:(0,f.register)("ellipsis",60028),kebabHorizontal:(0,f.register)("kebab-horizontal",60028),mailReply:(0,f.register)("mail-reply",60029),reply:(0,f.register)("reply",60029),organization:(0,f.register)("organization",60030),organizationFilled:(0,f.register)("organization-filled",60030),organizationOutline:(0,f.register)("organization-outline",60030),newFile:(0,f.register)("new-file",60031),fileAdd:(0,f.register)("file-add",60031),newFolder:(0,f.register)("new-folder",60032),fileDirectoryCreate:(0,f.register)("file-directory-create",60032),trash:(0,f.register)("trash",60033),trashcan:(0,f.register)("trashcan",60033),history:(0,f.register)("history",60034),clock:(0,f.register)("clock",60034),folder:(0,f.register)("folder",60035),fileDirectory:(0,f.register)("file-directory",60035),symbolFolder:(0,f.register)("symbol-folder",60035),logoGithub:(0,f.register)("logo-github",60036),markGithub:(0,f.register)("mark-github",60036),github:(0,f.register)("github",60036),terminal:(0,f.register)("terminal",60037),console:(0,f.register)("console",60037),repl:(0,f.register)("repl",60037),zap:(0,f.register)("zap",60038),symbolEvent:(0,f.register)("symbol-event",60038),error:(0,f.register)("error",60039),stop:(0,f.register)("stop",60039),variable:(0,f.register)("variable",60040),symbolVariable:(0,f.register)("symbol-variable",60040),array:(0,f.register)("array",60042),symbolArray:(0,f.register)("symbol-array",60042),symbolModule:(0,f.register)("symbol-module",60043),symbolPackage:(0,f.register)("symbol-package",60043),symbolNamespace:(0,f.register)("symbol-namespace",60043),symbolObject:(0,f.register)("symbol-object",60043),symbolMethod:(0,f.register)("symbol-method",60044),symbolFunction:(0,f.register)("symbol-function",60044),symbolConstructor:(0,f.register)("symbol-constructor",60044),symbolBoolean:(0,f.register)("symbol-boolean",60047),symbolNull:(0,f.register)("symbol-null",60047),symbolNumeric:(0,f.register)("symbol-numeric",60048),symbolNumber:(0,f.register)("symbol-number",60048),symbolStructure:(0,f.register)("symbol-structure",60049),symbolStruct:(0,f.register)("symbol-struct",60049),symbolParameter:(0,f.register)("symbol-parameter",60050),symbolTypeParameter:(0,f.register)("symbol-type-parameter",60050),symbolKey:(0,f.register)("symbol-key",60051),symbolText:(0,f.register)("symbol-text",60051),symbolReference:(0,f.register)("symbol-reference",60052),goToFile:(0,f.register)("go-to-file",60052),symbolEnum:(0,f.register)("symbol-enum",60053),symbolValue:(0,f.register)("symbol-value",60053),symbolRuler:(0,f.register)("symbol-ruler",60054),symbolUnit:(0,f.register)("symbol-unit",60054),activateBreakpoints:(0,f.register)("activate-breakpoints",60055),archive:(0,f.register)("archive",60056),arrowBoth:(0,f.register)("arrow-both",60057),arrowDown:(0,f.register)("arrow-down",60058),arrowLeft:(0,f.register)("arrow-left",60059),arrowRight:(0,f.register)("arrow-right",60060),arrowSmallDown:(0,f.register)("arrow-small-down",60061),arrowSmallLeft:(0,f.register)("arrow-small-left",60062),arrowSmallRight:(0,f.register)("arrow-small-right",60063),arrowSmallUp:(0,f.register)("arrow-small-up",60064),arrowUp:(0,f.register)("arrow-up",60065),bell:(0,f.register)("bell",60066),bold:(0,f.register)("bold",60067),book:(0,f.register)("book",60068),bookmark:(0,f.register)("bookmark",60069),debugBreakpointConditionalUnverified:(0,f.register)("debug-breakpoint-conditional-unverified",60070),debugBreakpointConditional:(0,f.register)("debug-breakpoint-conditional",60071),debugBreakpointConditionalDisabled:(0,f.register)("debug-breakpoint-conditional-disabled",60071),debugBreakpointDataUnverified:(0,f.register)("debug-breakpoint-data-unverified",60072),debugBreakpointData:(0,f.register)("debug-breakpoint-data",60073),debugBreakpointDataDisabled:(0,f.register)("debug-breakpoint-data-disabled",60073),debugBreakpointLogUnverified:(0,f.register)("debug-breakpoint-log-unverified",60074),debugBreakpointLog:(0,f.register)("debug-breakpoint-log",60075),debugBreakpointLogDisabled:(0,f.register)("debug-breakpoint-log-disabled",60075),briefcase:(0,f.register)("briefcase",60076),broadcast:(0,f.register)("broadcast",60077),browser:(0,f.register)("browser",60078),bug:(0,f.register)("bug",60079),calendar:(0,f.register)("calendar",60080),caseSensitive:(0,f.register)("case-sensitive",60081),check:(0,f.register)("check",60082),checklist:(0,f.register)("checklist",60083),chevronDown:(0,f.register)("chevron-down",60084),chevronLeft:(0,f.register)("chevron-left",60085),chevronRight:(0,f.register)("chevron-right",60086),chevronUp:(0,f.register)("chevron-up",60087),chromeClose:(0,f.register)("chrome-close",60088),chromeMaximize:(0,f.register)("chrome-maximize",60089),chromeMinimize:(0,f.register)("chrome-minimize",60090),chromeRestore:(0,f.register)("chrome-restore",60091),circleOutline:(0,f.register)("circle-outline",60092),circle:(0,f.register)("circle",60092),debugBreakpointUnverified:(0,f.register)("debug-breakpoint-unverified",60092),terminalDecorationIncomplete:(0,f.register)("terminal-decoration-incomplete",60092),circleSlash:(0,f.register)("circle-slash",60093),circuitBoard:(0,f.register)("circuit-board",60094),clearAll:(0,f.register)("clear-all",60095),clippy:(0,f.register)("clippy",60096),closeAll:(0,f.register)("close-all",60097),cloudDownload:(0,f.register)("cloud-download",60098),cloudUpload:(0,f.register)("cloud-upload",60099),code:(0,f.register)("code",60100),collapseAll:(0,f.register)("collapse-all",60101),colorMode:(0,f.register)("color-mode",60102),commentDiscussion:(0,f.register)("comment-discussion",60103),creditCard:(0,f.register)("credit-card",60105),dash:(0,f.register)("dash",60108),dashboard:(0,f.register)("dashboard",60109),database:(0,f.register)("database",60110),debugContinue:(0,f.register)("debug-continue",60111),debugDisconnect:(0,f.register)("debug-disconnect",60112),debugPause:(0,f.register)("debug-pause",60113),debugRestart:(0,f.register)("debug-restart",60114),debugStart:(0,f.register)("debug-start",60115),debugStepInto:(0,f.register)("debug-step-into",60116),debugStepOut:(0,f.register)("debug-step-out",60117),debugStepOver:(0,f.register)("debug-step-over",60118),debugStop:(0,f.register)("debug-stop",60119),debug:(0,f.register)("debug",60120),deviceCameraVideo:(0,f.register)("device-camera-video",60121),deviceCamera:(0,f.register)("device-camera",60122),deviceMobile:(0,f.register)("device-mobile",60123),diffAdded:(0,f.register)("diff-added",60124),diffIgnored:(0,f.register)("diff-ignored",60125),diffModified:(0,f.register)("diff-modified",60126),diffRemoved:(0,f.register)("diff-removed",60127),diffRenamed:(0,f.register)("diff-renamed",60128),diff:(0,f.register)("diff",60129),diffSidebyside:(0,f.register)("diff-sidebyside",60129),discard:(0,f.register)("discard",60130),editorLayout:(0,f.register)("editor-layout",60131),emptyWindow:(0,f.register)("empty-window",60132),exclude:(0,f.register)("exclude",60133),extensions:(0,f.register)("extensions",60134),eyeClosed:(0,f.register)("eye-closed",60135),fileBinary:(0,f.register)("file-binary",60136),fileCode:(0,f.register)("file-code",60137),fileMedia:(0,f.register)("file-media",60138),filePdf:(0,f.register)("file-pdf",60139),fileSubmodule:(0,f.register)("file-submodule",60140),fileSymlinkDirectory:(0,f.register)("file-symlink-directory",60141),fileSymlinkFile:(0,f.register)("file-symlink-file",60142),fileZip:(0,f.register)("file-zip",60143),files:(0,f.register)("files",60144),filter:(0,f.register)("filter",60145),flame:(0,f.register)("flame",60146),foldDown:(0,f.register)("fold-down",60147),foldUp:(0,f.register)("fold-up",60148),fold:(0,f.register)("fold",60149),folderActive:(0,f.register)("folder-active",60150),folderOpened:(0,f.register)("folder-opened",60151),gear:(0,f.register)("gear",60152),gift:(0,f.register)("gift",60153),gistSecret:(0,f.register)("gist-secret",60154),gist:(0,f.register)("gist",60155),gitCommit:(0,f.register)("git-commit",60156),gitCompare:(0,f.register)("git-compare",60157),compareChanges:(0,f.register)("compare-changes",60157),gitMerge:(0,f.register)("git-merge",60158),githubAction:(0,f.register)("github-action",60159),githubAlt:(0,f.register)("github-alt",60160),globe:(0,f.register)("globe",60161),grabber:(0,f.register)("grabber",60162),graph:(0,f.register)("graph",60163),gripper:(0,f.register)("gripper",60164),heart:(0,f.register)("heart",60165),home:(0,f.register)("home",60166),horizontalRule:(0,f.register)("horizontal-rule",60167),hubot:(0,f.register)("hubot",60168),inbox:(0,f.register)("inbox",60169),issueReopened:(0,f.register)("issue-reopened",60171),issues:(0,f.register)("issues",60172),italic:(0,f.register)("italic",60173),jersey:(0,f.register)("jersey",60174),json:(0,f.register)("json",60175),kebabVertical:(0,f.register)("kebab-vertical",60176),key:(0,f.register)("key",60177),law:(0,f.register)("law",60178),lightbulbAutofix:(0,f.register)("lightbulb-autofix",60179),linkExternal:(0,f.register)("link-external",60180),link:(0,f.register)("link",60181),listOrdered:(0,f.register)("list-ordered",60182),listUnordered:(0,f.register)("list-unordered",60183),liveShare:(0,f.register)("live-share",60184),loading:(0,f.register)("loading",60185),location:(0,f.register)("location",60186),mailRead:(0,f.register)("mail-read",60187),mail:(0,f.register)("mail",60188),markdown:(0,f.register)("markdown",60189),megaphone:(0,f.register)("megaphone",60190),mention:(0,f.register)("mention",60191),milestone:(0,f.register)("milestone",60192),gitPullRequestMilestone:(0,f.register)("git-pull-request-milestone",60192),mortarBoard:(0,f.register)("mortar-board",60193),move:(0,f.register)("move",60194),multipleWindows:(0,f.register)("multiple-windows",60195),mute:(0,f.register)("mute",60196),noNewline:(0,f.register)("no-newline",60197),note:(0,f.register)("note",60198),octoface:(0,f.register)("octoface",60199),openPreview:(0,f.register)("open-preview",60200),package:(0,f.register)("package",60201),paintcan:(0,f.register)("paintcan",60202),pin:(0,f.register)("pin",60203),play:(0,f.register)("play",60204),run:(0,f.register)("run",60204),plug:(0,f.register)("plug",60205),preserveCase:(0,f.register)("preserve-case",60206),preview:(0,f.register)("preview",60207),project:(0,f.register)("project",60208),pulse:(0,f.register)("pulse",60209),question:(0,f.register)("question",60210),quote:(0,f.register)("quote",60211),radioTower:(0,f.register)("radio-tower",60212),reactions:(0,f.register)("reactions",60213),references:(0,f.register)("references",60214),refresh:(0,f.register)("refresh",60215),regex:(0,f.register)("regex",60216),remoteExplorer:(0,f.register)("remote-explorer",60217),remote:(0,f.register)("remote",60218),remove:(0,f.register)("remove",60219),replaceAll:(0,f.register)("replace-all",60220),replace:(0,f.register)("replace",60221),repoClone:(0,f.register)("repo-clone",60222),repoForcePush:(0,f.register)("repo-force-push",60223),repoPull:(0,f.register)("repo-pull",60224),repoPush:(0,f.register)("repo-push",60225),report:(0,f.register)("report",60226),requestChanges:(0,f.register)("request-changes",60227),rocket:(0,f.register)("rocket",60228),rootFolderOpened:(0,f.register)("root-folder-opened",60229),rootFolder:(0,f.register)("root-folder",60230),rss:(0,f.register)("rss",60231),ruby:(0,f.register)("ruby",60232),saveAll:(0,f.register)("save-all",60233),saveAs:(0,f.register)("save-as",60234),save:(0,f.register)("save",60235),screenFull:(0,f.register)("screen-full",60236),screenNormal:(0,f.register)("screen-normal",60237),searchStop:(0,f.register)("search-stop",60238),server:(0,f.register)("server",60240),settingsGear:(0,f.register)("settings-gear",60241),settings:(0,f.register)("settings",60242),shield:(0,f.register)("shield",60243),smiley:(0,f.register)("smiley",60244),sortPrecedence:(0,f.register)("sort-precedence",60245),splitHorizontal:(0,f.register)("split-horizontal",60246),splitVertical:(0,f.register)("split-vertical",60247),squirrel:(0,f.register)("squirrel",60248),starFull:(0,f.register)("star-full",60249),starHalf:(0,f.register)("star-half",60250),symbolClass:(0,f.register)("symbol-class",60251),symbolColor:(0,f.register)("symbol-color",60252),symbolConstant:(0,f.register)("symbol-constant",60253),symbolEnumMember:(0,f.register)("symbol-enum-member",60254),symbolField:(0,f.register)("symbol-field",60255),symbolFile:(0,f.register)("symbol-file",60256),symbolInterface:(0,f.register)("symbol-interface",60257),symbolKeyword:(0,f.register)("symbol-keyword",60258),symbolMisc:(0,f.register)("symbol-misc",60259),symbolOperator:(0,f.register)("symbol-operator",60260),symbolProperty:(0,f.register)("symbol-property",60261),wrench:(0,f.register)("wrench",60261),wrenchSubaction:(0,f.register)("wrench-subaction",60261),symbolSnippet:(0,f.register)("symbol-snippet",60262),tasklist:(0,f.register)("tasklist",60263),telescope:(0,f.register)("telescope",60264),textSize:(0,f.register)("text-size",60265),threeBars:(0,f.register)("three-bars",60266),thumbsdown:(0,f.register)("thumbsdown",60267),thumbsup:(0,f.register)("thumbsup",60268),tools:(0,f.register)("tools",60269),triangleDown:(0,f.register)("triangle-down",60270),triangleLeft:(0,f.register)("triangle-left",60271),triangleRight:(0,f.register)("triangle-right",60272),triangleUp:(0,f.register)("triangle-up",60273),twitter:(0,f.register)("twitter",60274),unfold:(0,f.register)("unfold",60275),unlock:(0,f.register)("unlock",60276),unmute:(0,f.register)("unmute",60277),unverified:(0,f.register)("unverified",60278),verified:(0,f.register)("verified",60279),versions:(0,f.register)("versions",60280),vmActive:(0,f.register)("vm-active",60281),vmOutline:(0,f.register)("vm-outline",60282),vmRunning:(0,f.register)("vm-running",60283),watch:(0,f.register)("watch",60284),whitespace:(0,f.register)("whitespace",60285),wholeWord:(0,f.register)("whole-word",60286),window:(0,f.register)("window",60287),wordWrap:(0,f.register)("word-wrap",60288),zoomIn:(0,f.register)("zoom-in",60289),zoomOut:(0,f.register)("zoom-out",60290),listFilter:(0,f.register)("list-filter",60291),listFlat:(0,f.register)("list-flat",60292),listSelection:(0,f.register)("list-selection",60293),selection:(0,f.register)("selection",60293),listTree:(0,f.register)("list-tree",60294),debugBreakpointFunctionUnverified:(0,f.register)("debug-breakpoint-function-unverified",60295),debugBreakpointFunction:(0,f.register)("debug-breakpoint-function",60296),debugBreakpointFunctionDisabled:(0,f.register)("debug-breakpoint-function-disabled",60296),debugStackframeActive:(0,f.register)("debug-stackframe-active",60297),circleSmallFilled:(0,f.register)("circle-small-filled",60298),debugStackframeDot:(0,f.register)("debug-stackframe-dot",60298),terminalDecorationMark:(0,f.register)("terminal-decoration-mark",60298),debugStackframe:(0,f.register)("debug-stackframe",60299),debugStackframeFocused:(0,f.register)("debug-stackframe-focused",60299),debugBreakpointUnsupported:(0,f.register)("debug-breakpoint-unsupported",60300),symbolString:(0,f.register)("symbol-string",60301),debugReverseContinue:(0,f.register)("debug-reverse-continue",60302),debugStepBack:(0,f.register)("debug-step-back",60303),debugRestartFrame:(0,f.register)("debug-restart-frame",60304),debugAlt:(0,f.register)("debug-alt",60305),callIncoming:(0,f.register)("call-incoming",60306),callOutgoing:(0,f.register)("call-outgoing",60307),menu:(0,f.register)("menu",60308),expandAll:(0,f.register)("expand-all",60309),feedback:(0,f.register)("feedback",60310),gitPullRequestReviewer:(0,f.register)("git-pull-request-reviewer",60310),groupByRefType:(0,f.register)("group-by-ref-type",60311),ungroupByRefType:(0,f.register)("ungroup-by-ref-type",60312),account:(0,f.register)("account",60313),gitPullRequestAssignee:(0,f.register)("git-pull-request-assignee",60313),bellDot:(0,f.register)("bell-dot",60314),debugConsole:(0,f.register)("debug-console",60315),library:(0,f.register)("library",60316),output:(0,f.register)("output",60317),runAll:(0,f.register)("run-all",60318),syncIgnored:(0,f.register)("sync-ignored",60319),pinned:(0,f.register)("pinned",60320),githubInverted:(0,f.register)("github-inverted",60321),serverProcess:(0,f.register)("server-process",60322),serverEnvironment:(0,f.register)("server-environment",60323),pass:(0,f.register)("pass",60324),issueClosed:(0,f.register)("issue-closed",60324),stopCircle:(0,f.register)("stop-circle",60325),playCircle:(0,f.register)("play-circle",60326),record:(0,f.register)("record",60327),debugAltSmall:(0,f.register)("debug-alt-small",60328),vmConnect:(0,f.register)("vm-connect",60329),cloud:(0,f.register)("cloud",60330),merge:(0,f.register)("merge",60331),export:(0,f.register)("export",60332),graphLeft:(0,f.register)("graph-left",60333),magnet:(0,f.register)("magnet",60334),notebook:(0,f.register)("notebook",60335),redo:(0,f.register)("redo",60336),checkAll:(0,f.register)("check-all",60337),pinnedDirty:(0,f.register)("pinned-dirty",60338),passFilled:(0,f.register)("pass-filled",60339),circleLargeFilled:(0,f.register)("circle-large-filled",60340),circleLarge:(0,f.register)("circle-large",60341),circleLargeOutline:(0,f.register)("circle-large-outline",60341),combine:(0,f.register)("combine",60342),gather:(0,f.register)("gather",60342),table:(0,f.register)("table",60343),variableGroup:(0,f.register)("variable-group",60344),typeHierarchy:(0,f.register)("type-hierarchy",60345),typeHierarchySub:(0,f.register)("type-hierarchy-sub",60346),typeHierarchySuper:(0,f.register)("type-hierarchy-super",60347),gitPullRequestCreate:(0,f.register)("git-pull-request-create",60348),runAbove:(0,f.register)("run-above",60349),runBelow:(0,f.register)("run-below",60350),notebookTemplate:(0,f.register)("notebook-template",60351),debugRerun:(0,f.register)("debug-rerun",60352),workspaceTrusted:(0,f.register)("workspace-trusted",60353),workspaceUntrusted:(0,f.register)("workspace-untrusted",60354),workspaceUnknown:(0,f.register)("workspace-unknown",60355),terminalCmd:(0,f.register)("terminal-cmd",60356),terminalDebian:(0,f.register)("terminal-debian",60357),terminalLinux:(0,f.register)("terminal-linux",60358),terminalPowershell:(0,f.register)("terminal-powershell",60359),terminalTmux:(0,f.register)("terminal-tmux",60360),terminalUbuntu:(0,f.register)("terminal-ubuntu",60361),terminalBash:(0,f.register)("terminal-bash",60362),arrowSwap:(0,f.register)("arrow-swap",60363),copy:(0,f.register)("copy",60364),personAdd:(0,f.register)("person-add",60365),filterFilled:(0,f.register)("filter-filled",60366),wand:(0,f.register)("wand",60367),debugLineByLine:(0,f.register)("debug-line-by-line",60368),inspect:(0,f.register)("inspect",60369),layers:(0,f.register)("layers",60370),layersDot:(0,f.register)("layers-dot",60371),layersActive:(0,f.register)("layers-active",60372),compass:(0,f.register)("compass",60373),compassDot:(0,f.register)("compass-dot",60374),compassActive:(0,f.register)("compass-active",60375),azure:(0,f.register)("azure",60376),issueDraft:(0,f.register)("issue-draft",60377),gitPullRequestClosed:(0,f.register)("git-pull-request-closed",60378),gitPullRequestDraft:(0,f.register)("git-pull-request-draft",60379),debugAll:(0,f.register)("debug-all",60380),debugCoverage:(0,f.register)("debug-coverage",60381),runErrors:(0,f.register)("run-errors",60382),folderLibrary:(0,f.register)("folder-library",60383),debugContinueSmall:(0,f.register)("debug-continue-small",60384),beakerStop:(0,f.register)("beaker-stop",60385),graphLine:(0,f.register)("graph-line",60386),graphScatter:(0,f.register)("graph-scatter",60387),pieChart:(0,f.register)("pie-chart",60388),bracket:(0,f.register)("bracket",60175),bracketDot:(0,f.register)("bracket-dot",60389),bracketError:(0,f.register)("bracket-error",60390),lockSmall:(0,f.register)("lock-small",60391),azureDevops:(0,f.register)("azure-devops",60392),verifiedFilled:(0,f.register)("verified-filled",60393),newline:(0,f.register)("newline",60394),layout:(0,f.register)("layout",60395),layoutActivitybarLeft:(0,f.register)("layout-activitybar-left",60396),layoutActivitybarRight:(0,f.register)("layout-activitybar-right",60397),layoutPanelLeft:(0,f.register)("layout-panel-left",60398),layoutPanelCenter:(0,f.register)("layout-panel-center",60399),layoutPanelJustify:(0,f.register)("layout-panel-justify",60400),layoutPanelRight:(0,f.register)("layout-panel-right",60401),layoutPanel:(0,f.register)("layout-panel",60402),layoutSidebarLeft:(0,f.register)("layout-sidebar-left",60403),layoutSidebarRight:(0,f.register)("layout-sidebar-right",60404),layoutStatusbar:(0,f.register)("layout-statusbar",60405),layoutMenubar:(0,f.register)("layout-menubar",60406),layoutCentered:(0,f.register)("layout-centered",60407),target:(0,f.register)("target",60408),indent:(0,f.register)("indent",60409),recordSmall:(0,f.register)("record-small",60410),errorSmall:(0,f.register)("error-small",60411),terminalDecorationError:(0,f.register)("terminal-decoration-error",60411),arrowCircleDown:(0,f.register)("arrow-circle-down",60412),arrowCircleLeft:(0,f.register)("arrow-circle-left",60413),arrowCircleRight:(0,f.register)("arrow-circle-right",60414),arrowCircleUp:(0,f.register)("arrow-circle-up",60415),layoutSidebarRightOff:(0,f.register)("layout-sidebar-right-off",60416),layoutPanelOff:(0,f.register)("layout-panel-off",60417),layoutSidebarLeftOff:(0,f.register)("layout-sidebar-left-off",60418),blank:(0,f.register)("blank",60419),heartFilled:(0,f.register)("heart-filled",60420),map:(0,f.register)("map",60421),mapHorizontal:(0,f.register)("map-horizontal",60421),foldHorizontal:(0,f.register)("fold-horizontal",60421),mapFilled:(0,f.register)("map-filled",60422),mapHorizontalFilled:(0,f.register)("map-horizontal-filled",60422),foldHorizontalFilled:(0,f.register)("fold-horizontal-filled",60422),circleSmall:(0,f.register)("circle-small",60423),bellSlash:(0,f.register)("bell-slash",60424),bellSlashDot:(0,f.register)("bell-slash-dot",60425),commentUnresolved:(0,f.register)("comment-unresolved",60426),gitPullRequestGoToChanges:(0,f.register)("git-pull-request-go-to-changes",60427),gitPullRequestNewChanges:(0,f.register)("git-pull-request-new-changes",60428),searchFuzzy:(0,f.register)("search-fuzzy",60429),commentDraft:(0,f.register)("comment-draft",60430),send:(0,f.register)("send",60431),sparkle:(0,f.register)("sparkle",60432),insert:(0,f.register)("insert",60433),mic:(0,f.register)("mic",60434),thumbsdownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsupFilled:(0,f.register)("thumbsup-filled",60436),coffee:(0,f.register)("coffee",60437),snake:(0,f.register)("snake",60438),game:(0,f.register)("game",60439),vr:(0,f.register)("vr",60440),chip:(0,f.register)("chip",60441),piano:(0,f.register)("piano",60442),music:(0,f.register)("music",60443),micFilled:(0,f.register)("mic-filled",60444),repoFetch:(0,f.register)("repo-fetch",60445),copilot:(0,f.register)("copilot",60446),lightbulbSparkle:(0,f.register)("lightbulb-sparkle",60447),robot:(0,f.register)("robot",60448),sparkleFilled:(0,f.register)("sparkle-filled",60449),diffSingle:(0,f.register)("diff-single",60450),diffMultiple:(0,f.register)("diff-multiple",60451),surroundWith:(0,f.register)("surround-with",60452),share:(0,f.register)("share",60453),gitStash:(0,f.register)("git-stash",60454),gitStashApply:(0,f.register)("git-stash-apply",60455),gitStashPop:(0,f.register)("git-stash-pop",60456),vscode:(0,f.register)("vscode",60457),vscodeInsiders:(0,f.register)("vscode-insiders",60458),codeOss:(0,f.register)("code-oss",60459),runCoverage:(0,f.register)("run-coverage",60460),runAllCoverage:(0,f.register)("run-all-coverage",60461),coverage:(0,f.register)("coverage",60462),githubProject:(0,f.register)("github-project",60463),mapVertical:(0,f.register)("map-vertical",60464),foldVertical:(0,f.register)("fold-vertical",60464),mapVerticalFilled:(0,f.register)("map-vertical-filled",60465),foldVerticalFilled:(0,f.register)("fold-vertical-filled",60465),goToSearch:(0,f.register)("go-to-search",60466),percentage:(0,f.register)("percentage",60467),sortPercentage:(0,f.register)("sort-percentage",60467)}}),define(ie[26],ne([1,0,186,436]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Codicon=e.codiconsDerived=void 0,e.codiconsDerived={dialogError:(0,f.register)("dialog-error","error"),dialogWarning:(0,f.register)("dialog-warning","warning"),dialogInfo:(0,f.register)("dialog-info","info"),dialogClose:(0,f.register)("dialog-close","close"),treeItemExpanded:(0,f.register)("tree-item-expanded","chevron-down"),treeFilterOnTypeOn:(0,f.register)("tree-filter-on-type-on","list-filter"),treeFilterOnTypeOff:(0,f.register)("tree-filter-on-type-off","list-selection"),treeFilterClear:(0,f.register)("tree-filter-clear","close"),treeItemLoading:(0,f.register)("tree-item-loading","loading"),menuSelection:(0,f.register)("menu-selection","check"),menuSubmenu:(0,f.register)("menu-submenu","chevron-right"),menuBarMore:(0,f.register)("menubar-more","more"),scrollbarButtonLeft:(0,f.register)("scrollbar-button-left","triangle-left"),scrollbarButtonRight:(0,f.register)("scrollbar-button-right","triangle-right"),scrollbarButtonUp:(0,f.register)("scrollbar-button-up","triangle-up"),scrollbarButtonDown:(0,f.register)("scrollbar-button-down","triangle-down"),toolBarMore:(0,f.register)("toolbar-more","more"),quickInputBack:(0,f.register)("quick-input-back","arrow-left"),dropDownButton:(0,f.register)("drop-down-button",60084),symbolCustomColor:(0,f.register)("symbol-customcolor",60252),exportIcon:(0,f.register)("export",60332),workspaceUnspecified:(0,f.register)("workspace-unspecified",60355),newLine:(0,f.register)("newline",60394),thumbsDownFilled:(0,f.register)("thumbsdown-filled",60435),thumbsUpFilled:(0,f.register)("thumbsup-filled",60436),gitFetch:(0,f.register)("git-fetch",60445),lightbulbSparkleAutofix:(0,f.register)("lightbulb-sparkle-autofix",60447),debugBreakpointPending:(0,f.register)("debug-breakpoint-pending",60377)},e.Codicon={...k.codiconsLibrary,...e.codiconsDerived}}),define(ie[55],ne([1,0,20]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.deepClone=k,e.deepFreeze=E,e.cloneAndChange=y,e.mixin=w,e.equals=b,e.getAllPropertyNames=C,e.getAllMethodNames=o,e.createProxyObject=s;function k(i){if(!i||typeof i!="object"||i instanceof RegExp)return i;const t=Array.isArray(i)?[]:{};return Object.entries(i).forEach(([n,c])=>{t[n]=c&&typeof c=="object"?k(c):c}),t}function E(i){if(!i||typeof i!="object")return i;const t=[i];for(;t.length>0;){const n=t.shift();Object.freeze(n);for(const c in n)if(D.call(n,c)){const m=n[c];typeof m=="object"&&!Object.isFrozen(m)&&!(0,f.isTypedArray)(m)&&t.push(m)}}return i}const D=Object.prototype.hasOwnProperty;function y(i,t){return p(i,t,new Set)}function p(i,t,n){if((0,f.isUndefinedOrNull)(i))return i;const c=t(i);if(typeof c<"u")return c;if(Array.isArray(i)){const m=[];for(const u of i)m.push(p(u,t,n));return m}if((0,f.isObject)(i)){if(n.has(i))throw new Error("Cannot clone recursive data-structure");n.add(i);const m={};for(const u in i)D.call(i,u)&&(m[u]=p(i[u],t,n));return n.delete(i),m}return i}function w(i,t,n=!0){return(0,f.isObject)(i)?((0,f.isObject)(t)&&Object.keys(t).forEach(c=>{c in i?n&&((0,f.isObject)(i[c])&&(0,f.isObject)(t[c])?w(i[c],t[c],n):i[c]=t[c]):i[c]=t[c]}),i):t}function b(i,t){if(i===t)return!0;if(i==null||t===null||t===void 0||typeof i!=typeof t||typeof i!="object"||Array.isArray(i)!==Array.isArray(t))return!1;let n,c;if(Array.isArray(i)){if(i.length!==t.length)return!1;for(n=0;n<i.length;n++)if(!b(i[n],t[n]))return!1}else{const m=[];for(c in i)m.push(c);m.sort();const u=[];for(c in t)u.push(c);if(u.sort(),!b(m,u))return!1;for(n=0;n<m.length;n++)if(!b(i[m[n]],t[m[n]]))return!1}return!0}function C(i){let t=[];for(;Object.prototype!==i;)t=t.concat(Object.getOwnPropertyNames(i)),i=Object.getPrototypeOf(i);return t}function o(i){const t=[];for(const n of C(i))typeof i[n]=="function"&&t.push(n);return t}function s(i,t){const n=m=>function(){const u=Array.prototype.slice.call(arguments,0);return t(m,u)},c={};for(const m of i)c[m]=n(m);return c}}),define(ie[31],ne([1,0,26]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeIcon=e.ThemeColor=void 0;var k;(function(D){function y(p){return p&&typeof p=="object"&&typeof p.id=="string"}D.isThemeColor=y})(k||(e.ThemeColor=k={}));var E;(function(D){D.iconNameSegment="[A-Za-z0-9]+",D.iconNameExpression="[A-Za-z0-9-]+",D.iconModifierExpression="~[A-Za-z]+",D.iconNameCharacter="[A-Za-z0-9~-]";const y=new RegExp(`^(${D.iconNameExpression})(${D.iconModifierExpression})?$`);function p(m){const u=y.exec(m.id);if(!u)return p(f.Codicon.error);const[,r,a]=u,h=["codicon","codicon-"+r];return a&&h.push("codicon-modifier-"+a.substring(1)),h}D.asClassNameArray=p;function w(m){return p(m).join(" ")}D.asClassName=w;function b(m){return"."+p(m).join(".")}D.asCSSSelector=b;function C(m){return m&&typeof m=="object"&&typeof m.id=="string"&&(typeof m.color>"u"||k.isThemeColor(m.color))}D.isThemeIcon=C;const o=new RegExp(`^\\$\\((${D.iconNameExpression}(?:${D.iconModifierExpression})?)\\)$`);function s(m){const u=o.exec(m);if(!u)return;const[,r]=u;return{id:r}}D.fromString=s;function i(m){return{id:m}}D.fromId=i;function t(m,u){let r=m.id;const a=r.lastIndexOf("~");return a!==-1&&(r=r.substring(0,a)),u&&(r=`${r}~${u}`),{id:r}}D.modify=t;function n(m){const u=m.id.lastIndexOf("~");if(u!==-1)return m.id.substring(u+1)}D.getModifier=n;function c(m,u){var r,a;return m.id===u.id&&((r=m.color)===null||r===void 0?void 0:r.id)===((a=u.color)===null||a===void 0?void 0:a.id)}D.isEqual=c})(E||(e.ThemeIcon=E={}))}),define(ie[137],ne([1,0,78,12,31]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.escapeIcons=w,e.markdownEscapeEscapedIcons=C,e.stripIcons=s,e.getCodiconAriaLabel=i,e.parseLabelWithIcons=n,e.matchesFuzzyIconAware=c;const D="$(",y=new RegExp(`\\$\\(${E.ThemeIcon.iconNameExpression}(?:${E.ThemeIcon.iconModifierExpression})?\\)`,"g"),p=new RegExp(`(\\\\)?${y.source}`,"g");function w(m){return m.replace(p,(u,r)=>r?u:`\\${u}`)}const b=new RegExp(`\\\\${y.source}`,"g");function C(m){return m.replace(b,u=>`\\${u}`)}const o=new RegExp(`(\\s)?(\\\\)?${y.source}(\\s)?`,"g");function s(m){return m.indexOf(D)===-1?m:m.replace(o,(u,r,a,h)=>a?u:r||h||"")}function i(m){return m?m.replace(/\$\((.*?)\)/g,(u,r)=>` ${r} `).trim():""}const t=new RegExp(`\\$\\(${E.ThemeIcon.iconNameCharacter}+\\)`,"g");function n(m){t.lastIndex=0;let u="";const r=[];let a=0;for(;;){const h=t.lastIndex,l=t.exec(m),g=m.substring(h,l?.index);if(g.length>0){u+=g;for(let d=0;d<g.length;d++)r.push(a)}if(!l)break;a+=l[0].length}return{text:u,iconOffsets:r}}function c(m,u,r=!1){const{text:a,iconOffsets:h}=u;if(!h||h.length===0)return(0,f.matchesFuzzy)(m,a,r);const l=(0,k.ltrim)(a," "),g=a.length-l.length,d=(0,f.matchesFuzzy)(m,l,r);if(d)for(const v of d){const _=h[v.start+g]+g;v.start+=_,v.end+=_}return d}}),define(ie[187],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toUint8=f,e.toUint32=k;function f(E){return E<0?0:E>255?255:E|0}function k(E){return E<0?0:E>4294967295?4294967295:E|0}}),define(ie[188],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUuid=void 0,e.generateUuid=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let f;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?f=crypto.getRandomValues.bind(crypto):f=function(D){for(let y=0;y<D.length;y++)D[y]=Math.floor(Math.random()*256);return D};const k=new Uint8Array(16),E=[];for(let D=0;D<256;D++)E.push(D.toString(16).padStart(2,"0"));return function(){f(k),k[6]=k[6]&15|64,k[8]=k[8]&63|128;let y=0,p="";return p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+="-",p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p+=E[k[y++]],p}}()}),define(ie[189],ne([1,0,13,54,188]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UriList=e.VSDataTransfer=void 0,e.createStringDataTransferItem=D,e.createFileDataTransferItem=y,e.matchesMimeType=b;function D(o){return{asString:async()=>o,asFile:()=>{},value:typeof o=="string"?o:void 0}}function y(o,s,i){const t={id:(0,E.generateUuid)(),name:o,uri:s,data:i};return{asString:async()=>"",asFile:()=>t,value:void 0}}class p{constructor(){this._entries=new Map}get size(){let s=0;for(const i of this._entries)s++;return s}has(s){return this._entries.has(this.toKey(s))}matches(s){const i=[...this._entries.keys()];return k.Iterable.some(this,([t,n])=>n.asFile())&&i.push("files"),C(w(s),i)}get(s){var i;return(i=this._entries.get(this.toKey(s)))===null||i===void 0?void 0:i[0]}append(s,i){const t=this._entries.get(s);t?t.push(i):this._entries.set(this.toKey(s),[i])}replace(s,i){this._entries.set(this.toKey(s),[i])}delete(s){this._entries.delete(this.toKey(s))}*[Symbol.iterator](){for(const[s,i]of this._entries)for(const t of i)yield[s,t]}toKey(s){return w(s)}}e.VSDataTransfer=p;function w(o){return o.toLowerCase()}function b(o,s){return C(w(o),s.map(w))}function C(o,s){if(o==="*/*")return s.length>0;if(s.includes(o))return!0;const i=o.match(/^([a-z]+)\/([a-z]+|\*)$/i);if(!i)return!1;const[t,n,c]=i;return c==="*"?s.some(m=>m.startsWith(n+"/")):!1}e.UriList=Object.freeze({create:o=>(0,f.distinct)(o.map(s=>s.toString())).join(`\r
`),split:o=>o.split(`\r
`),parse:o=>e.UriList.split(o).filter(s=>!s.startsWith("#"))})}),define(ie[294],ne([11]),{}),define(ie[437],ne([11]),{}),define(ie[438],ne([11]),{}),define(ie[439],ne([11]),{}),define(ie[440],ne([11]),{}),define(ie[190],ne([1,0,439,440]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ie[441],ne([11]),{}),define(ie[442],ne([11]),{}),define(ie[295],ne([11]),{}),define(ie[296],ne([11]),{}),define(ie[443],ne([11]),{}),define(ie[444],ne([11]),{}),define(ie[445],ne([11]),{}),define(ie[446],ne([11]),{}),define(ie[297],ne([11]),{}),define(ie[447],ne([11]),{}),define(ie[219],ne([1,0,447]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME=void 0,e.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME="monaco-mouse-cursor-text"}),define(ie[448],ne([11]),{}),define(ie[449],ne([11]),{}),define(ie[450],ne([11]),{}),define(ie[451],ne([11]),{}),define(ie[452],ne([11]),{}),define(ie[453],ne([11]),{}),define(ie[454],ne([11]),{}),define(ie[455],ne([11]),{}),define(ie[456],ne([11]),{}),define(ie[457],ne([11]),{}),define(ie[458],ne([11]),{}),define(ie[459],ne([11]),{}),define(ie[460],ne([11]),{}),define(ie[461],ne([11]),{}),define(ie[462],ne([11]),{}),define(ie[463],ne([11]),{}),define(ie[464],ne([11]),{}),define(ie[465],ne([11]),{}),define(ie[466],ne([11]),{}),define(ie[467],ne([11]),{}),define(ie[468],ne([11]),{}),define(ie[469],ne([11]),{}),define(ie[470],ne([11]),{}),define(ie[471],ne([11]),{}),define(ie[472],ne([11]),{}),define(ie[473],ne([11]),{}),define(ie[474],ne([11]),{}),define(ie[475],ne([11]),{}),define(ie[476],ne([11]),{}),define(ie[477],ne([11]),{}),define(ie[478],ne([11]),{}),define(ie[479],ne([11]),{}),define(ie[480],ne([11]),{}),define(ie[481],ne([11]),{}),define(ie[482],ne([11]),{}),define(ie[483],ne([11]),{}),define(ie[484],ne([11]),{}),define(ie[485],ne([11]),{}),define(ie[220],ne([11]),{}),define(ie[486],ne([11]),{}),define(ie[487],ne([11]),{}),define(ie[488],ne([11]),{}),define(ie[489],ne([11]),{}),define(ie[490],ne([11]),{}),define(ie[491],ne([11]),{}),define(ie[492],ne([11]),{}),define(ie[493],ne([11]),{}),define(ie[221],ne([11]),{}),define(ie[494],ne([11]),{}),define(ie[495],ne([11]),{}),define(ie[496],ne([11]),{}),define(ie[497],ne([11]),{}),define(ie[498],ne([11]),{}),define(ie[499],ne([11]),{}),define(ie[500],ne([11]),{}),define(ie[501],ne([11]),{}),define(ie[502],ne([11]),{}),define(ie[503],ne([11]),{}),define(ie[504],ne([11]),{}),define(ie[505],ne([11]),{}),define(ie[506],ne([11]),{}),define(ie[507],ne([11]),{}),define(ie[508],ne([11]),{}),define(ie[509],ne([11]),{}),define(ie[510],ne([11]),{}),define(ie[511],ne([11]),{}),define(ie[512],ne([11]),{}),define(ie[513],ne([11]),{}),define(ie[514],ne([11]),{}),define(ie[515],ne([11]),{}),define(ie[516],ne([11]),{}),define(ie[517],ne([11]),{}),define(ie[298],ne([11]),{}),define(ie[518],ne([11]),{}),define(ie[519],ne([11]),{}),define(ie[222],ne([11]),{}),define(ie[520],ne([11]),{}),define(ie[71],ne([1,0,40]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.applyFontInfo=k;function k(E,D){E instanceof f.FastDomNode?(E.setFontFamily(D.getMassagedFontFamily()),E.setFontWeight(D.fontWeight),E.setFontSize(D.fontSize),E.setFontFeatureSettings(D.fontFeatureSettings),E.setFontVariationSettings(D.fontVariationSettings),E.setLineHeight(D.lineHeight),E.setLetterSpacing(D.letterSpacing)):(E.style.fontFamily=D.getMassagedFontFamily(),E.style.fontWeight=D.fontWeight,E.style.fontSize=D.fontSize+"px",E.style.fontFeatureSettings=D.fontFeatureSettings,E.style.fontVariationSettings=D.fontVariationSettings,E.style.lineHeight=D.lineHeight+"px",E.style.letterSpacing=D.letterSpacing+"px")}}),define(ie[521],ne([1,0,71]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharWidthRequest=void 0,e.readCharWidths=D;class k{constructor(p,w){this.chr=p,this.type=w,this.width=0}fulfill(p){this.width=p}}e.CharWidthRequest=k;class E{constructor(p,w){this._bareFontInfo=p,this._requests=w,this._container=null,this._testElements=null}read(p){this._createDomElements(),p.document.body.appendChild(this._container),this._readFromDomElements(),p.document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const p=document.createElement("div");p.style.position="absolute",p.style.top="-50000px",p.style.width="50000px";const w=document.createElement("div");(0,f.applyFontInfo)(w,this._bareFontInfo),p.appendChild(w);const b=document.createElement("div");(0,f.applyFontInfo)(b,this._bareFontInfo),b.style.fontWeight="bold",p.appendChild(b);const C=document.createElement("div");(0,f.applyFontInfo)(C,this._bareFontInfo),C.style.fontStyle="italic",p.appendChild(C);const o=[];for(const s of this._requests){let i;s.type===0&&(i=w),s.type===2&&(i=b),s.type===1&&(i=C),i.appendChild(document.createElement("br"));const t=document.createElement("span");E._render(t,s),i.appendChild(t),o.push(t)}this._container=p,this._testElements=o}static _render(p,w){if(w.chr===" "){let b="\xA0";for(let C=0;C<8;C++)b+=b;p.innerText=b}else{let b=w.chr;for(let C=0;C<8;C++)b+=b;p.textContent=b}}_readFromDomElements(){for(let p=0,w=this._requests.length;p<w;p++){const b=this._requests[p],C=this._testElements[p];b.fulfill(C.offsetWidth/256)}}}function D(y,p,w){new E(p,w).read(y)}}),define(ie[522],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSettingMigration=void 0,e.migrateOptions=D;class f{constructor(w,b){this.key=w,this.migrate=b}apply(w){const b=f._read(w,this.key),C=s=>f._read(w,s),o=(s,i)=>f._write(w,s,i);this.migrate(b,C,o)}static _read(w,b){if(typeof w>"u")return;const C=b.indexOf(".");if(C>=0){const o=b.substring(0,C);return this._read(w[o],b.substring(C+1))}return w[b]}static _write(w,b,C){const o=b.indexOf(".");if(o>=0){const s=b.substring(0,o);w[s]=w[s]||{},this._write(w[s],b.substring(o+1),C);return}w[b]=C}}e.EditorSettingMigration=f,f.items=[];function k(p,w){f.items.push(new f(p,w))}function E(p,w){k(p,(b,C,o)=>{if(typeof b<"u"){for(const[s,i]of w)if(b===s){o(p,i);return}}})}function D(p){f.items.forEach(w=>w.apply(p))}E("wordWrap",[[!0,"on"],[!1,"off"]]),E("lineNumbers",[[!0,"on"],[!1,"off"]]),E("cursorBlinking",[["visible","solid"]]),E("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),E("renderLineHighlight",[[!0,"line"],[!1,"none"]]),E("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),E("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),E("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),E("autoIndent",[[!1,"advanced"],[!0,"full"]]),E("matchBrackets",[[!0,"always"],[!1,"never"]]),E("renderFinalNewline",[[!0,"on"],[!1,"off"]]),E("cursorSmoothCaretAnimation",[[!0,"on"],[!1,"off"]]),E("occurrencesHighlight",[[!0,"singleFile"],[!1,"off"]]),E("wordBasedSuggestions",[[!0,"matchingDocuments"],[!1,"off"]]),k("autoClosingBrackets",(p,w,b)=>{p===!1&&(b("autoClosingBrackets","never"),typeof w("autoClosingQuotes")>"u"&&b("autoClosingQuotes","never"),typeof w("autoSurround")>"u"&&b("autoSurround","never"))}),k("renderIndentGuides",(p,w,b)=>{typeof p<"u"&&(b("renderIndentGuides",void 0),typeof w("guides.indentation")>"u"&&b("guides.indentation",!!p))}),k("highlightActiveIndentGuide",(p,w,b)=>{typeof p<"u"&&(b("highlightActiveIndentGuide",void 0),typeof w("guides.highlightActiveIndentation")>"u"&&b("guides.highlightActiveIndentation",!!p))});const y={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};k("suggest.filteredTypes",(p,w,b)=>{if(p&&typeof p=="object"){for(const C of Object.entries(y))p[C[0]]===!1&&typeof w(`suggest.${C[1]}`)>"u"&&b(`suggest.${C[1]}`,!1);b("suggest.filteredTypes",void 0)}}),k("quickSuggestions",(p,w,b)=>{if(typeof p=="boolean"){const C=p?"on":"off";b("quickSuggestions",{comments:C,strings:C,other:C})}}),k("experimental.stickyScroll.enabled",(p,w,b)=>{typeof p=="boolean"&&(b("experimental.stickyScroll.enabled",void 0),typeof w("stickyScroll.enabled")>"u"&&b("stickyScroll.enabled",p))}),k("experimental.stickyScroll.maxLineCount",(p,w,b)=>{typeof p=="number"&&(b("experimental.stickyScroll.maxLineCount",void 0),typeof w("stickyScroll.maxLineCount")>"u"&&b("stickyScroll.maxLineCount",p))}),k("codeActionsOnSave",(p,w,b)=>{if(p&&typeof p=="object"){let C=!1;const o={};for(const s of Object.entries(p))typeof s[1]=="boolean"?(C=!0,o[s[0]]=s[1]?"explicit":"never"):o[s[0]]=s[1];C&&b("codeActionsOnSave",o)}}),k("codeActionWidget.includeNearbyQuickfixes",(p,w,b)=>{typeof p=="boolean"&&(b("codeActionWidget.includeNearbyQuickfixes",void 0),typeof w("codeActionWidget.includeNearbyQuickFixes")>"u"&&b("codeActionWidget.includeNearbyQuickFixes",p))}),k("lightbulb.enabled",(p,w,b)=>{typeof p=="boolean"&&b("lightbulb.enabled",p?void 0:"off")})}),define(ie[223],ne([1,0,7]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TabFocus=void 0;class k{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new f.Emitter,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(D){this._tabFocus=D,this._onDidChangeTabFocus.fire(this._tabFocus)}}e.TabFocus=new k}),define(ie[523],ne([1,0,30]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.obsCodeEditor=k;function k(D){return E.get(D)}class E{static get(y){let p=E._map.get(y);if(!p){p=new E(y),E._map.set(y,p);const w=y.onDidDispose(()=>{E._map.delete(y),w.dispose()})}return p}constructor(y){this.editor=y,this.model=(0,f.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel())}}E._map=new Map}),define(ie[138],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StableEditorScrollState=void 0;class f{static capture(E){if(E.getScrollTop()===0||E.hasPendingScrollAnimation())return new f(E.getScrollTop(),E.getContentHeight(),null,0,null);let D=null,y=0;const p=E.getVisibleRanges();if(p.length>0){D=p[0].getStartPosition();const w=E.getTopForPosition(D.lineNumber,D.column);y=E.getScrollTop()-w}return new f(E.getScrollTop(),E.getContentHeight(),D,y,E.getPosition())}constructor(E,D,y,p,w){this._initialScrollTop=E,this._initialContentHeight=D,this._visiblePosition=y,this._visiblePositionScrollDelta=p,this._cursorPosition=w}restore(E){if(!(this._initialContentHeight===E.getContentHeight()&&this._initialScrollTop===E.getScrollTop())&&this._visiblePosition){const D=E.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);E.setScrollTop(D+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(E){if(this._initialContentHeight===E.getContentHeight()&&this._initialScrollTop===E.getScrollTop())return;const D=E.getPosition();if(!this._cursorPosition||!D)return;const y=E.getTopForLineNumber(D.lineNumber)-E.getTopForLineNumber(this._cursorPosition.lineNumber);E.setScrollTop(E.getScrollTop()+y)}}e.StableEditorScrollState=f}),define(ie[159],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleRanges=e.HorizontalPosition=e.FloatHorizontalRange=e.HorizontalRange=e.LineVisibleRanges=e.RenderingContext=e.RestrictedRenderingContext=void 0;class f{constructor(C,o){this._restrictedRenderingContextBrand=void 0,this._viewLayout=C,this.viewportData=o,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const s=this._viewLayout.getCurrentViewport();this.scrollTop=s.top,this.scrollLeft=s.left,this.viewportWidth=s.width,this.viewportHeight=s.height}getScrolledTopFromAbsoluteTop(C){return C-this.scrollTop}getVerticalOffsetForLineNumber(C,o){return this._viewLayout.getVerticalOffsetForLineNumber(C,o)}getVerticalOffsetAfterLineNumber(C,o){return this._viewLayout.getVerticalOffsetAfterLineNumber(C,o)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}e.RestrictedRenderingContext=f;class k extends f{constructor(C,o,s){super(C,o),this._renderingContextBrand=void 0,this._viewLines=s}linesVisibleRangesForRange(C,o){return this._viewLines.linesVisibleRangesForRange(C,o)}visibleRangeForPosition(C){return this._viewLines.visibleRangeForPosition(C)}}e.RenderingContext=k;class E{constructor(C,o,s,i){this.outsideRenderedLine=C,this.lineNumber=o,this.ranges=s,this.continuesOnNextLine=i}}e.LineVisibleRanges=E;class D{static from(C){const o=new Array(C.length);for(let s=0,i=C.length;s<i;s++){const t=C[s];o[s]=new D(t.left,t.width)}return o}constructor(C,o){this._horizontalRangeBrand=void 0,this.left=Math.round(C),this.width=Math.round(o)}toString(){return`[${this.left},${this.width}]`}}e.HorizontalRange=D;class y{constructor(C,o){this._floatHorizontalRangeBrand=void 0,this.left=C,this.width=o}toString(){return`[${this.left},${this.width}]`}static compare(C,o){return C.left-o.left}}e.FloatHorizontalRange=y;class p{constructor(C,o){this.outsideRenderedLine=C,this.originalLeft=o,this.left=Math.round(this.originalLeft)}}e.HorizontalPosition=p;class w{constructor(C,o){this.outsideRenderedLine=C,this.ranges=o}}e.VisibleRanges=w}),define(ie[524],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomReadingContext=void 0;class f{get didDomLayout(){return this._didDomLayout}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const E=this._domNode.getBoundingClientRect();this.markDidDomLayout(),this._clientRectDeltaLeft=E.left,this._clientRectScale=E.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}constructor(E,D){this._domNode=E,this.endNode=D,this._didDomLayout=!1,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1}markDidDomLayout(){this._didDomLayout=!0}}e.DomReadingContext=f}),define(ie[525],ne([1,0,159]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeUtil=void 0;class k{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(D,y){D.selectNodeContents(y)}static _readClientRects(D,y,p,w,b){const C=this._createRange();try{return C.setStart(D,y),C.setEnd(p,w),C.getClientRects()}catch{return null}finally{this._detachRange(C,b)}}static _mergeAdjacentRanges(D){if(D.length===1)return D;D.sort(f.FloatHorizontalRange.compare);const y=[];let p=0,w=D[0];for(let b=1,C=D.length;b<C;b++){const o=D[b];w.left+w.width+.9>=o.left?w.width=Math.max(w.width,o.left+o.width-w.left):(y[p++]=w,w=o)}return y[p++]=w,y}static _createHorizontalRangesFromClientRects(D,y,p){if(!D||D.length===0)return null;const w=[];for(let b=0,C=D.length;b<C;b++){const o=D[b];w[b]=new f.FloatHorizontalRange(Math.max(0,(o.left-y)/p),o.width/p)}return this._mergeAdjacentRanges(w)}static readHorizontalRanges(D,y,p,w,b,C){const s=D.children.length-1;if(0>s)return null;if(y=Math.min(s,Math.max(0,y)),w=Math.min(s,Math.max(0,w)),y===w&&p===b&&p===0&&!D.children[y].firstChild){const c=D.children[y].getClientRects();return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(c,C.clientRectDeltaLeft,C.clientRectScale)}y!==w&&w>0&&b===0&&(w--,b=1073741824);let i=D.children[y].firstChild,t=D.children[w].firstChild;if((!i||!t)&&(!i&&p===0&&y>0&&(i=D.children[y-1].firstChild,p=1073741824),!t&&b===0&&w>0&&(t=D.children[w-1].firstChild,b=1073741824)),!i||!t)return null;p=Math.min(i.textContent.length,Math.max(0,p)),b=Math.min(t.textContent.length,Math.max(0,b));const n=this._readClientRects(i,p,t,b,C.endNode);return C.markDidDomLayout(),this._createHorizontalRangesFromClientRects(n,C.clientRectDeltaLeft,C.clientRectScale)}}e.RangeUtil=k}),define(ie[299],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getCharIndex=e.allCharCodes=void 0,e.allCharCodes=(()=>{const k=[];for(let E=32;E<=126;E++)k.push(E);return k.push(65533),k})();const f=(k,E)=>(k-=32,k<0||k>96?E<=2?(k+96)%96:95:k);e.getCharIndex=f}),define(ie[526],ne([1,0,299,187]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRenderer=void 0;class E{constructor(y,p){this.scale=p,this._minimapCharRendererBrand=void 0,this.charDataNormal=E.soften(y,12/15),this.charDataLight=E.soften(y,50/60)}static soften(y,p){const w=new Uint8ClampedArray(y.length);for(let b=0,C=y.length;b<C;b++)w[b]=(0,k.toUint8)(y[b]*p);return w}renderChar(y,p,w,b,C,o,s,i,t,n,c){const m=1*this.scale,u=2*this.scale,r=c?1:u;if(p+m>y.width||w+r>y.height){console.warn("bad render request outside image data");return}const a=n?this.charDataLight:this.charDataNormal,h=(0,f.getCharIndex)(b,t),l=y.width*4,g=s.r,d=s.g,v=s.b,_=C.r-g,S=C.g-d,L=C.b-v,I=Math.max(o,i),T=y.data;let N=h*m*u,A=w*l+p*4;for(let O=0;O<r;O++){let M=A;for(let R=0;R<m;R++){const x=a[N++]/255*(o/255);T[M++]=g+_*x,T[M++]=d+S*x,T[M++]=v+L*x,T[M++]=I}A+=l}}blockRenderChar(y,p,w,b,C,o,s,i){const t=1*this.scale,n=2*this.scale,c=i?1:n;if(p+t>y.width||w+c>y.height){console.warn("bad render request outside image data");return}const m=y.width*4,u=.5*(C/255),r=o.r,a=o.g,h=o.b,l=b.r-r,g=b.g-a,d=b.b-h,v=r+l*u,_=a+g*u,S=h+d*u,L=Math.max(C,s),I=y.data;let T=w*m+p*4;for(let N=0;N<c;N++){let A=T;for(let O=0;O<t;O++)I[A++]=v,I[A++]=_,I[A++]=S,I[A++]=L;T+=m}}}e.MinimapCharRenderer=E}),define(ie[527],ne([1,0,122]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.prebakedMiniMaps=void 0;const k={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},E=D=>{const y=new Uint8ClampedArray(D.length/2);for(let p=0;p<D.length;p+=2)y[p>>1]=k[D[p]]<<4|k[D[p+1]]&15;return y};e.prebakedMiniMaps={1:(0,f.createSingleCallFunction)(()=>E("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,f.createSingleCallFunction)(()=>E("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))}}),define(ie[528],ne([1,0,526,299,527,187]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapCharRendererFactory=void 0;class y{static create(w,b){if(this.lastCreated&&w===this.lastCreated.scale&&b===this.lastFontFamily)return this.lastCreated;let C;return E.prebakedMiniMaps[w]?C=new f.MinimapCharRenderer(E.prebakedMiniMaps[w](),w):C=y.createFromSampleData(y.createSampleData(b).data,w),this.lastFontFamily=b,this.lastCreated=C,C}static createSampleData(w){const b=document.createElement("canvas"),C=b.getContext("2d");b.style.height="16px",b.height=16,b.width=96*10,b.style.width=96*10+"px",C.fillStyle="#ffffff",C.font=`bold 16px ${w}`,C.textBaseline="middle";let o=0;for(const s of k.allCharCodes)C.fillText(String.fromCharCode(s),o,16/2),o+=10;return C.getImageData(0,0,96*10,16)}static createFromSampleData(w,b){if(w.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const o=y._downsample(w,b);return new f.MinimapCharRenderer(o,b)}static _downsampleChar(w,b,C,o,s){const i=1*s,t=2*s;let n=o,c=0;for(let m=0;m<t;m++){const u=m/t*16,r=(m+1)/t*16;for(let a=0;a<i;a++){const h=a/i*10,l=(a+1)/i*10;let g=0,d=0;for(let _=u;_<r;_++){const S=b+Math.floor(_)*3840,L=1-(_-Math.floor(_));for(let I=h;I<l;I++){const T=1-(I-Math.floor(I)),N=S+Math.floor(I)*4,A=T*L;d+=A,g+=w[N]*w[N+3]/255*A}}const v=g/d;c=Math.max(c,v),C[n++]=(0,D.toUint8)(v)}}return c}static _downsample(w,b){const C=2*b*1*b,o=C*96,s=new Uint8ClampedArray(o);let i=0,t=0,n=0;for(let c=0;c<96;c++)n=Math.max(n,this._downsampleChar(w,t,s,i,b)),i+=C,t+=10*4;if(n>0){const c=255/n;for(let m=0;m<o;m++)s[m]*=c}return s}}e.MinimapCharRendererFactory=y}),define(ie[529],ne([1,0,7,2]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DelegatingEditor=void 0;class E extends k.Disposable{constructor(){super(...arguments),this._id=++E.idCounter,this._onDidDispose=this._register(new f.Emitter),this.onDidDispose=this._onDidDispose.event}getId(){return this.getEditorType()+":v2:"+this._id}getVisibleColumnFromPosition(y){return this._targetEditor.getVisibleColumnFromPosition(y)}getPosition(){return this._targetEditor.getPosition()}setPosition(y,p="api"){this._targetEditor.setPosition(y,p)}revealLine(y,p=0){this._targetEditor.revealLine(y,p)}revealLineInCenter(y,p=0){this._targetEditor.revealLineInCenter(y,p)}revealLineInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealLineInCenterIfOutsideViewport(y,p)}revealLineNearTop(y,p=0){this._targetEditor.revealLineNearTop(y,p)}revealPosition(y,p=0){this._targetEditor.revealPosition(y,p)}revealPositionInCenter(y,p=0){this._targetEditor.revealPositionInCenter(y,p)}revealPositionInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealPositionInCenterIfOutsideViewport(y,p)}revealPositionNearTop(y,p=0){this._targetEditor.revealPositionNearTop(y,p)}getSelection(){return this._targetEditor.getSelection()}getSelections(){return this._targetEditor.getSelections()}setSelection(y,p="api"){this._targetEditor.setSelection(y,p)}setSelections(y,p="api"){this._targetEditor.setSelections(y,p)}revealLines(y,p,w=0){this._targetEditor.revealLines(y,p,w)}revealLinesInCenter(y,p,w=0){this._targetEditor.revealLinesInCenter(y,p,w)}revealLinesInCenterIfOutsideViewport(y,p,w=0){this._targetEditor.revealLinesInCenterIfOutsideViewport(y,p,w)}revealLinesNearTop(y,p,w=0){this._targetEditor.revealLinesNearTop(y,p,w)}revealRange(y,p=0,w=!1,b=!0){this._targetEditor.revealRange(y,p,w,b)}revealRangeInCenter(y,p=0){this._targetEditor.revealRangeInCenter(y,p)}revealRangeInCenterIfOutsideViewport(y,p=0){this._targetEditor.revealRangeInCenterIfOutsideViewport(y,p)}revealRangeNearTop(y,p=0){this._targetEditor.revealRangeNearTop(y,p)}revealRangeNearTopIfOutsideViewport(y,p=0){this._targetEditor.revealRangeNearTopIfOutsideViewport(y,p)}revealRangeAtTop(y,p=0){this._targetEditor.revealRangeAtTop(y,p)}getSupportedActions(){return this._targetEditor.getSupportedActions()}focus(){this._targetEditor.focus()}trigger(y,p,w){this._targetEditor.trigger(y,p,w)}createDecorationsCollection(y){return this._targetEditor.createDecorationsCollection(y)}changeDecorations(y){return this._targetEditor.changeDecorations(y)}}e.DelegatingEditor=E,E.idCounter=0}),define(ie[530],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectPool=void 0;class f{constructor(E){this._create=E,this._unused=new Set,this._used=new Set,this._itemData=new Map}getUnusedObj(E){var D;let y;if(this._unused.size===0)y=this._create(E),this._itemData.set(y,E);else{const p=[...this._unused.values()];y=(D=p.find(w=>this._itemData.get(w).getId()===E.getId()))!==null&&D!==void 0?D:p[0],this._unused.delete(y),this._itemData.set(y,E),y.setData(E)}return this._used.add(y),{object:y,dispose:()=>{this._used.delete(y),this._unused.size>5?y.dispose():this._unused.add(y)}}}dispose(){for(const E of this._used)E.dispose();for(const E of this._unused)E.dispose();this._used.clear(),this._unused.clear()}}e.ObjectPool=f}),define(ie[300],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffEditorDefaultOptions=void 0,e.diffEditorDefaultOptions={enableSplitViewResizing:!0,splitViewDefaultRatio:.5,renderSideBySide:!0,renderMarginRevertIcon:!0,renderGutterMenu:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit",diffAlgorithm:"advanced",accessibilityVerbose:!1,experimental:{showMoves:!1,showEmptyDecorations:!0},hideUnchangedRegions:{enabled:!1,contextLineCount:3,minimumLineCount:3,revealLineCount:20},isInEmbeddedEditor:!1,onlyShowAccessibleDiffViewer:!1,renderSideBySideInlineBreakpoint:900,useInlineViewWhenSpaceIsLimited:!0}}),define(ie[160],ne([1,0,7]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorZoom=void 0,e.EditorZoom=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new f.Emitter,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(k){k=Math.min(Math.max(-5,k),20),this._zoomLevel!==k&&(this._zoomLevel=k,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}}),define(ie[139],ne([1,0,187]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterSet=e.CharacterClassifier=void 0;class k{constructor(y){const p=(0,f.toUint8)(y);this._defaultValue=p,this._asciiMap=k._createAsciiMap(p),this._map=new Map}static _createAsciiMap(y){const p=new Uint8Array(256);return p.fill(y),p}set(y,p){const w=(0,f.toUint8)(p);y>=0&&y<256?this._asciiMap[y]=w:this._map.set(y,w)}get(y){return y>=0&&y<256?this._asciiMap[y]:this._map.get(y)||this._defaultValue}clear(){this._asciiMap.fill(this._defaultValue),this._map.clear()}}e.CharacterClassifier=k;class E{constructor(){this._actual=new k(0)}add(y){this._actual.set(y,1)}has(y){return this._actual.get(y)===1}clear(){return this._actual.clear()}}e.CharacterSet=E}),define(ie[90],ne([1,0,12]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorColumns=void 0;class k{static _nextVisibleColumn(D,y,p){return D===9?k.nextRenderTabStop(y,p):f.isFullWidthCharacter(D)||f.isEmojiImprecise(D)?y+2:y+1}static visibleColumnFromColumn(D,y,p){const w=Math.min(y-1,D.length),b=D.substring(0,w),C=new f.GraphemeIterator(b);let o=0;for(;!C.eol();){const s=f.getNextCodePoint(b,w,C.offset);C.nextGraphemeLength(),o=this._nextVisibleColumn(s,o,p)}return o}static columnFromVisibleColumn(D,y,p){if(y<=0)return 1;const w=D.length,b=new f.GraphemeIterator(D);let C=0,o=1;for(;!b.eol();){const s=f.getNextCodePoint(D,w,b.offset);b.nextGraphemeLength();const i=this._nextVisibleColumn(s,C,p),t=b.offset+1;if(i>=y){const n=y-C;return i-y<n?t:o}C=i,o=t}return w+1}static nextRenderTabStop(D,y){return D+y-D%y}static nextIndentTabStop(D,y){return D+y-D%y}static prevRenderTabStop(D,y){return Math.max(0,D-1-(D-1)%y)}static prevIndentTabStop(D,y){return Math.max(0,D-1-(D-1)%y)}}e.CursorColumns=k}),define(ie[140],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.countEOL=f;function f(k){let E=0,D=0,y=0,p=0;for(let w=0,b=k.length;w<b;w++){const C=k.charCodeAt(w);C===13?(E===0&&(D=w),E++,w+1<b&&k.charCodeAt(w+1)===10?(p|=2,w++):p|=3,y=w+1):C===10&&(p|=1,E===0&&(D=w),E++,y=w+1)}return E===0&&(D=k.length),[E,D,k.length-y,p]}}),define(ie[224],ne([1,0,12,90]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeIndentation=D;function E(y,p,w){let b=0;for(let o=0;o<y.length;o++)y.charAt(o)==="	"?b=k.CursorColumns.nextIndentTabStop(b,p):b++;let C="";if(!w){const o=Math.floor(b/p);b=b%p;for(let s=0;s<o;s++)C+="	"}for(let o=0;o<b;o++)C+=" ";return C}function D(y,p,w){let b=f.firstNonWhitespaceIndex(y);return b===-1&&(b=y.length),E(y.substring(0,b),p,w)+y.substring(b)}}),define(ie[65],ne([1,0,10]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OffsetRangeSet=e.OffsetRange=void 0;class k{static addRange(y,p){let w=0;for(;w<p.length&&p[w].endExclusive<y.start;)w++;let b=w;for(;b<p.length&&p[b].start<=y.endExclusive;)b++;if(w===b)p.splice(w,0,y);else{const C=Math.min(y.start,p[w].start),o=Math.max(y.endExclusive,p[b-1].endExclusive);p.splice(w,b-w,new k(C,o))}}static tryCreate(y,p){if(!(y>p))return new k(y,p)}static ofLength(y){return new k(0,y)}static ofStartAndLength(y,p){return new k(y,y+p)}constructor(y,p){if(this.start=y,this.endExclusive=p,y>p)throw new f.BugIndicatingError(`Invalid range: ${this.toString()}`)}get isEmpty(){return this.start===this.endExclusive}delta(y){return new k(this.start+y,this.endExclusive+y)}deltaStart(y){return new k(this.start+y,this.endExclusive)}deltaEnd(y){return new k(this.start,this.endExclusive+y)}get length(){return this.endExclusive-this.start}toString(){return`[${this.start}, ${this.endExclusive})`}contains(y){return this.start<=y&&y<this.endExclusive}join(y){return new k(Math.min(this.start,y.start),Math.max(this.endExclusive,y.endExclusive))}intersect(y){const p=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);if(p<=w)return new k(p,w)}intersects(y){const p=Math.max(this.start,y.start),w=Math.min(this.endExclusive,y.endExclusive);return p<w}isBefore(y){return this.endExclusive<=y.start}isAfter(y){return this.start>=y.endExclusive}slice(y){return y.slice(this.start,this.endExclusive)}substring(y){return y.substring(this.start,this.endExclusive)}clip(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return Math.max(this.start,Math.min(this.endExclusive-1,y))}clipCyclic(y){if(this.isEmpty)throw new f.BugIndicatingError(`Invalid clipping range: ${this.toString()}`);return y<this.start?this.endExclusive-(this.start-y)%this.length:y>=this.endExclusive?this.start+(y-this.start)%this.length:y}forEach(y){for(let p=this.start;p<this.endExclusive;p++)y(p)}}e.OffsetRange=k;class E{constructor(){this._sortedRanges=[]}addRange(y){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<y.start;)p++;let w=p;for(;w<this._sortedRanges.length&&this._sortedRanges[w].start<=y.endExclusive;)w++;if(p===w)this._sortedRanges.splice(p,0,y);else{const b=Math.min(y.start,this._sortedRanges[p].start),C=Math.max(y.endExclusive,this._sortedRanges[w-1].endExclusive);this._sortedRanges.splice(p,w-p,new k(b,C))}}toString(){return this._sortedRanges.map(y=>y.toString()).join(", ")}intersectsStrict(y){let p=0;for(;p<this._sortedRanges.length&&this._sortedRanges[p].endExclusive<=y.start;)p++;return p<this._sortedRanges.length&&this._sortedRanges[p].start<y.endExclusive}intersectWithRange(y){const p=new E;for(const w of this._sortedRanges){const b=w.intersect(y);b&&p.addRange(b)}return p}intersectWithRangeLength(y){return this.intersectWithRange(y).length}get length(){return this._sortedRanges.reduce((y,p)=>y+p.length,0)}}e.OffsetRangeSet=E}),define(ie[9],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Position=void 0;class f{constructor(E,D){this.lineNumber=E,this.column=D}with(E=this.lineNumber,D=this.column){return E===this.lineNumber&&D===this.column?this:new f(E,D)}delta(E=0,D=0){return this.with(this.lineNumber+E,this.column+D)}equals(E){return f.equals(this,E)}static equals(E,D){return!E&&!D?!0:!!E&&!!D&&E.lineNumber===D.lineNumber&&E.column===D.column}isBefore(E){return f.isBefore(this,E)}static isBefore(E,D){return E.lineNumber<D.lineNumber?!0:D.lineNumber<E.lineNumber?!1:E.column<D.column}isBeforeOrEqual(E){return f.isBeforeOrEqual(this,E)}static isBeforeOrEqual(E,D){return E.lineNumber<D.lineNumber?!0:D.lineNumber<E.lineNumber?!1:E.column<=D.column}static compare(E,D){const y=E.lineNumber|0,p=D.lineNumber|0;if(y===p){const w=E.column|0,b=D.column|0;return w-b}return y-p}clone(){return new f(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(E){return new f(E.lineNumber,E.column)}static isIPosition(E){return E&&typeof E.lineNumber=="number"&&typeof E.column=="number"}toJSON(){return{lineNumber:this.lineNumber,column:this.column}}}e.Position=f}),define(ie[301],ne([1,0,9]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewUserInputEvents=void 0;class k{constructor(D){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=D}emitKeyDown(D){var y;(y=this.onKeyDown)===null||y===void 0||y.call(this,D)}emitKeyUp(D){var y;(y=this.onKeyUp)===null||y===void 0||y.call(this,D)}emitContextMenu(D){var y;(y=this.onContextMenu)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseMove(D){var y;(y=this.onMouseMove)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseLeave(D){var y;(y=this.onMouseLeave)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDown(D){var y;(y=this.onMouseDown)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseUp(D){var y;(y=this.onMouseUp)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrag(D){var y;(y=this.onMouseDrag)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDrop(D){var y;(y=this.onMouseDrop)===null||y===void 0||y.call(this,this._convertViewToModelMouseEvent(D))}emitMouseDropCanceled(){var D;(D=this.onMouseDropCanceled)===null||D===void 0||D.call(this)}emitMouseWheel(D){var y;(y=this.onMouseWheel)===null||y===void 0||y.call(this,D)}_convertViewToModelMouseEvent(D){return D.target?{event:D.event,target:this._convertViewToModelMouseTarget(D.target)}:D}_convertViewToModelMouseTarget(D){return k.convertViewToModelMouseTarget(D,this._coordinatesConverter)}static convertViewToModelMouseTarget(D,y){const p={...D};return p.position&&(p.position=y.convertViewPositionToModelPosition(p.position)),p.range&&(p.range=y.convertViewRangeToModelRange(p.range)),(p.type===5||p.type===8)&&(p.detail=this.convertViewToModelViewZoneData(p.detail,y)),p}static convertViewToModelViewZoneData(D,y){return{viewZoneId:D.viewZoneId,positionBefore:D.positionBefore?y.convertViewPositionToModelPosition(D.positionBefore):D.positionBefore,positionAfter:D.positionAfter?y.convertViewPositionToModelPosition(D.positionAfter):D.positionAfter,position:y.convertViewPositionToModelPosition(D.position),afterLineNumber:y.convertViewPositionToModelPosition(new f.Position(D.afterLineNumber,1)).lineNumber}}}e.ViewUserInputEvents=k}),define(ie[5],ne([1,0,9]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Range=void 0;class k{constructor(D,y,p,w){D>p||D===p&&y>w?(this.startLineNumber=p,this.startColumn=w,this.endLineNumber=D,this.endColumn=y):(this.startLineNumber=D,this.startColumn=y,this.endLineNumber=p,this.endColumn=w)}isEmpty(){return k.isEmpty(this)}static isEmpty(D){return D.startLineNumber===D.endLineNumber&&D.startColumn===D.endColumn}containsPosition(D){return k.containsPosition(this,D)}static containsPosition(D,y){return!(y.lineNumber<D.startLineNumber||y.lineNumber>D.endLineNumber||y.lineNumber===D.startLineNumber&&y.column<D.startColumn||y.lineNumber===D.endLineNumber&&y.column>D.endColumn)}static strictContainsPosition(D,y){return!(y.lineNumber<D.startLineNumber||y.lineNumber>D.endLineNumber||y.lineNumber===D.startLineNumber&&y.column<=D.startColumn||y.lineNumber===D.endLineNumber&&y.column>=D.endColumn)}containsRange(D){return k.containsRange(this,D)}static containsRange(D,y){return!(y.startLineNumber<D.startLineNumber||y.endLineNumber<D.startLineNumber||y.startLineNumber>D.endLineNumber||y.endLineNumber>D.endLineNumber||y.startLineNumber===D.startLineNumber&&y.startColumn<D.startColumn||y.endLineNumber===D.endLineNumber&&y.endColumn>D.endColumn)}strictContainsRange(D){return k.strictContainsRange(this,D)}static strictContainsRange(D,y){return!(y.startLineNumber<D.startLineNumber||y.endLineNumber<D.startLineNumber||y.startLineNumber>D.endLineNumber||y.endLineNumber>D.endLineNumber||y.startLineNumber===D.startLineNumber&&y.startColumn<=D.startColumn||y.endLineNumber===D.endLineNumber&&y.endColumn>=D.endColumn)}plusRange(D){return k.plusRange(this,D)}static plusRange(D,y){let p,w,b,C;return y.startLineNumber<D.startLineNumber?(p=y.startLineNumber,w=y.startColumn):y.startLineNumber===D.startLineNumber?(p=y.startLineNumber,w=Math.min(y.startColumn,D.startColumn)):(p=D.startLineNumber,w=D.startColumn),y.endLineNumber>D.endLineNumber?(b=y.endLineNumber,C=y.endColumn):y.endLineNumber===D.endLineNumber?(b=y.endLineNumber,C=Math.max(y.endColumn,D.endColumn)):(b=D.endLineNumber,C=D.endColumn),new k(p,w,b,C)}intersectRanges(D){return k.intersectRanges(this,D)}static intersectRanges(D,y){let p=D.startLineNumber,w=D.startColumn,b=D.endLineNumber,C=D.endColumn;const o=y.startLineNumber,s=y.startColumn,i=y.endLineNumber,t=y.endColumn;return p<o?(p=o,w=s):p===o&&(w=Math.max(w,s)),b>i?(b=i,C=t):b===i&&(C=Math.min(C,t)),p>b||p===b&&w>C?null:new k(p,w,b,C)}equalsRange(D){return k.equalsRange(this,D)}static equalsRange(D,y){return!D&&!y?!0:!!D&&!!y&&D.startLineNumber===y.startLineNumber&&D.startColumn===y.startColumn&&D.endLineNumber===y.endLineNumber&&D.endColumn===y.endColumn}getEndPosition(){return k.getEndPosition(this)}static getEndPosition(D){return new f.Position(D.endLineNumber,D.endColumn)}getStartPosition(){return k.getStartPosition(this)}static getStartPosition(D){return new f.Position(D.startLineNumber,D.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(D,y){return new k(this.startLineNumber,this.startColumn,D,y)}setStartPosition(D,y){return new k(D,y,this.endLineNumber,this.endColumn)}collapseToStart(){return k.collapseToStart(this)}static collapseToStart(D){return new k(D.startLineNumber,D.startColumn,D.startLineNumber,D.startColumn)}collapseToEnd(){return k.collapseToEnd(this)}static collapseToEnd(D){return new k(D.endLineNumber,D.endColumn,D.endLineNumber,D.endColumn)}delta(D){return new k(this.startLineNumber+D,this.startColumn,this.endLineNumber+D,this.endColumn)}static fromPositions(D,y=D){return new k(D.lineNumber,D.column,y.lineNumber,y.column)}static lift(D){return D?new k(D.startLineNumber,D.startColumn,D.endLineNumber,D.endColumn):null}static isIRange(D){return D&&typeof D.startLineNumber=="number"&&typeof D.startColumn=="number"&&typeof D.endLineNumber=="number"&&typeof D.endColumn=="number"}static areIntersectingOrTouching(D,y){return!(D.endLineNumber<y.startLineNumber||D.endLineNumber===y.startLineNumber&&D.endColumn<y.startColumn||y.endLineNumber<D.startLineNumber||y.endLineNumber===D.startLineNumber&&y.endColumn<D.startColumn)}static areIntersecting(D,y){return!(D.endLineNumber<y.startLineNumber||D.endLineNumber===y.startLineNumber&&D.endColumn<=y.startColumn||y.endLineNumber<D.startLineNumber||y.endLineNumber===D.startLineNumber&&y.endColumn<=D.startColumn)}static compareRangesUsingStarts(D,y){if(D&&y){const b=D.startLineNumber|0,C=y.startLineNumber|0;if(b===C){const o=D.startColumn|0,s=y.startColumn|0;if(o===s){const i=D.endLineNumber|0,t=y.endLineNumber|0;if(i===t){const n=D.endColumn|0,c=y.endColumn|0;return n-c}return i-t}return o-s}return b-C}return(D?1:0)-(y?1:0)}static compareRangesUsingEnds(D,y){return D.endLineNumber===y.endLineNumber?D.endColumn===y.endColumn?D.startLineNumber===y.startLineNumber?D.startColumn-y.startColumn:D.startLineNumber-y.startLineNumber:D.endColumn-y.endColumn:D.endLineNumber-y.endLineNumber}static spansMultipleLines(D){return D.endLineNumber>D.startLineNumber}toJSON(){return this}}e.Range=k}),define(ie[302],ne([1,0,12,5]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedScreenReaderStrategy=e.TextAreaState=e._debugComposition=void 0,e._debugComposition=!1;class E{constructor(p,w,b,C,o){this.value=p,this.selectionStart=w,this.selectionEnd=b,this.selection=C,this.newlineCountBeforeSelection=o}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(p,w){const b=p.getValue(),C=p.getSelectionStart(),o=p.getSelectionEnd();let s;if(w){const i=b.substring(0,C),t=w.value.substring(0,w.selectionStart);i===t&&(s=w.newlineCountBeforeSelection)}return new E(b,C,o,null,s)}collapseSelection(){return this.selectionStart===this.value.length?this:new E(this.value,this.value.length,this.value.length,null,void 0)}writeToTextArea(p,w,b){e._debugComposition&&console.log(`writeToTextArea ${p}: ${this.toString()}`),w.setValue(p,this.value),b&&w.setSelectionRange(p,this.selectionStart,this.selectionEnd)}deduceEditorPosition(p){var w,b,C,o,s,i,t,n;if(p<=this.selectionStart){const u=this.value.substring(p,this.selectionStart);return this._finishDeduceEditorPosition((b=(w=this.selection)===null||w===void 0?void 0:w.getStartPosition())!==null&&b!==void 0?b:null,u,-1)}if(p>=this.selectionEnd){const u=this.value.substring(this.selectionEnd,p);return this._finishDeduceEditorPosition((o=(C=this.selection)===null||C===void 0?void 0:C.getEndPosition())!==null&&o!==void 0?o:null,u,1)}const c=this.value.substring(this.selectionStart,p);if(c.indexOf("\u2026")===-1)return this._finishDeduceEditorPosition((i=(s=this.selection)===null||s===void 0?void 0:s.getStartPosition())!==null&&i!==void 0?i:null,c,1);const m=this.value.substring(p,this.selectionEnd);return this._finishDeduceEditorPosition((n=(t=this.selection)===null||t===void 0?void 0:t.getEndPosition())!==null&&n!==void 0?n:null,m,-1)}_finishDeduceEditorPosition(p,w,b){let C=0,o=-1;for(;(o=w.indexOf(`
`,o+1))!==-1;)C++;return[p,b*w.length,C]}static deduceInput(p,w,b){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};e._debugComposition&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`));const C=Math.min(f.commonPrefixLength(p.value,w.value),p.selectionStart,w.selectionStart),o=Math.min(f.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd,w.value.length-w.selectionEnd),s=p.value.substring(C,p.value.length-o),i=w.value.substring(C,w.value.length-o),t=p.selectionStart-C,n=p.selectionEnd-C,c=w.selectionStart-C,m=w.selectionEnd-C;if(e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${s}>, selectionStart: ${t}, selectionEnd: ${n}`),console.log(`AFTER DIFFING CURRENT STATE: <${i}>, selectionStart: ${c}, selectionEnd: ${m}`)),c===m){const r=p.selectionStart-C;return e._debugComposition&&console.log(`REMOVE PREVIOUS: ${r} chars`),{text:i,replacePrevCharCnt:r,replaceNextCharCnt:0,positionDelta:0}}const u=n-t;return{text:i,replacePrevCharCnt:u,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(p,w){if(!p)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(e._debugComposition&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${p.toString()}`),console.log(`CURRENT STATE: ${w.toString()}`)),p.value===w.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:w.selectionEnd-p.selectionEnd};const b=Math.min(f.commonPrefixLength(p.value,w.value),p.selectionEnd),C=Math.min(f.commonSuffixLength(p.value,w.value),p.value.length-p.selectionEnd),o=p.value.substring(b,p.value.length-C),s=w.value.substring(b,w.value.length-C),i=p.selectionStart-b,t=p.selectionEnd-b,n=w.selectionStart-b,c=w.selectionEnd-b;return e._debugComposition&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${o}>, selectionStart: ${i}, selectionEnd: ${t}`),console.log(`AFTER DIFFING CURRENT STATE: <${s}>, selectionStart: ${n}, selectionEnd: ${c}`)),{text:s,replacePrevCharCnt:t,replaceNextCharCnt:o.length-t,positionDelta:c-s.length}}}e.TextAreaState=E,E.EMPTY=new E("",0,0,null,void 0);class D{static _getPageOfLine(p,w){return Math.floor((p-1)/w)}static _getRangeForPage(p,w){const b=p*w,C=b+1,o=b+w;return new k.Range(C,1,o+1,1)}static fromEditorSelection(p,w,b,C){const s=D._getPageOfLine(w.startLineNumber,b),i=D._getRangeForPage(s,b),t=D._getPageOfLine(w.endLineNumber,b),n=D._getRangeForPage(t,b);let c=i.intersectRanges(new k.Range(1,1,w.startLineNumber,w.startColumn));if(C&&p.getValueLengthInRange(c,1)>500){const g=p.modifyPosition(c.getEndPosition(),-500);c=k.Range.fromPositions(g,c.getEndPosition())}const m=p.getValueInRange(c,1),u=p.getLineCount(),r=p.getLineMaxColumn(u);let a=n.intersectRanges(new k.Range(w.endLineNumber,w.endColumn,u,r));if(C&&p.getValueLengthInRange(a,1)>500){const g=p.modifyPosition(a.getStartPosition(),500);a=k.Range.fromPositions(a.getStartPosition(),g)}const h=p.getValueInRange(a,1);let l;if(s===t||s+1===t)l=p.getValueInRange(w,1);else{const g=i.intersectRanges(w),d=n.intersectRanges(w);l=p.getValueInRange(g,1)+"\u2026"+p.getValueInRange(d,1)}return C&&l.length>2*500&&(l=l.substring(0,500)+"\u2026"+l.substring(l.length-500,l.length)),new E(m+l+h,m.length,m.length+l.length,w,c.endLineNumber-c.startLineNumber)}}e.PagedScreenReaderStrategy=D}),define(ie[72],ne([1,0,5]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperation=void 0;class k{static insert(D,y){return{range:new f.Range(D.lineNumber,D.column,D.lineNumber,D.column),text:y,forceMoveMarkers:!0}}static delete(D){return{range:D,text:null}}static replace(D,y){return{range:D,text:y}}static replaceMove(D,y){return{range:D,text:y,forceMoveMarkers:!0}}}e.EditOperation=k}),define(ie[531],ne([1,0,12,72,5]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TrimTrailingWhitespaceCommand=void 0,e.trimTrailingWhitespace=y;class D{constructor(w,b,C){this._selection=w,this._cursors=b,this._selectionId=null,this._trimInRegexesAndStrings=C}getEditOperations(w,b){const C=y(w,this._cursors,this._trimInRegexesAndStrings);for(let o=0,s=C.length;o<s;o++){const i=C[o];b.addEditOperation(i.range,i.text)}this._selectionId=b.trackSelection(this._selection)}computeCursorState(w,b){return b.getTrackedSelection(this._selectionId)}}e.TrimTrailingWhitespaceCommand=D;function y(p,w,b){w.sort((t,n)=>t.lineNumber===n.lineNumber?t.column-n.column:t.lineNumber-n.lineNumber);for(let t=w.length-2;t>=0;t--)w[t].lineNumber===w[t+1].lineNumber&&w.splice(t,1);const C=[];let o=0,s=0;const i=w.length;for(let t=1,n=p.getLineCount();t<=n;t++){const c=p.getLineContent(t),m=c.length+1;let u=0;if(s<i&&w[s].lineNumber===t&&(u=w[s].column,s++,u===m)||c.length===0)continue;const r=f.lastNonWhitespaceIndex(c);let a=0;if(r===-1)a=1;else if(r!==c.length-1)a=r+2;else continue;if(!b){if(!p.tokenization.hasAccurateTokensForLine(t))continue;const h=p.tokenization.getLineTokens(t),l=h.getStandardTokenType(h.findTokenIndexAtOffset(a));if(l===2||l===3)continue}a=Math.max(u,a),C[o++]=k.EditOperation.delete(new E.Range(t,a,t,m))}return C}}),define(ie[59],ne([1,0,10,65,5,67]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeSet=e.LineRange=void 0;class y{static fromRangeInclusive(b){return new y(b.startLineNumber,b.endLineNumber+1)}static joinMany(b){if(b.length===0)return[];let C=new p(b[0].slice());for(let o=1;o<b.length;o++)C=C.getUnion(new p(b[o].slice()));return C.ranges}static join(b){if(b.length===0)throw new f.BugIndicatingError("lineRanges cannot be empty");let C=b[0].startLineNumber,o=b[0].endLineNumberExclusive;for(let s=1;s<b.length;s++)C=Math.min(C,b[s].startLineNumber),o=Math.max(o,b[s].endLineNumberExclusive);return new y(C,o)}static ofLength(b,C){return new y(b,b+C)}static deserialize(b){return new y(b[0],b[1])}constructor(b,C){if(b>C)throw new f.BugIndicatingError(`startLineNumber ${b} cannot be after endLineNumberExclusive ${C}`);this.startLineNumber=b,this.endLineNumberExclusive=C}contains(b){return this.startLineNumber<=b&&b<this.endLineNumberExclusive}get isEmpty(){return this.startLineNumber===this.endLineNumberExclusive}delta(b){return new y(this.startLineNumber+b,this.endLineNumberExclusive+b)}deltaLength(b){return new y(this.startLineNumber,this.endLineNumberExclusive+b)}get length(){return this.endLineNumberExclusive-this.startLineNumber}join(b){return new y(Math.min(this.startLineNumber,b.startLineNumber),Math.max(this.endLineNumberExclusive,b.endLineNumberExclusive))}toString(){return`[${this.startLineNumber},${this.endLineNumberExclusive})`}intersect(b){const C=Math.max(this.startLineNumber,b.startLineNumber),o=Math.min(this.endLineNumberExclusive,b.endLineNumberExclusive);if(C<=o)return new y(C,o)}intersectsStrict(b){return this.startLineNumber<b.endLineNumberExclusive&&b.startLineNumber<this.endLineNumberExclusive}overlapOrTouch(b){return this.startLineNumber<=b.endLineNumberExclusive&&b.startLineNumber<=this.endLineNumberExclusive}equals(b){return this.startLineNumber===b.startLineNumber&&this.endLineNumberExclusive===b.endLineNumberExclusive}toInclusiveRange(){return this.isEmpty?null:new E.Range(this.startLineNumber,1,this.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER)}toExclusiveRange(){return new E.Range(this.startLineNumber,1,this.endLineNumberExclusive,1)}mapToLineArray(b){const C=[];for(let o=this.startLineNumber;o<this.endLineNumberExclusive;o++)C.push(b(o));return C}forEach(b){for(let C=this.startLineNumber;C<this.endLineNumberExclusive;C++)b(C)}serialize(){return[this.startLineNumber,this.endLineNumberExclusive]}includes(b){return this.startLineNumber<=b&&b<this.endLineNumberExclusive}toOffsetRange(){return new k.OffsetRange(this.startLineNumber-1,this.endLineNumberExclusive-1)}}e.LineRange=y;class p{constructor(b=[]){this._normalizedRanges=b}get ranges(){return this._normalizedRanges}addRange(b){if(b.length===0)return;const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,s=>s.endLineNumberExclusive>=b.startLineNumber),o=(0,D.findLastIdxMonotonous)(this._normalizedRanges,s=>s.startLineNumber<=b.endLineNumberExclusive)+1;if(C===o)this._normalizedRanges.splice(C,0,b);else if(C===o-1){const s=this._normalizedRanges[C];this._normalizedRanges[C]=s.join(b)}else{const s=this._normalizedRanges[C].join(this._normalizedRanges[o-1]).join(b);this._normalizedRanges.splice(C,o-C,s)}}contains(b){const C=(0,D.findLastMonotonous)(this._normalizedRanges,o=>o.startLineNumber<=b);return!!C&&C.endLineNumberExclusive>b}intersects(b){const C=(0,D.findLastMonotonous)(this._normalizedRanges,o=>o.startLineNumber<b.endLineNumberExclusive);return!!C&&C.endLineNumberExclusive>b.startLineNumber}getUnion(b){if(this._normalizedRanges.length===0)return b;if(b._normalizedRanges.length===0)return this;const C=[];let o=0,s=0,i=null;for(;o<this._normalizedRanges.length||s<b._normalizedRanges.length;){let t=null;if(o<this._normalizedRanges.length&&s<b._normalizedRanges.length){const n=this._normalizedRanges[o],c=b._normalizedRanges[s];n.startLineNumber<c.startLineNumber?(t=n,o++):(t=c,s++)}else o<this._normalizedRanges.length?(t=this._normalizedRanges[o],o++):(t=b._normalizedRanges[s],s++);i===null?i=t:i.endLineNumberExclusive>=t.startLineNumber?i=new y(i.startLineNumber,Math.max(i.endLineNumberExclusive,t.endLineNumberExclusive)):(C.push(i),i=t)}return i!==null&&C.push(i),new p(C)}subtractFrom(b){const C=(0,D.findFirstIdxMonotonousOrArrLen)(this._normalizedRanges,t=>t.endLineNumberExclusive>=b.startLineNumber),o=(0,D.findLastIdxMonotonous)(this._normalizedRanges,t=>t.startLineNumber<=b.endLineNumberExclusive)+1;if(C===o)return new p([b]);const s=[];let i=b.startLineNumber;for(let t=C;t<o;t++){const n=this._normalizedRanges[t];n.startLineNumber>i&&s.push(new y(i,n.startLineNumber)),i=n.endLineNumberExclusive}return i<b.endLineNumberExclusive&&s.push(new y(i,b.endLineNumberExclusive)),new p(s)}toString(){return this._normalizedRanges.map(b=>b.toString()).join(", ")}getIntersection(b){const C=[];let o=0,s=0;for(;o<this._normalizedRanges.length&&s<b._normalizedRanges.length;){const i=this._normalizedRanges[o],t=b._normalizedRanges[s],n=i.intersect(t);n&&!n.isEmpty&&C.push(n),i.endLineNumberExclusive<t.endLineNumberExclusive?o++:s++}return new p(C)}getWithDelta(b){return new p(this._normalizedRanges.map(C=>C.delta(b)))}}e.LineRangeSet=p}),define(ie[303],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RGBA8=void 0;class f{constructor(E,D,y,p){this._rgba8Brand=void 0,this.r=f._clamp(E),this.g=f._clamp(D),this.b=f._clamp(y),this.a=f._clamp(p)}equals(E){return this.r===E.r&&this.g===E.g&&this.b===E.b&&this.a===E.a}static _clamp(E){return E<0?0:E>255?255:E|0}}e.RGBA8=f,f.Empty=new f(0,0,0,0)}),define(ie[24],ne([1,0,9,5]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Selection=void 0;class E extends k.Range{constructor(y,p,w,b){super(y,p,w,b),this.selectionStartLineNumber=y,this.selectionStartColumn=p,this.positionLineNumber=w,this.positionColumn=b}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(y){return E.selectionsEqual(this,y)}static selectionsEqual(y,p){return y.selectionStartLineNumber===p.selectionStartLineNumber&&y.selectionStartColumn===p.selectionStartColumn&&y.positionLineNumber===p.positionLineNumber&&y.positionColumn===p.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(y,p){return this.getDirection()===0?new E(this.startLineNumber,this.startColumn,y,p):new E(y,p,this.startLineNumber,this.startColumn)}getPosition(){return new f.Position(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new f.Position(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(y,p){return this.getDirection()===0?new E(y,p,this.endLineNumber,this.endColumn):new E(this.endLineNumber,this.endColumn,y,p)}static fromPositions(y,p=y){return new E(y.lineNumber,y.column,p.lineNumber,p.column)}static fromRange(y,p){return p===0?new E(y.startLineNumber,y.startColumn,y.endLineNumber,y.endColumn):new E(y.endLineNumber,y.endColumn,y.startLineNumber,y.startColumn)}static liftSelection(y){return new E(y.selectionStartLineNumber,y.selectionStartColumn,y.positionLineNumber,y.positionColumn)}static selectionsArrEqual(y,p){if(y&&!p||!y&&p)return!1;if(!y&&!p)return!0;if(y.length!==p.length)return!1;for(let w=0,b=y.length;w<b;w++)if(!this.selectionsEqual(y[w],p[w]))return!1;return!0}static isISelection(y){return y&&typeof y.selectionStartLineNumber=="number"&&typeof y.selectionStartColumn=="number"&&typeof y.positionLineNumber=="number"&&typeof y.positionColumn=="number"}static createWithDirection(y,p,w,b,C){return C===0?new E(y,p,w,b):new E(w,b,y,p)}}e.Selection=E}),define(ie[141],ne([1,0,24]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceCommandThatPreservesSelection=e.ReplaceCommandWithOffsetCursorState=e.ReplaceCommandWithoutChangingPosition=e.ReplaceCommandThatSelectsText=e.ReplaceCommand=void 0;class k{constructor(b,C,o=!1){this._range=b,this._text=C,this.insertsAutoWhitespace=o}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const s=C.getInverseEditOperations()[0].range;return f.Selection.fromPositions(s.getEndPosition())}}e.ReplaceCommand=k;class E{constructor(b,C){this._range=b,this._text=C}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const s=C.getInverseEditOperations()[0].range;return f.Selection.fromRange(s,0)}}e.ReplaceCommandThatSelectsText=E;class D{constructor(b,C,o=!1){this._range=b,this._text=C,this.insertsAutoWhitespace=o}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const s=C.getInverseEditOperations()[0].range;return f.Selection.fromPositions(s.getStartPosition())}}e.ReplaceCommandWithoutChangingPosition=D;class y{constructor(b,C,o,s,i=!1){this._range=b,this._text=C,this._columnDeltaOffset=s,this._lineNumberDeltaOffset=o,this.insertsAutoWhitespace=i}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text)}computeCursorState(b,C){const s=C.getInverseEditOperations()[0].range;return f.Selection.fromPositions(s.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}e.ReplaceCommandWithOffsetCursorState=y;class p{constructor(b,C,o,s=!1){this._range=b,this._text=C,this._initialSelection=o,this._forceMoveMarkers=s,this._selectionId=null}getEditOperations(b,C){C.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=C.trackSelection(this._initialSelection)}computeCursorState(b,C){return C.getTrackedSelection(this._selectionId)}}e.ReplaceCommandThatPreservesSelection=p}),define(ie[532],ne([1,0,5,24]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionSurroundSelectionCommand=e.SurroundSelectionCommand=void 0;class E{constructor(p,w,b){this._range=p,this._charBeforeSelection=w,this._charAfterSelection=b}getEditOperations(p,w){w.addTrackedEditOperation(new f.Range(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),w.addTrackedEditOperation(new f.Range(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(p,w){const b=w.getInverseEditOperations(),C=b[0].range,o=b[1].range;return new k.Selection(C.endLineNumber,C.endColumn,o.endLineNumber,o.endColumn-this._charAfterSelection.length)}}e.SurroundSelectionCommand=E;class D{constructor(p,w,b){this._position=p,this._text=w,this._charAfter=b}getEditOperations(p,w){w.addTrackedEditOperation(new f.Range(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(p,w){const C=w.getInverseEditOperations()[0].range;return new k.Selection(C.endLineNumber,C.startColumn,C.endLineNumber,C.endColumn-this._charAfter.length)}}e.CompositionSurroundSelectionCommand=D}),define(ie[108],ne([1,0,9,5]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextLength=void 0;class E{static betweenPositions(y,p){return y.lineNumber===p.lineNumber?new E(0,p.column-y.column):new E(p.lineNumber-y.lineNumber,p.column-1)}static ofRange(y){return E.betweenPositions(y.getStartPosition(),y.getEndPosition())}static ofText(y){let p=0,w=0;for(const b of y)b===`
`?(p++,w=0):w++;return new E(p,w)}constructor(y,p){this.lineCount=y,this.columnCount=p}isGreaterThanOrEqualTo(y){return this.lineCount!==y.lineCount?this.lineCount>y.lineCount:this.columnCount>=y.columnCount}createRange(y){return this.lineCount===0?new k.Range(y.lineNumber,y.column,y.lineNumber,y.column+this.columnCount):new k.Range(y.lineNumber,y.column,y.lineNumber+this.lineCount,this.columnCount+1)}addToPosition(y){return this.lineCount===0?new f.Position(y.lineNumber,y.column+this.columnCount):new f.Position(y.lineNumber+this.lineCount,this.columnCount+1)}toString(){return`${this.lineCount},${this.columnCount}`}}e.TextLength=E,E.zero=new E(0,0)}),define(ie[533],ne([1,0,65,108]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PositionOffsetTransformer=void 0;class E{constructor(y){this.text=y,this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let p=0;p<y.length;p++)y.charAt(p)===`
`&&this.lineStartOffsetByLineIdx.push(p+1)}getOffset(y){return this.lineStartOffsetByLineIdx[y.lineNumber-1]+y.column-1}getOffsetRange(y){return new f.OffsetRange(this.getOffset(y.getStartPosition()),this.getOffset(y.getEndPosition()))}get textLength(){const y=this.lineStartOffsetByLineIdx.length-1;return new k.TextLength(y,this.text.length-this.lineStartOffsetByLineIdx[y])}}e.PositionOffsetTransformer=E}),define(ie[109],ne([1,0,87,10,9,533,5,108]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringText=e.AbstractText=e.SingleTextEdit=e.TextEdit=void 0;class w{constructor(t){this.edits=t,(0,f.assertFn)(()=>(0,f.checkAdjacentItems)(t,(n,c)=>n.range.getEndPosition().isBeforeOrEqual(c.range.getStartPosition())))}apply(t){let n="",c=new E.Position(1,1);for(const u of this.edits){const r=u.range,a=r.getStartPosition(),h=r.getEndPosition(),l=C(c,a);l.isEmpty()||(n+=t.getValueOfRange(l)),n+=u.text,c=h}const m=C(c,t.endPositionExclusive);return m.isEmpty()||(n+=t.getValueOfRange(m)),n}applyToString(t){const n=new s(t);return this.apply(n)}getNewRanges(){const t=[];let n=0,c=0,m=0;for(const u of this.edits){const r=p.TextLength.ofText(u.text),a=E.Position.lift({lineNumber:u.range.startLineNumber+c,column:u.range.startColumn+(u.range.startLineNumber===n?m:0)}),h=r.createRange(a);t.push(h),c=h.endLineNumber-u.range.endLineNumber,m=h.endColumn-u.range.endColumn,n=u.range.endLineNumber}return t}}e.TextEdit=w;class b{constructor(t,n){this.range=t,this.text=n}}e.SingleTextEdit=b;function C(i,t){if(i.lineNumber===t.lineNumber&&i.column===Number.MAX_SAFE_INTEGER)return y.Range.fromPositions(t,t);if(!i.isBeforeOrEqual(t))throw new k.BugIndicatingError("start must be before end");return new y.Range(i.lineNumber,i.column,t.lineNumber,t.column)}class o{get endPositionExclusive(){return this.length.addToPosition(new E.Position(1,1))}}e.AbstractText=o;class s extends o{constructor(t){super(),this.value=t,this._t=new D.PositionOffsetTransformer(this.value)}getValueOfRange(t){return this._t.getOffsetRange(t).substring(this.value)}get length(){return this._t.textLength}}e.StringText=s}),define(ie[191],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EDITOR_MODEL_DEFAULTS=void 0,e.EDITOR_MODEL_DEFAULTS={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}}),define(ie[161],ne([1,0,45,139]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordCharacterClassifier=void 0,e.getMapForWordSeparators=y;class E extends k.CharacterClassifier{constructor(w,b){super(0),this._segmenter=null,this._cachedLine=null,this._cachedSegments=[],this.intlSegmenterLocales=b,this.intlSegmenterLocales.length>0?this._segmenter=new Intl.Segmenter(this.intlSegmenterLocales,{granularity:"word"}):this._segmenter=null;for(let C=0,o=w.length;C<o;C++)this.set(w.charCodeAt(C),2);this.set(32,1),this.set(9,1)}findPrevIntlWordBeforeOrAtOffset(w,b){let C=null;for(const o of this._getIntlSegmenterWordsOnLine(w)){if(o.index>b)break;C=o}return C}findNextIntlWordAtOrAfterOffset(w,b){for(const C of this._getIntlSegmenterWordsOnLine(w))if(!(C.index<b))return C;return null}_getIntlSegmenterWordsOnLine(w){return this._segmenter?this._cachedLine===w?this._cachedSegments:(this._cachedLine=w,this._cachedSegments=this._filterWordSegments(this._segmenter.segment(w)),this._cachedSegments):[]}_filterWordSegments(w){const b=[];for(const C of w)this._isWordLike(C)&&b.push(C);return b}_isWordLike(w){return!!w.isWordLike}}e.WordCharacterClassifier=E;const D=new f.LRUCache(10);function y(p,w){const b=`${p}/${w.join(",")}`;let C=D.get(b);return C||(C=new E(p,w),D.set(b,C)),C}}),define(ie[162],ne([1,0,54,70]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_WORD_REGEXP=e.USUAL_WORD_SEPARATORS=void 0,e.ensureValidWordDefinition=D,e.getWordAtText=p,e.USUAL_WORD_SEPARATORS="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function E(b=""){let C="(-?\\d*\\.\\d\\w*)|([^";for(const o of e.USUAL_WORD_SEPARATORS)b.indexOf(o)>=0||(C+="\\"+o);return C+="\\s]+)",new RegExp(C,"g")}e.DEFAULT_WORD_REGEXP=E();function D(b){let C=e.DEFAULT_WORD_REGEXP;if(b&&b instanceof RegExp)if(b.global)C=b;else{let o="g";b.ignoreCase&&(o+="i"),b.multiline&&(o+="m"),b.unicode&&(o+="u"),C=new RegExp(b.source,o)}return C.lastIndex=0,C}const y=new k.LinkedList;y.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function p(b,C,o,s,i){if(C=D(C),i||(i=f.Iterable.first(y)),o.length>i.maxLen){let u=b-i.maxLen/2;return u<0?u=0:s+=u,o=o.substring(u,b+i.maxLen/2),p(b,C,o,s,i)}const t=Date.now(),n=b-1-s;let c=-1,m=null;for(let u=1;!(Date.now()-t>=i.timeBudget);u++){const r=n-i.windowSize*u;C.lastIndex=Math.max(0,r);const a=w(C,o,n,c);if(!a&&m||(m=a,r<=0))break;c=r}if(m){const u={word:m[0],startColumn:s+1+m.index,endColumn:s+1+m.index+m[0].length};return C.lastIndex=0,u}return null}function w(b,C,o,s){let i;for(;i=b.exec(C);){const t=i.index||0;if(t<=o&&b.lastIndex>=o)return i;if(s>0&&t>s)return null}return null}}),define(ie[304],ne([1,0,90]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AtomicTabMoveOperations=void 0;class k{static whitespaceVisibleColumn(D,y,p){const w=D.length;let b=0,C=-1,o=-1;for(let s=0;s<w;s++){if(s===y)return[C,o,b];switch(b%p===0&&(C=s,o=b),D.charCodeAt(s)){case 32:b+=1;break;case 9:b=f.CursorColumns.nextRenderTabStop(b,p);break;default:return[-1,-1,-1]}}return y===w?[C,o,b]:[-1,-1,-1]}static atomicPosition(D,y,p,w){const b=D.length,[C,o,s]=k.whitespaceVisibleColumn(D,y,p);if(s===-1)return-1;let i;switch(w){case 0:i=!0;break;case 1:i=!1;break;case 2:if(s%p===0)return y;i=s%p<=p/2;break}if(i){if(C===-1)return-1;let c=o;for(let m=C;m<b;++m){if(c===o+p)return C;switch(D.charCodeAt(m)){case 32:c+=1;break;case 9:c=f.CursorColumns.nextRenderTabStop(c,p);break;default:return-1}}return c===o+p?C:-1}const t=f.CursorColumns.nextRenderTabStop(s,p);let n=s;for(let c=y;c<b;c++){if(n===t)return c;switch(D.charCodeAt(c)){case 32:n+=1;break;case 9:n=f.CursorColumns.nextRenderTabStop(n,p);break;default:return-1}}return n===t?b:-1}}e.AtomicTabMoveOperations=k}),define(ie[534],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorContext=void 0;class f{constructor(E,D,y,p){this._cursorContextBrand=void 0,this.model=E,this.viewModel=D,this.coordinatesConverter=y,this.cursorConfig=p}}e.CursorContext=f}),define(ie[163],ne([1,0,13,10,65]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DateTimeout=e.InfiniteTimeout=e.OffsetPair=e.SequenceDiff=e.DiffAlgorithmResult=void 0;class D{static trivial(o,s){return new D([new y(E.OffsetRange.ofLength(o.length),E.OffsetRange.ofLength(s.length))],!1)}static trivialTimedOut(o,s){return new D([new y(E.OffsetRange.ofLength(o.length),E.OffsetRange.ofLength(s.length))],!0)}constructor(o,s){this.diffs=o,this.hitTimeout=s}}e.DiffAlgorithmResult=D;class y{static invert(o,s){const i=[];return(0,f.forEachAdjacent)(o,(t,n)=>{i.push(y.fromOffsetPairs(t?t.getEndExclusives():p.zero,n?n.getStarts():new p(s,(t?t.seq2Range.endExclusive-t.seq1Range.endExclusive:0)+s)))}),i}static fromOffsetPairs(o,s){return new y(new E.OffsetRange(o.offset1,s.offset1),new E.OffsetRange(o.offset2,s.offset2))}constructor(o,s){this.seq1Range=o,this.seq2Range=s}swap(){return new y(this.seq2Range,this.seq1Range)}toString(){return`${this.seq1Range} <-> ${this.seq2Range}`}join(o){return new y(this.seq1Range.join(o.seq1Range),this.seq2Range.join(o.seq2Range))}delta(o){return o===0?this:new y(this.seq1Range.delta(o),this.seq2Range.delta(o))}deltaStart(o){return o===0?this:new y(this.seq1Range.deltaStart(o),this.seq2Range.deltaStart(o))}deltaEnd(o){return o===0?this:new y(this.seq1Range.deltaEnd(o),this.seq2Range.deltaEnd(o))}intersect(o){const s=this.seq1Range.intersect(o.seq1Range),i=this.seq2Range.intersect(o.seq2Range);if(!(!s||!i))return new y(s,i)}getStarts(){return new p(this.seq1Range.start,this.seq2Range.start)}getEndExclusives(){return new p(this.seq1Range.endExclusive,this.seq2Range.endExclusive)}}e.SequenceDiff=y;class p{constructor(o,s){this.offset1=o,this.offset2=s}toString(){return`${this.offset1} <-> ${this.offset2}`}delta(o){return o===0?this:new p(this.offset1+o,this.offset2+o)}equals(o){return this.offset1===o.offset1&&this.offset2===o.offset2}}e.OffsetPair=p,p.zero=new p(0,0),p.max=new p(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);class w{isValid(){return!0}}e.InfiniteTimeout=w,w.instance=new w;class b{constructor(o){if(this.timeout=o,this.startTime=Date.now(),this.valid=!0,o<=0)throw new k.BugIndicatingError("timeout must be positive")}isValid(){if(!(Date.now()-this.startTime<this.timeout)&&this.valid){this.valid=!1;debugger}return this.valid}}e.DateTimeout=b}),define(ie[305],ne([1,0,65,163]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MyersDiffAlgorithm=void 0;class E{compute(b,C,o=k.InfiniteTimeout.instance){if(b.length===0||C.length===0)return k.DiffAlgorithmResult.trivial(b,C);const s=b,i=C;function t(g,d){for(;g<s.length&&d<i.length&&s.getElement(g)===i.getElement(d);)g++,d++;return g}let n=0;const c=new y;c.set(0,t(0,0));const m=new p;m.set(0,c.get(0)===0?null:new D(null,0,0,c.get(0)));let u=0;e:for(;;){if(n++,!o.isValid())return k.DiffAlgorithmResult.trivialTimedOut(s,i);const g=-Math.min(n,i.length+n%2),d=Math.min(n,s.length+n%2);for(u=g;u<=d;u+=2){let v=0;const _=u===d?-1:c.get(u+1),S=u===g?-1:c.get(u-1)+1;v++;const L=Math.min(Math.max(_,S),s.length),I=L-u;if(v++,L>s.length||I>i.length)continue;const T=t(L,I);c.set(u,T);const N=L===_?m.get(u+1):m.get(u-1);if(m.set(u,T!==L?new D(N,L,I,T-L):N),c.get(u)===s.length&&c.get(u)-u===i.length)break e}}let r=m.get(u);const a=[];let h=s.length,l=i.length;for(;;){const g=r?r.x+r.length:0,d=r?r.y+r.length:0;if((g!==h||d!==l)&&a.push(new k.SequenceDiff(new f.OffsetRange(g,h),new f.OffsetRange(d,l))),!r)break;h=r.x,l=r.y,r=r.prev}return a.reverse(),new k.DiffAlgorithmResult(a,!1)}}e.MyersDiffAlgorithm=E;class D{constructor(b,C,o,s){this.prev=b,this.x=C,this.y=o,this.length=s}}class y{constructor(){this.positiveArr=new Int32Array(10),this.negativeArr=new Int32Array(10)}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,C){if(b<0){if(b=-b-1,b>=this.negativeArr.length){const o=this.negativeArr;this.negativeArr=new Int32Array(o.length*2),this.negativeArr.set(o)}this.negativeArr[b]=C}else{if(b>=this.positiveArr.length){const o=this.positiveArr;this.positiveArr=new Int32Array(o.length*2),this.positiveArr.set(o)}this.positiveArr[b]=C}}}class p{constructor(){this.positiveArr=[],this.negativeArr=[]}get(b){return b<0?(b=-b-1,this.negativeArr[b]):this.positiveArr[b]}set(b,C){b<0?(b=-b-1,this.negativeArr[b]=C):this.positiveArr[b]=C}}}),define(ie[306],ne([1,0,13,65,163]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.optimizeSequenceDiffs=D,e.removeShortMatches=b,e.extendDiffsToEntireWordIfAppropriate=C,e.removeVeryShortMatchingLinesBetweenDiffs=s,e.removeVeryShortMatchingTextBetweenLongDiffs=i;function D(t,n,c){let m=c;return m=y(t,n,m),m=y(t,n,m),m=p(t,n,m),m}function y(t,n,c){if(c.length===0)return c;const m=[];m.push(c[0]);for(let r=1;r<c.length;r++){const a=m[m.length-1];let h=c[r];if(h.seq1Range.isEmpty||h.seq2Range.isEmpty){const l=h.seq1Range.start-a.seq1Range.endExclusive;let g;for(g=1;g<=l&&!(t.getElement(h.seq1Range.start-g)!==t.getElement(h.seq1Range.endExclusive-g)||n.getElement(h.seq2Range.start-g)!==n.getElement(h.seq2Range.endExclusive-g));g++);if(g--,g===l){m[m.length-1]=new E.SequenceDiff(new k.OffsetRange(a.seq1Range.start,h.seq1Range.endExclusive-l),new k.OffsetRange(a.seq2Range.start,h.seq2Range.endExclusive-l));continue}h=h.delta(-g)}m.push(h)}const u=[];for(let r=0;r<m.length-1;r++){const a=m[r+1];let h=m[r];if(h.seq1Range.isEmpty||h.seq2Range.isEmpty){const l=a.seq1Range.start-h.seq1Range.endExclusive;let g;for(g=0;g<l&&!(!t.isStronglyEqual(h.seq1Range.start+g,h.seq1Range.endExclusive+g)||!n.isStronglyEqual(h.seq2Range.start+g,h.seq2Range.endExclusive+g));g++);if(g===l){m[r+1]=new E.SequenceDiff(new k.OffsetRange(h.seq1Range.start+l,a.seq1Range.endExclusive),new k.OffsetRange(h.seq2Range.start+l,a.seq2Range.endExclusive));continue}g>0&&(h=h.delta(g))}u.push(h)}return m.length>0&&u.push(m[m.length-1]),u}function p(t,n,c){if(!t.getBoundaryScore||!n.getBoundaryScore)return c;for(let m=0;m<c.length;m++){const u=m>0?c[m-1]:void 0,r=c[m],a=m+1<c.length?c[m+1]:void 0,h=new k.OffsetRange(u?u.seq1Range.endExclusive+1:0,a?a.seq1Range.start-1:t.length),l=new k.OffsetRange(u?u.seq2Range.endExclusive+1:0,a?a.seq2Range.start-1:n.length);r.seq1Range.isEmpty?c[m]=w(r,t,n,h,l):r.seq2Range.isEmpty&&(c[m]=w(r.swap(),n,t,l,h).swap())}return c}function w(t,n,c,m,u){let a=1;for(;t.seq1Range.start-a>=m.start&&t.seq2Range.start-a>=u.start&&c.isStronglyEqual(t.seq2Range.start-a,t.seq2Range.endExclusive-a)&&a<100;)a++;a--;let h=0;for(;t.seq1Range.start+h<m.endExclusive&&t.seq2Range.endExclusive+h<u.endExclusive&&c.isStronglyEqual(t.seq2Range.start+h,t.seq2Range.endExclusive+h)&&h<100;)h++;if(a===0&&h===0)return t;let l=0,g=-1;for(let d=-a;d<=h;d++){const v=t.seq2Range.start+d,_=t.seq2Range.endExclusive+d,S=t.seq1Range.start+d,L=n.getBoundaryScore(S)+c.getBoundaryScore(v)+c.getBoundaryScore(_);L>g&&(g=L,l=d)}return t.delta(l)}function b(t,n,c){const m=[];for(const u of c){const r=m[m.length-1];if(!r){m.push(u);continue}u.seq1Range.start-r.seq1Range.endExclusive<=2||u.seq2Range.start-r.seq2Range.endExclusive<=2?m[m.length-1]=new E.SequenceDiff(r.seq1Range.join(u.seq1Range),r.seq2Range.join(u.seq2Range)):m.push(u)}return m}function C(t,n,c){const m=E.SequenceDiff.invert(c,t.length),u=[];let r=new E.OffsetPair(0,0);function a(l,g){if(l.offset1<r.offset1||l.offset2<r.offset2)return;const d=t.findWordContaining(l.offset1),v=n.findWordContaining(l.offset2);if(!d||!v)return;let _=new E.SequenceDiff(d,v);const S=_.intersect(g);let L=S.seq1Range.length,I=S.seq2Range.length;for(;m.length>0;){const T=m[0];if(!(T.seq1Range.intersects(_.seq1Range)||T.seq2Range.intersects(_.seq2Range)))break;const A=t.findWordContaining(T.seq1Range.start),O=n.findWordContaining(T.seq2Range.start),M=new E.SequenceDiff(A,O),R=M.intersect(T);if(L+=R.seq1Range.length,I+=R.seq2Range.length,_=_.join(M),_.seq1Range.endExclusive>=T.seq1Range.endExclusive)m.shift();else break}L+I<(_.seq1Range.length+_.seq2Range.length)*2/3&&u.push(_),r=_.getEndExclusives()}for(;m.length>0;){const l=m.shift();l.seq1Range.isEmpty||(a(l.getStarts(),l),a(l.getEndExclusives().delta(-1),l))}return o(c,u)}function o(t,n){const c=[];for(;t.length>0||n.length>0;){const m=t[0],u=n[0];let r;m&&(!u||m.seq1Range.start<u.seq1Range.start)?r=t.shift():r=n.shift(),c.length>0&&c[c.length-1].seq1Range.endExclusive>=r.seq1Range.start?c[c.length-1]=c[c.length-1].join(r):c.push(r)}return c}function s(t,n,c){let m=c;if(m.length===0)return m;let u=0,r;do{r=!1;const a=[m[0]];for(let h=1;h<m.length;h++){let d=function(_,S){const L=new k.OffsetRange(g.seq1Range.endExclusive,l.seq1Range.start);return t.getText(L).replace(/\s/g,"").length<=4&&(_.seq1Range.length+_.seq2Range.length>5||S.seq1Range.length+S.seq2Range.length>5)};const l=m[h],g=a[a.length-1];d(g,l)?(r=!0,a[a.length-1]=a[a.length-1].join(l)):a.push(l)}m=a}while(u++<10&&r);return m}function i(t,n,c){let m=c;if(m.length===0)return m;let u=0,r;do{r=!1;const h=[m[0]];for(let l=1;l<m.length;l++){let v=function(S,L){const I=new k.OffsetRange(d.seq1Range.endExclusive,g.seq1Range.start);if(t.countLinesIn(I)>5||I.length>500)return!1;const N=t.getText(I).trim();if(N.length>20||N.split(/\r\n|\r|\n/).length>1)return!1;const A=t.countLinesIn(S.seq1Range),O=S.seq1Range.length,M=n.countLinesIn(S.seq2Range),R=S.seq2Range.length,x=t.countLinesIn(L.seq1Range),F=L.seq1Range.length,W=n.countLinesIn(L.seq2Range),H=L.seq2Range.length,z=2*40+50;function j(K){return Math.min(K,z)}return Math.pow(Math.pow(j(A*40+O),1.5)+Math.pow(j(M*40+R),1.5),1.5)+Math.pow(Math.pow(j(x*40+F),1.5)+Math.pow(j(W*40+H),1.5),1.5)>(z**1.5)**1.5*1.3};const g=m[l],d=h[h.length-1];v(d,g)?(r=!0,h[h.length-1]=h[h.length-1].join(g)):h.push(g)}m=h}while(u++<10&&r);const a=[];return(0,f.forEachWithNeighbors)(m,(h,l,g)=>{let d=l;function v(N){return N.length>0&&N.trim().length<=3&&l.seq1Range.length+l.seq2Range.length>100}const _=t.extendToFullLines(l.seq1Range),S=t.getText(new k.OffsetRange(_.start,l.seq1Range.start));v(S)&&(d=d.deltaStart(-S.length));const L=t.getText(new k.OffsetRange(l.seq1Range.endExclusive,_.endExclusive));v(L)&&(d=d.deltaEnd(L.length));const I=E.SequenceDiff.fromOffsetPairs(h?h.getEndExclusives():E.OffsetPair.zero,g?g.getStarts():E.OffsetPair.max),T=d.intersect(I);a.length>0&&T.getStarts().equals(a[a.length-1].getEndExclusives())?a[a.length-1]=a[a.length-1].join(T):a.push(T)}),a}}),define(ie[535],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineSequence=void 0;class f{constructor(D,y){this.trimmedHash=D,this.lines=y}getElement(D){return this.trimmedHash[D]}get length(){return this.trimmedHash.length}getBoundaryScore(D){const y=D===0?0:k(this.lines[D-1]),p=D===this.lines.length?0:k(this.lines[D]);return 1e3-(y+p)}getText(D){return this.lines.slice(D.start,D.endExclusive).join(`
`)}isStronglyEqual(D,y){return this.lines[D]===this.lines[y]}}e.LineSequence=f;function k(E){let D=0;for(;D<E.length&&(E.charCodeAt(D)===32||E.charCodeAt(D)===9);)D++;return D}}),define(ie[225],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineRangeFragment=e.Array2D=void 0,e.isSpace=k;class f{constructor(y,p){this.width=y,this.height=p,this.array=[],this.array=new Array(y*p)}get(y,p){return this.array[y+p*this.width]}set(y,p,w){this.array[y+p*this.width]=w}}e.Array2D=f;function k(D){return D===32||D===9}class E{static getKey(y){let p=this.chrKeys.get(y);return p===void 0&&(p=this.chrKeys.size,this.chrKeys.set(y,p)),p}constructor(y,p,w){this.range=y,this.lines=p,this.source=w,this.histogram=[];let b=0;for(let C=y.startLineNumber-1;C<y.endLineNumberExclusive-1;C++){const o=p[C];for(let i=0;i<o.length;i++){b++;const t=o[i],n=E.getKey(t);this.histogram[n]=(this.histogram[n]||0)+1}b++;const s=E.getKey(`
`);this.histogram[s]=(this.histogram[s]||0)+1}this.totalCount=b}computeSimilarity(y){var p,w;let b=0;const C=Math.max(this.histogram.length,y.histogram.length);for(let o=0;o<C;o++)b+=Math.abs(((p=this.histogram[o])!==null&&p!==void 0?p:0)-((w=y.histogram[o])!==null&&w!==void 0?w:0));return 1-b/(this.totalCount+y.totalCount)}}e.LineRangeFragment=E,E.chrKeys=new Map}),define(ie[536],ne([1,0,65,163,225]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicProgrammingDiffing=void 0;class D{compute(p,w,b=k.InfiniteTimeout.instance,C){if(p.length===0||w.length===0)return k.DiffAlgorithmResult.trivial(p,w);const o=new E.Array2D(p.length,w.length),s=new E.Array2D(p.length,w.length),i=new E.Array2D(p.length,w.length);for(let a=0;a<p.length;a++)for(let h=0;h<w.length;h++){if(!b.isValid())return k.DiffAlgorithmResult.trivialTimedOut(p,w);const l=a===0?0:o.get(a-1,h),g=h===0?0:o.get(a,h-1);let d;p.getElement(a)===w.getElement(h)?(a===0||h===0?d=0:d=o.get(a-1,h-1),a>0&&h>0&&s.get(a-1,h-1)===3&&(d+=i.get(a-1,h-1)),d+=C?C(a,h):1):d=-1;const v=Math.max(l,g,d);if(v===d){const _=a>0&&h>0?i.get(a-1,h-1):0;i.set(a,h,_+1),s.set(a,h,3)}else v===l?(i.set(a,h,0),s.set(a,h,1)):v===g&&(i.set(a,h,0),s.set(a,h,2));o.set(a,h,v)}const t=[];let n=p.length,c=w.length;function m(a,h){(a+1!==n||h+1!==c)&&t.push(new k.SequenceDiff(new f.OffsetRange(a+1,n),new f.OffsetRange(h+1,c))),n=a,c=h}let u=p.length-1,r=w.length-1;for(;u>=0&&r>=0;)s.get(u,r)===3?(m(u,r),u--,r--):s.get(u,r)===1?u--:r--;return m(-1,-1),t.reverse(),new k.DiffAlgorithmResult(t,!1)}}e.DynamicProgrammingDiffing=D}),define(ie[307],ne([1,0,67,65,9,5,225]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesSliceCharSequence=void 0;class p{constructor(i,t,n){this.lines=i,this.considerWhitespaceChanges=n,this.elements=[],this.firstCharOffsetByLine=[],this.additionalOffsetByLine=[];let c=!1;t.start>0&&t.endExclusive>=i.length&&(t=new k.OffsetRange(t.start-1,t.endExclusive),c=!0),this.lineRange=t,this.firstCharOffsetByLine[0]=0;for(let m=this.lineRange.start;m<this.lineRange.endExclusive;m++){let u=i[m],r=0;if(c)r=u.length,u="",c=!1;else if(!n){const a=u.trimStart();r=u.length-a.length,u=a.trimEnd()}this.additionalOffsetByLine.push(r);for(let a=0;a<u.length;a++)this.elements.push(u.charCodeAt(a));m<i.length-1&&(this.elements.push(10),this.firstCharOffsetByLine[m-this.lineRange.start+1]=this.elements.length)}this.additionalOffsetByLine.push(0)}toString(){return`Slice: "${this.text}"`}get text(){return this.getText(new k.OffsetRange(0,this.length))}getText(i){return this.elements.slice(i.start,i.endExclusive).map(t=>String.fromCharCode(t)).join("")}getElement(i){return this.elements[i]}get length(){return this.elements.length}getBoundaryScore(i){const t=o(i>0?this.elements[i-1]:-1),n=o(i<this.elements.length?this.elements[i]:-1);if(t===7&&n===8)return 0;if(t===8)return 150;let c=0;return t!==n&&(c+=10,t===0&&n===1&&(c+=1)),c+=C(t),c+=C(n),c}translateOffset(i){if(this.lineRange.isEmpty)return new E.Position(this.lineRange.start+1,1);const t=(0,f.findLastIdxMonotonous)(this.firstCharOffsetByLine,n=>n<=i);return new E.Position(this.lineRange.start+t+1,i-this.firstCharOffsetByLine[t]+this.additionalOffsetByLine[t]+1)}translateRange(i){return D.Range.fromPositions(this.translateOffset(i.start),this.translateOffset(i.endExclusive))}findWordContaining(i){if(i<0||i>=this.elements.length||!w(this.elements[i]))return;let t=i;for(;t>0&&w(this.elements[t-1]);)t--;let n=i;for(;n<this.elements.length&&w(this.elements[n]);)n++;return new k.OffsetRange(t,n)}countLinesIn(i){return this.translateOffset(i.endExclusive).lineNumber-this.translateOffset(i.start).lineNumber}isStronglyEqual(i,t){return this.elements[i]===this.elements[t]}extendToFullLines(i){var t,n;const c=(t=(0,f.findLastMonotonous)(this.firstCharOffsetByLine,u=>u<=i.start))!==null&&t!==void 0?t:0,m=(n=(0,f.findFirstMonotonous)(this.firstCharOffsetByLine,u=>i.endExclusive<=u))!==null&&n!==void 0?n:this.elements.length;return new k.OffsetRange(c,m)}}e.LinesSliceCharSequence=p;function w(s){return s>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57}const b={0:0,1:0,2:0,3:10,4:2,5:30,6:3,7:10,8:10};function C(s){return b[s]}function o(s){return s===10?8:s===13?7:(0,y.isSpace)(s)?6:s>=97&&s<=122?0:s>=65&&s<=90?1:s>=48&&s<=57?2:s===-1?3:s===44||s===59?5:4}}),define(ie[226],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedText=e.LinesDiff=void 0;class f{constructor(D,y,p){this.changes=D,this.moves=y,this.hitTimeout=p}}e.LinesDiff=f;class k{constructor(D,y){this.lineRangeMapping=D,this.changes=y}}e.MovedText=k}),define(ie[100],ne([1,0,10,59,5,109]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangeMapping=e.DetailedLineRangeMapping=e.LineRangeMapping=void 0;class y{static inverse(C,o,s){const i=[];let t=1,n=1;for(const m of C){const u=new y(new k.LineRange(t,m.original.startLineNumber),new k.LineRange(n,m.modified.startLineNumber));u.modified.isEmpty||i.push(u),t=m.original.endLineNumberExclusive,n=m.modified.endLineNumberExclusive}const c=new y(new k.LineRange(t,o+1),new k.LineRange(n,s+1));return c.modified.isEmpty||i.push(c),i}static clip(C,o,s){const i=[];for(const t of C){const n=t.original.intersect(o),c=t.modified.intersect(s);n&&!n.isEmpty&&c&&!c.isEmpty&&i.push(new y(n,c))}return i}constructor(C,o){this.original=C,this.modified=o}toString(){return`{${this.original.toString()}->${this.modified.toString()}}`}flip(){return new y(this.modified,this.original)}join(C){return new y(this.original.join(C.original),this.modified.join(C.modified))}toRangeMapping(){const C=this.original.toInclusiveRange(),o=this.modified.toInclusiveRange();if(C&&o)return new w(C,o);if(this.original.startLineNumber===1||this.modified.startLineNumber===1){if(!(this.modified.startLineNumber===1&&this.original.startLineNumber===1))throw new f.BugIndicatingError("not a valid diff");return new w(new E.Range(this.original.startLineNumber,1,this.original.endLineNumberExclusive,1),new E.Range(this.modified.startLineNumber,1,this.modified.endLineNumberExclusive,1))}else return new w(new E.Range(this.original.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.original.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER),new E.Range(this.modified.startLineNumber-1,Number.MAX_SAFE_INTEGER,this.modified.endLineNumberExclusive-1,Number.MAX_SAFE_INTEGER))}}e.LineRangeMapping=y;class p extends y{static fromRangeMappings(C){const o=k.LineRange.join(C.map(i=>k.LineRange.fromRangeInclusive(i.originalRange))),s=k.LineRange.join(C.map(i=>k.LineRange.fromRangeInclusive(i.modifiedRange)));return new p(o,s,C)}constructor(C,o,s){super(C,o),this.innerChanges=s}flip(){var C;return new p(this.modified,this.original,(C=this.innerChanges)===null||C===void 0?void 0:C.map(o=>o.flip()))}withInnerChangesFromLineRanges(){return new p(this.original,this.modified,[this.toRangeMapping()])}}e.DetailedLineRangeMapping=p;class w{constructor(C,o){this.originalRange=C,this.modifiedRange=o}toString(){return`{${this.originalRange.toString()}->${this.modifiedRange.toString()}}`}flip(){return new w(this.modifiedRange,this.originalRange)}toTextEdit(C){const o=C.getValueOfRange(this.modifiedRange);return new D.SingleTextEdit(this.originalRange,o)}}e.RangeMapping=w}),define(ie[537],ne([1,0,163,100,13,67,45,59,65,307,225,305]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeMovedLines=s;function s(r,a,h,l,g,d){let{moves:v,excludedChanges:_}=t(r,a,h,d);if(!d.isValid())return[];const S=r.filter(I=>!_.has(I)),L=n(S,l,g,a,h,d);return(0,E.pushMany)(v,L),v=m(v),v=v.filter(I=>{const T=I.original.toOffsetRange().slice(a).map(A=>A.trim());return T.join(`
`).length>=15&&i(T,A=>A.length>=2)>=2}),v=u(r,v),v}function i(r,a){let h=0;for(const l of r)a(l)&&h++;return h}function t(r,a,h,l){const g=[],d=r.filter(S=>S.modified.isEmpty&&S.original.length>=3).map(S=>new C.LineRangeFragment(S.original,a,S)),v=new Set(r.filter(S=>S.original.isEmpty&&S.modified.length>=3).map(S=>new C.LineRangeFragment(S.modified,h,S))),_=new Set;for(const S of d){let L=-1,I;for(const T of v){const N=S.computeSimilarity(T);N>L&&(L=N,I=T)}if(L>.9&&I&&(v.delete(I),g.push(new k.LineRangeMapping(S.range,I.range)),_.add(S.source),_.add(I.source)),!l.isValid())return{moves:g,excludedChanges:_}}return{moves:g,excludedChanges:_}}function n(r,a,h,l,g,d){const v=[],_=new y.SetMap;for(const N of r)for(let A=N.original.startLineNumber;A<N.original.endLineNumberExclusive-2;A++){const O=`${a[A-1]}:${a[A+1-1]}:${a[A+2-1]}`;_.add(O,{range:new p.LineRange(A,A+3)})}const S=[];r.sort((0,E.compareBy)(N=>N.modified.startLineNumber,E.numberComparator));for(const N of r){let A=[];for(let O=N.modified.startLineNumber;O<N.modified.endLineNumberExclusive-2;O++){const M=`${h[O-1]}:${h[O+1-1]}:${h[O+2-1]}`,R=new p.LineRange(O,O+3),x=[];_.forEach(M,({range:F})=>{for(const H of A)if(H.originalLineRange.endLineNumberExclusive+1===F.endLineNumberExclusive&&H.modifiedLineRange.endLineNumberExclusive+1===R.endLineNumberExclusive){H.originalLineRange=new p.LineRange(H.originalLineRange.startLineNumber,F.endLineNumberExclusive),H.modifiedLineRange=new p.LineRange(H.modifiedLineRange.startLineNumber,R.endLineNumberExclusive),x.push(H);return}const W={modifiedLineRange:R,originalLineRange:F};S.push(W),x.push(W)}),A=x}if(!d.isValid())return[]}S.sort((0,E.reverseOrder)((0,E.compareBy)(N=>N.modifiedLineRange.length,E.numberComparator)));const L=new p.LineRangeSet,I=new p.LineRangeSet;for(const N of S){const A=N.modifiedLineRange.startLineNumber-N.originalLineRange.startLineNumber,O=L.subtractFrom(N.modifiedLineRange),M=I.subtractFrom(N.originalLineRange).getWithDelta(A),R=O.getIntersection(M);for(const x of R.ranges){if(x.length<3)continue;const F=x,W=x.delta(-A);v.push(new k.LineRangeMapping(W,F)),L.addRange(F),I.addRange(W)}}v.sort((0,E.compareBy)(N=>N.original.startLineNumber,E.numberComparator));const T=new D.MonotonousArray(r);for(let N=0;N<v.length;N++){const A=v[N],O=T.findLastMonotonous(j=>j.original.startLineNumber<=A.original.startLineNumber),M=(0,D.findLastMonotonous)(r,j=>j.modified.startLineNumber<=A.modified.startLineNumber),R=Math.max(A.original.startLineNumber-O.original.startLineNumber,A.modified.startLineNumber-M.modified.startLineNumber),x=T.findLastMonotonous(j=>j.original.startLineNumber<A.original.endLineNumberExclusive),F=(0,D.findLastMonotonous)(r,j=>j.modified.startLineNumber<A.modified.endLineNumberExclusive),W=Math.max(x.original.endLineNumberExclusive-A.original.endLineNumberExclusive,F.modified.endLineNumberExclusive-A.modified.endLineNumberExclusive);let H;for(H=0;H<R;H++){const j=A.original.startLineNumber-H-1,K=A.modified.startLineNumber-H-1;if(j>l.length||K>g.length||L.contains(K)||I.contains(j)||!c(l[j-1],g[K-1],d))break}H>0&&(I.addRange(new p.LineRange(A.original.startLineNumber-H,A.original.startLineNumber)),L.addRange(new p.LineRange(A.modified.startLineNumber-H,A.modified.startLineNumber)));let z;for(z=0;z<W;z++){const j=A.original.endLineNumberExclusive+z,K=A.modified.endLineNumberExclusive+z;if(j>l.length||K>g.length||L.contains(K)||I.contains(j)||!c(l[j-1],g[K-1],d))break}z>0&&(I.addRange(new p.LineRange(A.original.endLineNumberExclusive,A.original.endLineNumberExclusive+z)),L.addRange(new p.LineRange(A.modified.endLineNumberExclusive,A.modified.endLineNumberExclusive+z))),(H>0||z>0)&&(v[N]=new k.LineRangeMapping(new p.LineRange(A.original.startLineNumber-H,A.original.endLineNumberExclusive+z),new p.LineRange(A.modified.startLineNumber-H,A.modified.endLineNumberExclusive+z)))}return v}function c(r,a,h){if(r.trim()===a.trim())return!0;if(r.length>300&&a.length>300)return!1;const g=new o.MyersDiffAlgorithm().compute(new b.LinesSliceCharSequence([r],new w.OffsetRange(0,1),!1),new b.LinesSliceCharSequence([a],new w.OffsetRange(0,1),!1),h);let d=0;const v=f.SequenceDiff.invert(g.diffs,r.length);for(const I of v)I.seq1Range.forEach(T=>{(0,C.isSpace)(r.charCodeAt(T))||d++});function _(I){let T=0;for(let N=0;N<r.length;N++)(0,C.isSpace)(I.charCodeAt(N))||T++;return T}const S=_(r.length>a.length?r:a);return d/S>.6&&S>10}function m(r){if(r.length===0)return r;r.sort((0,E.compareBy)(h=>h.original.startLineNumber,E.numberComparator));const a=[r[0]];for(let h=1;h<r.length;h++){const l=a[a.length-1],g=r[h],d=g.original.startLineNumber-l.original.endLineNumberExclusive,v=g.modified.startLineNumber-l.modified.endLineNumberExclusive;if(d>=0&&v>=0&&d+v<=2){a[a.length-1]=l.join(g);continue}a.push(g)}return a}function u(r,a){const h=new D.MonotonousArray(r);return a=a.filter(l=>{const g=h.findLastMonotonous(_=>_.original.startLineNumber<l.original.endLineNumberExclusive)||new k.LineRangeMapping(new p.LineRange(1,1),new p.LineRange(1,1)),d=(0,D.findLastMonotonous)(r,_=>_.modified.startLineNumber<l.modified.endLineNumberExclusive);return g!==d}),a}}),define(ie[308],ne([1,0,13,87,59,65,5,163,536,305,537,306,535,307,226,100]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultLinesDiffComputer=void 0,e.lineRangeMappingFromRangeMappings=m,e.getLineRangeMapping=u;class c{constructor(){this.dynamicProgrammingDiffing=new w.DynamicProgrammingDiffing,this.myersDiffingAlgorithm=new b.MyersDiffAlgorithm}computeDiff(a,h,l){if(a.length<=1&&(0,f.equals)(a,h,(z,j)=>z===j))return new t.LinesDiff([],[],!1);if(a.length===1&&a[0].length===0||h.length===1&&h[0].length===0)return new t.LinesDiff([new n.DetailedLineRangeMapping(new E.LineRange(1,a.length+1),new E.LineRange(1,h.length+1),[new n.RangeMapping(new y.Range(1,1,a.length,a[a.length-1].length+1),new y.Range(1,1,h.length,h[h.length-1].length+1))])],[],!1);const g=l.maxComputationTimeMs===0?p.InfiniteTimeout.instance:new p.DateTimeout(l.maxComputationTimeMs),d=!l.ignoreTrimWhitespace,v=new Map;function _(z){let j=v.get(z);return j===void 0&&(j=v.size,v.set(z,j)),j}const S=a.map(z=>_(z.trim())),L=h.map(z=>_(z.trim())),I=new s.LineSequence(S,a),T=new s.LineSequence(L,h),N=I.length+T.length<1700?this.dynamicProgrammingDiffing.compute(I,T,g,(z,j)=>a[z]===h[j]?h[j].length===0?.1:1+Math.log(1+h[j].length):.99):this.myersDiffingAlgorithm.compute(I,T);let A=N.diffs,O=N.hitTimeout;A=(0,o.optimizeSequenceDiffs)(I,T,A),A=(0,o.removeVeryShortMatchingLinesBetweenDiffs)(I,T,A);const M=[],R=z=>{if(d)for(let j=0;j<z;j++){const K=x+j,U=F+j;if(a[K]!==h[U]){const G=this.refineDiff(a,h,new p.SequenceDiff(new D.OffsetRange(K,K+1),new D.OffsetRange(U,U+1)),g,d);for(const te of G.mappings)M.push(te);G.hitTimeout&&(O=!0)}}};let x=0,F=0;for(const z of A){(0,k.assertFn)(()=>z.seq1Range.start-x===z.seq2Range.start-F);const j=z.seq1Range.start-x;R(j),x=z.seq1Range.endExclusive,F=z.seq2Range.endExclusive;const K=this.refineDiff(a,h,z,g,d);K.hitTimeout&&(O=!0);for(const U of K.mappings)M.push(U)}R(a.length-x);const W=m(M,a,h);let H=[];return l.computeMoves&&(H=this.computeMoves(W,a,h,S,L,g,d)),(0,k.assertFn)(()=>{function z(K,U){if(K.lineNumber<1||K.lineNumber>U.length)return!1;const G=U[K.lineNumber-1];return!(K.column<1||K.column>G.length+1)}function j(K,U){return!(K.startLineNumber<1||K.startLineNumber>U.length+1||K.endLineNumberExclusive<1||K.endLineNumberExclusive>U.length+1)}for(const K of W){if(!K.innerChanges)return!1;for(const U of K.innerChanges)if(!(z(U.modifiedRange.getStartPosition(),h)&&z(U.modifiedRange.getEndPosition(),h)&&z(U.originalRange.getStartPosition(),a)&&z(U.originalRange.getEndPosition(),a)))return!1;if(!j(K.modified,h)||!j(K.original,a))return!1}return!0}),new t.LinesDiff(W,H,O)}computeMoves(a,h,l,g,d,v,_){return(0,C.computeMovedLines)(a,h,l,g,d,v).map(I=>{const T=this.refineDiff(h,l,new p.SequenceDiff(I.original.toOffsetRange(),I.modified.toOffsetRange()),v,_),N=m(T.mappings,h,l,!0);return new t.MovedText(I,N)})}refineDiff(a,h,l,g,d){const v=new i.LinesSliceCharSequence(a,l.seq1Range,d),_=new i.LinesSliceCharSequence(h,l.seq2Range,d),S=v.length+_.length<500?this.dynamicProgrammingDiffing.compute(v,_,g):this.myersDiffingAlgorithm.compute(v,_,g);let L=S.diffs;return L=(0,o.optimizeSequenceDiffs)(v,_,L),L=(0,o.extendDiffsToEntireWordIfAppropriate)(v,_,L),L=(0,o.removeShortMatches)(v,_,L),L=(0,o.removeVeryShortMatchingTextBetweenLongDiffs)(v,_,L),{mappings:L.map(T=>new n.RangeMapping(v.translateRange(T.seq1Range),_.translateRange(T.seq2Range))),hitTimeout:S.hitTimeout}}}e.DefaultLinesDiffComputer=c;function m(r,a,h,l=!1){const g=[];for(const d of(0,f.groupAdjacentBy)(r.map(v=>u(v,a,h)),(v,_)=>v.original.overlapOrTouch(_.original)||v.modified.overlapOrTouch(_.modified))){const v=d[0],_=d[d.length-1];g.push(new n.DetailedLineRangeMapping(v.original.join(_.original),v.modified.join(_.modified),d.map(S=>S.innerChanges[0])))}return(0,k.assertFn)(()=>!l&&g.length>0&&(g[0].modified.startLineNumber!==g[0].original.startLineNumber||h.length-g[g.length-1].modified.endLineNumberExclusive!==a.length-g[g.length-1].original.endLineNumberExclusive)?!1:(0,k.checkAdjacentItems)(g,(d,v)=>v.original.startLineNumber-d.original.endLineNumberExclusive===v.modified.startLineNumber-d.modified.endLineNumberExclusive&&d.original.endLineNumberExclusive<v.original.startLineNumber&&d.modified.endLineNumberExclusive<v.modified.startLineNumber)),g}function u(r,a,h){let l=0,g=0;r.modifiedRange.endColumn===1&&r.originalRange.endColumn===1&&r.originalRange.startLineNumber+l<=r.originalRange.endLineNumber&&r.modifiedRange.startLineNumber+l<=r.modifiedRange.endLineNumber&&(g=-1),r.modifiedRange.startColumn-1>=h[r.modifiedRange.startLineNumber-1].length&&r.originalRange.startColumn-1>=a[r.originalRange.startLineNumber-1].length&&r.originalRange.startLineNumber<=r.originalRange.endLineNumber+g&&r.modifiedRange.startLineNumber<=r.modifiedRange.endLineNumber+g&&(l=1);const d=new E.LineRange(r.originalRange.startLineNumber+l,r.originalRange.endLineNumber+1+g),v=new E.LineRange(r.modifiedRange.startLineNumber+l,r.modifiedRange.endLineNumber+1+g);return new n.DetailedLineRangeMapping(d,v,[r])}}),define(ie[538],ne([1,0,185,226,100,12,5,87,59]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffComputer=e.LegacyLinesDiffComputer=void 0;const b=3;class C{computeDiff(l,g,d){var v;const S=new m(l,g,{maxComputationTime:d.maxComputationTimeMs,shouldIgnoreTrimWhitespace:d.ignoreTrimWhitespace,shouldComputeCharChanges:!0,shouldMakePrettyDiff:!0,shouldPostProcessCharChanges:!0}).computeDiff(),L=[];let I=null;for(const T of S.changes){let N;T.originalEndLineNumber===0?N=new w.LineRange(T.originalStartLineNumber+1,T.originalStartLineNumber+1):N=new w.LineRange(T.originalStartLineNumber,T.originalEndLineNumber+1);let A;T.modifiedEndLineNumber===0?A=new w.LineRange(T.modifiedStartLineNumber+1,T.modifiedStartLineNumber+1):A=new w.LineRange(T.modifiedStartLineNumber,T.modifiedEndLineNumber+1);let O=new E.DetailedLineRangeMapping(N,A,(v=T.charChanges)===null||v===void 0?void 0:v.map(M=>new E.RangeMapping(new y.Range(M.originalStartLineNumber,M.originalStartColumn,M.originalEndLineNumber,M.originalEndColumn),new y.Range(M.modifiedStartLineNumber,M.modifiedStartColumn,M.modifiedEndLineNumber,M.modifiedEndColumn))));I&&(I.modified.endLineNumberExclusive===O.modified.startLineNumber||I.original.endLineNumberExclusive===O.original.startLineNumber)&&(O=new E.DetailedLineRangeMapping(I.original.join(O.original),I.modified.join(O.modified),I.innerChanges&&O.innerChanges?I.innerChanges.concat(O.innerChanges):void 0),L.pop()),L.push(O),I=O}return(0,p.assertFn)(()=>(0,p.checkAdjacentItems)(L,(T,N)=>N.original.startLineNumber-T.original.endLineNumberExclusive===N.modified.startLineNumber-T.modified.endLineNumberExclusive&&T.original.endLineNumberExclusive<N.original.startLineNumber&&T.modified.endLineNumberExclusive<N.modified.startLineNumber)),new k.LinesDiff(L,[],S.quitEarly)}}e.LegacyLinesDiffComputer=C;function o(h,l,g,d){return new f.LcsDiff(h,l,g).ComputeDiff(d)}class s{constructor(l){const g=[],d=[];for(let v=0,_=l.length;v<_;v++)g[v]=u(l[v],1),d[v]=r(l[v],1);this.lines=l,this._startColumns=g,this._endColumns=d}getElements(){const l=[];for(let g=0,d=this.lines.length;g<d;g++)l[g]=this.lines[g].substring(this._startColumns[g]-1,this._endColumns[g]-1);return l}getStrictElement(l){return this.lines[l]}getStartLineNumber(l){return l+1}getEndLineNumber(l){return l+1}createCharSequence(l,g,d){const v=[],_=[],S=[];let L=0;for(let I=g;I<=d;I++){const T=this.lines[I],N=l?this._startColumns[I]:1,A=l?this._endColumns[I]:T.length+1;for(let O=N;O<A;O++)v[L]=T.charCodeAt(O-1),_[L]=I+1,S[L]=O,L++;!l&&I<d&&(v[L]=10,_[L]=I+1,S[L]=T.length+1,L++)}return new i(v,_,S)}}class i{constructor(l,g,d){this._charCodes=l,this._lineNumbers=g,this._columns=d}toString(){return"["+this._charCodes.map((l,g)=>(l===10?"\\n":String.fromCharCode(l))+`-(${this._lineNumbers[g]},${this._columns[g]})`).join(", ")+"]"}_assertIndex(l,g){if(l<0||l>=g.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(l){return l>0&&l===this._lineNumbers.length?this.getEndLineNumber(l-1):(this._assertIndex(l,this._lineNumbers),this._lineNumbers[l])}getEndLineNumber(l){return l===-1?this.getStartLineNumber(l+1):(this._assertIndex(l,this._lineNumbers),this._charCodes[l]===10?this._lineNumbers[l]+1:this._lineNumbers[l])}getStartColumn(l){return l>0&&l===this._columns.length?this.getEndColumn(l-1):(this._assertIndex(l,this._columns),this._columns[l])}getEndColumn(l){return l===-1?this.getStartColumn(l+1):(this._assertIndex(l,this._columns),this._charCodes[l]===10?1:this._columns[l]+1)}}class t{constructor(l,g,d,v,_,S,L,I){this.originalStartLineNumber=l,this.originalStartColumn=g,this.originalEndLineNumber=d,this.originalEndColumn=v,this.modifiedStartLineNumber=_,this.modifiedStartColumn=S,this.modifiedEndLineNumber=L,this.modifiedEndColumn=I}static createFromDiffChange(l,g,d){const v=g.getStartLineNumber(l.originalStart),_=g.getStartColumn(l.originalStart),S=g.getEndLineNumber(l.originalStart+l.originalLength-1),L=g.getEndColumn(l.originalStart+l.originalLength-1),I=d.getStartLineNumber(l.modifiedStart),T=d.getStartColumn(l.modifiedStart),N=d.getEndLineNumber(l.modifiedStart+l.modifiedLength-1),A=d.getEndColumn(l.modifiedStart+l.modifiedLength-1);return new t(v,_,S,L,I,T,N,A)}}function n(h){if(h.length<=1)return h;const l=[h[0]];let g=l[0];for(let d=1,v=h.length;d<v;d++){const _=h[d],S=_.originalStart-(g.originalStart+g.originalLength),L=_.modifiedStart-(g.modifiedStart+g.modifiedLength);Math.min(S,L)<b?(g.originalLength=_.originalStart+_.originalLength-g.originalStart,g.modifiedLength=_.modifiedStart+_.modifiedLength-g.modifiedStart):(l.push(_),g=_)}return l}class c{constructor(l,g,d,v,_){this.originalStartLineNumber=l,this.originalEndLineNumber=g,this.modifiedStartLineNumber=d,this.modifiedEndLineNumber=v,this.charChanges=_}static createFromDiffResult(l,g,d,v,_,S,L){let I,T,N,A,O;if(g.originalLength===0?(I=d.getStartLineNumber(g.originalStart)-1,T=0):(I=d.getStartLineNumber(g.originalStart),T=d.getEndLineNumber(g.originalStart+g.originalLength-1)),g.modifiedLength===0?(N=v.getStartLineNumber(g.modifiedStart)-1,A=0):(N=v.getStartLineNumber(g.modifiedStart),A=v.getEndLineNumber(g.modifiedStart+g.modifiedLength-1)),S&&g.originalLength>0&&g.originalLength<20&&g.modifiedLength>0&&g.modifiedLength<20&&_()){const M=d.createCharSequence(l,g.originalStart,g.originalStart+g.originalLength-1),R=v.createCharSequence(l,g.modifiedStart,g.modifiedStart+g.modifiedLength-1);if(M.getElements().length>0&&R.getElements().length>0){let x=o(M,R,_,!0).changes;L&&(x=n(x)),O=[];for(let F=0,W=x.length;F<W;F++)O.push(t.createFromDiffChange(x[F],M,R))}}return new c(I,T,N,A,O)}}class m{constructor(l,g,d){this.shouldComputeCharChanges=d.shouldComputeCharChanges,this.shouldPostProcessCharChanges=d.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=d.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=d.shouldMakePrettyDiff,this.originalLines=l,this.modifiedLines=g,this.original=new s(l),this.modified=new s(g),this.continueLineDiff=a(d.maxComputationTime),this.continueCharDiff=a(d.maxComputationTime===0?0:Math.min(d.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:void 0}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:void 0}]};const l=o(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),g=l.changes,d=l.quitEarly;if(this.shouldIgnoreTrimWhitespace){const L=[];for(let I=0,T=g.length;I<T;I++)L.push(c.createFromDiffResult(this.shouldIgnoreTrimWhitespace,g[I],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:d,changes:L}}const v=[];let _=0,S=0;for(let L=-1,I=g.length;L<I;L++){const T=L+1<I?g[L+1]:null,N=T?T.originalStart:this.originalLines.length,A=T?T.modifiedStart:this.modifiedLines.length;for(;_<N&&S<A;){const O=this.originalLines[_],M=this.modifiedLines[S];if(O!==M){{let R=u(O,1),x=u(M,1);for(;R>1&&x>1;){const F=O.charCodeAt(R-2),W=M.charCodeAt(x-2);if(F!==W)break;R--,x--}(R>1||x>1)&&this._pushTrimWhitespaceCharChange(v,_+1,1,R,S+1,1,x)}{let R=r(O,1),x=r(M,1);const F=O.length+1,W=M.length+1;for(;R<F&&x<W;){const H=O.charCodeAt(R-1),z=O.charCodeAt(x-1);if(H!==z)break;R++,x++}(R<F||x<W)&&this._pushTrimWhitespaceCharChange(v,_+1,R,F,S+1,x,W)}}_++,S++}T&&(v.push(c.createFromDiffResult(this.shouldIgnoreTrimWhitespace,T,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),_+=T.originalLength,S+=T.modifiedLength)}return{quitEarly:d,changes:v}}_pushTrimWhitespaceCharChange(l,g,d,v,_,S,L){if(this._mergeTrimWhitespaceCharChange(l,g,d,v,_,S,L))return;let I;this.shouldComputeCharChanges&&(I=[new t(g,d,g,v,_,S,_,L)]),l.push(new c(g,g,_,_,I))}_mergeTrimWhitespaceCharChange(l,g,d,v,_,S,L){const I=l.length;if(I===0)return!1;const T=l[I-1];return T.originalEndLineNumber===0||T.modifiedEndLineNumber===0?!1:T.originalEndLineNumber===g&&T.modifiedEndLineNumber===_?(this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(g,d,g,v,_,S,_,L)),!0):T.originalEndLineNumber+1===g&&T.modifiedEndLineNumber+1===_?(T.originalEndLineNumber=g,T.modifiedEndLineNumber=_,this.shouldComputeCharChanges&&T.charChanges&&T.charChanges.push(new t(g,d,g,v,_,S,_,L)),!0):!1}}e.DiffComputer=m;function u(h,l){const g=D.firstNonWhitespaceIndex(h);return g===-1?l:g+1}function r(h,l){const g=D.lastNonWhitespaceIndex(h);return g===-1?l:g+2}function a(h){if(h===0)return()=>!0;const l=Date.now();return()=>Date.now()-l<h}}),define(ie[539],ne([1,0,538,308]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.linesDiffComputers=void 0,e.linesDiffComputers={getLegacy:()=>new f.LegacyLinesDiffComputer,getDefault:()=>new k.DefaultLinesDiffComputer}}),define(ie[309],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalEditorAction=void 0;class f{constructor(E,D,y,p,w,b,C){this.id=E,this.label=D,this.alias=y,this.metadata=p,this._precondition=w,this._run=b,this._contextKeyService=C}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(E){return this.isSupported()?this._run(E):Promise.resolve(void 0)}}e.InternalEditorAction=f}),define(ie[192],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorType=void 0,e.EditorType={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}}),define(ie[164],ne([1,0,192]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isCodeEditor=k,e.isDiffEditor=E,e.isCompositeEditor=D,e.getCodeEditor=y;function k(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===f.EditorType.ICodeEditor:!1}function E(p){return p&&typeof p.getEditorType=="function"?p.getEditorType()===f.EditorType.IDiffEditor:!1}function D(p){return!!p&&typeof p=="object"&&typeof p.onDidChangeActiveEditor=="function"}function y(p){return k(p)?p:E(p)?p.getModifiedEditor():D(p)&&k(p.activeCodeEditor)?p.activeCodeEditor:null}}),define(ie[142],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerEditorFeature=k,e.getEditorFeatures=E;const f=[];function k(D){f.push(D)}function E(){return f.slice(0)}}),define(ie[540],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorTheme=void 0;class f{get type(){return this._theme.type}get value(){return this._theme}constructor(E){this._theme=E}update(E){this._theme=E}getColor(E){return this._theme.getColor(E)}}e.EditorTheme=f}),define(ie[143],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenMetadata=void 0;class f{static getLanguageId(E){return(E&255)>>>0}static getTokenType(E){return(E&768)>>>8}static containsBalancedBrackets(E){return(E&1024)!==0}static getFontStyle(E){return(E&30720)>>>11}static getForeground(E){return(E&16744448)>>>15}static getBackground(E){return(E&4278190080)>>>24}static getClassNameFromMetadata(E){let y="mtk"+this.getForeground(E);const p=this.getFontStyle(E);return p&1&&(y+=" mtki"),p&2&&(y+=" mtkb"),p&4&&(y+=" mtku"),p&8&&(y+=" mtks"),y}static getInlineStyleFromMetadata(E,D){const y=this.getForeground(E),p=this.getFontStyle(E);let w=`color: ${D[y]};`;p&1&&(w+="font-style: italic;"),p&2&&(w+="font-weight: bold;");let b="";return p&4&&(b+=" underline"),p&8&&(b+=" line-through"),b&&(w+=`text-decoration:${b};`),w}static getPresentationFromMetadata(E){const D=this.getForeground(E),y=this.getFontStyle(E);return{foreground:D,italic:!!(y&1),bold:!!(y&2),underline:!!(y&4),strikethrough:!!(y&8)}}}e.TokenMetadata=f}),define(ie[541],ne([1,0,35]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeDefaultDocumentColors=o;function k(s){const i=[];for(const t of s){const n=Number(t);(n||n===0&&t.replace(/\s/g,"")!=="")&&i.push(n)}return i}function E(s,i,t,n){return{red:s/255,blue:t/255,green:i/255,alpha:n}}function D(s,i){const t=i.index,n=i[0].length;if(!t)return;const c=s.positionAt(t);return{startLineNumber:c.lineNumber,startColumn:c.column,endLineNumber:c.lineNumber,endColumn:c.column+n}}function y(s,i){if(!s)return;const t=f.Color.Format.CSS.parseHex(i);if(t)return{range:s,color:E(t.rgba.r,t.rgba.g,t.rgba.b,t.rgba.a)}}function p(s,i,t){if(!s||i.length!==1)return;const c=i[0].values(),m=k(c);return{range:s,color:E(m[0],m[1],m[2],t?m[3]:1)}}function w(s,i,t){if(!s||i.length!==1)return;const c=i[0].values(),m=k(c),u=new f.Color(new f.HSLA(m[0],m[1]/100,m[2]/100,t?m[3]:1));return{range:s,color:E(u.rgba.r,u.rgba.g,u.rgba.b,u.rgba.a)}}function b(s,i){return typeof s=="string"?[...s.matchAll(i)]:s.findMatches(i)}function C(s){const i=[],n=b(s,/\b(rgb|rgba|hsl|hsla)(\([0-9\s,.\%]*\))|(#)([A-Fa-f0-9]{3})\b|(#)([A-Fa-f0-9]{4})\b|(#)([A-Fa-f0-9]{6})\b|(#)([A-Fa-f0-9]{8})\b/gm);if(n.length>0)for(const c of n){const m=c.filter(h=>h!==void 0),u=m[1],r=m[2];if(!r)continue;let a;if(u==="rgb"){const h=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*\)$/gm;a=p(D(s,c),b(r,h),!1)}else if(u==="rgba"){const h=/^\(\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;a=p(D(s,c),b(r,h),!0)}else if(u==="hsl"){const h=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*\)$/gm;a=w(D(s,c),b(r,h),!1)}else if(u==="hsla"){const h=/^\(\s*(36[0]|3[0-5][0-9]|[12][0-9][0-9]|[1-9]?[0-9])\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(100|\d{1,2}[.]\d*|\d{1,2})%\s*,\s*(0[.][0-9]+|[.][0-9]+|[01][.]|[01])\s*\)$/gm;a=w(D(s,c),b(r,h),!0)}else u==="#"&&(a=y(D(s,c),u+r));a&&i.push(a)}return i}function o(s){return!s||typeof s.getValue!="function"||typeof s.positionAt!="function"?[]:C(s)}}),define(ie[126],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoClosingPairs=e.StandardAutoClosingPairConditional=e.IndentAction=void 0;var f;(function(y){y[y.None=0]="None",y[y.Indent=1]="Indent",y[y.IndentOutdent=2]="IndentOutdent",y[y.Outdent=3]="Outdent"})(f||(e.IndentAction=f={}));class k{constructor(p){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=p.open,this.close=p.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(p.notIn))for(let w=0,b=p.notIn.length;w<b;w++)switch(p.notIn[w]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(p){switch(p){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(p,w){if(p.getTokenCount()===0)return!0;const b=p.findTokenIndexAtOffset(w-2),C=p.getStandardTokenType(b);return this.isOK(C)}_findNeutralCharacterInRange(p,w){for(let b=p;b<=w;b++){const C=String.fromCharCode(b);if(!this.open.includes(C)&&!this.close.includes(C))return C}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}e.StandardAutoClosingPairConditional=k;class E{constructor(p){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const w of p)D(this.autoClosingPairsOpenByStart,w.open.charAt(0),w),D(this.autoClosingPairsOpenByEnd,w.open.charAt(w.open.length-1),w),D(this.autoClosingPairsCloseByStart,w.close.charAt(0),w),D(this.autoClosingPairsCloseByEnd,w.close.charAt(w.close.length-1),w),w.close.length===1&&w.open.length===1&&D(this.autoClosingPairsCloseSingleChar,w.close,w)}}e.AutoClosingPairs=E;function D(y,p,w){y.has(p)?y.get(p).push(w):y.set(p,[w])}}),define(ie[542],ne([1,0,139]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinkComputer=e.StateMachine=void 0,e.computeLinks=C;class k{constructor(s,i,t){const n=new Uint8Array(s*i);for(let c=0,m=s*i;c<m;c++)n[c]=t;this._data=n,this.rows=s,this.cols=i}get(s,i){return this._data[s*this.cols+i]}set(s,i,t){this._data[s*this.cols+i]=t}}class E{constructor(s){let i=0,t=0;for(let c=0,m=s.length;c<m;c++){const[u,r,a]=s[c];r>i&&(i=r),u>t&&(t=u),a>t&&(t=a)}i++,t++;const n=new k(t,i,0);for(let c=0,m=s.length;c<m;c++){const[u,r,a]=s[c];n.set(u,r,a)}this._states=n,this._maxCharCode=i}nextState(s,i){return i<0||i>=this._maxCharCode?0:this._states.get(s,i)}}e.StateMachine=E;let D=null;function y(){return D===null&&(D=new E([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),D}let p=null;function w(){if(p===null){p=new f.CharacterClassifier(0);const o=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let i=0;i<o.length;i++)p.set(o.charCodeAt(i),1);const s=".,;:";for(let i=0;i<s.length;i++)p.set(s.charCodeAt(i),2)}return p}class b{static _createLink(s,i,t,n,c){let m=c-1;do{const u=i.charCodeAt(m);if(s.get(u)!==2)break;m--}while(m>n);if(n>0){const u=i.charCodeAt(n-1),r=i.charCodeAt(m);(u===40&&r===41||u===91&&r===93||u===123&&r===125)&&m--}return{range:{startLineNumber:t,startColumn:n+1,endLineNumber:t,endColumn:m+2},url:i.substring(n,m+1)}}static computeLinks(s,i=y()){const t=w(),n=[];for(let c=1,m=s.getLineCount();c<=m;c++){const u=s.getLineContent(c),r=u.length;let a=0,h=0,l=0,g=1,d=!1,v=!1,_=!1,S=!1;for(;a<r;){let L=!1;const I=u.charCodeAt(a);if(g===13){let T;switch(I){case 40:d=!0,T=0;break;case 41:T=d?0:1;break;case 91:_=!0,v=!0,T=0;break;case 93:_=!1,T=v?0:1;break;case 123:S=!0,T=0;break;case 125:T=S?0:1;break;case 39:case 34:case 96:l===I?T=1:l===39||l===34||l===96?T=0:T=1;break;case 42:T=l===42?1:0;break;case 124:T=l===124?1:0;break;case 32:T=_?0:1;break;default:T=t.get(I)}T===1&&(n.push(b._createLink(t,u,c,h,a)),L=!0)}else if(g===12){let T;I===91?(v=!0,T=0):T=t.get(I),T===1?L=!0:g=13}else g=i.nextState(g,I),g===0&&(L=!0);L&&(g=1,d=!1,v=!1,S=!1,h=a+1,l=I),a++}g===13&&n.push(b._createLink(t,u,c,h,r))}return n}}e.LinkComputer=b;function C(o){return!o||typeof o.getLineCount!="function"||typeof o.getLineContent!="function"?[]:b.computeLinks(o)}}),define(ie[144],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScopedLineTokens=void 0,e.createScopedLineTokens=f,e.ignoreBracketsInToken=E;function f(D,y){const p=D.getCount(),w=D.findTokenIndexAtOffset(y),b=D.getLanguageId(w);let C=w;for(;C+1<p&&D.getLanguageId(C+1)===b;)C++;let o=w;for(;o>0&&D.getLanguageId(o-1)===b;)o--;return new k(D,b,o,C+1,D.getStartOffset(o),D.getEndOffset(C))}class k{constructor(y,p,w,b,C,o){this._scopedLineTokensBrand=void 0,this._actual=y,this.languageId=p,this._firstTokenIndex=w,this._lastTokenIndex=b,this.firstCharOffset=C,this._lastCharOffset=o}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(y){return this._actual.getLineContent().substring(0,this.firstCharOffset+y)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(y){return this._actual.findTokenIndexAtOffset(y+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(y){return this._actual.getStandardTokenType(y+this._firstTokenIndex)}}e.ScopedLineTokens=k;function E(D){return(D&3)!==0}}),define(ie[79],ne([1,0,9,5,24,144,90,224]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditOperationResult=e.SingleCursorState=e.PartialViewCursorState=e.PartialModelCursorState=e.CursorState=e.CursorConfiguration=void 0,e.isQuote=m;const w=()=>!0,b=()=>!1,C=u=>u===" "||u==="	";class o{static shouldRecreate(r){return r.hasChanged(145)||r.hasChanged(131)||r.hasChanged(37)||r.hasChanged(77)||r.hasChanged(79)||r.hasChanged(80)||r.hasChanged(6)||r.hasChanged(7)||r.hasChanged(11)||r.hasChanged(9)||r.hasChanged(10)||r.hasChanged(14)||r.hasChanged(128)||r.hasChanged(50)||r.hasChanged(91)||r.hasChanged(130)}constructor(r,a,h,l){var g;this.languageConfigurationService=l,this._cursorMoveConfigurationBrand=void 0,this._languageId=r;const d=h.options,v=d.get(145),_=d.get(50);this.readOnly=d.get(91),this.tabSize=a.tabSize,this.indentSize=a.indentSize,this.insertSpaces=a.insertSpaces,this.stickyTabStops=d.get(116),this.lineHeight=_.lineHeight,this.typicalHalfwidthCharacterWidth=_.typicalHalfwidthCharacterWidth,this.pageSize=Math.max(1,Math.floor(v.height/this.lineHeight)-2),this.useTabStops=d.get(128),this.wordSeparators=d.get(131),this.emptySelectionClipboard=d.get(37),this.copyWithSyntaxHighlighting=d.get(25),this.multiCursorMergeOverlapping=d.get(77),this.multiCursorPaste=d.get(79),this.multiCursorLimit=d.get(80),this.autoClosingBrackets=d.get(6),this.autoClosingComments=d.get(7),this.autoClosingQuotes=d.get(11),this.autoClosingDelete=d.get(9),this.autoClosingOvertype=d.get(10),this.autoSurround=d.get(14),this.autoIndent=d.get(12),this.wordSegmenterLocales=d.get(130),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(r,this.autoClosingQuotes,!0),comment:this._getShouldAutoClose(r,this.autoClosingComments,!1),bracket:this._getShouldAutoClose(r,this.autoClosingBrackets,!1)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(r).getAutoClosingPairs();const S=this.languageConfigurationService.getLanguageConfiguration(r).getSurroundingPairs();if(S)for(const I of S)this.surroundingPairs[I.open]=I.close;const L=this.languageConfigurationService.getLanguageConfiguration(r).comments;this.blockCommentStartToken=(g=L?.blockCommentStartToken)!==null&&g!==void 0?g:null}get electricChars(){var r;if(!this._electricChars){this._electricChars={};const a=(r=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||r===void 0?void 0:r.getElectricCharacters();if(a)for(const h of a)this._electricChars[h]=!0}return this._electricChars}onElectricCharacter(r,a,h){const l=(0,D.createScopedLineTokens)(a,h-1),g=this.languageConfigurationService.getLanguageConfiguration(l.languageId).electricCharacter;return g?g.onElectricCharacter(r,l,h-l.firstCharOffset):null}normalizeIndentation(r){return(0,p.normalizeIndentation)(r,this.indentSize,this.insertSpaces)}_getShouldAutoClose(r,a,h){switch(a){case"beforeWhitespace":return C;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(r,h);case"always":return w;case"never":return b}}_getLanguageDefinedShouldAutoClose(r,a){const h=this.languageConfigurationService.getLanguageConfiguration(r).getAutoCloseBeforeSet(a);return l=>h.indexOf(l)!==-1}visibleColumnFromColumn(r,a){return y.CursorColumns.visibleColumnFromColumn(r.getLineContent(a.lineNumber),a.column,this.tabSize)}columnFromVisibleColumn(r,a,h){const l=y.CursorColumns.columnFromVisibleColumn(r.getLineContent(a),h,this.tabSize),g=r.getLineMinColumn(a);if(l<g)return g;const d=r.getLineMaxColumn(a);return l>d?d:l}}e.CursorConfiguration=o;class s{static fromModelState(r){return new i(r)}static fromViewState(r){return new t(r)}static fromModelSelection(r){const a=E.Selection.liftSelection(r),h=new n(k.Range.fromPositions(a.getSelectionStart()),0,0,a.getPosition(),0);return s.fromModelState(h)}static fromModelSelections(r){const a=[];for(let h=0,l=r.length;h<l;h++)a[h]=this.fromModelSelection(r[h]);return a}constructor(r,a){this._cursorStateBrand=void 0,this.modelState=r,this.viewState=a}equals(r){return this.viewState.equals(r.viewState)&&this.modelState.equals(r.modelState)}}e.CursorState=s;class i{constructor(r){this.modelState=r,this.viewState=null}}e.PartialModelCursorState=i;class t{constructor(r){this.modelState=null,this.viewState=r}}e.PartialViewCursorState=t;class n{constructor(r,a,h,l,g){this.selectionStart=r,this.selectionStartKind=a,this.selectionStartLeftoverVisibleColumns=h,this.position=l,this.leftoverVisibleColumns=g,this._singleCursorStateBrand=void 0,this.selection=n._computeSelection(this.selectionStart,this.position)}equals(r){return this.selectionStartLeftoverVisibleColumns===r.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===r.leftoverVisibleColumns&&this.selectionStartKind===r.selectionStartKind&&this.position.equals(r.position)&&this.selectionStart.equalsRange(r.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(r,a,h,l){return r?new n(this.selectionStart,this.selectionStartKind,this.selectionStartLeftoverVisibleColumns,new f.Position(a,h),l):new n(new k.Range(a,h,a,h),0,l,new f.Position(a,h),l)}static _computeSelection(r,a){return r.isEmpty()||!a.isBeforeOrEqual(r.getStartPosition())?E.Selection.fromPositions(r.getStartPosition(),a):E.Selection.fromPositions(r.getEndPosition(),a)}}e.SingleCursorState=n;class c{constructor(r,a,h){this._editOperationResultBrand=void 0,this.type=r,this.commands=a,this.shouldPushStackElementBefore=h.shouldPushStackElementBefore,this.shouldPushStackElementAfter=h.shouldPushStackElementAfter}}e.EditOperationResult=c;function m(u){return u==="'"||u==='"'||u==="`"}}),define(ie[543],ne([1,0,79,9,5]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnSelection=void 0;class D{static columnSelect(p,w,b,C,o,s){const i=Math.abs(o-b)+1,t=b>o,n=C>s,c=C<s,m=[];for(let u=0;u<i;u++){const r=b+(t?-u:u),a=p.columnFromVisibleColumn(w,r,C),h=p.columnFromVisibleColumn(w,r,s),l=p.visibleColumnFromColumn(w,new k.Position(r,a)),g=p.visibleColumnFromColumn(w,new k.Position(r,h));c&&(l>s||g<C)||n&&(g>C||l<s)||m.push(new f.SingleCursorState(new E.Range(r,a,r,a),0,0,new k.Position(r,h),0))}if(m.length===0)for(let u=0;u<i;u++){const r=b+(t?-u:u),a=w.getLineMaxColumn(r);m.push(new f.SingleCursorState(new E.Range(r,a,r,a),0,0,new k.Position(r,a),0))}return{viewStates:m,reversed:t,fromLineNumber:b,fromVisualColumn:C,toLineNumber:o,toVisualColumn:s}}static columnSelectLeft(p,w,b){let C=b.toViewVisualColumn;return C>0&&C--,D.columnSelect(p,w,b.fromViewLineNumber,b.fromViewVisualColumn,b.toViewLineNumber,C)}static columnSelectRight(p,w,b){let C=0;const o=Math.min(b.fromViewLineNumber,b.toViewLineNumber),s=Math.max(b.fromViewLineNumber,b.toViewLineNumber);for(let t=o;t<=s;t++){const n=w.getLineMaxColumn(t),c=p.visibleColumnFromColumn(w,new k.Position(t,n));C=Math.max(C,c)}let i=b.toViewVisualColumn;return i<C&&i++,this.columnSelect(p,w,b.fromViewLineNumber,b.fromViewVisualColumn,b.toViewLineNumber,i)}static columnSelectUp(p,w,b,C){const o=C?p.pageSize:1,s=Math.max(1,b.toViewLineNumber-o);return this.columnSelect(p,w,b.fromViewLineNumber,b.fromViewVisualColumn,s,b.toViewVisualColumn)}static columnSelectDown(p,w,b,C){const o=C?p.pageSize:1,s=Math.min(w.getLineCount(),b.toViewLineNumber+o);return this.columnSelect(p,w,b.fromViewLineNumber,b.fromViewVisualColumn,s,b.toViewVisualColumn)}}e.ColumnSelection=D}),define(ie[227],ne([1,0,12,90,9,5,304,79]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveOperations=e.CursorPosition=void 0;class w{constructor(o,s,i){this._cursorPositionBrand=void 0,this.lineNumber=o,this.column=s,this.leftoverVisibleColumns=i}}e.CursorPosition=w;class b{static leftPosition(o,s){if(s.column>o.getLineMinColumn(s.lineNumber))return s.delta(void 0,-f.prevCharLength(o.getLineContent(s.lineNumber),s.column-1));if(s.lineNumber>1){const i=s.lineNumber-1;return new E.Position(i,o.getLineMaxColumn(i))}else return s}static leftPositionAtomicSoftTabs(o,s,i){if(s.column<=o.getLineIndentColumn(s.lineNumber)){const t=o.getLineMinColumn(s.lineNumber),n=o.getLineContent(s.lineNumber),c=y.AtomicTabMoveOperations.atomicPosition(n,s.column-1,i,0);if(c!==-1&&c+1>=t)return new E.Position(s.lineNumber,c+1)}return this.leftPosition(o,s)}static left(o,s,i){const t=o.stickyTabStops?b.leftPositionAtomicSoftTabs(s,i,o.tabSize):b.leftPosition(s,i);return new w(t.lineNumber,t.column,0)}static moveLeft(o,s,i,t,n){let c,m;if(i.hasSelection()&&!t)c=i.selection.startLineNumber,m=i.selection.startColumn;else{const u=i.position.delta(void 0,-(n-1)),r=s.normalizePosition(b.clipPositionColumn(u,s),0),a=b.left(o,s,r);c=a.lineNumber,m=a.column}return i.move(t,c,m,0)}static clipPositionColumn(o,s){return new E.Position(o.lineNumber,b.clipRange(o.column,s.getLineMinColumn(o.lineNumber),s.getLineMaxColumn(o.lineNumber)))}static clipRange(o,s,i){return o<s?s:o>i?i:o}static rightPosition(o,s,i){return i<o.getLineMaxColumn(s)?i=i+f.nextCharLength(o.getLineContent(s),i-1):s<o.getLineCount()&&(s=s+1,i=o.getLineMinColumn(s)),new E.Position(s,i)}static rightPositionAtomicSoftTabs(o,s,i,t,n){if(i<o.getLineIndentColumn(s)){const c=o.getLineContent(s),m=y.AtomicTabMoveOperations.atomicPosition(c,i-1,t,1);if(m!==-1)return new E.Position(s,m+1)}return this.rightPosition(o,s,i)}static right(o,s,i){const t=o.stickyTabStops?b.rightPositionAtomicSoftTabs(s,i.lineNumber,i.column,o.tabSize,o.indentSize):b.rightPosition(s,i.lineNumber,i.column);return new w(t.lineNumber,t.column,0)}static moveRight(o,s,i,t,n){let c,m;if(i.hasSelection()&&!t)c=i.selection.endLineNumber,m=i.selection.endColumn;else{const u=i.position.delta(void 0,n-1),r=s.normalizePosition(b.clipPositionColumn(u,s),1),a=b.right(o,s,r);c=a.lineNumber,m=a.column}return i.move(t,c,m,0)}static vertical(o,s,i,t,n,c,m,u){const r=k.CursorColumns.visibleColumnFromColumn(s.getLineContent(i),t,o.tabSize)+n,a=s.getLineCount(),h=i===1&&t===1,l=i===a&&t===s.getLineMaxColumn(i),g=c<i?h:l;if(i=c,i<1?(i=1,m?t=s.getLineMinColumn(i):t=Math.min(s.getLineMaxColumn(i),t)):i>a?(i=a,m?t=s.getLineMaxColumn(i):t=Math.min(s.getLineMaxColumn(i),t)):t=o.columnFromVisibleColumn(s,i,r),g?n=0:n=r-k.CursorColumns.visibleColumnFromColumn(s.getLineContent(i),t,o.tabSize),u!==void 0){const d=new E.Position(i,t),v=s.normalizePosition(d,u);n=n+(t-v.column),i=v.lineNumber,t=v.column}return new w(i,t,n)}static down(o,s,i,t,n,c,m){return this.vertical(o,s,i,t,n,i+c,m,4)}static moveDown(o,s,i,t,n){let c,m;i.hasSelection()&&!t?(c=i.selection.endLineNumber,m=i.selection.endColumn):(c=i.position.lineNumber,m=i.position.column);let u=0,r;do if(r=b.down(o,s,c+u,m,i.leftoverVisibleColumns,n,!0),s.normalizePosition(new E.Position(r.lineNumber,r.column),2).lineNumber>c)break;while(u++<10&&c+u<s.getLineCount());return i.move(t,r.lineNumber,r.column,r.leftoverVisibleColumns)}static translateDown(o,s,i){const t=i.selection,n=b.down(o,s,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),c=b.down(o,s,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new D.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new E.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static up(o,s,i,t,n,c,m){return this.vertical(o,s,i,t,n,i-c,m,3)}static moveUp(o,s,i,t,n){let c,m;i.hasSelection()&&!t?(c=i.selection.startLineNumber,m=i.selection.startColumn):(c=i.position.lineNumber,m=i.position.column);const u=b.up(o,s,c,m,i.leftoverVisibleColumns,n,!0);return i.move(t,u.lineNumber,u.column,u.leftoverVisibleColumns)}static translateUp(o,s,i){const t=i.selection,n=b.up(o,s,t.selectionStartLineNumber,t.selectionStartColumn,i.selectionStartLeftoverVisibleColumns,1,!1),c=b.up(o,s,t.positionLineNumber,t.positionColumn,i.leftoverVisibleColumns,1,!1);return new p.SingleCursorState(new D.Range(n.lineNumber,n.column,n.lineNumber,n.column),0,n.leftoverVisibleColumns,new E.Position(c.lineNumber,c.column),c.leftoverVisibleColumns)}static _isBlankLine(o,s){return o.getLineFirstNonWhitespaceColumn(s)===0}static moveToPrevBlankLine(o,s,i,t){let n=i.position.lineNumber;for(;n>1&&this._isBlankLine(s,n);)n--;for(;n>1&&!this._isBlankLine(s,n);)n--;return i.move(t,n,s.getLineMinColumn(n),0)}static moveToNextBlankLine(o,s,i,t){const n=s.getLineCount();let c=i.position.lineNumber;for(;c<n&&this._isBlankLine(s,c);)c++;for(;c<n&&!this._isBlankLine(s,c);)c++;return i.move(t,c,s.getLineMinColumn(c),0)}static moveToBeginningOfLine(o,s,i,t){const n=i.position.lineNumber,c=s.getLineMinColumn(n),m=s.getLineFirstNonWhitespaceColumn(n)||c;let u;return i.position.column===m?u=c:u=m,i.move(t,n,u,0)}static moveToEndOfLine(o,s,i,t,n){const c=i.position.lineNumber,m=s.getLineMaxColumn(c);return i.move(t,c,m,n?1073741824-m:0)}static moveToBeginningOfBuffer(o,s,i,t){return i.move(t,1,1,0)}static moveToEndOfBuffer(o,s,i,t){const n=s.getLineCount(),c=s.getLineMaxColumn(n);return i.move(t,n,c,0)}}e.MoveOperations=b}),define(ie[228],ne([1,0,12,141,79,90,227,5,9]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteOperations=void 0;class b{static deleteRight(o,s,i,t){const n=[];let c=o!==3;for(let m=0,u=t.length;m<u;m++){const r=t[m];let a=r;if(a.isEmpty()){const h=r.getPosition(),l=y.MoveOperations.right(s,i,h);a=new p.Range(l.lineNumber,l.column,h.lineNumber,h.column)}if(a.isEmpty()){n[m]=null;continue}a.startLineNumber!==a.endLineNumber&&(c=!0),n[m]=new k.ReplaceCommand(a,"")}return[c,n]}static isAutoClosingPairDelete(o,s,i,t,n,c,m){if(s==="never"&&i==="never"||o==="never")return!1;for(let u=0,r=c.length;u<r;u++){const a=c[u],h=a.getPosition();if(!a.isEmpty())return!1;const l=n.getLineContent(h.lineNumber);if(h.column<2||h.column>=l.length+1)return!1;const g=l.charAt(h.column-2),d=t.get(g);if(!d)return!1;if((0,E.isQuote)(g)){if(i==="never")return!1}else if(s==="never")return!1;const v=l.charAt(h.column-1);let _=!1;for(const S of d)S.open===g&&S.close===v&&(_=!0);if(!_)return!1;if(o==="auto"){let S=!1;for(let L=0,I=m.length;L<I;L++){const T=m[L];if(h.lineNumber===T.startLineNumber&&h.column===T.startColumn){S=!0;break}}if(!S)return!1}}return!0}static _runAutoClosingPairDelete(o,s,i){const t=[];for(let n=0,c=i.length;n<c;n++){const m=i[n].getPosition(),u=new p.Range(m.lineNumber,m.column-1,m.lineNumber,m.column+1);t[n]=new k.ReplaceCommand(u,"")}return[!0,t]}static deleteLeft(o,s,i,t,n){if(this.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,i,t,n))return this._runAutoClosingPairDelete(s,i,t);const c=[];let m=o!==2;for(let u=0,r=t.length;u<r;u++){const a=b.getDeleteRange(t[u],i,s);if(a.isEmpty()){c[u]=null;continue}a.startLineNumber!==a.endLineNumber&&(m=!0),c[u]=new k.ReplaceCommand(a,"")}return[m,c]}static getDeleteRange(o,s,i){if(!o.isEmpty())return o;const t=o.getPosition();if(i.useTabStops&&t.column>1){const n=s.getLineContent(t.lineNumber),c=f.firstNonWhitespaceIndex(n),m=c===-1?n.length+1:c+1;if(t.column<=m){const u=i.visibleColumnFromColumn(s,t),r=D.CursorColumns.prevIndentTabStop(u,i.indentSize),a=i.columnFromVisibleColumn(s,t.lineNumber,r);return new p.Range(t.lineNumber,a,t.lineNumber,t.column)}}return p.Range.fromPositions(b.getPositionAfterDeleteLeft(t,s),t)}static getPositionAfterDeleteLeft(o,s){if(o.column>1){const i=f.getLeftDeleteOffset(o.column-1,s.getLineContent(o.lineNumber));return o.with(void 0,i+1)}else if(o.lineNumber>1){const i=o.lineNumber-1;return new w.Position(i,s.getLineMaxColumn(i))}else return o}static cut(o,s,i){const t=[];let n=null;i.sort((c,m)=>w.Position.compare(c.getStartPosition(),m.getEndPosition()));for(let c=0,m=i.length;c<m;c++){const u=i[c];if(u.isEmpty())if(o.emptySelectionClipboard){const r=u.getPosition();let a,h,l,g;r.lineNumber<s.getLineCount()?(a=r.lineNumber,h=1,l=r.lineNumber+1,g=1):r.lineNumber>1&&n?.endLineNumber!==r.lineNumber?(a=r.lineNumber-1,h=s.getLineMaxColumn(r.lineNumber-1),l=r.lineNumber,g=s.getLineMaxColumn(r.lineNumber)):(a=r.lineNumber,h=1,l=r.lineNumber,g=s.getLineMaxColumn(r.lineNumber));const d=new p.Range(a,h,l,g);n=d,d.isEmpty()?t[c]=null:t[c]=new k.ReplaceCommand(d,"")}else t[c]=null;else t[c]=new k.ReplaceCommand(u,"")}return new E.EditOperationResult(0,t,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}e.DeleteOperations=b}),define(ie[193],ne([1,0,12,79,228,161,9,5]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordPartOperations=e.WordOperations=void 0;class w{static _createWord(s,i,t,n,c){return{start:n,end:c,wordType:i,nextCharClass:t}}static _createIntlWord(s,i){return{start:s.index,end:s.index+s.segment.length,wordType:1,nextCharClass:i}}static _findPreviousWordOnLine(s,i,t){const n=i.getLineContent(t.lineNumber);return this._doFindPreviousWordOnLine(n,s,t)}static _doFindPreviousWordOnLine(s,i,t){let n=0;const c=i.findPrevIntlWordBeforeOrAtOffset(s,t.column-2);for(let m=t.column-2;m>=0;m--){const u=s.charCodeAt(m),r=i.get(u);if(c&&m===c.index)return this._createIntlWord(c,r);if(r===0){if(n===2)return this._createWord(s,n,r,m+1,this._findEndOfWord(s,i,n,m+1));n=1}else if(r===2){if(n===1)return this._createWord(s,n,r,m+1,this._findEndOfWord(s,i,n,m+1));n=2}else if(r===1&&n!==0)return this._createWord(s,n,r,m+1,this._findEndOfWord(s,i,n,m+1))}return n!==0?this._createWord(s,n,1,0,this._findEndOfWord(s,i,n,0)):null}static _findEndOfWord(s,i,t,n){const c=i.findNextIntlWordAtOrAfterOffset(s,n),m=s.length;for(let u=n;u<m;u++){const r=s.charCodeAt(u),a=i.get(r);if(c&&u===c.index+c.segment.length||a===1||t===1&&a===2||t===2&&a===0)return u}return m}static _findNextWordOnLine(s,i,t){const n=i.getLineContent(t.lineNumber);return this._doFindNextWordOnLine(n,s,t)}static _doFindNextWordOnLine(s,i,t){let n=0;const c=s.length,m=i.findNextIntlWordAtOrAfterOffset(s,t.column-1);for(let u=t.column-1;u<c;u++){const r=s.charCodeAt(u),a=i.get(r);if(m&&u===m.index)return this._createIntlWord(m,a);if(a===0){if(n===2)return this._createWord(s,n,a,this._findStartOfWord(s,i,n,u-1),u);n=1}else if(a===2){if(n===1)return this._createWord(s,n,a,this._findStartOfWord(s,i,n,u-1),u);n=2}else if(a===1&&n!==0)return this._createWord(s,n,a,this._findStartOfWord(s,i,n,u-1),u)}return n!==0?this._createWord(s,n,1,this._findStartOfWord(s,i,n,c-1),c):null}static _findStartOfWord(s,i,t,n){const c=i.findPrevIntlWordBeforeOrAtOffset(s,n);for(let m=n;m>=0;m--){const u=s.charCodeAt(m),r=i.get(u);if(c&&m===c.index)return m;if(r===1||t===1&&r===2||t===2&&r===0)return m+1}return 0}static moveWordLeft(s,i,t,n){let c=t.lineNumber,m=t.column;m===1&&c>1&&(c=c-1,m=i.getLineMaxColumn(c));let u=w._findPreviousWordOnLine(s,i,new y.Position(c,m));if(n===0)return new y.Position(c,u?u.start+1:1);if(n===1)return u&&u.wordType===2&&u.end-u.start===1&&u.nextCharClass===0&&(u=w._findPreviousWordOnLine(s,i,new y.Position(c,u.start+1))),new y.Position(c,u?u.start+1:1);if(n===3){for(;u&&u.wordType===2;)u=w._findPreviousWordOnLine(s,i,new y.Position(c,u.start+1));return new y.Position(c,u?u.start+1:1)}return u&&m<=u.end+1&&(u=w._findPreviousWordOnLine(s,i,new y.Position(c,u.start+1))),new y.Position(c,u?u.end+1:1)}static _moveWordPartLeft(s,i){const t=i.lineNumber,n=s.getLineMaxColumn(t);if(i.column===1)return t>1?new y.Position(t-1,s.getLineMaxColumn(t-1)):i;const c=s.getLineContent(t);for(let m=i.column-1;m>1;m--){const u=c.charCodeAt(m-2),r=c.charCodeAt(m-1);if(u===95&&r!==95)return new y.Position(t,m);if(u===45&&r!==45)return new y.Position(t,m);if((f.isLowerAsciiLetter(u)||f.isAsciiDigit(u))&&f.isUpperAsciiLetter(r))return new y.Position(t,m);if(f.isUpperAsciiLetter(u)&&f.isUpperAsciiLetter(r)&&m+1<n){const a=c.charCodeAt(m);if(f.isLowerAsciiLetter(a)||f.isAsciiDigit(a))return new y.Position(t,m)}}return new y.Position(t,1)}static moveWordRight(s,i,t,n){let c=t.lineNumber,m=t.column,u=!1;m===i.getLineMaxColumn(c)&&c<i.getLineCount()&&(u=!0,c=c+1,m=1);let r=w._findNextWordOnLine(s,i,new y.Position(c,m));if(n===2)r&&r.wordType===2&&r.end-r.start===1&&r.nextCharClass===0&&(r=w._findNextWordOnLine(s,i,new y.Position(c,r.end+1))),r?m=r.end+1:m=i.getLineMaxColumn(c);else if(n===3){for(u&&(m=0);r&&(r.wordType===2||r.start+1<=m);)r=w._findNextWordOnLine(s,i,new y.Position(c,r.end+1));r?m=r.start+1:m=i.getLineMaxColumn(c)}else r&&!u&&m>=r.start+1&&(r=w._findNextWordOnLine(s,i,new y.Position(c,r.end+1))),r?m=r.start+1:m=i.getLineMaxColumn(c);return new y.Position(c,m)}static _moveWordPartRight(s,i){const t=i.lineNumber,n=s.getLineMaxColumn(t);if(i.column===n)return t<s.getLineCount()?new y.Position(t+1,1):i;const c=s.getLineContent(t);for(let m=i.column+1;m<n;m++){const u=c.charCodeAt(m-2),r=c.charCodeAt(m-1);if(u!==95&&r===95)return new y.Position(t,m);if(u!==45&&r===45)return new y.Position(t,m);if((f.isLowerAsciiLetter(u)||f.isAsciiDigit(u))&&f.isUpperAsciiLetter(r))return new y.Position(t,m);if(f.isUpperAsciiLetter(u)&&f.isUpperAsciiLetter(r)&&m+1<n){const a=c.charCodeAt(m);if(f.isLowerAsciiLetter(a)||f.isAsciiDigit(a))return new y.Position(t,m)}}return new y.Position(t,n)}static _deleteWordLeftWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=i.column-2,c=f.lastNonWhitespaceIndex(t,n);return c+1<n?new p.Range(i.lineNumber,c+2,i.lineNumber,i.column):null}static deleteWordLeft(s,i){const t=s.wordSeparators,n=s.model,c=s.selection,m=s.whitespaceHeuristics;if(!c.isEmpty())return c;if(E.DeleteOperations.isAutoClosingPairDelete(s.autoClosingDelete,s.autoClosingBrackets,s.autoClosingQuotes,s.autoClosingPairs.autoClosingPairsOpenByEnd,s.model,[s.selection],s.autoClosedCharacters)){const l=s.selection.getPosition();return new p.Range(l.lineNumber,l.column-1,l.lineNumber,l.column+1)}const u=new y.Position(c.positionLineNumber,c.positionColumn);let r=u.lineNumber,a=u.column;if(r===1&&a===1)return null;if(m){const l=this._deleteWordLeftWhitespace(n,u);if(l)return l}let h=w._findPreviousWordOnLine(t,n,u);return i===0?h?a=h.start+1:a>1?a=1:(r--,a=n.getLineMaxColumn(r)):(h&&a<=h.end+1&&(h=w._findPreviousWordOnLine(t,n,new y.Position(r,h.start+1))),h?a=h.end+1:a>1?a=1:(r--,a=n.getLineMaxColumn(r))),new p.Range(r,a,u.lineNumber,u.column)}static deleteInsideWord(s,i,t){if(!t.isEmpty())return t;const n=new y.Position(t.positionLineNumber,t.positionColumn),c=this._deleteInsideWordWhitespace(i,n);return c||this._deleteInsideWordDetermineDeleteRange(s,i,n)}static _charAtIsWhitespace(s,i){const t=s.charCodeAt(i);return t===32||t===9}static _deleteInsideWordWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=t.length;if(n===0)return null;let c=Math.max(i.column-2,0);if(!this._charAtIsWhitespace(t,c))return null;let m=Math.min(i.column-1,n-1);if(!this._charAtIsWhitespace(t,m))return null;for(;c>0&&this._charAtIsWhitespace(t,c-1);)c--;for(;m+1<n&&this._charAtIsWhitespace(t,m+1);)m++;return new p.Range(i.lineNumber,c+1,i.lineNumber,m+2)}static _deleteInsideWordDetermineDeleteRange(s,i,t){const n=i.getLineContent(t.lineNumber),c=n.length;if(c===0)return t.lineNumber>1?new p.Range(t.lineNumber-1,i.getLineMaxColumn(t.lineNumber-1),t.lineNumber,1):t.lineNumber<i.getLineCount()?new p.Range(t.lineNumber,1,t.lineNumber+1,1):new p.Range(t.lineNumber,1,t.lineNumber,1);const m=l=>l.start+1<=t.column&&t.column<=l.end+1,u=(l,g)=>(l=Math.min(l,t.column),g=Math.max(g,t.column),new p.Range(t.lineNumber,l,t.lineNumber,g)),r=l=>{let g=l.start+1,d=l.end+1,v=!1;for(;d-1<c&&this._charAtIsWhitespace(n,d-1);)v=!0,d++;if(!v)for(;g>1&&this._charAtIsWhitespace(n,g-2);)g--;return u(g,d)},a=w._findPreviousWordOnLine(s,i,t);if(a&&m(a))return r(a);const h=w._findNextWordOnLine(s,i,t);return h&&m(h)?r(h):a&&h?u(a.end+1,h.start+1):a?u(a.start+1,a.end+1):h?u(h.start+1,h.end+1):u(1,c+1)}static _deleteWordPartLeft(s,i){if(!i.isEmpty())return i;const t=i.getPosition(),n=w._moveWordPartLeft(s,t);return new p.Range(t.lineNumber,t.column,n.lineNumber,n.column)}static _findFirstNonWhitespaceChar(s,i){const t=s.length;for(let n=i;n<t;n++){const c=s.charAt(n);if(c!==" "&&c!=="	")return n}return t}static _deleteWordRightWhitespace(s,i){const t=s.getLineContent(i.lineNumber),n=i.column-1,c=this._findFirstNonWhitespaceChar(t,n);return n+1<c?new p.Range(i.lineNumber,i.column,i.lineNumber,c+1):null}static deleteWordRight(s,i){const t=s.wordSeparators,n=s.model,c=s.selection,m=s.whitespaceHeuristics;if(!c.isEmpty())return c;const u=new y.Position(c.positionLineNumber,c.positionColumn);let r=u.lineNumber,a=u.column;const h=n.getLineCount(),l=n.getLineMaxColumn(r);if(r===h&&a===l)return null;if(m){const d=this._deleteWordRightWhitespace(n,u);if(d)return d}let g=w._findNextWordOnLine(t,n,u);return i===2?g?a=g.end+1:a<l||r===h?a=l:(r++,g=w._findNextWordOnLine(t,n,new y.Position(r,1)),g?a=g.start+1:a=n.getLineMaxColumn(r)):(g&&a>=g.start+1&&(g=w._findNextWordOnLine(t,n,new y.Position(r,g.end+1))),g?a=g.start+1:a<l||r===h?a=l:(r++,g=w._findNextWordOnLine(t,n,new y.Position(r,1)),g?a=g.start+1:a=n.getLineMaxColumn(r))),new p.Range(r,a,u.lineNumber,u.column)}static _deleteWordPartRight(s,i){if(!i.isEmpty())return i;const t=i.getPosition(),n=w._moveWordPartRight(s,t);return new p.Range(t.lineNumber,t.column,n.lineNumber,n.column)}static _createWordAtPosition(s,i,t){const n=new p.Range(i,t.start+1,i,t.end+1);return{word:s.getValueInRange(n),startColumn:n.startColumn,endColumn:n.endColumn}}static getWordAtPosition(s,i,t,n){const c=(0,D.getMapForWordSeparators)(i,t),m=w._findPreviousWordOnLine(c,s,n);if(m&&m.wordType===1&&m.start<=n.column-1&&n.column-1<=m.end)return w._createWordAtPosition(s,n.lineNumber,m);const u=w._findNextWordOnLine(c,s,n);return u&&u.wordType===1&&u.start<=n.column-1&&n.column-1<=u.end?w._createWordAtPosition(s,n.lineNumber,u):null}static word(s,i,t,n,c){const m=(0,D.getMapForWordSeparators)(s.wordSeparators,s.wordSegmenterLocales),u=w._findPreviousWordOnLine(m,i,c),r=w._findNextWordOnLine(m,i,c);if(!n){let d,v;return u&&u.wordType===1&&u.start<=c.column-1&&c.column-1<=u.end?(d=u.start+1,v=u.end+1):r&&r.wordType===1&&r.start<=c.column-1&&c.column-1<=r.end?(d=r.start+1,v=r.end+1):(u?d=u.end+1:d=1,r?v=r.start+1:v=i.getLineMaxColumn(c.lineNumber)),new k.SingleCursorState(new p.Range(c.lineNumber,d,c.lineNumber,v),1,0,new y.Position(c.lineNumber,v),0)}let a,h;u&&u.wordType===1&&u.start<c.column-1&&c.column-1<u.end?(a=u.start+1,h=u.end+1):r&&r.wordType===1&&r.start<c.column-1&&c.column-1<r.end?(a=r.start+1,h=r.end+1):(a=c.column,h=c.column);const l=c.lineNumber;let g;if(t.selectionStart.containsPosition(c))g=t.selectionStart.endColumn;else if(c.isBeforeOrEqual(t.selectionStart.getStartPosition())){g=a;const d=new y.Position(l,g);t.selectionStart.containsPosition(d)&&(g=t.selectionStart.endColumn)}else{g=h;const d=new y.Position(l,g);t.selectionStart.containsPosition(d)&&(g=t.selectionStart.startColumn)}return t.move(!0,l,g,0)}}e.WordOperations=w;class b extends w{static deleteWordPartLeft(s){const i=C([w.deleteWordLeft(s,0),w.deleteWordLeft(s,2),w._deleteWordPartLeft(s.model,s.selection)]);return i.sort(p.Range.compareRangesUsingEnds),i[2]}static deleteWordPartRight(s){const i=C([w.deleteWordRight(s,0),w.deleteWordRight(s,2),w._deleteWordPartRight(s.model,s.selection)]);return i.sort(p.Range.compareRangesUsingStarts),i[0]}static moveWordPartLeft(s,i,t){const n=C([w.moveWordLeft(s,i,t,0),w.moveWordLeft(s,i,t,2),w._moveWordPartLeft(i,t)]);return n.sort(y.Position.compare),n[2]}static moveWordPartRight(s,i,t){const n=C([w.moveWordRight(s,i,t,0),w.moveWordRight(s,i,t,2),w._moveWordPartRight(i,t)]);return n.sort(y.Position.compare),n[0]}}e.WordPartOperations=b;function C(o){return o.filter(s=>!!s)}}),define(ie[229],ne([1,0,20,79,227,193,9,5]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorMove=e.CursorMoveCommands=void 0;class w{static addCursorDown(o,s,i){const t=[];let n=0;for(let c=0,m=s.length;c<m;c++){const u=s[c];t[n++]=new k.CursorState(u.modelState,u.viewState),i?t[n++]=k.CursorState.fromModelState(E.MoveOperations.translateDown(o.cursorConfig,o.model,u.modelState)):t[n++]=k.CursorState.fromViewState(E.MoveOperations.translateDown(o.cursorConfig,o,u.viewState))}return t}static addCursorUp(o,s,i){const t=[];let n=0;for(let c=0,m=s.length;c<m;c++){const u=s[c];t[n++]=new k.CursorState(u.modelState,u.viewState),i?t[n++]=k.CursorState.fromModelState(E.MoveOperations.translateUp(o.cursorConfig,o.model,u.modelState)):t[n++]=k.CursorState.fromViewState(E.MoveOperations.translateUp(o.cursorConfig,o,u.viewState))}return t}static moveToBeginningOfLine(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n];t[n]=this._moveToLineStart(o,m,i)}return t}static _moveToLineStart(o,s,i){const t=s.viewState.position.column,n=s.modelState.position.column,c=t===n,m=s.viewState.position.lineNumber,u=o.getLineFirstNonWhitespaceColumn(m);return!c&&!(t===u)?this._moveToLineStartByView(o,s,i):this._moveToLineStartByModel(o,s,i)}static _moveToLineStartByView(o,s,i){return k.CursorState.fromViewState(E.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o,s.viewState,i))}static _moveToLineStartByModel(o,s,i){return k.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfLine(o.cursorConfig,o.model,s.modelState,i))}static moveToEndOfLine(o,s,i,t){const n=[];for(let c=0,m=s.length;c<m;c++){const u=s[c];n[c]=this._moveToLineEnd(o,u,i,t)}return n}static _moveToLineEnd(o,s,i,t){const n=s.viewState.position,c=o.getLineMaxColumn(n.lineNumber),m=n.column===c,u=s.modelState.position,r=o.model.getLineMaxColumn(u.lineNumber),a=c-n.column===r-u.column;return m||a?this._moveToLineEndByModel(o,s,i,t):this._moveToLineEndByView(o,s,i,t)}static _moveToLineEndByView(o,s,i,t){return k.CursorState.fromViewState(E.MoveOperations.moveToEndOfLine(o.cursorConfig,o,s.viewState,i,t))}static _moveToLineEndByModel(o,s,i,t){return k.CursorState.fromModelState(E.MoveOperations.moveToEndOfLine(o.cursorConfig,o.model,s.modelState,i,t))}static expandLineSelection(o,s){const i=[];for(let t=0,n=s.length;t<n;t++){const c=s[t],m=c.modelState.selection.startLineNumber,u=o.model.getLineCount();let r=c.modelState.selection.endLineNumber,a;r===u?a=o.model.getLineMaxColumn(u):(r++,a=1),i[t]=k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(m,1,m,1),0,0,new y.Position(r,a),0))}return i}static moveToBeginningOfBuffer(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n];t[n]=k.CursorState.fromModelState(E.MoveOperations.moveToBeginningOfBuffer(o.cursorConfig,o.model,m.modelState,i))}return t}static moveToEndOfBuffer(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n];t[n]=k.CursorState.fromModelState(E.MoveOperations.moveToEndOfBuffer(o.cursorConfig,o.model,m.modelState,i))}return t}static selectAll(o,s){const i=o.model.getLineCount(),t=o.model.getLineMaxColumn(i);return k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(1,1,1,1),0,0,new y.Position(i,t),0))}static line(o,s,i,t,n){const c=o.model.validatePosition(t),m=n?o.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),c):o.coordinatesConverter.convertModelPositionToViewPosition(c);if(!i){const r=o.model.getLineCount();let a=c.lineNumber+1,h=1;return a>r&&(a=r,h=o.model.getLineMaxColumn(a)),k.CursorState.fromModelState(new k.SingleCursorState(new p.Range(c.lineNumber,1,a,h),2,0,new y.Position(a,h),0))}const u=s.modelState.selectionStart.getStartPosition().lineNumber;if(c.lineNumber<u)return k.CursorState.fromViewState(s.viewState.move(!0,m.lineNumber,1,0));if(c.lineNumber>u){const r=o.getLineCount();let a=m.lineNumber+1,h=1;return a>r&&(a=r,h=o.getLineMaxColumn(a)),k.CursorState.fromViewState(s.viewState.move(!0,a,h,0))}else{const r=s.modelState.selectionStart.getEndPosition();return k.CursorState.fromModelState(s.modelState.move(!0,r.lineNumber,r.column,0))}}static word(o,s,i,t){const n=o.model.validatePosition(t);return k.CursorState.fromModelState(D.WordOperations.word(o.cursorConfig,o.model,s.modelState,i,n))}static cancelSelection(o,s){if(!s.modelState.hasSelection())return new k.CursorState(s.modelState,s.viewState);const i=s.viewState.position.lineNumber,t=s.viewState.position.column;return k.CursorState.fromViewState(new k.SingleCursorState(new p.Range(i,t,i,t),0,0,new y.Position(i,t),0))}static moveTo(o,s,i,t,n){if(i){if(s.modelState.selectionStartKind===1)return this.word(o,s,i,t);if(s.modelState.selectionStartKind===2)return this.line(o,s,i,t,n)}const c=o.model.validatePosition(t),m=n?o.coordinatesConverter.validateViewPosition(new y.Position(n.lineNumber,n.column),c):o.coordinatesConverter.convertModelPositionToViewPosition(c);return k.CursorState.fromViewState(s.viewState.move(i,m.lineNumber,m.column,0))}static simpleMove(o,s,i,t,n,c){switch(i){case 0:return c===4?this._moveHalfLineLeft(o,s,t):this._moveLeft(o,s,t,n);case 1:return c===4?this._moveHalfLineRight(o,s,t):this._moveRight(o,s,t,n);case 2:return c===2?this._moveUpByViewLines(o,s,t,n):this._moveUpByModelLines(o,s,t,n);case 3:return c===2?this._moveDownByViewLines(o,s,t,n):this._moveDownByModelLines(o,s,t,n);case 4:return c===2?s.map(m=>k.CursorState.fromViewState(E.MoveOperations.moveToPrevBlankLine(o.cursorConfig,o,m.viewState,t))):s.map(m=>k.CursorState.fromModelState(E.MoveOperations.moveToPrevBlankLine(o.cursorConfig,o.model,m.modelState,t)));case 5:return c===2?s.map(m=>k.CursorState.fromViewState(E.MoveOperations.moveToNextBlankLine(o.cursorConfig,o,m.viewState,t))):s.map(m=>k.CursorState.fromModelState(E.MoveOperations.moveToNextBlankLine(o.cursorConfig,o.model,m.modelState,t)));case 6:return this._moveToViewMinColumn(o,s,t);case 7:return this._moveToViewFirstNonWhitespaceColumn(o,s,t);case 8:return this._moveToViewCenterColumn(o,s,t);case 9:return this._moveToViewMaxColumn(o,s,t);case 10:return this._moveToViewLastNonWhitespaceColumn(o,s,t);default:return null}}static viewportMove(o,s,i,t,n){const c=o.getCompletelyVisibleViewRange(),m=o.coordinatesConverter.convertViewRangeToModelRange(c);switch(i){case 11:{const u=this._firstLineNumberInRange(o.model,m,n),r=o.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(o,s[0],t,u,r)]}case 13:{const u=this._lastLineNumberInRange(o.model,m,n),r=o.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(o,s[0],t,u,r)]}case 12:{const u=Math.round((m.startLineNumber+m.endLineNumber)/2),r=o.model.getLineFirstNonWhitespaceColumn(u);return[this._moveToModelPosition(o,s[0],t,u,r)]}case 14:{const u=[];for(let r=0,a=s.length;r<a;r++){const h=s[r];u[r]=this.findPositionInViewportIfOutside(o,h,c,t)}return u}default:return null}}static findPositionInViewportIfOutside(o,s,i,t){const n=s.viewState.position.lineNumber;if(i.startLineNumber<=n&&n<=i.endLineNumber-1)return new k.CursorState(s.modelState,s.viewState);{let c;n>i.endLineNumber-1?c=i.endLineNumber-1:n<i.startLineNumber?c=i.startLineNumber:c=n;const m=E.MoveOperations.vertical(o.cursorConfig,o,n,s.viewState.position.column,s.viewState.leftoverVisibleColumns,c,!1);return k.CursorState.fromViewState(s.viewState.move(t,m.lineNumber,m.column,m.leftoverVisibleColumns))}}static _firstLineNumberInRange(o,s,i){let t=s.startLineNumber;return s.startColumn!==o.getLineMinColumn(t)&&t++,Math.min(s.endLineNumber,t+i-1)}static _lastLineNumberInRange(o,s,i){let t=s.startLineNumber;return s.startColumn!==o.getLineMinColumn(t)&&t++,Math.max(t,s.endLineNumber-i+1)}static _moveLeft(o,s,i,t){return s.map(n=>k.CursorState.fromViewState(E.MoveOperations.moveLeft(o.cursorConfig,o,n.viewState,i,t)))}static _moveHalfLineLeft(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n],u=m.viewState.position.lineNumber,r=Math.round(o.getLineLength(u)/2);t[n]=k.CursorState.fromViewState(E.MoveOperations.moveLeft(o.cursorConfig,o,m.viewState,i,r))}return t}static _moveRight(o,s,i,t){return s.map(n=>k.CursorState.fromViewState(E.MoveOperations.moveRight(o.cursorConfig,o,n.viewState,i,t)))}static _moveHalfLineRight(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n],u=m.viewState.position.lineNumber,r=Math.round(o.getLineLength(u)/2);t[n]=k.CursorState.fromViewState(E.MoveOperations.moveRight(o.cursorConfig,o,m.viewState,i,r))}return t}static _moveDownByViewLines(o,s,i,t){const n=[];for(let c=0,m=s.length;c<m;c++){const u=s[c];n[c]=k.CursorState.fromViewState(E.MoveOperations.moveDown(o.cursorConfig,o,u.viewState,i,t))}return n}static _moveDownByModelLines(o,s,i,t){const n=[];for(let c=0,m=s.length;c<m;c++){const u=s[c];n[c]=k.CursorState.fromModelState(E.MoveOperations.moveDown(o.cursorConfig,o.model,u.modelState,i,t))}return n}static _moveUpByViewLines(o,s,i,t){const n=[];for(let c=0,m=s.length;c<m;c++){const u=s[c];n[c]=k.CursorState.fromViewState(E.MoveOperations.moveUp(o.cursorConfig,o,u.viewState,i,t))}return n}static _moveUpByModelLines(o,s,i,t){const n=[];for(let c=0,m=s.length;c<m;c++){const u=s[c];n[c]=k.CursorState.fromModelState(E.MoveOperations.moveUp(o.cursorConfig,o.model,u.modelState,i,t))}return n}static _moveToViewPosition(o,s,i,t,n){return k.CursorState.fromViewState(s.viewState.move(i,t,n,0))}static _moveToModelPosition(o,s,i,t,n){return k.CursorState.fromModelState(s.modelState.move(i,t,n,0))}static _moveToViewMinColumn(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n],u=m.viewState.position.lineNumber,r=o.getLineMinColumn(u);t[n]=this._moveToViewPosition(o,m,i,u,r)}return t}static _moveToViewFirstNonWhitespaceColumn(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n],u=m.viewState.position.lineNumber,r=o.getLineFirstNonWhitespaceColumn(u);t[n]=this._moveToViewPosition(o,m,i,u,r)}return t}static _moveToViewCenterColumn(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n],u=m.viewState.position.lineNumber,r=Math.round((o.getLineMaxColumn(u)+o.getLineMinColumn(u))/2);t[n]=this._moveToViewPosition(o,m,i,u,r)}return t}static _moveToViewMaxColumn(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n],u=m.viewState.position.lineNumber,r=o.getLineMaxColumn(u);t[n]=this._moveToViewPosition(o,m,i,u,r)}return t}static _moveToViewLastNonWhitespaceColumn(o,s,i){const t=[];for(let n=0,c=s.length;n<c;n++){const m=s[n],u=m.viewState.position.lineNumber,r=o.getLineLastNonWhitespaceColumn(u);t[n]=this._moveToViewPosition(o,m,i,u,r)}return t}}e.CursorMoveCommands=w;var b;(function(C){const o=function(i){if(!f.isObject(i))return!1;const t=i;return!(!f.isString(t.to)||!f.isUndefined(t.select)&&!f.isBoolean(t.select)||!f.isUndefined(t.by)&&!f.isString(t.by)||!f.isUndefined(t.value)&&!f.isNumber(t.value))};C.metadata={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:o,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},C.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},C.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function s(i){if(!i.to)return null;let t;switch(i.to){case C.RawDirection.Left:t=0;break;case C.RawDirection.Right:t=1;break;case C.RawDirection.Up:t=2;break;case C.RawDirection.Down:t=3;break;case C.RawDirection.PrevBlankLine:t=4;break;case C.RawDirection.NextBlankLine:t=5;break;case C.RawDirection.WrappedLineStart:t=6;break;case C.RawDirection.WrappedLineFirstNonWhitespaceCharacter:t=7;break;case C.RawDirection.WrappedLineColumnCenter:t=8;break;case C.RawDirection.WrappedLineEnd:t=9;break;case C.RawDirection.WrappedLineLastNonWhitespaceCharacter:t=10;break;case C.RawDirection.ViewPortTop:t=11;break;case C.RawDirection.ViewPortBottom:t=13;break;case C.RawDirection.ViewPortCenter:t=12;break;case C.RawDirection.ViewPortIfOutside:t=14;break;default:return null}let n=0;switch(i.by){case C.RawUnit.Line:n=1;break;case C.RawUnit.WrappedLine:n=2;break;case C.RawUnit.Character:n=3;break;case C.RawUnit.HalfLine:n=4;break}return{direction:t,unit:n,select:!!i.select,value:i.value||1}}C.parse=s})(b||(e.CursorMove=b={}))}),define(ie[544],ne([1,0,79,9,5,24]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Cursor=void 0;class y{constructor(w){this._selTrackedRange=null,this._trackSelection=!0,this._setState(w,new f.SingleCursorState(new E.Range(1,1,1,1),0,0,new k.Position(1,1),0),new f.SingleCursorState(new E.Range(1,1,1,1),0,0,new k.Position(1,1),0))}dispose(w){this._removeTrackedRange(w)}startTrackingSelection(w){this._trackSelection=!0,this._updateTrackedRange(w)}stopTrackingSelection(w){this._trackSelection=!1,this._removeTrackedRange(w)}_updateTrackedRange(w){this._trackSelection&&(this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(w){this._selTrackedRange=w.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new f.CursorState(this.modelState,this.viewState)}readSelectionFromMarkers(w){const b=w.model._getTrackedRange(this._selTrackedRange);return this.modelState.selection.isEmpty()&&!b.isEmpty()?D.Selection.fromRange(b.collapseToEnd(),this.modelState.selection.getDirection()):D.Selection.fromRange(b,this.modelState.selection.getDirection())}ensureValidState(w){this._setState(w,this.modelState,this.viewState)}setState(w,b,C){this._setState(w,b,C)}static _validatePositionWithCache(w,b,C,o){return b.equals(C)?o:w.normalizePosition(b,2)}static _validateViewState(w,b){const C=b.position,o=b.selectionStart.getStartPosition(),s=b.selectionStart.getEndPosition(),i=w.normalizePosition(C,2),t=this._validatePositionWithCache(w,o,C,i),n=this._validatePositionWithCache(w,s,o,t);return C.equals(i)&&o.equals(t)&&s.equals(n)?b:new f.SingleCursorState(E.Range.fromPositions(t,n),b.selectionStartKind,b.selectionStartLeftoverVisibleColumns+o.column-t.column,i,b.leftoverVisibleColumns+C.column-i.column)}_setState(w,b,C){if(C&&(C=y._validateViewState(w.viewModel,C)),b){const o=w.model.validateRange(b.selectionStart),s=b.selectionStart.equalsRange(o)?b.selectionStartLeftoverVisibleColumns:0,i=w.model.validatePosition(b.position),t=b.position.equals(i)?b.leftoverVisibleColumns:0;b=new f.SingleCursorState(o,b.selectionStartKind,s,i,t)}else{if(!C)return;const o=w.model.validateRange(w.coordinatesConverter.convertViewRangeToModelRange(C.selectionStart)),s=w.model.validatePosition(w.coordinatesConverter.convertViewPositionToModelPosition(C.position));b=new f.SingleCursorState(o,C.selectionStartKind,C.selectionStartLeftoverVisibleColumns,s,C.leftoverVisibleColumns)}if(C){const o=w.coordinatesConverter.validateViewRange(C.selectionStart,b.selectionStart),s=w.coordinatesConverter.validateViewPosition(C.position,b.position);C=new f.SingleCursorState(o,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,s,b.leftoverVisibleColumns)}else{const o=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(b.selectionStart.startLineNumber,b.selectionStart.startColumn)),s=w.coordinatesConverter.convertModelPositionToViewPosition(new k.Position(b.selectionStart.endLineNumber,b.selectionStart.endColumn)),i=new E.Range(o.lineNumber,o.column,s.lineNumber,s.column),t=w.coordinatesConverter.convertModelPositionToViewPosition(b.position);C=new f.SingleCursorState(i,b.selectionStartKind,b.selectionStartLeftoverVisibleColumns,t,b.leftoverVisibleColumns)}this.modelState=b,this.viewState=C,this._updateTrackedRange(w)}}e.Cursor=y}),define(ie[545],ne([1,0,13,67,79,544,9,5,24]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorCollection=void 0;class b{constructor(o){this.context=o,this.cursors=[new D.Cursor(o)],this.lastAddedCursorIndex=0}dispose(){for(const o of this.cursors)o.dispose(this.context)}startTrackingSelections(){for(const o of this.cursors)o.startTrackingSelection(this.context)}stopTrackingSelections(){for(const o of this.cursors)o.stopTrackingSelection(this.context)}updateContext(o){this.context=o}ensureValidState(){for(const o of this.cursors)o.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(o=>o.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(o=>o.asCursorState())}getViewPositions(){return this.cursors.map(o=>o.viewState.position)}getTopMostViewPosition(){return(0,k.findFirstMin)(this.cursors,(0,f.compareBy)(o=>o.viewState.position,y.Position.compare)).viewState.position}getBottomMostViewPosition(){return(0,k.findLastMax)(this.cursors,(0,f.compareBy)(o=>o.viewState.position,y.Position.compare)).viewState.position}getSelections(){return this.cursors.map(o=>o.modelState.selection)}getViewSelections(){return this.cursors.map(o=>o.viewState.selection)}setSelections(o){this.setStates(E.CursorState.fromModelSelections(o))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(o){o!==null&&(this.cursors[0].setState(this.context,o[0].modelState,o[0].viewState),this._setSecondaryStates(o.slice(1)))}_setSecondaryStates(o){const s=this.cursors.length-1,i=o.length;if(s<i){const t=i-s;for(let n=0;n<t;n++)this._addSecondaryCursor()}else if(s>i){const t=s-i;for(let n=0;n<t;n++)this._removeSecondaryCursor(this.cursors.length-2)}for(let t=0;t<i;t++)this.cursors[t+1].setState(this.context,o[t].modelState,o[t].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new D.Cursor(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(o){this.lastAddedCursorIndex>=o+1&&this.lastAddedCursorIndex--,this.cursors[o+1].dispose(this.context),this.cursors.splice(o+1,1)}normalize(){if(this.cursors.length===1)return;const o=this.cursors.slice(0),s=[];for(let i=0,t=o.length;i<t;i++)s.push({index:i,selection:o[i].modelState.selection});s.sort((0,f.compareBy)(i=>i.selection,p.Range.compareRangesUsingStarts));for(let i=0;i<s.length-1;i++){const t=s[i],n=s[i+1],c=t.selection,m=n.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let u;if(m.isEmpty()||c.isEmpty()?u=m.getStartPosition().isBeforeOrEqual(c.getEndPosition()):u=m.getStartPosition().isBefore(c.getEndPosition()),u){const r=t.index<n.index?i:i+1,a=t.index<n.index?i+1:i,h=s[a].index,l=s[r].index,g=s[a].selection,d=s[r].selection;if(!g.equalsSelection(d)){const v=g.plusRange(d),_=g.selectionStartLineNumber===g.startLineNumber&&g.selectionStartColumn===g.startColumn,S=d.selectionStartLineNumber===d.startLineNumber&&d.selectionStartColumn===d.startColumn;let L;h===this.lastAddedCursorIndex?(L=_,this.lastAddedCursorIndex=l):L=S;let I;L?I=new w.Selection(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn):I=new w.Selection(v.endLineNumber,v.endColumn,v.startLineNumber,v.startColumn),s[r].selection=I;const T=E.CursorState.fromModelSelection(I);o[l].setState(this.context,T.modelState,T.viewState)}for(const v of s)v.index>h&&v.index--;o.splice(h,1),s.splice(a,1),this._removeSecondaryCursor(h-1),i--}}}}e.CursorCollection=b}),define(ie[546],ne([1,0,126]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CharacterPairSupport=void 0;class k{constructor(D){if(D.autoClosingPairs?this._autoClosingPairs=D.autoClosingPairs.map(y=>new f.StandardAutoClosingPairConditional(y)):D.brackets?this._autoClosingPairs=D.brackets.map(y=>new f.StandardAutoClosingPairConditional({open:y[0],close:y[1]})):this._autoClosingPairs=[],D.__electricCharacterSupport&&D.__electricCharacterSupport.docComment){const y=D.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new f.StandardAutoClosingPairConditional({open:y.open,close:y.close||""}))}this._autoCloseBeforeForQuotes=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES,this._autoCloseBeforeForBrackets=typeof D.autoCloseBefore=="string"?D.autoCloseBefore:k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS,this._surroundingPairs=D.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(D){return D?this._autoCloseBeforeForQuotes:this._autoCloseBeforeForBrackets}getSurroundingPairs(){return this._surroundingPairs}}e.CharacterPairSupport=k,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_QUOTES=`;:.,=}])> 
	`,k.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED_BRACKETS=`'"\`;:.,=}])> 
	`}),define(ie[547],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentRulesSupport=void 0;function f(E){return E.global&&(E.lastIndex=0),!0}class k{constructor(D){this._indentationRules=D}shouldIncrease(D){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&f(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(D))}shouldDecrease(D){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&f(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(D))}shouldIndentNextLine(D){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&f(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(D))}shouldIgnore(D){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&f(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(D))}getIndentMetadata(D){let y=0;return this.shouldIncrease(D)&&(y+=1),this.shouldDecrease(D)&&(y+=2),this.shouldIndentNextLine(D)&&(y+=4),this.shouldIgnore(D)&&(y+=8),y}}e.IndentRulesSupport=k}),define(ie[548],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BasicInplaceReplace=void 0;class f{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(E,D,y,p,w){if(E&&D){const b=this.doNavigateValueSet(D,w);if(b)return{range:E,value:b}}if(y&&p){const b=this.doNavigateValueSet(p,w);if(b)return{range:y,value:b}}return null}doNavigateValueSet(E,D){const y=this.numberReplace(E,D);return y!==null?y:this.textReplace(E,D)}numberReplace(E,D){const y=Math.pow(10,E.length-(E.lastIndexOf(".")+1));let p=Number(E);const w=parseFloat(E);return!isNaN(p)&&!isNaN(w)&&p===w?p===0&&!D?null:(p=Math.floor(p*y),p+=D?y:-y,String(p/y)):null}textReplace(E,D){return this.valueSetsReplace(this._defaultValueSet,E,D)}valueSetsReplace(E,D,y){let p=null;for(let w=0,b=E.length;p===null&&w<b;w++)p=this.valueSetReplace(E[w],D,y);return p}valueSetReplace(E,D,y){let p=E.indexOf(D);return p>=0?(p+=y?1:-1,p<0?p=E.length-1:p%=E.length,E[p]):null}}e.BasicInplaceReplace=f,f.INSTANCE=new f}),define(ie[549],ne([1,0,288]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClosingBracketKind=e.OpeningBracketKind=e.BracketKindBase=e.LanguageBracketsConfiguration=void 0;class k{constructor(b,C){this.languageId=b;const o=C.brackets?E(C.brackets):[],s=new f.CachedFunction(n=>{const c=new Set;return{info:new y(this,n,c),closing:c}}),i=new f.CachedFunction(n=>{const c=new Set,m=new Set;return{info:new p(this,n,c,m),opening:c,openingColorized:m}});for(const[n,c]of o){const m=s.get(n),u=i.get(c);m.closing.add(u.info),u.opening.add(m.info)}const t=C.colorizedBracketPairs?E(C.colorizedBracketPairs):o.filter(n=>!(n[0]==="<"&&n[1]===">"));for(const[n,c]of t){const m=s.get(n),u=i.get(c);m.closing.add(u.info),u.openingColorized.add(m.info),u.opening.add(m.info)}this._openingBrackets=new Map([...s.cachedValues].map(([n,c])=>[n,c.info])),this._closingBrackets=new Map([...i.cachedValues].map(([n,c])=>[n,c.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(b){return this._openingBrackets.get(b)}getClosingBracketInfo(b){return this._closingBrackets.get(b)}getBracketInfo(b){return this.getOpeningBracketInfo(b)||this.getClosingBracketInfo(b)}}e.LanguageBracketsConfiguration=k;function E(w){return w.filter(([b,C])=>b!==""&&C!=="")}class D{constructor(b,C){this.config=b,this.bracketText=C}get languageId(){return this.config.languageId}}e.BracketKindBase=D;class y extends D{constructor(b,C,o){super(b,C),this.openedBrackets=o,this.isOpeningBracket=!0}}e.OpeningBracketKind=y;class p extends D{constructor(b,C,o,s){super(b,C),this.openingBrackets=o,this.openingColorizedBrackets=s,this.isOpeningBracket=!1}closes(b){return b.config!==this.config?!1:this.openingBrackets.has(b)}closesColorized(b){return b.config!==this.config?!1:this.openingColorizedBrackets.has(b)}getOpeningBrackets(){return[...this.openingBrackets]}}e.ClosingBracketKind=p}),define(ie[550],ne([1,0,10,12,126]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OnEnterSupport=void 0;class D{constructor(p){p=p||{},p.brackets=p.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],p.brackets.forEach(w=>{const b=D._createOpenBracketRegExp(w[0]),C=D._createCloseBracketRegExp(w[1]);b&&C&&this._brackets.push({open:w[0],openRegExp:b,close:w[1],closeRegExp:C})}),this._regExpRules=p.onEnterRules||[]}onEnter(p,w,b,C){if(p>=3)for(let o=0,s=this._regExpRules.length;o<s;o++){const i=this._regExpRules[o];if([{reg:i.beforeText,text:b},{reg:i.afterText,text:C},{reg:i.previousLineText,text:w}].every(n=>n.reg?(n.reg.lastIndex=0,n.reg.test(n.text)):!0))return i.action}if(p>=2&&b.length>0&&C.length>0)for(let o=0,s=this._brackets.length;o<s;o++){const i=this._brackets[o];if(i.openRegExp.test(b)&&i.closeRegExp.test(C))return{indentAction:E.IndentAction.IndentOutdent}}if(p>=2&&b.length>0){for(let o=0,s=this._brackets.length;o<s;o++)if(this._brackets[o].openRegExp.test(b))return{indentAction:E.IndentAction.Indent}}return null}static _createOpenBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(0))||(w="\\b"+w),w+="\\s*$",D._safeRegExp(w)}static _createCloseBracketRegExp(p){let w=k.escapeRegExpCharacters(p);return/\B/.test(w.charAt(w.length-1))||(w=w+"\\b"),w="^\\s*"+w,D._safeRegExp(w)}static _safeRegExp(p){try{return new RegExp(p)}catch(w){return(0,f.onUnexpectedError)(w),null}}}e.OnEnterSupport=D}),define(ie[551],ne([1,0,35]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ThemeTrieElement=e.ThemeTrieElementRule=e.TokenTheme=e.ColorMap=e.ParsedTokenThemeRule=void 0,e.parseTokenTheme=E,e.toStandardTokenType=C,e.strcmp=o,e.generateTokensCSSForColorMap=t;class k{constructor(c,m,u,r,a){this._parsedThemeRuleBrand=void 0,this.token=c,this.index=m,this.fontStyle=u,this.foreground=r,this.background=a}}e.ParsedTokenThemeRule=k;function E(n){if(!n||!Array.isArray(n))return[];const c=[];let m=0;for(let u=0,r=n.length;u<r;u++){const a=n[u];let h=-1;if(typeof a.fontStyle=="string"){h=0;const d=a.fontStyle.split(" ");for(let v=0,_=d.length;v<_;v++)switch(d[v]){case"italic":h=h|1;break;case"bold":h=h|2;break;case"underline":h=h|4;break;case"strikethrough":h=h|8;break}}let l=null;typeof a.foreground=="string"&&(l=a.foreground);let g=null;typeof a.background=="string"&&(g=a.background),c[m++]=new k(a.token||"",u,h,l,g)}return c}function D(n,c){n.sort((v,_)=>{const S=o(v.token,_.token);return S!==0?S:v.index-_.index});let m=0,u="000000",r="ffffff";for(;n.length>=1&&n[0].token==="";){const v=n.shift();v.fontStyle!==-1&&(m=v.fontStyle),v.foreground!==null&&(u=v.foreground),v.background!==null&&(r=v.background)}const a=new p;for(const v of c)a.getId(v);const h=a.getId(u),l=a.getId(r),g=new s(m,h,l),d=new i(g);for(let v=0,_=n.length;v<_;v++){const S=n[v];d.insert(S.token,S.fontStyle,a.getId(S.foreground),a.getId(S.background))}return new w(a,d)}const y=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class p{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(c){if(c===null)return 0;const m=c.match(y);if(!m)throw new Error("Illegal value for token color: "+c);c=m[1].toUpperCase();let u=this._color2id.get(c);return u||(u=++this._lastColorId,this._color2id.set(c,u),this._id2color[u]=f.Color.fromHex("#"+c),u)}getColorMap(){return this._id2color.slice(0)}}e.ColorMap=p;class w{static createFromRawTokenTheme(c,m){return this.createFromParsedTokenTheme(E(c),m)}static createFromParsedTokenTheme(c,m){return D(c,m)}constructor(c,m){this._colorMap=c,this._root=m,this._cache=new Map}getColorMap(){return this._colorMap.getColorMap()}_match(c){return this._root.match(c)}match(c,m){let u=this._cache.get(m);if(typeof u>"u"){const r=this._match(m),a=C(m);u=(r.metadata|a<<8)>>>0,this._cache.set(m,u)}return(u|c<<0)>>>0}}e.TokenTheme=w;const b=/\b(comment|string|regex|regexp)\b/;function C(n){const c=n.match(b);if(!c)return 0;switch(c[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function o(n,c){return n<c?-1:n>c?1:0}class s{constructor(c,m,u){this._themeTrieElementRuleBrand=void 0,this._fontStyle=c,this._foreground=m,this._background=u,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new s(this._fontStyle,this._foreground,this._background)}acceptOverwrite(c,m,u){c!==-1&&(this._fontStyle=c),m!==0&&(this._foreground=m),u!==0&&(this._background=u),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}e.ThemeTrieElementRule=s;class i{constructor(c){this._themeTrieElementBrand=void 0,this._mainRule=c,this._children=new Map}match(c){if(c==="")return this._mainRule;const m=c.indexOf(".");let u,r;m===-1?(u=c,r=""):(u=c.substring(0,m),r=c.substring(m+1));const a=this._children.get(u);return typeof a<"u"?a.match(r):this._mainRule}insert(c,m,u,r){if(c===""){this._mainRule.acceptOverwrite(m,u,r);return}const a=c.indexOf(".");let h,l;a===-1?(h=c,l=""):(h=c.substring(0,a),l=c.substring(a+1));let g=this._children.get(h);typeof g>"u"&&(g=new i(this._mainRule.clone()),this._children.set(h,g)),g.insert(l,m,u,r)}}e.ThemeTrieElement=i;function t(n){const c=[];for(let m=1,u=n.length;m<u;m++){const r=n[m];c[m]=`.mtk${m} { color: ${r}; }`}return c.push(".mtki { font-style: italic; }"),c.push(".mtkb { font-weight: bold; }"),c.push(".mtku { text-decoration: underline; text-underline-position: under; }"),c.push(".mtks { text-decoration: line-through; }"),c.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),c.join(`
`)}}),define(ie[42],ne([1,0,55]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyEditsResult=e.SearchData=e.ValidAnnotatedEditOperation=e.FindMatch=e.TextModelResolvedOptions=e.InjectedTextCursorStops=e.GlyphMarginLane=e.OverviewRulerLane=void 0,e.isITextSnapshot=w,e.shouldSynchronizeModel=s;var k;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=4]="Right",i[i.Full=7]="Full"})(k||(e.OverviewRulerLane=k={}));var E;(function(i){i[i.Left=1]="Left",i[i.Center=2]="Center",i[i.Right=3]="Right"})(E||(e.GlyphMarginLane=E={}));var D;(function(i){i[i.Both=0]="Both",i[i.Right=1]="Right",i[i.Left=2]="Left",i[i.None=3]="None"})(D||(e.InjectedTextCursorStops=D={}));class y{get originalIndentSize(){return this._indentSizeIsTabSize?"tabSize":this.indentSize}constructor(t){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,t.tabSize|0),t.indentSize==="tabSize"?(this.indentSize=this.tabSize,this._indentSizeIsTabSize=!0):(this.indentSize=Math.max(1,t.indentSize|0),this._indentSizeIsTabSize=!1),this.insertSpaces=!!t.insertSpaces,this.defaultEOL=t.defaultEOL|0,this.trimAutoWhitespace=!!t.trimAutoWhitespace,this.bracketPairColorizationOptions=t.bracketPairColorizationOptions}equals(t){return this.tabSize===t.tabSize&&this._indentSizeIsTabSize===t._indentSizeIsTabSize&&this.indentSize===t.indentSize&&this.insertSpaces===t.insertSpaces&&this.defaultEOL===t.defaultEOL&&this.trimAutoWhitespace===t.trimAutoWhitespace&&(0,f.equals)(this.bracketPairColorizationOptions,t.bracketPairColorizationOptions)}createChangeEvent(t){return{tabSize:this.tabSize!==t.tabSize,indentSize:this.indentSize!==t.indentSize,insertSpaces:this.insertSpaces!==t.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==t.trimAutoWhitespace}}}e.TextModelResolvedOptions=y;class p{constructor(t,n){this._findMatchBrand=void 0,this.range=t,this.matches=n}}e.FindMatch=p;function w(i){return i&&typeof i.read=="function"}class b{constructor(t,n,c,m,u,r){this.identifier=t,this.range=n,this.text=c,this.forceMoveMarkers=m,this.isAutoWhitespaceEdit=u,this._isTracked=r}}e.ValidAnnotatedEditOperation=b;class C{constructor(t,n,c){this.regex=t,this.wordSeparators=n,this.simpleSearch=c}}e.SearchData=C;class o{constructor(t,n,c){this.reverseEdits=t,this.changes=n,this.trimAutoWhitespaceLineNumbers=c}}e.ApplyEditsResult=o;function s(i){return!i.isTooLargeForSyncing()&&!i.isForSimpleWidget}}),define(ie[101],ne([1,0,12,5,108]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.lengthZero=void 0,e.lengthDiff=D,e.lengthIsZero=y,e.toLength=w,e.lengthToObj=b,e.lengthGetLineCount=C,e.lengthGetColumnCountIfZeroLineCount=o,e.lengthAdd=s,e.sumLengths=i,e.lengthEquals=t,e.lengthDiffNonNegative=n,e.lengthLessThan=c,e.lengthLessThanEqual=m,e.lengthGreaterThanEqual=u,e.positionToLength=r,e.lengthsToRange=a,e.lengthOfString=h;function D(l,g,d,v){return l!==d?w(d-l,v):w(0,v-g)}e.lengthZero=0;function y(l){return l===0}const p=2**26;function w(l,g){return l*p+g}function b(l){const g=l,d=Math.floor(g/p),v=g-d*p;return new E.TextLength(d,v)}function C(l){return Math.floor(l/p)}function o(l){return l}function s(l,g){let d=l+g;return g>=p&&(d=d-l%p),d}function i(l,g){return l.reduce((d,v)=>s(d,g(v)),e.lengthZero)}function t(l,g){return l===g}function n(l,g){const d=l,v=g;if(v-d<=0)return e.lengthZero;const S=Math.floor(d/p),L=Math.floor(v/p),I=v-L*p;if(S===L){const T=d-S*p;return w(0,I-T)}else return w(L-S,I)}function c(l,g){return l<g}function m(l,g){return l<=g}function u(l,g){return l>=g}function r(l){return w(l.lineNumber-1,l.column-1)}function a(l,g){const d=l,v=Math.floor(d/p),_=d-v*p,S=g,L=Math.floor(S/p),I=S-L*p;return new k.Range(v+1,_+1,L+1,I+1)}function h(l){const g=(0,f.splitLines)(l);return w(g.length-1,g[g.length-1].length)}}),define(ie[194],ne([1,0,5,101]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeEditPositionMapper=e.TextEditInfo=void 0;class E{static fromModelContentChanges(w){return w.map(C=>{const o=f.Range.lift(C.range);return new E((0,k.positionToLength)(o.getStartPosition()),(0,k.positionToLength)(o.getEndPosition()),(0,k.lengthOfString)(C.text))}).reverse()}constructor(w,b,C){this.startOffset=w,this.endOffset=b,this.newLength=C}toString(){return`[${(0,k.lengthToObj)(this.startOffset)}...${(0,k.lengthToObj)(this.endOffset)}) -> ${(0,k.lengthToObj)(this.newLength)}`}}e.TextEditInfo=E;class D{constructor(w){this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=w.map(b=>y.from(b))}getOffsetBeforeChange(w){return this.adjustNextEdit(w),this.translateCurToOld(w)}getDistanceToNextChange(w){this.adjustNextEdit(w);const b=this.edits[this.nextEditIdx],C=b?this.translateOldToCur(b.offsetObj):null;return C===null?null:(0,k.lengthDiffNonNegative)(w,C)}translateOldToCur(w){return w.lineCount===this.deltaLineIdxInOld?(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount+this.deltaOldToNewColumnCount):(0,k.toLength)(w.lineCount+this.deltaOldToNewLineCount,w.columnCount)}translateCurToOld(w){const b=(0,k.lengthToObj)(w);return b.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,k.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount-this.deltaOldToNewColumnCount):(0,k.toLength)(b.lineCount-this.deltaOldToNewLineCount,b.columnCount)}adjustNextEdit(w){for(;this.nextEditIdx<this.edits.length;){const b=this.edits[this.nextEditIdx],C=this.translateOldToCur(b.endOffsetAfterObj);if((0,k.lengthLessThanEqual)(C,w)){this.nextEditIdx++;const o=(0,k.lengthToObj)(C),s=(0,k.lengthToObj)(this.translateOldToCur(b.endOffsetBeforeObj)),i=o.lineCount-s.lineCount;this.deltaOldToNewLineCount+=i;const t=this.deltaLineIdxInOld===b.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,n=o.columnCount-s.columnCount;this.deltaOldToNewColumnCount=t+n,this.deltaLineIdxInOld=b.endOffsetBeforeObj.lineCount}else break}}}e.BeforeEditPositionMapper=D;class y{static from(w){return new y(w.startOffset,w.endOffset,w.newLength)}constructor(w,b,C){this.endOffsetBeforeObj=(0,k.lengthToObj)(b),this.endOffsetAfterObj=(0,k.lengthToObj)((0,k.lengthAdd)(w,C)),this.offsetObj=(0,k.lengthToObj)(w)}}}),define(ie[310],ne([1,0,13,194,101]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.combineTextEditInfos=D;function D(w,b){if(w.length===0)return b;if(b.length===0)return w;const C=new f.ArrayQueue(p(w)),o=p(b);o.push({modified:!1,lengthBefore:void 0,lengthAfter:void 0});let s=C.dequeue();function i(m){if(m===void 0){const r=C.takeWhile(a=>!0)||[];return s&&r.unshift(s),r}const u=[];for(;s&&!(0,E.lengthIsZero)(m);){const[r,a]=s.splitAt(m);u.push(r),m=(0,E.lengthDiffNonNegative)(r.lengthAfter,m),s=a??C.dequeue()}return(0,E.lengthIsZero)(m)||u.push(new y(!1,m,m)),u}const t=[];function n(m,u,r){if(t.length>0&&(0,E.lengthEquals)(t[t.length-1].endOffset,m)){const a=t[t.length-1];t[t.length-1]=new k.TextEditInfo(a.startOffset,u,(0,E.lengthAdd)(a.newLength,r))}else t.push({startOffset:m,endOffset:u,newLength:r})}let c=E.lengthZero;for(const m of o){const u=i(m.lengthBefore);if(m.modified){const r=(0,E.sumLengths)(u,h=>h.lengthBefore),a=(0,E.lengthAdd)(c,r);n(c,a,m.lengthAfter),c=a}else for(const r of u){const a=c;c=(0,E.lengthAdd)(c,r.lengthBefore),r.modified&&n(a,c,r.lengthAfter)}}return t}class y{constructor(b,C,o){this.modified=b,this.lengthBefore=C,this.lengthAfter=o}splitAt(b){const C=(0,E.lengthDiffNonNegative)(b,this.lengthAfter);return(0,E.lengthEquals)(C,E.lengthZero)?[this,void 0]:this.modified?[new y(this.modified,this.lengthBefore,b),new y(this.modified,E.lengthZero,C)]:[new y(this.modified,b,b),new y(this.modified,C,C)]}toString(){return`${this.modified?"M":"U"}:${(0,E.lengthToObj)(this.lengthBefore)} -> ${(0,E.lengthToObj)(this.lengthAfter)}`}}function p(w){const b=[];let C=E.lengthZero;for(const o of w){const s=(0,E.lengthDiffNonNegative)(C,o.startOffset);(0,E.lengthIsZero)(s)||b.push(new y(!1,s,s));const i=(0,E.lengthDiffNonNegative)(o.startOffset,o.endOffset);b.push(new y(!0,i,o.newLength)),C=o.endOffset}return b}}),define(ie[552],ne([1,0,101]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NodeReader=void 0;class k{constructor(p){this.lastOffset=f.lengthZero,this.nextNodes=[p],this.offsets=[f.lengthZero],this.idxs=[]}readLongestNodeAt(p,w){if((0,f.lengthLessThan)(p,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=p;;){const b=D(this.nextNodes);if(!b)return;const C=D(this.offsets);if((0,f.lengthLessThan)(p,C))return;if((0,f.lengthLessThan)(C,p))if((0,f.lengthAdd)(C,b.length)<=p)this.nextNodeAfterCurrent();else{const o=E(b);o!==-1?(this.nextNodes.push(b.getChild(o)),this.offsets.push(C),this.idxs.push(o)):this.nextNodeAfterCurrent()}else{if(w(b))return this.nextNodeAfterCurrent(),b;{const o=E(b);if(o===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(b.getChild(o)),this.offsets.push(C),this.idxs.push(o)}}}}nextNodeAfterCurrent(){for(;;){const p=D(this.offsets),w=D(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const b=D(this.nextNodes),C=E(b,this.idxs[this.idxs.length-1]);if(C!==-1){this.nextNodes.push(b.getChild(C)),this.offsets.push((0,f.lengthAdd)(p,w.length)),this.idxs[this.idxs.length-1]=C;break}else this.idxs.pop()}}}e.NodeReader=k;function E(y,p=-1){for(;;){if(p++,p>=y.childrenLength)return-1;if(y.getChild(p))return p}}function D(y){return y.length>0?y[y.length-1]:void 0}}),define(ie[145],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DenseKeyProvider=e.identityKeyProvider=e.SmallImmutableSet=void 0;const f=[];class k{static create(y,p){if(y<=128&&p.length===0){let w=k.cache[y];return w||(w=new k(y,p),k.cache[y]=w),w}return new k(y,p)}static getEmpty(){return this.empty}constructor(y,p){this.items=y,this.additionalItems=p}add(y,p){const w=p.getKey(y);let b=w>>5;if(b===0){const o=1<<w|this.items;return o===this.items?this:k.create(o,this.additionalItems)}b--;const C=this.additionalItems.slice(0);for(;C.length<b;)C.push(0);return C[b]|=1<<(w&31),k.create(this.items,C)}merge(y){const p=this.items|y.items;if(this.additionalItems===f&&y.additionalItems===f)return p===this.items?this:p===y.items?y:k.create(p,f);const w=[];for(let b=0;b<Math.max(this.additionalItems.length,y.additionalItems.length);b++){const C=this.additionalItems[b]||0,o=y.additionalItems[b]||0;w.push(C|o)}return k.create(p,w)}intersects(y){if(this.items&y.items)return!0;for(let p=0;p<Math.min(this.additionalItems.length,y.additionalItems.length);p++)if(this.additionalItems[p]&y.additionalItems[p])return!0;return!1}}e.SmallImmutableSet=k,k.cache=new Array(129),k.empty=k.create(0,f),e.identityKeyProvider={getKey(D){return D}};class E{constructor(){this.items=new Map}getKey(y){let p=this.items.get(y);return p===void 0&&(p=this.items.size,this.items.set(y,p)),p}}e.DenseKeyProvider=E}),define(ie[195],ne([1,0,10,90,101,145]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InvalidBracketAstNode=e.BracketAstNode=e.TextAstNode=e.ListAstNode=e.PairAstNode=void 0;class y{get length(){return this._length}constructor(r){this._length=r}}class p extends y{static create(r,a,h){let l=r.length;return a&&(l=(0,E.lengthAdd)(l,a.length)),h&&(l=(0,E.lengthAdd)(l,h.length)),new p(l,r,a,h,a?a.missingOpeningBracketIds:D.SmallImmutableSet.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(r){switch(r){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const r=[];return r.push(this.openingBracket),this.child&&r.push(this.child),this.closingBracket&&r.push(this.closingBracket),r}constructor(r,a,h,l,g){super(r),this.openingBracket=a,this.child=h,this.closingBracket=l,this.missingOpeningBracketIds=g}canBeReused(r){return!(this.closingBracket===null||r.intersects(this.missingOpeningBracketIds))}deepClone(){return new p(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(r,a){return this.child?this.child.computeMinIndentation((0,E.lengthAdd)(r,this.openingBracket.length),a):Number.MAX_SAFE_INTEGER}}e.PairAstNode=p;class w extends y{static create23(r,a,h,l=!1){let g=r.length,d=r.missingOpeningBracketIds;if(r.listHeight!==a.listHeight)throw new Error("Invalid list heights");if(g=(0,E.lengthAdd)(g,a.length),d=d.merge(a.missingOpeningBracketIds),h){if(r.listHeight!==h.listHeight)throw new Error("Invalid list heights");g=(0,E.lengthAdd)(g,h.length),d=d.merge(h.missingOpeningBracketIds)}return l?new C(g,r.listHeight+1,r,a,h,d):new b(g,r.listHeight+1,r,a,h,d)}static getEmpty(){return new s(E.lengthZero,0,[],D.SmallImmutableSet.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}constructor(r,a,h){super(r),this.listHeight=a,this._missingOpeningBracketIds=h,this.cachedMinIndentation=-1}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const r=this.childrenLength;if(r===0)return;const a=this.getChild(r-1),h=a.kind===4?a.toMutable():a;return a!==h&&this.setChild(r-1,h),h}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const a=this.getChild(0),h=a.kind===4?a.toMutable():a;return a!==h&&this.setChild(0,h),h}canBeReused(r){if(r.intersects(this.missingOpeningBracketIds)||this.childrenLength===0)return!1;let a=this;for(;a.kind===4;){const h=a.childrenLength;if(h===0)throw new f.BugIndicatingError;a=a.getChild(h-1)}return a.canBeReused(r)}handleChildrenChanged(){this.throwIfImmutable();const r=this.childrenLength;let a=this.getChild(0).length,h=this.getChild(0).missingOpeningBracketIds;for(let l=1;l<r;l++){const g=this.getChild(l);a=(0,E.lengthAdd)(a,g.length),h=h.merge(g.missingOpeningBracketIds)}this._length=a,this._missingOpeningBracketIds=h,this.cachedMinIndentation=-1}computeMinIndentation(r,a){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let h=Number.MAX_SAFE_INTEGER,l=r;for(let g=0;g<this.childrenLength;g++){const d=this.getChild(g);d&&(h=Math.min(h,d.computeMinIndentation(l,a)),l=(0,E.lengthAdd)(l,d.length))}return this.cachedMinIndentation=h,h}}e.ListAstNode=w;class b extends w{get childrenLength(){return this._item3!==null?3:2}getChild(r){switch(r){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(r,a){switch(r){case 0:this._item1=a;return;case 1:this._item2=a;return;case 2:this._item3=a;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}constructor(r,a,h,l,g,d){super(r,a,d),this._item1=h,this._item2=l,this._item3=g}deepClone(){return new b(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=r,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item3;return this._item3=null,this.handleChildrenChanged(),r}prependChildOfSameHeight(r){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=r,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const r=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),r}toMutable(){return this}}class C extends b{toMutable(){return new b(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class o extends w{get childrenLength(){return this._children.length}getChild(r){return this._children[r]}setChild(r,a){this._children[r]=a}get children(){return this._children}constructor(r,a,h,l){super(r,a,l),this._children=h}deepClone(){const r=new Array(this._children.length);for(let a=0;a<this._children.length;a++)r[a]=this._children[a].deepClone();return new o(this.length,this.listHeight,r,this.missingOpeningBracketIds)}appendChildOfSameHeight(r){this.throwIfImmutable(),this._children.push(r),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const r=this._children.pop();return this.handleChildrenChanged(),r}prependChildOfSameHeight(r){this.throwIfImmutable(),this._children.unshift(r),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const r=this._children.shift();return this.handleChildrenChanged(),r}toMutable(){return this}}class s extends o{toMutable(){return new o(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const i=[];class t extends y{get listHeight(){return 0}get childrenLength(){return 0}getChild(r){return null}get children(){return i}deepClone(){return this}}class n extends t{get kind(){return 0}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}canBeReused(r){return!0}computeMinIndentation(r,a){const h=(0,E.lengthToObj)(r),l=(h.columnCount===0?h.lineCount:h.lineCount+1)+1,g=(0,E.lengthGetLineCount)((0,E.lengthAdd)(r,this.length))+1;let d=Number.MAX_SAFE_INTEGER;for(let v=l;v<=g;v++){const _=a.getLineFirstNonWhitespaceColumn(v),S=a.getLineContent(v);if(_===0)continue;const L=k.CursorColumns.visibleColumnFromColumn(S,_,a.getOptions().tabSize);d=Math.min(d,L)}return d}}e.TextAstNode=n;class c extends t{static create(r,a,h){return new c(r,a,h)}get kind(){return 1}get missingOpeningBracketIds(){return D.SmallImmutableSet.getEmpty()}constructor(r,a,h){super(r),this.bracketInfo=a,this.bracketIds=h}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(r){return!1}computeMinIndentation(r,a){return Number.MAX_SAFE_INTEGER}}e.BracketAstNode=c;class m extends t{get kind(){return 3}constructor(r,a){super(a),this.missingOpeningBracketIds=r}canBeReused(r){return!r.intersects(this.missingOpeningBracketIds)}computeMinIndentation(r,a){return Number.MAX_SAFE_INTEGER}}e.InvalidBracketAstNode=m}),define(ie[553],ne([1,0,195]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.concat23Trees=k,e.concat23TreesOfSameHeight=E;function k(b){if(b.length===0)return null;if(b.length===1)return b[0];let C=0;function o(){if(C>=b.length)return null;const n=C,c=b[n].listHeight;for(C++;C<b.length&&b[C].listHeight===c;)C++;return C-n>=2?E(n===0&&C===b.length?b:b.slice(n,C),!1):b[n]}let s=o(),i=o();if(!i)return s;for(let n=o();n;n=o())D(s,i)<=D(i,n)?(s=y(s,i),i=n):i=y(i,n);return y(s,i)}function E(b,C=!1){if(b.length===0)return null;if(b.length===1)return b[0];let o=b.length;for(;o>3;){const s=o>>1;for(let i=0;i<s;i++){const t=i<<1;b[i]=f.ListAstNode.create23(b[t],b[t+1],t+3===o?b[t+2]:null,C)}o=s}return f.ListAstNode.create23(b[0],b[1],o>=3?b[2]:null,C)}function D(b,C){return Math.abs(b.listHeight-C.listHeight)}function y(b,C){return b.listHeight===C.listHeight?f.ListAstNode.create23(b,C,null,!1):b.listHeight>C.listHeight?p(b,C):w(C,b)}function p(b,C){b=b.toMutable();let o=b;const s=[];let i;for(;;){if(C.listHeight===o.listHeight){i=C;break}if(o.kind!==4)throw new Error("unexpected");s.push(o),o=o.makeLastElementMutable()}for(let t=s.length-1;t>=0;t--){const n=s[t];i?n.childrenLength>=3?i=f.ListAstNode.create23(n.unappendChild(),i,null,!1):(n.appendChildOfSameHeight(i),i=void 0):n.handleChildrenChanged()}return i?f.ListAstNode.create23(b,i,null,!1):b}function w(b,C){b=b.toMutable();let o=b;const s=[];for(;C.listHeight!==o.listHeight;){if(o.kind!==4)throw new Error("unexpected");s.push(o),o=o.makeFirstElementMutable()}let i=C;for(let t=s.length-1;t>=0;t--){const n=s[t];i?n.childrenLength>=3?i=f.ListAstNode.create23(i,n.unprependChild(),null,!1):(n.prependChildOfSameHeight(i),i=void 0):n.handleChildrenChanged()}return i?f.ListAstNode.create23(i,b,null,!1):b}}),define(ie[311],ne([1,0,195,194,145,101,553,552]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.parseDocument=w;function w(C,o,s,i){return new b(C,o,s,i).parseDocument()}class b{constructor(o,s,i,t){if(this.tokenizer=o,this.createImmutableLists=t,this._itemsConstructed=0,this._itemsFromCache=0,i&&t)throw new Error("Not supported");this.oldNodeReader=i?new p.NodeReader(i):void 0,this.positionMapper=new k.BeforeEditPositionMapper(s)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let o=this.parseList(E.SmallImmutableSet.getEmpty(),0);return o||(o=f.ListAstNode.getEmpty()),o}parseList(o,s){const i=[];for(;;){let n=this.tryReadChildFromCache(o);if(!n){const c=this.tokenizer.peek();if(!c||c.kind===2&&c.bracketIds.intersects(o))break;n=this.parseChild(o,s+1)}n.kind===4&&n.childrenLength===0||i.push(n)}return this.oldNodeReader?(0,y.concat23Trees)(i):(0,y.concat23TreesOfSameHeight)(i,this.createImmutableLists)}tryReadChildFromCache(o){if(this.oldNodeReader){const s=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(s===null||!(0,D.lengthIsZero)(s)){const i=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),t=>s!==null&&!(0,D.lengthLessThan)(t.length,s)?!1:t.canBeReused(o));if(i)return this._itemsFromCache++,this.tokenizer.skip(i.length),i}}}parseChild(o,s){this._itemsConstructed++;const i=this.tokenizer.read();switch(i.kind){case 2:return new f.InvalidBracketAstNode(i.bracketIds,i.length);case 0:return i.astNode;case 1:{if(s>300)return new f.TextAstNode(i.length);const t=o.merge(i.bracketIds),n=this.parseList(t,s+1),c=this.tokenizer.peek();return c&&c.kind===2&&(c.bracketId===i.bracketId||c.bracketIds.intersects(i.bracketIds))?(this.tokenizer.read(),f.PairAstNode.create(i.astNode,n,c.astNode)):f.PairAstNode.create(i.astNode,n,null)}default:throw new Error("unexpected")}}}}),define(ie[230],ne([1,0,10,143,195,101,145]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FastTokenizer=e.TextBufferTokenizer=e.Token=void 0;class p{constructor(s,i,t,n,c){this.length=s,this.kind=i,this.bracketId=t,this.bracketIds=n,this.astNode=c}}e.Token=p;class w{constructor(s,i){this.textModel=s,this.bracketTokens=i,this.reader=new b(this.textModel,this.bracketTokens),this._offset=D.lengthZero,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,D.toLength)(this.textBufferLineCount-1,this.textBufferLastLineLength)}skip(s){this.didPeek=!1,this._offset=(0,D.lengthAdd)(this._offset,s);const i=(0,D.lengthToObj)(this._offset);this.reader.setPosition(i.lineCount,i.columnCount)}read(){let s;return this.peeked?(this.didPeek=!1,s=this.peeked):s=this.reader.read(),s&&(this._offset=(0,D.lengthAdd)(this._offset,s.length)),s}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}e.TextBufferTokenizer=w;class b{constructor(s,i){this.textModel=s,this.bracketTokens=i,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=s.getLineCount(),this.textBufferLastLineLength=s.getLineLength(this.textBufferLineCount)}setPosition(s,i){s===this.lineIdx?(this.lineCharOffset=i,this.line!==null&&(this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset))):(this.lineIdx=s,this.lineCharOffset=i,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const c=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(c.length),c}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const s=this.lineIdx,i=this.lineCharOffset;let t=0;for(;;){const c=this.lineTokens,m=c.getCount();let u=null;if(this.lineTokenOffset<m){const r=c.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<m&&r===c.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const a=k.TokenMetadata.getTokenType(r)===0,h=k.TokenMetadata.containsBalancedBrackets(r),l=c.getEndOffset(this.lineTokenOffset);if(h&&a&&this.lineCharOffset<l){const g=c.getLanguageId(this.lineTokenOffset),d=this.line.substring(this.lineCharOffset,l),v=this.bracketTokens.getSingleLanguageBracketTokens(g),_=v.regExpGlobal;if(_){_.lastIndex=0;const S=_.exec(d);S&&(u=v.getToken(S[0]),u&&(this.lineCharOffset+=S.index))}}if(t+=l-this.lineCharOffset,u)if(s!==this.lineIdx||i!==this.lineCharOffset){this.peekedToken=u;break}else return this.lineCharOffset+=(0,D.lengthGetColumnCountIfZeroLineCount)(u.length),u;else this.lineTokenOffset++,this.lineCharOffset=l}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,t+=33,t>1e3))break;if(t>1500)break}const n=(0,D.lengthDiff)(s,i,this.lineIdx,this.lineCharOffset);return new p(n,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(n))}}class C{constructor(s,i){this.text=s,this._offset=D.lengthZero,this.idx=0;const t=i.getRegExpStr(),n=t?new RegExp(t+`|
`,"gi"):null,c=[];let m,u=0,r=0,a=0,h=0;const l=[];for(let v=0;v<60;v++)l.push(new p((0,D.toLength)(0,v),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,D.toLength)(0,v))));const g=[];for(let v=0;v<60;v++)g.push(new p((0,D.toLength)(1,v),0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode((0,D.toLength)(1,v))));if(n)for(n.lastIndex=0;(m=n.exec(s))!==null;){const v=m.index,_=m[0];if(_===`
`)u++,r=v+1;else{if(a!==v){let S;if(h===u){const L=v-a;if(L<l.length)S=l[L];else{const I=(0,D.toLength)(0,L);S=new p(I,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(I))}}else{const L=u-h,I=v-r;if(L===1&&I<g.length)S=g[I];else{const T=(0,D.toLength)(L,I);S=new p(T,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(T))}}c.push(S)}c.push(i.getToken(_)),a=v+_.length,h=u}}const d=s.length;if(a!==d){const v=h===u?(0,D.toLength)(0,d-a):(0,D.toLength)(u-h,d-r);c.push(new p(v,0,-1,y.SmallImmutableSet.getEmpty(),new E.TextAstNode(v)))}this.length=(0,D.toLength)(u,d-r),this.tokens=c}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(s){throw new f.NotSupportedError}}e.FastTokenizer=C}),define(ie[312],ne([1,0,12,195,101,145,230]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageAgnosticBracketTokens=e.BracketTokens=void 0;class p{static createFromLanguage(o,s){function i(n){return s.getKey(`${n.languageId}:::${n.bracketText}`)}const t=new Map;for(const n of o.bracketsNew.openingBrackets){const c=(0,E.toLength)(0,n.bracketText.length),m=i(n),u=D.SmallImmutableSet.getEmpty().add(m,D.identityKeyProvider);t.set(n.bracketText,new y.Token(c,1,m,u,k.BracketAstNode.create(c,n,u)))}for(const n of o.bracketsNew.closingBrackets){const c=(0,E.toLength)(0,n.bracketText.length);let m=D.SmallImmutableSet.getEmpty();const u=n.getOpeningBrackets();for(const r of u)m=m.add(i(r),D.identityKeyProvider);t.set(n.bracketText,new y.Token(c,2,i(u[0]),m,k.BracketAstNode.create(c,n,m)))}return new p(t)}constructor(o){this.map=o,this.hasRegExp=!1,this._regExpGlobal=null}getRegExpStr(){if(this.isEmpty)return null;{const o=[...this.map.keys()];return o.sort(),o.reverse(),o.map(s=>w(s)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const o=this.getRegExpStr();this._regExpGlobal=o?new RegExp(o,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(o){return this.map.get(o.toLowerCase())}findClosingTokenText(o){for(const[s,i]of this.map)if(i.kind===2&&i.bracketIds.intersects(o))return s}get isEmpty(){return this.map.size===0}}e.BracketTokens=p;function w(C){let o=(0,f.escapeRegExpCharacters)(C);return/^[\w ]+/.test(C)&&(o=`\\b${o}`),/[\w ]+$/.test(C)&&(o=`${o}\\b`),o}class b{constructor(o,s){this.denseKeyProvider=o,this.getLanguageConfiguration=s,this.languageIdToBracketTokens=new Map}didLanguageChange(o){return this.languageIdToBracketTokens.has(o)}getSingleLanguageBracketTokens(o){let s=this.languageIdToBracketTokens.get(o);return s||(s=p.createFromLanguage(this.getLanguageConfiguration(o),this.denseKeyProvider),this.languageIdToBracketTokens.set(o,s)),s}}e.LanguageAgnosticBracketTokens=b}),define(ie[554],ne([1,0,312,101,311,145,230]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.fixBracketsInLine=p;function p(b,C){const o=new D.DenseKeyProvider,s=new f.LanguageAgnosticBracketTokens(o,u=>C.getLanguageConfiguration(u)),i=new y.TextBufferTokenizer(new w([b]),s),t=(0,E.parseDocument)(i,[],void 0,!0);let n="";const c=b.getLineContent();function m(u,r){if(u.kind===2)if(m(u.openingBracket,r),r=(0,k.lengthAdd)(r,u.openingBracket.length),u.child&&(m(u.child,r),r=(0,k.lengthAdd)(r,u.child.length)),u.closingBracket)m(u.closingBracket,r),r=(0,k.lengthAdd)(r,u.closingBracket.length);else{const h=s.getSingleLanguageBracketTokens(u.openingBracket.languageId).findClosingTokenText(u.openingBracket.bracketIds);n+=h}else if(u.kind!==3){if(u.kind===0||u.kind===1)n+=c.substring((0,k.lengthGetColumnCountIfZeroLineCount)(r),(0,k.lengthGetColumnCountIfZeroLineCount)((0,k.lengthAdd)(r,u.length)));else if(u.kind===4)for(const a of u.children)m(a,r),r=(0,k.lengthAdd)(r,a.length)}}return m(t,k.lengthZero),n}class w{constructor(C){this.lines=C,this.tokenization={getLineTokens:o=>this.lines[o-1]}}getLineCount(){return this.lines.length}getLineLength(C){return this.lines[C-1].getLineContent().length}}}),define(ie[555],ne([1,0,13]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FixedArray=void 0;class k{constructor(y){this._default=y,this._store=[]}get(y){return y<this._store.length?this._store[y]:this._default}set(y,p){for(;y>=this._store.length;)this._store[this._store.length]=this._default;this._store[y]=p}replace(y,p,w){if(y>=this._store.length)return;if(p===0){this.insert(y,w);return}else if(w===0){this.delete(y,p);return}const b=this._store.slice(0,y),C=this._store.slice(y+p),o=E(w,this._default);this._store=b.concat(o,C)}delete(y,p){p===0||y>=this._store.length||this._store.splice(y,p)}insert(y,p){if(p===0||y>=this._store.length)return;const w=[];for(let b=0;b<p;b++)w[b]=this._default;this._store=(0,f.arrayInsert)(this._store,y,w)}}e.FixedArray=k;function E(D,y){const p=[];for(let w=0;w<D;w++)p[w]=y;return p}}),define(ie[556],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.guessIndentation=E;class f{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function k(D,y,p,w,b){b.spacesDiff=0,b.looksLikeAlignment=!1;let C;for(C=0;C<y&&C<w;C++){const m=D.charCodeAt(C),u=p.charCodeAt(C);if(m!==u)break}let o=0,s=0;for(let m=C;m<y;m++)D.charCodeAt(m)===32?o++:s++;let i=0,t=0;for(let m=C;m<w;m++)p.charCodeAt(m)===32?i++:t++;if(o>0&&s>0||i>0&&t>0)return;const n=Math.abs(s-t),c=Math.abs(o-i);if(n===0){b.spacesDiff=c,c>0&&0<=i-1&&i-1<D.length&&i<p.length&&p.charCodeAt(i)!==32&&D.charCodeAt(i-1)===32&&D.charCodeAt(D.length-1)===44&&(b.looksLikeAlignment=!0);return}if(c%n===0){b.spacesDiff=c/n;return}}function E(D,y,p){const w=Math.min(D.getLineCount(),1e4);let b=0,C=0,o="",s=0;const i=[2,4,6,8,3,5,7],t=8,n=[0,0,0,0,0,0,0,0,0],c=new f;for(let r=1;r<=w;r++){const a=D.getLineLength(r),h=D.getLineContent(r),l=a<=65536;let g=!1,d=0,v=0,_=0;for(let L=0,I=a;L<I;L++){const T=l?h.charCodeAt(L):D.getLineCharCode(r,L);if(T===9)_++;else if(T===32)v++;else{g=!0,d=L;break}}if(!g||(_>0?b++:v>1&&C++,k(o,s,h,d,c),c.looksLikeAlignment&&!(p&&y===c.spacesDiff)))continue;const S=c.spacesDiff;S<=t&&n[S]++,o=h,s=d}let m=p;b!==C&&(m=b<C);let u=y;if(m){let r=m?0:.1*w;i.forEach(a=>{const h=n[a];h>r&&(r=h,u=a)}),u===4&&n[4]>0&&n[2]>0&&n[2]>=n[4]/2&&(u=2)}return{insertSpaces:m,tabSize:u}}}),define(ie[557],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IntervalTree=e.SENTINEL=e.IntervalNode=void 0,e.getNodeColor=f,e.nodeAcceptEdit=u,e.recomputeMaxEnd=O,e.intervalCompare=R;function f(x){return(x.metadata&1)>>>0}function k(x,F){x.metadata=x.metadata&254|F<<0}function E(x){return(x.metadata&2)>>>1===1}function D(x,F){x.metadata=x.metadata&253|(F?1:0)<<1}function y(x){return(x.metadata&4)>>>2===1}function p(x,F){x.metadata=x.metadata&251|(F?1:0)<<2}function w(x){return(x.metadata&64)>>>6===1}function b(x,F){x.metadata=x.metadata&191|(F?1:0)<<6}function C(x){return(x.metadata&24)>>>3}function o(x,F){x.metadata=x.metadata&231|F<<3}function s(x){return(x.metadata&32)>>>5===1}function i(x,F){x.metadata=x.metadata&223|(F?1:0)<<5}class t{constructor(F,W,H){this.metadata=0,this.parent=this,this.left=this,this.right=this,k(this,1),this.start=W,this.end=H,this.delta=0,this.maxEnd=H,this.id=F,this.ownerId=0,this.options=null,p(this,!1),b(this,!1),o(this,1),i(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=H,this.range=null,D(this,!1)}reset(F,W,H,z){this.start=W,this.end=H,this.maxEnd=H,this.cachedVersionId=F,this.cachedAbsoluteStart=W,this.cachedAbsoluteEnd=H,this.range=z}setOptions(F){this.options=F;const W=this.options.className;p(this,W==="squiggly-error"||W==="squiggly-warning"||W==="squiggly-info"),b(this,this.options.glyphMarginClassName!==null),o(this,this.options.stickiness),i(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(F,W,H){this.cachedVersionId!==H&&(this.range=null),this.cachedVersionId=H,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=W}detach(){this.parent=null,this.left=null,this.right=null}}e.IntervalNode=t,e.SENTINEL=new t(null,0,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,k(e.SENTINEL,0);class n{constructor(){this.root=e.SENTINEL,this.requestNormalizeDelta=!1}intervalSearch(F,W,H,z,j,K){return this.root===e.SENTINEL?[]:d(this,F,W,H,z,j,K)}search(F,W,H,z){return this.root===e.SENTINEL?[]:g(this,F,W,H,z)}collectNodesFromOwner(F){return h(this,F)}collectNodesPostOrder(){return l(this)}insert(F){v(this,F),this._normalizeDeltaIfNecessary()}delete(F){S(this,F),this._normalizeDeltaIfNecessary()}resolveNode(F,W){const H=F;let z=0;for(;F!==this.root;)F===F.parent.right&&(z+=F.parent.delta),F=F.parent;const j=H.start+z,K=H.end+z;H.setCachedOffsets(j,K,W)}acceptReplace(F,W,H,z){const j=r(this,F,F+W);for(let K=0,U=j.length;K<U;K++){const G=j[K];S(this,G)}this._normalizeDeltaIfNecessary(),a(this,F,F+W,H),this._normalizeDeltaIfNecessary();for(let K=0,U=j.length;K<U;K++){const G=j[K];G.start=G.cachedAbsoluteStart,G.end=G.cachedAbsoluteEnd,u(G,F,F+W,H,z),G.maxEnd=G.end,v(this,G)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){this.requestNormalizeDelta&&(this.requestNormalizeDelta=!1,c(this))}}e.IntervalTree=n;function c(x){let F=x.root,W=0;for(;F!==e.SENTINEL;){if(F.left!==e.SENTINEL&&!E(F.left)){F=F.left;continue}if(F.right!==e.SENTINEL&&!E(F.right)){W+=F.delta,F=F.right;continue}F.start=W+F.start,F.end=W+F.end,F.delta=0,O(F),D(F,!0),D(F.left,!1),D(F.right,!1),F===F.parent.right&&(W-=F.parent.delta),F=F.parent}D(x.root,!1)}function m(x,F,W,H){return x<W?!0:x>W||H===1?!1:H===2?!0:F}function u(x,F,W,H,z){const j=C(x),K=j===0||j===2,U=j===1||j===2,G=W-F,te=H,ee=Math.min(G,te),Y=x.start;let P=!1;const Z=x.end;let re=!1;F<=Y&&Z<=W&&s(x)&&(x.start=F,P=!0,x.end=F,re=!0);{const he=z?1:G>0?2:0;!P&&m(Y,K,F,he)&&(P=!0),!re&&m(Z,U,F,he)&&(re=!0)}if(ee>0&&!z){const he=G>te?2:0;!P&&m(Y,K,F+ee,he)&&(P=!0),!re&&m(Z,U,F+ee,he)&&(re=!0)}{const he=z?1:0;!P&&m(Y,K,W,he)&&(x.start=F+te,P=!0),!re&&m(Z,U,W,he)&&(x.end=F+te,re=!0)}const ce=te-G;P||(x.start=Math.max(0,Y+ce)),re||(x.end=Math.max(0,Z+ce)),x.start>x.end&&(x.end=x.start)}function r(x,F,W){let H=x.root,z=0,j=0,K=0,U=0;const G=[];let te=0;for(;H!==e.SENTINEL;){if(E(H)){D(H.left,!1),D(H.right,!1),H===H.parent.right&&(z-=H.parent.delta),H=H.parent;continue}if(!E(H.left)){if(j=z+H.maxEnd,j<F){D(H,!0);continue}if(H.left!==e.SENTINEL){H=H.left;continue}}if(K=z+H.start,K>W){D(H,!0);continue}if(U=z+H.end,U>=F&&(H.setCachedOffsets(K,U,0),G[te++]=H),D(H,!0),H.right!==e.SENTINEL&&!E(H.right)){z+=H.delta,H=H.right;continue}}return D(x.root,!1),G}function a(x,F,W,H){let z=x.root,j=0,K=0,U=0;const G=H-(W-F);for(;z!==e.SENTINEL;){if(E(z)){D(z.left,!1),D(z.right,!1),z===z.parent.right&&(j-=z.parent.delta),O(z),z=z.parent;continue}if(!E(z.left)){if(K=j+z.maxEnd,K<F){D(z,!0);continue}if(z.left!==e.SENTINEL){z=z.left;continue}}if(U=j+z.start,U>W){z.start+=G,z.end+=G,z.delta+=G,(z.delta<-1073741824||z.delta>1073741824)&&(x.requestNormalizeDelta=!0),D(z,!0);continue}if(D(z,!0),z.right!==e.SENTINEL&&!E(z.right)){j+=z.delta,z=z.right;continue}}D(x.root,!1)}function h(x,F){let W=x.root;const H=[];let z=0;for(;W!==e.SENTINEL;){if(E(W)){D(W.left,!1),D(W.right,!1),W=W.parent;continue}if(W.left!==e.SENTINEL&&!E(W.left)){W=W.left;continue}if(W.ownerId===F&&(H[z++]=W),D(W,!0),W.right!==e.SENTINEL&&!E(W.right)){W=W.right;continue}}return D(x.root,!1),H}function l(x){let F=x.root;const W=[];let H=0;for(;F!==e.SENTINEL;){if(E(F)){D(F.left,!1),D(F.right,!1),F=F.parent;continue}if(F.left!==e.SENTINEL&&!E(F.left)){F=F.left;continue}if(F.right!==e.SENTINEL&&!E(F.right)){F=F.right;continue}W[H++]=F,D(F,!0)}return D(x.root,!1),W}function g(x,F,W,H,z){let j=x.root,K=0,U=0,G=0;const te=[];let ee=0;for(;j!==e.SENTINEL;){if(E(j)){D(j.left,!1),D(j.right,!1),j===j.parent.right&&(K-=j.parent.delta),j=j.parent;continue}if(j.left!==e.SENTINEL&&!E(j.left)){j=j.left;continue}U=K+j.start,G=K+j.end,j.setCachedOffsets(U,G,H);let Y=!0;if(F&&j.ownerId&&j.ownerId!==F&&(Y=!1),W&&y(j)&&(Y=!1),z&&!w(j)&&(Y=!1),Y&&(te[ee++]=j),D(j,!0),j.right!==e.SENTINEL&&!E(j.right)){K+=j.delta,j=j.right;continue}}return D(x.root,!1),te}function d(x,F,W,H,z,j,K){let U=x.root,G=0,te=0,ee=0,Y=0;const P=[];let Z=0;for(;U!==e.SENTINEL;){if(E(U)){D(U.left,!1),D(U.right,!1),U===U.parent.right&&(G-=U.parent.delta),U=U.parent;continue}if(!E(U.left)){if(te=G+U.maxEnd,te<F){D(U,!0);continue}if(U.left!==e.SENTINEL){U=U.left;continue}}if(ee=G+U.start,ee>W){D(U,!0);continue}if(Y=G+U.end,Y>=F){U.setCachedOffsets(ee,Y,j);let re=!0;H&&U.ownerId&&U.ownerId!==H&&(re=!1),z&&y(U)&&(re=!1),K&&!w(U)&&(re=!1),re&&(P[Z++]=U)}if(D(U,!0),U.right!==e.SENTINEL&&!E(U.right)){G+=U.delta,U=U.right;continue}}return D(x.root,!1),P}function v(x,F){if(x.root===e.SENTINEL)return F.parent=e.SENTINEL,F.left=e.SENTINEL,F.right=e.SENTINEL,k(F,0),x.root=F,x.root;_(x,F),M(F.parent);let W=F;for(;W!==x.root&&f(W.parent)===1;)if(W.parent===W.parent.parent.left){const H=W.parent.parent.right;f(H)===1?(k(W.parent,0),k(H,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.right&&(W=W.parent,T(x,W)),k(W.parent,0),k(W.parent.parent,1),N(x,W.parent.parent))}else{const H=W.parent.parent.left;f(H)===1?(k(W.parent,0),k(H,0),k(W.parent.parent,1),W=W.parent.parent):(W===W.parent.left&&(W=W.parent,N(x,W)),k(W.parent,0),k(W.parent.parent,1),T(x,W.parent.parent))}return k(x.root,0),F}function _(x,F){let W=0,H=x.root;const z=F.start,j=F.end;for(;;)if(R(z,j,H.start+W,H.end+W)<0)if(H.left===e.SENTINEL){F.start-=W,F.end-=W,F.maxEnd-=W,H.left=F;break}else H=H.left;else if(H.right===e.SENTINEL){F.start-=W+H.delta,F.end-=W+H.delta,F.maxEnd-=W+H.delta,H.right=F;break}else W+=H.delta,H=H.right;F.parent=H,F.left=e.SENTINEL,F.right=e.SENTINEL,k(F,1)}function S(x,F){let W,H;if(F.left===e.SENTINEL?(W=F.right,H=F,W.delta+=F.delta,(W.delta<-1073741824||W.delta>1073741824)&&(x.requestNormalizeDelta=!0),W.start+=F.delta,W.end+=F.delta):F.right===e.SENTINEL?(W=F.left,H=F):(H=L(F.right),W=H.right,W.start+=H.delta,W.end+=H.delta,W.delta+=H.delta,(W.delta<-1073741824||W.delta>1073741824)&&(x.requestNormalizeDelta=!0),H.start+=F.delta,H.end+=F.delta,H.delta=F.delta,(H.delta<-1073741824||H.delta>1073741824)&&(x.requestNormalizeDelta=!0)),H===x.root){x.root=W,k(W,0),F.detach(),I(),O(W),x.root.parent=e.SENTINEL;return}const z=f(H)===1;if(H===H.parent.left?H.parent.left=W:H.parent.right=W,H===F?W.parent=H.parent:(H.parent===F?W.parent=H:W.parent=H.parent,H.left=F.left,H.right=F.right,H.parent=F.parent,k(H,f(F)),F===x.root?x.root=H:F===F.parent.left?F.parent.left=H:F.parent.right=H,H.left!==e.SENTINEL&&(H.left.parent=H),H.right!==e.SENTINEL&&(H.right.parent=H)),F.detach(),z){M(W.parent),H!==F&&(M(H),M(H.parent)),I();return}M(W),M(W.parent),H!==F&&(M(H),M(H.parent));let j;for(;W!==x.root&&f(W)===0;)W===W.parent.left?(j=W.parent.right,f(j)===1&&(k(j,0),k(W.parent,1),T(x,W.parent),j=W.parent.right),f(j.left)===0&&f(j.right)===0?(k(j,1),W=W.parent):(f(j.right)===0&&(k(j.left,0),k(j,1),N(x,j),j=W.parent.right),k(j,f(W.parent)),k(W.parent,0),k(j.right,0),T(x,W.parent),W=x.root)):(j=W.parent.left,f(j)===1&&(k(j,0),k(W.parent,1),N(x,W.parent),j=W.parent.left),f(j.left)===0&&f(j.right)===0?(k(j,1),W=W.parent):(f(j.left)===0&&(k(j.right,0),k(j,1),T(x,j),j=W.parent.left),k(j,f(W.parent)),k(W.parent,0),k(j.left,0),N(x,W.parent),W=x.root));k(W,0),I()}function L(x){for(;x.left!==e.SENTINEL;)x=x.left;return x}function I(){e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.delta=0,e.SENTINEL.start=0,e.SENTINEL.end=0}function T(x,F){const W=F.right;W.delta+=F.delta,(W.delta<-1073741824||W.delta>1073741824)&&(x.requestNormalizeDelta=!0),W.start+=F.delta,W.end+=F.delta,F.right=W.left,W.left!==e.SENTINEL&&(W.left.parent=F),W.parent=F.parent,F.parent===e.SENTINEL?x.root=W:F===F.parent.left?F.parent.left=W:F.parent.right=W,W.left=F,F.parent=W,O(F),O(W)}function N(x,F){const W=F.left;F.delta-=W.delta,(F.delta<-1073741824||F.delta>1073741824)&&(x.requestNormalizeDelta=!0),F.start-=W.delta,F.end-=W.delta,F.left=W.right,W.right!==e.SENTINEL&&(W.right.parent=F),W.parent=F.parent,F.parent===e.SENTINEL?x.root=W:F===F.parent.right?F.parent.right=W:F.parent.left=W,W.right=F,F.parent=W,O(F),O(W)}function A(x){let F=x.end;if(x.left!==e.SENTINEL){const W=x.left.maxEnd;W>F&&(F=W)}if(x.right!==e.SENTINEL){const W=x.right.maxEnd+x.delta;W>F&&(F=W)}return F}function O(x){x.maxEnd=A(x)}function M(x){for(;x!==e.SENTINEL;){const F=A(x);if(x.maxEnd===F)return;x.maxEnd=F,x=x.parent}}function R(x,F,W,H){return x===W?F-H:x-W}}),define(ie[558],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SENTINEL=e.TreeNode=void 0,e.leftest=k,e.righttest=E,e.leftRotate=w,e.rightRotate=b,e.rbDelete=C,e.fixInsert=o,e.updateTreeMetadata=s,e.recomputeTreeMetadata=i;class f{constructor(n,c){this.piece=n,this.color=c,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==e.SENTINEL)return k(this.right);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.left!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}prev(){if(this.left!==e.SENTINEL)return E(this.left);let n=this;for(;n.parent!==e.SENTINEL&&n.parent.right!==n;)n=n.parent;return n.parent===e.SENTINEL?e.SENTINEL:n.parent}detach(){this.parent=null,this.left=null,this.right=null}}e.TreeNode=f,e.SENTINEL=new f(null,0),e.SENTINEL.parent=e.SENTINEL,e.SENTINEL.left=e.SENTINEL,e.SENTINEL.right=e.SENTINEL,e.SENTINEL.color=0;function k(t){for(;t.left!==e.SENTINEL;)t=t.left;return t}function E(t){for(;t.right!==e.SENTINEL;)t=t.right;return t}function D(t){return t===e.SENTINEL?0:t.size_left+t.piece.length+D(t.right)}function y(t){return t===e.SENTINEL?0:t.lf_left+t.piece.lineFeedCnt+y(t.right)}function p(){e.SENTINEL.parent=e.SENTINEL}function w(t,n){const c=n.right;c.size_left+=n.size_left+(n.piece?n.piece.length:0),c.lf_left+=n.lf_left+(n.piece?n.piece.lineFeedCnt:0),n.right=c.left,c.left!==e.SENTINEL&&(c.left.parent=n),c.parent=n.parent,n.parent===e.SENTINEL?t.root=c:n.parent.left===n?n.parent.left=c:n.parent.right=c,c.left=n,n.parent=c}function b(t,n){const c=n.left;n.left=c.right,c.right!==e.SENTINEL&&(c.right.parent=n),c.parent=n.parent,n.size_left-=c.size_left+(c.piece?c.piece.length:0),n.lf_left-=c.lf_left+(c.piece?c.piece.lineFeedCnt:0),n.parent===e.SENTINEL?t.root=c:n===n.parent.right?n.parent.right=c:n.parent.left=c,c.right=n,n.parent=c}function C(t,n){let c,m;if(n.left===e.SENTINEL?(m=n,c=m.right):n.right===e.SENTINEL?(m=n,c=m.left):(m=k(n.right),c=m.right),m===t.root){t.root=c,c.color=0,n.detach(),p(),t.root.parent=e.SENTINEL;return}const u=m.color===1;if(m===m.parent.left?m.parent.left=c:m.parent.right=c,m===n?(c.parent=m.parent,i(t,c)):(m.parent===n?c.parent=m:c.parent=m.parent,i(t,c),m.left=n.left,m.right=n.right,m.parent=n.parent,m.color=n.color,n===t.root?t.root=m:n===n.parent.left?n.parent.left=m:n.parent.right=m,m.left!==e.SENTINEL&&(m.left.parent=m),m.right!==e.SENTINEL&&(m.right.parent=m),m.size_left=n.size_left,m.lf_left=n.lf_left,i(t,m)),n.detach(),c.parent.left===c){const a=D(c),h=y(c);if(a!==c.parent.size_left||h!==c.parent.lf_left){const l=a-c.parent.size_left,g=h-c.parent.lf_left;c.parent.size_left=a,c.parent.lf_left=h,s(t,c.parent,l,g)}}if(i(t,c.parent),u){p();return}let r;for(;c!==t.root&&c.color===0;)c===c.parent.left?(r=c.parent.right,r.color===1&&(r.color=0,c.parent.color=1,w(t,c.parent),r=c.parent.right),r.left.color===0&&r.right.color===0?(r.color=1,c=c.parent):(r.right.color===0&&(r.left.color=0,r.color=1,b(t,r),r=c.parent.right),r.color=c.parent.color,c.parent.color=0,r.right.color=0,w(t,c.parent),c=t.root)):(r=c.parent.left,r.color===1&&(r.color=0,c.parent.color=1,b(t,c.parent),r=c.parent.left),r.left.color===0&&r.right.color===0?(r.color=1,c=c.parent):(r.left.color===0&&(r.right.color=0,r.color=1,w(t,r),r=c.parent.left),r.color=c.parent.color,c.parent.color=0,r.left.color=0,b(t,c.parent),c=t.root));c.color=0,p()}function o(t,n){for(i(t,n);n!==t.root&&n.parent.color===1;)if(n.parent===n.parent.parent.left){const c=n.parent.parent.right;c.color===1?(n.parent.color=0,c.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.right&&(n=n.parent,w(t,n)),n.parent.color=0,n.parent.parent.color=1,b(t,n.parent.parent))}else{const c=n.parent.parent.left;c.color===1?(n.parent.color=0,c.color=0,n.parent.parent.color=1,n=n.parent.parent):(n===n.parent.left&&(n=n.parent,b(t,n)),n.parent.color=0,n.parent.parent.color=1,w(t,n.parent.parent))}t.root.color=0}function s(t,n,c,m){for(;n!==t.root&&n!==e.SENTINEL;)n.parent.left===n&&(n.parent.size_left+=c,n.parent.lf_left+=m),n=n.parent}function i(t,n){let c=0,m=0;if(n!==t.root){for(;n!==t.root&&n===n.parent.right;)n=n.parent;if(n!==t.root)for(n=n.parent,c=D(n.left)-n.size_left,m=y(n.left)-n.lf_left,n.size_left+=c,n.lf_left+=m;n!==t.root&&(c!==0||m!==0);)n.parent.left===n&&(n.parent.size_left+=c,n.parent.lf_left+=m),n=n.parent}}}),define(ie[313],ne([1,0,13,187]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PrefixSumIndexOfResult=e.ConstantTimePrefixSumComputer=e.PrefixSumComputer=void 0;class E{constructor(w){this.values=w,this.prefixSum=new Uint32Array(w.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(w,b){w=(0,k.toUint32)(w);const C=this.values,o=this.prefixSum,s=b.length;return s===0?!1:(this.values=new Uint32Array(C.length+s),this.values.set(C.subarray(0,w),0),this.values.set(C.subarray(w),w+s),this.values.set(b,w),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(w,b){return w=(0,k.toUint32)(w),b=(0,k.toUint32)(b),this.values[w]===b?!1:(this.values[w]=b,w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),!0)}removeValues(w,b){w=(0,k.toUint32)(w),b=(0,k.toUint32)(b);const C=this.values,o=this.prefixSum;if(w>=C.length)return!1;const s=C.length-w;return b>=s&&(b=s),b===0?!1:(this.values=new Uint32Array(C.length-b),this.values.set(C.subarray(0,w),0),this.values.set(C.subarray(w+b),w),this.prefixSum=new Uint32Array(this.values.length),w-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=w-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(o.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(w){return w<0?0:(w=(0,k.toUint32)(w),this._getPrefixSum(w))}_getPrefixSum(w){if(w<=this.prefixSumValidIndex[0])return this.prefixSum[w];let b=this.prefixSumValidIndex[0]+1;b===0&&(this.prefixSum[0]=this.values[0],b++),w>=this.values.length&&(w=this.values.length-1);for(let C=b;C<=w;C++)this.prefixSum[C]=this.prefixSum[C-1]+this.values[C];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],w),this.prefixSum[w]}getIndexOf(w){w=Math.floor(w),this.getTotalSum();let b=0,C=this.values.length-1,o=0,s=0,i=0;for(;b<=C;)if(o=b+(C-b)/2|0,s=this.prefixSum[o],i=s-this.values[o],w<i)C=o-1;else if(w>=s)b=o+1;else break;return new y(o,w-i)}}e.PrefixSumComputer=E;class D{constructor(w){this._values=w,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(w){return this._ensureValid(),w===0?0:this._prefixSum[w-1]}getIndexOf(w){this._ensureValid();const b=this._indexBySum[w],C=b>0?this._prefixSum[b-1]:0;return new y(b,w-C)}removeValues(w,b){this._values.splice(w,b),this._invalidate(w)}insertValues(w,b){this._values=(0,f.arrayInsert)(this._values,w,b),this._invalidate(w)}_invalidate(w){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,w-1)}_ensureValid(){if(!this._isValid){for(let w=this._validEndIndex+1,b=this._values.length;w<b;w++){const C=this._values[w],o=w>0?this._prefixSum[w-1]:0;this._prefixSum[w]=o+C;for(let s=0;s<C;s++)this._indexBySum[o+s]=w}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(w,b){this._values[w]!==b&&(this._values[w]=b,this._invalidate(w))}}e.ConstantTimePrefixSumComputer=D;class y{constructor(w,b){this.index=w,this.remainder=b,this._prefixSumIndexOfResultBrand=void 0,this.index=w,this.remainder=b}}e.PrefixSumIndexOfResult=y}),define(ie[559],ne([1,0,12,9,313]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorTextModel=void 0;class D{constructor(p,w,b,C){this._uri=p,this._lines=w,this._eol=b,this._versionId=C,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(p){p.eol&&p.eol!==this._eol&&(this._eol=p.eol,this._lineStarts=null);const w=p.changes;for(const b of w)this._acceptDeleteRange(b.range),this._acceptInsertText(new k.Position(b.range.startLineNumber,b.range.startColumn),b.text);this._versionId=p.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const p=this._eol.length,w=this._lines.length,b=new Uint32Array(w);for(let C=0;C<w;C++)b[C]=this._lines[C].length+p;this._lineStarts=new E.PrefixSumComputer(b)}}_setLineText(p,w){this._lines[p]=w,this._lineStarts&&this._lineStarts.setValue(p,this._lines[p].length+this._eol.length)}_acceptDeleteRange(p){if(p.startLineNumber===p.endLineNumber){if(p.startColumn===p.endColumn)return;this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.startLineNumber-1].substring(p.endColumn-1));return}this._setLineText(p.startLineNumber-1,this._lines[p.startLineNumber-1].substring(0,p.startColumn-1)+this._lines[p.endLineNumber-1].substring(p.endColumn-1)),this._lines.splice(p.startLineNumber,p.endLineNumber-p.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(p.startLineNumber,p.endLineNumber-p.startLineNumber)}_acceptInsertText(p,w){if(w.length===0)return;const b=(0,f.splitLines)(w);if(b.length===1){this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+b[0]+this._lines[p.lineNumber-1].substring(p.column-1));return}b[b.length-1]+=this._lines[p.lineNumber-1].substring(p.column-1),this._setLineText(p.lineNumber-1,this._lines[p.lineNumber-1].substring(0,p.column-1)+b[0]);const C=new Uint32Array(b.length-1);for(let o=1;o<b.length;o++)this._lines.splice(p.lineNumber+o-1,0,b[o]),C[o-1]=b[o].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(p.lineNumber,C)}}e.MirrorTextModel=D}),define(ie[314],ne([1,0,2]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelPart=void 0;class k extends f.Disposable{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}e.TextModelPart=k}),define(ie[196],ne([1,0,12,161,9,5,42]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Searcher=e.TextModelSearch=e.SearchParams=void 0,e.isMultilineRegexSource=b,e.createFindMatch=C,e.isValidMatch=n;const p=999;class w{constructor(u,r,a,h){this.searchString=u,this.isRegex=r,this.matchCase=a,this.wordSeparators=h}parseSearchRequest(){if(this.searchString==="")return null;let u;this.isRegex?u=b(this.searchString):u=this.searchString.indexOf(`
`)>=0;let r=null;try{r=f.createRegExp(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:u,global:!0,unicode:!0})}catch{return null}if(!r)return null;let a=!this.isRegex&&!u;return a&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(a=this.matchCase),new y.SearchData(r,this.wordSeparators?(0,k.getMapForWordSeparators)(this.wordSeparators,[]):null,a?this.searchString:null)}}e.SearchParams=w;function b(m){if(!m||m.length===0)return!1;for(let u=0,r=m.length;u<r;u++){const a=m.charCodeAt(u);if(a===10)return!0;if(a===92){if(u++,u>=r)break;const h=m.charCodeAt(u);if(h===110||h===114||h===87)return!0}}return!1}function C(m,u,r){if(!r)return new y.FindMatch(m,null);const a=[];for(let h=0,l=u.length;h<l;h++)a[h]=u[h];return new y.FindMatch(m,a)}class o{constructor(u){const r=[];let a=0;for(let h=0,l=u.length;h<l;h++)u.charCodeAt(h)===10&&(r[a++]=h);this._lineFeedsOffsets=r}findLineFeedCountBeforeOffset(u){const r=this._lineFeedsOffsets;let a=0,h=r.length-1;if(h===-1||u<=r[0])return 0;for(;a<h;){const l=a+((h-a)/2>>0);r[l]>=u?h=l-1:r[l+1]>=u?(a=l,h=l):a=l+1}return a+1}}class s{static findMatches(u,r,a,h,l){const g=r.parseSearchRequest();return g?g.regex.multiline?this._doFindMatchesMultiline(u,a,new c(g.wordSeparators,g.regex),h,l):this._doFindMatchesLineByLine(u,a,g,h,l):[]}static _getMultilineMatchRange(u,r,a,h,l,g){let d,v=0;h?(v=h.findLineFeedCountBeforeOffset(l),d=r+l+v):d=r+l;let _;if(h){const T=h.findLineFeedCountBeforeOffset(l+g.length)-v;_=d+g.length+T}else _=d+g.length;const S=u.getPositionAt(d),L=u.getPositionAt(_);return new D.Range(S.lineNumber,S.column,L.lineNumber,L.column)}static _doFindMatchesMultiline(u,r,a,h,l){const g=u.getOffsetAt(r.getStartPosition()),d=u.getValueInRange(r,1),v=u.getEOL()===`\r
`?new o(d):null,_=[];let S=0,L;for(a.reset(0);L=a.next(d);)if(_[S++]=C(this._getMultilineMatchRange(u,g,d,v,L.index,L[0]),L,h),S>=l)return _;return _}static _doFindMatchesLineByLine(u,r,a,h,l){const g=[];let d=0;if(r.startLineNumber===r.endLineNumber){const _=u.getLineContent(r.startLineNumber).substring(r.startColumn-1,r.endColumn-1);return d=this._findMatchesInLine(a,_,r.startLineNumber,r.startColumn-1,d,g,h,l),g}const v=u.getLineContent(r.startLineNumber).substring(r.startColumn-1);d=this._findMatchesInLine(a,v,r.startLineNumber,r.startColumn-1,d,g,h,l);for(let _=r.startLineNumber+1;_<r.endLineNumber&&d<l;_++)d=this._findMatchesInLine(a,u.getLineContent(_),_,0,d,g,h,l);if(d<l){const _=u.getLineContent(r.endLineNumber).substring(0,r.endColumn-1);d=this._findMatchesInLine(a,_,r.endLineNumber,0,d,g,h,l)}return g}static _findMatchesInLine(u,r,a,h,l,g,d,v){const _=u.wordSeparators;if(!d&&u.simpleSearch){const I=u.simpleSearch,T=I.length,N=r.length;let A=-T;for(;(A=r.indexOf(I,A+T))!==-1;)if((!_||n(_,r,N,A,T))&&(g[l++]=new y.FindMatch(new D.Range(a,A+1+h,a,A+1+T+h),null),l>=v))return l;return l}const S=new c(u.wordSeparators,u.regex);let L;S.reset(0);do if(L=S.next(r),L&&(g[l++]=C(new D.Range(a,L.index+1+h,a,L.index+1+L[0].length+h),L,d),l>=v))return l;while(L);return l}static findNextMatch(u,r,a,h){const l=r.parseSearchRequest();if(!l)return null;const g=new c(l.wordSeparators,l.regex);return l.regex.multiline?this._doFindNextMatchMultiline(u,a,g,h):this._doFindNextMatchLineByLine(u,a,g,h)}static _doFindNextMatchMultiline(u,r,a,h){const l=new E.Position(r.lineNumber,1),g=u.getOffsetAt(l),d=u.getLineCount(),v=u.getValueInRange(new D.Range(l.lineNumber,l.column,d,u.getLineMaxColumn(d)),1),_=u.getEOL()===`\r
`?new o(v):null;a.reset(r.column-1);const S=a.next(v);return S?C(this._getMultilineMatchRange(u,g,v,_,S.index,S[0]),S,h):r.lineNumber!==1||r.column!==1?this._doFindNextMatchMultiline(u,new E.Position(1,1),a,h):null}static _doFindNextMatchLineByLine(u,r,a,h){const l=u.getLineCount(),g=r.lineNumber,d=u.getLineContent(g),v=this._findFirstMatchInLine(a,d,g,r.column,h);if(v)return v;for(let _=1;_<=l;_++){const S=(g+_-1)%l,L=u.getLineContent(S+1),I=this._findFirstMatchInLine(a,L,S+1,1,h);if(I)return I}return null}static _findFirstMatchInLine(u,r,a,h,l){u.reset(h-1);const g=u.next(r);return g?C(new D.Range(a,g.index+1,a,g.index+1+g[0].length),g,l):null}static findPreviousMatch(u,r,a,h){const l=r.parseSearchRequest();if(!l)return null;const g=new c(l.wordSeparators,l.regex);return l.regex.multiline?this._doFindPreviousMatchMultiline(u,a,g,h):this._doFindPreviousMatchLineByLine(u,a,g,h)}static _doFindPreviousMatchMultiline(u,r,a,h){const l=this._doFindMatchesMultiline(u,new D.Range(1,1,r.lineNumber,r.column),a,h,10*p);if(l.length>0)return l[l.length-1];const g=u.getLineCount();return r.lineNumber!==g||r.column!==u.getLineMaxColumn(g)?this._doFindPreviousMatchMultiline(u,new E.Position(g,u.getLineMaxColumn(g)),a,h):null}static _doFindPreviousMatchLineByLine(u,r,a,h){const l=u.getLineCount(),g=r.lineNumber,d=u.getLineContent(g).substring(0,r.column-1),v=this._findLastMatchInLine(a,d,g,h);if(v)return v;for(let _=1;_<=l;_++){const S=(l+g-_-1)%l,L=u.getLineContent(S+1),I=this._findLastMatchInLine(a,L,S+1,h);if(I)return I}return null}static _findLastMatchInLine(u,r,a,h){let l=null,g;for(u.reset(0);g=u.next(r);)l=C(new D.Range(a,g.index+1,a,g.index+1+g[0].length),g,h);return l}}e.TextModelSearch=s;function i(m,u,r,a,h){if(a===0)return!0;const l=u.charCodeAt(a-1);if(m.get(l)!==0||l===13||l===10)return!0;if(h>0){const g=u.charCodeAt(a);if(m.get(g)!==0)return!0}return!1}function t(m,u,r,a,h){if(a+h===r)return!0;const l=u.charCodeAt(a+h);if(m.get(l)!==0||l===13||l===10)return!0;if(h>0){const g=u.charCodeAt(a+h-1);if(m.get(g)!==0)return!0}return!1}function n(m,u,r,a,h){return i(m,u,r,a,h)&&t(m,u,r,a,h)}class c{constructor(u,r){this._wordSeparators=u,this._searchRegex=r,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(u){this._searchRegex.lastIndex=u,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(u){const r=u.length;let a;do{if(this._prevMatchStartIndex+this._prevMatchLength===r||(a=this._searchRegex.exec(u),!a))return null;const h=a.index,l=a[0].length;if(h===this._prevMatchStartIndex&&l===this._prevMatchLength){if(l===0){f.getNextCodePoint(u,r,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=h,this._prevMatchLength=l,!this._wordSeparators||n(this._wordSeparators,u,r,h,l))return a}while(a);return null}}e.Searcher=c}),define(ie[315],ne([1,0,9,5,42,558,196]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeBase=e.StringBuffer=e.Piece=void 0,e.createLineStartsFast=C,e.createLineStarts=o;const p=65535;function w(m){let u;return m[m.length-1]<65536?u=new Uint16Array(m.length):u=new Uint32Array(m.length),u.set(m,0),u}class b{constructor(u,r,a,h,l){this.lineStarts=u,this.cr=r,this.lf=a,this.crlf=h,this.isBasicASCII=l}}function C(m,u=!0){const r=[0];let a=1;for(let h=0,l=m.length;h<l;h++){const g=m.charCodeAt(h);g===13?h+1<l&&m.charCodeAt(h+1)===10?(r[a++]=h+2,h++):r[a++]=h+1:g===10&&(r[a++]=h+1)}return u?w(r):r}function o(m,u){m.length=0,m[0]=0;let r=1,a=0,h=0,l=0,g=!0;for(let v=0,_=u.length;v<_;v++){const S=u.charCodeAt(v);S===13?v+1<_&&u.charCodeAt(v+1)===10?(l++,m[r++]=v+2,v++):(a++,m[r++]=v+1):S===10?(h++,m[r++]=v+1):g&&S!==9&&(S<32||S>126)&&(g=!1)}const d=new b(w(m),a,h,l,g);return m.length=0,d}class s{constructor(u,r,a,h,l){this.bufferIndex=u,this.start=r,this.end=a,this.lineFeedCnt=h,this.length=l}}e.Piece=s;class i{constructor(u,r){this.buffer=u,this.lineStarts=r}}e.StringBuffer=i;class t{constructor(u,r){this._pieces=[],this._tree=u,this._BOM=r,this._index=0,u.root!==D.SENTINEL&&u.iterate(u.root,a=>(a!==D.SENTINEL&&this._pieces.push(a.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class n{constructor(u){this._limit=u,this._cache=[]}get(u){for(let r=this._cache.length-1;r>=0;r--){const a=this._cache[r];if(a.nodeStartOffset<=u&&a.nodeStartOffset+a.node.piece.length>=u)return a}return null}get2(u){for(let r=this._cache.length-1;r>=0;r--){const a=this._cache[r];if(a.nodeStartLineNumber&&a.nodeStartLineNumber<u&&a.nodeStartLineNumber+a.node.piece.lineFeedCnt>=u)return a}return null}set(u){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(u)}validate(u){let r=!1;const a=this._cache;for(let h=0;h<a.length;h++){const l=a[h];if(l.node.parent===null||l.nodeStartOffset>=u){a[h]=null,r=!0;continue}}if(r){const h=[];for(const l of a)l!==null&&h.push(l);this._cache=h}}}class c{constructor(u,r,a){this.create(u,r,a)}create(u,r,a){this._buffers=[new i("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=D.SENTINEL,this._lineCnt=1,this._length=0,this._EOL=r,this._EOLLength=r.length,this._EOLNormalized=a;let h=null;for(let l=0,g=u.length;l<g;l++)if(u[l].buffer.length>0){u[l].lineStarts||(u[l].lineStarts=C(u[l].buffer));const d=new s(l+1,{line:0,column:0},{line:u[l].lineStarts.length-1,column:u[l].buffer.length-u[l].lineStarts[u[l].lineStarts.length-1]},u[l].lineStarts.length-1,u[l].buffer.length);this._buffers.push(u[l]),h=this.rbInsertRight(h,d)}this._searchCache=new n(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(u){const r=p,a=r-Math.floor(r/3),h=a*2;let l="",g=0;const d=[];if(this.iterate(this.root,v=>{const _=this.getNodeContent(v),S=_.length;if(g<=a||g+S<h)return l+=_,g+=S,!0;const L=l.replace(/\r\n|\r|\n/g,u);return d.push(new i(L,C(L))),l=_,g=S,!0}),g>0){const v=l.replace(/\r\n|\r|\n/g,u);d.push(new i(v,C(v)))}this.create(d,u,!0)}getEOL(){return this._EOL}setEOL(u){this._EOL=u,this._EOLLength=this._EOL.length,this.normalizeEOL(u)}createSnapshot(u){return new t(this,u)}getOffsetAt(u,r){let a=0,h=this.root;for(;h!==D.SENTINEL;)if(h.left!==D.SENTINEL&&h.lf_left+1>=u)h=h.left;else if(h.lf_left+h.piece.lineFeedCnt+1>=u){a+=h.size_left;const l=this.getAccumulatedValue(h,u-h.lf_left-2);return a+=l+r-1}else u-=h.lf_left+h.piece.lineFeedCnt,a+=h.size_left+h.piece.length,h=h.right;return a}getPositionAt(u){u=Math.floor(u),u=Math.max(0,u);let r=this.root,a=0;const h=u;for(;r!==D.SENTINEL;)if(r.size_left!==0&&r.size_left>=u)r=r.left;else if(r.size_left+r.piece.length>=u){const l=this.getIndexOf(r,u-r.size_left);if(a+=r.lf_left+l.index,l.index===0){const g=this.getOffsetAt(a+1,1),d=h-g;return new f.Position(a+1,d+1)}return new f.Position(a+1,l.remainder+1)}else if(u-=r.size_left+r.piece.length,a+=r.lf_left+r.piece.lineFeedCnt,r.right===D.SENTINEL){const l=this.getOffsetAt(a+1,1),g=h-u-l;return new f.Position(a+1,g+1)}else r=r.right;return new f.Position(1,1)}getValueInRange(u,r){if(u.startLineNumber===u.endLineNumber&&u.startColumn===u.endColumn)return"";const a=this.nodeAt2(u.startLineNumber,u.startColumn),h=this.nodeAt2(u.endLineNumber,u.endColumn),l=this.getValueInRange2(a,h);return r?r!==this._EOL||!this._EOLNormalized?l.replace(/\r\n|\r|\n/g,r):r===this.getEOL()&&this._EOLNormalized?l:l.replace(/\r\n|\r|\n/g,r):l}getValueInRange2(u,r){if(u.node===r.node){const d=u.node,v=this._buffers[d.piece.bufferIndex].buffer,_=this.offsetInBuffer(d.piece.bufferIndex,d.piece.start);return v.substring(_+u.remainder,_+r.remainder)}let a=u.node;const h=this._buffers[a.piece.bufferIndex].buffer,l=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);let g=h.substring(l+u.remainder,l+a.piece.length);for(a=a.next();a!==D.SENTINEL;){const d=this._buffers[a.piece.bufferIndex].buffer,v=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(a===r.node){g+=d.substring(v,v+r.remainder);break}else g+=d.substr(v,a.piece.length);a=a.next()}return g}getLinesContent(){const u=[];let r=0,a="",h=!1;return this.iterate(this.root,l=>{if(l===D.SENTINEL)return!0;const g=l.piece;let d=g.length;if(d===0)return!0;const v=this._buffers[g.bufferIndex].buffer,_=this._buffers[g.bufferIndex].lineStarts,S=g.start.line,L=g.end.line;let I=_[S]+g.start.column;if(h&&(v.charCodeAt(I)===10&&(I++,d--),u[r++]=a,a="",h=!1,d===0))return!0;if(S===L)return!this._EOLNormalized&&v.charCodeAt(I+d-1)===13?(h=!0,a+=v.substr(I,d-1)):a+=v.substr(I,d),!0;a+=this._EOLNormalized?v.substring(I,Math.max(I,_[S+1]-this._EOLLength)):v.substring(I,_[S+1]).replace(/(\r\n|\r|\n)$/,""),u[r++]=a;for(let T=S+1;T<L;T++)a=this._EOLNormalized?v.substring(_[T],_[T+1]-this._EOLLength):v.substring(_[T],_[T+1]).replace(/(\r\n|\r|\n)$/,""),u[r++]=a;return!this._EOLNormalized&&v.charCodeAt(_[L]+g.end.column-1)===13?(h=!0,g.end.column===0?r--:a=v.substr(_[L],g.end.column-1)):a=v.substr(_[L],g.end.column),!0}),h&&(u[r++]=a,a=""),u[r++]=a,u}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(u){return this._lastVisitedLine.lineNumber===u?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=u,u===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(u):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(u,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(u).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(u){if(u.remainder===u.node.piece.length){const r=u.node.next();if(!r)return 0;const a=this._buffers[r.piece.bufferIndex],h=this.offsetInBuffer(r.piece.bufferIndex,r.piece.start);return a.buffer.charCodeAt(h)}else{const r=this._buffers[u.node.piece.bufferIndex],h=this.offsetInBuffer(u.node.piece.bufferIndex,u.node.piece.start)+u.remainder;return r.buffer.charCodeAt(h)}}getLineCharCode(u,r){const a=this.nodeAt2(u,r+1);return this._getCharCode(a)}getLineLength(u){if(u===this.getLineCount()){const r=this.getOffsetAt(u,1);return this.getLength()-r}return this.getOffsetAt(u+1,1)-this.getOffsetAt(u,1)-this._EOLLength}findMatchesInNode(u,r,a,h,l,g,d,v,_,S,L){const I=this._buffers[u.piece.bufferIndex],T=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start),N=this.offsetInBuffer(u.piece.bufferIndex,l),A=this.offsetInBuffer(u.piece.bufferIndex,g);let O;const M={line:0,column:0};let R,x;r._wordSeparators?(R=I.buffer.substring(N,A),x=F=>F+N,r.reset(0)):(R=I.buffer,x=F=>F,r.reset(N));do if(O=r.next(R),O){if(x(O.index)>=A)return S;this.positionInBuffer(u,x(O.index)-T,M);const F=this.getLineFeedCnt(u.piece.bufferIndex,l,M),W=M.line===l.line?M.column-l.column+h:M.column+1,H=W+O[0].length;if(L[S++]=(0,y.createFindMatch)(new k.Range(a+F,W,a+F,H),O,v),x(O.index)+O[0].length>=A||S>=_)return S}while(O);return S}findMatchesLineByLine(u,r,a,h){const l=[];let g=0;const d=new y.Searcher(r.wordSeparators,r.regex);let v=this.nodeAt2(u.startLineNumber,u.startColumn);if(v===null)return[];const _=this.nodeAt2(u.endLineNumber,u.endColumn);if(_===null)return[];let S=this.positionInBuffer(v.node,v.remainder);const L=this.positionInBuffer(_.node,_.remainder);if(v.node===_.node)return this.findMatchesInNode(v.node,d,u.startLineNumber,u.startColumn,S,L,r,a,h,g,l),l;let I=u.startLineNumber,T=v.node;for(;T!==_.node;){const A=this.getLineFeedCnt(T.piece.bufferIndex,S,T.piece.end);if(A>=1){const M=this._buffers[T.piece.bufferIndex].lineStarts,R=this.offsetInBuffer(T.piece.bufferIndex,T.piece.start),x=M[S.line+A],F=I===u.startLineNumber?u.startColumn:1;if(g=this.findMatchesInNode(T,d,I,F,S,this.positionInBuffer(T,x-R),r,a,h,g,l),g>=h)return l;I+=A}const O=I===u.startLineNumber?u.startColumn-1:0;if(I===u.endLineNumber){const M=this.getLineContent(I).substring(O,u.endColumn-1);return g=this._findMatchesInLine(r,d,M,u.endLineNumber,O,g,l,a,h),l}if(g=this._findMatchesInLine(r,d,this.getLineContent(I).substr(O),I,O,g,l,a,h),g>=h)return l;I++,v=this.nodeAt2(I,1),T=v.node,S=this.positionInBuffer(v.node,v.remainder)}if(I===u.endLineNumber){const A=I===u.startLineNumber?u.startColumn-1:0,O=this.getLineContent(I).substring(A,u.endColumn-1);return g=this._findMatchesInLine(r,d,O,u.endLineNumber,A,g,l,a,h),l}const N=I===u.startLineNumber?u.startColumn:1;return g=this.findMatchesInNode(_.node,d,I,N,S,L,r,a,h,g,l),l}_findMatchesInLine(u,r,a,h,l,g,d,v,_){const S=u.wordSeparators;if(!v&&u.simpleSearch){const I=u.simpleSearch,T=I.length,N=a.length;let A=-T;for(;(A=a.indexOf(I,A+T))!==-1;)if((!S||(0,y.isValidMatch)(S,a,N,A,T))&&(d[g++]=new E.FindMatch(new k.Range(h,A+1+l,h,A+1+T+l),null),g>=_))return g;return g}let L;r.reset(0);do if(L=r.next(a),L&&(d[g++]=(0,y.createFindMatch)(new k.Range(h,L.index+1+l,h,L.index+1+L[0].length+l),L,v),g>=_))return g;while(L);return g}insert(u,r,a=!1){if(this._EOLNormalized=this._EOLNormalized&&a,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==D.SENTINEL){const{node:h,remainder:l,nodeStartOffset:g}=this.nodeAt(u),d=h.piece,v=d.bufferIndex,_=this.positionInBuffer(h,l);if(h.piece.bufferIndex===0&&d.end.line===this._lastChangeBufferPos.line&&d.end.column===this._lastChangeBufferPos.column&&g+d.length===u&&r.length<p){this.appendToNode(h,r),this.computeBufferMetadata();return}if(g===u)this.insertContentToNodeLeft(r,h),this._searchCache.validate(u);else if(g+h.piece.length>u){const S=[];let L=new s(d.bufferIndex,_,d.end,this.getLineFeedCnt(d.bufferIndex,_,d.end),this.offsetInBuffer(v,d.end)-this.offsetInBuffer(v,_));if(this.shouldCheckCRLF()&&this.endWithCR(r)&&this.nodeCharCodeAt(h,l)===10){const A={line:L.start.line+1,column:0};L=new s(L.bufferIndex,A,L.end,this.getLineFeedCnt(L.bufferIndex,A,L.end),L.length-1),r+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(r))if(this.nodeCharCodeAt(h,l-1)===13){const A=this.positionInBuffer(h,l-1);this.deleteNodeTail(h,A),r="\r"+r,h.piece.length===0&&S.push(h)}else this.deleteNodeTail(h,_);else this.deleteNodeTail(h,_);const I=this.createNewPieces(r);L.length>0&&this.rbInsertRight(h,L);let T=h;for(let N=0;N<I.length;N++)T=this.rbInsertRight(T,I[N]);this.deleteNodes(S)}else this.insertContentToNodeRight(r,h)}else{const h=this.createNewPieces(r);let l=this.rbInsertLeft(null,h[0]);for(let g=1;g<h.length;g++)l=this.rbInsertRight(l,h[g])}this.computeBufferMetadata()}delete(u,r){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",r<=0||this.root===D.SENTINEL)return;const a=this.nodeAt(u),h=this.nodeAt(u+r),l=a.node,g=h.node;if(l===g){const I=this.positionInBuffer(l,a.remainder),T=this.positionInBuffer(l,h.remainder);if(a.nodeStartOffset===u){if(r===l.piece.length){const N=l.next();(0,D.rbDelete)(this,l),this.validateCRLFWithPrevNode(N),this.computeBufferMetadata();return}this.deleteNodeHead(l,T),this._searchCache.validate(u),this.validateCRLFWithPrevNode(l),this.computeBufferMetadata();return}if(a.nodeStartOffset+l.piece.length===u+r){this.deleteNodeTail(l,I),this.validateCRLFWithNextNode(l),this.computeBufferMetadata();return}this.shrinkNode(l,I,T),this.computeBufferMetadata();return}const d=[],v=this.positionInBuffer(l,a.remainder);this.deleteNodeTail(l,v),this._searchCache.validate(u),l.piece.length===0&&d.push(l);const _=this.positionInBuffer(g,h.remainder);this.deleteNodeHead(g,_),g.piece.length===0&&d.push(g);const S=l.next();for(let I=S;I!==D.SENTINEL&&I!==g;I=I.next())d.push(I);const L=l.piece.length===0?l.prev():l;this.deleteNodes(d),this.validateCRLFWithNextNode(L),this.computeBufferMetadata()}insertContentToNodeLeft(u,r){const a=[];if(this.shouldCheckCRLF()&&this.endWithCR(u)&&this.startWithLF(r)){const g=r.piece,d={line:g.start.line+1,column:0},v=new s(g.bufferIndex,d,g.end,this.getLineFeedCnt(g.bufferIndex,d,g.end),g.length-1);r.piece=v,u+=`
`,(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&a.push(r)}const h=this.createNewPieces(u);let l=this.rbInsertLeft(r,h[h.length-1]);for(let g=h.length-2;g>=0;g--)l=this.rbInsertLeft(l,h[g]);this.validateCRLFWithPrevNode(l),this.deleteNodes(a)}insertContentToNodeRight(u,r){this.adjustCarriageReturnFromNext(u,r)&&(u+=`
`);const a=this.createNewPieces(u),h=this.rbInsertRight(r,a[0]);let l=h;for(let g=1;g<a.length;g++)l=this.rbInsertRight(l,a[g]);this.validateCRLFWithPrevNode(h)}positionInBuffer(u,r,a){const h=u.piece,l=u.piece.bufferIndex,g=this._buffers[l].lineStarts,v=g[h.start.line]+h.start.column+r;let _=h.start.line,S=h.end.line,L=0,I=0,T=0;for(;_<=S&&(L=_+(S-_)/2|0,T=g[L],L!==S);)if(I=g[L+1],v<T)S=L-1;else if(v>=I)_=L+1;else break;return a?(a.line=L,a.column=v-T,null):{line:L,column:v-T}}getLineFeedCnt(u,r,a){if(a.column===0)return a.line-r.line;const h=this._buffers[u].lineStarts;if(a.line===h.length-1)return a.line-r.line;const l=h[a.line+1],g=h[a.line]+a.column;if(l>g+1)return a.line-r.line;const d=g-1;return this._buffers[u].buffer.charCodeAt(d)===13?a.line-r.line+1:a.line-r.line}offsetInBuffer(u,r){return this._buffers[u].lineStarts[r.line]+r.column}deleteNodes(u){for(let r=0;r<u.length;r++)(0,D.rbDelete)(this,u[r])}createNewPieces(u){if(u.length>p){const S=[];for(;u.length>p;){const I=u.charCodeAt(p-1);let T;I===13||I>=55296&&I<=56319?(T=u.substring(0,p-1),u=u.substring(p-1)):(T=u.substring(0,p),u=u.substring(p));const N=C(T);S.push(new s(this._buffers.length,{line:0,column:0},{line:N.length-1,column:T.length-N[N.length-1]},N.length-1,T.length)),this._buffers.push(new i(T,N))}const L=C(u);return S.push(new s(this._buffers.length,{line:0,column:0},{line:L.length-1,column:u.length-L[L.length-1]},L.length-1,u.length)),this._buffers.push(new i(u,L)),S}let r=this._buffers[0].buffer.length;const a=C(u,!1);let h=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===r&&r!==0&&this.startWithLF(u)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},h=this._lastChangeBufferPos;for(let S=0;S<a.length;S++)a[S]+=r+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+="_"+u,r+=1}else{if(r!==0)for(let S=0;S<a.length;S++)a[S]+=r;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(a.slice(1)),this._buffers[0].buffer+=u}const l=this._buffers[0].buffer.length,g=this._buffers[0].lineStarts.length-1,d=l-this._buffers[0].lineStarts[g],v={line:g,column:d},_=new s(0,h,v,this.getLineFeedCnt(0,h,v),l-r);return this._lastChangeBufferPos=v,[_]}getLineRawContent(u,r=0){let a=this.root,h="";const l=this._searchCache.get2(u);if(l){a=l.node;const g=this.getAccumulatedValue(a,u-l.nodeStartLineNumber-1),d=this._buffers[a.piece.bufferIndex].buffer,v=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);if(l.nodeStartLineNumber+a.piece.lineFeedCnt===u)h=d.substring(v+g,v+a.piece.length);else{const _=this.getAccumulatedValue(a,u-l.nodeStartLineNumber);return d.substring(v+g,v+_-r)}}else{let g=0;const d=u;for(;a!==D.SENTINEL;)if(a.left!==D.SENTINEL&&a.lf_left>=u-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>u-1){const v=this.getAccumulatedValue(a,u-a.lf_left-2),_=this.getAccumulatedValue(a,u-a.lf_left-1),S=this._buffers[a.piece.bufferIndex].buffer,L=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return g+=a.size_left,this._searchCache.set({node:a,nodeStartOffset:g,nodeStartLineNumber:d-(u-1-a.lf_left)}),S.substring(L+v,L+_-r)}else if(a.lf_left+a.piece.lineFeedCnt===u-1){const v=this.getAccumulatedValue(a,u-a.lf_left-2),_=this._buffers[a.piece.bufferIndex].buffer,S=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);h=_.substring(S+v,S+a.piece.length);break}else u-=a.lf_left+a.piece.lineFeedCnt,g+=a.size_left+a.piece.length,a=a.right}for(a=a.next();a!==D.SENTINEL;){const g=this._buffers[a.piece.bufferIndex].buffer;if(a.piece.lineFeedCnt>0){const d=this.getAccumulatedValue(a,0),v=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);return h+=g.substring(v,v+d-r),h}else{const d=this.offsetInBuffer(a.piece.bufferIndex,a.piece.start);h+=g.substr(d,a.piece.length)}a=a.next()}return h}computeBufferMetadata(){let u=this.root,r=1,a=0;for(;u!==D.SENTINEL;)r+=u.lf_left+u.piece.lineFeedCnt,a+=u.size_left+u.piece.length,u=u.right;this._lineCnt=r,this._length=a,this._searchCache.validate(this._length)}getIndexOf(u,r){const a=u.piece,h=this.positionInBuffer(u,r),l=h.line-a.start.line;if(this.offsetInBuffer(a.bufferIndex,a.end)-this.offsetInBuffer(a.bufferIndex,a.start)===r){const g=this.getLineFeedCnt(u.piece.bufferIndex,a.start,h);if(g!==l)return{index:g,remainder:0}}return{index:l,remainder:h.column}}getAccumulatedValue(u,r){if(r<0)return 0;const a=u.piece,h=this._buffers[a.bufferIndex].lineStarts,l=a.start.line+r+1;return l>a.end.line?h[a.end.line]+a.end.column-h[a.start.line]-a.start.column:h[l]-h[a.start.line]-a.start.column}deleteNodeTail(u,r){const a=u.piece,h=a.lineFeedCnt,l=this.offsetInBuffer(a.bufferIndex,a.end),g=r,d=this.offsetInBuffer(a.bufferIndex,g),v=this.getLineFeedCnt(a.bufferIndex,a.start,g),_=v-h,S=d-l,L=a.length+S;u.piece=new s(a.bufferIndex,a.start,g,v,L),(0,D.updateTreeMetadata)(this,u,S,_)}deleteNodeHead(u,r){const a=u.piece,h=a.lineFeedCnt,l=this.offsetInBuffer(a.bufferIndex,a.start),g=r,d=this.getLineFeedCnt(a.bufferIndex,g,a.end),v=this.offsetInBuffer(a.bufferIndex,g),_=d-h,S=l-v,L=a.length+S;u.piece=new s(a.bufferIndex,g,a.end,d,L),(0,D.updateTreeMetadata)(this,u,S,_)}shrinkNode(u,r,a){const h=u.piece,l=h.start,g=h.end,d=h.length,v=h.lineFeedCnt,_=r,S=this.getLineFeedCnt(h.bufferIndex,h.start,_),L=this.offsetInBuffer(h.bufferIndex,r)-this.offsetInBuffer(h.bufferIndex,l);u.piece=new s(h.bufferIndex,h.start,_,S,L),(0,D.updateTreeMetadata)(this,u,L-d,S-v);const I=new s(h.bufferIndex,a,g,this.getLineFeedCnt(h.bufferIndex,a,g),this.offsetInBuffer(h.bufferIndex,g)-this.offsetInBuffer(h.bufferIndex,a)),T=this.rbInsertRight(u,I);this.validateCRLFWithPrevNode(T)}appendToNode(u,r){this.adjustCarriageReturnFromNext(r,u)&&(r+=`
`);const a=this.shouldCheckCRLF()&&this.startWithLF(r)&&this.endWithCR(u),h=this._buffers[0].buffer.length;this._buffers[0].buffer+=r;const l=C(r,!1);for(let T=0;T<l.length;T++)l[T]+=h;if(a){const T=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:h-T}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(l.slice(1));const g=this._buffers[0].lineStarts.length-1,d=this._buffers[0].buffer.length-this._buffers[0].lineStarts[g],v={line:g,column:d},_=u.piece.length+r.length,S=u.piece.lineFeedCnt,L=this.getLineFeedCnt(0,u.piece.start,v),I=L-S;u.piece=new s(u.piece.bufferIndex,u.piece.start,v,L,_),this._lastChangeBufferPos=v,(0,D.updateTreeMetadata)(this,u,r.length,I)}nodeAt(u){let r=this.root;const a=this._searchCache.get(u);if(a)return{node:a.node,nodeStartOffset:a.nodeStartOffset,remainder:u-a.nodeStartOffset};let h=0;for(;r!==D.SENTINEL;)if(r.size_left>u)r=r.left;else if(r.size_left+r.piece.length>=u){h+=r.size_left;const l={node:r,remainder:u-r.size_left,nodeStartOffset:h};return this._searchCache.set(l),l}else u-=r.size_left+r.piece.length,h+=r.size_left+r.piece.length,r=r.right;return null}nodeAt2(u,r){let a=this.root,h=0;for(;a!==D.SENTINEL;)if(a.left!==D.SENTINEL&&a.lf_left>=u-1)a=a.left;else if(a.lf_left+a.piece.lineFeedCnt>u-1){const l=this.getAccumulatedValue(a,u-a.lf_left-2),g=this.getAccumulatedValue(a,u-a.lf_left-1);return h+=a.size_left,{node:a,remainder:Math.min(l+r-1,g),nodeStartOffset:h}}else if(a.lf_left+a.piece.lineFeedCnt===u-1){const l=this.getAccumulatedValue(a,u-a.lf_left-2);if(l+r-1<=a.piece.length)return{node:a,remainder:l+r-1,nodeStartOffset:h};r-=a.piece.length-l;break}else u-=a.lf_left+a.piece.lineFeedCnt,h+=a.size_left+a.piece.length,a=a.right;for(a=a.next();a!==D.SENTINEL;){if(a.piece.lineFeedCnt>0){const l=this.getAccumulatedValue(a,0),g=this.offsetOfNode(a);return{node:a,remainder:Math.min(r-1,l),nodeStartOffset:g}}else if(a.piece.length>=r-1){const l=this.offsetOfNode(a);return{node:a,remainder:r-1,nodeStartOffset:l}}else r-=a.piece.length;a=a.next()}return null}nodeCharCodeAt(u,r){if(u.piece.lineFeedCnt<1)return-1;const a=this._buffers[u.piece.bufferIndex],h=this.offsetInBuffer(u.piece.bufferIndex,u.piece.start)+r;return a.buffer.charCodeAt(h)}offsetOfNode(u){if(!u)return 0;let r=u.size_left;for(;u!==this.root;)u.parent.right===u&&(r+=u.parent.size_left+u.parent.piece.length),u=u.parent;return r}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(u){if(typeof u=="string")return u.charCodeAt(0)===10;if(u===D.SENTINEL||u.piece.lineFeedCnt===0)return!1;const r=u.piece,a=this._buffers[r.bufferIndex].lineStarts,h=r.start.line,l=a[h]+r.start.column;return h===a.length-1||a[h+1]>l+1?!1:this._buffers[r.bufferIndex].buffer.charCodeAt(l)===10}endWithCR(u){return typeof u=="string"?u.charCodeAt(u.length-1)===13:u===D.SENTINEL||u.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(u,u.piece.length-1)===13}validateCRLFWithPrevNode(u){if(this.shouldCheckCRLF()&&this.startWithLF(u)){const r=u.prev();this.endWithCR(r)&&this.fixCRLF(r,u)}}validateCRLFWithNextNode(u){if(this.shouldCheckCRLF()&&this.endWithCR(u)){const r=u.next();this.startWithLF(r)&&this.fixCRLF(u,r)}}fixCRLF(u,r){const a=[],h=this._buffers[u.piece.bufferIndex].lineStarts;let l;u.piece.end.column===0?l={line:u.piece.end.line-1,column:h[u.piece.end.line]-h[u.piece.end.line-1]-1}:l={line:u.piece.end.line,column:u.piece.end.column-1};const g=u.piece.length-1,d=u.piece.lineFeedCnt-1;u.piece=new s(u.piece.bufferIndex,u.piece.start,l,d,g),(0,D.updateTreeMetadata)(this,u,-1,-1),u.piece.length===0&&a.push(u);const v={line:r.piece.start.line+1,column:0},_=r.piece.length-1,S=this.getLineFeedCnt(r.piece.bufferIndex,v,r.piece.end);r.piece=new s(r.piece.bufferIndex,v,r.piece.end,S,_),(0,D.updateTreeMetadata)(this,r,-1,-1),r.piece.length===0&&a.push(r);const L=this.createNewPieces(`\r
`);this.rbInsertRight(u,L[0]);for(let I=0;I<a.length;I++)(0,D.rbDelete)(this,a[I])}adjustCarriageReturnFromNext(u,r){if(this.shouldCheckCRLF()&&this.endWithCR(u)){const a=r.next();if(this.startWithLF(a)){if(u+=`
`,a.piece.length===1)(0,D.rbDelete)(this,a);else{const h=a.piece,l={line:h.start.line+1,column:0},g=h.length-1,d=this.getLineFeedCnt(h.bufferIndex,l,h.end);a.piece=new s(h.bufferIndex,l,h.end,d,g),(0,D.updateTreeMetadata)(this,a,-1,-1)}return!0}}return!1}iterate(u,r){if(u===D.SENTINEL)return r(D.SENTINEL);const a=this.iterate(u.left,r);return a&&r(u)&&this.iterate(u.right,r)}getNodeContent(u){if(u===D.SENTINEL)return"";const r=this._buffers[u.piece.bufferIndex],a=u.piece,h=this.offsetInBuffer(a.bufferIndex,a.start),l=this.offsetInBuffer(a.bufferIndex,a.end);return r.buffer.substring(h,l)}getPieceContent(u){const r=this._buffers[u.bufferIndex],a=this.offsetInBuffer(u.bufferIndex,u.start),h=this.offsetInBuffer(u.bufferIndex,u.end);return r.buffer.substring(a,h)}rbInsertRight(u,r){const a=new D.TreeNode(r,1);if(a.left=D.SENTINEL,a.right=D.SENTINEL,a.parent=D.SENTINEL,a.size_left=0,a.lf_left=0,this.root===D.SENTINEL)this.root=a,a.color=0;else if(u.right===D.SENTINEL)u.right=a,a.parent=u;else{const l=(0,D.leftest)(u.right);l.left=a,a.parent=l}return(0,D.fixInsert)(this,a),a}rbInsertLeft(u,r){const a=new D.TreeNode(r,1);if(a.left=D.SENTINEL,a.right=D.SENTINEL,a.parent=D.SENTINEL,a.size_left=0,a.lf_left=0,this.root===D.SENTINEL)this.root=a,a.color=0;else if(u.left===D.SENTINEL)u.left=a,a.parent=u;else{const h=(0,D.righttest)(u.left);h.right=a,a.parent=h}return(0,D.fixInsert)(this,a),a}}e.PieceTreeBase=c}),define(ie[560],ne([1,0,109,108]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelText=void 0;class E extends f.AbstractText{constructor(y){super(),this._textModel=y}getValueOfRange(y){return this._textModel.getValueInRange(y)}get length(){const y=this._textModel.getLineCount(),p=this._textModel.getLineLength(y);return new k.TextLength(y-1,p)}}e.TextModelText=E}),define(ie[231],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.computeIndentLevel=f;function f(k,E){let D=0,y=0;const p=k.length;for(;y<p;){const w=k.charCodeAt(y);if(w===32)D++;else if(w===9)D=D-D%E+E;else break;y++}return y===p?-1:D}}),define(ie[316],ne([1,0,87,9,42]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutputPosition=e.InjectedText=e.ModelLineProjectionData=void 0;class D{constructor(o,s,i,t,n){this.injectionOffsets=o,this.injectionOptions=s,this.breakOffsets=i,this.breakOffsetsVisibleColumn=t,this.wrappedTextIndentLength=n}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(o){return o>0?this.wrappedTextIndentLength:0}getLineLength(o){const s=o>0?this.breakOffsets[o-1]:0;let t=this.breakOffsets[o]-s;return o>0&&(t+=this.wrappedTextIndentLength),t}getMaxOutputOffset(o){return this.getLineLength(o)}translateToInputOffset(o,s){o>0&&(s=Math.max(0,s-this.wrappedTextIndentLength));let t=o===0?s:this.breakOffsets[o-1]+s;if(this.injectionOffsets!==null)for(let n=0;n<this.injectionOffsets.length&&t>this.injectionOffsets[n];n++)t<this.injectionOffsets[n]+this.injectionOptions[n].content.length?t=this.injectionOffsets[n]:t-=this.injectionOptions[n].content.length;return t}translateToOutputPosition(o,s=2){let i=o;if(this.injectionOffsets!==null)for(let t=0;t<this.injectionOffsets.length&&!(o<this.injectionOffsets[t]||s!==1&&o===this.injectionOffsets[t]);t++)i+=this.injectionOptions[t].content.length;return this.offsetInInputWithInjectionsToOutputPosition(i,s)}offsetInInputWithInjectionsToOutputPosition(o,s=2){let i=0,t=this.breakOffsets.length-1,n=0,c=0;for(;i<=t;){n=i+(t-i)/2|0;const u=this.breakOffsets[n];if(c=n>0?this.breakOffsets[n-1]:0,s===0)if(o<=c)t=n-1;else if(o>u)i=n+1;else break;else if(o<c)t=n-1;else if(o>=u)i=n+1;else break}let m=o-c;return n>0&&(m+=this.wrappedTextIndentLength),new b(n,m)}normalizeOutputPosition(o,s,i){if(this.injectionOffsets!==null){const t=this.outputPositionToOffsetInInputWithInjections(o,s),n=this.normalizeOffsetInInputWithInjectionsAroundInjections(t,i);if(n!==t)return this.offsetInInputWithInjectionsToOutputPosition(n,i)}if(i===0){if(o>0&&s===this.getMinOutputOffset(o))return new b(o-1,this.getMaxOutputOffset(o-1))}else if(i===1){const t=this.getOutputLineCount()-1;if(o<t&&s===this.getMaxOutputOffset(o))return new b(o+1,this.getMinOutputOffset(o+1))}return new b(o,s)}outputPositionToOffsetInInputWithInjections(o,s){return o>0&&(s=Math.max(0,s-this.wrappedTextIndentLength)),(o>0?this.breakOffsets[o-1]:0)+s}normalizeOffsetInInputWithInjectionsAroundInjections(o,s){const i=this.getInjectedTextAtOffset(o);if(!i)return o;if(s===2){if(o===i.offsetInInputWithInjections+i.length&&y(this.injectionOptions[i.injectedTextIndex].cursorStops))return i.offsetInInputWithInjections+i.length;{let t=i.offsetInInputWithInjections;if(p(this.injectionOptions[i.injectedTextIndex].cursorStops))return t;let n=i.injectedTextIndex-1;for(;n>=0&&this.injectionOffsets[n]===this.injectionOffsets[i.injectedTextIndex]&&!(y(this.injectionOptions[n].cursorStops)||(t-=this.injectionOptions[n].content.length,p(this.injectionOptions[n].cursorStops)));)n--;return t}}else if(s===1||s===4){let t=i.offsetInInputWithInjections+i.length,n=i.injectedTextIndex;for(;n+1<this.injectionOffsets.length&&this.injectionOffsets[n+1]===this.injectionOffsets[n];)t+=this.injectionOptions[n+1].content.length,n++;return t}else if(s===0||s===3){let t=i.offsetInInputWithInjections,n=i.injectedTextIndex;for(;n-1>=0&&this.injectionOffsets[n-1]===this.injectionOffsets[n];)t-=this.injectionOptions[n-1].content.length,n--;return t}(0,f.assertNever)(s)}getInjectedText(o,s){const i=this.outputPositionToOffsetInInputWithInjections(o,s),t=this.getInjectedTextAtOffset(i);return t?{options:this.injectionOptions[t.injectedTextIndex]}:null}getInjectedTextAtOffset(o){const s=this.injectionOffsets,i=this.injectionOptions;if(s!==null){let t=0;for(let n=0;n<s.length;n++){const c=i[n].content.length,m=s[n]+t,u=s[n]+t+c;if(m>o)break;if(o<=u)return{injectedTextIndex:n,offsetInInputWithInjections:m,length:c};t+=c}}}}e.ModelLineProjectionData=D;function y(C){return C==null?!0:C===E.InjectedTextCursorStops.Right||C===E.InjectedTextCursorStops.Both}function p(C){return C==null?!0:C===E.InjectedTextCursorStops.Left||C===E.InjectedTextCursorStops.Both}class w{constructor(o){this.options=o}}e.InjectedText=w;class b{constructor(o,s){this.outputLineIndex=o,this.outputOffset=s}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(o){return new k.Position(o+this.outputLineIndex,this.outputOffset+1)}}e.OutputPosition=b}),define(ie[561],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.findSectionHeaders=E;const f=/\bMARK:\s*(.*)$/d,k=/^-+|-+$/g;function E(b,C){var o;let s=[];if(C.findRegionSectionHeaders&&(!((o=C.foldingRules)===null||o===void 0)&&o.markers)){const i=D(b,C);s=s.concat(i)}if(C.findMarkSectionHeaders){const i=y(b);s=s.concat(i)}return s}function D(b,C){const o=[],s=b.getLineCount();for(let i=1;i<=s;i++){const t=b.getLineContent(i),n=t.match(C.foldingRules.markers.start);if(n){const c={startLineNumber:i,startColumn:n[0].length+1,endLineNumber:i,endColumn:t.length+1};if(c.endColumn>c.startColumn){const m={range:c,...w(t.substring(n[0].length)),shouldBeInComments:!1};(m.text||m.hasSeparatorLine)&&o.push(m)}}}return o}function y(b){const C=[],o=b.getLineCount();for(let s=1;s<=o;s++){const i=b.getLineContent(s);p(i,s,C)}return C}function p(b,C,o){f.lastIndex=0;const s=f.exec(b);if(s){const i=s.indices[1][0]+1,t=s.indices[1][1]+1,n={startLineNumber:C,startColumn:i,endLineNumber:C,endColumn:t};if(n.endColumn>n.startColumn){const c={range:n,...w(s[1]),shouldBeInComments:!0};(c.text||c.hasSeparatorLine)&&o.push(c)}}}function w(b){b=b.trim();const C=b.startsWith("-");return b=b.replace(k,""),{text:b,hasSeparatorLine:C}}}),define(ie[317],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggedTreeItemsIdentifier=e.TreeViewsDnDService=void 0;class f{constructor(){this._dragOperations=new Map}removeDragOperationTransfer(D){if(D&&this._dragOperations.has(D)){const y=this._dragOperations.get(D);return this._dragOperations.delete(D),y}}}e.TreeViewsDnDService=f;class k{constructor(D){this.identifier=D}}e.DraggedTreeItemsIdentifier=k}),define(ie[318],ne([1,0,5,196,12,87,162]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnicodeTextModelHighlighter=void 0;class p{static computeUnicodeHighlights(s,i,t){const n=t?t.startLineNumber:1,c=t?t.endLineNumber:s.getLineCount(),m=new b(i),u=m.getCandidateCodePoints();let r;u==="allNonBasicAscii"?r=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):r=new RegExp(`${w(Array.from(u))}`,"g");const a=new k.Searcher(null,r),h=[];let l=!1,g,d=0,v=0,_=0;e:for(let S=n,L=c;S<=L;S++){const I=s.getLineContent(S),T=I.length;a.reset(0);do if(g=a.next(I),g){let N=g.index,A=g.index+g[0].length;if(N>0){const x=I.charCodeAt(N-1);E.isHighSurrogate(x)&&N--}if(A+1<T){const x=I.charCodeAt(A-1);E.isHighSurrogate(x)&&A++}const O=I.substring(N,A);let M=(0,y.getWordAtText)(N+1,y.DEFAULT_WORD_REGEXP,I,0);M&&M.endColumn<=N+1&&(M=null);const R=m.shouldHighlightNonBasicASCII(O,M?M.word:null);if(R!==0){if(R===3?d++:R===2?v++:R===1?_++:(0,D.assertNever)(R),h.length>=1e3){l=!0;break e}h.push(new f.Range(S,N+1,S,A+1))}}while(g)}return{ranges:h,hasMore:l,ambiguousCharacterCount:d,invisibleCharacterCount:v,nonBasicAsciiCharacterCount:_}}static computeUnicodeHighlightReason(s,i){const t=new b(i);switch(t.shouldHighlightNonBasicASCII(s,null)){case 0:return null;case 2:return{kind:1};case 3:{const c=s.codePointAt(0),m=t.ambiguousCharacters.getPrimaryConfusable(c),u=E.AmbiguousCharacters.getLocales().filter(r=>!E.AmbiguousCharacters.getInstance(new Set([...i.allowedLocales,r])).isAmbiguous(c));return{kind:0,confusableWith:String.fromCodePoint(m),notAmbiguousInLocales:u}}case 1:return{kind:2}}}}e.UnicodeTextModelHighlighter=p;function w(o,s){return`[${E.escapeRegExpCharacters(o.map(t=>String.fromCodePoint(t)).join(""))}]`}class b{constructor(s){this.options=s,this.allowedCodePoints=new Set(s.allowedCodePoints),this.ambiguousCharacters=E.AmbiguousCharacters.getInstance(new Set(s.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const s=new Set;if(this.options.invisibleCharacters)for(const i of E.InvisibleCharacters.codePoints)C(String.fromCodePoint(i))||s.add(i);if(this.options.ambiguousCharacters)for(const i of this.ambiguousCharacters.getConfusableCodePoints())s.add(i);for(const i of this.allowedCodePoints)s.delete(i);return s}shouldHighlightNonBasicASCII(s,i){const t=s.codePointAt(0);if(this.allowedCodePoints.has(t))return 0;if(this.options.nonBasicASCII)return 1;let n=!1,c=!1;if(i)for(const m of i){const u=m.codePointAt(0),r=E.isBasicASCII(m);n=n||r,!r&&!this.ambiguousCharacters.isAmbiguous(u)&&!E.InvisibleCharacters.isInvisibleCharacter(u)&&(c=!0)}return!n&&c?0:this.options.invisibleCharacters&&!C(s)&&E.InvisibleCharacters.isInvisibleCharacter(t)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(t)?3:0}}function C(o){return o===" "||o===`
`||o==="	"}}),define(ie[232],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WrappingIndent=e.TrackedRangeStickiness=e.TextEditorCursorStyle=e.TextEditorCursorBlinkingStyle=e.SymbolTag=e.SymbolKind=e.SignatureHelpTriggerKind=e.ShowLightbulbIconMode=e.SelectionDirection=e.ScrollbarVisibility=e.ScrollType=e.RenderMinimap=e.RenderLineNumbersType=e.PositionAffinity=e.PartialAcceptTriggerKind=e.OverviewRulerLane=e.OverlayWidgetPositionPreference=e.NewSymbolNameTriggerKind=e.NewSymbolNameTag=e.MouseTargetType=e.MinimapSectionHeaderStyle=e.MinimapPosition=e.MarkerTag=e.MarkerSeverity=e.KeyCode=e.InlineEditTriggerKind=e.InlineCompletionTriggerKind=e.InlayHintKind=e.InjectedTextCursorStops=e.IndentAction=e.HoverVerbosityAction=e.GlyphMarginLane=e.EndOfLineSequence=e.EndOfLinePreference=e.EditorOption=e.EditorAutoIndentStrategy=e.DocumentHighlightKind=e.DefaultEndOfLine=e.CursorChangeReason=e.ContentWidgetPositionPreference=e.CompletionTriggerKind=e.CompletionItemTag=e.CompletionItemKind=e.CompletionItemInsertTextRule=e.CodeActionTriggerType=e.AccessibilitySupport=void 0;var f;(function(P){P[P.Unknown=0]="Unknown",P[P.Disabled=1]="Disabled",P[P.Enabled=2]="Enabled"})(f||(e.AccessibilitySupport=f={}));var k;(function(P){P[P.Invoke=1]="Invoke",P[P.Auto=2]="Auto"})(k||(e.CodeActionTriggerType=k={}));var E;(function(P){P[P.None=0]="None",P[P.KeepWhitespace=1]="KeepWhitespace",P[P.InsertAsSnippet=4]="InsertAsSnippet"})(E||(e.CompletionItemInsertTextRule=E={}));var D;(function(P){P[P.Method=0]="Method",P[P.Function=1]="Function",P[P.Constructor=2]="Constructor",P[P.Field=3]="Field",P[P.Variable=4]="Variable",P[P.Class=5]="Class",P[P.Struct=6]="Struct",P[P.Interface=7]="Interface",P[P.Module=8]="Module",P[P.Property=9]="Property",P[P.Event=10]="Event",P[P.Operator=11]="Operator",P[P.Unit=12]="Unit",P[P.Value=13]="Value",P[P.Constant=14]="Constant",P[P.Enum=15]="Enum",P[P.EnumMember=16]="EnumMember",P[P.Keyword=17]="Keyword",P[P.Text=18]="Text",P[P.Color=19]="Color",P[P.File=20]="File",P[P.Reference=21]="Reference",P[P.Customcolor=22]="Customcolor",P[P.Folder=23]="Folder",P[P.TypeParameter=24]="TypeParameter",P[P.User=25]="User",P[P.Issue=26]="Issue",P[P.Snippet=27]="Snippet"})(D||(e.CompletionItemKind=D={}));var y;(function(P){P[P.Deprecated=1]="Deprecated"})(y||(e.CompletionItemTag=y={}));var p;(function(P){P[P.Invoke=0]="Invoke",P[P.TriggerCharacter=1]="TriggerCharacter",P[P.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(p||(e.CompletionTriggerKind=p={}));var w;(function(P){P[P.EXACT=0]="EXACT",P[P.ABOVE=1]="ABOVE",P[P.BELOW=2]="BELOW"})(w||(e.ContentWidgetPositionPreference=w={}));var b;(function(P){P[P.NotSet=0]="NotSet",P[P.ContentFlush=1]="ContentFlush",P[P.RecoverFromMarkers=2]="RecoverFromMarkers",P[P.Explicit=3]="Explicit",P[P.Paste=4]="Paste",P[P.Undo=5]="Undo",P[P.Redo=6]="Redo"})(b||(e.CursorChangeReason=b={}));var C;(function(P){P[P.LF=1]="LF",P[P.CRLF=2]="CRLF"})(C||(e.DefaultEndOfLine=C={}));var o;(function(P){P[P.Text=0]="Text",P[P.Read=1]="Read",P[P.Write=2]="Write"})(o||(e.DocumentHighlightKind=o={}));var s;(function(P){P[P.None=0]="None",P[P.Keep=1]="Keep",P[P.Brackets=2]="Brackets",P[P.Advanced=3]="Advanced",P[P.Full=4]="Full"})(s||(e.EditorAutoIndentStrategy=s={}));var i;(function(P){P[P.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",P[P.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",P[P.accessibilitySupport=2]="accessibilitySupport",P[P.accessibilityPageSize=3]="accessibilityPageSize",P[P.ariaLabel=4]="ariaLabel",P[P.ariaRequired=5]="ariaRequired",P[P.autoClosingBrackets=6]="autoClosingBrackets",P[P.autoClosingComments=7]="autoClosingComments",P[P.screenReaderAnnounceInlineSuggestion=8]="screenReaderAnnounceInlineSuggestion",P[P.autoClosingDelete=9]="autoClosingDelete",P[P.autoClosingOvertype=10]="autoClosingOvertype",P[P.autoClosingQuotes=11]="autoClosingQuotes",P[P.autoIndent=12]="autoIndent",P[P.automaticLayout=13]="automaticLayout",P[P.autoSurround=14]="autoSurround",P[P.bracketPairColorization=15]="bracketPairColorization",P[P.guides=16]="guides",P[P.codeLens=17]="codeLens",P[P.codeLensFontFamily=18]="codeLensFontFamily",P[P.codeLensFontSize=19]="codeLensFontSize",P[P.colorDecorators=20]="colorDecorators",P[P.colorDecoratorsLimit=21]="colorDecoratorsLimit",P[P.columnSelection=22]="columnSelection",P[P.comments=23]="comments",P[P.contextmenu=24]="contextmenu",P[P.copyWithSyntaxHighlighting=25]="copyWithSyntaxHighlighting",P[P.cursorBlinking=26]="cursorBlinking",P[P.cursorSmoothCaretAnimation=27]="cursorSmoothCaretAnimation",P[P.cursorStyle=28]="cursorStyle",P[P.cursorSurroundingLines=29]="cursorSurroundingLines",P[P.cursorSurroundingLinesStyle=30]="cursorSurroundingLinesStyle",P[P.cursorWidth=31]="cursorWidth",P[P.disableLayerHinting=32]="disableLayerHinting",P[P.disableMonospaceOptimizations=33]="disableMonospaceOptimizations",P[P.domReadOnly=34]="domReadOnly",P[P.dragAndDrop=35]="dragAndDrop",P[P.dropIntoEditor=36]="dropIntoEditor",P[P.emptySelectionClipboard=37]="emptySelectionClipboard",P[P.experimentalWhitespaceRendering=38]="experimentalWhitespaceRendering",P[P.extraEditorClassName=39]="extraEditorClassName",P[P.fastScrollSensitivity=40]="fastScrollSensitivity",P[P.find=41]="find",P[P.fixedOverflowWidgets=42]="fixedOverflowWidgets",P[P.folding=43]="folding",P[P.foldingStrategy=44]="foldingStrategy",P[P.foldingHighlight=45]="foldingHighlight",P[P.foldingImportsByDefault=46]="foldingImportsByDefault",P[P.foldingMaximumRegions=47]="foldingMaximumRegions",P[P.unfoldOnClickAfterEndOfLine=48]="unfoldOnClickAfterEndOfLine",P[P.fontFamily=49]="fontFamily",P[P.fontInfo=50]="fontInfo",P[P.fontLigatures=51]="fontLigatures",P[P.fontSize=52]="fontSize",P[P.fontWeight=53]="fontWeight",P[P.fontVariations=54]="fontVariations",P[P.formatOnPaste=55]="formatOnPaste",P[P.formatOnType=56]="formatOnType",P[P.glyphMargin=57]="glyphMargin",P[P.gotoLocation=58]="gotoLocation",P[P.hideCursorInOverviewRuler=59]="hideCursorInOverviewRuler",P[P.hover=60]="hover",P[P.inDiffEditor=61]="inDiffEditor",P[P.inlineSuggest=62]="inlineSuggest",P[P.inlineEdit=63]="inlineEdit",P[P.letterSpacing=64]="letterSpacing",P[P.lightbulb=65]="lightbulb",P[P.lineDecorationsWidth=66]="lineDecorationsWidth",P[P.lineHeight=67]="lineHeight",P[P.lineNumbers=68]="lineNumbers",P[P.lineNumbersMinChars=69]="lineNumbersMinChars",P[P.linkedEditing=70]="linkedEditing",P[P.links=71]="links",P[P.matchBrackets=72]="matchBrackets",P[P.minimap=73]="minimap",P[P.mouseStyle=74]="mouseStyle",P[P.mouseWheelScrollSensitivity=75]="mouseWheelScrollSensitivity",P[P.mouseWheelZoom=76]="mouseWheelZoom",P[P.multiCursorMergeOverlapping=77]="multiCursorMergeOverlapping",P[P.multiCursorModifier=78]="multiCursorModifier",P[P.multiCursorPaste=79]="multiCursorPaste",P[P.multiCursorLimit=80]="multiCursorLimit",P[P.occurrencesHighlight=81]="occurrencesHighlight",P[P.overviewRulerBorder=82]="overviewRulerBorder",P[P.overviewRulerLanes=83]="overviewRulerLanes",P[P.padding=84]="padding",P[P.pasteAs=85]="pasteAs",P[P.parameterHints=86]="parameterHints",P[P.peekWidgetDefaultFocus=87]="peekWidgetDefaultFocus",P[P.definitionLinkOpensInPeek=88]="definitionLinkOpensInPeek",P[P.quickSuggestions=89]="quickSuggestions",P[P.quickSuggestionsDelay=90]="quickSuggestionsDelay",P[P.readOnly=91]="readOnly",P[P.readOnlyMessage=92]="readOnlyMessage",P[P.renameOnType=93]="renameOnType",P[P.renderControlCharacters=94]="renderControlCharacters",P[P.renderFinalNewline=95]="renderFinalNewline",P[P.renderLineHighlight=96]="renderLineHighlight",P[P.renderLineHighlightOnlyWhenFocus=97]="renderLineHighlightOnlyWhenFocus",P[P.renderValidationDecorations=98]="renderValidationDecorations",P[P.renderWhitespace=99]="renderWhitespace",P[P.revealHorizontalRightPadding=100]="revealHorizontalRightPadding",P[P.roundedSelection=101]="roundedSelection",P[P.rulers=102]="rulers",P[P.scrollbar=103]="scrollbar",P[P.scrollBeyondLastColumn=104]="scrollBeyondLastColumn",P[P.scrollBeyondLastLine=105]="scrollBeyondLastLine",P[P.scrollPredominantAxis=106]="scrollPredominantAxis",P[P.selectionClipboard=107]="selectionClipboard",P[P.selectionHighlight=108]="selectionHighlight",P[P.selectOnLineNumbers=109]="selectOnLineNumbers",P[P.showFoldingControls=110]="showFoldingControls",P[P.showUnused=111]="showUnused",P[P.snippetSuggestions=112]="snippetSuggestions",P[P.smartSelect=113]="smartSelect",P[P.smoothScrolling=114]="smoothScrolling",P[P.stickyScroll=115]="stickyScroll",P[P.stickyTabStops=116]="stickyTabStops",P[P.stopRenderingLineAfter=117]="stopRenderingLineAfter",P[P.suggest=118]="suggest",P[P.suggestFontSize=119]="suggestFontSize",P[P.suggestLineHeight=120]="suggestLineHeight",P[P.suggestOnTriggerCharacters=121]="suggestOnTriggerCharacters",P[P.suggestSelection=122]="suggestSelection",P[P.tabCompletion=123]="tabCompletion",P[P.tabIndex=124]="tabIndex",P[P.unicodeHighlighting=125]="unicodeHighlighting",P[P.unusualLineTerminators=126]="unusualLineTerminators",P[P.useShadowDOM=127]="useShadowDOM",P[P.useTabStops=128]="useTabStops",P[P.wordBreak=129]="wordBreak",P[P.wordSegmenterLocales=130]="wordSegmenterLocales",P[P.wordSeparators=131]="wordSeparators",P[P.wordWrap=132]="wordWrap",P[P.wordWrapBreakAfterCharacters=133]="wordWrapBreakAfterCharacters",P[P.wordWrapBreakBeforeCharacters=134]="wordWrapBreakBeforeCharacters",P[P.wordWrapColumn=135]="wordWrapColumn",P[P.wordWrapOverride1=136]="wordWrapOverride1",P[P.wordWrapOverride2=137]="wordWrapOverride2",P[P.wrappingIndent=138]="wrappingIndent",P[P.wrappingStrategy=139]="wrappingStrategy",P[P.showDeprecated=140]="showDeprecated",P[P.inlayHints=141]="inlayHints",P[P.editorClassName=142]="editorClassName",P[P.pixelRatio=143]="pixelRatio",P[P.tabFocusMode=144]="tabFocusMode",P[P.layoutInfo=145]="layoutInfo",P[P.wrappingInfo=146]="wrappingInfo",P[P.defaultColorDecorators=147]="defaultColorDecorators",P[P.colorDecoratorsActivatedOn=148]="colorDecoratorsActivatedOn",P[P.inlineCompletionsAccessibilityVerbose=149]="inlineCompletionsAccessibilityVerbose"})(i||(e.EditorOption=i={}));var t;(function(P){P[P.TextDefined=0]="TextDefined",P[P.LF=1]="LF",P[P.CRLF=2]="CRLF"})(t||(e.EndOfLinePreference=t={}));var n;(function(P){P[P.LF=0]="LF",P[P.CRLF=1]="CRLF"})(n||(e.EndOfLineSequence=n={}));var c;(function(P){P[P.Left=1]="Left",P[P.Center=2]="Center",P[P.Right=3]="Right"})(c||(e.GlyphMarginLane=c={}));var m;(function(P){P[P.Increase=0]="Increase",P[P.Decrease=1]="Decrease"})(m||(e.HoverVerbosityAction=m={}));var u;(function(P){P[P.None=0]="None",P[P.Indent=1]="Indent",P[P.IndentOutdent=2]="IndentOutdent",P[P.Outdent=3]="Outdent"})(u||(e.IndentAction=u={}));var r;(function(P){P[P.Both=0]="Both",P[P.Right=1]="Right",P[P.Left=2]="Left",P[P.None=3]="None"})(r||(e.InjectedTextCursorStops=r={}));var a;(function(P){P[P.Type=1]="Type",P[P.Parameter=2]="Parameter"})(a||(e.InlayHintKind=a={}));var h;(function(P){P[P.Automatic=0]="Automatic",P[P.Explicit=1]="Explicit"})(h||(e.InlineCompletionTriggerKind=h={}));var l;(function(P){P[P.Invoke=0]="Invoke",P[P.Automatic=1]="Automatic"})(l||(e.InlineEditTriggerKind=l={}));var g;(function(P){P[P.DependsOnKbLayout=-1]="DependsOnKbLayout",P[P.Unknown=0]="Unknown",P[P.Backspace=1]="Backspace",P[P.Tab=2]="Tab",P[P.Enter=3]="Enter",P[P.Shift=4]="Shift",P[P.Ctrl=5]="Ctrl",P[P.Alt=6]="Alt",P[P.PauseBreak=7]="PauseBreak",P[P.CapsLock=8]="CapsLock",P[P.Escape=9]="Escape",P[P.Space=10]="Space",P[P.PageUp=11]="PageUp",P[P.PageDown=12]="PageDown",P[P.End=13]="End",P[P.Home=14]="Home",P[P.LeftArrow=15]="LeftArrow",P[P.UpArrow=16]="UpArrow",P[P.RightArrow=17]="RightArrow",P[P.DownArrow=18]="DownArrow",P[P.Insert=19]="Insert",P[P.Delete=20]="Delete",P[P.Digit0=21]="Digit0",P[P.Digit1=22]="Digit1",P[P.Digit2=23]="Digit2",P[P.Digit3=24]="Digit3",P[P.Digit4=25]="Digit4",P[P.Digit5=26]="Digit5",P[P.Digit6=27]="Digit6",P[P.Digit7=28]="Digit7",P[P.Digit8=29]="Digit8",P[P.Digit9=30]="Digit9",P[P.KeyA=31]="KeyA",P[P.KeyB=32]="KeyB",P[P.KeyC=33]="KeyC",P[P.KeyD=34]="KeyD",P[P.KeyE=35]="KeyE",P[P.KeyF=36]="KeyF",P[P.KeyG=37]="KeyG",P[P.KeyH=38]="KeyH",P[P.KeyI=39]="KeyI",P[P.KeyJ=40]="KeyJ",P[P.KeyK=41]="KeyK",P[P.KeyL=42]="KeyL",P[P.KeyM=43]="KeyM",P[P.KeyN=44]="KeyN",P[P.KeyO=45]="KeyO",P[P.KeyP=46]="KeyP",P[P.KeyQ=47]="KeyQ",P[P.KeyR=48]="KeyR",P[P.KeyS=49]="KeyS",P[P.KeyT=50]="KeyT",P[P.KeyU=51]="KeyU",P[P.KeyV=52]="KeyV",P[P.KeyW=53]="KeyW",P[P.KeyX=54]="KeyX",P[P.KeyY=55]="KeyY",P[P.KeyZ=56]="KeyZ",P[P.Meta=57]="Meta",P[P.ContextMenu=58]="ContextMenu",P[P.F1=59]="F1",P[P.F2=60]="F2",P[P.F3=61]="F3",P[P.F4=62]="F4",P[P.F5=63]="F5",P[P.F6=64]="F6",P[P.F7=65]="F7",P[P.F8=66]="F8",P[P.F9=67]="F9",P[P.F10=68]="F10",P[P.F11=69]="F11",P[P.F12=70]="F12",P[P.F13=71]="F13",P[P.F14=72]="F14",P[P.F15=73]="F15",P[P.F16=74]="F16",P[P.F17=75]="F17",P[P.F18=76]="F18",P[P.F19=77]="F19",P[P.F20=78]="F20",P[P.F21=79]="F21",P[P.F22=80]="F22",P[P.F23=81]="F23",P[P.F24=82]="F24",P[P.NumLock=83]="NumLock",P[P.ScrollLock=84]="ScrollLock",P[P.Semicolon=85]="Semicolon",P[P.Equal=86]="Equal",P[P.Comma=87]="Comma",P[P.Minus=88]="Minus",P[P.Period=89]="Period",P[P.Slash=90]="Slash",P[P.Backquote=91]="Backquote",P[P.BracketLeft=92]="BracketLeft",P[P.Backslash=93]="Backslash",P[P.BracketRight=94]="BracketRight",P[P.Quote=95]="Quote",P[P.OEM_8=96]="OEM_8",P[P.IntlBackslash=97]="IntlBackslash",P[P.Numpad0=98]="Numpad0",P[P.Numpad1=99]="Numpad1",P[P.Numpad2=100]="Numpad2",P[P.Numpad3=101]="Numpad3",P[P.Numpad4=102]="Numpad4",P[P.Numpad5=103]="Numpad5",P[P.Numpad6=104]="Numpad6",P[P.Numpad7=105]="Numpad7",P[P.Numpad8=106]="Numpad8",P[P.Numpad9=107]="Numpad9",P[P.NumpadMultiply=108]="NumpadMultiply",P[P.NumpadAdd=109]="NumpadAdd",P[P.NUMPAD_SEPARATOR=110]="NUMPAD_SEPARATOR",P[P.NumpadSubtract=111]="NumpadSubtract",P[P.NumpadDecimal=112]="NumpadDecimal",P[P.NumpadDivide=113]="NumpadDivide",P[P.KEY_IN_COMPOSITION=114]="KEY_IN_COMPOSITION",P[P.ABNT_C1=115]="ABNT_C1",P[P.ABNT_C2=116]="ABNT_C2",P[P.AudioVolumeMute=117]="AudioVolumeMute",P[P.AudioVolumeUp=118]="AudioVolumeUp",P[P.AudioVolumeDown=119]="AudioVolumeDown",P[P.BrowserSearch=120]="BrowserSearch",P[P.BrowserHome=121]="BrowserHome",P[P.BrowserBack=122]="BrowserBack",P[P.BrowserForward=123]="BrowserForward",P[P.MediaTrackNext=124]="MediaTrackNext",P[P.MediaTrackPrevious=125]="MediaTrackPrevious",P[P.MediaStop=126]="MediaStop",P[P.MediaPlayPause=127]="MediaPlayPause",P[P.LaunchMediaPlayer=128]="LaunchMediaPlayer",P[P.LaunchMail=129]="LaunchMail",P[P.LaunchApp2=130]="LaunchApp2",P[P.Clear=131]="Clear",P[P.MAX_VALUE=132]="MAX_VALUE"})(g||(e.KeyCode=g={}));var d;(function(P){P[P.Hint=1]="Hint",P[P.Info=2]="Info",P[P.Warning=4]="Warning",P[P.Error=8]="Error"})(d||(e.MarkerSeverity=d={}));var v;(function(P){P[P.Unnecessary=1]="Unnecessary",P[P.Deprecated=2]="Deprecated"})(v||(e.MarkerTag=v={}));var _;(function(P){P[P.Inline=1]="Inline",P[P.Gutter=2]="Gutter"})(_||(e.MinimapPosition=_={}));var S;(function(P){P[P.Normal=1]="Normal",P[P.Underlined=2]="Underlined"})(S||(e.MinimapSectionHeaderStyle=S={}));var L;(function(P){P[P.UNKNOWN=0]="UNKNOWN",P[P.TEXTAREA=1]="TEXTAREA",P[P.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",P[P.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",P[P.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",P[P.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",P[P.CONTENT_TEXT=6]="CONTENT_TEXT",P[P.CONTENT_EMPTY=7]="CONTENT_EMPTY",P[P.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",P[P.CONTENT_WIDGET=9]="CONTENT_WIDGET",P[P.OVERVIEW_RULER=10]="OVERVIEW_RULER",P[P.SCROLLBAR=11]="SCROLLBAR",P[P.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",P[P.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(L||(e.MouseTargetType=L={}));var I;(function(P){P[P.AIGenerated=1]="AIGenerated"})(I||(e.NewSymbolNameTag=I={}));var T;(function(P){P[P.Invoke=0]="Invoke",P[P.Automatic=1]="Automatic"})(T||(e.NewSymbolNameTriggerKind=T={}));var N;(function(P){P[P.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",P[P.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",P[P.TOP_CENTER=2]="TOP_CENTER"})(N||(e.OverlayWidgetPositionPreference=N={}));var A;(function(P){P[P.Left=1]="Left",P[P.Center=2]="Center",P[P.Right=4]="Right",P[P.Full=7]="Full"})(A||(e.OverviewRulerLane=A={}));var O;(function(P){P[P.Word=0]="Word",P[P.Line=1]="Line",P[P.Suggest=2]="Suggest"})(O||(e.PartialAcceptTriggerKind=O={}));var M;(function(P){P[P.Left=0]="Left",P[P.Right=1]="Right",P[P.None=2]="None",P[P.LeftOfInjectedText=3]="LeftOfInjectedText",P[P.RightOfInjectedText=4]="RightOfInjectedText"})(M||(e.PositionAffinity=M={}));var R;(function(P){P[P.Off=0]="Off",P[P.On=1]="On",P[P.Relative=2]="Relative",P[P.Interval=3]="Interval",P[P.Custom=4]="Custom"})(R||(e.RenderLineNumbersType=R={}));var x;(function(P){P[P.None=0]="None",P[P.Text=1]="Text",P[P.Blocks=2]="Blocks"})(x||(e.RenderMinimap=x={}));var F;(function(P){P[P.Smooth=0]="Smooth",P[P.Immediate=1]="Immediate"})(F||(e.ScrollType=F={}));var W;(function(P){P[P.Auto=1]="Auto",P[P.Hidden=2]="Hidden",P[P.Visible=3]="Visible"})(W||(e.ScrollbarVisibility=W={}));var H;(function(P){P[P.LTR=0]="LTR",P[P.RTL=1]="RTL"})(H||(e.SelectionDirection=H={}));var z;(function(P){P.Off="off",P.OnCode="onCode",P.On="on"})(z||(e.ShowLightbulbIconMode=z={}));var j;(function(P){P[P.Invoke=1]="Invoke",P[P.TriggerCharacter=2]="TriggerCharacter",P[P.ContentChange=3]="ContentChange"})(j||(e.SignatureHelpTriggerKind=j={}));var K;(function(P){P[P.File=0]="File",P[P.Module=1]="Module",P[P.Namespace=2]="Namespace",P[P.Package=3]="Package",P[P.Class=4]="Class",P[P.Method=5]="Method",P[P.Property=6]="Property",P[P.Field=7]="Field",P[P.Constructor=8]="Constructor",P[P.Enum=9]="Enum",P[P.Interface=10]="Interface",P[P.Function=11]="Function",P[P.Variable=12]="Variable",P[P.Constant=13]="Constant",P[P.String=14]="String",P[P.Number=15]="Number",P[P.Boolean=16]="Boolean",P[P.Array=17]="Array",P[P.Object=18]="Object",P[P.Key=19]="Key",P[P.Null=20]="Null",P[P.EnumMember=21]="EnumMember",P[P.Struct=22]="Struct",P[P.Event=23]="Event",P[P.Operator=24]="Operator",P[P.TypeParameter=25]="TypeParameter"})(K||(e.SymbolKind=K={}));var U;(function(P){P[P.Deprecated=1]="Deprecated"})(U||(e.SymbolTag=U={}));var G;(function(P){P[P.Hidden=0]="Hidden",P[P.Blink=1]="Blink",P[P.Smooth=2]="Smooth",P[P.Phase=3]="Phase",P[P.Expand=4]="Expand",P[P.Solid=5]="Solid"})(G||(e.TextEditorCursorBlinkingStyle=G={}));var te;(function(P){P[P.Line=1]="Line",P[P.Block=2]="Block",P[P.Underline=3]="Underline",P[P.LineThin=4]="LineThin",P[P.BlockOutline=5]="BlockOutline",P[P.UnderlineThin=6]="UnderlineThin"})(te||(e.TextEditorCursorStyle=te={}));var ee;(function(P){P[P.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",P[P.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",P[P.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",P[P.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(ee||(e.TrackedRangeStickiness=ee={}));var Y;(function(P){P[P.None=0]="None",P[P.Same=1]="Same",P[P.Indent=2]="Indent",P[P.DeepIndent=3]="DeepIndent"})(Y||(e.WrappingIndent=Y={}))}),define(ie[562],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairWithMinIndentationInfo=e.BracketPairInfo=e.BracketInfo=void 0;class f{constructor(y,p,w,b){this.range=y,this.nestingLevel=p,this.nestingLevelOfEqualBracketType=w,this.isInvalid=b}}e.BracketInfo=f;class k{constructor(y,p,w,b,C,o){this.range=y,this.openingBracketRange=p,this.closingBracketRange=w,this.nestingLevel=b,this.nestingLevelOfEqualBracketType=C,this.bracketPairNode=o}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}e.BracketPairInfo=k;class E extends k{constructor(y,p,w,b,C,o,s){super(y,p,w,b,C,o),this.minVisibleColumnIndentation=s}}e.BracketPairWithMinIndentationInfo=E}),define(ie[563],ne([1,0,7,2,562,194,312,101,311,145,230,13,310]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTree=void 0;class i extends k.Disposable{didLanguageChange(a){return this.brackets.didLanguageChange(a)}constructor(a,h){if(super(),this.textModel=a,this.getLanguageConfiguration=h,this.didChangeEmitter=new f.Emitter,this.denseKeyProvider=new b.DenseKeyProvider,this.brackets=new y.LanguageAgnosticBracketTokens(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,this.queuedTextEditsForInitialAstWithoutTokens=[],this.queuedTextEdits=[],a.tokenization.hasTokens)a.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens);else{const l=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),g=new C.FastTokenizer(this.textModel.getValue(),l);this.initialAstWithoutTokens=(0,w.parseDocument)(g,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const a=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,a||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:a}){const h=a.map(l=>new D.TextEditInfo((0,p.toLength)(l.fromLineNumber-1,0),(0,p.toLength)(l.toLineNumber,0),(0,p.toLength)(l.toLineNumber-l.fromLineNumber+1,0)));this.handleEdits(h,!0),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(a){const h=D.TextEditInfo.fromModelContentChanges(a.changes);this.handleEdits(h,!1)}handleEdits(a,h){const l=(0,s.combineTextEditInfos)(this.queuedTextEdits,a);this.queuedTextEdits=l,this.initialAstWithoutTokens&&!h&&(this.queuedTextEditsForInitialAstWithoutTokens=(0,s.combineTextEditInfos)(this.queuedTextEditsForInitialAstWithoutTokens,a))}flushQueue(){this.queuedTextEdits.length>0&&(this.astWithTokens=this.parseDocumentFromTextBuffer(this.queuedTextEdits,this.astWithTokens,!1),this.queuedTextEdits=[]),this.queuedTextEditsForInitialAstWithoutTokens.length>0&&(this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(this.queuedTextEditsForInitialAstWithoutTokens,this.initialAstWithoutTokens,!1)),this.queuedTextEditsForInitialAstWithoutTokens=[])}parseDocumentFromTextBuffer(a,h,l){const d=h,v=new C.TextBufferTokenizer(this.textModel,this.brackets);return(0,w.parseDocument)(v,a,d,l)}getBracketsInRange(a,h){this.flushQueue();const l=(0,p.toLength)(a.startLineNumber-1,a.startColumn-1),g=(0,p.toLength)(a.endLineNumber-1,a.endColumn-1);return new o.CallbackIterable(d=>{const v=this.initialAstWithoutTokens||this.astWithTokens;c(v,p.lengthZero,v.length,l,g,d,0,0,new Map,h)})}getBracketPairsInRange(a,h){this.flushQueue();const l=(0,p.positionToLength)(a.getStartPosition()),g=(0,p.positionToLength)(a.getEndPosition());return new o.CallbackIterable(d=>{const v=this.initialAstWithoutTokens||this.astWithTokens,_=new m(d,h,this.textModel);u(v,p.lengthZero,v.length,l,g,_,0,new Map)})}getFirstBracketAfter(a){this.flushQueue();const h=this.initialAstWithoutTokens||this.astWithTokens;return n(h,p.lengthZero,h.length,(0,p.positionToLength)(a))}getFirstBracketBefore(a){this.flushQueue();const h=this.initialAstWithoutTokens||this.astWithTokens;return t(h,p.lengthZero,h.length,(0,p.positionToLength)(a))}}e.BracketPairsTree=i;function t(r,a,h,l){if(r.kind===4||r.kind===2){const g=[];for(const d of r.children)h=(0,p.lengthAdd)(a,d.length),g.push({nodeOffsetStart:a,nodeOffsetEnd:h}),a=h;for(let d=g.length-1;d>=0;d--){const{nodeOffsetStart:v,nodeOffsetEnd:_}=g[d];if((0,p.lengthLessThan)(v,l)){const S=t(r.children[d],v,_,l);if(S)return S}}return null}else{if(r.kind===3)return null;if(r.kind===1){const g=(0,p.lengthsToRange)(a,h);return{bracketInfo:r.bracketInfo,range:g}}}return null}function n(r,a,h,l){if(r.kind===4||r.kind===2){for(const g of r.children){if(h=(0,p.lengthAdd)(a,g.length),(0,p.lengthLessThan)(l,h)){const d=n(g,a,h,l);if(d)return d}a=h}return null}else{if(r.kind===3)return null;if(r.kind===1){const g=(0,p.lengthsToRange)(a,h);return{bracketInfo:r.bracketInfo,range:g}}}return null}function c(r,a,h,l,g,d,v,_,S,L,I=!1){if(v>200)return!0;e:for(;;)switch(r.kind){case 4:{const T=r.childrenLength;for(let N=0;N<T;N++){const A=r.getChild(N);if(A){if(h=(0,p.lengthAdd)(a,A.length),(0,p.lengthLessThanEqual)(a,g)&&(0,p.lengthGreaterThanEqual)(h,l)){if((0,p.lengthGreaterThanEqual)(h,g)){r=A;continue e}if(!c(A,a,h,l,g,d,v,0,S,L))return!1}a=h}}return!0}case 2:{const T=!L||!r.closingBracket||r.closingBracket.bracketInfo.closesColorized(r.openingBracket.bracketInfo);let N=0;if(S){let O=S.get(r.openingBracket.text);O===void 0&&(O=0),N=O,T&&(O++,S.set(r.openingBracket.text,O))}const A=r.childrenLength;for(let O=0;O<A;O++){const M=r.getChild(O);if(M){if(h=(0,p.lengthAdd)(a,M.length),(0,p.lengthLessThanEqual)(a,g)&&(0,p.lengthGreaterThanEqual)(h,l)){if((0,p.lengthGreaterThanEqual)(h,g)&&M.kind!==1){r=M,T?(v++,_=N+1):_=N;continue e}if((T||M.kind!==1||!r.closingBracket)&&!c(M,a,h,l,g,d,T?v+1:v,T?N+1:N,S,L,!r.closingBracket))return!1}a=h}}return S?.set(r.openingBracket.text,N),!0}case 3:{const T=(0,p.lengthsToRange)(a,h);return d(new E.BracketInfo(T,v-1,0,!0))}case 1:{const T=(0,p.lengthsToRange)(a,h);return d(new E.BracketInfo(T,v-1,_-1,I))}case 0:return!0}}class m{constructor(a,h,l){this.push=a,this.includeMinIndentation=h,this.textModel=l}}function u(r,a,h,l,g,d,v,_){var S;if(v>200)return!0;let L=!0;if(r.kind===2){let I=0;if(_){let A=_.get(r.openingBracket.text);A===void 0&&(A=0),I=A,A++,_.set(r.openingBracket.text,A)}const T=(0,p.lengthAdd)(a,r.openingBracket.length);let N=-1;if(d.includeMinIndentation&&(N=r.computeMinIndentation(a,d.textModel)),L=d.push(new E.BracketPairWithMinIndentationInfo((0,p.lengthsToRange)(a,h),(0,p.lengthsToRange)(a,T),r.closingBracket?(0,p.lengthsToRange)((0,p.lengthAdd)(T,((S=r.child)===null||S===void 0?void 0:S.length)||p.lengthZero),h):void 0,v,I,r,N)),a=T,L&&r.child){const A=r.child;if(h=(0,p.lengthAdd)(a,A.length),(0,p.lengthLessThanEqual)(a,g)&&(0,p.lengthGreaterThanEqual)(h,l)&&(L=u(A,a,h,l,g,d,v+1,_),!L))return!1}_?.set(r.openingBracket.text,I)}else{let I=a;for(const T of r.children){const N=I;if(I=(0,p.lengthAdd)(I,T.length),(0,p.lengthLessThanEqual)(N,g)&&(0,p.lengthLessThanEqual)(l,I)&&(L=u(T,N,I,l,g,d,v,_),!L))return!1}}return L}}),define(ie[127],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InternalModelContentChangeEvent=e.ModelInjectedTextChangedEvent=e.ModelRawContentChangedEvent=e.ModelRawEOLChanged=e.ModelRawLinesInserted=e.ModelRawLinesDeleted=e.ModelRawLineChanged=e.LineInjectedText=e.ModelRawFlush=void 0;class f{constructor(){this.changeType=1}}e.ModelRawFlush=f;class k{static applyInjectedText(s,i){if(!i||i.length===0)return s;let t="",n=0;for(const c of i)t+=s.substring(n,c.column-1),n=c.column-1,t+=c.options.content;return t+=s.substring(n),t}static fromDecorations(s){const i=[];for(const t of s)t.options.before&&t.options.before.content.length>0&&i.push(new k(t.ownerId,t.range.startLineNumber,t.range.startColumn,t.options.before,0)),t.options.after&&t.options.after.content.length>0&&i.push(new k(t.ownerId,t.range.endLineNumber,t.range.endColumn,t.options.after,1));return i.sort((t,n)=>t.lineNumber===n.lineNumber?t.column===n.column?t.order-n.order:t.column-n.column:t.lineNumber-n.lineNumber),i}constructor(s,i,t,n,c){this.ownerId=s,this.lineNumber=i,this.column=t,this.options=n,this.order=c}}e.LineInjectedText=k;class E{constructor(s,i,t){this.changeType=2,this.lineNumber=s,this.detail=i,this.injectedText=t}}e.ModelRawLineChanged=E;class D{constructor(s,i){this.changeType=3,this.fromLineNumber=s,this.toLineNumber=i}}e.ModelRawLinesDeleted=D;class y{constructor(s,i,t,n){this.changeType=4,this.injectedTexts=n,this.fromLineNumber=s,this.toLineNumber=i,this.detail=t}}e.ModelRawLinesInserted=y;class p{constructor(){this.changeType=5}}e.ModelRawEOLChanged=p;class w{constructor(s,i,t,n){this.changes=s,this.versionId=i,this.isUndoing=t,this.isRedoing=n,this.resultingSelection=null}containsEvent(s){for(let i=0,t=this.changes.length;i<t;i++)if(this.changes[i].changeType===s)return!0;return!1}static merge(s,i){const t=[].concat(s.changes).concat(i.changes),n=i.versionId,c=s.isUndoing||i.isUndoing,m=s.isRedoing||i.isRedoing;return new w(t,n,c,m)}}e.ModelRawContentChangedEvent=w;class b{constructor(s){this.changes=s}}e.ModelInjectedTextChangedEvent=b;class C{constructor(s,i){this.rawContentChangedEvent=s,this.contentChangedEvent=i}merge(s){const i=w.merge(this.rawContentChangedEvent,s.rawContentChangedEvent),t=C._mergeChangeEvents(this.contentChangedEvent,s.contentChangedEvent);return new C(i,t)}static _mergeChangeEvents(s,i){const t=[].concat(s.changes).concat(i.changes),n=i.eol,c=i.versionId,m=s.isUndoing||i.isUndoing,u=s.isRedoing||i.isRedoing,r=s.isFlush||i.isFlush,a=s.isEolChange&&i.isEolChange;return{changes:t,eol:n,isEolChange:a,versionId:c,isUndoing:m,isRedoing:u,isFlush:r}}}e.InternalModelContentChangeEvent=C}),define(ie[233],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuideHorizontalLine=e.IndentGuide=e.HorizontalGuidesState=void 0;var f;(function(D){D[D.Disabled=0]="Disabled",D[D.EnabledForActive=1]="EnabledForActive",D[D.Enabled=2]="Enabled"})(f||(e.HorizontalGuidesState=f={}));class k{constructor(y,p,w,b,C,o){if(this.visibleColumn=y,this.column=p,this.className=w,this.horizontalLine=b,this.forWrappedLinesAfterColumn=C,this.forWrappedLinesBeforeOrAtColumn=o,y!==-1==(p!==-1))throw new Error}}e.IndentGuide=k;class E{constructor(y,p){this.top=y,this.endColumn=p}}e.IndentGuideHorizontalLine=E}),define(ie[319],ne([1,0,67,12,90,5,314,231,233,10]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairGuidesClassNames=e.GuidesTextModelPart=void 0;class C extends y.TextModelPart{constructor(i,t){super(),this.textModel=i,this.languageConfigurationService=t}getLanguageConfiguration(i){return this.languageConfigurationService.getLanguageConfiguration(i)}_computeIndentLevel(i){return(0,p.computeIndentLevel)(this.textModel.getLineContent(i+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(i,t,n){this.assertNotDisposed();const c=this.textModel.getLineCount();if(i<1||i>c)throw new b.BugIndicatingError("Illegal value for lineNumber");const m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(m&&m.offSide);let r=-2,a=-1,h=-2,l=-1;const g=R=>{if(r!==-1&&(r===-2||r>R-1)){r=-1,a=-1;for(let x=R-2;x>=0;x--){const F=this._computeIndentLevel(x);if(F>=0){r=x,a=F;break}}}if(h===-2){h=-1,l=-1;for(let x=R;x<c;x++){const F=this._computeIndentLevel(x);if(F>=0){h=x,l=F;break}}}};let d=-2,v=-1,_=-2,S=-1;const L=R=>{if(d===-2){d=-1,v=-1;for(let x=R-2;x>=0;x--){const F=this._computeIndentLevel(x);if(F>=0){d=x,v=F;break}}}if(_!==-1&&(_===-2||_<R-1)){_=-1,S=-1;for(let x=R;x<c;x++){const F=this._computeIndentLevel(x);if(F>=0){_=x,S=F;break}}}};let I=0,T=!0,N=0,A=!0,O=0,M=0;for(let R=0;T||A;R++){const x=i-R,F=i+R;R>1&&(x<1||x<t)&&(T=!1),R>1&&(F>c||F>n)&&(A=!1),R>5e4&&(T=!1,A=!1);let W=-1;if(T&&x>=1){const z=this._computeIndentLevel(x-1);z>=0?(h=x-1,l=z,W=Math.ceil(z/this.textModel.getOptions().indentSize)):(g(x),W=this._getIndentLevelForWhitespaceLine(u,a,l))}let H=-1;if(A&&F<=c){const z=this._computeIndentLevel(F-1);z>=0?(d=F-1,v=z,H=Math.ceil(z/this.textModel.getOptions().indentSize)):(L(F),H=this._getIndentLevelForWhitespaceLine(u,v,S))}if(R===0){M=W;continue}if(R===1){if(F<=c&&H>=0&&M+1===H){T=!1,I=F,N=F,O=H;continue}if(x>=1&&W>=0&&W-1===M){A=!1,I=x,N=x,O=W;continue}if(I=i,N=i,O=M,O===0)return{startLineNumber:I,endLineNumber:N,indent:O}}T&&(W>=O?I=x:T=!1),A&&(H>=O?N=F:A=!1)}return{startLineNumber:I,endLineNumber:N,indent:O}}getLinesBracketGuides(i,t,n,c){var m;const u=[];for(let d=i;d<=t;d++)u.push([]);const r=!0,a=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new D.Range(i,1,t,this.textModel.getLineMaxColumn(t))).toArray();let h;if(n&&a.length>0){const d=(i<=n.lineNumber&&n.lineNumber<=t?a:this.textModel.bracketPairs.getBracketPairsInRange(D.Range.fromPositions(n)).toArray()).filter(v=>D.Range.strictContainsPosition(v.range,n));h=(m=(0,f.findLast)(d,v=>r||v.range.startLineNumber!==v.range.endLineNumber))===null||m===void 0?void 0:m.range}const l=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,g=new o;for(const d of a){if(!d.closingBracketRange)continue;const v=h&&d.range.equalsRange(h);if(!v&&!c.includeInactive)continue;const _=g.getInlineClassName(d.nestingLevel,d.nestingLevelOfEqualBracketType,l)+(c.highlightActive&&v?" "+g.activeClassName:""),S=d.openingBracketRange.getStartPosition(),L=d.closingBracketRange.getStartPosition(),I=c.horizontalGuides===w.HorizontalGuidesState.Enabled||c.horizontalGuides===w.HorizontalGuidesState.EnabledForActive&&v;if(d.range.startLineNumber===d.range.endLineNumber){r&&I&&u[d.range.startLineNumber-i].push(new w.IndentGuide(-1,d.openingBracketRange.getEndPosition().column,_,new w.IndentGuideHorizontalLine(!1,L.column),-1,-1));continue}const T=this.getVisibleColumnFromPosition(L),N=this.getVisibleColumnFromPosition(d.openingBracketRange.getStartPosition()),A=Math.min(N,T,d.minVisibleColumnIndentation+1);let O=!1;k.firstNonWhitespaceIndex(this.textModel.getLineContent(d.closingBracketRange.startLineNumber))<d.closingBracketRange.startColumn-1&&(O=!0);const x=Math.max(S.lineNumber,i),F=Math.min(L.lineNumber,t),W=O?1:0;for(let H=x;H<F+W;H++)u[H-i].push(new w.IndentGuide(A,-1,_,null,H===S.lineNumber?S.column:-1,H===L.lineNumber?L.column:-1));I&&(S.lineNumber>=i&&N>A&&u[S.lineNumber-i].push(new w.IndentGuide(A,-1,_,new w.IndentGuideHorizontalLine(!1,S.column),-1,-1)),L.lineNumber<=t&&T>A&&u[L.lineNumber-i].push(new w.IndentGuide(A,-1,_,new w.IndentGuideHorizontalLine(!O,L.column),-1,-1)))}for(const d of u)d.sort((v,_)=>v.visibleColumn-_.visibleColumn);return u}getVisibleColumnFromPosition(i){return E.CursorColumns.visibleColumnFromColumn(this.textModel.getLineContent(i.lineNumber),i.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(i,t){this.assertNotDisposed();const n=this.textModel.getLineCount();if(i<1||i>n)throw new Error("Illegal value for startLineNumber");if(t<1||t>n)throw new Error("Illegal value for endLineNumber");const c=this.textModel.getOptions(),m=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,u=!!(m&&m.offSide),r=new Array(t-i+1);let a=-2,h=-1,l=-2,g=-1;for(let d=i;d<=t;d++){const v=d-i,_=this._computeIndentLevel(d-1);if(_>=0){a=d-1,h=_,r[v]=Math.ceil(_/c.indentSize);continue}if(a===-2){a=-1,h=-1;for(let S=d-2;S>=0;S--){const L=this._computeIndentLevel(S);if(L>=0){a=S,h=L;break}}}if(l!==-1&&(l===-2||l<d-1)){l=-1,g=-1;for(let S=d;S<n;S++){const L=this._computeIndentLevel(S);if(L>=0){l=S,g=L;break}}}r[v]=this._getIndentLevelForWhitespaceLine(u,h,g)}return r}_getIndentLevelForWhitespaceLine(i,t,n){const c=this.textModel.getOptions();return t===-1||n===-1?0:t<n?1+Math.floor(t/c.indentSize):t===n||i?Math.ceil(n/c.indentSize):1+Math.floor(n/c.indentSize)}}e.GuidesTextModelPart=C;class o{constructor(){this.activeClassName="indent-active"}getInlineClassName(i,t,n){return this.getInlineClassNameOfLevel(n?t:i)}getInlineClassNameOfLevel(i){return`bracket-indent-guide lvl-${i%30}`}}e.BracketPairGuidesClassNames=o}),define(ie[564],ne([1,0,7,2]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationRegistry=void 0;class E{constructor(){this._tokenizationSupports=new Map,this._factories=new Map,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._colorMap=null}handleChange(p){this._onDidChange.fire({changedLanguages:p,changedColorMap:!1})}register(p,w){return this._tokenizationSupports.set(p,w),this.handleChange([p]),(0,k.toDisposable)(()=>{this._tokenizationSupports.get(p)===w&&(this._tokenizationSupports.delete(p),this.handleChange([p]))})}get(p){return this._tokenizationSupports.get(p)||null}registerFactory(p,w){var b;(b=this._factories.get(p))===null||b===void 0||b.dispose();const C=new D(this,p,w);return this._factories.set(p,C),(0,k.toDisposable)(()=>{const o=this._factories.get(p);!o||o!==C||(this._factories.delete(p),o.dispose())})}async getOrCreate(p){const w=this.get(p);if(w)return w;const b=this._factories.get(p);return!b||b.isResolved?null:(await b.resolve(),this.get(p))}isResolved(p){if(this.get(p))return!0;const b=this._factories.get(p);return!!(!b||b.isResolved)}setColorMap(p){this._colorMap=p,this._onDidChange.fire({changedLanguages:Array.from(this._tokenizationSupports.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}e.TokenizationRegistry=E;class D extends k.Disposable{get isResolved(){return this._isResolved}constructor(p,w,b){super(),this._registry=p,this._languageId=w,this._factory=b,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}dispose(){this._isDisposed=!0,super.dispose()}async resolve(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise}async _create(){const p=await this._factory.tokenizationSupport;this._isResolved=!0,p&&!this._isDisposed&&this._register(this._registry.register(this._languageId,p))}}}),define(ie[565],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokens=void 0;class f{get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}constructor(E,D){this._startLineNumber=E,this._tokens=D}getLineTokens(E){return this._tokens[E-this._startLineNumber]}appendLineTokens(E){this._tokens.push(E)}}e.ContiguousMultilineTokens=f}),define(ie[320],ne([1,0,565]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousMultilineTokensBuilder=void 0;class k{constructor(){this._tokens=[]}add(D,y){if(this._tokens.length>0){const p=this._tokens[this._tokens.length-1];if(p.endLineNumber+1===D){p.appendLineTokens(y);return}}this._tokens.push(new f.ContiguousMultilineTokens(D,[y]))}finalize(){return this._tokens}}e.ContiguousMultilineTokensBuilder=k}),define(ie[102],ne([1,0,143]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineTokens=void 0;class k{static createEmpty(y,p){const w=k.defaultTokenMetadata,b=new Uint32Array(2);return b[0]=y.length,b[1]=w,new k(b,y,p)}constructor(y,p,w){this._lineTokensBrand=void 0,this._tokens=y,this._tokensCount=this._tokens.length>>>1,this._text=p,this._languageIdCodec=w}equals(y){return y instanceof k?this.slicedEquals(y,0,this._tokensCount):!1}slicedEquals(y,p,w){if(this._text!==y._text||this._tokensCount!==y._tokensCount)return!1;const b=p<<1,C=b+(w<<1);for(let o=b;o<C;o++)if(this._tokens[o]!==y._tokens[o])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(y){return y>0?this._tokens[y-1<<1]:0}getMetadata(y){return this._tokens[(y<<1)+1]}getLanguageId(y){const p=this._tokens[(y<<1)+1],w=f.TokenMetadata.getLanguageId(p);return this._languageIdCodec.decodeLanguageId(w)}getStandardTokenType(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getTokenType(p)}getForeground(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getForeground(p)}getClassName(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getClassNameFromMetadata(p)}getInlineStyle(y,p){const w=this._tokens[(y<<1)+1];return f.TokenMetadata.getInlineStyleFromMetadata(w,p)}getPresentation(y){const p=this._tokens[(y<<1)+1];return f.TokenMetadata.getPresentationFromMetadata(p)}getEndOffset(y){return this._tokens[y<<1]}findTokenIndexAtOffset(y){return k.findIndexInTokensArray(this._tokens,y)}inflate(){return this}sliceAndInflate(y,p,w){return new E(this,y,p,w)}static convertToEndOffset(y,p){const b=(y.length>>>1)-1;for(let C=0;C<b;C++)y[C<<1]=y[C+1<<1];y[b<<1]=p}static findIndexInTokensArray(y,p){if(y.length<=2)return 0;let w=0,b=(y.length>>>1)-1;for(;w<b;){const C=w+Math.floor((b-w)/2),o=y[C<<1];if(o===p)return C+1;o<p?w=C+1:o>p&&(b=C)}return w}withInserted(y){if(y.length===0)return this;let p=0,w=0,b="";const C=new Array;let o=0;for(;;){const s=p<this._tokensCount?this._tokens[p<<1]:-1,i=w<y.length?y[w]:null;if(s!==-1&&(i===null||s<=i.offset)){b+=this._text.substring(o,s);const t=this._tokens[(p<<1)+1];C.push(b.length,t),p++,o=s}else if(i){if(i.offset>o){b+=this._text.substring(o,i.offset);const t=this._tokens[(p<<1)+1];C.push(b.length,t),o=i.offset}b+=i.text,C.push(b.length,i.tokenMetadata),w++}else break}return new k(new Uint32Array(C),b,this._languageIdCodec)}}e.LineTokens=k,k.defaultTokenMetadata=(32768|2<<24)>>>0;class E{constructor(y,p,w,b){this._source=y,this._startOffset=p,this._endOffset=w,this._deltaOffset=b,this._firstTokenIndex=y.findTokenIndexAtOffset(p),this._tokensCount=0;for(let C=this._firstTokenIndex,o=y.getCount();C<o&&!(y.getStartOffset(C)>=w);C++)this._tokensCount++}getMetadata(y){return this._source.getMetadata(this._firstTokenIndex+y)}getLanguageId(y){return this._source.getLanguageId(this._firstTokenIndex+y)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(y){return y instanceof E?this._startOffset===y._startOffset&&this._endOffset===y._endOffset&&this._deltaOffset===y._deltaOffset&&this._source.slicedEquals(y._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(y){return this._source.getForeground(this._firstTokenIndex+y)}getEndOffset(y){const p=this._source.getEndOffset(this._firstTokenIndex+y);return Math.min(this._endOffset,p)-this._startOffset+this._deltaOffset}getClassName(y){return this._source.getClassName(this._firstTokenIndex+y)}getInlineStyle(y,p){return this._source.getInlineStyle(this._firstTokenIndex+y,p)}getPresentation(y){return this._source.getPresentation(this._firstTokenIndex+y)}findTokenIndexAtOffset(y){return this._source.findTokenIndexAtOffset(y+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}}),define(ie[566],ne([1,0,102]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensEditing=e.EMPTY_LINE_TOKENS=void 0,e.toUint32Array=E,e.EMPTY_LINE_TOKENS=new Uint32Array(0).buffer;class k{static deleteBeginning(y,p){return y===null||y===e.EMPTY_LINE_TOKENS?y:k.delete(y,0,p)}static deleteEnding(y,p){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const w=E(y),b=w[w.length-2];return k.delete(y,p,b)}static delete(y,p,w){if(y===null||y===e.EMPTY_LINE_TOKENS||p===w)return y;const b=E(y),C=b.length>>>1;if(p===0&&b[b.length-2]===w)return e.EMPTY_LINE_TOKENS;const o=f.LineTokens.findIndexInTokensArray(b,p),s=o>0?b[o-1<<1]:0,i=b[o<<1];if(w<i){const u=w-p;for(let r=o;r<C;r++)b[r<<1]-=u;return y}let t,n;s!==p?(b[o<<1]=p,t=o+1<<1,n=p):(t=o<<1,n=s);const c=w-p;for(let u=o+1;u<C;u++){const r=b[u<<1]-c;r>n&&(b[t++]=r,b[t++]=b[(u<<1)+1],n=r)}if(t===b.length)return y;const m=new Uint32Array(t);return m.set(b.subarray(0,t),0),m.buffer}static append(y,p){if(p===e.EMPTY_LINE_TOKENS)return y;if(y===e.EMPTY_LINE_TOKENS)return p;if(y===null)return y;if(p===null)return null;const w=E(y),b=E(p),C=b.length>>>1,o=new Uint32Array(w.length+b.length);o.set(w,0);let s=w.length;const i=w[w.length-2];for(let t=0;t<C;t++)o[s++]=b[t<<1]+i,o[s++]=b[(t<<1)+1];return o.buffer}static insert(y,p,w){if(y===null||y===e.EMPTY_LINE_TOKENS)return y;const b=E(y),C=b.length>>>1;let o=f.LineTokens.findIndexInTokensArray(b,p);o>0&&b[o-1<<1]===p&&o--;for(let s=o;s<C;s++)b[s<<1]+=w;return y}}e.ContiguousTokensEditing=k;function E(D){return D instanceof Uint32Array?D:new Uint32Array(D)}}),define(ie[567],ne([1,0,13,9,566,102,143]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContiguousTokensStore=void 0;class p{constructor(C){this._lineTokens=[],this._len=0,this._languageIdCodec=C}flush(){this._lineTokens=[],this._len=0}get hasTokens(){return this._lineTokens.length>0}getTokens(C,o,s){let i=null;if(o<this._len&&(i=this._lineTokens[o]),i!==null&&i!==E.EMPTY_LINE_TOKENS)return new D.LineTokens((0,E.toUint32Array)(i),s,this._languageIdCodec);const t=new Uint32Array(2);return t[0]=s.length,t[1]=w(this._languageIdCodec.encodeLanguageId(C)),new D.LineTokens(t,s,this._languageIdCodec)}static _massageTokens(C,o,s){const i=s?(0,E.toUint32Array)(s):null;if(o===0){let t=!1;if(i&&i.length>1&&(t=y.TokenMetadata.getLanguageId(i[1])!==C),!t)return E.EMPTY_LINE_TOKENS}if(!i||i.length===0){const t=new Uint32Array(2);return t[0]=o,t[1]=w(C),t.buffer}return i[i.length-2]=o,i.byteOffset===0&&i.byteLength===i.buffer.byteLength?i.buffer:i}_ensureLine(C){for(;C>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(C,o){o!==0&&(C+o>this._len&&(o=this._len-C),this._lineTokens.splice(C,o),this._len-=o)}_insertLines(C,o){if(o===0)return;const s=[];for(let i=0;i<o;i++)s[i]=null;this._lineTokens=f.arrayInsert(this._lineTokens,C,s),this._len+=o}setTokens(C,o,s,i,t){const n=p._massageTokens(this._languageIdCodec.encodeLanguageId(C),s,i);this._ensureLine(o);const c=this._lineTokens[o];return this._lineTokens[o]=n,t?!p._equals(c,n):!1}static _equals(C,o){if(!C||!o)return!C&&!o;const s=(0,E.toUint32Array)(C),i=(0,E.toUint32Array)(o);if(s.length!==i.length)return!1;for(let t=0,n=s.length;t<n;t++)if(s[t]!==i[t])return!1;return!0}acceptEdit(C,o,s){this._acceptDeleteRange(C),this._acceptInsertText(new k.Position(C.startLineNumber,C.startColumn),o,s)}_acceptDeleteRange(C){const o=C.startLineNumber-1;if(o>=this._len)return;if(C.startLineNumber===C.endLineNumber){if(C.startColumn===C.endColumn)return;this._lineTokens[o]=E.ContiguousTokensEditing.delete(this._lineTokens[o],C.startColumn-1,C.endColumn-1);return}this._lineTokens[o]=E.ContiguousTokensEditing.deleteEnding(this._lineTokens[o],C.startColumn-1);const s=C.endLineNumber-1;let i=null;s<this._len&&(i=E.ContiguousTokensEditing.deleteBeginning(this._lineTokens[s],C.endColumn-1)),this._lineTokens[o]=E.ContiguousTokensEditing.append(this._lineTokens[o],i),this._deleteLines(C.startLineNumber,C.endLineNumber-C.startLineNumber)}_acceptInsertText(C,o,s){if(o===0&&s===0)return;const i=C.lineNumber-1;if(!(i>=this._len)){if(o===0){this._lineTokens[i]=E.ContiguousTokensEditing.insert(this._lineTokens[i],C.column-1,s);return}this._lineTokens[i]=E.ContiguousTokensEditing.deleteEnding(this._lineTokens[i],C.column-1),this._lineTokens[i]=E.ContiguousTokensEditing.insert(this._lineTokens[i],C.column-1,s),this._insertLines(C.lineNumber,o)}}setMultilineTokens(C,o){if(C.length===0)return{changes:[]};const s=[];for(let i=0,t=C.length;i<t;i++){const n=C[i];let c=0,m=0,u=!1;for(let r=n.startLineNumber;r<=n.endLineNumber;r++)u?(this.setTokens(o.getLanguageId(),r-1,o.getLineLength(r),n.getLineTokens(r),!1),m=r):this.setTokens(o.getLanguageId(),r-1,o.getLineLength(r),n.getLineTokens(r),!0)&&(u=!0,c=r,m=r);u&&s.push({fromLineNumber:c,toLineNumber:m})}return{changes:s}}}e.ContiguousTokensStore=p;function w(b){return(b<<0|0|0|32768|2<<24|1024)>>>0}}),define(ie[568],ne([1,0,9,5,140]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseLineTokens=e.SparseMultilineTokens=void 0;class D{static create(b,C){return new D(b,new y(C))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}constructor(b,C){this._startLineNumber=b,this._tokens=C,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(b){return this._startLineNumber<=b&&b<=this._endLineNumber?this._tokens.getLineTokens(b-this._startLineNumber):null}getRange(){const b=this._tokens.getRange();return b&&new k.Range(this._startLineNumber+b.startLineNumber,b.startColumn,this._startLineNumber+b.endLineNumber,b.endColumn)}removeTokens(b){const C=b.startLineNumber-this._startLineNumber,o=b.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(C,b.startColumn-1,o,b.endColumn-1),this._updateEndLineNumber()}split(b){const C=b.startLineNumber-this._startLineNumber,o=b.endLineNumber-this._startLineNumber,[s,i,t]=this._tokens.split(C,b.startColumn-1,o,b.endColumn-1);return[new D(this._startLineNumber,s),new D(this._startLineNumber+t,i)]}applyEdit(b,C){const[o,s,i]=(0,E.countEOL)(C);this.acceptEdit(b,o,s,i,C.length>0?C.charCodeAt(0):0)}acceptEdit(b,C,o,s,i){this._acceptDeleteRange(b),this._acceptInsertText(new f.Position(b.startLineNumber,b.startColumn),C,o,s,i),this._updateEndLineNumber()}_acceptDeleteRange(b){if(b.startLineNumber===b.endLineNumber&&b.startColumn===b.endColumn)return;const C=b.startLineNumber-this._startLineNumber,o=b.endLineNumber-this._startLineNumber;if(o<0){const i=o-C;this._startLineNumber-=i;return}const s=this._tokens.getMaxDeltaLine();if(!(C>=s+1)){if(C<0&&o>=s+1){this._startLineNumber=0,this._tokens.clear();return}if(C<0){const i=-C;this._startLineNumber-=i,this._tokens.acceptDeleteRange(b.startColumn-1,0,0,o,b.endColumn-1)}else this._tokens.acceptDeleteRange(0,C,b.startColumn-1,o,b.endColumn-1)}}_acceptInsertText(b,C,o,s,i){if(C===0&&o===0)return;const t=b.lineNumber-this._startLineNumber;if(t<0){this._startLineNumber+=C;return}const n=this._tokens.getMaxDeltaLine();t>=n+1||this._tokens.acceptInsertText(t,b.column-1,C,o,s,i)}}e.SparseMultilineTokens=D;class y{constructor(b){this._tokens=b,this._tokenCount=b.length/4}toString(b){const C=[];for(let o=0;o<this._tokenCount;o++)C.push(`(${this._getDeltaLine(o)+b},${this._getStartCharacter(o)}-${this._getEndCharacter(o)})`);return`[${C.join(",")}]`}getMaxDeltaLine(){const b=this._getTokenCount();return b===0?-1:this._getDeltaLine(b-1)}getRange(){const b=this._getTokenCount();if(b===0)return null;const C=this._getStartCharacter(0),o=this._getDeltaLine(b-1),s=this._getEndCharacter(b-1);return new k.Range(0,C+1,o,s+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(b){return this._tokens[4*b]}_getStartCharacter(b){return this._tokens[4*b+1]}_getEndCharacter(b){return this._tokens[4*b+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(b){let C=0,o=this._getTokenCount()-1;for(;C<o;){const s=C+Math.floor((o-C)/2),i=this._getDeltaLine(s);if(i<b)C=s+1;else if(i>b)o=s-1;else{let t=s;for(;t>C&&this._getDeltaLine(t-1)===b;)t--;let n=s;for(;n<o&&this._getDeltaLine(n+1)===b;)n++;return new p(this._tokens.subarray(4*t,4*n+4))}}return this._getDeltaLine(C)===b?new p(this._tokens.subarray(4*C,4*C+4)):null}clear(){this._tokenCount=0}removeTokens(b,C,o,s){const i=this._tokens,t=this._tokenCount;let n=0,c=!1,m=0;for(let u=0;u<t;u++){const r=4*u,a=i[r],h=i[r+1],l=i[r+2],g=i[r+3];if((a>b||a===b&&l>=C)&&(a<o||a===o&&h<=s))c=!0;else{if(n===0&&(m=a),c){const d=4*n;i[d]=a-m,i[d+1]=h,i[d+2]=l,i[d+3]=g}n++}}return this._tokenCount=n,m}split(b,C,o,s){const i=this._tokens,t=this._tokenCount,n=[],c=[];let m=n,u=0,r=0;for(let a=0;a<t;a++){const h=4*a,l=i[h],g=i[h+1],d=i[h+2],v=i[h+3];if(l>b||l===b&&d>=C){if(l<o||l===o&&g<=s)continue;m!==c&&(m=c,u=0,r=l)}m[u++]=l-r,m[u++]=g,m[u++]=d,m[u++]=v}return[new y(new Uint32Array(n)),new y(new Uint32Array(c)),r]}acceptDeleteRange(b,C,o,s,i){const t=this._tokens,n=this._tokenCount,c=s-C;let m=0,u=!1;for(let r=0;r<n;r++){const a=4*r;let h=t[a],l=t[a+1],g=t[a+2];const d=t[a+3];if(h<C||h===C&&g<=o){m++;continue}else if(h===C&&l<o)h===s&&g>i?g-=i-o:g=o;else if(h===C&&l===o)if(h===s&&g>i)g-=i-o;else{u=!0;continue}else if(h<s||h===s&&l<i)if(h===s&&g>i)h=C,l=o,g=l+(g-i);else{u=!0;continue}else if(h>s){if(c===0&&!u){m=n;break}h-=c}else if(h===s&&l>=i)b&&h===0&&(l+=b,g+=b),h-=c,l-=i-o,g-=i-o;else throw new Error("Not possible!");const v=4*m;t[v]=h,t[v+1]=l,t[v+2]=g,t[v+3]=d,m++}this._tokenCount=m}acceptInsertText(b,C,o,s,i,t){const n=o===0&&s===1&&(t>=48&&t<=57||t>=65&&t<=90||t>=97&&t<=122),c=this._tokens,m=this._tokenCount;for(let u=0;u<m;u++){const r=4*u;let a=c[r],h=c[r+1],l=c[r+2];if(!(a<b||a===b&&l<C)){if(a===b&&l===C)if(n)l+=1;else continue;else if(a===b&&h<C&&C<l)o===0?l+=s:l=C;else{if(a===b&&h===C&&n)continue;if(a===b)if(a+=o,o===0)h+=s,l+=s;else{const g=l-h;h=i+(h-C),l=h+g}else a+=o}c[r]=a,c[r+1]=h,c[r+2]=l}}}}class p{constructor(b){this._tokens=b}getCount(){return this._tokens.length/4}getStartCharacter(b){return this._tokens[4*b+1]}getEndCharacter(b){return this._tokens[4*b+2]}getMetadata(b){return this._tokens[4*b+3]}}e.SparseLineTokens=p}),define(ie[569],ne([1,0,13,102]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SparseTokensStore=void 0;class E{constructor(y){this._pieces=[],this._isComplete=!1,this._languageIdCodec=y}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(y,p){this._pieces=y||[],this._isComplete=p}setPartial(y,p){let w=y;if(p.length>0){const C=p[0].getRange(),o=p[p.length-1].getRange();if(!C||!o)return y;w=y.plusRange(C).plusRange(o)}let b=null;for(let C=0,o=this._pieces.length;C<o;C++){const s=this._pieces[C];if(s.endLineNumber<w.startLineNumber)continue;if(s.startLineNumber>w.endLineNumber){b=b||{index:C};break}if(s.removeTokens(w),s.isEmpty()){this._pieces.splice(C,1),C--,o--;continue}if(s.endLineNumber<w.startLineNumber)continue;if(s.startLineNumber>w.endLineNumber){b=b||{index:C};continue}const[i,t]=s.split(w);if(i.isEmpty()){b=b||{index:C};continue}t.isEmpty()||(this._pieces.splice(C,1,i,t),C++,o++,b=b||{index:C})}return b=b||{index:this._pieces.length},p.length>0&&(this._pieces=f.arrayInsert(this._pieces,b.index,p)),w}isComplete(){return this._isComplete}addSparseTokens(y,p){if(p.getLineContent().length===0)return p;const w=this._pieces;if(w.length===0)return p;const b=E._findFirstPieceWithLine(w,y),C=w[b].getLineTokens(y);if(!C)return p;const o=p.getCount(),s=C.getCount();let i=0;const t=[];let n=0,c=0;const m=(u,r)=>{u!==c&&(c=u,t[n++]=u,t[n++]=r)};for(let u=0;u<s;u++){const r=C.getStartCharacter(u),a=C.getEndCharacter(u),h=C.getMetadata(u),l=((h&1?2048:0)|(h&2?4096:0)|(h&4?8192:0)|(h&8?16384:0)|(h&16?16744448:0)|(h&32?4278190080:0))>>>0,g=~l>>>0;for(;i<o&&p.getEndOffset(i)<=r;)m(p.getEndOffset(i),p.getMetadata(i)),i++;for(i<o&&p.getStartOffset(i)<r&&m(r,p.getMetadata(i));i<o&&p.getEndOffset(i)<a;)m(p.getEndOffset(i),p.getMetadata(i)&g|h&l),i++;if(i<o)m(a,p.getMetadata(i)&g|h&l),p.getEndOffset(i)===a&&i++;else{const d=Math.min(Math.max(0,i-1),o-1);m(a,p.getMetadata(d)&g|h&l)}}for(;i<o;)m(p.getEndOffset(i),p.getMetadata(i)),i++;return new k.LineTokens(new Uint32Array(t),p.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(y,p){let w=0,b=y.length-1;for(;w<b;){let C=w+Math.floor((b-w)/2);if(y[C].endLineNumber<p)w=C+1;else if(y[C].startLineNumber>p)b=C-1;else{for(;C>w&&y[C-1].startLineNumber<=p&&p<=y[C-1].endLineNumber;)C--;return C}}return w}acceptEdit(y,p,w,b,C){for(const o of this._pieces)o.acceptEdit(y,p,w,b,C)}}e.SparseTokensStore=E}),define(ie[165],ne([1,0,2]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewEventHandler=void 0;class k extends f.Disposable{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(D){return!1}onCompositionEnd(D){return!1}onConfigurationChanged(D){return!1}onCursorStateChanged(D){return!1}onDecorationsChanged(D){return!1}onFlushed(D){return!1}onFocusChanged(D){return!1}onLanguageConfigurationChanged(D){return!1}onLineMappingChanged(D){return!1}onLinesChanged(D){return!1}onLinesDeleted(D){return!1}onLinesInserted(D){return!1}onRevealRangeRequest(D){return!1}onScrollChanged(D){return!1}onThemeChanged(D){return!1}onTokensChanged(D){return!1}onTokensColorsChanged(D){return!1}onZonesChanged(D){return!1}handleEvents(D){let y=!1;for(let p=0,w=D.length;p<w;p++){const b=D[p];switch(b.type){case 0:this.onCompositionStart(b)&&(y=!0);break;case 1:this.onCompositionEnd(b)&&(y=!0);break;case 2:this.onConfigurationChanged(b)&&(y=!0);break;case 3:this.onCursorStateChanged(b)&&(y=!0);break;case 4:this.onDecorationsChanged(b)&&(y=!0);break;case 5:this.onFlushed(b)&&(y=!0);break;case 6:this.onFocusChanged(b)&&(y=!0);break;case 7:this.onLanguageConfigurationChanged(b)&&(y=!0);break;case 8:this.onLineMappingChanged(b)&&(y=!0);break;case 9:this.onLinesChanged(b)&&(y=!0);break;case 10:this.onLinesDeleted(b)&&(y=!0);break;case 11:this.onLinesInserted(b)&&(y=!0);break;case 12:this.onRevealRangeRequest(b)&&(y=!0);break;case 13:this.onScrollChanged(b)&&(y=!0);break;case 15:this.onTokensChanged(b)&&(y=!0);break;case 14:this.onThemeChanged(b)&&(y=!0);break;case 16:this.onTokensColorsChanged(b)&&(y=!0);break;case 17:this.onZonesChanged(b)&&(y=!0);break;default:console.info("View received unknown event: "),console.info(b)}}y&&(this._shouldRender=!0)}}e.ViewEventHandler=k}),define(ie[128],ne([1,0,165]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicViewOverlay=void 0;class k extends f.ViewEventHandler{}e.DynamicViewOverlay=k}),define(ie[56],ne([1,0,165]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PartFingerprints=e.ViewPart=void 0;class k extends f.ViewEventHandler{constructor(y){super(),this._context=y,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}e.ViewPart=k;class E{static write(y,p){y.setAttribute("data-mprt",String(p))}static read(y){const p=y.getAttribute("data-mprt");return p===null?0:parseInt(p,10)}static collect(y,p){const w=[];let b=0;for(;y&&y!==y.ownerDocument.body&&y!==p;)y.nodeType===y.ELEMENT_NODE&&(w[b++]=this.read(y)),y=y.parentElement;const C=new Uint8Array(b);for(let o=0;o<b;o++)C[o]=w[b-o-1];return C}}e.PartFingerprints=E}),define(ie[570],ne([1,0,40,56,460]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockDecorations=void 0;class E extends k.ViewPart{constructor(y){super(y),this.blocks=[],this.contentWidth=-1,this.contentLeft=0,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let y=!1;const w=this._context.configuration.options.get(145),b=w.contentWidth-w.verticalScrollbarWidth;this.contentWidth!==b&&(this.contentWidth=b,y=!0);const C=w.contentLeft;return this.contentLeft!==C&&(this.contentLeft=C,y=!0),y}dispose(){super.dispose()}onConfigurationChanged(y){return this.update()}onScrollChanged(y){return y.scrollTopChanged||y.scrollLeftChanged}onDecorationsChanged(y){return!0}onZonesChanged(y){return!0}prepareRender(y){}render(y){var p;let w=0;const b=y.getDecorationsInViewport();for(const C of b){if(!C.options.blockClassName)continue;let o=this.blocks[w];o||(o=this.blocks[w]=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.appendChild(o));let s,i;C.options.blockIsAfterEnd?(s=y.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!1),i=y.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0)):(s=y.getVerticalOffsetForLineNumber(C.range.startLineNumber,!0),i=C.range.isEmpty()&&!C.options.blockDoesNotCollapse?y.getVerticalOffsetForLineNumber(C.range.startLineNumber,!1):y.getVerticalOffsetAfterLineNumber(C.range.endLineNumber,!0));const[t,n,c,m]=(p=C.options.blockPadding)!==null&&p!==void 0?p:[0,0,0,0];o.setClassName("blockDecorations-block "+C.options.blockClassName),o.setLeft(this.contentLeft-m),o.setWidth(this.contentWidth+m+n),o.setTop(s-y.scrollTop-t),o.setHeight(i-s+t+c),w++}for(let C=w;C<this.blocks.length;C++)this.blocks[C].domNode.remove();this.blocks.length=w}}e.BlockDecorations=E}),define(ie[571],ne([1,0,128,159,5,462]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverlay=void 0;class D extends f.DynamicViewOverlay{constructor(p){super(),this._context=p;const w=this._context.configuration.options;this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return this._typicalHalfwidthCharacterWidth=w.get(50).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(p){return!0}onFlushed(p){return!0}onLinesChanged(p){return!0}onLinesDeleted(p){return!0}onLinesInserted(p){return!0}onScrollChanged(p){return p.scrollTopChanged||p.scrollWidthChanged}onZonesChanged(p){return!0}prepareRender(p){const w=p.getDecorationsInViewport();let b=[],C=0;for(let t=0,n=w.length;t<n;t++){const c=w[t];c.options.className&&(b[C++]=c)}b=b.sort((t,n)=>{if(t.options.zIndex<n.options.zIndex)return-1;if(t.options.zIndex>n.options.zIndex)return 1;const c=t.options.className,m=n.options.className;return c<m?-1:c>m?1:E.Range.compareRangesUsingStarts(t.range,n.range)});const o=p.visibleRange.startLineNumber,s=p.visibleRange.endLineNumber,i=[];for(let t=o;t<=s;t++){const n=t-o;i[n]=""}this._renderWholeLineDecorations(p,b,i),this._renderNormalDecorations(p,b,i),this._renderResult=i}_renderWholeLineDecorations(p,w,b){const C=p.visibleRange.startLineNumber,o=p.visibleRange.endLineNumber;for(let s=0,i=w.length;s<i;s++){const t=w[s];if(!t.options.isWholeLine)continue;const n='<div class="cdr '+t.options.className+'" style="left:0;width:100%;"></div>',c=Math.max(t.range.startLineNumber,C),m=Math.min(t.range.endLineNumber,o);for(let u=c;u<=m;u++){const r=u-C;b[r]+=n}}}_renderNormalDecorations(p,w,b){var C;const o=p.visibleRange.startLineNumber;let s=null,i=!1,t=null,n=!1;for(let c=0,m=w.length;c<m;c++){const u=w[c];if(u.options.isWholeLine)continue;const r=u.options.className,a=!!u.options.showIfCollapsed;let h=u.range;if(a&&h.endColumn===1&&h.endLineNumber!==h.startLineNumber&&(h=new E.Range(h.startLineNumber,h.startColumn,h.endLineNumber-1,this._context.viewModel.getLineMaxColumn(h.endLineNumber-1))),s===r&&i===a&&E.Range.areIntersectingOrTouching(t,h)){t=E.Range.plusRange(t,h);continue}s!==null&&this._renderNormalDecoration(p,t,s,n,i,o,b),s=r,i=a,t=h,n=(C=u.options.shouldFillLineOnLineBreak)!==null&&C!==void 0?C:!1}s!==null&&this._renderNormalDecoration(p,t,s,n,i,o,b)}_renderNormalDecoration(p,w,b,C,o,s,i){const t=p.linesVisibleRangesForRange(w,b==="findMatch");if(t)for(let n=0,c=t.length;n<c;n++){const m=t[n];if(m.outsideRenderedLine)continue;const u=m.lineNumber-s;if(o&&m.ranges.length===1){const r=m.ranges[0];if(r.width<this._typicalHalfwidthCharacterWidth){const a=Math.round(r.left+r.width/2),h=Math.max(0,Math.round(a-this._typicalHalfwidthCharacterWidth/2));m.ranges[0]=new k.HorizontalRange(h,this._typicalHalfwidthCharacterWidth)}}for(let r=0,a=m.ranges.length;r<a;r++){const h=C&&m.continuesOnNextLine&&a===1,l=m.ranges[r],g='<div class="cdr '+b+'" style="left:'+String(l.left)+"px;width:"+(h?"100%;":String(l.width)+"px;")+'"></div>';i[u]+=g}}}render(p,w){if(!this._renderResult)return"";const b=w-p;return b<0||b>=this._renderResult.length?"":this._renderResult[b]}}e.DecorationsOverlay=D}),define(ie[234],ne([1,0,40,13,128,56,9,5,42,463]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginWidgets=e.DedupOverlay=e.VisibleLineDecorationsToRender=e.LineDecorationToRender=e.DecorationToRender=void 0;class b{constructor(u,r,a,h,l){this.startLineNumber=u,this.endLineNumber=r,this.className=a,this.tooltip=h,this._decorationToRenderBrand=void 0,this.zIndex=l??0}}e.DecorationToRender=b;class C{constructor(u,r,a){this.className=u,this.zIndex=r,this.tooltip=a}}e.LineDecorationToRender=C;class o{constructor(){this.decorations=[]}add(u){this.decorations.push(u)}getDecorations(){return this.decorations}}e.VisibleLineDecorationsToRender=o;class s extends E.DynamicViewOverlay{_render(u,r,a){const h=[];for(let d=u;d<=r;d++){const v=d-u;h[v]=new o}if(a.length===0)return h;a.sort((d,v)=>d.className===v.className?d.startLineNumber===v.startLineNumber?d.endLineNumber-v.endLineNumber:d.startLineNumber-v.startLineNumber:d.className<v.className?-1:1);let l=null,g=0;for(let d=0,v=a.length;d<v;d++){const _=a[d],S=_.className,L=_.zIndex;let I=Math.max(_.startLineNumber,u)-u;const T=Math.min(_.endLineNumber,r)-u;l===S?(I=Math.max(g+1,I),g=Math.max(g,T)):(l=S,g=T);for(let N=I;N<=g;N++)h[N].add(new C(S,L,_.tooltip))}return h}}e.DedupOverlay=s;class i extends D.ViewPart{constructor(u){super(u),this._widgets={},this._context=u;const r=this._context.configuration.options,a=r.get(145);this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("glyph-margin-widgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this._lineHeight=r.get(67),this._glyphMargin=r.get(57),this._glyphMarginLeft=a.glyphMarginLeft,this._glyphMarginWidth=a.glyphMarginWidth,this._glyphMarginDecorationLaneCount=a.glyphMarginDecorationLaneCount,this._managedDomNodes=[],this._decorationGlyphsToRender=[]}dispose(){this._managedDomNodes=[],this._decorationGlyphsToRender=[],this._widgets={},super.dispose()}getWidgets(){return Object.values(this._widgets)}onConfigurationChanged(u){const r=this._context.configuration.options,a=r.get(145);return this._lineHeight=r.get(67),this._glyphMargin=r.get(57),this._glyphMarginLeft=a.glyphMarginLeft,this._glyphMarginWidth=a.glyphMarginWidth,this._glyphMarginDecorationLaneCount=a.glyphMarginDecorationLaneCount,!0}onDecorationsChanged(u){return!0}onFlushed(u){return!0}onLinesChanged(u){return!0}onLinesDeleted(u){return!0}onLinesInserted(u){return!0}onScrollChanged(u){return u.scrollTopChanged}onZonesChanged(u){return!0}addWidget(u){const r=(0,f.createFastDomNode)(u.getDomNode());this._widgets[u.getId()]={widget:u,preference:u.getPosition(),domNode:r,renderInfo:null},r.setPosition("absolute"),r.setDisplay("none"),r.setAttribute("widgetId",u.getId()),this.domNode.appendChild(r),this.setShouldRender()}setWidgetPosition(u,r){const a=this._widgets[u.getId()];return a.preference.lane===r.lane&&a.preference.zIndex===r.zIndex&&p.Range.equalsRange(a.preference.range,r.range)?!1:(a.preference=r,this.setShouldRender(),!0)}removeWidget(u){var r;const a=u.getId();if(this._widgets[a]){const l=this._widgets[a].domNode.domNode;delete this._widgets[a],(r=l.parentNode)===null||r===void 0||r.removeChild(l),this.setShouldRender()}}_collectDecorationBasedGlyphRenderRequest(u,r){var a,h,l;const g=u.visibleRange.startLineNumber,d=u.visibleRange.endLineNumber,v=u.getDecorationsInViewport();for(const _ of v){const S=_.options.glyphMarginClassName;if(!S)continue;const L=Math.max(_.range.startLineNumber,g),I=Math.min(_.range.endLineNumber,d),T=(h=(a=_.options.glyphMargin)===null||a===void 0?void 0:a.position)!==null&&h!==void 0?h:w.GlyphMarginLane.Center,N=(l=_.options.zIndex)!==null&&l!==void 0?l:0;for(let A=L;A<=I;A++){const O=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(A,0)),M=this._context.viewModel.glyphLanes.getLanesAtLine(O.lineNumber).indexOf(T);r.push(new t(A,M,N,S))}}}_collectWidgetBasedGlyphRenderRequest(u,r){const a=u.visibleRange.startLineNumber,h=u.visibleRange.endLineNumber;for(const l of Object.values(this._widgets)){const g=l.preference.range,{startLineNumber:d,endLineNumber:v}=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(p.Range.lift(g));if(!d||!v||v<a||d>h)continue;const _=Math.max(d,a),S=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new y.Position(_,0)),L=this._context.viewModel.glyphLanes.getLanesAtLine(S.lineNumber).indexOf(l.preference.lane);r.push(new n(_,L,l.preference.zIndex,l))}}_collectSortedGlyphRenderRequests(u){const r=[];return this._collectDecorationBasedGlyphRenderRequest(u,r),this._collectWidgetBasedGlyphRenderRequest(u,r),r.sort((a,h)=>a.lineNumber===h.lineNumber?a.laneIndex===h.laneIndex?a.zIndex===h.zIndex?h.type===a.type?a.type===0&&h.type===0?a.className<h.className?-1:1:0:h.type-a.type:h.zIndex-a.zIndex:a.laneIndex-h.laneIndex:a.lineNumber-h.lineNumber),r}prepareRender(u){if(!this._glyphMargin){this._decorationGlyphsToRender=[];return}for(const h of Object.values(this._widgets))h.renderInfo=null;const r=new k.ArrayQueue(this._collectSortedGlyphRenderRequests(u)),a=[];for(;r.length>0;){const h=r.peek();if(!h)break;const l=r.takeWhile(d=>d.lineNumber===h.lineNumber&&d.laneIndex===h.laneIndex);if(!l||l.length===0)break;const g=l[0];if(g.type===0){const d=[];for(const v of l){if(v.zIndex!==g.zIndex||v.type!==g.type)break;(d.length===0||d[d.length-1]!==v.className)&&d.push(v.className)}a.push(g.accept(d.join(" ")))}else g.widget.renderInfo={lineNumber:g.lineNumber,laneIndex:g.laneIndex}}this._decorationGlyphsToRender=a}render(u){if(!this._glyphMargin){for(const a of Object.values(this._widgets))a.domNode.setDisplay("none");for(;this._managedDomNodes.length>0;){const a=this._managedDomNodes.pop();a?.domNode.remove()}return}const r=Math.round(this._glyphMarginWidth/this._glyphMarginDecorationLaneCount);for(const a of Object.values(this._widgets))if(!a.renderInfo)a.domNode.setDisplay("none");else{const h=u.viewportData.relativeVerticalOffset[a.renderInfo.lineNumber-u.viewportData.startLineNumber],l=this._glyphMarginLeft+a.renderInfo.laneIndex*this._lineHeight;a.domNode.setDisplay("block"),a.domNode.setTop(h),a.domNode.setLeft(l),a.domNode.setWidth(r),a.domNode.setHeight(this._lineHeight)}for(let a=0;a<this._decorationGlyphsToRender.length;a++){const h=this._decorationGlyphsToRender[a],l=u.viewportData.relativeVerticalOffset[h.lineNumber-u.viewportData.startLineNumber],g=this._glyphMarginLeft+h.laneIndex*this._lineHeight;let d;a<this._managedDomNodes.length?d=this._managedDomNodes[a]:(d=(0,f.createFastDomNode)(document.createElement("div")),this._managedDomNodes.push(d),this.domNode.appendChild(d)),d.setClassName("cgmr codicon "+h.combinedClassName),d.setPosition("absolute"),d.setTop(l),d.setLeft(g),d.setWidth(r),d.setHeight(this._lineHeight)}for(;this._managedDomNodes.length>this._decorationGlyphsToRender.length;){const a=this._managedDomNodes.pop();a?.domNode.remove()}}}e.GlyphMarginWidgets=i;class t{constructor(u,r,a,h){this.lineNumber=u,this.laneIndex=r,this.zIndex=a,this.className=h,this.type=0}accept(u){return new c(this.lineNumber,this.laneIndex,u)}}class n{constructor(u,r,a,h){this.lineNumber=u,this.laneIndex=r,this.zIndex=a,this.widget=h,this.type=1}}class c{constructor(u,r,a){this.lineNumber=u,this.laneIndex=r,this.combinedClassName=a}}}),define(ie[572],ne([1,0,234,467]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(D){super(),this._context=D;const p=this._context.configuration.options.get(145);this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){const p=this._context.configuration.options.get(145);return this._decorationsLeft=p.decorationsLeft,this._decorationsWidth=p.decorationsWidth,!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){var y,p;const w=D.getDecorationsInViewport(),b=[];let C=0;for(let o=0,s=w.length;o<s;o++){const i=w[o],t=i.options.linesDecorationsClassName,n=i.options.zIndex;t&&(b[C++]=new f.DecorationToRender(i.range.startLineNumber,i.range.endLineNumber,t,(y=i.options.linesDecorationsTooltip)!==null&&y!==void 0?y:null,n));const c=i.options.firstLineDecorationClassName;c&&(b[C++]=new f.DecorationToRender(i.range.startLineNumber,i.range.startLineNumber,c,(p=i.options.linesDecorationsTooltip)!==null&&p!==void 0?p:null,n))}return b}prepareRender(D){const y=D.visibleRange.startLineNumber,p=D.visibleRange.endLineNumber,w=this._render(y,p,this._getDecorations(D)),b=this._decorationsLeft.toString(),C=this._decorationsWidth.toString(),o='" style="left:'+b+"px;width:"+C+'px;"></div>',s=[];for(let i=y;i<=p;i++){const t=i-y,n=w[t].getDecorations();let c="";for(const m of n){let u='<div class="cldr '+m.className;m.tooltip!==null&&(u+='" title="'+m.tooltip),u+=o,c+=u}s[t]=c}this._renderResult=s}render(D,y){return this._renderResult?this._renderResult[y-D]:""}}e.LinesDecorationsOverlay=k}),define(ie[321],ne([1,0,40,56,468]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Margin=void 0;class E extends k.ViewPart{constructor(y){super(y);const p=this._context.configuration.options,w=p.get(145);this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(E.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,f.createFastDomNode)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(E.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(y){const p=this._context.configuration.options,w=p.get(145);return this._canUseLayerHinting=!p.get(32),this._contentLeft=w.contentLeft,this._glyphMarginLeft=w.glyphMarginLeft,this._glyphMarginWidth=w.glyphMarginWidth,!0}onScrollChanged(y){return super.onScrollChanged(y)||y.scrollTopChanged}prepareRender(y){}render(y){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const p=y.scrollTop-y.bigNumbersDelta;this._domNode.setTop(-p);const w=Math.min(y.scrollHeight,1e6);this._domNode.setHeight(w),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(w)}}e.Margin=E,E.CLASS_NAME="glyph-margin",E.OUTER_CLASS_NAME="margin"}),define(ie[573],ne([1,0,234,469]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewLineDecorationsOverlay=void 0;class k extends f.DedupOverlay{constructor(D){super(),this._context=D,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(D){return!0}onDecorationsChanged(D){return!0}onFlushed(D){return!0}onLinesChanged(D){return!0}onLinesDeleted(D){return!0}onLinesInserted(D){return!0}onScrollChanged(D){return D.scrollTopChanged}onZonesChanged(D){return!0}_getDecorations(D){const y=D.getDecorationsInViewport(),p=[];let w=0;for(let b=0,C=y.length;b<C;b++){const o=y[b],s=o.options.marginClassName,i=o.options.zIndex;s&&(p[w++]=new f.DecorationToRender(o.range.startLineNumber,o.range.endLineNumber,s,null,i))}return p}prepareRender(D){const y=D.visibleRange.startLineNumber,p=D.visibleRange.endLineNumber,w=this._render(y,p,this._getDecorations(D)),b=[];for(let C=y;C<=p;C++){const o=C-y,s=w[o].getDecorations();let i="";for(const t of s)i+='<div class="cmdr '+t.className+'" style=""></div>';b[o]=i}this._renderResult=b}render(D,y){return this._renderResult?this._renderResult[y-D]:""}}e.MarginViewLineDecorationsOverlay=k}),define(ie[574],ne([1,0,40,56,472]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Rulers=void 0;class E extends k.ViewPart{constructor(y){super(y),this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const p=this._context.configuration.options;this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(y){const p=this._context.configuration.options;return this._rulers=p.get(102),this._typicalHalfwidthCharacterWidth=p.get(50).typicalHalfwidthCharacterWidth,!0}onScrollChanged(y){return y.scrollHeightChanged}prepareRender(y){}_ensureRulersCount(){const y=this._renderedRulers.length,p=this._rulers.length;if(y===p)return;if(y<p){const{tabSize:b}=this._context.viewModel.model.getOptions(),C=b;let o=p-y;for(;o>0;){const s=(0,f.createFastDomNode)(document.createElement("div"));s.setClassName("view-ruler"),s.setWidth(C),this.domNode.appendChild(s),this._renderedRulers.push(s),o--}return}let w=y-p;for(;w>0;){const b=this._renderedRulers.pop();this.domNode.removeChild(b),w--}}render(y){this._ensureRulersCount();for(let p=0,w=this._rulers.length;p<w;p++){const b=this._renderedRulers[p],C=this._rulers[p];b.setBoxShadow(C.color?`1px 0 0 0 ${C.color} inset`:""),b.setHeight(Math.min(y.scrollHeight,1e6)),b.setLeft(C.column*this._typicalHalfwidthCharacterWidth)}}}e.Rulers=E}),define(ie[575],ne([1,0,40,56,473]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollDecorationViewPart=void 0;class E extends k.ViewPart{constructor(y){super(y),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const w=this._context.configuration.options.get(103);this._useShadows=w.useShadows,this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const y=this._useShadows&&this._scrollTop>0;return this._shouldShow!==y?(this._shouldShow=y,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const p=this._context.configuration.options.get(145);p.minimap.renderMinimap===0||p.minimap.minimapWidth>0&&p.minimap.minimapLeft===0?this._width=p.width:this._width=p.width-p.verticalScrollbarWidth}onConfigurationChanged(y){const w=this._context.configuration.options.get(103);return this._useShadows=w.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(y){return this._scrollTop=y.scrollTop,this._updateShouldShow()}prepareRender(y){}render(y){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}e.ScrollDecorationViewPart=E}),define(ie[576],ne([1,0,40,10,56,9]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZones=void 0;const y=()=>{throw new Error("Invalid change accessor")};class p extends E.ViewPart{constructor(C){super(C);const o=this._context.configuration.options,s=o.get(145);this._lineHeight=o.get(67),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,this.domNode=(0,f.createFastDomNode)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,f.createFastDomNode)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const C=this._context.viewLayout.getWhitespaces(),o=new Map;for(const i of C)o.set(i.id,i);let s=!1;return this._context.viewModel.changeWhitespace(i=>{const t=Object.keys(this._zones);for(let n=0,c=t.length;n<c;n++){const m=t[n],u=this._zones[m],r=this._computeWhitespaceProps(u.delegate);u.isInHiddenArea=r.isInHiddenArea;const a=o.get(m);a&&(a.afterLineNumber!==r.afterViewLineNumber||a.height!==r.heightInPx)&&(i.changeOneWhitespace(m,r.afterViewLineNumber,r.heightInPx),this._safeCallOnComputedHeight(u.delegate,r.heightInPx),s=!0)}}),s}onConfigurationChanged(C){const o=this._context.configuration.options,s=o.get(145);return this._lineHeight=o.get(67),this._contentWidth=s.contentWidth,this._contentLeft=s.contentLeft,C.hasChanged(67)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(C){return this._recomputeWhitespacesProps()}onLinesDeleted(C){return!0}onScrollChanged(C){return C.scrollTopChanged||C.scrollWidthChanged}onZonesChanged(C){return!0}onLinesInserted(C){return!0}_getZoneOrdinal(C){var o,s;return(s=(o=C.ordinal)!==null&&o!==void 0?o:C.afterColumn)!==null&&s!==void 0?s:1e4}_computeWhitespaceProps(C){if(C.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(C),minWidthInPx:this._minWidthInPixels(C)};let o;if(typeof C.afterColumn<"u")o=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:C.afterColumn});else{const n=this._context.viewModel.model.validatePosition({lineNumber:C.afterLineNumber,column:1}).lineNumber;o=new D.Position(n,this._context.viewModel.model.getLineMaxColumn(n))}let s;o.column===this._context.viewModel.model.getLineMaxColumn(o.lineNumber)?s=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber+1,column:1}):s=this._context.viewModel.model.validatePosition({lineNumber:o.lineNumber,column:o.column+1});const i=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(o,C.afterColumnAffinity,!0),t=C.showInHiddenAreas||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(s);return{isInHiddenArea:!t,afterViewLineNumber:i.lineNumber,heightInPx:t?this._heightInPixels(C):0,minWidthInPx:this._minWidthInPixels(C)}}changeViewZones(C){let o=!1;return this._context.viewModel.changeWhitespace(s=>{const i={addZone:t=>(o=!0,this._addZone(s,t)),removeZone:t=>{t&&(o=this._removeZone(s,t)||o)},layoutZone:t=>{t&&(o=this._layoutZone(s,t)||o)}};w(C,i),i.addZone=y,i.removeZone=y,i.layoutZone=y}),o}_addZone(C,o){const s=this._computeWhitespaceProps(o),t={whitespaceId:C.insertWhitespace(s.afterViewLineNumber,this._getZoneOrdinal(o),s.heightInPx,s.minWidthInPx),delegate:o,isInHiddenArea:s.isInHiddenArea,isVisible:!1,domNode:(0,f.createFastDomNode)(o.domNode),marginDomNode:o.marginDomNode?(0,f.createFastDomNode)(o.marginDomNode):null};return this._safeCallOnComputedHeight(t.delegate,s.heightInPx),t.domNode.setPosition("absolute"),t.domNode.domNode.style.width="100%",t.domNode.setDisplay("none"),t.domNode.setAttribute("monaco-view-zone",t.whitespaceId),this.domNode.appendChild(t.domNode),t.marginDomNode&&(t.marginDomNode.setPosition("absolute"),t.marginDomNode.domNode.style.width="100%",t.marginDomNode.setDisplay("none"),t.marginDomNode.setAttribute("monaco-view-zone",t.whitespaceId),this.marginDomNode.appendChild(t.marginDomNode)),this._zones[t.whitespaceId]=t,this.setShouldRender(),t.whitespaceId}_removeZone(C,o){if(this._zones.hasOwnProperty(o)){const s=this._zones[o];return delete this._zones[o],C.removeWhitespace(s.whitespaceId),s.domNode.removeAttribute("monaco-visible-view-zone"),s.domNode.removeAttribute("monaco-view-zone"),s.domNode.domNode.parentNode.removeChild(s.domNode.domNode),s.marginDomNode&&(s.marginDomNode.removeAttribute("monaco-visible-view-zone"),s.marginDomNode.removeAttribute("monaco-view-zone"),s.marginDomNode.domNode.parentNode.removeChild(s.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(C,o){if(this._zones.hasOwnProperty(o)){const s=this._zones[o],i=this._computeWhitespaceProps(s.delegate);return s.isInHiddenArea=i.isInHiddenArea,C.changeOneWhitespace(s.whitespaceId,i.afterViewLineNumber,i.heightInPx),this._safeCallOnComputedHeight(s.delegate,i.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(C){return this._zones.hasOwnProperty(C)?!!this._zones[C].delegate.suppressMouseDown:!1}_heightInPixels(C){return typeof C.heightInPx=="number"?C.heightInPx:typeof C.heightInLines=="number"?this._lineHeight*C.heightInLines:this._lineHeight}_minWidthInPixels(C){return typeof C.minWidthInPx=="number"?C.minWidthInPx:0}_safeCallOnComputedHeight(C,o){if(typeof C.onComputedHeight=="function")try{C.onComputedHeight(o)}catch(s){(0,k.onUnexpectedError)(s)}}_safeCallOnDomNodeTop(C,o){if(typeof C.onDomNodeTop=="function")try{C.onDomNodeTop(o)}catch(s){(0,k.onUnexpectedError)(s)}}prepareRender(C){}render(C){const o=C.viewportData.whitespaceViewportData,s={};let i=!1;for(const n of o)this._zones[n.id].isInHiddenArea||(s[n.id]=n,i=!0);const t=Object.keys(this._zones);for(let n=0,c=t.length;n<c;n++){const m=t[n],u=this._zones[m];let r=0,a=0,h="none";s.hasOwnProperty(m)?(r=s[m].verticalOffset-C.bigNumbersDelta,a=s[m].height,h="block",u.isVisible||(u.domNode.setAttribute("monaco-visible-view-zone","true"),u.isVisible=!0),this._safeCallOnDomNodeTop(u.delegate,C.getScrolledTopFromAbsoluteTop(s[m].verticalOffset))):(u.isVisible&&(u.domNode.removeAttribute("monaco-visible-view-zone"),u.isVisible=!1),this._safeCallOnDomNodeTop(u.delegate,C.getScrolledTopFromAbsoluteTop(-1e6))),u.domNode.setTop(r),u.domNode.setHeight(a),u.domNode.setDisplay(h),u.marginDomNode&&(u.marginDomNode.setTop(r),u.marginDomNode.setHeight(a),u.marginDomNode.setDisplay(h))}i&&(this.domNode.setWidth(Math.max(C.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}e.ViewZones=p;function w(b,C){try{return b(C)}catch(o){(0,k.onUnexpectedError)(o)}}}),define(ie[235],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewZonesChangedEvent=e.ViewTokensColorsChangedEvent=e.ViewTokensChangedEvent=e.ViewThemeChangedEvent=e.ViewScrollChangedEvent=e.ViewRevealRangeRequestEvent=e.ViewLinesInsertedEvent=e.ViewLinesDeletedEvent=e.ViewLinesChangedEvent=e.ViewLineMappingChangedEvent=e.ViewLanguageConfigurationEvent=e.ViewFocusChangedEvent=e.ViewFlushedEvent=e.ViewDecorationsChangedEvent=e.ViewCursorStateChangedEvent=e.ViewConfigurationChangedEvent=e.ViewCompositionEndEvent=e.ViewCompositionStartEvent=void 0;class f{constructor(){this.type=0}}e.ViewCompositionStartEvent=f;class k{constructor(){this.type=1}}e.ViewCompositionEndEvent=k;class E{constructor(h){this.type=2,this._source=h}hasChanged(h){return this._source.hasChanged(h)}}e.ViewConfigurationChangedEvent=E;class D{constructor(h,l,g){this.selections=h,this.modelSelections=l,this.reason=g,this.type=3}}e.ViewCursorStateChangedEvent=D;class y{constructor(h){this.type=4,h?(this.affectsMinimap=h.affectsMinimap,this.affectsOverviewRuler=h.affectsOverviewRuler,this.affectsGlyphMargin=h.affectsGlyphMargin,this.affectsLineNumber=h.affectsLineNumber):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0,this.affectsGlyphMargin=!0,this.affectsLineNumber=!0)}}e.ViewDecorationsChangedEvent=y;class p{constructor(){this.type=5}}e.ViewFlushedEvent=p;class w{constructor(h){this.type=6,this.isFocused=h}}e.ViewFocusChangedEvent=w;class b{constructor(){this.type=7}}e.ViewLanguageConfigurationEvent=b;class C{constructor(){this.type=8}}e.ViewLineMappingChangedEvent=C;class o{constructor(h,l){this.fromLineNumber=h,this.count=l,this.type=9}}e.ViewLinesChangedEvent=o;class s{constructor(h,l){this.type=10,this.fromLineNumber=h,this.toLineNumber=l}}e.ViewLinesDeletedEvent=s;class i{constructor(h,l){this.type=11,this.fromLineNumber=h,this.toLineNumber=l}}e.ViewLinesInsertedEvent=i;class t{constructor(h,l,g,d,v,_,S){this.source=h,this.minimalReveal=l,this.range=g,this.selections=d,this.verticalType=v,this.revealHorizontal=_,this.scrollType=S,this.type=12}}e.ViewRevealRangeRequestEvent=t;class n{constructor(h){this.type=13,this.scrollWidth=h.scrollWidth,this.scrollLeft=h.scrollLeft,this.scrollHeight=h.scrollHeight,this.scrollTop=h.scrollTop,this.scrollWidthChanged=h.scrollWidthChanged,this.scrollLeftChanged=h.scrollLeftChanged,this.scrollHeightChanged=h.scrollHeightChanged,this.scrollTopChanged=h.scrollTopChanged}}e.ViewScrollChangedEvent=n;class c{constructor(h){this.theme=h,this.type=14}}e.ViewThemeChangedEvent=c;class m{constructor(h){this.type=15,this.ranges=h}}e.ViewTokensChangedEvent=m;class u{constructor(){this.type=16}}e.ViewTokensColorsChangedEvent=u;class r{constructor(){this.type=17}}e.ViewZonesChangedEvent=r}),define(ie[146],ne([1,0,12]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineDecorationsNormalizer=e.DecorationSegment=e.LineDecoration=void 0;class k{constructor(w,b,C,o){this.startColumn=w,this.endColumn=b,this.className=C,this.type=o,this._lineDecorationBrand=void 0}static _equals(w,b){return w.startColumn===b.startColumn&&w.endColumn===b.endColumn&&w.className===b.className&&w.type===b.type}static equalsArr(w,b){const C=w.length,o=b.length;if(C!==o)return!1;for(let s=0;s<C;s++)if(!k._equals(w[s],b[s]))return!1;return!0}static extractWrapped(w,b,C){if(w.length===0)return w;const o=b+1,s=C+1,i=C-b,t=[];let n=0;for(const c of w)c.endColumn<=o||c.startColumn>=s||(t[n++]=new k(Math.max(1,c.startColumn-o+1),Math.min(i+1,c.endColumn-o+1),c.className,c.type));return t}static filter(w,b,C,o){if(w.length===0)return[];const s=[];let i=0;for(let t=0,n=w.length;t<n;t++){const c=w[t],m=c.range;if(m.endLineNumber<b||m.startLineNumber>b||m.isEmpty()&&(c.type===0||c.type===3))continue;const u=m.startLineNumber===b?m.startColumn:C,r=m.endLineNumber===b?m.endColumn:o;s[i++]=new k(u,r,c.inlineClassName,c.type)}return s}static _typeCompare(w,b){const C=[2,0,1,3];return C[w]-C[b]}static compare(w,b){if(w.startColumn!==b.startColumn)return w.startColumn-b.startColumn;if(w.endColumn!==b.endColumn)return w.endColumn-b.endColumn;const C=k._typeCompare(w.type,b.type);return C!==0?C:w.className!==b.className?w.className<b.className?-1:1:0}}e.LineDecoration=k;class E{constructor(w,b,C,o){this.startOffset=w,this.endOffset=b,this.className=C,this.metadata=o}}e.DecorationSegment=E;class D{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(w){let b=0;for(let C=0,o=w.length;C<o;C++)b|=w[C];return b}consumeLowerThan(w,b,C){for(;this.count>0&&this.stopOffsets[0]<w;){let o=0;for(;o+1<this.count&&this.stopOffsets[o]===this.stopOffsets[o+1];)o++;C.push(new E(b,this.stopOffsets[o],this.classNames.join(" "),D._metadata(this.metadata))),b=this.stopOffsets[o]+1,this.stopOffsets.splice(0,o+1),this.classNames.splice(0,o+1),this.metadata.splice(0,o+1),this.count-=o+1}return this.count>0&&b<w&&(C.push(new E(b,w-1,this.classNames.join(" "),D._metadata(this.metadata))),b=w),b}insert(w,b,C){if(this.count===0||this.stopOffsets[this.count-1]<=w)this.stopOffsets.push(w),this.classNames.push(b),this.metadata.push(C);else for(let o=0;o<this.count;o++)if(this.stopOffsets[o]>=w){this.stopOffsets.splice(o,0,w),this.classNames.splice(o,0,b),this.metadata.splice(o,0,C);break}this.count++}}class y{static normalize(w,b){if(b.length===0)return[];const C=[],o=new D;let s=0;for(let i=0,t=b.length;i<t;i++){const n=b[i];let c=n.startColumn,m=n.endColumn;const u=n.className,r=n.type===1?2:n.type===2?4:0;if(c>1){const l=w.charCodeAt(c-2);f.isHighSurrogate(l)&&c--}if(m>1){const l=w.charCodeAt(m-2);f.isHighSurrogate(l)&&m--}const a=c-1,h=m-2;s=o.consumeLowerThan(a,s,C),o.count===0&&(s=a),o.insert(h,u,r)}return o.consumeLowerThan(1073741824,s,C),C}}e.LineDecorationsNormalizer=y}),define(ie[577],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinePart=void 0;class f{constructor(E,D,y,p){this.endIndex=E,this.type=D,this.metadata=y,this.containsRTL=p,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}e.LinePart=f}),define(ie[578],ne([1,0,12]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinesLayout=e.EditorWhitespace=void 0;class k{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(p){this._hasPending=!0,this._inserts.push(p)}change(p){this._hasPending=!0,this._changes.push(p)}remove(p){this._hasPending=!0,this._removes.push(p)}mustCommit(){return this._hasPending}commit(p){if(!this._hasPending)return;const w=this._inserts,b=this._changes,C=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],p._commitPendingChanges(w,b,C)}}class E{constructor(p,w,b,C,o){this.id=p,this.afterLineNumber=w,this.ordinal=b,this.height=C,this.minWidth=o,this.prefixSum=0}}e.EditorWhitespace=E;class D{constructor(p,w,b,C){this._instanceId=f.singleLetterHash(++D.INSTANCE_COUNT),this._pendingChanges=new k,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=p,this._lineHeight=w,this._paddingTop=b,this._paddingBottom=C}static findInsertionIndex(p,w,b){let C=0,o=p.length;for(;C<o;){const s=C+o>>>1;w===p[s].afterLineNumber?b<p[s].ordinal?o=s:C=s+1:w<p[s].afterLineNumber?o=s:C=s+1}return C}setLineHeight(p){this._checkPendingChanges(),this._lineHeight=p}setPadding(p,w){this._paddingTop=p,this._paddingBottom=w}onFlushed(p){this._checkPendingChanges(),this._lineCount=p}changeWhitespace(p){let w=!1;try{p({insertWhitespace:(C,o,s,i)=>{w=!0,C=C|0,o=o|0,s=s|0,i=i|0;const t=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new E(t,C,o,s,i)),t},changeOneWhitespace:(C,o,s)=>{w=!0,o=o|0,s=s|0,this._pendingChanges.change({id:C,newAfterLineNumber:o,newHeight:s})},removeWhitespace:C=>{w=!0,this._pendingChanges.remove({id:C})}})}finally{this._pendingChanges.commit(this)}return w}_commitPendingChanges(p,w,b){if((p.length>0||b.length>0)&&(this._minWidth=-1),p.length+w.length+b.length<=1){for(const t of p)this._insertWhitespace(t);for(const t of w)this._changeOneWhitespace(t.id,t.newAfterLineNumber,t.newHeight);for(const t of b){const n=this._findWhitespaceIndex(t.id);n!==-1&&this._removeWhitespace(n)}return}const C=new Set;for(const t of b)C.add(t.id);const o=new Map;for(const t of w)o.set(t.id,t);const s=t=>{const n=[];for(const c of t)if(!C.has(c.id)){if(o.has(c.id)){const m=o.get(c.id);c.afterLineNumber=m.newAfterLineNumber,c.height=m.newHeight}n.push(c)}return n},i=s(this._arr).concat(s(p));i.sort((t,n)=>t.afterLineNumber===n.afterLineNumber?t.ordinal-n.ordinal:t.afterLineNumber-n.afterLineNumber),this._arr=i,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(p){const w=D.findInsertionIndex(this._arr,p.afterLineNumber,p.ordinal);this._arr.splice(w,0,p),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,w-1)}_findWhitespaceIndex(p){const w=this._arr;for(let b=0,C=w.length;b<C;b++)if(w[b].id===p)return b;return-1}_changeOneWhitespace(p,w,b){const C=this._findWhitespaceIndex(p);if(C!==-1&&(this._arr[C].height!==b&&(this._arr[C].height=b,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,C-1)),this._arr[C].afterLineNumber!==w)){const o=this._arr[C];this._removeWhitespace(C),o.afterLineNumber=w,this._insertWhitespace(o)}}_removeWhitespace(p){this._arr.splice(p,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,p-1)}onLinesDeleted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount-=w-p+1;for(let b=0,C=this._arr.length;b<C;b++){const o=this._arr[b].afterLineNumber;p<=o&&o<=w?this._arr[b].afterLineNumber=p-1:o>w&&(this._arr[b].afterLineNumber-=w-p+1)}}onLinesInserted(p,w){this._checkPendingChanges(),p=p|0,w=w|0,this._lineCount+=w-p+1;for(let b=0,C=this._arr.length;b<C;b++){const o=this._arr[b].afterLineNumber;p<=o&&(this._arr[b].afterLineNumber+=w-p+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(p){this._checkPendingChanges(),p=p|0;let w=Math.max(0,this._prefixSumValidIndex+1);w===0&&(this._arr[0].prefixSum=this._arr[0].height,w++);for(let b=w;b<=p;b++)this._arr[b].prefixSum=this._arr[b-1].prefixSum+this._arr[b].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,p),this._arr[p].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const p=this._lineHeight*this._lineCount,w=this.getWhitespacesTotalHeight();return p+w+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(p){this._checkPendingChanges(),p=p|0;const w=this._findLastWhitespaceBeforeLineNumber(p);return w===-1?0:this.getWhitespacesAccumulatedHeight(w)}_findLastWhitespaceBeforeLineNumber(p){p=p|0;const w=this._arr;let b=0,C=w.length-1;for(;b<=C;){const s=(C-b|0)/2|0,i=b+s|0;if(w[i].afterLineNumber<p){if(i+1>=w.length||w[i+1].afterLineNumber>=p)return i;b=i+1|0}else C=i-1|0}return-1}_findFirstWhitespaceAfterLineNumber(p){p=p|0;const b=this._findLastWhitespaceBeforeLineNumber(p)+1;return b<this._arr.length?b:-1}getFirstWhitespaceIndexAfterLineNumber(p){return this._checkPendingChanges(),p=p|0,this._findFirstWhitespaceAfterLineNumber(p)}getVerticalOffsetForLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;let b;p>1?b=this._lineHeight*(p-1):b=0;const C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p-(w?1:0));return b+C+this._paddingTop}getVerticalOffsetAfterLineNumber(p,w=!1){this._checkPendingChanges(),p=p|0;const b=this._lineHeight*p,C=this.getWhitespaceAccumulatedHeightBeforeLineNumber(p+(w?1:0));return b+C+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let p=0;for(let w=0,b=this._arr.length;w<b;w++)p=Math.max(p,this._arr[w].minWidth);this._minWidth=p}return this._minWidth}isAfterLines(p){this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>w}isInTopPadding(p){return this._paddingTop===0?!1:(this._checkPendingChanges(),p<this._paddingTop)}isInBottomPadding(p){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const w=this.getLinesTotalHeight();return p>=w-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(p){if(this._checkPendingChanges(),p=p|0,p<0)return 1;const w=this._lineCount|0,b=this._lineHeight;let C=1,o=w;for(;C<o;){const s=(C+o)/2|0,i=this.getVerticalOffsetForLineNumber(s)|0;if(p>=i+b)C=s+1;else{if(p>=i)return s;o=s}}return C>w?w:C}getLinesViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const b=this._lineHeight,C=this.getLineNumberAtOrAfterVerticalOffset(p)|0,o=this.getVerticalOffsetForLineNumber(C)|0;let s=this._lineCount|0,i=this.getFirstWhitespaceIndexAfterLineNumber(C)|0;const t=this.getWhitespacesCount()|0;let n,c;i===-1?(i=t,c=s+1,n=0):(c=this.getAfterLineNumberForWhitespaceIndex(i)|0,n=this.getHeightForWhitespaceIndex(i)|0);let m=o,u=m;const r=5e5;let a=0;o>=r&&(a=Math.floor(o/r)*r,a=Math.floor(a/b)*b,u-=a);const h=[],l=p+(w-p)/2;let g=-1;for(let S=C;S<=s;S++){if(g===-1){const L=m,I=m+b;(L<=l&&l<I||L>l)&&(g=S)}for(m+=b,h[S-C]=u,u+=b;c===S;)u+=n,m+=n,i++,i>=t?c=s+1:(c=this.getAfterLineNumberForWhitespaceIndex(i)|0,n=this.getHeightForWhitespaceIndex(i)|0);if(m>=w){s=S;break}}g===-1&&(g=s);const d=this.getVerticalOffsetForLineNumber(s)|0;let v=C,_=s;return v<_&&o<p&&v++,v<_&&d+b>w&&_--,{bigNumbersDelta:a,startLineNumber:C,endLineNumber:s,relativeVerticalOffset:h,centeredLineNumber:g,completelyVisibleStartLineNumber:v,completelyVisibleEndLineNumber:_,lineHeight:this._lineHeight}}getVerticalOffsetForWhitespaceIndex(p){this._checkPendingChanges(),p=p|0;const w=this.getAfterLineNumberForWhitespaceIndex(p);let b;w>=1?b=this._lineHeight*w:b=0;let C;return p>0?C=this.getWhitespacesAccumulatedHeight(p-1):C=0,b+C+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(p){this._checkPendingChanges(),p=p|0;let w=0,b=this.getWhitespacesCount()-1;if(b<0)return-1;const C=this.getVerticalOffsetForWhitespaceIndex(b),o=this.getHeightForWhitespaceIndex(b);if(p>=C+o)return-1;for(;w<b;){const s=Math.floor((w+b)/2),i=this.getVerticalOffsetForWhitespaceIndex(s),t=this.getHeightForWhitespaceIndex(s);if(p>=i+t)w=s+1;else{if(p>=i)return s;b=s}}return w}getWhitespaceAtVerticalOffset(p){this._checkPendingChanges(),p=p|0;const w=this.getWhitespaceIndexAtOrAfterVerticallOffset(p);if(w<0||w>=this.getWhitespacesCount())return null;const b=this.getVerticalOffsetForWhitespaceIndex(w);if(b>p)return null;const C=this.getHeightForWhitespaceIndex(w),o=this.getIdForWhitespaceIndex(w),s=this.getAfterLineNumberForWhitespaceIndex(w);return{id:o,afterLineNumber:s,verticalOffset:b,height:C}}getWhitespaceViewportData(p,w){this._checkPendingChanges(),p=p|0,w=w|0;const b=this.getWhitespaceIndexAtOrAfterVerticallOffset(p),C=this.getWhitespacesCount()-1;if(b<0)return[];const o=[];for(let s=b;s<=C;s++){const i=this.getVerticalOffsetForWhitespaceIndex(s),t=this.getHeightForWhitespaceIndex(s);if(i>=w)break;o.push({id:this.getIdForWhitespaceIndex(s),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(s),verticalOffset:i,height:t})}return o}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].id}getAfterLineNumberForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].afterLineNumber}getHeightForWhitespaceIndex(p){return this._checkPendingChanges(),p=p|0,this._arr[p].height}}e.LinesLayout=D,D.INSTANCE_COUNT=0}),define(ie[579],ne([1,0,5]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportData=void 0;class k{constructor(D,y,p,w){this.selections=D,this.startLineNumber=y.startLineNumber|0,this.endLineNumber=y.endLineNumber|0,this.relativeVerticalOffset=y.relativeVerticalOffset,this.bigNumbersDelta=y.bigNumbersDelta|0,this.lineHeight=y.lineHeight|0,this.whitespaceViewportData=p,this._model=w,this.visibleRange=new f.Range(y.startLineNumber,this._model.getLineMinColumn(y.startLineNumber),y.endLineNumber,this._model.getLineMaxColumn(y.endLineNumber))}getViewLineRenderingData(D){return this._model.getViewportViewLineRenderingData(this.visibleRange,D)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}e.ViewportData=k}),define(ie[91],ne([1,0,13,12,5]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerDecorationsGroup=e.ViewModelDecoration=e.SingleLineInlineDecoration=e.InlineDecoration=e.ViewLineRenderingData=e.ViewLineData=e.MinimapLinesRenderingData=e.Viewport=void 0;class D{constructor(t,n,c,m){this._viewportBrand=void 0,this.top=t|0,this.left=n|0,this.width=c|0,this.height=m|0}}e.Viewport=D;class y{constructor(t,n){this.tabSize=t,this.data=n}}e.MinimapLinesRenderingData=y;class p{constructor(t,n,c,m,u,r,a){this._viewLineDataBrand=void 0,this.content=t,this.continuesWithWrappedLine=n,this.minColumn=c,this.maxColumn=m,this.startVisibleColumn=u,this.tokens=r,this.inlineDecorations=a}}e.ViewLineData=p;class w{constructor(t,n,c,m,u,r,a,h,l,g){this.minColumn=t,this.maxColumn=n,this.content=c,this.continuesWithWrappedLine=m,this.isBasicASCII=w.isBasicASCII(c,r),this.containsRTL=w.containsRTL(c,this.isBasicASCII,u),this.tokens=a,this.inlineDecorations=h,this.tabSize=l,this.startVisibleColumn=g}static isBasicASCII(t,n){return n?k.isBasicASCII(t):!0}static containsRTL(t,n,c){return!n&&c?k.containsRTL(t):!1}}e.ViewLineRenderingData=w;class b{constructor(t,n,c){this.range=t,this.inlineClassName=n,this.type=c}}e.InlineDecoration=b;class C{constructor(t,n,c,m){this.startOffset=t,this.endOffset=n,this.inlineClassName=c,this.inlineClassNameAffectsLetterSpacing=m}toInlineDecoration(t){return new b(new E.Range(t,this.startOffset+1,t,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}e.SingleLineInlineDecoration=C;class o{constructor(t,n){this._viewModelDecorationBrand=void 0,this.range=t,this.options=n}}e.ViewModelDecoration=o;class s{constructor(t,n,c){this.color=t,this.zIndex=n,this.data=c}static compareByRenderingProps(t,n){return t.zIndex===n.zIndex?t.color<n.color?-1:t.color>n.color?1:0:t.zIndex-n.zIndex}static equals(t,n){return t.color===n.color&&t.zIndex===n.zIndex&&f.equals(t.data,n.data)}static equalsArr(t,n){return f.equals(t,n,s.equals)}}e.OverviewRulerDecorationsGroup=s}),define(ie[580],ne([1,0,42]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlyphMarginLanesModel=void 0;const k=f.GlyphMarginLane.Right;class E{constructor(y){this.persist=0,this._requiredLanes=1,this.lanes=new Uint8Array(Math.ceil((y+1)*k/8))}reset(y){const p=Math.ceil((y+1)*k/8);this.lanes.length<p?this.lanes=new Uint8Array(p):this.lanes.fill(0),this._requiredLanes=1}get requiredLanes(){return this._requiredLanes}push(y,p,w){w&&(this.persist|=1<<y-1);for(let b=p.startLineNumber;b<=p.endLineNumber;b++){const C=k*b+(y-1);this.lanes[C>>>3]|=1<<C%8,this._requiredLanes=Math.max(this._requiredLanes,this.countAtLine(b))}}getLanesAtLine(y){const p=[];let w=k*y;for(let b=0;b<k;b++)(this.persist&1<<b||this.lanes[w>>>3]&1<<w%8)&&p.push(b+1),w++;return p.length?p:[f.GlyphMarginLane.Center]}countAtLine(y){let p=k*y,w=0;for(let b=0;b<k;b++)(this.persist&1<<b||this.lanes[p>>>3]&1<<p%8)&&w++,p++;return w}}e.GlyphMarginLanesModel=E}),define(ie[581],ne([1,0,102,9,127,91]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createModelLineProjection=y;function y(i,t){return i===null?t?w.INSTANCE:b.INSTANCE:new p(i,t)}class p{constructor(t,n){this._projectionData=t,this._isVisible=n}isVisible(){return this._isVisible}setVisible(t){return this._isVisible=t,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(t,n,c){this._assertVisible();const m=c>0?this._projectionData.breakOffsets[c-1]:0,u=this._projectionData.breakOffsets[c];let r;if(this._projectionData.injectionOffsets!==null){const a=this._projectionData.injectionOffsets.map((l,g)=>new E.LineInjectedText(0,0,l+1,this._projectionData.injectionOptions[g],0));r=E.LineInjectedText.applyInjectedText(t.getLineContent(n),a).substring(m,u)}else r=t.getValueInRange({startLineNumber:n,startColumn:m+1,endLineNumber:n,endColumn:u+1});return c>0&&(r=o(this._projectionData.wrappedTextIndentLength)+r),r}getViewLineLength(t,n,c){return this._assertVisible(),this._projectionData.getLineLength(c)}getViewLineMinColumn(t,n,c){return this._assertVisible(),this._projectionData.getMinOutputOffset(c)+1}getViewLineMaxColumn(t,n,c){return this._assertVisible(),this._projectionData.getMaxOutputOffset(c)+1}getViewLineData(t,n,c){const m=new Array;return this.getViewLinesData(t,n,c,1,0,[!0],m),m[0]}getViewLinesData(t,n,c,m,u,r,a){this._assertVisible();const h=this._projectionData,l=h.injectionOffsets,g=h.injectionOptions;let d=null;if(l){d=[];let _=0,S=0;for(let L=0;L<h.getOutputLineCount();L++){const I=new Array;d[L]=I;const T=L>0?h.breakOffsets[L-1]:0,N=h.breakOffsets[L];for(;S<l.length;){const A=g[S].content.length,O=l[S]+_,M=O+A;if(O>N)break;if(T<M){const R=g[S];if(R.inlineClassName){const x=L>0?h.wrappedTextIndentLength:0,F=x+Math.max(O-T,0),W=x+Math.min(M-T,N-T);F!==W&&I.push(new D.SingleLineInlineDecoration(F,W,R.inlineClassName,R.inlineClassNameAffectsLetterSpacing))}}if(M<=N)_+=A,S++;else break}}}let v;l?v=t.tokenization.getLineTokens(n).withInserted(l.map((_,S)=>({offset:_,text:g[S].content,tokenMetadata:f.LineTokens.defaultTokenMetadata}))):v=t.tokenization.getLineTokens(n);for(let _=c;_<c+m;_++){const S=u+_-c;if(!r[S]){a[S]=null;continue}a[S]=this._getViewLineData(v,d?d[_]:null,_)}}_getViewLineData(t,n,c){this._assertVisible();const m=this._projectionData,u=c>0?m.wrappedTextIndentLength:0,r=c>0?m.breakOffsets[c-1]:0,a=m.breakOffsets[c],h=t.sliceAndInflate(r,a,u);let l=h.getLineContent();c>0&&(l=o(m.wrappedTextIndentLength)+l);const g=this._projectionData.getMinOutputOffset(c)+1,d=l.length+1,v=c+1<this.getViewLineCount(),_=c===0?0:m.breakOffsetsVisibleColumn[c-1];return new D.ViewLineData(l,v,g,d,_,h,n)}getModelColumnOfViewPosition(t,n){return this._assertVisible(),this._projectionData.translateToInputOffset(t,n-1)+1}getViewPositionOfModelPosition(t,n,c=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(n-1,c).toPosition(t)}getViewLineNumberOfModelPosition(t,n){this._assertVisible();const c=this._projectionData.translateToOutputPosition(n-1);return t+c.outputLineIndex}normalizePosition(t,n,c){const m=n.lineNumber-t;return this._projectionData.normalizeOutputPosition(t,n.column-1,c).toPosition(m)}getInjectedTextAt(t,n){return this._projectionData.getInjectedText(t,n-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class w{constructor(){}isVisible(){return!0}setVisible(t){return t?this:b.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(t,n,c){return t.getLineContent(n)}getViewLineLength(t,n,c){return t.getLineLength(n)}getViewLineMinColumn(t,n,c){return t.getLineMinColumn(n)}getViewLineMaxColumn(t,n,c){return t.getLineMaxColumn(n)}getViewLineData(t,n,c){const m=t.tokenization.getLineTokens(n),u=m.getLineContent();return new D.ViewLineData(u,!1,1,u.length+1,0,m.inflate(),null)}getViewLinesData(t,n,c,m,u,r,a){if(!r[u]){a[u]=null;return}a[u]=this.getViewLineData(t,n,0)}getModelColumnOfViewPosition(t,n){return n}getViewPositionOfModelPosition(t,n){return new k.Position(t,n)}getViewLineNumberOfModelPosition(t,n){return t}normalizePosition(t,n,c){return n}getInjectedTextAt(t,n){return null}}w.INSTANCE=new w;class b{constructor(){}isVisible(){return!1}setVisible(t){return t?w.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(t,n,c){throw new Error("Not supported")}getViewLineLength(t,n,c){throw new Error("Not supported")}getViewLineMinColumn(t,n,c){throw new Error("Not supported")}getViewLineMaxColumn(t,n,c){throw new Error("Not supported")}getViewLineData(t,n,c){throw new Error("Not supported")}getViewLinesData(t,n,c,m,u,r,a){throw new Error("Not supported")}getModelColumnOfViewPosition(t,n){throw new Error("Not supported")}getViewPositionOfModelPosition(t,n){throw new Error("Not supported")}getViewLineNumberOfModelPosition(t,n){throw new Error("Not supported")}normalizePosition(t,n,c){throw new Error("Not supported")}getInjectedTextAt(t,n){throw new Error("Not supported")}}b.INSTANCE=new b;const C=[""];function o(i){if(i>=C.length)for(let t=1;t<=i;t++)C[t]=s(t);return C[i]}function s(i){return new Array(i+1).join(" ")}}),define(ie[582],ne([1,0,12,139,127,316]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MonospaceLineBreaksComputerFactory=void 0;class y{static create(m){return new y(m.get(134),m.get(133))}constructor(m,u){this.classifier=new p(m,u)}createLineBreaksComputer(m,u,r,a,h){const l=[],g=[],d=[];return{addRequest:(v,_,S)=>{l.push(v),g.push(_),d.push(S)},finalize:()=>{const v=m.typicalFullwidthCharacterWidth/m.typicalHalfwidthCharacterWidth,_=[];for(let S=0,L=l.length;S<L;S++){const I=g[S],T=d[S];T&&!T.injectionOptions&&!I?_[S]=C(this.classifier,T,l[S],u,r,v,a,h):_[S]=o(this.classifier,l[S],I,u,r,v,a,h)}return w.length=0,b.length=0,_}}}}e.MonospaceLineBreaksComputerFactory=y;class p extends k.CharacterClassifier{constructor(m,u){super(0);for(let r=0;r<m.length;r++)this.set(m.charCodeAt(r),1);for(let r=0;r<u.length;r++)this.set(u.charCodeAt(r),2)}get(m){return m>=0&&m<256?this._asciiMap[m]:m>=12352&&m<=12543||m>=13312&&m<=19903||m>=19968&&m<=40959?3:this._map.get(m)||this._defaultValue}}let w=[],b=[];function C(c,m,u,r,a,h,l,g){if(a===-1)return null;const d=u.length;if(d<=1)return null;const v=g==="keepAll",_=m.breakOffsets,S=m.breakOffsetsVisibleColumn,L=n(u,r,a,h,l),I=a-L,T=w,N=b;let A=0,O=0,M=0,R=a;const x=_.length;let F=0;if(F>=0){let W=Math.abs(S[F]-R);for(;F+1<x;){const H=Math.abs(S[F+1]-R);if(H>=W)break;W=H,F++}}for(;F<x;){let W=F<0?0:_[F],H=F<0?0:S[F];O>W&&(W=O,H=M);let z=0,j=0,K=0,U=0;if(H<=R){let te=H,ee=W===0?0:u.charCodeAt(W-1),Y=W===0?0:c.get(ee),P=!0;for(let Z=W;Z<d;Z++){const re=Z,ce=u.charCodeAt(Z);let he,pe;if(f.isHighSurrogate(ce)?(Z++,he=0,pe=2):(he=c.get(ce),pe=s(ce,te,r,h)),re>O&&t(ee,Y,ce,he,v)&&(z=re,j=te),te+=pe,te>R){re>O?(K=re,U=te-pe):(K=Z+1,U=te),te-j>I&&(z=0),P=!1;break}ee=ce,Y=he}if(P){A>0&&(T[A]=_[_.length-1],N[A]=S[_.length-1],A++);break}}if(z===0){let te=H,ee=u.charCodeAt(W),Y=c.get(ee),P=!1;for(let Z=W-1;Z>=O;Z--){const re=Z+1,ce=u.charCodeAt(Z);if(ce===9){P=!0;break}let he,pe;if(f.isLowSurrogate(ce)?(Z--,he=0,pe=2):(he=c.get(ce),pe=f.isFullWidthCharacter(ce)?h:1),te<=R){if(K===0&&(K=re,U=te),te<=R-I)break;if(t(ce,he,ee,Y,v)){z=re,j=te;break}}te-=pe,ee=ce,Y=he}if(z!==0){const Z=I-(U-j);if(Z<=r){const re=u.charCodeAt(K);let ce;f.isHighSurrogate(re)?ce=2:ce=s(re,U,r,h),Z-ce<0&&(z=0)}}if(P){F--;continue}}if(z===0&&(z=K,j=U),z<=O){const te=u.charCodeAt(O);f.isHighSurrogate(te)?(z=O+2,j=M+2):(z=O+1,j=M+s(te,M,r,h))}for(O=z,T[A]=z,M=j,N[A]=j,A++,R=j+I;F<0||F<x&&S[F]<j;)F++;let G=Math.abs(S[F]-R);for(;F+1<x;){const te=Math.abs(S[F+1]-R);if(te>=G)break;G=te,F++}}return A===0?null:(T.length=A,N.length=A,w=m.breakOffsets,b=m.breakOffsetsVisibleColumn,m.breakOffsets=T,m.breakOffsetsVisibleColumn=N,m.wrappedTextIndentLength=L,m)}function o(c,m,u,r,a,h,l,g){const d=E.LineInjectedText.applyInjectedText(m,u);let v,_;if(u&&u.length>0?(v=u.map(j=>j.options),_=u.map(j=>j.column-1)):(v=null,_=null),a===-1)return v?new D.ModelLineProjectionData(_,v,[d.length],[],0):null;const S=d.length;if(S<=1)return v?new D.ModelLineProjectionData(_,v,[d.length],[],0):null;const L=g==="keepAll",I=n(d,r,a,h,l),T=a-I,N=[],A=[];let O=0,M=0,R=0,x=a,F=d.charCodeAt(0),W=c.get(F),H=s(F,0,r,h),z=1;f.isHighSurrogate(F)&&(H+=1,F=d.charCodeAt(1),W=c.get(F),z++);for(let j=z;j<S;j++){const K=j,U=d.charCodeAt(j);let G,te;f.isHighSurrogate(U)?(j++,G=0,te=2):(G=c.get(U),te=s(U,H,r,h)),t(F,W,U,G,L)&&(M=K,R=H),H+=te,H>x&&((M===0||H-R>T)&&(M=K,R=H-te),N[O]=M,A[O]=R,O++,x=R+T,M=0),F=U,W=G}return O===0&&(!u||u.length===0)?null:(N[O]=S,A[O]=H,new D.ModelLineProjectionData(_,v,N,A,I))}function s(c,m,u,r){return c===9?u-m%u:f.isFullWidthCharacter(c)||c<32?r:1}function i(c,m){return m-c%m}function t(c,m,u,r,a){return u!==32&&(m===2&&r!==2||m!==1&&r===1||!a&&m===3&&r!==2||!a&&r===3&&m!==1)}function n(c,m,u,r,a){let h=0;if(a!==0){const l=f.firstNonWhitespaceIndex(c);if(l!==-1){for(let d=0;d<l;d++){const v=c.charCodeAt(d)===9?i(h,m):1;h+=v}const g=a===3?2:a===2?1:0;for(let d=0;d<g;d++){const v=i(h,m);h+=v}h+r>u&&(h=0)}}return h}}),define(ie[322],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewZoneManager=e.OverviewRulerZone=e.ColorZone=void 0;class f{constructor(y,p,w){this._colorZoneBrand=void 0,this.from=y|0,this.to=p|0,this.colorId=w|0}static compare(y,p){return y.colorId===p.colorId?y.from===p.from?y.to-p.to:y.from-p.from:y.colorId-p.colorId}}e.ColorZone=f;class k{constructor(y,p,w,b){this._overviewRulerZoneBrand=void 0,this.startLineNumber=y,this.endLineNumber=p,this.heightInLines=w,this.color=b,this._colorZone=null}static compare(y,p){return y.color===p.color?y.startLineNumber===p.startLineNumber?y.heightInLines===p.heightInLines?y.endLineNumber-p.endLineNumber:y.heightInLines-p.heightInLines:y.startLineNumber-p.startLineNumber:y.color<p.color?-1:1}setColorZone(y){this._colorZone=y}getColorZones(){return this._colorZone}}e.OverviewRulerZone=k;class E{constructor(y){this._getVerticalOffsetForLine=y,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(y){this._zones=y,this._zones.sort(k.compare)}setLineHeight(y){return this._lineHeight===y?!1:(this._lineHeight=y,this._colorZonesInvalid=!0,!0)}setPixelRatio(y){this._pixelRatio=y,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(y){return this._domWidth===y?!1:(this._domWidth=y,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(y){return this._domHeight===y?!1:(this._domHeight=y,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(y){return this._outerHeight===y?!1:(this._outerHeight=y,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const y=this._colorZonesInvalid,p=Math.floor(this._lineHeight),w=Math.floor(this.getCanvasHeight()),b=Math.floor(this._outerHeight),C=w/b,o=Math.floor(4*this._pixelRatio/2),s=[];for(let i=0,t=this._zones.length;i<t;i++){const n=this._zones[i];if(!y){const v=n.getColorZones();if(v){s.push(v);continue}}const c=this._getVerticalOffsetForLine(n.startLineNumber),m=n.heightInLines===0?this._getVerticalOffsetForLine(n.endLineNumber)+p:c+n.heightInLines*p,u=Math.floor(C*c),r=Math.floor(C*m);let a=Math.floor((u+r)/2),h=r-a;h<o&&(h=o),a-h<0&&(a=h),a+h>w&&(a=w-h);const l=n.color;let g=this._color2Id[l];g||(g=++this._lastAssignedId,this._color2Id[l]=g,this._id2Color[g]=l);const d=new f(a-h,a+h,g);n.setColorZone(d),s.push(d)}return this._colorZonesInvalid=!1,s.sort(f.compare),s}}e.OverviewZoneManager=E}),define(ie[583],ne([1,0,40,322,165]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRuler=void 0;class D extends E.ViewEventHandler{constructor(p,w){super(),this._context=p;const b=this._context.configuration.options;this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName(w),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new k.OverviewZoneManager(C=>this._context.viewLayout.getVerticalOffsetForLineNumber(C)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(b.get(67)),this._zoneManager.setPixelRatio(b.get(143)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(p){const w=this._context.configuration.options;return p.hasChanged(67)&&(this._zoneManager.setLineHeight(w.get(67)),this._render()),p.hasChanged(143)&&(this._zoneManager.setPixelRatio(w.get(143)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(p){return this._render(),!0}onScrollChanged(p){return p.scrollHeightChanged&&(this._zoneManager.setOuterHeight(p.scrollHeight),this._render()),!0}onZonesChanged(p){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(p){this._domNode.setTop(p.top),this._domNode.setRight(p.right);let w=!1;w=this._zoneManager.setDOMWidth(p.width)||w,w=this._zoneManager.setDOMHeight(p.height)||w,w&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(p){this._zoneManager.setZones(p),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const p=this._zoneManager.getCanvasWidth(),w=this._zoneManager.getCanvasHeight(),b=this._zoneManager.resolveColorZones(),C=this._zoneManager.getId2Color(),o=this._domNode.domNode.getContext("2d");return o.clearRect(0,0,p,w),b.length>0&&this._renderOneLane(o,b,C,p),!0}_renderOneLane(p,w,b,C){let o=0,s=0,i=0;for(const t of w){const n=t.colorId,c=t.from,m=t.to;n!==o?(p.fillRect(0,s,C,i-s),o=n,p.fillStyle=b[o],s=c,i=m):i>=c?i=Math.max(i,m):(p.fillRect(0,s,C,i-s),s=c,i=m)}p.fillRect(0,s,C,i-s)}}e.OverviewRuler=D}),define(ie[584],ne([1,0,540]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContext=void 0;class k{constructor(D,y,p){this.configuration=D,this.theme=new f.EditorTheme(y),this.viewModel=p,this.viewLayout=p.viewLayout}addEventHandler(D){this.viewModel.addViewEventHandler(D)}removeEventHandler(D){this.viewModel.removeViewEventHandler(D)}}e.ViewContext=k}),define(ie[236],ne([1,0,7,2]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ModelTokensChangedEvent=e.ModelOptionsChangedEvent=e.ModelContentChangedEvent=e.ModelLanguageConfigurationChangedEvent=e.ModelLanguageChangedEvent=e.ModelDecorationsChangedEvent=e.ReadOnlyEditAttemptEvent=e.CursorStateChangedEvent=e.HiddenAreasChangedEvent=e.ViewZonesChangedEvent=e.ScrollChangedEvent=e.FocusChangedEvent=e.ContentSizeChangedEvent=e.ViewModelEventsCollector=e.ViewModelEventDispatcher=void 0;class E extends k.Disposable{constructor(){super(),this._onEvent=this._register(new f.Emitter),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(a){this._addOutgoingEvent(a),this._emitOutgoingEvents()}_addOutgoingEvent(a){for(let h=0,l=this._outgoingEvents.length;h<l;h++){const g=this._outgoingEvents[h].kind===a.kind?this._outgoingEvents[h].attemptToMerge(a):null;if(g){this._outgoingEvents[h]=g;return}}this._outgoingEvents.push(a)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const a=this._outgoingEvents.shift();a.isNoOp()||this._onEvent.fire(a)}}addViewEventHandler(a){for(let h=0,l=this._eventHandlers.length;h<l;h++)this._eventHandlers[h]===a&&console.warn("Detected duplicate listener in ViewEventDispatcher",a);this._eventHandlers.push(a)}removeViewEventHandler(a){for(let h=0;h<this._eventHandlers.length;h++)if(this._eventHandlers[h]===a){this._eventHandlers.splice(h,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new D),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const a=this._collector.outgoingEvents,h=this._collector.viewEvents;this._collector=null;for(const l of a)this._addOutgoingEvent(l);h.length>0&&this._emitMany(h)}this._emitOutgoingEvents()}emitSingleViewEvent(a){try{this.beginEmitViewEvents().emitViewEvent(a)}finally{this.endEmitViewEvents()}}_emitMany(a){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(a):this._viewEventQueue=a,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const a=this._viewEventQueue;this._viewEventQueue=null;const h=this._eventHandlers.slice(0);for(const l of h)l.handleEvents(a)}}}e.ViewModelEventDispatcher=E;class D{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(a){this.viewEvents.push(a)}emitOutgoingEvent(a){this.outgoingEvents.push(a)}}e.ViewModelEventsCollector=D;class y{constructor(a,h,l,g){this.kind=0,this._oldContentWidth=a,this._oldContentHeight=h,this.contentWidth=l,this.contentHeight=g,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(a){return a.kind!==this.kind?null:new y(this._oldContentWidth,this._oldContentHeight,a.contentWidth,a.contentHeight)}}e.ContentSizeChangedEvent=y;class p{constructor(a,h){this.kind=1,this.oldHasFocus=a,this.hasFocus=h}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(a){return a.kind!==this.kind?null:new p(this.oldHasFocus,a.hasFocus)}}e.FocusChangedEvent=p;class w{constructor(a,h,l,g,d,v,_,S){this.kind=2,this._oldScrollWidth=a,this._oldScrollLeft=h,this._oldScrollHeight=l,this._oldScrollTop=g,this.scrollWidth=d,this.scrollLeft=v,this.scrollHeight=_,this.scrollTop=S,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(a){return a.kind!==this.kind?null:new w(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,a.scrollWidth,a.scrollLeft,a.scrollHeight,a.scrollTop)}}e.ScrollChangedEvent=w;class b{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ViewZonesChangedEvent=b;class C{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.HiddenAreasChangedEvent=C;class o{constructor(a,h,l,g,d,v,_){this.kind=6,this.oldSelections=a,this.selections=h,this.oldModelVersionId=l,this.modelVersionId=g,this.source=d,this.reason=v,this.reachedMaxCursorCount=_}static _selectionsAreEqual(a,h){if(!a&&!h)return!0;if(!a||!h)return!1;const l=a.length,g=h.length;if(l!==g)return!1;for(let d=0;d<l;d++)if(!a[d].equalsSelection(h[d]))return!1;return!0}isNoOp(){return o._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(a){return a.kind!==this.kind?null:new o(this.oldSelections,a.selections,this.oldModelVersionId,a.modelVersionId,a.source,a.reason,this.reachedMaxCursorCount||a.reachedMaxCursorCount)}}e.CursorStateChangedEvent=o;class s{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(a){return a.kind!==this.kind?null:this}}e.ReadOnlyEditAttemptEvent=s;class i{constructor(a){this.event=a,this.kind=7}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelDecorationsChangedEvent=i;class t{constructor(a){this.event=a,this.kind=8}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageChangedEvent=t;class n{constructor(a){this.event=a,this.kind=9}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelLanguageConfigurationChangedEvent=n;class c{constructor(a){this.event=a,this.kind=10}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelContentChangedEvent=c;class m{constructor(a){this.event=a,this.kind=11}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelOptionsChangedEvent=m;class u{constructor(a){this.event=a,this.kind=12}isNoOp(){return!1}attemptToMerge(a){return null}}e.ModelTokensChangedEvent=u}),define(ie[585],ne([1,0,7,2,158,578,91,236]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLayout=void 0;const w=125;class b{constructor(i,t,n,c){i=i|0,t=t|0,n=n|0,c=c|0,i<0&&(i=0),t<0&&(t=0),n<0&&(n=0),c<0&&(c=0),this.width=i,this.contentWidth=t,this.scrollWidth=Math.max(i,t),this.height=n,this.contentHeight=c,this.scrollHeight=Math.max(n,c)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class C extends k.Disposable{constructor(i,t){super(),this._onDidContentSizeChange=this._register(new f.Emitter),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new b(0,0,0,0),this._scrollable=this._register(new E.Scrollable({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:t})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const t=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const n=t.contentWidth!==i.contentWidth,c=t.contentHeight!==i.contentHeight;(n||c)&&this._onDidContentSizeChange.fire(new p.ContentSizeChangedEvent(t.contentWidth,t.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}}class o extends k.Disposable{constructor(i,t,n){super(),this._configuration=i;const c=this._configuration.options,m=c.get(145),u=c.get(84);this._linesLayout=new D.LinesLayout(t,c.get(67),u.top,u.bottom),this._maxLineWidth=0,this._overlayWidgetsMinWidth=0,this._scrollable=this._register(new C(0,n)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new b(m.contentWidth,0,m.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(114)?w:0)}onConfigurationChanged(i){const t=this._configuration.options;if(i.hasChanged(67)&&this._linesLayout.setLineHeight(t.get(67)),i.hasChanged(84)){const n=t.get(84);this._linesLayout.setPadding(n.top,n.bottom)}if(i.hasChanged(145)){const n=t.get(145),c=n.contentWidth,m=n.height,u=this._scrollable.getScrollDimensions(),r=u.contentWidth;this._scrollable.setScrollDimensions(new b(c,u.contentWidth,m,this._getContentHeight(c,m,r)))}else this._updateHeight();i.hasChanged(114)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,t){this._linesLayout.onLinesDeleted(i,t)}onLinesInserted(i,t){this._linesLayout.onLinesInserted(i,t)}_getHorizontalScrollbarHeight(i,t){const c=this._configuration.options.get(103);return c.horizontal===2||i>=t?0:c.horizontalScrollbarSize}_getContentHeight(i,t,n){const c=this._configuration.options;let m=this._linesLayout.getLinesTotalHeight();return c.get(105)?m+=Math.max(0,t-c.get(67)-c.get(84).bottom):c.get(103).ignoreHorizontalScrollbarInContentHeight||(m+=this._getHorizontalScrollbarHeight(i,n)),m}_updateHeight(){const i=this._scrollable.getScrollDimensions(),t=i.width,n=i.height,c=i.contentWidth;this._scrollable.setScrollDimensions(new b(t,i.contentWidth,n,this._getContentHeight(t,n,c)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getCurrentScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),t=this._scrollable.getFutureScrollPosition();return new y.Viewport(t.scrollTop,t.scrollLeft,i.width,i.height)}_computeContentWidth(){const i=this._configuration.options,t=this._maxLineWidth,n=i.get(146),c=i.get(50),m=i.get(145);if(n.isViewportWrapping){const u=i.get(73);return t>m.contentWidth+c.typicalHalfwidthCharacterWidth&&u.enabled&&u.side==="right"?t+m.verticalScrollbarWidth:t}else{const u=i.get(104)*c.typicalHalfwidthCharacterWidth,r=this._linesLayout.getWhitespaceMinWidth();return Math.max(t+u+m.verticalScrollbarWidth,r,this._overlayWidgetsMinWidth)}}setMaxLineWidth(i){this._maxLineWidth=i,this._updateContentWidth()}setOverlayWidgetsMinWidth(i){this._overlayWidgetsMinWidth=i,this._updateContentWidth()}_updateContentWidth(){const i=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new b(i.width,this._computeContentWidth(),i.height,i.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),t=i.scrollTop,n=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(t),c=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(n);return{scrollTop:t,scrollTopWithoutViewZones:t-c,scrollLeft:i.scrollLeft}}changeWhitespace(i){const t=this._linesLayout.changeWhitespace(i);return t&&this.onHeightMaybeChanged(),t}getVerticalOffsetForLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,t)}getVerticalOffsetAfterLineNumber(i,t=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,t)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const t=this._scrollable.getScrollDimensions();return i+t.height>t.scrollHeight&&(i=t.scrollHeight-t.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+t.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,t){t===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}hasPendingScrollAnimation(){return this._scrollable.hasPendingScrollAnimation()}deltaScrollNow(i,t){const n=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:n.scrollLeft+i,scrollTop:n.scrollTop+t})}}e.ViewLayout=o}),define(ie[586],ne([1,0,5,24]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveCaretCommand=void 0;class E{constructor(y,p){this._selection=y,this._isMovingLeft=p}getEditOperations(y,p){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const w=this._selection.startLineNumber,b=this._selection.startColumn,C=this._selection.endColumn;if(!(this._isMovingLeft&&b===1)&&!(!this._isMovingLeft&&C===y.getLineMaxColumn(w)))if(this._isMovingLeft){const o=new f.Range(w,b-1,w,b),s=y.getValueInRange(o);p.addEditOperation(o,null),p.addEditOperation(new f.Range(w,C,w,C),s)}else{const o=new f.Range(w,C,w,C+1),s=y.getValueInRange(o);p.addEditOperation(o,null),p.addEditOperation(new f.Range(w,b,w,b),s)}}computeCursorState(y,p){return this._isMovingLeft?new k.Selection(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new k.Selection(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}e.MoveCaretCommand=E}),define(ie[129],ne([1,0,10,88]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionItem=e.CodeActionCommandArgs=e.CodeActionTriggerSource=e.CodeActionKind=void 0,e.mayIncludeActionsOfKind=D,e.filtersAction=y,e.CodeActionKind=new class{constructor(){this.QuickFix=new k.HierarchicalKind("quickfix"),this.Refactor=new k.HierarchicalKind("refactor"),this.RefactorExtract=this.Refactor.append("extract"),this.RefactorInline=this.Refactor.append("inline"),this.RefactorMove=this.Refactor.append("move"),this.RefactorRewrite=this.Refactor.append("rewrite"),this.Notebook=new k.HierarchicalKind("notebook"),this.Source=new k.HierarchicalKind("source"),this.SourceOrganizeImports=this.Source.append("organizeImports"),this.SourceFixAll=this.Source.append("fixAll"),this.SurroundWith=this.Refactor.append("surround")}};var E;(function(C){C.Refactor="refactor",C.RefactorPreview="refactor preview",C.Lightbulb="lightbulb",C.Default="other (default)",C.SourceAction="source action",C.QuickFix="quick fix action",C.FixAll="fix all",C.OrganizeImports="organize imports",C.AutoFix="auto fix",C.QuickFixHover="quick fix hover window",C.OnSave="save participants",C.ProblemsView="problems view"})(E||(e.CodeActionTriggerSource=E={}));function D(C,o){return!(C.include&&!C.include.intersects(o)||C.excludes&&C.excludes.some(s=>p(o,s,C.include))||!C.includeSourceActions&&e.CodeActionKind.Source.contains(o))}function y(C,o){const s=o.kind?new k.HierarchicalKind(o.kind):void 0;return!(C.include&&(!s||!C.include.contains(s))||C.excludes&&s&&C.excludes.some(i=>p(s,i,C.include))||!C.includeSourceActions&&s&&e.CodeActionKind.Source.contains(s)||C.onlyIncludePreferredActions&&!o.isPreferred)}function p(C,o,s){return!(!o.contains(C)||s&&o.contains(s))}class w{static fromUser(o,s){return!o||typeof o!="object"?new w(s.kind,s.apply,!1):new w(w.getKindFromUser(o,s.kind),w.getApplyFromUser(o,s.apply),w.getPreferredUser(o))}static getApplyFromUser(o,s){switch(typeof o.apply=="string"?o.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return s}}static getKindFromUser(o,s){return typeof o.kind=="string"?new k.HierarchicalKind(o.kind):s}static getPreferredUser(o){return typeof o.preferred=="boolean"?o.preferred:!1}constructor(o,s,i){this.kind=o,this.apply=s,this.preferred=i}}e.CodeActionCommandArgs=w;class b{constructor(o,s,i){this.action=o,this.provider=s,this.highlightRange=i}async resolve(o){var s;if(!((s=this.provider)===null||s===void 0)&&s.resolveCodeAction&&!this.action.edit){let i;try{i=await this.provider.resolveCodeAction(this.action,o)}catch(t){(0,f.onUnexpectedExternalError)(t)}i&&(this.action.edit=i.edit)}return this}}e.CodeActionItem=b}),define(ie[587],ne([1,0,7]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerModel=void 0;class k{get color(){return this._color}set color(D){this._color.equals(D)||(this._color=D,this._onDidChangeColor.fire(D))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(D){this._colorPresentations=D,this.presentationIndex>D.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}constructor(D,y,p){this.presentationIndex=p,this._onColorFlushed=new f.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new f.Emitter,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new f.Emitter,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=D,this._color=D,this._colorPresentations=y}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(D,y){let p=-1;for(let w=0;w<this.colorPresentations.length;w++)if(y.toLowerCase()===this.colorPresentations[w].label){p=w;break}if(p===-1){const w=y.split("(")[0].toLowerCase();for(let b=0;b<this.colorPresentations.length;b++)if(this.colorPresentations[b].label.toLowerCase().startsWith(w)){p=b;break}}p!==-1&&p!==this.presentationIndex&&(this.presentationIndex=p,this._onDidChangePresentation.fire(this.presentation))}flushColor(){this._onColorFlushed.fire(this._color)}}e.ColorPickerModel=k}),define(ie[323],ne([1,0,72,9,5,24]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BlockCommentCommand=void 0;class y{constructor(w,b,C){this.languageConfigurationService=C,this._selection=w,this._insertSpace=b,this._usedEndToken=null}static _haystackHasNeedleAtOffset(w,b,C){if(C<0)return!1;const o=b.length,s=w.length;if(C+o>s)return!1;for(let i=0;i<o;i++){const t=w.charCodeAt(C+i),n=b.charCodeAt(i);if(t!==n&&!(t>=65&&t<=90&&t+32===n)&&!(n>=65&&n<=90&&n+32===t))return!1}return!0}_createOperationsForBlockComment(w,b,C,o,s,i){const t=w.startLineNumber,n=w.startColumn,c=w.endLineNumber,m=w.endColumn,u=s.getLineContent(t),r=s.getLineContent(c);let a=u.lastIndexOf(b,n-1+b.length),h=r.indexOf(C,m-1-C.length);if(a!==-1&&h!==-1)if(t===c)u.substring(a+b.length,h).indexOf(C)>=0&&(a=-1,h=-1);else{const g=u.substring(a+b.length),d=r.substring(0,h);(g.indexOf(C)>=0||d.indexOf(C)>=0)&&(a=-1,h=-1)}let l;a!==-1&&h!==-1?(o&&a+b.length<u.length&&u.charCodeAt(a+b.length)===32&&(b=b+" "),o&&h>0&&r.charCodeAt(h-1)===32&&(C=" "+C,h-=1),l=y._createRemoveBlockCommentOperations(new E.Range(t,a+b.length+1,c,h+1),b,C)):(l=y._createAddBlockCommentOperations(w,b,C,this._insertSpace),this._usedEndToken=l.length===1?C:null);for(const g of l)i.addTrackedEditOperation(g.range,g.text)}static _createRemoveBlockCommentOperations(w,b,C){const o=[];return E.Range.isEmpty(w)?o.push(f.EditOperation.delete(new E.Range(w.startLineNumber,w.startColumn-b.length,w.endLineNumber,w.endColumn+C.length))):(o.push(f.EditOperation.delete(new E.Range(w.startLineNumber,w.startColumn-b.length,w.startLineNumber,w.startColumn))),o.push(f.EditOperation.delete(new E.Range(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn+C.length)))),o}static _createAddBlockCommentOperations(w,b,C,o){const s=[];return E.Range.isEmpty(w)?s.push(f.EditOperation.replace(new E.Range(w.startLineNumber,w.startColumn,w.endLineNumber,w.endColumn),b+"  "+C)):(s.push(f.EditOperation.insert(new k.Position(w.startLineNumber,w.startColumn),b+(o?" ":""))),s.push(f.EditOperation.insert(new k.Position(w.endLineNumber,w.endColumn),(o?" ":"")+C))),s}getEditOperations(w,b){const C=this._selection.startLineNumber,o=this._selection.startColumn;w.tokenization.tokenizeIfCheap(C);const s=w.getLanguageIdAtPosition(C,o),i=this.languageConfigurationService.getLanguageConfiguration(s).comments;!i||!i.blockCommentStartToken||!i.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,i.blockCommentStartToken,i.blockCommentEndToken,this._insertSpace,w,b)}computeCursorState(w,b){const C=b.getInverseEditOperations();if(C.length===2){const o=C[0],s=C[1];return new D.Selection(o.range.endLineNumber,o.range.endColumn,s.range.startLineNumber,s.range.startColumn)}else{const o=C[0].range,s=this._usedEndToken?-this._usedEndToken.length-1:0;return new D.Selection(o.endLineNumber,o.endColumn+s,o.endLineNumber,o.endColumn+s)}}}e.BlockCommentCommand=y}),define(ie[588],ne([1,0,12,72,9,5,24,323]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineCommentCommand=void 0;class w{constructor(C,o,s,i,t,n,c){this.languageConfigurationService=C,this._selection=o,this._indentSize=s,this._type=i,this._insertSpace=t,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=n,this._ignoreFirstLine=c||!1}static _gatherPreflightCommentStrings(C,o,s,i){C.tokenization.tokenizeIfCheap(o);const t=C.getLanguageIdAtPosition(o,1),n=i.getLanguageConfiguration(t).comments,c=n?n.lineCommentToken:null;if(!c)return null;const m=[];for(let u=0,r=s-o+1;u<r;u++)m[u]={ignore:!1,commentStr:c,commentStrOffset:0,commentStrLength:c.length};return m}static _analyzeLines(C,o,s,i,t,n,c,m){let u=!0,r;C===0?r=!0:C===1?r=!1:r=!0;for(let a=0,h=i.length;a<h;a++){const l=i[a],g=t+a;if(g===t&&c){l.ignore=!0;continue}const d=s.getLineContent(g),v=f.firstNonWhitespaceIndex(d);if(v===-1){l.ignore=n,l.commentStrOffset=d.length;continue}if(u=!1,l.ignore=!1,l.commentStrOffset=v,r&&!p.BlockCommentCommand._haystackHasNeedleAtOffset(d,l.commentStr,v)&&(C===0?r=!1:C===1||(l.ignore=!0)),r&&o){const _=v+l.commentStrLength;_<d.length&&d.charCodeAt(_)===32&&(l.commentStrLength+=1)}}if(C===0&&u){r=!1;for(let a=0,h=i.length;a<h;a++)i[a].ignore=!1}return{supported:!0,shouldRemoveComments:r,lines:i}}static _gatherPreflightData(C,o,s,i,t,n,c,m){const u=w._gatherPreflightCommentStrings(s,i,t,m);return u===null?{supported:!1}:w._analyzeLines(C,o,s,u,i,n,c,m)}_executeLineComments(C,o,s,i){let t;s.shouldRemoveComments?t=w._createRemoveLineCommentsOperations(s.lines,i.startLineNumber):(w._normalizeInsertionPoint(C,s.lines,i.startLineNumber,this._indentSize),t=this._createAddLineCommentsOperations(s.lines,i.startLineNumber));const n=new E.Position(i.positionLineNumber,i.positionColumn);for(let c=0,m=t.length;c<m;c++)o.addEditOperation(t[c].range,t[c].text),D.Range.isEmpty(t[c].range)&&D.Range.getStartPosition(t[c].range).equals(n)&&C.getLineContent(n.lineNumber).length+1===n.column&&(this._deltaColumn=(t[c].text||"").length);this._selectionId=o.trackSelection(i)}_attemptRemoveBlockComment(C,o,s,i){let t=o.startLineNumber,n=o.endLineNumber;const c=i.length+Math.max(C.getLineFirstNonWhitespaceColumn(o.startLineNumber),o.startColumn);let m=C.getLineContent(t).lastIndexOf(s,c-1),u=C.getLineContent(n).indexOf(i,o.endColumn-1-s.length);return m!==-1&&u===-1&&(u=C.getLineContent(t).indexOf(i,m+s.length),n=t),m===-1&&u!==-1&&(m=C.getLineContent(n).lastIndexOf(s,u),t=n),o.isEmpty()&&(m===-1||u===-1)&&(m=C.getLineContent(t).indexOf(s),m!==-1&&(u=C.getLineContent(t).indexOf(i,m+s.length))),m!==-1&&C.getLineContent(t).charCodeAt(m+s.length)===32&&(s+=" "),u!==-1&&C.getLineContent(n).charCodeAt(u-1)===32&&(i=" "+i,u-=1),m!==-1&&u!==-1?p.BlockCommentCommand._createRemoveBlockCommentOperations(new D.Range(t,m+s.length+1,n,u+1),s,i):null}_executeBlockComment(C,o,s){C.tokenization.tokenizeIfCheap(s.startLineNumber);const i=C.getLanguageIdAtPosition(s.startLineNumber,1),t=this.languageConfigurationService.getLanguageConfiguration(i).comments;if(!t||!t.blockCommentStartToken||!t.blockCommentEndToken)return;const n=t.blockCommentStartToken,c=t.blockCommentEndToken;let m=this._attemptRemoveBlockComment(C,s,n,c);if(!m){if(s.isEmpty()){const u=C.getLineContent(s.startLineNumber);let r=f.firstNonWhitespaceIndex(u);r===-1&&(r=u.length),m=p.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(s.startLineNumber,r+1,s.startLineNumber,u.length+1),n,c,this._insertSpace)}else m=p.BlockCommentCommand._createAddBlockCommentOperations(new D.Range(s.startLineNumber,C.getLineFirstNonWhitespaceColumn(s.startLineNumber),s.endLineNumber,C.getLineMaxColumn(s.endLineNumber)),n,c,this._insertSpace);m.length===1&&(this._deltaColumn=n.length+1)}this._selectionId=o.trackSelection(s);for(const u of m)o.addEditOperation(u.range,u.text)}getEditOperations(C,o){let s=this._selection;if(this._moveEndPositionDown=!1,s.startLineNumber===s.endLineNumber&&this._ignoreFirstLine){o.addEditOperation(new D.Range(s.startLineNumber,C.getLineMaxColumn(s.startLineNumber),s.startLineNumber+1,1),s.startLineNumber===C.getLineCount()?"":`
`),this._selectionId=o.trackSelection(s);return}s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,C.getLineMaxColumn(s.endLineNumber-1)));const i=w._gatherPreflightData(this._type,this._insertSpace,C,s.startLineNumber,s.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return i.supported?this._executeLineComments(C,o,i,s):this._executeBlockComment(C,o,s)}computeCursorState(C,o){let s=o.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(s=s.setEndPosition(s.endLineNumber+1,1)),new y.Selection(s.selectionStartLineNumber,s.selectionStartColumn+this._deltaColumn,s.positionLineNumber,s.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(C,o){const s=[];for(let i=0,t=C.length;i<t;i++){const n=C[i];n.ignore||s.push(k.EditOperation.delete(new D.Range(o+i,n.commentStrOffset+1,o+i,n.commentStrOffset+n.commentStrLength+1)))}return s}_createAddLineCommentsOperations(C,o){const s=[],i=this._insertSpace?" ":"";for(let t=0,n=C.length;t<n;t++){const c=C[t];c.ignore||s.push(k.EditOperation.insert(new E.Position(o+t,c.commentStrOffset+1),c.commentStr+i))}return s}static nextVisibleColumn(C,o,s,i){return s?C+(o-C%o):C+i}static _normalizeInsertionPoint(C,o,s,i){let t=1073741824,n,c;for(let m=0,u=o.length;m<u;m++){if(o[m].ignore)continue;const r=C.getLineContent(s+m);let a=0;for(let h=0,l=o[m].commentStrOffset;a<t&&h<l;h++)a=w.nextVisibleColumn(a,i,r.charCodeAt(h)===9,1);a<t&&(t=a)}t=Math.floor(t/i)*i;for(let m=0,u=o.length;m<u;m++){if(o[m].ignore)continue;const r=C.getLineContent(s+m);let a=0;for(n=0,c=o[m].commentStrOffset;a<t&&n<c;n++)a=w.nextVisibleColumn(a,i,r.charCodeAt(n)===9,1);a>t?o[m].commentStrOffset=n-1:o[m].commentStrOffset=n}}}e.LineCommentCommand=w}),define(ie[589],ne([1,0,5,24]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropCommand=void 0;class E{constructor(y,p,w){this.selection=y,this.targetPosition=p,this.copy=w,this.targetSelection=null}getEditOperations(y,p){const w=y.getValueInRange(this.selection);if(this.copy||p.addEditOperation(this.selection,null),p.addEditOperation(new f.Range(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),w),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new k.Selection(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new k.Selection(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(y,p){return this.targetSelection}}e.DragAndDropCommand=E}),define(ie[590],ne([1,0,5]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceAllCommand=void 0;class k{constructor(D,y,p){this._editorSelection=D,this._ranges=y,this._replaceStrings=p,this._trackedEditorSelectionId=null}getEditOperations(D,y){if(this._ranges.length>0){const p=[];for(let C=0;C<this._ranges.length;C++)p.push({range:this._ranges[C],text:this._replaceStrings[C]});p.sort((C,o)=>f.Range.compareRangesUsingStarts(C.range,o.range));const w=[];let b=p[0];for(let C=1;C<p.length;C++)b.range.endLineNumber===p[C].range.startLineNumber&&b.range.endColumn===p[C].range.startColumn?(b.range=b.range.plusRange(p[C].range),b.text=b.text+p[C].text):(w.push(b),b=p[C]);w.push(b);for(const C of w)y.addEditOperation(C.range,C.text)}this._trackedEditorSelectionId=y.trackSelection(this._editorSelection)}computeCursorState(D,y){return y.getTrackedSelection(this._trackedEditorSelectionId)}}e.ReplaceAllCommand=k}),define(ie[591],ne([1,0,434]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplacePiece=e.ReplacePattern=void 0,e.parseReplaceString=w;class k{constructor(C){this.staticValue=C,this.kind=0}}class E{constructor(C){this.pieces=C,this.kind=1}}class D{static fromStaticValue(C){return new D([y.staticValue(C)])}get hasReplacementPatterns(){return this._state.kind===1}constructor(C){!C||C.length===0?this._state=new k(""):C.length===1&&C[0].staticValue!==null?this._state=new k(C[0].staticValue):this._state=new E(C)}buildReplaceString(C,o){if(this._state.kind===0)return o?(0,f.buildReplaceStringWithCasePreserved)(C,this._state.staticValue):this._state.staticValue;let s="";for(let i=0,t=this._state.pieces.length;i<t;i++){const n=this._state.pieces[i];if(n.staticValue!==null){s+=n.staticValue;continue}let c=D._substitute(n.matchIndex,C);if(n.caseOps!==null&&n.caseOps.length>0){const m=[],u=n.caseOps.length;let r=0;for(let a=0,h=c.length;a<h;a++){if(r>=u){m.push(c.slice(a));break}switch(n.caseOps[r]){case"U":m.push(c[a].toUpperCase());break;case"u":m.push(c[a].toUpperCase()),r++;break;case"L":m.push(c[a].toLowerCase());break;case"l":m.push(c[a].toLowerCase()),r++;break;default:m.push(c[a])}}c=m.join("")}s+=c}return s}static _substitute(C,o){if(o===null)return"";if(C===0)return o[0];let s="";for(;C>0;){if(C<o.length)return(o[C]||"")+s;s=String(C%10)+s,C=Math.floor(C/10)}return"$"+s}}e.ReplacePattern=D;class y{static staticValue(C){return new y(C,-1,null)}static caseOps(C,o){return new y(null,C,o)}constructor(C,o,s){this.staticValue=C,this.matchIndex=o,!s||s.length===0?this.caseOps=null:this.caseOps=s.slice(0)}}e.ReplacePiece=y;class p{constructor(C){this._source=C,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(C){this._emitStatic(this._source.substring(this._lastCharIndex,C)),this._lastCharIndex=C}emitStatic(C,o){this._emitStatic(C),this._lastCharIndex=o}_emitStatic(C){C.length!==0&&(this._currentStaticPiece+=C)}emitMatchIndex(C,o,s){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=y.caseOps(C,s),this._lastCharIndex=o}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=y.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new D(this._result)}}function w(b){if(!b||b.length===0)return new D(null);const C=[],o=new p(b);for(let s=0,i=b.length;s<i;s++){const t=b.charCodeAt(s);if(t===92){if(s++,s>=i)break;const n=b.charCodeAt(s);switch(n){case 92:o.emitUnchanged(s-1),o.emitStatic("\\",s+1);break;case 110:o.emitUnchanged(s-1),o.emitStatic(`
`,s+1);break;case 116:o.emitUnchanged(s-1),o.emitStatic("	",s+1);break;case 117:case 85:case 108:case 76:o.emitUnchanged(s-1),o.emitStatic("",s+1),C.push(String.fromCharCode(n));break}continue}if(t===36){if(s++,s>=i)break;const n=b.charCodeAt(s);if(n===36){o.emitUnchanged(s-1),o.emitStatic("$",s+1);continue}if(n===48||n===38){o.emitUnchanged(s-1),o.emitMatchIndex(0,s+1,C),C.length=0;continue}if(49<=n&&n<=57){let c=n-48;if(s+1<i){const m=b.charCodeAt(s+1);if(48<=m&&m<=57){s++,c=c*10+(m-48),o.emitUnchanged(s-2),o.emitMatchIndex(c,s+1,C),C.length=0;continue}}o.emitUnchanged(s-1),o.emitMatchIndex(c,s+1,C),C.length=0;continue}}}return o.finalize()}}),define(ie[197],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingRegion=e.FoldingRegions=e.MAX_LINE_NUMBER=e.MAX_FOLDING_REGIONS=e.foldSourceAbbr=void 0,e.foldSourceAbbr={0:" ",1:"u",2:"r"},e.MAX_FOLDING_REGIONS=65535,e.MAX_LINE_NUMBER=16777215;const f=4278190080;class k{constructor(p){const w=Math.ceil(p/32);this._states=new Uint32Array(w)}get(p){const w=p/32|0,b=p%32;return(this._states[w]&1<<b)!==0}set(p,w){const b=p/32|0,C=p%32,o=this._states[b];w?this._states[b]=o|1<<C:this._states[b]=o&~(1<<C)}}class E{constructor(p,w,b){if(p.length!==w.length||p.length>e.MAX_FOLDING_REGIONS)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=p,this._endIndexes=w,this._collapseStates=new k(p.length),this._userDefinedStates=new k(p.length),this._recoveredStates=new k(p.length),this._types=b,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const p=[],w=(b,C)=>{const o=p[p.length-1];return this.getStartLineNumber(o)<=b&&this.getEndLineNumber(o)>=C};for(let b=0,C=this._startIndexes.length;b<C;b++){const o=this._startIndexes[b],s=this._endIndexes[b];if(o>e.MAX_LINE_NUMBER||s>e.MAX_LINE_NUMBER)throw new Error("startLineNumber or endLineNumber must not exceed "+e.MAX_LINE_NUMBER);for(;p.length>0&&!w(o,s);)p.pop();const i=p.length>0?p[p.length-1]:-1;p.push(b),this._startIndexes[b]=o+((i&255)<<24),this._endIndexes[b]=s+((i&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(p){return this._startIndexes[p]&e.MAX_LINE_NUMBER}getEndLineNumber(p){return this._endIndexes[p]&e.MAX_LINE_NUMBER}getType(p){return this._types?this._types[p]:void 0}hasTypes(){return!!this._types}isCollapsed(p){return this._collapseStates.get(p)}setCollapsed(p,w){this._collapseStates.set(p,w)}isUserDefined(p){return this._userDefinedStates.get(p)}setUserDefined(p,w){return this._userDefinedStates.set(p,w)}isRecovered(p){return this._recoveredStates.get(p)}setRecovered(p,w){return this._recoveredStates.set(p,w)}getSource(p){return this.isUserDefined(p)?1:this.isRecovered(p)?2:0}setSource(p,w){w===1?(this.setUserDefined(p,!0),this.setRecovered(p,!1)):w===2?(this.setUserDefined(p,!1),this.setRecovered(p,!0)):(this.setUserDefined(p,!1),this.setRecovered(p,!1))}setCollapsedAllOfType(p,w){let b=!1;if(this._types)for(let C=0;C<this._types.length;C++)this._types[C]===p&&(this.setCollapsed(C,w),b=!0);return b}toRegion(p){return new D(this,p)}getParentIndex(p){this.ensureParentIndices();const w=((this._startIndexes[p]&f)>>>24)+((this._endIndexes[p]&f)>>>16);return w===e.MAX_FOLDING_REGIONS?-1:w}contains(p,w){return this.getStartLineNumber(p)<=w&&this.getEndLineNumber(p)>=w}findIndex(p){let w=0,b=this._startIndexes.length;if(b===0)return-1;for(;w<b;){const C=Math.floor((w+b)/2);p<this.getStartLineNumber(C)?b=C:w=C+1}return w-1}findRange(p){let w=this.findIndex(p);if(w>=0){if(this.getEndLineNumber(w)>=p)return w;for(w=this.getParentIndex(w);w!==-1;){if(this.contains(w,p))return w;w=this.getParentIndex(w)}}return-1}toString(){const p=[];for(let w=0;w<this.length;w++)p[w]=`[${e.foldSourceAbbr[this.getSource(w)]}${this.isCollapsed(w)?"+":"-"}] ${this.getStartLineNumber(w)}/${this.getEndLineNumber(w)}`;return p.join(", ")}toFoldRange(p){return{startLineNumber:this._startIndexes[p]&e.MAX_LINE_NUMBER,endLineNumber:this._endIndexes[p]&e.MAX_LINE_NUMBER,type:this._types?this._types[p]:void 0,isCollapsed:this.isCollapsed(p),source:this.getSource(p)}}static fromFoldRanges(p){const w=p.length,b=new Uint32Array(w),C=new Uint32Array(w);let o=[],s=!1;for(let t=0;t<w;t++){const n=p[t];b[t]=n.startLineNumber,C[t]=n.endLineNumber,o.push(n.type),n.type&&(s=!0)}s||(o=void 0);const i=new E(b,C,o);for(let t=0;t<w;t++)p[t].isCollapsed&&i.setCollapsed(t,!0),i.setSource(t,p[t].source);return i}static sanitizeAndMerge(p,w,b){b=b??Number.MAX_VALUE;const C=(h,l)=>Array.isArray(h)?g=>g<l?h[g]:void 0:g=>g<l?h.toFoldRange(g):void 0,o=C(p,p.length),s=C(w,w.length);let i=0,t=0,n=o(0),c=s(0);const m=[];let u,r=0;const a=[];for(;n||c;){let h;if(c&&(!n||n.startLineNumber>=c.startLineNumber))n&&n.startLineNumber===c.startLineNumber?(c.source===1?h=c:(h=n,h.isCollapsed=c.isCollapsed&&n.endLineNumber===c.endLineNumber,h.source=0),n=o(++i)):(h=c,c.isCollapsed&&c.source===0&&(h.source=2)),c=s(++t);else{let l=t,g=c;for(;;){if(!g||g.startLineNumber>n.endLineNumber){h=n;break}if(g.source===1&&g.endLineNumber>n.endLineNumber)break;g=s(++l)}n=o(++i)}if(h){for(;u&&u.endLineNumber<h.startLineNumber;)u=m.pop();h.endLineNumber>h.startLineNumber&&h.startLineNumber>r&&h.endLineNumber<=b&&(!u||u.endLineNumber>=h.endLineNumber)&&(a.push(h),r=h.startLineNumber,u&&m.push(u),u=h)}}return a}}e.FoldingRegions=E;class D{constructor(p,w){this.ranges=p,this.index=w}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(p){return p.startLineNumber<=this.startLineNumber&&p.endLineNumber>=this.endLineNumber}containsLine(p){return this.startLineNumber<=p&&p<=this.endLineNumber}}e.FoldingRegion=D}),define(ie[324],ne([1,0,7,197,125]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingModel=void 0,e.toggleCollapseState=y,e.setCollapseStateLevelsDown=p,e.setCollapseStateLevelsUp=w,e.setCollapseStateUp=b,e.setCollapseStateAtLevel=C,e.setCollapseStateForRest=o,e.setCollapseStateForMatchingLines=s,e.setCollapseStateForType=i,e.getParentFoldLine=t,e.getPreviousFoldLine=n,e.getNextFoldLine=c;class D{get regions(){return this._regions}get textModel(){return this._textModel}constructor(u,r){this._updateEventEmitter=new f.Emitter,this.onDidChange=this._updateEventEmitter.event,this._textModel=u,this._decorationProvider=r,this._regions=new k.FoldingRegions(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}toggleCollapseState(u){if(!u.length)return;u=u.sort((a,h)=>a.regionIndex-h.regionIndex);const r={};this._decorationProvider.changeDecorations(a=>{let h=0,l=-1,g=-1;const d=v=>{for(;h<v;){const _=this._regions.getEndLineNumber(h),S=this._regions.isCollapsed(h);if(_<=l){const L=this.regions.getSource(h)!==0;a.changeDecorationOptions(this._editorDecorationIds[h],this._decorationProvider.getDecorationOption(S,_<=g,L))}S&&_>g&&(g=_),h++}};for(const v of u){const _=v.regionIndex,S=this._editorDecorationIds[_];if(S&&!r[S]){r[S]=!0,d(_);const L=!this._regions.isCollapsed(_);this._regions.setCollapsed(_,L),l=Math.max(l,this._regions.getEndLineNumber(_))}}d(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:u})}removeManualRanges(u){const r=new Array,a=h=>{for(const l of u)if(!(l.startLineNumber>h.endLineNumber||h.startLineNumber>l.endLineNumber))return!0;return!1};for(let h=0;h<this._regions.length;h++){const l=this._regions.toFoldRange(h);(l.source===0||!a(l))&&r.push(l)}this.updatePost(k.FoldingRegions.fromFoldRanges(r))}update(u,r=[]){const a=this._currentFoldedOrManualRanges(r),h=k.FoldingRegions.sanitizeAndMerge(u,a,this._textModel.getLineCount());this.updatePost(k.FoldingRegions.fromFoldRanges(h))}updatePost(u){const r=[];let a=-1;for(let h=0,l=u.length;h<l;h++){const g=u.getStartLineNumber(h),d=u.getEndLineNumber(h),v=u.isCollapsed(h),_=u.getSource(h)!==0,S={startLineNumber:g,startColumn:this._textModel.getLineMaxColumn(g),endLineNumber:d,endColumn:this._textModel.getLineMaxColumn(d)+1};r.push({range:S,options:this._decorationProvider.getDecorationOption(v,d<=a,_)}),v&&d>a&&(a=d)}this._decorationProvider.changeDecorations(h=>this._editorDecorationIds=h.deltaDecorations(this._editorDecorationIds,r)),this._regions=u,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(u=[]){const r=(h,l)=>{for(const g of u)if(h<g&&g<=l)return!0;return!1},a=[];for(let h=0,l=this._regions.length;h<l;h++){let g=this.regions.isCollapsed(h);const d=this.regions.getSource(h);if(g||d!==0){const v=this._regions.toFoldRange(h),_=this._textModel.getDecorationRange(this._editorDecorationIds[h]);_&&(g&&r(_.startLineNumber,_.endLineNumber)&&(g=!1),a.push({startLineNumber:_.startLineNumber,endLineNumber:_.endLineNumber,type:v.type,isCollapsed:g,source:d}))}}return a}getMemento(){const u=this._currentFoldedOrManualRanges(),r=[],a=this._textModel.getLineCount();for(let h=0,l=u.length;h<l;h++){const g=u[h];if(g.startLineNumber>=g.endLineNumber||g.startLineNumber<1||g.endLineNumber>a)continue;const d=this._getLinesChecksum(g.startLineNumber+1,g.endLineNumber);r.push({startLineNumber:g.startLineNumber,endLineNumber:g.endLineNumber,isCollapsed:g.isCollapsed,source:g.source,checksum:d})}return r.length>0?r:void 0}applyMemento(u){var r,a;if(!Array.isArray(u))return;const h=[],l=this._textModel.getLineCount();for(const d of u){if(d.startLineNumber>=d.endLineNumber||d.startLineNumber<1||d.endLineNumber>l)continue;const v=this._getLinesChecksum(d.startLineNumber+1,d.endLineNumber);(!d.checksum||v===d.checksum)&&h.push({startLineNumber:d.startLineNumber,endLineNumber:d.endLineNumber,type:void 0,isCollapsed:(r=d.isCollapsed)!==null&&r!==void 0?r:!0,source:(a=d.source)!==null&&a!==void 0?a:0})}const g=k.FoldingRegions.sanitizeAndMerge(this._regions,h,l);this.updatePost(k.FoldingRegions.fromFoldRanges(g))}_getLinesChecksum(u,r){return(0,E.hash)(this._textModel.getLineContent(u)+this._textModel.getLineContent(r))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(u,r){const a=[];if(this._regions){let h=this._regions.findRange(u),l=1;for(;h>=0;){const g=this._regions.toRegion(h);(!r||r(g,l))&&a.push(g),l++,h=g.parentIndex}}return a}getRegionAtLine(u){if(this._regions){const r=this._regions.findRange(u);if(r>=0)return this._regions.toRegion(r)}return null}getRegionsInside(u,r){const a=[],h=u?u.regionIndex+1:0,l=u?u.endLineNumber:Number.MAX_VALUE;if(r&&r.length===2){const g=[];for(let d=h,v=this._regions.length;d<v;d++){const _=this._regions.toRegion(d);if(this._regions.getStartLineNumber(d)<l){for(;g.length>0&&!_.containedBy(g[g.length-1]);)g.pop();g.push(_),r(_,g.length)&&a.push(_)}else break}}else for(let g=h,d=this._regions.length;g<d;g++){const v=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<l)(!r||r(v))&&a.push(v);else break}return a}}e.FoldingModel=D;function y(m,u,r){const a=[];for(const h of r){const l=m.getRegionAtLine(h);if(l){const g=!l.isCollapsed;if(a.push(l),u>1){const d=m.getRegionsInside(l,(v,_)=>v.isCollapsed!==g&&_<u);a.push(...d)}}}m.toggleCollapseState(a)}function p(m,u,r=Number.MAX_VALUE,a){const h=[];if(a&&a.length>0)for(const l of a){const g=m.getRegionAtLine(l);if(g&&(g.isCollapsed!==u&&h.push(g),r>1)){const d=m.getRegionsInside(g,(v,_)=>v.isCollapsed!==u&&_<r);h.push(...d)}}else{const l=m.getRegionsInside(null,(g,d)=>g.isCollapsed!==u&&d<r);h.push(...l)}m.toggleCollapseState(h)}function w(m,u,r,a){const h=[];for(const l of a){const g=m.getAllRegionsAtLine(l,(d,v)=>d.isCollapsed!==u&&v<=r);h.push(...g)}m.toggleCollapseState(h)}function b(m,u,r){const a=[];for(const h of r){const l=m.getAllRegionsAtLine(h,g=>g.isCollapsed!==u);l.length>0&&a.push(l[0])}m.toggleCollapseState(a)}function C(m,u,r,a){const h=(g,d)=>d===u&&g.isCollapsed!==r&&!a.some(v=>g.containsLine(v)),l=m.getRegionsInside(null,h);m.toggleCollapseState(l)}function o(m,u,r){const a=[];for(const g of r){const d=m.getAllRegionsAtLine(g,void 0);d.length>0&&a.push(d[0])}const h=g=>a.every(d=>!d.containedBy(g)&&!g.containedBy(d))&&g.isCollapsed!==u,l=m.getRegionsInside(null,h);m.toggleCollapseState(l)}function s(m,u,r){const a=m.textModel,h=m.regions,l=[];for(let g=h.length-1;g>=0;g--)if(r!==h.isCollapsed(g)){const d=h.getStartLineNumber(g);u.test(a.getLineContent(d))&&l.push(h.toRegion(g))}m.toggleCollapseState(l)}function i(m,u,r){const a=m.regions,h=[];for(let l=a.length-1;l>=0;l--)r!==a.isCollapsed(l)&&u===a.getType(l)&&h.push(a.toRegion(l));m.toggleCollapseState(h)}function t(m,u){let r=null;const a=u.getRegionAtLine(m);if(a!==null&&(r=a.startLineNumber,m===r)){const h=a.parentIndex;h!==-1?r=u.regions.getStartLineNumber(h):r=null}return r}function n(m,u){let r=u.getRegionAtLine(m);if(r!==null&&r.startLineNumber===m){if(m!==r.startLineNumber)return r.startLineNumber;{const a=r.parentIndex;let h=0;for(a!==-1&&(h=u.regions.getStartLineNumber(r.parentIndex));r!==null;)if(r.regionIndex>0){if(r=u.regions.toRegion(r.regionIndex-1),r.startLineNumber<=h)return null;if(r.parentIndex===a)return r.startLineNumber}else return null}}else if(u.regions.length>0)for(r=u.regions.toRegion(u.regions.length-1);r!==null;){if(r.startLineNumber<m)return r.startLineNumber;r.regionIndex>0?r=u.regions.toRegion(r.regionIndex-1):r=null}return null}function c(m,u){let r=u.getRegionAtLine(m);if(r!==null&&r.startLineNumber===m){const a=r.parentIndex;let h=0;if(a!==-1)h=u.regions.getEndLineNumber(r.parentIndex);else{if(u.regions.length===0)return null;h=u.regions.getEndLineNumber(u.regions.length-1)}for(;r!==null;)if(r.regionIndex<u.regions.length){if(r=u.regions.toRegion(r.regionIndex+1),r.startLineNumber>=h)return null;if(r.parentIndex===a)return r.startLineNumber}else return null}else if(u.regions.length>0)for(r=u.regions.toRegion(0);r!==null;){if(r.startLineNumber>m)return r.startLineNumber;r.regionIndex<u.regions.length?r=u.regions.toRegion(r.regionIndex+1):r=null}return null}}),define(ie[592],ne([1,0,67,7,5,140]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HiddenRangeModel=void 0;class y{get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}constructor(C){this._updateEventEmitter=new k.Emitter,this._hasLineChanges=!1,this._foldingModel=C,this._foldingModelListener=C.onDidChange(o=>this.updateHiddenRanges()),this._hiddenRanges=[],C.regions.length&&this.updateHiddenRanges()}notifyChangeModelContent(C){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=C.changes.some(o=>o.range.endLineNumber!==o.range.startLineNumber||(0,D.countEOL)(o.text)[0]!==0))}updateHiddenRanges(){let C=!1;const o=[];let s=0,i=0,t=Number.MAX_VALUE,n=-1;const c=this._foldingModel.regions;for(;s<c.length;s++){if(!c.isCollapsed(s))continue;const m=c.getStartLineNumber(s)+1,u=c.getEndLineNumber(s);t<=m&&u<=n||(!C&&i<this._hiddenRanges.length&&this._hiddenRanges[i].startLineNumber===m&&this._hiddenRanges[i].endLineNumber===u?(o.push(this._hiddenRanges[i]),i++):(C=!0,o.push(new E.Range(m,1,u,1))),t=m,n=u)}(this._hasLineChanges||C||i<this._hiddenRanges.length)&&this.applyHiddenRanges(o)}applyHiddenRanges(C){this._hiddenRanges=C,this._hasLineChanges=!1,this._updateEventEmitter.fire(C)}hasRanges(){return this._hiddenRanges.length>0}isHidden(C){return w(this._hiddenRanges,C)!==null}adjustSelections(C){let o=!1;const s=this._foldingModel.textModel;let i=null;const t=n=>((!i||!p(n,i))&&(i=w(this._hiddenRanges,n)),i?i.startLineNumber-1:null);for(let n=0,c=C.length;n<c;n++){let m=C[n];const u=t(m.startLineNumber);u&&(m=m.setStartPosition(u,s.getLineMaxColumn(u)),o=!0);const r=t(m.endLineNumber);r&&(m=m.setEndPosition(r,s.getLineMaxColumn(r)),o=!0),C[n]=m}return o}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}e.HiddenRangeModel=y;function p(b,C){return b>=C.startLineNumber&&b<=C.endLineNumber}function w(b,C){const o=(0,f.findFirstIdxMonotonousOrArrLen)(b,s=>C<s.startLineNumber)-1;return o>=0&&b[o].endLineNumber>=C?b[o]:null}}),define(ie[325],ne([1,0,231,197]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RangesCollector=e.IndentRangeProvider=void 0,e.computeRanges=b;const E=5e3,D="indent";class y{constructor(o,s,i){this.editorModel=o,this.languageConfigurationService=s,this.foldingRangesLimit=i,this.id=D}dispose(){}compute(o){const s=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,i=s&&!!s.offSide,t=s&&s.markers;return Promise.resolve(b(this.editorModel,i,t,this.foldingRangesLimit))}}e.IndentRangeProvider=y;class p{constructor(o){this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=o}insertFirst(o,s,i){if(o>k.MAX_LINE_NUMBER||s>k.MAX_LINE_NUMBER)return;const t=this._length;this._startIndexes[t]=o,this._endIndexes[t]=s,this._length++,i<1e3&&(this._indentOccurrences[i]=(this._indentOccurrences[i]||0)+1)}toIndentRanges(o){const s=this._foldingRangesLimit.limit;if(this._length<=s){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=this._length-1,c=0;n>=0;n--,c++)i[c]=this._startIndexes[n],t[c]=this._endIndexes[n];return new k.FoldingRegions(i,t)}else{this._foldingRangesLimit.update(this._length,s);let i=0,t=this._indentOccurrences.length;for(let u=0;u<this._indentOccurrences.length;u++){const r=this._indentOccurrences[u];if(r){if(r+i>s){t=u;break}i+=r}}const n=o.getOptions().tabSize,c=new Uint32Array(s),m=new Uint32Array(s);for(let u=this._length-1,r=0;u>=0;u--){const a=this._startIndexes[u],h=o.getLineContent(a),l=(0,f.computeIndentLevel)(h,n);(l<t||l===t&&i++<s)&&(c[r]=a,m[r]=this._endIndexes[u],r++)}return new k.FoldingRegions(c,m)}}}e.RangesCollector=p;const w={limit:E,update:()=>{}};function b(C,o,s,i=w){const t=C.getOptions().tabSize,n=new p(i);let c;s&&(c=new RegExp(`(${s.start.source})|(?:${s.end.source})`));const m=[],u=C.getLineCount()+1;m.push({indent:-1,endAbove:u,line:u});for(let r=C.getLineCount();r>0;r--){const a=C.getLineContent(r),h=(0,f.computeIndentLevel)(a,t);let l=m[m.length-1];if(h===-1){o&&(l.endAbove=r);continue}let g;if(c&&(g=a.match(c)))if(g[1]){let d=m.length-1;for(;d>0&&m[d].indent!==-2;)d--;if(d>0){m.length=d+1,l=m[d],n.insertFirst(r,l.line,h),l.line=r,l.indent=h,l.endAbove=r;continue}}else{m.push({indent:-2,endAbove:r,line:r});continue}if(l.indent>h){do m.pop(),l=m[m.length-1];while(l.indent>h);const d=l.endAbove-1;d-r>=1&&n.insertFirst(r,d,h)}l.indent===h?l.endAbove=r:m.push({indent:h,endAbove:r,line:r})}return n.toIndentRanges(C)}}),define(ie[326],ne([1,0,10,2,197]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyntaxRangeProvider=void 0,e.sanitizeRanges=C;const D={},y="syntax";class p{constructor(s,i,t,n,c){this.editorModel=s,this.providers=i,this.handleFoldingRangesChange=t,this.foldingRangesLimit=n,this.fallbackRangeProvider=c,this.id=y,this.disposables=new k.DisposableStore,c&&this.disposables.add(c);for(const m of i)typeof m.onDidChange=="function"&&this.disposables.add(m.onDidChange(t))}compute(s){return w(this.providers,this.editorModel,s).then(i=>{var t,n;return i?C(i,this.foldingRangesLimit):(n=(t=this.fallbackRangeProvider)===null||t===void 0?void 0:t.compute(s))!==null&&n!==void 0?n:null})}dispose(){this.disposables.dispose()}}e.SyntaxRangeProvider=p;function w(o,s,i){let t=null;const n=o.map((c,m)=>Promise.resolve(c.provideFoldingRanges(s,D,i)).then(u=>{if(!i.isCancellationRequested&&Array.isArray(u)){Array.isArray(t)||(t=[]);const r=s.getLineCount();for(const a of u)a.start>0&&a.end>a.start&&a.end<=r&&t.push({start:a.start,end:a.end,rank:m,kind:a.kind})}},f.onUnexpectedExternalError));return Promise.all(n).then(c=>t)}class b{constructor(s){this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=s}add(s,i,t,n){if(s>E.MAX_LINE_NUMBER||i>E.MAX_LINE_NUMBER)return;const c=this._length;this._startIndexes[c]=s,this._endIndexes[c]=i,this._nestingLevels[c]=n,this._types[c]=t,this._length++,n<30&&(this._nestingLevelCounts[n]=(this._nestingLevelCounts[n]||0)+1)}toIndentRanges(){const s=this._foldingRangesLimit.limit;if(this._length<=s){this._foldingRangesLimit.update(this._length,!1);const i=new Uint32Array(this._length),t=new Uint32Array(this._length);for(let n=0;n<this._length;n++)i[n]=this._startIndexes[n],t[n]=this._endIndexes[n];return new E.FoldingRegions(i,t,this._types)}else{this._foldingRangesLimit.update(this._length,s);let i=0,t=this._nestingLevelCounts.length;for(let u=0;u<this._nestingLevelCounts.length;u++){const r=this._nestingLevelCounts[u];if(r){if(r+i>s){t=u;break}i+=r}}const n=new Uint32Array(s),c=new Uint32Array(s),m=[];for(let u=0,r=0;u<this._length;u++){const a=this._nestingLevels[u];(a<t||a===t&&i++<s)&&(n[r]=this._startIndexes[u],c[r]=this._endIndexes[u],m[r]=this._types[u],r++)}return new E.FoldingRegions(n,c,m)}}}function C(o,s){const i=o.sort((m,u)=>{let r=m.start-u.start;return r===0&&(r=m.rank-u.rank),r}),t=new b(s);let n;const c=[];for(const m of i)if(!n)n=m,t.add(m.start,m.end,m.kind&&m.kind.value,c.length);else if(m.start>n.start)if(m.end<=n.end)c.push(n),n=m,t.add(m.start,m.end,m.kind&&m.kind.value,c.length);else{if(m.start>n.end){do n=c.pop();while(n&&m.start>n.end);n&&c.push(n),n=m}t.add(m.start,m.end,m.kind&&m.kind.value,c.length)}return t.toIndentRanges()}}),define(ie[327],ne([1,0,72,5,138]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingEdit=void 0;class D{static _handleEolEdits(p,w){let b;const C=[];for(const o of w)typeof o.eol=="number"&&(b=o.eol),o.range&&typeof o.text=="string"&&C.push(o);return typeof b=="number"&&p.hasModel()&&p.getModel().pushEOL(b),C}static _isFullModelReplaceEdit(p,w){if(!p.hasModel())return!1;const b=p.getModel(),C=b.validateRange(w.range);return b.getFullModelRange().equalsRange(C)}static execute(p,w,b){b&&p.pushUndoStop();const C=E.StableEditorScrollState.capture(p),o=D._handleEolEdits(p,w);o.length===1&&D._isFullModelReplaceEdit(p,o[0])?p.executeEdits("formatEditsCommand",o.map(s=>f.EditOperation.replace(k.Range.lift(s.range),s.text))):p.executeEdits("formatEditsCommand",o.map(s=>f.EditOperation.replaceMove(k.Range.lift(s.range),s.text))),b&&p.pushUndoStop(),C.restoreRelativeVerticalPositionOfCursor(p)}}e.FormattingEdit=D}),define(ie[593],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverVisibleData=e.FilteredHoverResult=e.HoverResult=void 0;class f{constructor(y,p,w){this.anchor=y,this.messages=p,this.isComplete=w}filter(y){const p=this.messages.filter(w=>w.isValidForHoverAnchor(y));return p.length===this.messages.length?this:new k(this,this.anchor,p,this.isComplete)}}e.HoverResult=f;class k extends f{constructor(y,p,w,b){super(p,w,b),this.original=y}filter(y){return this.original.filter(y)}}e.FilteredHoverResult=k;class E{constructor(y,p,w,b,C,o,s,i,t,n){this.initialMousePosX=y,this.initialMousePosY=p,this.colorPicker=w,this.showAtPosition=b,this.showAtSecondaryPosition=C,this.preferAbove=o,this.stoleFocus=s,this.source=i,this.isBeforeContent=t,this.disposables=n,this.closestMouseDistance=void 0}}e.ContentHoverVisibleData=E}),define(ie[237],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DECREASE_HOVER_VERBOSITY_ACTION_ID=e.INCREASE_HOVER_VERBOSITY_ACTION_ID=e.GO_TO_BOTTOM_HOVER_ACTION_ID=e.GO_TO_TOP_HOVER_ACTION_ID=e.PAGE_DOWN_HOVER_ACTION_ID=e.PAGE_UP_HOVER_ACTION_ID=e.SCROLL_RIGHT_HOVER_ACTION_ID=e.SCROLL_LEFT_HOVER_ACTION_ID=e.SCROLL_DOWN_HOVER_ACTION_ID=e.SCROLL_UP_HOVER_ACTION_ID=e.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID=e.SHOW_OR_FOCUS_HOVER_ACTION_ID=void 0,e.SHOW_OR_FOCUS_HOVER_ACTION_ID="editor.action.showHover",e.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID="editor.action.showDefinitionPreviewHover",e.SCROLL_UP_HOVER_ACTION_ID="editor.action.scrollUpHover",e.SCROLL_DOWN_HOVER_ACTION_ID="editor.action.scrollDownHover",e.SCROLL_LEFT_HOVER_ACTION_ID="editor.action.scrollLeftHover",e.SCROLL_RIGHT_HOVER_ACTION_ID="editor.action.scrollRightHover",e.PAGE_UP_HOVER_ACTION_ID="editor.action.pageUpHover",e.PAGE_DOWN_HOVER_ACTION_ID="editor.action.pageDownHover",e.GO_TO_TOP_HOVER_ACTION_ID="editor.action.goToTopHover",e.GO_TO_BOTTOM_HOVER_ACTION_ID="editor.action.goToBottomHover",e.INCREASE_HOVER_VERBOSITY_ACTION_ID="editor.action.increaseHoverVerbosityLevel",e.DECREASE_HOVER_VERBOSITY_ACTION_ID="editor.action.decreaseHoverVerbosityLevel"}),define(ie[96],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverParticipantRegistry=e.HoverForeignElementAnchor=e.HoverRangeAnchor=void 0;class f{constructor(D,y,p,w){this.priority=D,this.range=y,this.initialMousePosX=p,this.initialMousePosY=w,this.type=1}equals(D){return D.type===1&&this.range.equalsRange(D.range)}canAdoptVisibleHover(D,y){return D.type===1&&y.lineNumber===this.range.startLineNumber}}e.HoverRangeAnchor=f;class k{constructor(D,y,p,w,b,C){this.priority=D,this.owner=y,this.range=p,this.initialMousePosX=w,this.initialMousePosY=b,this.supportsMarkerHover=C,this.type=2}equals(D){return D.type===2&&this.owner===D.owner}canAdoptVisibleHover(D,y){return D.type===2&&this.owner===D.owner}}e.HoverForeignElementAnchor=k,e.HoverParticipantRegistry=new class{constructor(){this._participants=[]}register(D){this._participants.push(D)}getAll(){return this._participants}}}),define(ie[594],ne([1,0,24]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InPlaceReplaceCommand=void 0;class k{constructor(D,y,p){this._editRange=D,this._originalSelection=y,this._text=p}getEditOperations(D,y){y.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(D,y){const w=y.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new f.Selection(w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn),w.endLineNumber,Math.min(this._originalSelection.positionColumn,w.endColumn)):new f.Selection(w.endLineNumber,w.endColumn-this._text.length,w.endLineNumber,w.endColumn)}}e.InPlaceReplaceCommand=k}),define(ie[328],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getSpaceCnt=f,e.generateIndent=k;function f(E,D){let y=0;for(let p=0;p<E.length;p++)E.charAt(p)==="	"?y+=D:y++;return y}function k(E,D,y){E=E<0?0:E;let p="";if(!y){const w=Math.floor(E/D);E=E%D;for(let b=0;b<w;b++)p+="	"}for(let w=0;w<E;w++)p+=" ";return p}}),define(ie[238],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showNextInlineSuggestionActionId=e.showPreviousInlineSuggestionActionId=e.inlineSuggestCommitId=void 0,e.inlineSuggestCommitId="editor.action.inlineSuggest.commit",e.showPreviousInlineSuggestionActionId="editor.action.inlineSuggest.showPrevious",e.showNextInlineSuggestionActionId="editor.action.inlineSuggest.showNext"}),define(ie[198],ne([1,0,13,12,9,5,109]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextReplacement=e.GhostTextPart=e.GhostText=void 0,e.ghostTextsOrReplacementsEqual=C,e.ghostTextOrReplacementEquals=o;class p{constructor(i,t){this.lineNumber=i,this.parts=t}equals(i){return this.lineNumber===i.lineNumber&&this.parts.length===i.parts.length&&this.parts.every((t,n)=>t.equals(i.parts[n]))}renderForScreenReader(i){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],n=i.substr(0,t.column-1);return new y.TextEdit([...this.parts.map(m=>new y.SingleTextEdit(D.Range.fromPositions(new E.Position(1,m.column)),m.lines.join(`
`)))]).applyToString(n).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(i=>i.lines.length===0)}get lineCount(){return 1+this.parts.reduce((i,t)=>i+t.lines.length-1,0)}}e.GhostText=p;class w{constructor(i,t,n){this.column=i,this.text=t,this.preview=n,this.lines=(0,k.splitLines)(this.text)}equals(i){return this.column===i.column&&this.lines.length===i.lines.length&&this.lines.every((t,n)=>t===i.lines[n])}}e.GhostTextPart=w;class b{constructor(i,t,n,c=0){this.lineNumber=i,this.columnRange=t,this.text=n,this.additionalReservedLineCount=c,this.parts=[new w(this.columnRange.endColumnExclusive,this.text,!1)],this.newLines=(0,k.splitLines)(this.text)}renderForScreenReader(i){return this.newLines.join(`
`)}get lineCount(){return this.newLines.length}isEmpty(){return this.parts.every(i=>i.lines.length===0)}equals(i){return this.lineNumber===i.lineNumber&&this.columnRange.equals(i.columnRange)&&this.newLines.length===i.newLines.length&&this.newLines.every((t,n)=>t===i.newLines[n])&&this.additionalReservedLineCount===i.additionalReservedLineCount}}e.GhostTextReplacement=b;function C(s,i){return(0,f.equals)(s,i,o)}function o(s,i){return s===i?!0:!s||!i?!1:s instanceof p&&i instanceof p||s instanceof b&&i instanceof b?s.equals(i):!1}}),define(ie[239],ne([1,0,185,12,5,108,109,198]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.singleTextRemoveCommonPrefix=w,e.singleTextEditAugments=b,e.computeGhostText=C;function w(c,m,u){const r=u?c.range.intersectRanges(u):c.range;if(!r)return c;const a=m.getValueInRange(r,1),h=(0,k.commonPrefixLength)(a,c.text),l=D.TextLength.ofText(a.substring(0,h)).addToPosition(c.range.getStartPosition()),g=c.text.substring(h),d=E.Range.fromPositions(l,c.range.getEndPosition());return new y.SingleTextEdit(d,g)}function b(c,m){return c.text.startsWith(m.text)&&o(c.range,m.range)}function C(c,m,u,r,a=0){let h=w(c,m);if(h.range.endLineNumber!==h.range.startLineNumber)return;const l=m.getLineContent(h.range.startLineNumber),g=(0,k.getLeadingWhitespace)(l).length;if(h.range.startColumn-1<=g){const T=(0,k.getLeadingWhitespace)(h.text).length,N=l.substring(h.range.startColumn-1,g),[A,O]=[h.range.getStartPosition(),h.range.getEndPosition()],M=A.column+N.length<=O.column?A.delta(0,N.length):O,R=E.Range.fromPositions(M,O),x=h.text.startsWith(N)?h.text.substring(N.length):h.text.substring(T);h=new y.SingleTextEdit(R,x)}const v=m.getValueInRange(h.range),_=i(v,h.text);if(!_)return;const S=h.range.startLineNumber,L=new Array;if(u==="prefix"){const T=_.filter(N=>N.originalLength===0);if(T.length>1||T.length===1&&T[0].originalStart!==v.length)return}const I=h.text.length-a;for(const T of _){const N=h.range.startColumn+T.originalStart+T.originalLength;if(u==="subwordSmart"&&r&&r.lineNumber===h.range.startLineNumber&&N<r.column||T.originalLength>0)return;if(T.modifiedLength===0)continue;const A=T.modifiedStart+T.modifiedLength,O=Math.max(T.modifiedStart,Math.min(A,I)),M=h.text.substring(T.modifiedStart,O),R=h.text.substring(O,Math.max(T.modifiedStart,A));M.length>0&&L.push(new p.GhostTextPart(N,M,!1)),R.length>0&&L.push(new p.GhostTextPart(N,R,!0))}return new p.GhostText(S,L)}function o(c,m){return m.getStartPosition().equals(c.getStartPosition())&&m.getEndPosition().isBeforeOrEqual(c.getEndPosition())}let s;function i(c,m){if(s?.originalValue===c&&s?.newValue===m)return s?.changes;{let u=n(c,m,!0);if(u){const r=t(u);if(r>0){const a=n(c,m,!1);a&&t(a)<r&&(u=a)}}return s={originalValue:c,newValue:m,changes:u},u}}function t(c){let m=0;for(const u of c)m+=u.originalLength;return m}function n(c,m,u){if(c.length>5e3||m.length>5e3)return;function r(v){let _=0;for(let S=0,L=v.length;S<L;S++){const I=v.charCodeAt(S);I>_&&(_=I)}return _}const a=Math.max(r(c),r(m));function h(v){if(v<0)throw new Error("unexpected");return a+v+1}function l(v){let _=0,S=0;const L=new Int32Array(v.length);for(let I=0,T=v.length;I<T;I++)if(u&&v[I]==="("){const N=S*100+_;L[I]=h(2*N),_++}else if(u&&v[I]===")"){_=Math.max(_-1,0);const N=S*100+_;L[I]=h(2*N+1),_===0&&S++}else L[I]=v.charCodeAt(I);return L}const g=l(c),d=l(m);return new f.LcsDiff({getElements:()=>g},{getElements:()=>d}).ComputeDiff(!1).changes}}),define(ie[199],ne([1,0,10,2,30,9,5]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColumnRange=void 0,e.getReadonlyEmptyArray=w,e.applyObservableDecorations=C,e.addPositions=o,e.subtractPositions=s;const p=[];function w(){return p}class b{constructor(t,n){if(this.startColumn=t,this.endColumnExclusive=n,t>n)throw new f.BugIndicatingError(`startColumn ${t} cannot be after endColumnExclusive ${n}`)}toRange(t){return new y.Range(t,this.startColumn,t,this.endColumnExclusive)}equals(t){return this.startColumn===t.startColumn&&this.endColumnExclusive===t.endColumnExclusive}}e.ColumnRange=b;function C(i,t){const n=new k.DisposableStore,c=i.createDecorationsCollection();return n.add((0,E.autorunOpts)({debugName:()=>`Apply decorations from ${t.debugName}`},m=>{const u=t.read(m);c.set(u)})),n.add({dispose:()=>{c.clear()}}),n}function o(i,t){return new D.Position(i.lineNumber+t.lineNumber-1,t.lineNumber===1?i.column+t.column-1:t.column)}function s(i,t){return new D.Position(i.lineNumber-t.lineNumber+1,i.lineNumber-t.lineNumber===0?i.column-t.column+1:i.column)}}),define(ie[595],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.inlineEditJumpBackId=e.inlineEditJumpToId=e.inlineEditRejectId=e.inlineEditAcceptId=void 0,e.inlineEditAcceptId="editor.action.inlineEdit.accept",e.inlineEditRejectId="editor.action.inlineEdit.reject",e.inlineEditJumpToId="editor.action.inlineEdit.jumpTo",e.inlineEditJumpBackId="editor.action.inlineEdit.jumpBack"}),define(ie[596],ne([1,0,5,24]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CopyLinesCommand=void 0;class E{constructor(y,p,w){this._selection=y,this._isCopyingDown=p,this._noop=w||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(y,p){let w=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,w.startLineNumber<w.endLineNumber&&w.endColumn===1&&(this._endLineNumberDelta=1,w=w.setEndPosition(w.endLineNumber-1,y.getLineMaxColumn(w.endLineNumber-1)));const b=[];for(let o=w.startLineNumber;o<=w.endLineNumber;o++)b.push(y.getLineContent(o));const C=b.join(`
`);C===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?p.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber+1,1),w.endLineNumber===y.getLineCount()?"":`
`):this._isCopyingDown?p.addEditOperation(new f.Range(w.startLineNumber,1,w.startLineNumber,1),C+`
`):p.addEditOperation(new f.Range(w.endLineNumber,y.getLineMaxColumn(w.endLineNumber),w.endLineNumber,y.getLineMaxColumn(w.endLineNumber)),`
`+C),this._selectionId=p.trackSelection(w),this._selectionDirection=this._selection.getDirection()}computeCursorState(y,p){let w=p.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let b=w.startLineNumber,C=w.startColumn,o=w.endLineNumber,s=w.endColumn;this._startLineNumberDelta!==0&&(b=b+this._startLineNumberDelta,C=1),this._endLineNumberDelta!==0&&(o=o+this._endLineNumberDelta,s=1),w=k.Selection.createWithDirection(b,C,o,s,this._selectionDirection)}return w}}e.CopyLinesCommand=E}),define(ie[597],ne([1,0,72,5]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortLinesCommand=void 0;class E{static getCollator(){return E._COLLATOR||(E._COLLATOR=new Intl.Collator),E._COLLATOR}constructor(w,b){this.selection=w,this.descending=b,this.selectionId=null}getEditOperations(w,b){const C=y(w,this.selection,this.descending);C&&b.addEditOperation(C.range,C.text),this.selectionId=b.trackSelection(this.selection)}computeCursorState(w,b){return b.getTrackedSelection(this.selectionId)}static canRun(w,b,C){if(w===null)return!1;const o=D(w,b,C);if(!o)return!1;for(let s=0,i=o.before.length;s<i;s++)if(o.before[s]!==o.after[s])return!0;return!1}}e.SortLinesCommand=E,E._COLLATOR=null;function D(p,w,b){const C=w.startLineNumber;let o=w.endLineNumber;if(w.endColumn===1&&o--,C>=o)return null;const s=[];for(let t=C;t<=o;t++)s.push(p.getLineContent(t));let i=s.slice(0);return i.sort(E.getCollator().compare),b===!0&&(i=i.reverse()),{startLineNumber:C,endLineNumber:o,before:s,after:i}}function y(p,w,b){const C=D(p,w,b);return C?f.EditOperation.replace(new k.Range(C.startLineNumber,1,C.endLineNumber,p.getLineMaxColumn(C.endLineNumber)),C.after.join(`
`)):null}}),define(ie[329],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SEMANTIC_HIGHLIGHTING_SETTING_ID=void 0,e.isSemanticColoringEnabled=f,e.SEMANTIC_HIGHLIGHTING_SETTING_ID="editor.semanticHighlighting";function f(k,E,D){var y;const p=(y=D.getValue(e.SEMANTIC_HIGHLIGHTING_SETTING_ID,{overrideIdentifier:k.getLanguageId(),resource:k.uri}))===null||y===void 0?void 0:y.enabled;return typeof p=="boolean"?p:E.getColorTheme().semanticHighlighting}}),define(ie[330],ne([1,0,70,9,5]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketSelectionRangeProvider=void 0;class D{async provideSelectionRanges(p,w){const b=[];for(const C of w){const o=[];b.push(o);const s=new Map;await new Promise(i=>D._bracketsRightYield(i,0,p,C,s)),await new Promise(i=>D._bracketsLeftYield(i,0,p,C,s,o))}return b}static _bracketsRightYield(p,w,b,C,o){const s=new Map,i=Date.now();for(;;){if(w>=D._maxRounds){p();break}if(!C){p();break}const t=b.bracketPairs.findNextBracket(C);if(!t){p();break}if(Date.now()-i>D._maxDuration){setTimeout(()=>D._bracketsRightYield(p,w+1,b,C,o));break}if(t.bracketInfo.isOpeningBracket){const c=t.bracketInfo.bracketText,m=s.has(c)?s.get(c):0;s.set(c,m+1)}else{const c=t.bracketInfo.getOpeningBrackets()[0].bracketText;let m=s.has(c)?s.get(c):0;if(m-=1,s.set(c,Math.max(0,m)),m<0){let u=o.get(c);u||(u=new f.LinkedList,o.set(c,u)),u.push(t.range)}}C=t.range.getEndPosition()}}static _bracketsLeftYield(p,w,b,C,o,s){const i=new Map,t=Date.now();for(;;){if(w>=D._maxRounds&&o.size===0){p();break}if(!C){p();break}const n=b.bracketPairs.findPrevBracket(C);if(!n){p();break}if(Date.now()-t>D._maxDuration){setTimeout(()=>D._bracketsLeftYield(p,w+1,b,C,o,s));break}if(n.bracketInfo.isOpeningBracket){const m=n.bracketInfo.bracketText;let u=i.has(m)?i.get(m):0;if(u-=1,i.set(m,Math.max(0,u)),u<0){const r=o.get(m);if(r){const a=r.shift();r.size===0&&o.delete(m);const h=E.Range.fromPositions(n.range.getEndPosition(),a.getStartPosition()),l=E.Range.fromPositions(n.range.getStartPosition(),a.getEndPosition());s.push({range:h}),s.push({range:l}),D._addBracketLeading(b,l,s)}}}else{const m=n.bracketInfo.getOpeningBrackets()[0].bracketText,u=i.has(m)?i.get(m):0;i.set(m,u+1)}C=n.range.getStartPosition()}}static _addBracketLeading(p,w,b){if(w.startLineNumber===w.endLineNumber)return;const C=w.startLineNumber,o=p.getLineFirstNonWhitespaceColumn(C);o!==0&&o!==w.startColumn&&(b.push({range:E.Range.fromPositions(new k.Position(C,o),w.getEndPosition())}),b.push({range:E.Range.fromPositions(new k.Position(C,1),w.getEndPosition())}));const s=C-1;if(s>0){const i=p.getLineFirstNonWhitespaceColumn(s);i===w.startColumn&&i!==p.getLineLastNonWhitespaceColumn(s)&&(b.push({range:E.Range.fromPositions(new k.Position(s,i),w.getEndPosition())}),b.push({range:E.Range.fromPositions(new k.Position(s,1),w.getEndPosition())}))}}}e.BracketSelectionRangeProvider=D,D._maxDuration=30,D._maxRounds=2}),define(ie[598],ne([1,0,12,5]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordSelectionRangeProvider=void 0;class E{constructor(y=!0){this.selectSubwords=y}provideSelectionRanges(y,p){const w=[];for(const b of p){const C=[];w.push(C),this.selectSubwords&&this._addInWordRanges(C,y,b),this._addWordRanges(C,y,b),this._addWhitespaceLine(C,y,b),C.push({range:y.getFullModelRange()})}return w}_addInWordRanges(y,p,w){const b=p.getWordAtPosition(w);if(!b)return;const{word:C,startColumn:o}=b,s=w.column-o;let i=s,t=s,n=0;for(;i>=0;i--){const c=C.charCodeAt(i);if(i!==s&&(c===95||c===45))break;if((0,f.isLowerAsciiLetter)(c)&&(0,f.isUpperAsciiLetter)(n))break;n=c}for(i+=1;t<C.length;t++){const c=C.charCodeAt(t);if((0,f.isUpperAsciiLetter)(c)&&(0,f.isLowerAsciiLetter)(n))break;if(c===95||c===45)break;n=c}i<t&&y.push({range:new k.Range(w.lineNumber,o+i,w.lineNumber,o+t)})}_addWordRanges(y,p,w){const b=p.getWordAtPosition(w);b&&y.push({range:new k.Range(w.lineNumber,b.startColumn,w.lineNumber,b.endColumn)})}_addWhitespaceLine(y,p,w){p.getLineLength(w.lineNumber)>0&&p.getLineFirstNonWhitespaceColumn(w.lineNumber)===0&&p.getLineLastNonWhitespaceColumn(w.lineNumber)===0&&y.push({range:new k.Range(w.lineNumber,1,w.lineNumber,p.getLineMaxColumn(w.lineNumber))})}}e.WordSelectionRangeProvider=E}),define(ie[130],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetParser=e.TextmateSnippet=e.Variable=e.FormatString=e.Transform=e.Choice=e.Placeholder=e.TransformableMarker=e.Text=e.Marker=e.Scanner=void 0;class f{constructor(){this.value="",this.pos=0}static isDigitCharacter(n){return n>=48&&n<=57}static isVariableCharacter(n){return n===95||n>=97&&n<=122||n>=65&&n<=90}text(n){this.value=n,this.pos=0}tokenText(n){return this.value.substr(n.pos,n.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const n=this.pos;let c=0,m=this.value.charCodeAt(n),u;if(u=f._table[m],typeof u=="number")return this.pos+=1,{type:u,pos:n,len:1};if(f.isDigitCharacter(m)){u=8;do c+=1,m=this.value.charCodeAt(n+c);while(f.isDigitCharacter(m));return this.pos+=c,{type:u,pos:n,len:c}}if(f.isVariableCharacter(m)){u=9;do m=this.value.charCodeAt(n+ ++c);while(f.isVariableCharacter(m)||f.isDigitCharacter(m));return this.pos+=c,{type:u,pos:n,len:c}}u=10;do c+=1,m=this.value.charCodeAt(n+c);while(!isNaN(m)&&typeof f._table[m]>"u"&&!f.isDigitCharacter(m)&&!f.isVariableCharacter(m));return this.pos+=c,{type:u,pos:n,len:c}}}e.Scanner=f,f._table={36:0,58:1,44:2,123:3,125:4,92:5,47:6,124:7,43:11,45:12,63:13};class k{constructor(){this._children=[]}appendChild(n){return n instanceof E&&this._children[this._children.length-1]instanceof E?this._children[this._children.length-1].value+=n.value:(n.parent=this,this._children.push(n)),this}replace(n,c){const{parent:m}=n,u=m.children.indexOf(n),r=m.children.slice(0);r.splice(u,1,...c),m._children=r,function a(h,l){for(const g of h)g.parent=l,a(g.children,g)}(c,m)}get children(){return this._children}get rightMostDescendant(){return this._children.length>0?this._children[this._children.length-1].rightMostDescendant:this}get snippet(){let n=this;for(;;){if(!n)return;if(n instanceof s)return n;n=n.parent}}toString(){return this.children.reduce((n,c)=>n+c.toString(),"")}len(){return 0}}e.Marker=k;class E extends k{constructor(n){super(),this.value=n}toString(){return this.value}len(){return this.value.length}clone(){return new E(this.value)}}e.Text=E;class D extends k{}e.TransformableMarker=D;class y extends D{static compareByIndex(n,c){return n.index===c.index?0:n.isFinalTabstop?1:c.isFinalTabstop||n.index<c.index?-1:n.index>c.index?1:0}constructor(n){super(),this.index=n}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof p?this._children[0]:void 0}clone(){const n=new y(this.index);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(c=>c.clone()),n}}e.Placeholder=y;class p extends k{constructor(){super(...arguments),this.options=[]}appendChild(n){return n instanceof E&&(n.parent=this,this.options.push(n)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const n=new p;return this.options.forEach(n.appendChild,n),n}}e.Choice=p;class w extends k{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(n){const c=this;let m=!1,u=n.replace(this.regexp,function(){return m=!0,c._replace(Array.prototype.slice.call(arguments,0,-2))});return!m&&this._children.some(r=>r instanceof b&&!!r.elseValue)&&(u=this._replace([])),u}_replace(n){let c="";for(const m of this._children)if(m instanceof b){let u=n[m.index]||"";u=m.resolve(u),c+=u}else c+=m.toString();return c}toString(){return""}clone(){const n=new w;return n.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),n._children=this.children.map(c=>c.clone()),n}}e.Transform=w;class b extends k{constructor(n,c,m,u){super(),this.index=n,this.shorthandName=c,this.ifValue=m,this.elseValue=u}resolve(n){return this.shorthandName==="upcase"?n?n.toLocaleUpperCase():"":this.shorthandName==="downcase"?n?n.toLocaleLowerCase():"":this.shorthandName==="capitalize"?n?n[0].toLocaleUpperCase()+n.substr(1):"":this.shorthandName==="pascalcase"?n?this._toPascalCase(n):"":this.shorthandName==="camelcase"?n?this._toCamelCase(n):"":n&&typeof this.ifValue=="string"?this.ifValue:!n&&typeof this.elseValue=="string"?this.elseValue:n||""}_toPascalCase(n){const c=n.match(/[a-z0-9]+/gi);return c?c.map(m=>m.charAt(0).toUpperCase()+m.substr(1)).join(""):n}_toCamelCase(n){const c=n.match(/[a-z0-9]+/gi);return c?c.map((m,u)=>u===0?m.charAt(0).toLowerCase()+m.substr(1):m.charAt(0).toUpperCase()+m.substr(1)).join(""):n}clone(){return new b(this.index,this.shorthandName,this.ifValue,this.elseValue)}}e.FormatString=b;class C extends D{constructor(n){super(),this.name=n}resolve(n){let c=n.resolve(this);return this.transform&&(c=this.transform.resolve(c||"")),c!==void 0?(this._children=[new E(c)],!0):!1}clone(){const n=new C(this.name);return this.transform&&(n.transform=this.transform.clone()),n._children=this.children.map(c=>c.clone()),n}}e.Variable=C;function o(t,n){const c=[...t];for(;c.length>0;){const m=c.shift();if(!n(m))break;c.unshift(...m.children)}}class s extends k{get placeholderInfo(){if(!this._placeholders){const n=[];let c;this.walk(function(m){return m instanceof y&&(n.push(m),c=!c||c.index<m.index?m:c),!0}),this._placeholders={all:n,last:c}}return this._placeholders}get placeholders(){const{all:n}=this.placeholderInfo;return n}offset(n){let c=0,m=!1;return this.walk(u=>u===n?(m=!0,!1):(c+=u.len(),!0)),m?c:-1}fullLen(n){let c=0;return o([n],m=>(c+=m.len(),!0)),c}enclosingPlaceholders(n){const c=[];let{parent:m}=n;for(;m;)m instanceof y&&c.push(m),m=m.parent;return c}resolveVariables(n){return this.walk(c=>(c instanceof C&&c.resolve(n)&&(this._placeholders=void 0),!0)),this}appendChild(n){return this._placeholders=void 0,super.appendChild(n)}replace(n,c){return this._placeholders=void 0,super.replace(n,c)}clone(){const n=new s;return this._children=this.children.map(c=>c.clone()),n}walk(n){o(this.children,n)}}e.TextmateSnippet=s;class i{constructor(){this._scanner=new f,this._token={type:14,pos:0,len:0}}static escape(n){return n.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(n){return/\${?CLIPBOARD/.test(n)}parse(n,c,m){const u=new s;return this.parseFragment(n,u),this.ensureFinalTabstop(u,m??!1,c??!1),u}parseFragment(n,c){const m=c.children.length;for(this._scanner.text(n),this._token=this._scanner.next();this._parse(c););const u=new Map,r=[];c.walk(l=>(l instanceof y&&(l.isFinalTabstop?u.set(0,void 0):!u.has(l.index)&&l.children.length>0?u.set(l.index,l.children):r.push(l)),!0));const a=(l,g)=>{const d=u.get(l.index);if(!d)return;const v=new y(l.index);v.transform=l.transform;for(const _ of d){const S=_.clone();v.appendChild(S),S instanceof y&&u.has(S.index)&&!g.has(S.index)&&(g.add(S.index),a(S,g),g.delete(S.index))}c.replace(l,[v])},h=new Set;for(const l of r)a(l,h);return c.children.slice(m)}ensureFinalTabstop(n,c,m){(c||m&&n.placeholders.length>0)&&(n.placeholders.find(r=>r.index===0)||n.appendChild(new y(0)))}_accept(n,c){if(n===void 0||this._token.type===n){const m=c?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),m}return!1}_backTo(n){return this._scanner.pos=n.pos+n.len,this._token=n,!1}_until(n){const c=this._token;for(;this._token.type!==n;){if(this._token.type===14)return!1;if(this._token.type===5){const u=this._scanner.next();if(u.type!==0&&u.type!==4&&u.type!==5)return!1}this._token=this._scanner.next()}const m=this._scanner.value.substring(c.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),m}_parse(n){return this._parseEscaped(n)||this._parseTabstopOrVariableName(n)||this._parseComplexPlaceholder(n)||this._parseComplexVariable(n)||this._parseAnything(n)}_parseEscaped(n){let c;return(c=this._accept(5,!0))?(c=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||c,n.appendChild(new E(c)),!0):!1}_parseTabstopOrVariableName(n){let c;const m=this._token;return this._accept(0)&&(c=this._accept(9,!0)||this._accept(8,!0))?(n.appendChild(/^\d+$/.test(c)?new y(Number(c)):new C(c)),!0):this._backTo(m)}_parseComplexPlaceholder(n){let c;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(8,!0))))return this._backTo(m);const r=new y(Number(c));if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(r),!0;if(!this._parse(r))return n.appendChild(new E("${"+c+":")),r.children.forEach(n.appendChild,n),!0}else if(r.index>0&&this._accept(7)){const a=new p;for(;;){if(this._parseChoiceElement(a)){if(this._accept(2))continue;if(this._accept(7)&&(r.appendChild(a),this._accept(4)))return n.appendChild(r),!0}return this._backTo(m),!1}}else return this._accept(6)?this._parseTransform(r)?(n.appendChild(r),!0):(this._backTo(m),!1):this._accept(4)?(n.appendChild(r),!0):this._backTo(m)}_parseChoiceElement(n){const c=this._token,m=[];for(;!(this._token.type===2||this._token.type===7);){let u;if((u=this._accept(5,!0))?u=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||u:u=this._accept(void 0,!0),!u)return this._backTo(c),!1;m.push(u)}return m.length===0?(this._backTo(c),!1):(n.appendChild(new E(m.join(""))),!0)}_parseComplexVariable(n){let c;const m=this._token;if(!(this._accept(0)&&this._accept(3)&&(c=this._accept(9,!0))))return this._backTo(m);const r=new C(c);if(this._accept(1))for(;;){if(this._accept(4))return n.appendChild(r),!0;if(!this._parse(r))return n.appendChild(new E("${"+c+":")),r.children.forEach(n.appendChild,n),!0}else return this._accept(6)?this._parseTransform(r)?(n.appendChild(r),!0):(this._backTo(m),!1):this._accept(4)?(n.appendChild(r),!0):this._backTo(m)}_parseTransform(n){const c=new w;let m="",u="";for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(6,!0)||r,m+=r;continue}if(this._token.type!==14){m+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let r;if(r=this._accept(5,!0)){r=this._accept(5,!0)||this._accept(6,!0)||r,c.appendChild(new E(r));continue}if(!(this._parseFormatString(c)||this._parseAnything(c)))return!1}for(;!this._accept(4);){if(this._token.type!==14){u+=this._accept(void 0,!0);continue}return!1}try{c.regexp=new RegExp(m,u)}catch{return!1}return n.transform=c,!0}_parseFormatString(n){const c=this._token;if(!this._accept(0))return!1;let m=!1;this._accept(3)&&(m=!0);const u=this._accept(8,!0);if(u)if(m){if(this._accept(4))return n.appendChild(new b(Number(u))),!0;if(!this._accept(1))return this._backTo(c),!1}else return n.appendChild(new b(Number(u))),!0;else return this._backTo(c),!1;if(this._accept(6)){const r=this._accept(9,!0);return!r||!this._accept(4)?(this._backTo(c),!1):(n.appendChild(new b(Number(u),r)),!0)}else if(this._accept(11)){const r=this._until(4);if(r)return n.appendChild(new b(Number(u),void 0,r,void 0)),!0}else if(this._accept(12)){const r=this._until(4);if(r)return n.appendChild(new b(Number(u),void 0,void 0,r)),!0}else if(this._accept(13)){const r=this._until(1);if(r){const a=this._until(4);if(a)return n.appendChild(new b(Number(u),void 0,r,a)),!0}}else{const r=this._until(4);if(r)return n.appendChild(new b(Number(u),void 0,void 0,r)),!0}return this._backTo(c),!1}_parseAnything(n){return this._token.type!==14?(n.appendChild(new E(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}e.SnippetParser=i}),define(ie[331],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModel=e.StickyElement=e.StickyRange=void 0;class f{constructor(y,p){this.startLineNumber=y,this.endLineNumber=p}}e.StickyRange=f;class k{constructor(y,p,w){this.range=y,this.children=p,this.parent=w}}e.StickyElement=k;class E{constructor(y,p,w,b){this.uri=y,this.version=p,this.element=w,this.outlineProviderId=b}}e.StickyModel=E}),define(ie[332],ne([1,0,13,78,12]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompletionModel=e.LineContext=void 0;class D{constructor(w,b){this.leadingLineContent=w,this.characterCountDelta=b}}e.LineContext=D;class y{constructor(w,b,C,o,s,i,t=k.FuzzyScoreOptions.default,n=void 0){this.clipboardText=n,this._snippetCompareFn=y._compareCompletionItems,this._items=w,this._column=b,this._wordDistance=o,this._options=s,this._refilterKind=1,this._lineContext=C,this._fuzzyScoreOptions=t,i==="top"?this._snippetCompareFn=y._compareCompletionItemsSnippetsUp:i==="bottom"&&(this._snippetCompareFn=y._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(w){(this._lineContext.leadingLineContent!==w.leadingLineContent||this._lineContext.characterCountDelta!==w.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<w.characterCountDelta&&this._filteredItems?2:1,this._lineContext=w)}get items(){return this._ensureCachedState(),this._filteredItems}getItemsByProvider(){return this._ensureCachedState(),this._itemsByProvider}getIncompleteProvider(){this._ensureCachedState();const w=new Set;for(const[b,C]of this.getItemsByProvider())C.length>0&&C[0].container.incomplete&&w.add(b);return w}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._itemsByProvider=new Map;const w=[],{leadingLineContent:b,characterCountDelta:C}=this._lineContext;let o="",s="";const i=this._refilterKind===1?this._items:this._filteredItems,t=[],n=!this._options.filterGraceful||i.length>2e3?k.fuzzyScore:k.fuzzyScoreGracefulAggressive;for(let c=0;c<i.length;c++){const m=i[c];if(m.isInvalid)continue;const u=this._itemsByProvider.get(m.provider);u?u.push(m):this._itemsByProvider.set(m.provider,[m]);const r=m.position.column-m.editStart.column,a=r+C-(m.position.column-this._column);if(o.length!==a&&(o=a===0?"":b.slice(-a),s=o.toLowerCase()),m.word=o,a===0)m.score=k.FuzzyScore.Default;else{let h=0;for(;h<r;){const l=o.charCodeAt(h);if(l===32||l===9)h+=1;else break}if(h>=a)m.score=k.FuzzyScore.Default;else if(typeof m.completion.filterText=="string"){const l=n(o,s,h,m.completion.filterText,m.filterTextLow,0,this._fuzzyScoreOptions);if(!l)continue;(0,E.compareIgnoreCase)(m.completion.filterText,m.textLabel)===0?m.score=l:(m.score=(0,k.anyScore)(o,s,h,m.textLabel,m.labelLow,0),m.score[0]=l[0])}else{const l=n(o,s,h,m.textLabel,m.labelLow,0,this._fuzzyScoreOptions);if(!l)continue;m.score=l}}m.idx=c,m.distance=this._wordDistance.distance(m.position,m.completion),t.push(m),w.push(m.textLabel.length)}this._filteredItems=t.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:w.length?(0,f.quickSelect)(w.length-.85,w,(c,m)=>c-m):0}}static _compareCompletionItems(w,b){return w.score[0]>b.score[0]?-1:w.score[0]<b.score[0]?1:w.distance<b.distance?-1:w.distance>b.distance?1:w.idx<b.idx?-1:w.idx>b.idx?1:0}static _compareCompletionItemsSnippetsDown(w,b){if(w.completion.kind!==b.completion.kind){if(w.completion.kind===27)return 1;if(b.completion.kind===27)return-1}return y._compareCompletionItems(w,b)}static _compareCompletionItemsSnippetsUp(w,b){if(w.completion.kind!==b.completion.kind){if(w.completion.kind===27)return-1;if(b.completion.kind===27)return 1}return y._compareCompletionItems(w,b)}}e.CompletionModel=y}),define(ie[599],ne([1,0,13,2,139]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommitCharacterController=void 0;class D{constructor(p,w,b,C){this._disposables=new k.DisposableStore,this._disposables.add(b.onDidSuggest(o=>{o.completionModel.items.length===0&&this.reset()})),this._disposables.add(b.onDidCancel(o=>{this.reset()})),this._disposables.add(w.onDidShow(()=>this._onItem(w.getFocusedItem()))),this._disposables.add(w.onDidFocus(this._onItem,this)),this._disposables.add(w.onDidHide(this.reset,this)),this._disposables.add(p.onWillType(o=>{if(this._active&&!w.isFrozen()&&b.state!==0){const s=o.charCodeAt(o.length-1);this._active.acceptCharacters.has(s)&&p.getOption(0)&&C(this._active.item)}}))}_onItem(p){if(!p||!(0,f.isNonEmptyArray)(p.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===p.item)return;const w=new E.CharacterSet;for(const b of p.item.completion.commitCharacters)b.length>0&&w.add(b.charCodeAt(0));this._active={acceptCharacters:w,item:p}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}e.CommitCharacterController=D}),define(ie[600],ne([1,0,2]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OvertypingCapturer=void 0;class k{constructor(D,y){this._disposables=new f.DisposableStore,this._lastOvertyped=[],this._locked=!1,this._disposables.add(D.onWillType(()=>{if(this._locked||!D.hasModel())return;const p=D.getSelections(),w=p.length;let b=!1;for(let o=0;o<w;o++)if(!p[o].isEmpty()){b=!0;break}if(!b){this._lastOvertyped.length!==0&&(this._lastOvertyped.length=0);return}this._lastOvertyped=[];const C=D.getModel();for(let o=0;o<w;o++){const s=p[o];if(C.getValueLengthInRange(s)>k._maxSelectionLength)return;this._lastOvertyped[o]={value:C.getValueInRange(s),multiline:s.startLineNumber!==s.endLineNumber}}})),this._disposables.add(y.onDidTrigger(p=>{this._locked=!0})),this._disposables.add(y.onDidCancel(p=>{this._locked=!1}))}getLastOvertypedInfo(D){if(D>=0&&D<this._lastOvertyped.length)return this._lastOvertyped[D]}dispose(){this._disposables.dispose()}}e.OvertypingCapturer=k,k._maxSelectionLength=51200}),define(ie[333],ne([1,0,13,5,330]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WordDistance=void 0;class D{static async create(p,w){if(!w.getOption(118).localityBonus||!w.hasModel())return D.None;const b=w.getModel(),C=w.getPosition();if(!p.canComputeWordRanges(b.uri))return D.None;const[o]=await new E.BracketSelectionRangeProvider().provideSelectionRanges(b,[C]);if(o.length===0)return D.None;const s=await p.computeWordRanges(b.uri,o[0].range);if(!s)return D.None;const i=b.getWordUntilPosition(C);return delete s[i.word],new class extends D{distance(t,n){if(!C.equals(w.getPosition()))return 0;if(n.kind===17)return 2<<20;const c=typeof n.label=="string"?n.label:n.label.label,m=s[c];if((0,f.isFalsyOrEmpty)(m))return 2<<20;const u=(0,f.binarySearch)(m,k.Range.fromPositions(t),k.Range.compareRangesUsingStarts),r=u>=0?m[u]:m[Math.max(0,~u-1)];let a=o.length;for(const h of o){if(!k.Range.containsRange(h.range,r))break;a-=1}return a}}}}e.WordDistance=D,D.None=new class extends D{distance(){return 0}}}),define(ie[334],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFuzzyActionArr=f,e.isFuzzyAction=k,e.isString=E,e.isIAction=D,e.empty=y,e.fixCase=p,e.sanitize=w,e.log=b,e.createError=C,e.substituteMatches=o,e.substituteMatchesRe=s,e.findRules=i,e.stateExists=t;function f(n){return Array.isArray(n)}function k(n){return!f(n)}function E(n){return typeof n=="string"}function D(n){return!E(n)}function y(n){return!n}function p(n,c){return n.ignoreCase&&c?c.toLowerCase():c}function w(n){return n.replace(/[&<>'"_]/g,"-")}function b(n,c){console.log(`${n.languageId}: ${c}`)}function C(n,c){return new Error(`${n.languageId}: ${c}`)}function o(n,c,m,u,r){const a=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let h=null;return c.replace(a,function(l,g,d,v,_,S,L,I,T){return y(d)?y(v)?!y(_)&&_<u.length?p(n,u[_]):!y(L)&&n&&typeof n[L]=="string"?n[L]:(h===null&&(h=r.split("."),h.unshift(r)),!y(S)&&S<h.length?p(n,h[S]):""):p(n,m):"$"})}function s(n,c,m){const u=/\$[sS](\d\d?)/g;let r=null;return c.replace(u,function(a,h){return r===null&&(r=m.split("."),r.unshift(m)),!y(h)&&h<r.length?p(n,r[h]):""})}function i(n,c){let m=c;for(;m&&m.length>0;){const u=n.tokenizer[m];if(u)return u;const r=m.lastIndexOf(".");r<0?m=null:m=m.substr(0,r)}return null}function t(n,c){let m=c;for(;m&&m.length>0;){if(n.stateNames[m])return!0;const r=m.lastIndexOf(".");r<0?m=null:m=m.substr(0,r)}return!1}}),define(ie[601],ne([1,0,334]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.compile=i;function k(t,n){if(!n||!Array.isArray(n))return!1;for(const c of n)if(!t(c))return!1;return!0}function E(t,n){return typeof t=="boolean"?t:n}function D(t,n){return typeof t=="string"?t:n}function y(t){const n={};for(const c of t)n[c]=!0;return n}function p(t,n=!1){n&&(t=t.map(function(m){return m.toLowerCase()}));const c=y(t);return n?function(m){return c[m.toLowerCase()]!==void 0&&c.hasOwnProperty(m.toLowerCase())}:function(m){return c[m]!==void 0&&c.hasOwnProperty(m)}}function w(t,n,c){n=n.replace(/@@/g,"");let m=0,u;do u=!1,n=n.replace(/@(\w+)/g,function(a,h){u=!0;let l="";if(typeof t[h]=="string")l=t[h];else if(t[h]&&t[h]instanceof RegExp)l=t[h].source;else throw t[h]===void 0?f.createError(t,"language definition does not contain attribute '"+h+"', used at: "+n):f.createError(t,"attribute reference '"+h+"' must be a string, used at: "+n);return f.empty(l)?"":"(?:"+l+")"}),m++;while(u&&m<5);n=n.replace(/\x01/g,"@");const r=(t.ignoreCase?"i":"")+(t.unicode?"u":"");if(c&&n.match(/\$[sS](\d\d?)/g)){let h=null,l=null;return g=>(l&&h===g||(h=g,l=new RegExp(f.substituteMatchesRe(t,n,g),r)),l)}return new RegExp(n,r)}function b(t,n,c,m){if(m<0)return t;if(m<n.length)return n[m];if(m>=100){m=m-100;const u=c.split(".");if(u.unshift(c),m<u.length)return u[m]}return null}function C(t,n,c,m){let u=-1,r=c,a=c.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);a&&(a[3]&&(u=parseInt(a[3]),a[2]&&(u=u+100)),r=a[4]);let h="~",l=r;!r||r.length===0?(h="!=",l=""):/^\w*$/.test(l)?h="==":(a=r.match(/^(@|!@|~|!~|==|!=)(.*)$/),a&&(h=a[1],l=a[2]));let g;if((h==="~"||h==="!~")&&/^(\w|\|)*$/.test(l)){const d=p(l.split("|"),t.ignoreCase);g=function(v){return h==="~"?d(v):!d(v)}}else if(h==="@"||h==="!@"){const d=t[l];if(!d)throw f.createError(t,"the @ match target '"+l+"' is not defined, in rule: "+n);if(!k(function(_){return typeof _=="string"},d))throw f.createError(t,"the @ match target '"+l+"' must be an array of strings, in rule: "+n);const v=p(d,t.ignoreCase);g=function(_){return h==="@"?v(_):!v(_)}}else if(h==="~"||h==="!~")if(l.indexOf("$")<0){const d=w(t,"^"+l+"$",!1);g=function(v){return h==="~"?d.test(v):!d.test(v)}}else g=function(d,v,_,S){return w(t,"^"+f.substituteMatches(t,l,v,_,S)+"$",!1).test(d)};else if(l.indexOf("$")<0){const d=f.fixCase(t,l);g=function(v){return h==="=="?v===d:v!==d}}else{const d=f.fixCase(t,l);g=function(v,_,S,L,I){const T=f.substituteMatches(t,d,_,S,L);return h==="=="?v===T:v!==T}}return u===-1?{name:c,value:m,test:function(d,v,_,S){return g(d,d,v,_,S)}}:{name:c,value:m,test:function(d,v,_,S){const L=b(d,v,_,u);return g(L||"",d,v,_,S)}}}function o(t,n,c){if(c){if(typeof c=="string")return c;if(c.token||c.token===""){if(typeof c.token!="string")throw f.createError(t,"a 'token' attribute must be of type string, in rule: "+n);{const m={token:c.token};if(c.token.indexOf("$")>=0&&(m.tokenSubst=!0),typeof c.bracket=="string")if(c.bracket==="@open")m.bracket=1;else if(c.bracket==="@close")m.bracket=-1;else throw f.createError(t,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+n);if(c.next){if(typeof c.next!="string")throw f.createError(t,"the next state must be a string value in rule: "+n);{let u=c.next;if(!/^(@pop|@push|@popall)$/.test(u)&&(u[0]==="@"&&(u=u.substr(1)),u.indexOf("$")<0&&!f.stateExists(t,f.substituteMatches(t,u,"",[],""))))throw f.createError(t,"the next state '"+c.next+"' is not defined in rule: "+n);m.next=u}}return typeof c.goBack=="number"&&(m.goBack=c.goBack),typeof c.switchTo=="string"&&(m.switchTo=c.switchTo),typeof c.log=="string"&&(m.log=c.log),typeof c.nextEmbedded=="string"&&(m.nextEmbedded=c.nextEmbedded,t.usesEmbedded=!0),m}}else if(Array.isArray(c)){const m=[];for(let u=0,r=c.length;u<r;u++)m[u]=o(t,n,c[u]);return{group:m}}else if(c.cases){const m=[];for(const r in c.cases)if(c.cases.hasOwnProperty(r)){const a=o(t,n,c.cases[r]);r==="@default"||r==="@"||r===""?m.push({test:void 0,value:a,name:r}):r==="@eos"?m.push({test:function(h,l,g,d){return d},value:a,name:r}):m.push(C(t,n,r,a))}const u=t.defaultToken;return{test:function(r,a,h,l){for(const g of m)if(!g.test||g.test(r,a,h,l))return g.value;return u}}}else throw f.createError(t,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+n)}else return{token:""}}class s{constructor(n){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=n}setRegex(n,c){let m;if(typeof c=="string")m=c;else if(c instanceof RegExp)m=c.source;else throw f.createError(n,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=m.length>0&&m[0]==="^",this.name=this.name+": "+m,this.regex=w(n,"^(?:"+(this.matchOnlyAtLineStart?m.substr(1):m)+")",!0)}setAction(n,c){this.action=o(n,this.name,c)}resolveRegex(n){return this.regex instanceof RegExp?this.regex:this.regex(n)}}function i(t,n){if(!n||typeof n!="object")throw new Error("Monarch: expecting a language definition object");const c={};c.languageId=t,c.includeLF=E(n.includeLF,!1),c.noThrow=!1,c.maxStack=100,c.start=typeof n.start=="string"?n.start:null,c.ignoreCase=E(n.ignoreCase,!1),c.unicode=E(n.unicode,!1),c.tokenPostfix=D(n.tokenPostfix,"."+c.languageId),c.defaultToken=D(n.defaultToken,"source"),c.usesEmbedded=!1;const m=n;m.languageId=t,m.includeLF=c.includeLF,m.ignoreCase=c.ignoreCase,m.unicode=c.unicode,m.noThrow=c.noThrow,m.usesEmbedded=c.usesEmbedded,m.stateNames=n.tokenizer,m.defaultToken=c.defaultToken;function u(a,h,l){for(const g of l){let d=g.include;if(d){if(typeof d!="string")throw f.createError(c,"an 'include' attribute must be a string at: "+a);if(d[0]==="@"&&(d=d.substr(1)),!n.tokenizer[d])throw f.createError(c,"include target '"+d+"' is not defined at: "+a);u(a+"."+d,h,n.tokenizer[d])}else{const v=new s(a);if(Array.isArray(g)&&g.length>=1&&g.length<=3)if(v.setRegex(m,g[0]),g.length>=3)if(typeof g[1]=="string")v.setAction(m,{token:g[1],next:g[2]});else if(typeof g[1]=="object"){const _=g[1];_.next=g[2],v.setAction(m,_)}else throw f.createError(c,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+a);else v.setAction(m,g[1]);else{if(!g.regex)throw f.createError(c,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+a);g.name&&typeof g.name=="string"&&(v.name=g.name),g.matchOnlyAtStart&&(v.matchOnlyAtLineStart=E(g.matchOnlyAtLineStart,!1)),v.setRegex(m,g.regex),v.setAction(m,g.action)}h.push(v)}}}if(!n.tokenizer||typeof n.tokenizer!="object")throw f.createError(c,"a language definition must define the 'tokenizer' attribute as an object");c.tokenizer=[];for(const a in n.tokenizer)if(n.tokenizer.hasOwnProperty(a)){c.start||(c.start=a);const h=n.tokenizer[a];c.tokenizer[a]=new Array,u("tokenizer."+a,c.tokenizer[a],h)}if(c.usesEmbedded=m.usesEmbedded,n.brackets){if(!Array.isArray(n.brackets))throw f.createError(c,"the 'brackets' attribute must be defined as an array")}else n.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const r=[];for(const a of n.brackets){let h=a;if(h&&Array.isArray(h)&&h.length===3&&(h={token:h[2],open:h[0],close:h[1]}),h.open===h.close)throw f.createError(c,"open and close brackets in a 'brackets' attribute must be different: "+h.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof h.open=="string"&&typeof h.token=="string"&&typeof h.close=="string")r.push({token:h.token+c.tokenPostfix,open:f.fixCase(c,h.open),close:f.fixCase(c,h.close)});else throw f.createError(c,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return c.brackets=r,c.noThrow=!0,c}}),define(ie[602],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/actionbar/actionViewItems",e)}),define(ie[603],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/findInput",e)}),define(ie[604],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/findInputToggles",e)}),define(ie[605],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/findinput/replaceInput",e)}),define(ie[606],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/hover/hoverWidget",e)}),define(ie[607],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/inputbox/inputBox",e)}),define(ie[608],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/keybindingLabel/keybindingLabel",e)}),define(ie[609],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/selectBox/selectBoxCustom",e)}),define(ie[610],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/toolbar/toolbar",e)}),define(ie[611],ne([3,4]),function(Q,e){return Q.create("vs/base/browser/ui/tree/abstractTree",e)}),define(ie[612],ne([3,4]),function(Q,e){return Q.create("vs/base/common/actions",e)}),define(ie[41],ne([1,0,7,2,612]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmptySubmenuAction=e.SubmenuAction=e.Separator=e.ActionRunner=e.Action=void 0,e.toAction=C;class D extends k.Disposable{constructor(s,i="",t="",n=!0,c){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=s,this._label=i,this._cssClass=t,this._enabled=n,this._actionCallback=c}get id(){return this._id}get label(){return this._label}set label(s){this._setLabel(s)}_setLabel(s){this._label!==s&&(this._label=s,this._onDidChange.fire({label:s}))}get tooltip(){return this._tooltip||""}set tooltip(s){this._setTooltip(s)}_setTooltip(s){this._tooltip!==s&&(this._tooltip=s,this._onDidChange.fire({tooltip:s}))}get class(){return this._cssClass}set class(s){this._setClass(s)}_setClass(s){this._cssClass!==s&&(this._cssClass=s,this._onDidChange.fire({class:s}))}get enabled(){return this._enabled}set enabled(s){this._setEnabled(s)}_setEnabled(s){this._enabled!==s&&(this._enabled=s,this._onDidChange.fire({enabled:s}))}get checked(){return this._checked}set checked(s){this._setChecked(s)}_setChecked(s){this._checked!==s&&(this._checked=s,this._onDidChange.fire({checked:s}))}async run(s,i){this._actionCallback&&await this._actionCallback(s)}}e.Action=D;class y extends k.Disposable{constructor(){super(...arguments),this._onWillRun=this._register(new f.Emitter),this.onWillRun=this._onWillRun.event,this._onDidRun=this._register(new f.Emitter),this.onDidRun=this._onDidRun.event}async run(s,i){if(!s.enabled)return;this._onWillRun.fire({action:s});let t;try{await this.runAction(s,i)}catch(n){t=n}this._onDidRun.fire({action:s,error:t})}async runAction(s,i){await s.run(i)}}e.ActionRunner=y;class p{constructor(){this.id=p.ID,this.label="",this.tooltip="",this.class="separator",this.enabled=!1,this.checked=!1}static join(...s){let i=[];for(const t of s)t.length&&(i.length?i=[...i,new p,...t]:i=t);return i}async run(){}}e.Separator=p,p.ID="vs.actions.separator";class w{get actions(){return this._actions}constructor(s,i,t,n){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=s,this.label=i,this.class=n,this._actions=t}async run(){}}e.SubmenuAction=w;class b extends D{constructor(){super(b.ID,E.localize(0,null),void 0,!1)}}e.EmptySubmenuAction=b,b.ID="vs.actions.empty";function C(o){var s;return{id:o.id,label:o.label,class:o.class,enabled:(s=o.enabled)!==null&&s!==void 0?s:!0,checked:o.checked,run:async(...i)=>o.run(...i),tooltip:o.label}}}),define(ie[335],ne([1,0,41]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionRunnerWithContext=void 0;class k extends f.ActionRunner{constructor(D){super(),this._getContext=D}runAction(D,y){const p=this._getContext();return super.runAction(D,p)}}e.ActionRunnerWithContext=k}),define(ie[613],ne([3,4]),function(Q,e){return Q.create("vs/base/common/errorMessage",e)}),define(ie[614],ne([1,0,13,20,613]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toErrorMessage=w;function D(b,C){return C&&(b.stack||b.stacktrace)?E.localize(0,null,p(b),y(b.stack)||y(b.stacktrace)):p(b)}function y(b){return Array.isArray(b)?b.join(`
`):b}function p(b){return b.code==="ERR_UNC_HOST_NOT_ALLOWED"?`${b.message}. Please update the 'security.allowedUNCHosts' setting if you want to allow this host.`:typeof b.code=="string"&&typeof b.errno=="number"&&typeof b.syscall=="string"?E.localize(1,null,b.message):b.message||E.localize(2,null)}function w(b=null,C=!1){if(!b)return E.localize(3,null);if(Array.isArray(b)){const o=f.coalesce(b),s=w(o[0],C);return o.length>1?E.localize(4,null,s,o.length):s}if(k.isString(b))return b;if(b.detail){const o=b.detail;if(o.error)return D(o.error,C);if(o.exception)return D(o.exception,C)}return b.stack?D(b,C):b.message?b.message:E.localize(5,null)}}),define(ie[615],ne([3,4]),function(Q,e){return Q.create("vs/base/common/keybindingLabels",e)}),define(ie[240],ne([1,0,615]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UserSettingsLabelProvider=e.ElectronAcceleratorLabelProvider=e.AriaLabelProvider=e.UILabelProvider=e.ModifierLabelProvider=void 0;class k{constructor(y,p,w=p){this.modifierLabels=[null],this.modifierLabels[2]=y,this.modifierLabels[1]=p,this.modifierLabels[3]=w}toLabel(y,p,w){if(p.length===0)return null;const b=[];for(let C=0,o=p.length;C<o;C++){const s=p[C],i=w(s);if(i===null)return null;b[C]=E(s,i,this.modifierLabels[y])}return b.join(" ")}}e.ModifierLabelProvider=k,e.UILabelProvider=new k({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:f.localize(0,null),shiftKey:f.localize(1,null),altKey:f.localize(2,null),metaKey:f.localize(3,null),separator:"+"},{ctrlKey:f.localize(4,null),shiftKey:f.localize(5,null),altKey:f.localize(6,null),metaKey:f.localize(7,null),separator:"+"}),e.AriaLabelProvider=new k({ctrlKey:f.localize(8,null),shiftKey:f.localize(9,null),altKey:f.localize(10,null),metaKey:f.localize(11,null),separator:"+"},{ctrlKey:f.localize(12,null),shiftKey:f.localize(13,null),altKey:f.localize(14,null),metaKey:f.localize(15,null),separator:"+"},{ctrlKey:f.localize(16,null),shiftKey:f.localize(17,null),altKey:f.localize(18,null),metaKey:f.localize(19,null),separator:"+"}),e.ElectronAcceleratorLabelProvider=new k({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),e.UserSettingsLabelProvider=new k({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function E(D,y,p){if(y===null)return"";const w=[];return D.ctrlKey&&w.push(p.ctrlKey),D.shiftKey&&w.push(p.shiftKey),D.altKey&&w.push(p.altKey),D.metaKey&&w.push(p.metaKey),y!==""&&w.push(y),w.join(p.separator)}}),define(ie[616],ne([3,4]),function(Q,e){return Q.create("vs/base/common/platform",e)}),define(ie[17],ne([1,0,616]),function(Q,e,f){"use strict";var k,E;Object.defineProperty(e,"__esModule",{value:!0}),e.isAndroid=e.isEdge=e.isSafari=e.isFirefox=e.isChrome=e.OS=e.setTimeout0=e.setTimeout0IsFaster=e.language=e.userAgent=e.isMobile=e.isIOS=e.webWorkerOrigin=e.isWebWorker=e.isWeb=e.isNative=e.isLinux=e.isMacintosh=e.isWindows=e.LANGUAGE_DEFAULT=void 0,e.isLittleEndian=S,e.LANGUAGE_DEFAULT="en";let D=!1,y=!1,p=!1,w=!1,b=!1,C=!1,o=!1,s=!1,i=!1,t=!1,n,c=e.LANGUAGE_DEFAULT,m=e.LANGUAGE_DEFAULT,u,r;const a=globalThis;let h;typeof a.vscode<"u"&&typeof a.vscode.process<"u"?h=a.vscode.process:typeof process<"u"&&typeof((k=process==null?void 0:process.versions)===null||k===void 0?void 0:k.node)=="string"&&(h=process);const l=typeof((E=h?.versions)===null||E===void 0?void 0:E.electron)=="string",g=l&&h?.type==="renderer";if(typeof h=="object"){D=h.platform==="win32",y=h.platform==="darwin",p=h.platform==="linux",w=p&&!!h.env.SNAP&&!!h.env.SNAP_REVISION,o=l,i=!!h.env.CI||!!h.env.BUILD_ARTIFACTSTAGINGDIRECTORY,n=e.LANGUAGE_DEFAULT,c=e.LANGUAGE_DEFAULT;const L=h.env.VSCODE_NLS_CONFIG;if(L)try{const I=JSON.parse(L),T=I.availableLanguages["*"];n=I.locale,m=I.osLocale,c=T||e.LANGUAGE_DEFAULT,u=I._translationsConfigFile}catch{}b=!0}else typeof navigator=="object"&&!g?(r=navigator.userAgent,D=r.indexOf("Windows")>=0,y=r.indexOf("Macintosh")>=0,s=(r.indexOf("Macintosh")>=0||r.indexOf("iPad")>=0||r.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,p=r.indexOf("Linux")>=0,t=r?.indexOf("Mobi")>=0,C=!0,n=f.getConfiguredDefaultLocale(f.localize(0,null))||e.LANGUAGE_DEFAULT,c=n,m=navigator.language):console.error("Unable to resolve platform.");let d=0;y?d=1:D?d=3:p&&(d=2),e.isWindows=D,e.isMacintosh=y,e.isLinux=p,e.isNative=b,e.isWeb=C,e.isWebWorker=C&&typeof a.importScripts=="function",e.webWorkerOrigin=e.isWebWorker?a.origin:void 0,e.isIOS=s,e.isMobile=t,e.userAgent=r,e.language=c,e.setTimeout0IsFaster=typeof a.postMessage=="function"&&!a.importScripts,e.setTimeout0=(()=>{if(e.setTimeout0IsFaster){const L=[];a.addEventListener("message",T=>{if(T.data&&T.data.vscodeScheduleAsyncWork)for(let N=0,A=L.length;N<A;N++){const O=L[N];if(O.id===T.data.vscodeScheduleAsyncWork){L.splice(N,1),O.callback();return}}});let I=0;return T=>{const N=++I;L.push({id:N,callback:T}),a.postMessage({vscodeScheduleAsyncWork:N},"*")}}return L=>setTimeout(L)})(),e.OS=y||s?2:D?1:3;let v=!0,_=!1;function S(){if(!_){_=!0;const L=new Uint8Array(2);L[0]=1,L[1]=2,v=new Uint16Array(L.buffer)[0]===513}return v}e.isChrome=!!(e.userAgent&&e.userAgent.indexOf("Chrome")>=0),e.isFirefox=!!(e.userAgent&&e.userAgent.indexOf("Firefox")>=0),e.isSafari=!!(!e.isChrome&&e.userAgent&&e.userAgent.indexOf("Safari")>=0),e.isEdge=!!(e.userAgent&&e.userAgent.indexOf("Edg/")>=0),e.isAndroid=!!(e.userAgent&&e.userAgent.indexOf("Android")>=0)}),define(ie[241],ne([1,0,63,52,17]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserFeatures=void 0,e.BrowserFeatures={clipboard:{writeText:E.isNative||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:E.isNative||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:E.isNative||f.isStandalone()?0:navigator.keyboard||f.isSafari?1:2,touch:"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0,pointerEvents:k.mainWindow.PointerEvent&&("ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0)}}),define(ie[617],ne([1,0,17]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_FONT_FAMILY=void 0,e.DEFAULT_FONT_FAMILY=f.isWindows?'"Segoe WPC", "Segoe UI", sans-serif':f.isMacintosh?"-apple-system, BlinkMacSystemFont, sans-serif":'system-ui, "Ubuntu", "Droid Sans", sans-serif'}),define(ie[46],ne([1,0,63,69,135,17]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardKeyboardEvent=void 0;function y(s){if(s.charCode){const t=String.fromCharCode(s.charCode).toUpperCase();return k.KeyCodeUtils.fromString(t)}const i=s.keyCode;if(i===3)return 7;if(f.isFirefox)switch(i){case 59:return 85;case 60:if(D.isLinux)return 97;break;case 61:return 86;case 107:return 109;case 109:return 111;case 173:return 88;case 224:if(D.isMacintosh)return 57;break}else if(f.isWebKit){if(D.isMacintosh&&i===93)return 57;if(!D.isMacintosh&&i===92)return 57}return k.EVENT_KEY_CODE_MAP[i]||0}const p=D.isMacintosh?256:2048,w=512,b=1024,C=D.isMacintosh?2048:256;class o{constructor(i){var t;this._standardKeyboardEventBrand=!0;const n=i;this.browserEvent=n,this.target=n.target,this.ctrlKey=n.ctrlKey,this.shiftKey=n.shiftKey,this.altKey=n.altKey,this.metaKey=n.metaKey,this.altGraphKey=(t=n.getModifierState)===null||t===void 0?void 0:t.call(n,"AltGraph"),this.keyCode=y(n),this.code=n.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asKeyCodeChord=this._computeKeyCodeChord()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeyCodeChord(){return this._asKeyCodeChord}equals(i){return this._asKeybinding===i}_computeKeybinding(){let i=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode);let t=0;return this.ctrlKey&&(t|=p),this.altKey&&(t|=w),this.shiftKey&&(t|=b),this.metaKey&&(t|=C),t|=i,t}_computeKeyCodeChord(){let i=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(i=this.keyCode),new E.KeyCodeChord(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,i)}}e.StandardKeyboardEvent=o}),define(ie[73],ne([1,0,63,422,17]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandardWheelEvent=e.StandardMouseEvent=void 0;class D{constructor(w,b){this.timestamp=Date.now(),this.browserEvent=b,this.leftButton=b.button===0,this.middleButton=b.button===1,this.rightButton=b.button===2,this.buttons=b.buttons,this.target=b.target,this.detail=b.detail||1,b.type==="dblclick"&&(this.detail=2),this.ctrlKey=b.ctrlKey,this.shiftKey=b.shiftKey,this.altKey=b.altKey,this.metaKey=b.metaKey,typeof b.pageX=="number"?(this.posx=b.pageX,this.posy=b.pageY):(this.posx=b.clientX+this.target.ownerDocument.body.scrollLeft+this.target.ownerDocument.documentElement.scrollLeft,this.posy=b.clientY+this.target.ownerDocument.body.scrollTop+this.target.ownerDocument.documentElement.scrollTop);const C=k.IframeUtils.getPositionOfChildWindowRelativeToAncestorWindow(w,b.view);this.posx-=C.left,this.posy-=C.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}e.StandardMouseEvent=D;class y{constructor(w,b=0,C=0){var o;this.browserEvent=w||null,this.target=w?w.target||w.targetNode||w.srcElement:null,this.deltaY=C,this.deltaX=b;let s=!1;if(f.isChrome){const i=navigator.userAgent.match(/Chrome\/(\d+)/);s=(i?parseInt(i[1]):123)<=122}if(w){const i=w,t=w,n=((o=w.view)===null||o===void 0?void 0:o.devicePixelRatio)||1;if(typeof i.wheelDeltaY<"u")s?this.deltaY=i.wheelDeltaY/(120*n):this.deltaY=i.wheelDeltaY/120;else if(typeof t.VERTICAL_AXIS<"u"&&t.axis===t.VERTICAL_AXIS)this.deltaY=-t.detail/3;else if(w.type==="wheel"){const c=w;c.deltaMode===c.DOM_DELTA_LINE?f.isFirefox&&!E.isMacintosh?this.deltaY=-w.deltaY/3:this.deltaY=-w.deltaY:this.deltaY=-w.deltaY/40}if(typeof i.wheelDeltaX<"u")f.isSafari&&E.isWindows?this.deltaX=-(i.wheelDeltaX/120):s?this.deltaX=i.wheelDeltaX/(120*n):this.deltaX=i.wheelDeltaX/120;else if(typeof t.HORIZONTAL_AXIS<"u"&&t.axis===t.HORIZONTAL_AXIS)this.deltaX=-w.detail/3;else if(w.type==="wheel"){const c=w;c.deltaMode===c.DOM_DELTA_LINE?f.isFirefox&&!E.isMacintosh?this.deltaX=-w.deltaX/3:this.deltaX=-w.deltaX:this.deltaX=-w.deltaX/40}this.deltaY===0&&this.deltaX===0&&w.wheelDelta&&(s?this.deltaY=w.wheelDelta/(120*n):this.deltaY=w.wheelDelta/120)}}preventDefault(){var w;(w=this.browserEvent)===null||w===void 0||w.preventDefault()}stopPropagation(){var w;(w=this.browserEvent)===null||w===void 0||w.stopPropagation()}}e.StandardWheelEvent=y}),define(ie[15],ne([1,0,19,10,7,2,17,293]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CancelableAsyncIterableObject=e.AsyncIterableObject=e.Promises=e.DeferredPromise=e.GlobalIdleValue=e.AbstractIdleValue=e._runWhenIdle=e.runWhenGlobalIdle=e.RunOnceScheduler=e.IntervalTimer=e.TimeoutTimer=e.ThrottledDelayer=e.Delayer=e.Throttler=void 0,e.isThenable=w,e.createCancelablePromise=b,e.raceCancellation=C,e.timeout=c,e.disposableTimeout=m,e.first=u,e.createCancelableAsyncIterable=L;function w(I){return!!I&&typeof I.then=="function"}function b(I){const T=new f.CancellationTokenSource,N=I(T.token),A=new Promise((O,M)=>{const R=T.token.onCancellationRequested(()=>{R.dispose(),M(new k.CancellationError)});Promise.resolve(N).then(x=>{R.dispose(),T.dispose(),O(x)},x=>{R.dispose(),T.dispose(),M(x)})});return new class{cancel(){T.cancel(),T.dispose()}then(O,M){return A.then(O,M)}catch(O){return this.then(void 0,O)}finally(O){return A.finally(O)}}}function C(I,T,N){return new Promise((A,O)=>{const M=T.onCancellationRequested(()=>{M.dispose(),A(N)});I.then(A,O).finally(()=>M.dispose())})}class o{constructor(){this.isDisposed=!1,this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(T){if(this.isDisposed)return Promise.reject(new Error("Throttler is disposed"));if(this.activePromise){if(this.queuedPromiseFactory=T,!this.queuedPromise){const N=()=>{if(this.queuedPromise=null,this.isDisposed)return;const A=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,A};this.queuedPromise=new Promise(A=>{this.activePromise.then(N,N).then(A)})}return new Promise((N,A)=>{this.queuedPromise.then(N,A)})}return this.activePromise=T(),new Promise((N,A)=>{this.activePromise.then(O=>{this.activePromise=null,N(O)},O=>{this.activePromise=null,A(O)})})}dispose(){this.isDisposed=!0}}e.Throttler=o;const s=(I,T)=>{let N=!0;const A=setTimeout(()=>{N=!1,T()},I);return{isTriggered:()=>N,dispose:()=>{clearTimeout(A),N=!1}}},i=I=>{let T=!0;return queueMicrotask(()=>{T&&(T=!1,I())}),{isTriggered:()=>T,dispose:()=>{T=!1}}};class t{constructor(T){this.defaultDelay=T,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(T,N=this.defaultDelay){this.task=T,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((O,M)=>{this.doResolve=O,this.doReject=M}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const O=this.task;return this.task=null,O()}}));const A=()=>{var O;this.deferred=null,(O=this.doResolve)===null||O===void 0||O.call(this,null)};return this.deferred=N===p.MicrotaskDelay?i(A):s(N,A),this.completionPromise}isTriggered(){var T;return!!(!((T=this.deferred)===null||T===void 0)&&T.isTriggered())}cancel(){var T;this.cancelTimeout(),this.completionPromise&&((T=this.doReject)===null||T===void 0||T.call(this,new k.CancellationError),this.completionPromise=null)}cancelTimeout(){var T;(T=this.deferred)===null||T===void 0||T.dispose(),this.deferred=null}dispose(){this.cancel()}}e.Delayer=t;class n{constructor(T){this.delayer=new t(T),this.throttler=new o}trigger(T,N){return this.delayer.trigger(()=>this.throttler.queue(T),N)}cancel(){this.delayer.cancel()}dispose(){this.delayer.dispose(),this.throttler.dispose()}}e.ThrottledDelayer=n;function c(I,T){return T?new Promise((N,A)=>{const O=setTimeout(()=>{M.dispose(),N()},I),M=T.onCancellationRequested(()=>{clearTimeout(O),M.dispose(),A(new k.CancellationError)})}):b(N=>c(I,N))}function m(I,T=0,N){const A=setTimeout(()=>{I(),N&&O.dispose()},T),O=(0,D.toDisposable)(()=>{clearTimeout(A),N?.deleteAndLeak(O)});return N?.add(O),O}function u(I,T=A=>!!A,N=null){let A=0;const O=I.length,M=()=>{if(A>=O)return Promise.resolve(N);const R=I[A++];return Promise.resolve(R()).then(F=>T(F)?Promise.resolve(F):M())};return M()}class r{constructor(T,N){this._token=-1,typeof T=="function"&&typeof N=="number"&&this.setIfNotSet(T,N)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(T,N){this.cancel(),this._token=setTimeout(()=>{this._token=-1,T()},N)}setIfNotSet(T,N){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,T()},N))}}e.TimeoutTimer=r;class a{constructor(){this.disposable=void 0}cancel(){var T;(T=this.disposable)===null||T===void 0||T.dispose(),this.disposable=void 0}cancelAndSet(T,N,A=globalThis){this.cancel();const O=A.setInterval(()=>{T()},N);this.disposable=(0,D.toDisposable)(()=>{A.clearInterval(O),this.disposable=void 0})}dispose(){this.cancel()}}e.IntervalTimer=a;class h{constructor(T,N){this.timeoutToken=-1,this.runner=T,this.timeout=N,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(T=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,T)}get delay(){return this.timeout}set delay(T){this.timeout=T}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var T;(T=this.runner)===null||T===void 0||T.call(this)}}e.RunOnceScheduler=h,function(){typeof globalThis.requestIdleCallback!="function"||typeof globalThis.cancelIdleCallback!="function"?e._runWhenIdle=(I,T)=>{(0,y.setTimeout0)(()=>{if(N)return;const A=Date.now()+15;T(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,A-Date.now())}}))});let N=!1;return{dispose(){N||(N=!0)}}}:e._runWhenIdle=(I,T,N)=>{const A=I.requestIdleCallback(T,typeof N=="number"?{timeout:N}:void 0);let O=!1;return{dispose(){O||(O=!0,I.cancelIdleCallback(A))}}},e.runWhenGlobalIdle=I=>(0,e._runWhenIdle)(globalThis,I)}();class l{constructor(T,N){this._didRun=!1,this._executor=()=>{try{this._value=N()}catch(A){this._error=A}finally{this._didRun=!0}},this._handle=(0,e._runWhenIdle)(T,()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}e.AbstractIdleValue=l;class g extends l{constructor(T){super(globalThis,T)}}e.GlobalIdleValue=g;class d{get isRejected(){var T;return((T=this.outcome)===null||T===void 0?void 0:T.outcome)===1}get isSettled(){return!!this.outcome}constructor(){this.p=new Promise((T,N)=>{this.completeCallback=T,this.errorCallback=N})}complete(T){return new Promise(N=>{this.completeCallback(T),this.outcome={outcome:0,value:T},N()})}error(T){return new Promise(N=>{this.errorCallback(T),this.outcome={outcome:1,value:T},N()})}cancel(){return this.error(new k.CancellationError)}}e.DeferredPromise=d;var v;(function(I){async function T(A){let O;const M=await Promise.all(A.map(R=>R.then(x=>x,x=>{O||(O=x)})));if(typeof O<"u")throw O;return M}I.settled=T;function N(A){return new Promise(async(O,M)=>{try{await A(O,M)}catch(R){M(R)}})}I.withAsyncBody=N})(v||(e.Promises=v={}));class _{static fromArray(T){return new _(N=>{N.emitMany(T)})}static fromPromise(T){return new _(async N=>{N.emitMany(await T)})}static fromPromises(T){return new _(async N=>{await Promise.all(T.map(async A=>N.emitOne(await A)))})}static merge(T){return new _(async N=>{await Promise.all(T.map(async A=>{for await(const O of A)N.emitOne(O)}))})}constructor(T,N){this._state=0,this._results=[],this._error=null,this._onReturn=N,this._onStateChanged=new E.Emitter,queueMicrotask(async()=>{const A={emitOne:O=>this.emitOne(O),emitMany:O=>this.emitMany(O),reject:O=>this.reject(O)};try{await Promise.resolve(T(A)),this.resolve()}catch(O){this.reject(O)}finally{A.emitOne=void 0,A.emitMany=void 0,A.reject=void 0}})}[Symbol.asyncIterator](){let T=0;return{next:async()=>{do{if(this._state===2)throw this._error;if(T<this._results.length)return{done:!1,value:this._results[T++]};if(this._state===1)return{done:!0,value:void 0};await E.Event.toPromise(this._onStateChanged.event)}while(!0)},return:async()=>{var N;return(N=this._onReturn)===null||N===void 0||N.call(this),{done:!0,value:void 0}}}}static map(T,N){return new _(async A=>{for await(const O of T)A.emitOne(N(O))})}map(T){return _.map(this,T)}static filter(T,N){return new _(async A=>{for await(const O of T)N(O)&&A.emitOne(O)})}filter(T){return _.filter(this,T)}static coalesce(T){return _.filter(T,N=>!!N)}coalesce(){return _.coalesce(this)}static async toPromise(T){const N=[];for await(const A of T)N.push(A);return N}toPromise(){return _.toPromise(this)}emitOne(T){this._state===0&&(this._results.push(T),this._onStateChanged.fire())}emitMany(T){this._state===0&&(this._results=this._results.concat(T),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(T){this._state===0&&(this._state=2,this._error=T,this._onStateChanged.fire())}}e.AsyncIterableObject=_,_.EMPTY=_.fromArray([]);class S extends _{constructor(T,N){super(N),this._source=T}cancel(){this._source.cancel()}}e.CancelableAsyncIterableObject=S;function L(I){const T=new f.CancellationTokenSource,N=I(T.token);return new S(T,async A=>{const O=T.token.onCancellationRequested(()=>{O.dispose(),T.dispose(),A.reject(new k.CancellationError)});try{for await(const M of N){if(T.token.isCancellationRequested)return;A.emitOne(M)}O.dispose(),T.dispose()}catch(M){O.dispose(),T.dispose(),A.reject(M)}})}}),define(ie[618],ne([1,0,15,2]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarVisibilityController=void 0;class E extends k.Disposable{constructor(y,p,w){super(),this._visibility=y,this._visibleClassName=p,this._invisibleClassName=w,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new f.TimeoutTimer)}setVisibility(y){this._visibility!==y&&(this._visibility=y,this._updateShouldBeVisible())}setShouldBeVisible(y){this._rawShouldBeVisible=y,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const y=this._applyVisibilitySetting();this._shouldBeVisible!==y&&(this._shouldBeVisible=y,this.ensureVisibility())}setIsNeeded(y){this._isNeeded!==y&&(this._isNeeded=y,this.ensureVisibility())}setDomNode(y){this._domNode=y,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var y;(y=this._domNode)===null||y===void 0||y.setClassName(this._visibleClassName)},0))}_hide(y){var p;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(p=this._domNode)===null||p===void 0||p.setClassName(this._invisibleClassName+(y?" fade":"")))}}e.ScrollbarVisibilityController=E}),define(ie[242],ne([1,0,154,13,15,293,185,7,54]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndexTreeModel=void 0,e.isFilterResult=b,e.getVisibleState=C;function b(i){return typeof i=="object"&&"visibility"in i&&"data"in i}function C(i){switch(i){case!0:return 1;case!1:return 0;default:return i}}function o(i){return typeof i.collapsible=="boolean"}class s{constructor(t,n,c,m={}){var u;this.user=t,this.list=n,this.rootRef=[],this.eventBufferer=new p.EventBufferer,this._onDidChangeCollapseState=new p.Emitter,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new p.Emitter,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new p.Emitter,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new E.Delayer(D.MicrotaskDelay),this.collapseByDefault=typeof m.collapseByDefault>"u"?!1:m.collapseByDefault,this.allowNonCollapsibleParents=(u=m.allowNonCollapsibleParents)!==null&&u!==void 0?u:!1,this.filter=m.filter,this.autoExpandSingleChildren=typeof m.autoExpandSingleChildren>"u"?!1:m.autoExpandSingleChildren,this.root={parent:void 0,element:c,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(t,n,c=w.Iterable.empty(),m={}){if(t.length===0)throw new f.TreeError(this.user,"Invalid tree location");m.diffIdentityProvider?this.spliceSmart(m.diffIdentityProvider,t,n,c,m):this.spliceSimple(t,n,c,m)}spliceSmart(t,n,c,m,u,r){var a;m===void 0&&(m=w.Iterable.empty()),r===void 0&&(r=(a=u.diffDepth)!==null&&a!==void 0?a:0);const{parentNode:h}=this.getParentNodeWithListIndex(n);if(!h.lastDiffIds)return this.spliceSimple(n,c,m,u);const l=[...m],g=n[n.length-1],d=new y.LcsDiff({getElements:()=>h.lastDiffIds},{getElements:()=>[...h.children.slice(0,g),...l,...h.children.slice(g+c)].map(I=>t.getId(I.element).toString())}).ComputeDiff(!1);if(d.quitEarly)return h.lastDiffIds=void 0,this.spliceSimple(n,c,l,u);const v=n.slice(0,-1),_=(I,T,N)=>{if(r>0)for(let A=0;A<N;A++)I--,T--,this.spliceSmart(t,[...v,I,0],Number.MAX_SAFE_INTEGER,l[T].children,u,r-1)};let S=Math.min(h.children.length,g+c),L=l.length;for(const I of d.changes.sort((T,N)=>N.originalStart-T.originalStart))_(S,L,S-(I.originalStart+I.originalLength)),S=I.originalStart,L=I.modifiedStart-g,this.spliceSimple([...v,S],I.originalLength,w.Iterable.slice(l,L,L+I.modifiedLength),u);_(S,L,S)}spliceSimple(t,n,c=w.Iterable.empty(),{onDidCreateNode:m,onDidDeleteNode:u,diffIdentityProvider:r}){const{parentNode:a,listIndex:h,revealed:l,visible:g}=this.getParentNodeWithListIndex(t),d=[],v=w.Iterable.map(c,M=>this.createTreeNode(M,a,a.visible?1:0,l,d,m)),_=t[t.length-1];let S=0;for(let M=_;M>=0&&M<a.children.length;M--){const R=a.children[M];if(R.visible){S=R.visibleChildIndex;break}}const L=[];let I=0,T=0;for(const M of v)L.push(M),T+=M.renderNodeCount,M.visible&&(M.visibleChildIndex=S+I++);const N=(0,k.splice)(a.children,_,n,L);r?a.lastDiffIds?(0,k.splice)(a.lastDiffIds,_,n,L.map(M=>r.getId(M.element).toString())):a.lastDiffIds=a.children.map(M=>r.getId(M.element).toString()):a.lastDiffIds=void 0;let A=0;for(const M of N)M.visible&&A++;if(A!==0)for(let M=_+L.length;M<a.children.length;M++){const R=a.children[M];R.visible&&(R.visibleChildIndex-=A)}if(a.visibleChildrenCount+=I-A,l&&g){const M=N.reduce((R,x)=>R+(x.visible?x.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(a,T-M),this.list.splice(h,M,d)}if(N.length>0&&u){const M=R=>{u(R),R.children.forEach(M)};N.forEach(M)}this._onDidSplice.fire({insertedNodes:L,deletedNodes:N});let O=a;for(;O;){if(O.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}O=O.parent}}rerender(t){if(t.length===0)throw new f.TreeError(this.user,"Invalid tree location");const{node:n,listIndex:c,revealed:m}=this.getTreeNodeWithListIndex(t);n.visible&&m&&this.list.splice(c,1,[n])}has(t){return this.hasTreeNode(t)}getListIndex(t){const{listIndex:n,visible:c,revealed:m}=this.getTreeNodeWithListIndex(t);return c&&m?n:-1}getListRenderCount(t){return this.getTreeNode(t).renderNodeCount}isCollapsible(t){return this.getTreeNode(t).collapsible}setCollapsible(t,n){const c=this.getTreeNode(t);typeof n>"u"&&(n=!c.collapsible);const m={collapsible:n};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,m))}isCollapsed(t){return this.getTreeNode(t).collapsed}setCollapsed(t,n,c){const m=this.getTreeNode(t);typeof n>"u"&&(n=!m.collapsed);const u={collapsed:n,recursive:c||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(t,u))}_setCollapseState(t,n){const{node:c,listIndex:m,revealed:u}=this.getTreeNodeWithListIndex(t),r=this._setListNodeCollapseState(c,m,u,n);if(c!==this.root&&this.autoExpandSingleChildren&&r&&!o(n)&&c.collapsible&&!c.collapsed&&!n.recursive){let a=-1;for(let h=0;h<c.children.length;h++)if(c.children[h].visible)if(a>-1){a=-1;break}else a=h;a>-1&&this._setCollapseState([...t,a],n)}return r}_setListNodeCollapseState(t,n,c,m){const u=this._setNodeCollapseState(t,m,!1);if(!c||!t.visible||!u)return u;const r=t.renderNodeCount,a=this.updateNodeAfterCollapseChange(t),h=r-(n===-1?0:1);return this.list.splice(n+1,h,a.slice(1)),u}_setNodeCollapseState(t,n,c){let m;if(t===this.root?m=!1:(o(n)?(m=t.collapsible!==n.collapsible,t.collapsible=n.collapsible):t.collapsible?(m=t.collapsed!==n.collapsed,t.collapsed=n.collapsed):m=!1,m&&this._onDidChangeCollapseState.fire({node:t,deep:c})),!o(n)&&n.recursive)for(const u of t.children)m=this._setNodeCollapseState(u,n,!0)||m;return m}expandTo(t){this.eventBufferer.bufferEvents(()=>{let n=this.getTreeNode(t);for(;n.parent;)n=n.parent,t=t.slice(0,t.length-1),n.collapsed&&this._setCollapseState(t,{collapsed:!1,recursive:!1})})}refilter(){const t=this.root.renderNodeCount,n=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,t,n),this.refilterDelayer.cancel()}createTreeNode(t,n,c,m,u,r){const a={parent:n,element:t.element,children:[],depth:n.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof t.collapsible=="boolean"?t.collapsible:typeof t.collapsed<"u",collapsed:typeof t.collapsed>"u"?this.collapseByDefault:t.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},h=this._filterNode(a,c);a.visibility=h,m&&u.push(a);const l=t.children||w.Iterable.empty(),g=m&&h!==0&&!a.collapsed;let d=0,v=1;for(const _ of l){const S=this.createTreeNode(_,a,h,g,u,r);a.children.push(S),v+=S.renderNodeCount,S.visible&&(S.visibleChildIndex=d++)}return this.allowNonCollapsibleParents||(a.collapsible=a.collapsible||a.children.length>0),a.visibleChildrenCount=d,a.visible=h===2?d>0:h===1,a.visible?a.collapsed||(a.renderNodeCount=v):(a.renderNodeCount=0,m&&u.pop()),r?.(a),a}updateNodeAfterCollapseChange(t){const n=t.renderNodeCount,c=[];return this._updateNodeAfterCollapseChange(t,c),this._updateAncestorsRenderNodeCount(t.parent,c.length-n),c}_updateNodeAfterCollapseChange(t,n){if(t.visible===!1)return 0;if(n.push(t),t.renderNodeCount=1,!t.collapsed)for(const c of t.children)t.renderNodeCount+=this._updateNodeAfterCollapseChange(c,n);return this._onDidChangeRenderNodeCount.fire(t),t.renderNodeCount}updateNodeAfterFilterChange(t){const n=t.renderNodeCount,c=[];return this._updateNodeAfterFilterChange(t,t.visible?1:0,c),this._updateAncestorsRenderNodeCount(t.parent,c.length-n),c}_updateNodeAfterFilterChange(t,n,c,m=!0){let u;if(t!==this.root){if(u=this._filterNode(t,n),u===0)return t.visible=!1,t.renderNodeCount=0,!1;m&&c.push(t)}const r=c.length;t.renderNodeCount=t===this.root?0:1;let a=!1;if(!t.collapsed||u!==0){let h=0;for(const l of t.children)a=this._updateNodeAfterFilterChange(l,u,c,m&&!t.collapsed)||a,l.visible&&(l.visibleChildIndex=h++);t.visibleChildrenCount=h}else t.visibleChildrenCount=0;return t!==this.root&&(t.visible=u===2?a:u===1,t.visibility=u),t.visible?t.collapsed||(t.renderNodeCount+=c.length-r):(t.renderNodeCount=0,m&&c.pop()),this._onDidChangeRenderNodeCount.fire(t),t.visible}_updateAncestorsRenderNodeCount(t,n){if(n!==0)for(;t;)t.renderNodeCount+=n,this._onDidChangeRenderNodeCount.fire(t),t=t.parent}_filterNode(t,n){const c=this.filter?this.filter.filter(t.element,n):1;return typeof c=="boolean"?(t.filterData=void 0,c?1:0):b(c)?(t.filterData=c.data,C(c.visibility)):(t.filterData=void 0,C(c))}hasTreeNode(t,n=this.root){if(!t||t.length===0)return!0;const[c,...m]=t;return c<0||c>n.children.length?!1:this.hasTreeNode(m,n.children[c])}getTreeNode(t,n=this.root){if(!t||t.length===0)return n;const[c,...m]=t;if(c<0||c>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");return this.getTreeNode(m,n.children[c])}getTreeNodeWithListIndex(t){if(t.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:n,listIndex:c,revealed:m,visible:u}=this.getParentNodeWithListIndex(t),r=t[t.length-1];if(r<0||r>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");const a=n.children[r];return{node:a,listIndex:c,revealed:m,visible:u&&a.visible}}getParentNodeWithListIndex(t,n=this.root,c=0,m=!0,u=!0){const[r,...a]=t;if(r<0||r>n.children.length)throw new f.TreeError(this.user,"Invalid tree location");for(let h=0;h<r;h++)c+=n.children[h].renderNodeCount;return m=m&&!n.collapsed,u=u&&n.visible,a.length===0?{parentNode:n,listIndex:c,revealed:m,visible:u}:this.getParentNodeWithListIndex(a,n.children[r],c+1,m,u)}getNode(t=[]){return this.getTreeNode(t)}getNodeLocation(t){const n=[];let c=t;for(;c.parent;)n.push(c.parent.children.indexOf(c)),c=c.parent;return n.reverse()}getParentNodeLocation(t){if(t.length!==0)return t.length===1?[]:(0,k.tail2)(t)[0]}getFirstElementChild(t){const n=this.getTreeNode(t);if(n.children.length!==0)return n.children[0].element}}e.IndexTreeModel=s}),define(ie[243],ne([1,0,242,154,54]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ObjectTreeModel=void 0;class D{constructor(p,w,b={}){this.user=p,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new f.IndexTreeModel(p,w,null,b),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,b.sorter&&(this.sorter={compare(C,o){return b.sorter.compare(C.element,o.element)}}),this.identityProvider=b.identityProvider}setChildren(p,w=E.Iterable.empty(),b={}){const C=this.getElementLocation(p);this._setChildren(C,this.preserveCollapseState(w),b)}_setChildren(p,w=E.Iterable.empty(),b){const C=new Set,o=new Set,s=t=>{var n;if(t.element===null)return;const c=t;if(C.add(c.element),this.nodes.set(c.element,c),this.identityProvider){const m=this.identityProvider.getId(c.element).toString();o.add(m),this.nodesByIdentity.set(m,c)}(n=b.onDidCreateNode)===null||n===void 0||n.call(b,c)},i=t=>{var n;if(t.element===null)return;const c=t;if(C.has(c.element)||this.nodes.delete(c.element),this.identityProvider){const m=this.identityProvider.getId(c.element).toString();o.has(m)||this.nodesByIdentity.delete(m)}(n=b.onDidDeleteNode)===null||n===void 0||n.call(b,c)};this.model.splice([...p,0],Number.MAX_VALUE,w,{...b,onDidCreateNode:s,onDidDeleteNode:i})}preserveCollapseState(p=E.Iterable.empty()){return this.sorter&&(p=[...p].sort(this.sorter.compare.bind(this.sorter))),E.Iterable.map(p,w=>{let b=this.nodes.get(w.element);if(!b&&this.identityProvider){const s=this.identityProvider.getId(w.element).toString();b=this.nodesByIdentity.get(s)}if(!b){let s;return typeof w.collapsed>"u"?s=void 0:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed?s=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?s=!1:s=!!w.collapsed,{...w,children:this.preserveCollapseState(w.children),collapsed:s}}const C=typeof w.collapsible=="boolean"?w.collapsible:b.collapsible;let o;return typeof w.collapsed>"u"||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrCollapsed||w.collapsed===k.ObjectTreeElementCollapseState.PreserveOrExpanded?o=b.collapsed:w.collapsed===k.ObjectTreeElementCollapseState.Collapsed?o=!0:w.collapsed===k.ObjectTreeElementCollapseState.Expanded?o=!1:o=!!w.collapsed,{...w,collapsible:C,collapsed:o,children:this.preserveCollapseState(w.children)}})}rerender(p){const w=this.getElementLocation(p);this.model.rerender(w)}getFirstElementChild(p=null){const w=this.getElementLocation(p);return this.model.getFirstElementChild(w)}has(p){return this.nodes.has(p)}getListIndex(p){const w=this.getElementLocation(p);return this.model.getListIndex(w)}getListRenderCount(p){const w=this.getElementLocation(p);return this.model.getListRenderCount(w)}isCollapsible(p){const w=this.getElementLocation(p);return this.model.isCollapsible(w)}setCollapsible(p,w){const b=this.getElementLocation(p);return this.model.setCollapsible(b,w)}isCollapsed(p){const w=this.getElementLocation(p);return this.model.isCollapsed(w)}setCollapsed(p,w,b){const C=this.getElementLocation(p);return this.model.setCollapsed(C,w,b)}expandTo(p){const w=this.getElementLocation(p);this.model.expandTo(w)}refilter(){this.model.refilter()}getNode(p=null){if(p===null)return this.model.getNode(this.model.rootRef);const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return w}getNodeLocation(p){return p.element}getParentNodeLocation(p){if(p===null)throw new k.TreeError(this.user,"Invalid getParentNodeLocation call");const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);const b=this.model.getNodeLocation(w),C=this.model.getParentNodeLocation(b);return this.model.getNode(C).element}getElementLocation(p){if(p===null)return[];const w=this.nodes.get(p);if(!w)throw new k.TreeError(this.user,`Tree element not found: ${p}`);return this.model.getNodeLocation(w)}}e.ObjectTreeModel=D}),define(ie[619],ne([1,0,243,154,13,7,54]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTreeModel=e.DefaultElementMapper=e.CompressedObjectTreeModel=void 0,e.compress=w,e.decompress=C;function p(r){const a=[r.element],h=r.incompressible||!1;return{element:{elements:a,incompressible:h},children:y.Iterable.map(y.Iterable.from(r.children),p),collapsible:r.collapsible,collapsed:r.collapsed}}function w(r){const a=[r.element],h=r.incompressible||!1;let l,g;for(;[g,l]=y.Iterable.consume(y.Iterable.from(r.children),2),!(g.length!==1||g[0].incompressible);)r=g[0],a.push(r.element);return{element:{elements:a,incompressible:h},children:y.Iterable.map(y.Iterable.concat(g,l),w),collapsible:r.collapsible,collapsed:r.collapsed}}function b(r,a=0){let h;return a<r.element.elements.length-1?h=[b(r,a+1)]:h=y.Iterable.map(y.Iterable.from(r.children),l=>b(l,0)),a===0&&r.element.incompressible?{element:r.element.elements[a],children:h,incompressible:!0,collapsible:r.collapsible,collapsed:r.collapsed}:{element:r.element.elements[a],children:h,collapsible:r.collapsible,collapsed:r.collapsed}}function C(r){return b(r,0)}function o(r,a,h){return r.element===a?{...r,children:h}:{...r,children:y.Iterable.map(y.Iterable.from(r.children),l=>o(l,a,h))}}const s=r=>({getId(a){return a.elements.map(h=>r.getId(h).toString()).join("\0")}});class i{get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}constructor(a,h,l={}){this.user=a,this.rootRef=null,this.nodes=new Map,this.model=new f.ObjectTreeModel(a,h,l),this.enabled=typeof l.compressionEnabled>"u"?!0:l.compressionEnabled,this.identityProvider=l.identityProvider}setChildren(a,h=y.Iterable.empty(),l){const g=l.diffIdentityProvider&&s(l.diffIdentityProvider);if(a===null){const O=y.Iterable.map(h,this.enabled?w:p);this._setChildren(null,O,{diffIdentityProvider:g,diffDepth:1/0});return}const d=this.nodes.get(a);if(!d)throw new k.TreeError(this.user,"Unknown compressed tree node");const v=this.model.getNode(d),_=this.model.getParentNodeLocation(d),S=this.model.getNode(_),L=C(v),I=o(L,a,h),T=(this.enabled?w:p)(I),N=l.diffIdentityProvider?(O,M)=>l.diffIdentityProvider.getId(O)===l.diffIdentityProvider.getId(M):void 0;if((0,E.equals)(T.element.elements,v.element.elements,N)){this._setChildren(d,T.children||y.Iterable.empty(),{diffIdentityProvider:g,diffDepth:1});return}const A=S.children.map(O=>O===v?T:O);this._setChildren(S.element,A,{diffIdentityProvider:g,diffDepth:v.depth-S.depth})}isCompressionEnabled(){return this.enabled}setCompressionEnabled(a){if(a===this.enabled)return;this.enabled=a;const l=this.model.getNode().children,g=y.Iterable.map(l,C),d=y.Iterable.map(g,a?w:p);this._setChildren(null,d,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(a,h,l){const g=new Set,d=_=>{for(const S of _.element.elements)g.add(S),this.nodes.set(S,_.element)},v=_=>{for(const S of _.element.elements)g.has(S)||this.nodes.delete(S)};this.model.setChildren(a,h,{...l,onDidCreateNode:d,onDidDeleteNode:v})}has(a){return this.nodes.has(a)}getListIndex(a){const h=this.getCompressedNode(a);return this.model.getListIndex(h)}getListRenderCount(a){const h=this.getCompressedNode(a);return this.model.getListRenderCount(h)}getNode(a){if(typeof a>"u")return this.model.getNode();const h=this.getCompressedNode(a);return this.model.getNode(h)}getNodeLocation(a){const h=this.model.getNodeLocation(a);return h===null?null:h.elements[h.elements.length-1]}getParentNodeLocation(a){const h=this.getCompressedNode(a),l=this.model.getParentNodeLocation(h);return l===null?null:l.elements[l.elements.length-1]}getFirstElementChild(a){const h=this.getCompressedNode(a);return this.model.getFirstElementChild(h)}isCollapsible(a){const h=this.getCompressedNode(a);return this.model.isCollapsible(h)}setCollapsible(a,h){const l=this.getCompressedNode(a);return this.model.setCollapsible(l,h)}isCollapsed(a){const h=this.getCompressedNode(a);return this.model.isCollapsed(h)}setCollapsed(a,h,l){const g=this.getCompressedNode(a);return this.model.setCollapsed(g,h,l)}expandTo(a){const h=this.getCompressedNode(a);this.model.expandTo(h)}rerender(a){const h=this.getCompressedNode(a);this.model.rerender(h)}refilter(){this.model.refilter()}getCompressedNode(a){if(a===null)return null;const h=this.nodes.get(a);if(!h)throw new k.TreeError(this.user,`Tree element not found: ${a}`);return h}}e.CompressedObjectTreeModel=i;const t=r=>r[r.length-1];e.DefaultElementMapper=t;class n{get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(a=>new n(this.unwrapper,a))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(a,h){this.unwrapper=a,this.node=h}}function c(r,a){return{splice(h,l,g){a.splice(h,l,g.map(d=>r.map(d)))},updateElementHeight(h,l){a.updateElementHeight(h,l)}}}function m(r,a){return{...a,identityProvider:a.identityProvider&&{getId(h){return a.identityProvider.getId(r(h))}},sorter:a.sorter&&{compare(h,l){return a.sorter.compare(h.elements[0],l.elements[0])}},filter:a.filter&&{filter(h,l){return a.filter.filter(r(h),l)}}}}class u{get onDidSplice(){return D.Event.map(this.model.onDidSplice,({insertedNodes:a,deletedNodes:h})=>({insertedNodes:a.map(l=>this.nodeMapper.map(l)),deletedNodes:h.map(l=>this.nodeMapper.map(l))}))}get onDidChangeCollapseState(){return D.Event.map(this.model.onDidChangeCollapseState,({node:a,deep:h})=>({node:this.nodeMapper.map(a),deep:h}))}get onDidChangeRenderNodeCount(){return D.Event.map(this.model.onDidChangeRenderNodeCount,a=>this.nodeMapper.map(a))}constructor(a,h,l={}){this.rootRef=null,this.elementMapper=l.elementMapper||e.DefaultElementMapper;const g=d=>this.elementMapper(d.elements);this.nodeMapper=new k.WeakMapper(d=>new n(g,d)),this.model=new i(a,c(this.nodeMapper,h),m(g,l))}setChildren(a,h=y.Iterable.empty(),l={}){this.model.setChildren(a,h,l)}isCompressionEnabled(){return this.model.isCompressionEnabled()}setCompressionEnabled(a){this.model.setCompressionEnabled(a)}has(a){return this.model.has(a)}getListIndex(a){return this.model.getListIndex(a)}getListRenderCount(a){return this.model.getListRenderCount(a)}getNode(a){return this.nodeMapper.map(this.model.getNode(a))}getNodeLocation(a){return a.element}getParentNodeLocation(a){return this.model.getParentNodeLocation(a)}getFirstElementChild(a){const h=this.model.getFirstElementChild(a);return h===null||typeof h>"u"?h:this.elementMapper(h.elements)}isCollapsible(a){return this.model.isCollapsible(a)}setCollapsible(a,h){return this.model.setCollapsible(a,h)}isCollapsed(a){return this.model.isCollapsed(a)}setCollapsed(a,h,l){return this.model.setCollapsed(a,h,l)}expandTo(a){return this.model.expandTo(a)}rerender(a){return this.model.rerender(a)}refilter(){return this.model.refilter()}getCompressedTreeNode(a=null){return this.model.getNode(a)}}e.CompressibleObjectTreeModel=u}),define(ie[336],ne([1,0,17]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.platform=e.env=e.cwd=void 0;let k;const E=globalThis.vscode;if(typeof E<"u"&&typeof E.process<"u"){const D=E.process;k={get platform(){return D.platform},get arch(){return D.arch},get env(){return D.env},cwd(){return D.cwd()}}}else typeof process<"u"?k={get platform(){return process.platform},get arch(){return process.arch},get env(){return process.env},cwd(){return process.env.VSCODE_CWD||process.cwd()}}:k={get platform(){return f.isWindows?"win32":f.isMacintosh?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};e.cwd=k.cwd,e.env=k.env,e.platform=k.platform}),define(ie[620],ne([1,0,336]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isHotReloadEnabled=k,e.registerHotReloadHandler=E;function k(){return f.env&&!!f.env.VSCODE_DEV}function E(p){if(k()){const w=D();return w.add(p),{dispose(){w.delete(p)}}}else return{dispose(){}}}function D(){y||(y=new Set);const p=globalThis;return p.$hotReload_applyNewExports||(p.$hotReload_applyNewExports=w=>{const b={config:{mode:void 0},...w};for(const C of y){const o=C(b);if(o)return o}}),y}let y;k()&&E(({oldExports:p,newSrc:w,config:b})=>{if(b.mode==="patch-prototype")return C=>{var o,s;for(const i in C){const t=C[i];if(console.log(`[hot-reload] Patching prototype methods of '${i}'`,{exportedItem:t}),typeof t=="function"&&t.prototype){const n=p[i];if(n){for(const c of Object.getOwnPropertyNames(t.prototype)){const m=Object.getOwnPropertyDescriptor(t.prototype,c),u=Object.getOwnPropertyDescriptor(n.prototype,c);((o=m?.value)===null||o===void 0?void 0:o.toString())!==((s=u?.value)===null||s===void 0?void 0:s.toString())&&console.log(`[hot-reload] Patching prototype method '${i}.${c}'`),Object.defineProperty(n.prototype,c,m)}C[i]=n}}}return!0}})}),define(ie[97],ne([1,0,336]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.sep=e.extname=e.basename=e.dirname=e.relative=e.resolve=e.normalize=e.posix=e.win32=void 0;const k=65,E=97,D=90,y=122,p=46,w=47,b=92,C=58,o=63;class s extends Error{constructor(g,d,v){let _;typeof d=="string"&&d.indexOf("not ")===0?(_="must not be",d=d.replace(/^not /,"")):_="must be";const S=g.indexOf(".")!==-1?"property":"argument";let L=`The "${g}" ${S} ${_} of type ${d}`;L+=`. Received type ${typeof v}`,super(L),this.code="ERR_INVALID_ARG_TYPE"}}function i(l,g){if(l===null||typeof l!="object")throw new s(g,"Object",l)}function t(l,g){if(typeof l!="string")throw new s(g,"string",l)}const n=f.platform==="win32";function c(l){return l===w||l===b}function m(l){return l===w}function u(l){return l>=k&&l<=D||l>=E&&l<=y}function r(l,g,d,v){let _="",S=0,L=-1,I=0,T=0;for(let N=0;N<=l.length;++N){if(N<l.length)T=l.charCodeAt(N);else{if(v(T))break;T=w}if(v(T)){if(!(L===N-1||I===1))if(I===2){if(_.length<2||S!==2||_.charCodeAt(_.length-1)!==p||_.charCodeAt(_.length-2)!==p){if(_.length>2){const A=_.lastIndexOf(d);A===-1?(_="",S=0):(_=_.slice(0,A),S=_.length-1-_.lastIndexOf(d)),L=N,I=0;continue}else if(_.length!==0){_="",S=0,L=N,I=0;continue}}g&&(_+=_.length>0?`${d}..`:"..",S=2)}else _.length>0?_+=`${d}${l.slice(L+1,N)}`:_=l.slice(L+1,N),S=N-L-1;L=N,I=0}else T===p&&I!==-1?++I:I=-1}return _}function a(l,g){i(g,"pathObject");const d=g.dir||g.root,v=g.base||`${g.name||""}${g.ext||""}`;return d?d===g.root?`${d}${v}`:`${d}${l}${v}`:v}e.win32={resolve(...l){let g="",d="",v=!1;for(let _=l.length-1;_>=-1;_--){let S;if(_>=0){if(S=l[_],t(S,"path"),S.length===0)continue}else g.length===0?S=f.cwd():(S=f.env[`=${g}`]||f.cwd(),(S===void 0||S.slice(0,2).toLowerCase()!==g.toLowerCase()&&S.charCodeAt(2)===b)&&(S=`${g}\\`));const L=S.length;let I=0,T="",N=!1;const A=S.charCodeAt(0);if(L===1)c(A)&&(I=1,N=!0);else if(c(A))if(N=!0,c(S.charCodeAt(1))){let O=2,M=O;for(;O<L&&!c(S.charCodeAt(O));)O++;if(O<L&&O!==M){const R=S.slice(M,O);for(M=O;O<L&&c(S.charCodeAt(O));)O++;if(O<L&&O!==M){for(M=O;O<L&&!c(S.charCodeAt(O));)O++;(O===L||O!==M)&&(T=`\\\\${R}\\${S.slice(M,O)}`,I=O)}}}else I=1;else u(A)&&S.charCodeAt(1)===C&&(T=S.slice(0,2),I=2,L>2&&c(S.charCodeAt(2))&&(N=!0,I=3));if(T.length>0)if(g.length>0){if(T.toLowerCase()!==g.toLowerCase())continue}else g=T;if(v){if(g.length>0)break}else if(d=`${S.slice(I)}\\${d}`,v=N,N&&g.length>0)break}return d=r(d,!v,"\\",c),v?`${g}\\${d}`:`${g}${d}`||"."},normalize(l){t(l,"path");const g=l.length;if(g===0)return".";let d=0,v,_=!1;const S=l.charCodeAt(0);if(g===1)return m(S)?"\\":l;if(c(S))if(_=!0,c(l.charCodeAt(1))){let I=2,T=I;for(;I<g&&!c(l.charCodeAt(I));)I++;if(I<g&&I!==T){const N=l.slice(T,I);for(T=I;I<g&&c(l.charCodeAt(I));)I++;if(I<g&&I!==T){for(T=I;I<g&&!c(l.charCodeAt(I));)I++;if(I===g)return`\\\\${N}\\${l.slice(T)}\\`;I!==T&&(v=`\\\\${N}\\${l.slice(T,I)}`,d=I)}}}else d=1;else u(S)&&l.charCodeAt(1)===C&&(v=l.slice(0,2),d=2,g>2&&c(l.charCodeAt(2))&&(_=!0,d=3));let L=d<g?r(l.slice(d),!_,"\\",c):"";return L.length===0&&!_&&(L="."),L.length>0&&c(l.charCodeAt(g-1))&&(L+="\\"),v===void 0?_?`\\${L}`:L:_?`${v}\\${L}`:`${v}${L}`},isAbsolute(l){t(l,"path");const g=l.length;if(g===0)return!1;const d=l.charCodeAt(0);return c(d)||g>2&&u(d)&&l.charCodeAt(1)===C&&c(l.charCodeAt(2))},join(...l){if(l.length===0)return".";let g,d;for(let S=0;S<l.length;++S){const L=l[S];t(L,"path"),L.length>0&&(g===void 0?g=d=L:g+=`\\${L}`)}if(g===void 0)return".";let v=!0,_=0;if(typeof d=="string"&&c(d.charCodeAt(0))){++_;const S=d.length;S>1&&c(d.charCodeAt(1))&&(++_,S>2&&(c(d.charCodeAt(2))?++_:v=!1))}if(v){for(;_<g.length&&c(g.charCodeAt(_));)_++;_>=2&&(g=`\\${g.slice(_)}`)}return e.win32.normalize(g)},relative(l,g){if(t(l,"from"),t(g,"to"),l===g)return"";const d=e.win32.resolve(l),v=e.win32.resolve(g);if(d===v||(l=d.toLowerCase(),g=v.toLowerCase(),l===g))return"";let _=0;for(;_<l.length&&l.charCodeAt(_)===b;)_++;let S=l.length;for(;S-1>_&&l.charCodeAt(S-1)===b;)S--;const L=S-_;let I=0;for(;I<g.length&&g.charCodeAt(I)===b;)I++;let T=g.length;for(;T-1>I&&g.charCodeAt(T-1)===b;)T--;const N=T-I,A=L<N?L:N;let O=-1,M=0;for(;M<A;M++){const x=l.charCodeAt(_+M);if(x!==g.charCodeAt(I+M))break;x===b&&(O=M)}if(M!==A){if(O===-1)return v}else{if(N>A){if(g.charCodeAt(I+M)===b)return v.slice(I+M+1);if(M===2)return v.slice(I+M)}L>A&&(l.charCodeAt(_+M)===b?O=M:M===2&&(O=3)),O===-1&&(O=0)}let R="";for(M=_+O+1;M<=S;++M)(M===S||l.charCodeAt(M)===b)&&(R+=R.length===0?"..":"\\..");return I+=O,R.length>0?`${R}${v.slice(I,T)}`:(v.charCodeAt(I)===b&&++I,v.slice(I,T))},toNamespacedPath(l){if(typeof l!="string"||l.length===0)return l;const g=e.win32.resolve(l);if(g.length<=2)return l;if(g.charCodeAt(0)===b){if(g.charCodeAt(1)===b){const d=g.charCodeAt(2);if(d!==o&&d!==p)return`\\\\?\\UNC\\${g.slice(2)}`}}else if(u(g.charCodeAt(0))&&g.charCodeAt(1)===C&&g.charCodeAt(2)===b)return`\\\\?\\${g}`;return l},dirname(l){t(l,"path");const g=l.length;if(g===0)return".";let d=-1,v=0;const _=l.charCodeAt(0);if(g===1)return c(_)?l:".";if(c(_)){if(d=v=1,c(l.charCodeAt(1))){let I=2,T=I;for(;I<g&&!c(l.charCodeAt(I));)I++;if(I<g&&I!==T){for(T=I;I<g&&c(l.charCodeAt(I));)I++;if(I<g&&I!==T){for(T=I;I<g&&!c(l.charCodeAt(I));)I++;if(I===g)return l;I!==T&&(d=v=I+1)}}}}else u(_)&&l.charCodeAt(1)===C&&(d=g>2&&c(l.charCodeAt(2))?3:2,v=d);let S=-1,L=!0;for(let I=g-1;I>=v;--I)if(c(l.charCodeAt(I))){if(!L){S=I;break}}else L=!1;if(S===-1){if(d===-1)return".";S=d}return l.slice(0,S)},basename(l,g){g!==void 0&&t(g,"ext"),t(l,"path");let d=0,v=-1,_=!0,S;if(l.length>=2&&u(l.charCodeAt(0))&&l.charCodeAt(1)===C&&(d=2),g!==void 0&&g.length>0&&g.length<=l.length){if(g===l)return"";let L=g.length-1,I=-1;for(S=l.length-1;S>=d;--S){const T=l.charCodeAt(S);if(c(T)){if(!_){d=S+1;break}}else I===-1&&(_=!1,I=S+1),L>=0&&(T===g.charCodeAt(L)?--L===-1&&(v=S):(L=-1,v=I))}return d===v?v=I:v===-1&&(v=l.length),l.slice(d,v)}for(S=l.length-1;S>=d;--S)if(c(l.charCodeAt(S))){if(!_){d=S+1;break}}else v===-1&&(_=!1,v=S+1);return v===-1?"":l.slice(d,v)},extname(l){t(l,"path");let g=0,d=-1,v=0,_=-1,S=!0,L=0;l.length>=2&&l.charCodeAt(1)===C&&u(l.charCodeAt(0))&&(g=v=2);for(let I=l.length-1;I>=g;--I){const T=l.charCodeAt(I);if(c(T)){if(!S){v=I+1;break}continue}_===-1&&(S=!1,_=I+1),T===p?d===-1?d=I:L!==1&&(L=1):d!==-1&&(L=-1)}return d===-1||_===-1||L===0||L===1&&d===_-1&&d===v+1?"":l.slice(d,_)},format:a.bind(null,"\\"),parse(l){t(l,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return g;const d=l.length;let v=0,_=l.charCodeAt(0);if(d===1)return c(_)?(g.root=g.dir=l,g):(g.base=g.name=l,g);if(c(_)){if(v=1,c(l.charCodeAt(1))){let O=2,M=O;for(;O<d&&!c(l.charCodeAt(O));)O++;if(O<d&&O!==M){for(M=O;O<d&&c(l.charCodeAt(O));)O++;if(O<d&&O!==M){for(M=O;O<d&&!c(l.charCodeAt(O));)O++;O===d?v=O:O!==M&&(v=O+1)}}}}else if(u(_)&&l.charCodeAt(1)===C){if(d<=2)return g.root=g.dir=l,g;if(v=2,c(l.charCodeAt(2))){if(d===3)return g.root=g.dir=l,g;v=3}}v>0&&(g.root=l.slice(0,v));let S=-1,L=v,I=-1,T=!0,N=l.length-1,A=0;for(;N>=v;--N){if(_=l.charCodeAt(N),c(_)){if(!T){L=N+1;break}continue}I===-1&&(T=!1,I=N+1),_===p?S===-1?S=N:A!==1&&(A=1):S!==-1&&(A=-1)}return I!==-1&&(S===-1||A===0||A===1&&S===I-1&&S===L+1?g.base=g.name=l.slice(L,I):(g.name=l.slice(L,S),g.base=l.slice(L,I),g.ext=l.slice(S,I))),L>0&&L!==v?g.dir=l.slice(0,L-1):g.dir=g.root,g},sep:"\\",delimiter:";",win32:null,posix:null};const h=(()=>{if(n){const l=/\\/g;return()=>{const g=f.cwd().replace(l,"/");return g.slice(g.indexOf("/"))}}return()=>f.cwd()})();e.posix={resolve(...l){let g="",d=!1;for(let v=l.length-1;v>=-1&&!d;v--){const _=v>=0?l[v]:h();t(_,"path"),_.length!==0&&(g=`${_}/${g}`,d=_.charCodeAt(0)===w)}return g=r(g,!d,"/",m),d?`/${g}`:g.length>0?g:"."},normalize(l){if(t(l,"path"),l.length===0)return".";const g=l.charCodeAt(0)===w,d=l.charCodeAt(l.length-1)===w;return l=r(l,!g,"/",m),l.length===0?g?"/":d?"./":".":(d&&(l+="/"),g?`/${l}`:l)},isAbsolute(l){return t(l,"path"),l.length>0&&l.charCodeAt(0)===w},join(...l){if(l.length===0)return".";let g;for(let d=0;d<l.length;++d){const v=l[d];t(v,"path"),v.length>0&&(g===void 0?g=v:g+=`/${v}`)}return g===void 0?".":e.posix.normalize(g)},relative(l,g){if(t(l,"from"),t(g,"to"),l===g||(l=e.posix.resolve(l),g=e.posix.resolve(g),l===g))return"";const d=1,v=l.length,_=v-d,S=1,L=g.length-S,I=_<L?_:L;let T=-1,N=0;for(;N<I;N++){const O=l.charCodeAt(d+N);if(O!==g.charCodeAt(S+N))break;O===w&&(T=N)}if(N===I)if(L>I){if(g.charCodeAt(S+N)===w)return g.slice(S+N+1);if(N===0)return g.slice(S+N)}else _>I&&(l.charCodeAt(d+N)===w?T=N:N===0&&(T=0));let A="";for(N=d+T+1;N<=v;++N)(N===v||l.charCodeAt(N)===w)&&(A+=A.length===0?"..":"/..");return`${A}${g.slice(S+T)}`},toNamespacedPath(l){return l},dirname(l){if(t(l,"path"),l.length===0)return".";const g=l.charCodeAt(0)===w;let d=-1,v=!0;for(let _=l.length-1;_>=1;--_)if(l.charCodeAt(_)===w){if(!v){d=_;break}}else v=!1;return d===-1?g?"/":".":g&&d===1?"//":l.slice(0,d)},basename(l,g){g!==void 0&&t(g,"ext"),t(l,"path");let d=0,v=-1,_=!0,S;if(g!==void 0&&g.length>0&&g.length<=l.length){if(g===l)return"";let L=g.length-1,I=-1;for(S=l.length-1;S>=0;--S){const T=l.charCodeAt(S);if(T===w){if(!_){d=S+1;break}}else I===-1&&(_=!1,I=S+1),L>=0&&(T===g.charCodeAt(L)?--L===-1&&(v=S):(L=-1,v=I))}return d===v?v=I:v===-1&&(v=l.length),l.slice(d,v)}for(S=l.length-1;S>=0;--S)if(l.charCodeAt(S)===w){if(!_){d=S+1;break}}else v===-1&&(_=!1,v=S+1);return v===-1?"":l.slice(d,v)},extname(l){t(l,"path");let g=-1,d=0,v=-1,_=!0,S=0;for(let L=l.length-1;L>=0;--L){const I=l.charCodeAt(L);if(I===w){if(!_){d=L+1;break}continue}v===-1&&(_=!1,v=L+1),I===p?g===-1?g=L:S!==1&&(S=1):g!==-1&&(S=-1)}return g===-1||v===-1||S===0||S===1&&g===v-1&&g===d+1?"":l.slice(g,v)},format:a.bind(null,"/"),parse(l){t(l,"path");const g={root:"",dir:"",base:"",ext:"",name:""};if(l.length===0)return g;const d=l.charCodeAt(0)===w;let v;d?(g.root="/",v=1):v=0;let _=-1,S=0,L=-1,I=!0,T=l.length-1,N=0;for(;T>=v;--T){const A=l.charCodeAt(T);if(A===w){if(!I){S=T+1;break}continue}L===-1&&(I=!1,L=T+1),A===p?_===-1?_=T:N!==1&&(N=1):_!==-1&&(N=-1)}if(L!==-1){const A=S===0&&d?1:S;_===-1||N===0||N===1&&_===L-1&&_===S+1?g.base=g.name=l.slice(A,L):(g.name=l.slice(A,_),g.base=l.slice(A,L),g.ext=l.slice(_,L))}return S>0?g.dir=l.slice(0,S-1):d&&(g.dir="/"),g},sep:"/",delimiter:":",win32:null,posix:null},e.posix.win32=e.win32.win32=e.win32,e.posix.posix=e.win32.posix=e.posix,e.normalize=n?e.win32.normalize:e.posix.normalize,e.resolve=n?e.win32.resolve:e.posix.resolve,e.relative=n?e.win32.relative:e.posix.relative,e.dirname=n?e.win32.dirname:e.posix.dirname,e.basename=n?e.win32.basename:e.posix.basename,e.extname=n?e.win32.extname:e.posix.extname,e.sep=n?e.win32.sep:e.posix.sep}),define(ie[244],ne([1,0,97,17,12]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSeparator=D,e.toSlashes=y,e.toPosixPath=p,e.getRoot=w,e.isEqualOrParent=b,e.isWindowsDriveLetter=C,e.hasDriveLetter=o;function D(s){return s===47||s===92}function y(s){return s.replace(/[\\/]/g,f.posix.sep)}function p(s){return s.indexOf("/")===-1&&(s=y(s)),/^[a-zA-Z]:(\/|$)/.test(s)&&(s="/"+s),s}function w(s,i=f.posix.sep){if(!s)return"";const t=s.length,n=s.charCodeAt(0);if(D(n)){if(D(s.charCodeAt(1))&&!D(s.charCodeAt(2))){let m=3;const u=m;for(;m<t&&!D(s.charCodeAt(m));m++);if(u!==m&&!D(s.charCodeAt(m+1))){for(m+=1;m<t;m++)if(D(s.charCodeAt(m)))return s.slice(0,m+1).replace(/[\\/]/g,i)}}return i}else if(C(n)&&s.charCodeAt(1)===58)return D(s.charCodeAt(2))?s.slice(0,2)+i:s.slice(0,2);let c=s.indexOf("://");if(c!==-1){for(c+=3;c<t;c++)if(D(s.charCodeAt(c)))return s.slice(0,c+1)}return""}function b(s,i,t,n=f.sep){if(s===i)return!0;if(!s||!i||i.length>s.length)return!1;if(t){if(!(0,E.startsWithIgnoreCase)(s,i))return!1;if(i.length===s.length)return!0;let m=i.length;return i.charAt(i.length-1)===n&&m--,s.charAt(m)===n}return i.charAt(i.length-1)!==n&&(i+=n),s.indexOf(i)===0}function C(s){return s>=65&&s<=90||s>=97&&s<=122}function o(s,i=k.isWindows){return i?C(s.charCodeAt(0))&&s.charCodeAt(1)===58:!1}}),define(ie[621],ne([1,0,78,97,17,12]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.scoreFuzzy2=p,e.prepareQuery=n,e.pieceToQuery=m;const y=[void 0,[]];function p(u,r,a=0,h=0){const l=r;return l.values&&l.values.length>1?w(u,l.values,a,h):b(u,r,a,h)}function w(u,r,a,h){let l=0;const g=[];for(const d of r){const[v,_]=b(u,d,a,h);if(typeof v!="number")return y;l+=v,g.push(..._)}return[l,o(g)]}function b(u,r,a,h){const l=(0,f.fuzzyScore)(r.original,r.originalLowercase,a,u,u.toLowerCase(),h,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return l?[l[0],(0,f.createMatches)(l)]:y}const C=Object.freeze({score:0});function o(u){const r=u.sort((l,g)=>l.start-g.start),a=[];let h;for(const l of r)!h||!s(h,l)?(h=l,a.push(l)):(h.start=Math.min(h.start,l.start),h.end=Math.max(h.end,l.end));return a}function s(u,r){return!(u.end<r.start||r.end<u.start)}function i(u){return u.startsWith('"')&&u.endsWith('"')}const t=" ";function n(u){typeof u!="string"&&(u="");const r=u.toLowerCase(),{pathNormalized:a,normalized:h,normalizedLowercase:l}=c(u),g=a.indexOf(k.sep)>=0,d=i(u);let v;const _=u.split(t);if(_.length>1)for(const S of _){const L=i(S),{pathNormalized:I,normalized:T,normalizedLowercase:N}=c(S);T&&(v||(v=[]),v.push({original:S,originalLowercase:S.toLowerCase(),pathNormalized:I,normalized:T,normalizedLowercase:N,expectContiguousMatch:L}))}return{original:u,originalLowercase:r,pathNormalized:a,normalized:h,normalizedLowercase:l,values:v,containsPathSeparator:g,expectContiguousMatch:d}}function c(u){let r;E.isWindows?r=u.replace(/\//g,k.sep):r=u.replace(/\\/g,k.sep);const a=(0,D.stripWildcards)(r).replace(/\s|"/g,"");return{pathNormalized:r,normalized:a,normalizedLowercase:a.toLowerCase()}}function m(u){return Array.isArray(u)?n(u.map(r=>r.original).join(t)):n(u.original)}}),define(ie[337],ne([1,0,15,244,45,97,17,12]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GLOB_SPLIT=e.GLOBSTAR=void 0,e.splitGlobAware=s,e.match=N,e.parse=A,e.isRelativePattern=O,e.GLOBSTAR="**",e.GLOB_SPLIT="/";const w="[/\\\\]",b="[^/\\\\]",C=/\//g;function o(F,W){switch(F){case 0:return"";case 1:return`${b}*?`;default:return`(?:${w}|${b}+${w}${W?`|${w}${b}+`:""})*?`}}function s(F,W){if(!F)return[];const H=[];let z=!1,j=!1,K="";for(const U of F){switch(U){case W:if(!z&&!j){H.push(K),K="";continue}break;case"{":z=!0;break;case"}":z=!1;break;case"[":j=!0;break;case"]":j=!1;break}K+=U}return K&&H.push(K),H}function i(F){if(!F)return"";let W="";const H=s(F,e.GLOB_SPLIT);if(H.every(z=>z===e.GLOBSTAR))W=".*";else{let z=!1;H.forEach((j,K)=>{if(j===e.GLOBSTAR){if(z)return;W+=o(2,K===H.length-1)}else{let U=!1,G="",te=!1,ee="";for(const Y of j){if(Y!=="}"&&U){G+=Y;continue}if(te&&(Y!=="]"||!ee)){let P;Y==="-"?P=Y:(Y==="^"||Y==="!")&&!ee?P="^":Y===e.GLOB_SPLIT?P="":P=(0,p.escapeRegExpCharacters)(Y),ee+=P;continue}switch(Y){case"{":U=!0;continue;case"[":te=!0;continue;case"}":{const Z=`(?:${s(G,",").map(re=>i(re)).join("|")})`;W+=Z,U=!1,G="";break}case"]":{W+="["+ee+"]",te=!1,ee="";break}case"?":W+=b;continue;case"*":W+=o(1);continue;default:W+=(0,p.escapeRegExpCharacters)(Y)}}K<H.length-1&&(H[K+1]!==e.GLOBSTAR||K+2<H.length)&&(W+=w)}z=j===e.GLOBSTAR})}return W}const t=/^\*\*\/\*\.[\w\.-]+$/,n=/^\*\*\/([\w\.-]+)\/?$/,c=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,m=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,u=/^\*\*((\/[\w\.-]+)+)\/?$/,r=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,a=new E.LRUCache(1e4),h=function(){return!1},l=function(){return null};function g(F,W){if(!F)return l;let H;typeof F!="string"?H=F.pattern:H=F,H=H.trim();const z=`${H}_${!!W.trimForExclusions}`;let j=a.get(z);if(j)return d(j,F);let K;return t.test(H)?j=_(H.substr(4),H):(K=n.exec(v(H,W)))?j=S(K[1],H):(W.trimForExclusions?m:c).test(H)?j=L(H,W):(K=u.exec(v(H,W)))?j=I(K[1].substr(1),H,!0):(K=r.exec(v(H,W)))?j=I(K[1],H,!1):j=T(H),a.set(z,j),d(j,F)}function d(F,W){if(typeof W=="string")return F;const H=function(z,j){return(0,k.isEqualOrParent)(z,W.base,!y.isLinux)?F((0,p.ltrim)(z.substr(W.base.length),D.sep),j):null};return H.allBasenames=F.allBasenames,H.allPaths=F.allPaths,H.basenames=F.basenames,H.patterns=F.patterns,H}function v(F,W){return W.trimForExclusions&&F.endsWith("/**")?F.substr(0,F.length-2):F}function _(F,W){return function(H,z){return typeof H=="string"&&H.endsWith(F)?W:null}}function S(F,W){const H=`/${F}`,z=`\\${F}`,j=function(U,G){return typeof U!="string"?null:G?G===F?W:null:U===F||U.endsWith(H)||U.endsWith(z)?W:null},K=[F];return j.basenames=K,j.patterns=[W],j.allBasenames=K,j}function L(F,W){const H=x(F.slice(1,-1).split(",").map(G=>g(G,W)).filter(G=>G!==l),F),z=H.length;if(!z)return l;if(z===1)return H[0];const j=function(G,te){for(let ee=0,Y=H.length;ee<Y;ee++)if(H[ee](G,te))return F;return null},K=H.find(G=>!!G.allBasenames);K&&(j.allBasenames=K.allBasenames);const U=H.reduce((G,te)=>te.allPaths?G.concat(te.allPaths):G,[]);return U.length&&(j.allPaths=U),j}function I(F,W,H){const z=D.sep===D.posix.sep,j=z?F:F.replace(C,D.sep),K=D.sep+j,U=D.posix.sep+F;let G;return H?G=function(te,ee){return typeof te=="string"&&(te===j||te.endsWith(K)||!z&&(te===F||te.endsWith(U)))?W:null}:G=function(te,ee){return typeof te=="string"&&(te===j||!z&&te===F)?W:null},G.allPaths=[(H?"*/":"./")+F],G}function T(F){try{const W=new RegExp(`^${i(F)}$`);return function(H){return W.lastIndex=0,typeof H=="string"&&W.test(H)?F:null}}catch{return l}}function N(F,W,H){return!F||typeof W!="string"?!1:A(F)(W,void 0,H)}function A(F,W={}){if(!F)return h;if(typeof F=="string"||O(F)){const H=g(F,W);if(H===l)return h;const z=function(j,K){return!!H(j,K)};return H.allBasenames&&(z.allBasenames=H.allBasenames),H.allPaths&&(z.allPaths=H.allPaths),z}return M(F,W)}function O(F){const W=F;return W?typeof W.base=="string"&&typeof W.pattern=="string":!1}function M(F,W){const H=x(Object.getOwnPropertyNames(F).map(G=>R(G,F[G],W)).filter(G=>G!==l)),z=H.length;if(!z)return l;if(!H.some(G=>!!G.requiresSiblings)){if(z===1)return H[0];const G=function(Y,P){let Z;for(let re=0,ce=H.length;re<ce;re++){const he=H[re](Y,P);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(Z||(Z=[]),Z.push(he))}return Z?(async()=>{for(const re of Z){const ce=await re;if(typeof ce=="string")return ce}return null})():null},te=H.find(Y=>!!Y.allBasenames);te&&(G.allBasenames=te.allBasenames);const ee=H.reduce((Y,P)=>P.allPaths?Y.concat(P.allPaths):Y,[]);return ee.length&&(G.allPaths=ee),G}const j=function(G,te,ee){let Y,P;for(let Z=0,re=H.length;Z<re;Z++){const ce=H[Z];ce.requiresSiblings&&ee&&(te||(te=(0,D.basename)(G)),Y||(Y=te.substr(0,te.length-(0,D.extname)(G).length)));const he=ce(G,te,Y,ee);if(typeof he=="string")return he;(0,f.isThenable)(he)&&(P||(P=[]),P.push(he))}return P?(async()=>{for(const Z of P){const re=await Z;if(typeof re=="string")return re}return null})():null},K=H.find(G=>!!G.allBasenames);K&&(j.allBasenames=K.allBasenames);const U=H.reduce((G,te)=>te.allPaths?G.concat(te.allPaths):G,[]);return U.length&&(j.allPaths=U),j}function R(F,W,H){if(W===!1)return l;const z=g(F,H);if(z===l)return l;if(typeof W=="boolean")return z;if(W){const j=W.when;if(typeof j=="string"){const K=(U,G,te,ee)=>{if(!ee||!z(U,G))return null;const Y=j.replace("$(basename)",()=>te),P=ee(Y);return(0,f.isThenable)(P)?P.then(Z=>Z?F:null):P?F:null};return K.requiresSiblings=!0,K}}return z}function x(F,W){const H=F.filter(G=>!!G.basenames);if(H.length<2)return F;const z=H.reduce((G,te)=>{const ee=te.basenames;return ee?G.concat(ee):G},[]);let j;if(W){j=[];for(let G=0,te=z.length;G<te;G++)j.push(W)}else j=H.reduce((G,te)=>{const ee=te.patterns;return ee?G.concat(ee):G},[]);const K=function(G,te){if(typeof G!="string")return null;if(!te){let Y;for(Y=G.length;Y>0;Y--){const P=G.charCodeAt(Y-1);if(P===47||P===92)break}te=G.substr(Y)}const ee=z.indexOf(te);return ee!==-1?j[ee]:null};K.basenames=z,K.patterns=j,K.allBasenames=z;const U=F.filter(G=>!G.basenames);return U.push(K),U}}),define(ie[622],ne([1,0,244,17]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.normalizeDriveLetter=E;function E(y,p=k.isWindows){return(0,f.hasDriveLetter)(y,p)?y.charAt(0).toUpperCase()+y.slice(1):y}let D=Object.create(null)}),define(ie[22],ne([1,0,97,17]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.URI=void 0,e.uriToFsPath=r;const E=/^\w[\w\d+.-]*$/,D=/^\//,y=/^\/\//;function p(d,v){if(!d.scheme&&v)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${d.authority}", path: "${d.path}", query: "${d.query}", fragment: "${d.fragment}"}`);if(d.scheme&&!E.test(d.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(d.path){if(d.authority){if(!D.test(d.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(y.test(d.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function w(d,v){return!d&&!v?"file":d}function b(d,v){switch(d){case"https":case"http":case"file":v?v[0]!==o&&(v=o+v):v=o;break}return v}const C="",o="/",s=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class i{static isUri(v){return v instanceof i?!0:v?typeof v.authority=="string"&&typeof v.fragment=="string"&&typeof v.path=="string"&&typeof v.query=="string"&&typeof v.scheme=="string"&&typeof v.fsPath=="string"&&typeof v.with=="function"&&typeof v.toString=="function":!1}constructor(v,_,S,L,I,T=!1){typeof v=="object"?(this.scheme=v.scheme||C,this.authority=v.authority||C,this.path=v.path||C,this.query=v.query||C,this.fragment=v.fragment||C):(this.scheme=w(v,T),this.authority=_||C,this.path=b(this.scheme,S||C),this.query=L||C,this.fragment=I||C,p(this,T))}get fsPath(){return r(this,!1)}with(v){if(!v)return this;let{scheme:_,authority:S,path:L,query:I,fragment:T}=v;return _===void 0?_=this.scheme:_===null&&(_=C),S===void 0?S=this.authority:S===null&&(S=C),L===void 0?L=this.path:L===null&&(L=C),I===void 0?I=this.query:I===null&&(I=C),T===void 0?T=this.fragment:T===null&&(T=C),_===this.scheme&&S===this.authority&&L===this.path&&I===this.query&&T===this.fragment?this:new n(_,S,L,I,T)}static parse(v,_=!1){const S=s.exec(v);return S?new n(S[2]||C,g(S[4]||C),g(S[5]||C),g(S[7]||C),g(S[9]||C),_):new n(C,C,C,C,C)}static file(v){let _=C;if(k.isWindows&&(v=v.replace(/\\/g,o)),v[0]===o&&v[1]===o){const S=v.indexOf(o,2);S===-1?(_=v.substring(2),v=o):(_=v.substring(2,S),v=v.substring(S)||o)}return new n("file",_,v,C,C)}static from(v,_){return new n(v.scheme,v.authority,v.path,v.query,v.fragment,_)}static joinPath(v,..._){if(!v.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let S;return k.isWindows&&v.scheme==="file"?S=i.file(f.win32.join(r(v,!0),..._)).path:S=f.posix.join(v.path,..._),v.with({path:S})}toString(v=!1){return a(this,v)}toJSON(){return this}static revive(v){var _,S;if(v){if(v instanceof i)return v;{const L=new n(v);return L._formatted=(_=v.external)!==null&&_!==void 0?_:null,L._fsPath=v._sep===t&&(S=v.fsPath)!==null&&S!==void 0?S:null,L}}else return v}}e.URI=i;const t=k.isWindows?1:void 0;class n extends i{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=r(this,!1)),this._fsPath}toString(v=!1){return v?a(this,!0):(this._formatted||(this._formatted=a(this,!1)),this._formatted)}toJSON(){const v={$mid:1};return this._fsPath&&(v.fsPath=this._fsPath,v._sep=t),this._formatted&&(v.external=this._formatted),this.path&&(v.path=this.path),this.scheme&&(v.scheme=this.scheme),this.authority&&(v.authority=this.authority),this.query&&(v.query=this.query),this.fragment&&(v.fragment=this.fragment),v}}const c={58:"%3A",47:"%2F",63:"%3F",35:"%23",91:"%5B",93:"%5D",64:"%40",33:"%21",36:"%24",38:"%26",39:"%27",40:"%28",41:"%29",42:"%2A",43:"%2B",44:"%2C",59:"%3B",61:"%3D",32:"%20"};function m(d,v,_){let S,L=-1;for(let I=0;I<d.length;I++){const T=d.charCodeAt(I);if(T>=97&&T<=122||T>=65&&T<=90||T>=48&&T<=57||T===45||T===46||T===95||T===126||v&&T===47||_&&T===91||_&&T===93||_&&T===58)L!==-1&&(S+=encodeURIComponent(d.substring(L,I)),L=-1),S!==void 0&&(S+=d.charAt(I));else{S===void 0&&(S=d.substr(0,I));const N=c[T];N!==void 0?(L!==-1&&(S+=encodeURIComponent(d.substring(L,I)),L=-1),S+=N):L===-1&&(L=I)}}return L!==-1&&(S+=encodeURIComponent(d.substring(L))),S!==void 0?S:d}function u(d){let v;for(let _=0;_<d.length;_++){const S=d.charCodeAt(_);S===35||S===63?(v===void 0&&(v=d.substr(0,_)),v+=c[S]):v!==void 0&&(v+=d[_])}return v!==void 0?v:d}function r(d,v){let _;return d.authority&&d.path.length>1&&d.scheme==="file"?_=`//${d.authority}${d.path}`:d.path.charCodeAt(0)===47&&(d.path.charCodeAt(1)>=65&&d.path.charCodeAt(1)<=90||d.path.charCodeAt(1)>=97&&d.path.charCodeAt(1)<=122)&&d.path.charCodeAt(2)===58?v?_=d.path.substr(1):_=d.path[1].toLowerCase()+d.path.substr(2):_=d.path,k.isWindows&&(_=_.replace(/\//g,"\\")),_}function a(d,v){const _=v?u:m;let S="",{scheme:L,authority:I,path:T,query:N,fragment:A}=d;if(L&&(S+=L,S+=":"),(I||L==="file")&&(S+=o,S+=o),I){let O=I.indexOf("@");if(O!==-1){const M=I.substr(0,O);I=I.substr(O+1),O=M.lastIndexOf(":"),O===-1?S+=_(M,!1,!1):(S+=_(M.substr(0,O),!1,!1),S+=":",S+=_(M.substr(O+1),!1,!0)),S+="@"}I=I.toLowerCase(),O=I.lastIndexOf(":"),O===-1?S+=_(I,!1,!0):(S+=_(I.substr(0,O),!1,!0),S+=I.substr(O))}if(T){if(T.length>=3&&T.charCodeAt(0)===47&&T.charCodeAt(2)===58){const O=T.charCodeAt(1);O>=65&&O<=90&&(T=`/${String.fromCharCode(O+32)}:${T.substr(3)}`)}else if(T.length>=2&&T.charCodeAt(1)===58){const O=T.charCodeAt(0);O>=65&&O<=90&&(T=`${String.fromCharCode(O+32)}:${T.substr(2)}`)}S+=_(T,!0,!1)}return N&&(S+="?",S+=_(N,!1,!1)),A&&(S+="#",S+=v?A:m(A,!1,!1)),S}function h(d){try{return decodeURIComponent(d)}catch{return d.length>3?d.substr(0,3)+h(d.substr(3)):d}}const l=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function g(d){return d.match(l)?d.replace(l,v=>h(v)):d}}),define(ie[245],ne([1,0,156,22]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=E,e.parse=D,e.revive=p;function E(w){return JSON.stringify(w,y)}function D(w){let b=JSON.parse(w);return b=p(b),b}function y(w,b){return b instanceof RegExp?{$mid:2,source:b.source,flags:b.flags}:b}function p(w,b=0){if(!w||b>200)return w;if(typeof w=="object"){switch(w.$mid){case 1:return k.URI.revive(w);case 2:return new RegExp(w.source,w.flags);case 17:return new Date(w.source)}if(w instanceof f.VSBuffer||w instanceof Uint8Array)return w;if(Array.isArray(w))for(let C=0;C<w.length;++C)w[C]=p(w[C],b+1);else for(const C in w)Object.hasOwnProperty.call(w,C)&&(w[C]=p(w[C],b+1))}return w}}),define(ie[49],ne([1,0,10,17,12,22,97]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.COI=e.FileAccess=e.VSCODE_AUTHORITY=e.RemoteAuthorities=e.connectionTokenQueryName=e.Schemas=void 0,e.matchesScheme=w,e.matchesSomeScheme=b;var p;(function(i){i.inMemory="inmemory",i.vscode="vscode",i.internal="private",i.walkThrough="walkThrough",i.walkThroughSnippet="walkThroughSnippet",i.http="http",i.https="https",i.file="file",i.mailto="mailto",i.untitled="untitled",i.data="data",i.command="command",i.vscodeRemote="vscode-remote",i.vscodeRemoteResource="vscode-remote-resource",i.vscodeManagedRemoteResource="vscode-managed-remote-resource",i.vscodeUserData="vscode-userdata",i.vscodeCustomEditor="vscode-custom-editor",i.vscodeNotebookCell="vscode-notebook-cell",i.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",i.vscodeNotebookCellOutput="vscode-notebook-cell-output",i.vscodeInteractiveInput="vscode-interactive-input",i.vscodeSettings="vscode-settings",i.vscodeWorkspaceTrust="vscode-workspace-trust",i.vscodeTerminal="vscode-terminal",i.vscodeChatCodeBlock="vscode-chat-code-block",i.vscodeChatCodeCompreBlock="vscode-chat-code-compare-block",i.vscodeChatSesssion="vscode-chat-editor",i.webviewPanel="webview-panel",i.vscodeWebview="vscode-webview",i.extension="extension",i.vscodeFileResource="vscode-file",i.tmp="tmp",i.vsls="vsls",i.vscodeSourceControl="vscode-scm",i.commentsInput="comment",i.codeSetting="code-setting"})(p||(e.Schemas=p={}));function w(i,t){return D.URI.isUri(i)?(0,E.equalsIgnoreCase)(i.scheme,t):(0,E.startsWithIgnoreCase)(i,t+":")}function b(i,...t){return t.some(n=>w(i,n))}e.connectionTokenQueryName="tkn";class C{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._serverRootPath="/"}setPreferredWebSchema(t){this._preferredWebSchema=t}get _remoteResourcesPath(){return y.posix.join(this._serverRootPath,p.vscodeRemoteResource)}rewrite(t){if(this._delegate)try{return this._delegate(t)}catch(a){return f.onUnexpectedError(a),t}const n=t.authority;let c=this._hosts[n];c&&c.indexOf(":")!==-1&&c.indexOf("[")===-1&&(c=`[${c}]`);const m=this._ports[n],u=this._connectionTokens[n];let r=`path=${encodeURIComponent(t.path)}`;return typeof u=="string"&&(r+=`&${e.connectionTokenQueryName}=${encodeURIComponent(u)}`),D.URI.from({scheme:k.isWeb?this._preferredWebSchema:p.vscodeRemoteResource,authority:`${c}:${m}`,path:this._remoteResourcesPath,query:r})}}e.RemoteAuthorities=new C,e.VSCODE_AUTHORITY="vscode-app";class o{uriToBrowserUri(t){return t.scheme===p.vscodeRemote?e.RemoteAuthorities.rewrite(t):t.scheme===p.file&&(k.isNative||k.webWorkerOrigin===`${p.vscodeFileResource}://${o.FALLBACK_AUTHORITY}`)?t.with({scheme:p.vscodeFileResource,authority:t.authority||o.FALLBACK_AUTHORITY,query:null,fragment:null}):t}}o.FALLBACK_AUTHORITY=e.VSCODE_AUTHORITY,e.FileAccess=new o;var s;(function(i){const t=new Map([["1",{"Cross-Origin-Opener-Policy":"same-origin"}],["2",{"Cross-Origin-Embedder-Policy":"require-corp"}],["3",{"Cross-Origin-Opener-Policy":"same-origin","Cross-Origin-Embedder-Policy":"require-corp"}]]);i.CoopAndCoep=Object.freeze(t.get("3"));const n="vscode-coi";function c(u){let r;typeof u=="string"?r=new URL(u).searchParams:u instanceof URL?r=u.searchParams:D.URI.isUri(u)&&(r=new URL(u.toString(!0)).searchParams);const a=r?.get(n);if(a)return t.get(a)}i.getHeadersFromQuery=c;function m(u,r,a){if(!globalThis.crossOriginIsolated)return;const h=r&&a?"3":a?"2":"1";u instanceof URLSearchParams?u.set(n,h):u[n]=h}i.addSearchParam=m})(s||(e.COI=s={}))}),define(ie[6],ne([1,0,63,241,46,73,15,10,7,338,2,49,17,125,52]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropObserver=e.ModifierKeyEmitter=e.basicMarkupHtmlTags=e.Namespace=e.EventHelper=e.EventType=e.sharedMutationObserver=e.Dimension=e.WindowIntervalTimer=e.scheduleAtNextAnimationFrame=e.runAtThisOrScheduleAtNextAnimationFrame=e.WindowIdleValue=e.addStandardDisposableGenericMouseUpListener=e.addStandardDisposableGenericMouseDownListener=e.addStandardDisposableListener=e.onDidUnregisterWindow=e.onWillUnregisterWindow=e.onDidRegisterWindow=e.hasWindow=e.getWindowById=e.getWindowId=e.getWindowsCount=e.getWindows=e.getDocument=e.getWindow=e.registerWindow=void 0,e.clearNode=c,e.addDisposableListener=u,e.addDisposableGenericMouseDownListener=d,e.addDisposableGenericMouseUpListener=v,e.runWhenWindowIdle=_,e.getComputedStyle=T,e.getClientArea=N,e.getTopLeftOffset=M,e.size=R,e.getDomNodePagePosition=x,e.getDomNodeZoomLevel=F,e.getTotalWidth=W,e.getContentWidth=H,e.getContentHeight=z,e.getTotalHeight=j,e.isAncestor=K,e.findParentWithClass=U,e.hasParentWithClass=G,e.isShadowRoot=te,e.isInShadowDOM=ee,e.getShadowRoot=Y,e.getActiveElement=P,e.isActiveElement=Z,e.isAncestorOfActiveElement=re,e.getActiveDocument=ce,e.getActiveWindow=he,e.createStyleSheet2=ge,e.createStyleSheet=ae,e.createCSSRule=$,e.removeCSSRulesContainingSelector=J,e.isMouseEvent=de,e.isKeyboardEvent=le,e.isEventLike=fe,e.saveParentsScrollTop=ve,e.restoreParentsScrollTop=Ce,e.trackFocus=_e,e.after=ke,e.append=Ee,e.prepend=Ae,e.reset=xe,e.$=Ne,e.setVisibility=me,e.show=be,e.hide=Re,e.computeScreenAwareSize=He,e.windowOpenNoOpener=qe,e.animate=Ue,e.asCSSUrl=Ze,e.asCSSPropertyValue=et,e.asCssValueWithDefault=nt,e.hookDomPurifyHrefAndSrcSanitizer=at,e.h=_t,n=function(){const ye=new Map;(0,t.ensureCodeWindow)(t.mainWindow,1);const we={window:t.mainWindow,disposables:new C.DisposableStore};ye.set(t.mainWindow.vscodeWindowId,we);const Me=new w.Emitter,Te=new w.Emitter,Le=new w.Emitter;function Oe(Pe,ze){const je=typeof Pe=="number"?ye.get(Pe):void 0;return je??(ze?we:void 0)}return{onDidRegisterWindow:Me.event,onWillUnregisterWindow:Le.event,onDidUnregisterWindow:Te.event,registerWindow(Pe){if(ye.has(Pe.vscodeWindowId))return C.Disposable.None;const ze=new C.DisposableStore,je={window:Pe,disposables:ze.add(new C.DisposableStore)};return ye.set(Pe.vscodeWindowId,je),ze.add((0,C.toDisposable)(()=>{ye.delete(Pe.vscodeWindowId),Te.fire(Pe)})),ze.add(u(Pe,e.EventType.BEFORE_UNLOAD,()=>{Le.fire(Pe)})),Me.fire(je),ze},getWindows(){return ye.values()},getWindowsCount(){return ye.size},getWindowId(Pe){return Pe.vscodeWindowId},hasWindow(Pe){return ye.has(Pe)},getWindowById:Oe,getWindow(Pe){var ze;const je=Pe;if(!((ze=je?.ownerDocument)===null||ze===void 0)&&ze.defaultView)return je.ownerDocument.defaultView.window;const $e=Pe;return $e?.view?$e.view.window:t.mainWindow},getDocument(Pe){const ze=Pe;return(0,e.getWindow)(ze).document}}}(),e.registerWindow=n.registerWindow,e.getWindow=n.getWindow,e.getDocument=n.getDocument,e.getWindows=n.getWindows,e.getWindowsCount=n.getWindowsCount,e.getWindowId=n.getWindowId,e.getWindowById=n.getWindowById,e.hasWindow=n.hasWindow,e.onDidRegisterWindow=n.onDidRegisterWindow,e.onWillUnregisterWindow=n.onWillUnregisterWindow,e.onDidUnregisterWindow=n.onDidUnregisterWindow;function c(ye){for(;ye.firstChild;)ye.firstChild.remove()}class m{constructor(we,Me,Te,Le){this._node=we,this._type=Me,this._handler=Te,this._options=Le||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){this._handler&&(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function u(ye,we,Me,Te){return new m(ye,we,Me,Te)}function r(ye,we){return function(Me){return we(new D.StandardMouseEvent(ye,Me))}}function a(ye){return function(we){return ye(new E.StandardKeyboardEvent(we))}}const h=function(we,Me,Te,Le){let Oe=Te;return Me==="click"||Me==="mousedown"?Oe=r((0,e.getWindow)(we),Te):(Me==="keydown"||Me==="keypress"||Me==="keyup")&&(Oe=a(Te)),u(we,Me,Oe,Le)};e.addStandardDisposableListener=h;const l=function(we,Me,Te){const Le=r((0,e.getWindow)(we),Me);return d(we,Le,Te)};e.addStandardDisposableGenericMouseDownListener=l;const g=function(we,Me,Te){const Le=r((0,e.getWindow)(we),Me);return v(we,Le,Te)};e.addStandardDisposableGenericMouseUpListener=g;function d(ye,we,Me){return u(ye,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_DOWN:e.EventType.MOUSE_DOWN,we,Me)}function v(ye,we,Me){return u(ye,s.isIOS&&k.BrowserFeatures.pointerEvents?e.EventType.POINTER_UP:e.EventType.MOUSE_UP,we,Me)}function _(ye,we,Me){return(0,y._runWhenIdle)(ye,we,Me)}class S extends y.AbstractIdleValue{constructor(we,Me){super(we,Me)}}e.WindowIdleValue=S;class L extends y.IntervalTimer{constructor(we){super(),this.defaultTarget=we&&(0,e.getWindow)(we)}cancelAndSet(we,Me,Te){return super.cancelAndSet(we,Me,Te??this.defaultTarget)}}e.WindowIntervalTimer=L;class I{constructor(we,Me=0){this._runner=we,this.priority=Me,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(we){(0,p.onUnexpectedError)(we)}}static sort(we,Me){return Me.priority-we.priority}}(function(){const ye=new Map,we=new Map,Me=new Map,Te=new Map,Le=Oe=>{var Pe;Me.set(Oe,!1);const ze=(Pe=ye.get(Oe))!==null&&Pe!==void 0?Pe:[];for(we.set(Oe,ze),ye.set(Oe,[]),Te.set(Oe,!0);ze.length>0;)ze.sort(I.sort),ze.shift().execute();Te.set(Oe,!1)};e.scheduleAtNextAnimationFrame=(Oe,Pe,ze=0)=>{const je=(0,e.getWindowId)(Oe),$e=new I(Pe,ze);let Qe=ye.get(je);return Qe||(Qe=[],ye.set(je,Qe)),Qe.push($e),Me.get(je)||(Me.set(je,!0),Oe.requestAnimationFrame(()=>Le(je))),$e},e.runAtThisOrScheduleAtNextAnimationFrame=(Oe,Pe,ze)=>{const je=(0,e.getWindowId)(Oe);if(Te.get(je)){const $e=new I(Pe,ze);let Qe=we.get(je);return Qe||(Qe=[],we.set(je,Qe)),Qe.push($e),$e}else return(0,e.scheduleAtNextAnimationFrame)(Oe,Pe,ze)}})();function T(ye){return(0,e.getWindow)(ye).getComputedStyle(ye,null)}function N(ye,we){const Me=(0,e.getWindow)(ye),Te=Me.document;if(ye!==Te.body)return new O(ye.clientWidth,ye.clientHeight);if(s.isIOS&&Me?.visualViewport)return new O(Me.visualViewport.width,Me.visualViewport.height);if(Me?.innerWidth&&Me.innerHeight)return new O(Me.innerWidth,Me.innerHeight);if(Te.body&&Te.body.clientWidth&&Te.body.clientHeight)return new O(Te.body.clientWidth,Te.body.clientHeight);if(Te.documentElement&&Te.documentElement.clientWidth&&Te.documentElement.clientHeight)return new O(Te.documentElement.clientWidth,Te.documentElement.clientHeight);if(we)return N(we);throw new Error("Unable to figure out browser width and height")}class A{static convertToPixels(we,Me){return parseFloat(Me)||0}static getDimension(we,Me,Te){const Le=T(we),Oe=Le?Le.getPropertyValue(Me):"0";return A.convertToPixels(we,Oe)}static getBorderLeftWidth(we){return A.getDimension(we,"border-left-width","borderLeftWidth")}static getBorderRightWidth(we){return A.getDimension(we,"border-right-width","borderRightWidth")}static getBorderTopWidth(we){return A.getDimension(we,"border-top-width","borderTopWidth")}static getBorderBottomWidth(we){return A.getDimension(we,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(we){return A.getDimension(we,"padding-left","paddingLeft")}static getPaddingRight(we){return A.getDimension(we,"padding-right","paddingRight")}static getPaddingTop(we){return A.getDimension(we,"padding-top","paddingTop")}static getPaddingBottom(we){return A.getDimension(we,"padding-bottom","paddingBottom")}static getMarginLeft(we){return A.getDimension(we,"margin-left","marginLeft")}static getMarginTop(we){return A.getDimension(we,"margin-top","marginTop")}static getMarginRight(we){return A.getDimension(we,"margin-right","marginRight")}static getMarginBottom(we){return A.getDimension(we,"margin-bottom","marginBottom")}}class O{constructor(we,Me){this.width=we,this.height=Me}with(we=this.width,Me=this.height){return we!==this.width||Me!==this.height?new O(we,Me):this}static is(we){return typeof we=="object"&&typeof we.height=="number"&&typeof we.width=="number"}static lift(we){return we instanceof O?we:new O(we.width,we.height)}static equals(we,Me){return we===Me?!0:!we||!Me?!1:we.width===Me.width&&we.height===Me.height}}e.Dimension=O,O.None=new O(0,0);function M(ye){let we=ye.offsetParent,Me=ye.offsetTop,Te=ye.offsetLeft;for(;(ye=ye.parentNode)!==null&&ye!==ye.ownerDocument.body&&ye!==ye.ownerDocument.documentElement;){Me-=ye.scrollTop;const Le=te(ye)?null:T(ye);Le&&(Te-=Le.direction!=="rtl"?ye.scrollLeft:-ye.scrollLeft),ye===we&&(Te+=A.getBorderLeftWidth(ye),Me+=A.getBorderTopWidth(ye),Me+=ye.offsetTop,Te+=ye.offsetLeft,we=ye.offsetParent)}return{left:Te,top:Me}}function R(ye,we,Me){typeof we=="number"&&(ye.style.width=`${we}px`),typeof Me=="number"&&(ye.style.height=`${Me}px`)}function x(ye){const we=ye.getBoundingClientRect(),Me=(0,e.getWindow)(ye);return{left:we.left+Me.scrollX,top:we.top+Me.scrollY,width:we.width,height:we.height}}function F(ye){let we=ye,Me=1;do{const Te=T(we).zoom;Te!=null&&Te!=="1"&&(Me*=Te),we=we.parentElement}while(we!==null&&we!==we.ownerDocument.documentElement);return Me}function W(ye){const we=A.getMarginLeft(ye)+A.getMarginRight(ye);return ye.offsetWidth+we}function H(ye){const we=A.getBorderLeftWidth(ye)+A.getBorderRightWidth(ye),Me=A.getPaddingLeft(ye)+A.getPaddingRight(ye);return ye.offsetWidth-we-Me}function z(ye){const we=A.getBorderTopWidth(ye)+A.getBorderBottomWidth(ye),Me=A.getPaddingTop(ye)+A.getPaddingBottom(ye);return ye.offsetHeight-we-Me}function j(ye){const we=A.getMarginTop(ye)+A.getMarginBottom(ye);return ye.offsetHeight+we}function K(ye,we){return!!we?.contains(ye)}function U(ye,we,Me){for(;ye&&ye.nodeType===ye.ELEMENT_NODE;){if(ye.classList.contains(we))return ye;if(Me){if(typeof Me=="string"){if(ye.classList.contains(Me))return null}else if(ye===Me)return null}ye=ye.parentNode}return null}function G(ye,we,Me){return!!U(ye,we,Me)}function te(ye){return ye&&!!ye.host&&!!ye.mode}function ee(ye){return!!Y(ye)}function Y(ye){for(var we;ye.parentNode;){if(ye===((we=ye.ownerDocument)===null||we===void 0?void 0:we.body))return null;ye=ye.parentNode}return te(ye)?ye:null}function P(){let ye=ce().activeElement;for(;ye?.shadowRoot;)ye=ye.shadowRoot.activeElement;return ye}function Z(ye){return P()===ye}function re(ye){return K(P(),ye)}function ce(){var ye;return(0,e.getWindowsCount)()<=1?t.mainWindow.document:(ye=Array.from((0,e.getWindows)()).map(({window:Me})=>Me.document).find(Me=>Me.hasFocus()))!==null&&ye!==void 0?ye:t.mainWindow.document}function he(){var ye,we;return(we=(ye=ce().defaultView)===null||ye===void 0?void 0:ye.window)!==null&&we!==void 0?we:t.mainWindow}const pe=new Map;function ge(){return new X}class X{constructor(){this._currentCssStyle="",this._styleSheet=void 0}setStyle(we){we!==this._currentCssStyle&&(this._currentCssStyle=we,this._styleSheet?this._styleSheet.innerText=we:this._styleSheet=ae(t.mainWindow.document.head,Me=>Me.innerText=we))}dispose(){this._styleSheet&&(this._styleSheet.remove(),this._styleSheet=void 0)}}function ae(ye=t.mainWindow.document.head,we,Me){const Te=document.createElement("style");if(Te.type="text/css",Te.media="screen",we?.(Te),ye.appendChild(Te),Me&&Me.add((0,C.toDisposable)(()=>ye.removeChild(Te))),ye===t.mainWindow.document.head){const Le=new Set;pe.set(Te,Le);for(const{window:Oe,disposables:Pe}of(0,e.getWindows)()){if(Oe===t.mainWindow)continue;const ze=Pe.add(oe(Te,Le,Oe));Me?.add(ze)}}return Te}function oe(ye,we,Me){var Te,Le;const Oe=new C.DisposableStore,Pe=ye.cloneNode(!0);Me.document.head.appendChild(Pe),Oe.add((0,C.toDisposable)(()=>Me.document.head.removeChild(Pe)));for(const ze of V(ye))(Te=Pe.sheet)===null||Te===void 0||Te.insertRule(ze.cssText,(Le=Pe.sheet)===null||Le===void 0?void 0:Le.cssRules.length);return Oe.add(e.sharedMutationObserver.observe(ye,Oe,{childList:!0})(()=>{Pe.textContent=ye.textContent})),we.add(Pe),Oe.add((0,C.toDisposable)(()=>we.delete(Pe))),Oe}e.sharedMutationObserver=new class{constructor(){this.mutationObservers=new Map}observe(ye,we,Me){let Te=this.mutationObservers.get(ye);Te||(Te=new Map,this.mutationObservers.set(ye,Te));const Le=(0,i.hash)(Me);let Oe=Te.get(Le);if(Oe)Oe.users+=1;else{const Pe=new w.Emitter,ze=new MutationObserver($e=>Pe.fire($e));ze.observe(ye,Me);const je=Oe={users:1,observer:ze,onDidMutate:Pe.event};we.add((0,C.toDisposable)(()=>{je.users-=1,je.users===0&&(Pe.dispose(),ze.disconnect(),Te?.delete(Le),Te?.size===0&&this.mutationObservers.delete(ye))})),Te.set(Le,Oe)}return Oe.onDidMutate}};let B=null;function q(){return B||(B=ae()),B}function V(ye){var we,Me;return!((we=ye?.sheet)===null||we===void 0)&&we.rules?ye.sheet.rules:!((Me=ye?.sheet)===null||Me===void 0)&&Me.cssRules?ye.sheet.cssRules:[]}function $(ye,we,Me=q()){var Te,Le;if(!(!Me||!we)){(Te=Me.sheet)===null||Te===void 0||Te.insertRule(`${ye} {${we}}`,0);for(const Oe of(Le=pe.get(Me))!==null&&Le!==void 0?Le:[])$(ye,we,Oe)}}function J(ye,we=q()){var Me,Te;if(!we)return;const Le=V(we),Oe=[];for(let Pe=0;Pe<Le.length;Pe++){const ze=Le[Pe];se(ze)&&ze.selectorText.indexOf(ye)!==-1&&Oe.push(Pe)}for(let Pe=Oe.length-1;Pe>=0;Pe--)(Me=we.sheet)===null||Me===void 0||Me.deleteRule(Oe[Pe]);for(const Pe of(Te=pe.get(we))!==null&&Te!==void 0?Te:[])J(ye,Pe)}function se(ye){return typeof ye.selectorText=="string"}function de(ye){return ye instanceof MouseEvent||ye instanceof(0,e.getWindow)(ye).MouseEvent}function le(ye){return ye instanceof KeyboardEvent||ye instanceof(0,e.getWindow)(ye).KeyboardEvent}e.EventType={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",PASTE:"paste",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:f.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:f.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:f.isWebKit?"webkitAnimationIteration":"animationiteration"};function fe(ye){const we=ye;return!!(we&&typeof we.preventDefault=="function"&&typeof we.stopPropagation=="function")}e.EventHelper={stop:(ye,we)=>(ye.preventDefault(),we&&ye.stopPropagation(),ye)};function ve(ye){const we=[];for(let Me=0;ye&&ye.nodeType===ye.ELEMENT_NODE;Me++)we[Me]=ye.scrollTop,ye=ye.parentNode;return we}function Ce(ye,we){for(let Me=0;ye&&ye.nodeType===ye.ELEMENT_NODE;Me++)ye.scrollTop!==we[Me]&&(ye.scrollTop=we[Me]),ye=ye.parentNode}class Se extends C.Disposable{static hasFocusWithin(we){if(we instanceof HTMLElement){const Me=Y(we),Te=Me?Me.activeElement:we.ownerDocument.activeElement;return K(Te,we)}else{const Me=we;return K(Me.document.activeElement,Me.document)}}constructor(we){super(),this._onDidFocus=this._register(new w.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new w.Emitter),this.onDidBlur=this._onDidBlur.event;let Me=Se.hasFocusWithin(we),Te=!1;const Le=()=>{Te=!1,Me||(Me=!0,this._onDidFocus.fire())},Oe=()=>{Me&&(Te=!0,(we instanceof HTMLElement?(0,e.getWindow)(we):we).setTimeout(()=>{Te&&(Te=!1,Me=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Se.hasFocusWithin(we)!==Me&&(Me?Oe():Le())},this._register(u(we,e.EventType.FOCUS,Le,!0)),this._register(u(we,e.EventType.BLUR,Oe,!0)),we instanceof HTMLElement&&(this._register(u(we,e.EventType.FOCUS_IN,()=>this._refreshStateHandler())),this._register(u(we,e.EventType.FOCUS_OUT,()=>this._refreshStateHandler())))}}function _e(ye){return new Se(ye)}function ke(ye,we){return ye.after(we),we}function Ee(ye,...we){if(ye.append(...we),we.length===1&&typeof we[0]!="string")return we[0]}function Ae(ye,we){return ye.insertBefore(we,ye.firstChild),we}function xe(ye,...we){ye.innerText="",Ee(ye,...we)}const We=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Be;(function(ye){ye.HTML="http://www.w3.org/1999/xhtml",ye.SVG="http://www.w3.org/2000/svg"})(Be||(e.Namespace=Be={}));function De(ye,we,Me,...Te){const Le=We.exec(we);if(!Le)throw new Error("Bad use of emmet");const Oe=Le[1]||"div";let Pe;return ye!==Be.HTML?Pe=document.createElementNS(ye,Oe):Pe=document.createElement(Oe),Le[3]&&(Pe.id=Le[3]),Le[4]&&(Pe.className=Le[4].replace(/\./g," ").trim()),Me&&Object.entries(Me).forEach(([ze,je])=>{typeof je>"u"||(/^on\w+$/.test(ze)?Pe[ze]=je:ze==="selected"?je&&Pe.setAttribute(ze,"true"):Pe.setAttribute(ze,je))}),Pe.append(...Te),Pe}function Ne(ye,we,...Me){return De(Be.HTML,ye,we,...Me)}Ne.SVG=function(ye,we,...Me){return De(Be.SVG,ye,we,...Me)};function me(ye,...we){ye?be(...we):Re(...we)}function be(...ye){for(const we of ye)we.style.display="",we.removeAttribute("aria-hidden")}function Re(...ye){for(const we of ye)we.style.display="none",we.setAttribute("aria-hidden","true")}function He(ye,we){const Me=ye.devicePixelRatio*we;return Math.max(1,Math.floor(Me))/ye.devicePixelRatio}function qe(ye){t.mainWindow.open(ye,"_blank","noopener")}function Ue(ye,we){const Me=()=>{we(),Te=(0,e.scheduleAtNextAnimationFrame)(ye,Me)};let Te=(0,e.scheduleAtNextAnimationFrame)(ye,Me);return(0,C.toDisposable)(()=>Te.dispose())}o.RemoteAuthorities.setPreferredWebSchema(/^https:/.test(t.mainWindow.location.href)?"https":"http");function Ze(ye){return ye?`url('${o.FileAccess.uriToBrowserUri(ye).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function et(ye){return`'${ye.replace(/'/g,"%27")}'`}function nt(ye,we){if(ye!==void 0){const Me=ye.match(/^\s*var\((.+)\)$/);if(Me){const Te=Me[1].split(",",2);return Te.length===2&&(we=nt(Te[1].trim(),we)),`var(${Te[0]}, ${we})`}return ye}return we}function at(ye,we=!1){const Me=document.createElement("a");return b.addHook("afterSanitizeAttributes",Te=>{for(const Le of["href","src"])if(Te.hasAttribute(Le)){const Oe=Te.getAttribute(Le);if(Le==="href"&&Oe.startsWith("#"))continue;if(Me.href=Oe,!ye.includes(Me.protocol.replace(/:$/,""))){if(we&&Le==="src"&&Me.href.startsWith("data:"))continue;Te.removeAttribute(Le)}}}),(0,C.toDisposable)(()=>{b.removeHook("afterSanitizeAttributes")})}e.basicMarkupHtmlTags=Object.freeze(["a","abbr","b","bdo","blockquote","br","caption","cite","code","col","colgroup","dd","del","details","dfn","div","dl","dt","em","figcaption","figure","h1","h2","h3","h4","h5","h6","hr","i","img","input","ins","kbd","label","li","mark","ol","p","pre","q","rp","rt","ruby","samp","small","small","source","span","strike","strong","sub","summary","sup","table","tbody","td","tfoot","th","thead","time","tr","tt","u","ul","var","video","wbr"]);const ft=Object.freeze({ALLOWED_TAGS:["a","button","blockquote","code","div","h1","h2","h3","h4","h5","h6","hr","input","label","li","p","pre","select","small","span","strong","textarea","ul","ol"],ALLOWED_ATTR:["href","data-href","data-command","target","title","name","src","alt","class","id","role","tabindex","style","data-code","width","height","align","x-dispatch","required","checked","placeholder","type","start"],RETURN_DOM:!1,RETURN_DOM_FRAGMENT:!1,RETURN_TRUSTED_TYPE:!0});class tt extends w.Emitter{constructor(){super(),this._subscriptions=new C.DisposableStore,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(w.Event.runAndSubscribe(e.onDidRegisterWindow,({window:we,disposables:Me})=>this.registerListeners(we,Me),{window:t.mainWindow,disposables:this._subscriptions}))}registerListeners(we,Me){Me.add(u(we,"keydown",Te=>{if(Te.defaultPrevented)return;const Le=new E.StandardKeyboardEvent(Te);if(!(Le.keyCode===6&&Te.repeat)){if(Te.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Te.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Te.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Te.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(Le.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Te.altKey,this._keyStatus.ctrlKey=Te.ctrlKey,this._keyStatus.metaKey=Te.metaKey,this._keyStatus.shiftKey=Te.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Te,this.fire(this._keyStatus))}},!0)),Me.add(u(we,"keyup",Te=>{Te.defaultPrevented||(!Te.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Te.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Te.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Te.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Te.altKey,this._keyStatus.ctrlKey=Te.ctrlKey,this._keyStatus.metaKey=Te.metaKey,this._keyStatus.shiftKey=Te.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Te,this.fire(this._keyStatus)))},!0)),Me.add(u(we.document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Me.add(u(we.document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),Me.add(u(we.document.body,"mousemove",Te=>{Te.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),Me.add(u(we,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return tt.instance||(tt.instance=new tt),tt.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}e.ModifierKeyEmitter=tt;class ht extends C.Disposable{constructor(we,Me){super(),this.element=we,this.callbacks=Me,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this.callbacks.onDragStart&&this._register(u(this.element,e.EventType.DRAG_START,we=>{var Me,Te;(Te=(Me=this.callbacks).onDragStart)===null||Te===void 0||Te.call(Me,we)})),this.callbacks.onDrag&&this._register(u(this.element,e.EventType.DRAG,we=>{var Me,Te;(Te=(Me=this.callbacks).onDrag)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DRAG_ENTER,we=>{var Me,Te;this.counter++,this.dragStartTime=we.timeStamp,(Te=(Me=this.callbacks).onDragEnter)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DRAG_OVER,we=>{var Me,Te;we.preventDefault(),(Te=(Me=this.callbacks).onDragOver)===null||Te===void 0||Te.call(Me,we,we.timeStamp-this.dragStartTime)})),this._register(u(this.element,e.EventType.DRAG_LEAVE,we=>{var Me,Te;this.counter--,this.counter===0&&(this.dragStartTime=0,(Te=(Me=this.callbacks).onDragLeave)===null||Te===void 0||Te.call(Me,we))})),this._register(u(this.element,e.EventType.DRAG_END,we=>{var Me,Te;this.counter=0,this.dragStartTime=0,(Te=(Me=this.callbacks).onDragEnd)===null||Te===void 0||Te.call(Me,we)})),this._register(u(this.element,e.EventType.DROP,we=>{var Me,Te;this.counter=0,this.dragStartTime=0,(Te=(Me=this.callbacks).onDrop)===null||Te===void 0||Te.call(Me,we)}))}}e.DragAndDropObserver=ht;const ot=/(?<tag>[\w\-]+)?(?:#(?<id>[\w\-]+))?(?<class>(?:\.(?:[\w\-]+))*)(?:@(?<name>(?:[\w\_])+))?/;function _t(ye,...we){let Me,Te;Array.isArray(we[0])?(Me={},Te=we[0]):(Me=we[0]||{},Te=we[1]);const Le=ot.exec(ye);if(!Le||!Le.groups)throw new Error("Bad use of h");const Oe=Le.groups.tag||"div",Pe=document.createElement(Oe);Le.groups.id&&(Pe.id=Le.groups.id);const ze=[];if(Le.groups.class)for(const $e of Le.groups.class.split("."))$e!==""&&ze.push($e);if(Me.className!==void 0)for(const $e of Me.className.split("."))$e!==""&&ze.push($e);ze.length>0&&(Pe.className=ze.join(" "));const je={};if(Le.groups.name&&(je[Le.groups.name]=Pe),Te)for(const $e of Te)$e instanceof HTMLElement?Pe.appendChild($e):typeof $e=="string"?Pe.append($e):"root"in $e&&(Object.assign(je,$e),Pe.appendChild($e.root));for(const[$e,Qe]of Object.entries(Me))if($e!=="className")if($e==="style")for(const[gt,Ye]of Object.entries(Qe))Pe.style.setProperty(pt(gt),typeof Ye=="number"?Ye+"px":""+Ye);else $e==="tabIndex"?Pe.tabIndex=Qe:Pe.setAttribute(pt($e),Qe.toString());return je.root=Pe,je}function pt(ye){return ye.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}}),define(ie[339],ne([1,0,6]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderText=k,e.renderFormattedText=E,e.createElement=D;function k(o,s={}){const i=D(s);return i.textContent=o,i}function E(o,s={}){const i=D(s);return p(i,w(o,!!s.renderCodeSegments),s.actionHandler,s.renderCodeSegments),i}function D(o){const s=o.inline?"span":"div",i=document.createElement(s);return o.className&&(i.className=o.className),i}class y{constructor(s){this.source=s,this.index=0}eos(){return this.index>=this.source.length}next(){const s=this.peek();return this.advance(),s}peek(){return this.source[this.index]}advance(){this.index++}}function p(o,s,i,t){let n;if(s.type===2)n=document.createTextNode(s.content||"");else if(s.type===3)n=document.createElement("b");else if(s.type===4)n=document.createElement("i");else if(s.type===7&&t)n=document.createElement("code");else if(s.type===5&&i){const c=document.createElement("a");i.disposables.add(f.addStandardDisposableListener(c,"click",m=>{i.callback(String(s.index),m)})),n=c}else s.type===8?n=document.createElement("br"):s.type===1&&(n=o);n&&o!==n&&o.appendChild(n),n&&Array.isArray(s.children)&&s.children.forEach(c=>{p(n,c,i,t)})}function w(o,s){const i={type:1,children:[]};let t=0,n=i;const c=[],m=new y(o);for(;!m.eos();){let u=m.next();const r=u==="\\"&&C(m.peek(),s)!==0;if(r&&(u=m.next()),!r&&b(u,s)&&u===m.peek()){m.advance(),n.type===2&&(n=c.pop());const a=C(u,s);if(n.type===a||n.type===5&&a===6)n=c.pop();else{const h={type:a,children:[]};a===5&&(h.index=t,t++),n.children.push(h),c.push(n),n=h}}else if(u===`
`)n.type===2&&(n=c.pop()),n.children.push({type:8});else if(n.type!==2){const a={type:2,content:u};n.children.push(a),c.push(n),n=a}else n.content+=u}return n.type===2&&(n=c.pop()),c.length,i}function b(o,s){return C(o,s)!==0}function C(o,s){switch(o){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return s?7:0;default:return 0}}}),define(ie[166],ne([1,0,6,2]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalPointerMoveMonitor=void 0;class E{constructor(){this._hooks=new k.DisposableStore,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(y,p){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const w=this._onStopCallback;this._onStopCallback=null,y&&w&&w(p)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(y,p,w,b,C){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=b,this._onStopCallback=C;let o=y;try{y.setPointerCapture(p),this._hooks.add((0,k.toDisposable)(()=>{try{y.releasePointerCapture(p)}catch{}}))}catch{o=f.getWindow(y)}this._hooks.add(f.addDisposableListener(o,f.EventType.POINTER_MOVE,s=>{if(s.buttons!==w){this.stopMonitoring(!0);return}s.preventDefault(),this._pointerMoveCallback(s)})),this._hooks.add(f.addDisposableListener(o,f.EventType.POINTER_UP,s=>this.stopMonitoring(!0)))}}e.GlobalPointerMoveMonitor=E}),define(ie[246],ne([1,0,6,7,2]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PixelRatio=void 0;class D extends E.Disposable{constructor(b){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(b,!0),this._mediaQueryList=null,this._handleChange(b,!1)}_handleChange(b,C){var o;(o=this._mediaQueryList)===null||o===void 0||o.removeEventListener("change",this._listener),this._mediaQueryList=b.matchMedia(`(resolution: ${b.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),C&&this._onDidChange.fire()}}class y extends E.Disposable{get value(){return this._value}constructor(b){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio(b);const C=this._register(new D(b));this._register(C.onDidChange(()=>{this._value=this._getPixelRatio(b),this._onDidChange.fire(this._value)}))}_getPixelRatio(b){const C=document.createElement("canvas").getContext("2d"),o=b.devicePixelRatio||1,s=C.webkitBackingStorePixelRatio||C.mozBackingStorePixelRatio||C.msBackingStorePixelRatio||C.oBackingStorePixelRatio||C.backingStorePixelRatio||1;return o/s}}class p{constructor(){this.mapWindowIdToPixelRatioMonitor=new Map}_getOrCreatePixelRatioMonitor(b){const C=(0,f.getWindowId)(b);let o=this.mapWindowIdToPixelRatioMonitor.get(C);return o||(o=(0,E.markAsSingleton)(new y(b)),this.mapWindowIdToPixelRatioMonitor.set(C,o),(0,E.markAsSingleton)(k.Event.once(f.onDidUnregisterWindow)(({vscodeWindowId:s})=>{s===C&&(o?.dispose(),this.mapWindowIdToPixelRatioMonitor.delete(C))}))),o}getInstance(b){return this._getOrCreatePixelRatioMonitor(b)}}e.PixelRatio=new p}),define(ie[68],ne([1,0,6,52,13,121,7,2,70]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Gesture=e.EventType=void 0;var b;(function(o){o.Tap="-monaco-gesturetap",o.Change="-monaco-gesturechange",o.Start="-monaco-gesturestart",o.End="-monaco-gesturesend",o.Contextmenu="-monaco-gesturecontextmenu"})(b||(e.EventType=b={}));class C extends p.Disposable{constructor(){super(),this.dispatched=!1,this.targets=new w.LinkedList,this.ignoreTargets=new w.LinkedList,this.activeTouches={},this.handle=null,this._lastSetTapCountTime=0,this._register(y.Event.runAndSubscribe(f.onDidRegisterWindow,({window:s,disposables:i})=>{i.add(f.addDisposableListener(s.document,"touchstart",t=>this.onTouchStart(t),{passive:!1})),i.add(f.addDisposableListener(s.document,"touchend",t=>this.onTouchEnd(s,t))),i.add(f.addDisposableListener(s.document,"touchmove",t=>this.onTouchMove(t),{passive:!1}))},{window:k.mainWindow,disposables:this._store}))}static addTarget(s){if(!C.isTouchDevice())return p.Disposable.None;C.INSTANCE||(C.INSTANCE=(0,p.markAsSingleton)(new C));const i=C.INSTANCE.targets.push(s);return(0,p.toDisposable)(i)}static ignoreTarget(s){if(!C.isTouchDevice())return p.Disposable.None;C.INSTANCE||(C.INSTANCE=(0,p.markAsSingleton)(new C));const i=C.INSTANCE.ignoreTargets.push(s);return(0,p.toDisposable)(i)}static isTouchDevice(){return"ontouchstart"in k.mainWindow||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(s){const i=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let t=0,n=s.targetTouches.length;t<n;t++){const c=s.targetTouches.item(t);this.activeTouches[c.identifier]={id:c.identifier,initialTarget:c.target,initialTimeStamp:i,initialPageX:c.pageX,initialPageY:c.pageY,rollingTimestamps:[i],rollingPageX:[c.pageX],rollingPageY:[c.pageY]};const m=this.newGestureEvent(b.Start,c.target);m.pageX=c.pageX,m.pageY=c.pageY,this.dispatchEvent(m)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}onTouchEnd(s,i){const t=Date.now(),n=Object.keys(this.activeTouches).length;for(let c=0,m=i.changedTouches.length;c<m;c++){const u=i.changedTouches.item(c);if(!this.activeTouches.hasOwnProperty(String(u.identifier))){console.warn("move of an UNKNOWN touch",u);continue}const r=this.activeTouches[u.identifier],a=Date.now()-r.initialTimeStamp;if(a<C.HOLD_DELAY&&Math.abs(r.initialPageX-E.tail(r.rollingPageX))<30&&Math.abs(r.initialPageY-E.tail(r.rollingPageY))<30){const h=this.newGestureEvent(b.Tap,r.initialTarget);h.pageX=E.tail(r.rollingPageX),h.pageY=E.tail(r.rollingPageY),this.dispatchEvent(h)}else if(a>=C.HOLD_DELAY&&Math.abs(r.initialPageX-E.tail(r.rollingPageX))<30&&Math.abs(r.initialPageY-E.tail(r.rollingPageY))<30){const h=this.newGestureEvent(b.Contextmenu,r.initialTarget);h.pageX=E.tail(r.rollingPageX),h.pageY=E.tail(r.rollingPageY),this.dispatchEvent(h)}else if(n===1){const h=E.tail(r.rollingPageX),l=E.tail(r.rollingPageY),g=E.tail(r.rollingTimestamps)-r.rollingTimestamps[0],d=h-r.rollingPageX[0],v=l-r.rollingPageY[0],_=[...this.targets].filter(S=>r.initialTarget instanceof Node&&S.contains(r.initialTarget));this.inertia(s,_,t,Math.abs(d)/g,d>0?1:-1,h,Math.abs(v)/g,v>0?1:-1,l)}this.dispatchEvent(this.newGestureEvent(b.End,r.initialTarget)),delete this.activeTouches[u.identifier]}this.dispatched&&(i.preventDefault(),i.stopPropagation(),this.dispatched=!1)}newGestureEvent(s,i){const t=document.createEvent("CustomEvent");return t.initEvent(s,!1,!0),t.initialTarget=i,t.tapCount=0,t}dispatchEvent(s){if(s.type===b.Tap){const i=new Date().getTime();let t=0;i-this._lastSetTapCountTime>C.CLEAR_TAP_COUNT_TIME?t=1:t=2,this._lastSetTapCountTime=i,s.tapCount=t}else(s.type===b.Change||s.type===b.Contextmenu)&&(this._lastSetTapCountTime=0);if(s.initialTarget instanceof Node){for(const t of this.ignoreTargets)if(t.contains(s.initialTarget))return;const i=[];for(const t of this.targets)if(t.contains(s.initialTarget)){let n=0,c=s.initialTarget;for(;c&&c!==t;)n++,c=c.parentElement;i.push([n,t])}i.sort((t,n)=>t[0]-n[0]);for(const[t,n]of i)n.dispatchEvent(s),this.dispatched=!0}}inertia(s,i,t,n,c,m,u,r,a){this.handle=f.scheduleAtNextAnimationFrame(s,()=>{const h=Date.now(),l=h-t;let g=0,d=0,v=!0;n+=C.SCROLL_FRICTION*l,u+=C.SCROLL_FRICTION*l,n>0&&(v=!1,g=c*n*l),u>0&&(v=!1,d=r*u*l);const _=this.newGestureEvent(b.Change);_.translationX=g,_.translationY=d,i.forEach(S=>S.dispatchEvent(_)),v||this.inertia(s,i,h,n,c,m+g,u,r,a+d)})}onTouchMove(s){const i=Date.now();for(let t=0,n=s.changedTouches.length;t<n;t++){const c=s.changedTouches.item(t);if(!this.activeTouches.hasOwnProperty(String(c.identifier))){console.warn("end of an UNKNOWN touch",c);continue}const m=this.activeTouches[c.identifier],u=this.newGestureEvent(b.Change,m.initialTarget);u.translationX=c.pageX-E.tail(m.rollingPageX),u.translationY=c.pageY-E.tail(m.rollingPageY),u.pageX=c.pageX,u.pageY=c.pageY,this.dispatchEvent(u),m.rollingPageX.length>3&&(m.rollingPageX.shift(),m.rollingPageY.shift(),m.rollingTimestamps.shift()),m.rollingPageX.push(c.pageX),m.rollingPageY.push(c.pageY),m.rollingTimestamps.push(i)}this.dispatched&&(s.preventDefault(),s.stopPropagation(),this.dispatched=!1)}}e.Gesture=C,C.SCROLL_FRICTION=-.005,C.HOLD_DELAY=700,C.CLEAR_TAP_COUNT_TIME=400,Ie([D.memoize],C,"isTouchDevice",null)}),define(ie[47],ne([1,0,6,437]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setARIAContainer=b,e.alert=C,e.status=o;const k=2e4;let E,D,y,p,w;function b(i){E=document.createElement("div"),E.className="monaco-aria-container";const t=()=>{const c=document.createElement("div");return c.className="monaco-alert",c.setAttribute("role","alert"),c.setAttribute("aria-atomic","true"),E.appendChild(c),c};D=t(),y=t();const n=()=>{const c=document.createElement("div");return c.className="monaco-status",c.setAttribute("aria-live","polite"),c.setAttribute("aria-atomic","true"),E.appendChild(c),c};p=n(),w=n(),i.appendChild(E)}function C(i){E&&(D.textContent!==i?(f.clearNode(y),s(D,i)):(f.clearNode(D),s(y,i)))}function o(i){E&&(p.textContent!==i?(f.clearNode(w),s(p,i)):(f.clearNode(p),s(w,i)))}function s(i,t){f.clearNode(i),t.length>k&&(t=t.substr(0,k)),i.textContent=t,i.style.visibility="hidden",i.style.visibility="visible"}}),define(ie[340],ne([1,0,241,6,2,17,184,441]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextView=e.LayoutAnchorMode=void 0,e.isAnchor=p,e.layout=b;function p(s){const i=s;return!!i&&typeof i.x=="number"&&typeof i.y=="number"}var w;(function(s){s[s.AVOID=0]="AVOID",s[s.ALIGN=1]="ALIGN"})(w||(e.LayoutAnchorMode=w={}));function b(s,i,t){const n=t.mode===w.ALIGN?t.offset:t.offset+t.size,c=t.mode===w.ALIGN?t.offset+t.size:t.offset;return t.position===0?i<=s-n?n:i<=c?c-i:Math.max(s-i,0):i<=c?c-i:i<=s-n?n:0}class C extends E.Disposable{constructor(i,t){super(),this.container=null,this.useFixedPosition=!1,this.useShadowDOM=!1,this.delegate=null,this.toDisposeOnClean=E.Disposable.None,this.toDisposeOnSetContainer=E.Disposable.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=k.$(".context-view"),k.hide(this.view),this.setContainer(i,t),this._register((0,E.toDisposable)(()=>this.setContainer(null,1)))}setContainer(i,t){var n;this.useFixedPosition=t!==1;const c=this.useShadowDOM;if(this.useShadowDOM=t===3,!(i===this.container&&c===this.useShadowDOM)&&(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(n=this.shadowRootHostElement)===null||n===void 0||n.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),i)){if(this.container=i,this.useShadowDOM){this.shadowRootHostElement=k.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const u=document.createElement("style");u.textContent=o,this.shadowRoot.appendChild(u),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(k.$("slot"))}else this.container.appendChild(this.view);const m=new E.DisposableStore;C.BUBBLE_UP_EVENTS.forEach(u=>{m.add(k.addStandardDisposableListener(this.container,u,r=>{this.onDOMEvent(r,!1)}))}),C.BUBBLE_DOWN_EVENTS.forEach(u=>{m.add(k.addStandardDisposableListener(this.container,u,r=>{this.onDOMEvent(r,!0)},!0))}),this.toDisposeOnSetContainer=m}}show(i){var t,n,c;this.isVisible()&&this.hide(),k.clearNode(this.view),this.view.className="context-view monaco-component",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex=`${2575+((t=i.layer)!==null&&t!==void 0?t:0)}`,this.view.style.position=this.useFixedPosition?"fixed":"absolute",k.show(this.view),this.toDisposeOnClean=i.render(this.view)||E.Disposable.None,this.delegate=i,this.doLayout(),(c=(n=this.delegate).focus)===null||c===void 0||c.call(n)}getViewElement(){return this.view}layout(){var i,t;if(this.isVisible()){if(this.delegate.canRelayout===!1&&!(D.isIOS&&f.BrowserFeatures.pointerEvents)){this.hide();return}(t=(i=this.delegate)===null||i===void 0?void 0:i.layout)===null||t===void 0||t.call(i),this.doLayout()}}doLayout(){if(!this.isVisible())return;const i=this.delegate.getAnchor();let t;if(i instanceof HTMLElement){const d=k.getDomNodePagePosition(i),v=k.getDomNodeZoomLevel(i);t={top:d.top*v,left:d.left*v,width:d.width*v,height:d.height*v}}else p(i)?t={top:i.y,left:i.x,width:i.width||1,height:i.height||2}:t={top:i.posy,left:i.posx,width:2,height:2};const n=k.getTotalWidth(this.view),c=k.getTotalHeight(this.view),m=this.delegate.anchorPosition||0,u=this.delegate.anchorAlignment||0,r=this.delegate.anchorAxisAlignment||0;let a,h;const l=k.getActiveWindow();if(r===0){const d={offset:t.top-l.pageYOffset,size:t.height,position:m===0?0:1},v={offset:t.left,size:t.width,position:u===0?0:1,mode:w.ALIGN};a=b(l.innerHeight,c,d)+l.pageYOffset,y.Range.intersects({start:a,end:a+c},{start:d.offset,end:d.offset+d.size})&&(v.mode=w.AVOID),h=b(l.innerWidth,n,v)}else{const d={offset:t.left,size:t.width,position:u===0?0:1},v={offset:t.top,size:t.height,position:m===0?0:1,mode:w.ALIGN};h=b(l.innerWidth,n,d),y.Range.intersects({start:h,end:h+n},{start:d.offset,end:d.offset+d.size})&&(v.mode=w.AVOID),a=b(l.innerHeight,c,v)+l.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(m===0?"bottom":"top"),this.view.classList.add(u===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const g=k.getDomNodePagePosition(this.container);this.view.style.top=`${a-(this.useFixedPosition?k.getDomNodePagePosition(this.view).top:g.top)}px`,this.view.style.left=`${h-(this.useFixedPosition?k.getDomNodePagePosition(this.view).left:g.left)}px`,this.view.style.width="initial"}hide(i){const t=this.delegate;this.delegate=null,t?.onHide&&t.onHide(i),this.toDisposeOnClean.dispose(),k.hide(this.view)}isVisible(){return!!this.delegate}onDOMEvent(i,t){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(i,k.getWindow(i).document.activeElement):t&&!k.isAncestor(i.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}e.ContextView=C,C.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],C.BUBBLE_DOWN_EVENTS=["click"];const o=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`}),define(ie[341],ne([1,0,6,12,442]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CountBadge=void 0;class E{constructor(y,p,w){this.options=p,this.styles=w,this.count=0,this.element=(0,f.append)(y,(0,f.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(y){this.count=y,this.render()}setTitleFormat(y){this.titleFormat=y,this.render()}render(){var y,p;this.element.textContent=(0,k.format)(this.countFormat,this.count),this.element.title=(0,k.format)(this.titleFormat,this.count),this.element.style.backgroundColor=(y=this.styles.badgeBackground)!==null&&y!==void 0?y:"",this.element.style.color=(p=this.styles.badgeForeground)!==null&&p!==void 0?p:"",this.styles.badgeBorder&&(this.element.style.border=`1px solid ${this.styles.badgeBorder}`)}}e.CountBadge=E}),define(ie[623],ne([1,0,6,46,68,41,7,295]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenu=void 0;class p extends D.ActionRunner{constructor(C,o){super(),this._onDidChangeVisibility=this._register(new y.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,f.append)(C,(0,f.$)(".monaco-dropdown")),this._label=(0,f.append)(this._element,(0,f.$)(".dropdown-label"));let s=o.labelRenderer;s||(s=t=>(t.textContent=o.label||"",null));for(const t of[f.EventType.CLICK,f.EventType.MOUSE_DOWN,E.EventType.Tap])this._register((0,f.addDisposableListener)(this.element,t,n=>f.EventHelper.stop(n,!0)));for(const t of[f.EventType.MOUSE_DOWN,E.EventType.Tap])this._register((0,f.addDisposableListener)(this._label,t,n=>{(0,f.isMouseEvent)(n)&&(n.detail>1||n.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,f.addDisposableListener)(this._label,f.EventType.KEY_UP,t=>{const n=new k.StandardKeyboardEvent(t);(n.equals(3)||n.equals(10))&&(f.EventHelper.stop(t,!0),this.visible?this.hide():this.show())}));const i=s(this._label);i&&this._register(i),this._register(E.Gesture.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class w extends p{constructor(C,o){super(C,o),this._options=o,this._actions=[],this.actions=o.actions||[]}set menuOptions(C){this._menuOptions=C}get menuOptions(){return this._menuOptions}get actions(){return this._options.actionProvider?this._options.actionProvider.getActions():this._actions}set actions(C){this._actions=C}show(){super.show(),this.element.classList.add("active"),this._options.contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:(C,o)=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(C,o):void 0,getKeyBinding:C=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(C):void 0,getMenuClassName:()=>this._options.menuClassName||"",onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this._options.menuAsChild?this.element:void 0,skipTelemetry:this._options.skipTelemetry})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}e.DropdownMenu=w}),define(ie[110],ne([1,0,6,31]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.renderLabelWithIcons=D,e.renderIcon=y;const E=new RegExp(`(\\\\)?\\$\\((${k.ThemeIcon.iconNameExpression}(?:${k.ThemeIcon.iconModifierExpression})?)\\)`,"g");function D(p){const w=new Array;let b,C=0,o=0;for(;(b=E.exec(p))!==null;){o=b.index||0,C<o&&w.push(p.substring(C,o)),C=(b.index||0)+b[0].length;const[,s,i]=b;w.push(s?`$(${i})`:y({id:i}))}return C<p.length&&w.push(p.substring(C)),w}function y(p){const w=f.$("span");return w.classList.add(...k.ThemeIcon.asClassNameArray(p)),w}}),define(ie[342],ne([1,0,6,77,44,110,2,55]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HighlightedLabel=void 0;class w extends y.Disposable{constructor(C,o){var s;super(),this.options=o,this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(s=o?.supportIcons)!==null&&s!==void 0?s:!1,this.domNode=f.append(C,f.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(C,o=[],s="",i){C||(C=""),i&&(C=w.escapeNewLines(C,o)),!(this.didEverRender&&this.text===C&&this.title===s&&p.equals(this.highlights,o))&&(this.text=C,this.title=s,this.highlights=o,this.render())}render(){var C,o,s,i;const t=[];let n=0;for(const c of this.highlights){if(c.end===c.start)continue;if(n<c.start){const r=this.text.substring(n,c.start);this.supportIcons?t.push(...(0,D.renderLabelWithIcons)(r)):t.push(r),n=c.start}const m=this.text.substring(n,c.end),u=f.$("span.highlight",void 0,...this.supportIcons?(0,D.renderLabelWithIcons)(m):[m]);c.extraClasses&&u.classList.add(...c.extraClasses),t.push(u),n=c.end}if(n<this.text.length){const c=this.text.substring(n);this.supportIcons?t.push(...(0,D.renderLabelWithIcons)(c)):t.push(c)}if(f.reset(this.domNode,...t),!((o=(C=this.options)===null||C===void 0?void 0:C.hoverDelegate)===null||o===void 0)&&o.showNativeHover)this.domNode.title=this.title;else if(!this.customHover&&this.title!==""){const c=(i=(s=this.options)===null||s===void 0?void 0:s.hoverDelegate)!==null&&i!==void 0?i:(0,E.getDefaultHoverDelegate)("mouse");this.customHover=this._register((0,k.getBaseLayerHoverDelegate)().setupUpdatableHover(c,this.domNode,this.title))}else this.customHover&&this.customHover.update(this.title);this.didEverRender=!0}static escapeNewLines(C,o){let s=0,i=0;return C.replace(/\r\n|\r|\n/g,(t,n)=>{i=t===`\r
`?-1:0,n+=s;for(const c of o)c.end<=n||(c.start>=n&&(c.start+=i),c.end>=n&&(c.end+=i));return s+=i,"\u23CE"})}}e.HighlightedLabel=w}),define(ie[247],ne([1,0,6,342,2,55,184,44,77,20,137,444]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IconLabel=void 0;class o{constructor(m){this._element=m}get element(){return this._element}set textContent(m){this.disposed||m===this._textContent||(this._textContent=m,this._element.textContent=m)}set className(m){this.disposed||m===this._className||(this._className=m,this._element.className=m)}set empty(m){this.disposed||m===this._empty||(this._empty=m,this._element.style.marginLeft=m?"0":"")}dispose(){this.disposed=!0}}class s extends E.Disposable{constructor(m,u){var r;super(),this.customHovers=new Map,this.creationOptions=u,this.domNode=this._register(new o(f.append(m,f.$(".monaco-icon-label")))),this.labelContainer=f.append(this.domNode.element,f.$(".monaco-icon-label-container")),this.nameContainer=f.append(this.labelContainer,f.$("span.monaco-icon-name-container")),u?.supportHighlights||u?.supportIcons?this.nameNode=this._register(new n(this.nameContainer,!!u.supportIcons)):this.nameNode=new i(this.nameContainer),this.hoverDelegate=(r=u?.hoverDelegate)!==null&&r!==void 0?r:(0,p.getDefaultHoverDelegate)("mouse")}get element(){return this.domNode.element}setLabel(m,u,r){var a;const h=["monaco-icon-label"],l=["monaco-icon-label-container"];let g="";if(r&&(r.extraClasses&&h.push(...r.extraClasses),r.italic&&h.push("italic"),r.strikethrough&&h.push("strikethrough"),r.disabledCommand&&l.push("disabled"),r.title&&(typeof r.title=="string"?g+=r.title:g+=m)),this.domNode.className=h.join(" "),this.domNode.element.setAttribute("aria-label",g),this.labelContainer.className=l.join(" "),this.setupHover(r?.descriptionTitle?this.labelContainer:this.element,r?.title),this.nameNode.setLabel(m,r),u||this.descriptionNode){const d=this.getOrCreateDescriptionNode();d instanceof k.HighlightedLabel?(d.set(u||"",r?r.descriptionMatches:void 0,void 0,r?.labelEscapeNewLines),this.setupHover(d.element,r?.descriptionTitle)):(d.textContent=u&&r?.labelEscapeNewLines?k.HighlightedLabel.escapeNewLines(u,[]):u||"",this.setupHover(d.element,r?.descriptionTitle||""),d.empty=!u)}if(r?.suffix||this.suffixNode){const d=this.getOrCreateSuffixNode();d.textContent=(a=r?.suffix)!==null&&a!==void 0?a:""}}setupHover(m,u){const r=this.customHovers.get(m);if(r&&(r.dispose(),this.customHovers.delete(m)),!u){m.removeAttribute("title");return}if(this.hoverDelegate.showNativeHover)(function(h,l){(0,b.isString)(l)?h.title=(0,C.stripIcons)(l):l?.markdownNotSupportedFallback?h.title=l.markdownNotSupportedFallback:h.removeAttribute("title")})(m,u);else{const a=(0,w.getBaseLayerHoverDelegate)().setupUpdatableHover(this.hoverDelegate,m,u);a&&this.customHovers.set(m,a)}}dispose(){super.dispose();for(const m of this.customHovers.values())m.dispose();this.customHovers.clear()}getOrCreateSuffixNode(){if(!this.suffixNode){const m=this._register(new o(f.after(this.nameContainer,f.$("span.monaco-icon-suffix-container"))));this.suffixNode=this._register(new o(f.append(m.element,f.$("span.label-suffix"))))}return this.suffixNode}getOrCreateDescriptionNode(){var m;if(!this.descriptionNode){const u=this._register(new o(f.append(this.labelContainer,f.$("span.monaco-icon-description-container"))));!((m=this.creationOptions)===null||m===void 0)&&m.supportDescriptionHighlights?this.descriptionNode=this._register(new k.HighlightedLabel(f.append(u.element,f.$("span.label-description")),{supportIcons:!!this.creationOptions.supportIcons})):this.descriptionNode=this._register(new o(f.append(u.element,f.$("span.label-description"))))}return this.descriptionNode}}e.IconLabel=s;class i{constructor(m){this.container=m,this.label=void 0,this.singleLabel=void 0}setLabel(m,u){if(!(this.label===m&&(0,D.equals)(this.options,u)))if(this.label=m,this.options=u,typeof m=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=f.append(this.container,f.$("a.label-name",{id:u?.domId}))),this.singleLabel.textContent=m;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let r=0;r<m.length;r++){const a=m[r],h=u?.domId&&`${u?.domId}_${r}`;f.append(this.container,f.$("a.label-name",{id:h,"data-icon-label-count":m.length,"data-icon-label-index":r,role:"treeitem"},a)),r<m.length-1&&f.append(this.container,f.$("span.label-separator",void 0,u?.separator||"/"))}}}}function t(c,m,u){if(!u)return;let r=0;return c.map(a=>{const h={start:r,end:r+a.length},l=u.map(g=>y.Range.intersect(h,g)).filter(g=>!y.Range.isEmpty(g)).map(({start:g,end:d})=>({start:g-r,end:d-r}));return r=h.end+m.length,l})}class n extends E.Disposable{constructor(m,u){super(),this.container=m,this.supportIcons=u,this.label=void 0,this.singleLabel=void 0}setLabel(m,u){if(!(this.label===m&&(0,D.equals)(this.options,u)))if(this.label=m,this.options=u,typeof m=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=this._register(new k.HighlightedLabel(f.append(this.container,f.$("a.label-name",{id:u?.domId})),{supportIcons:this.supportIcons}))),this.singleLabel.set(m,u?.matches,void 0,u?.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const r=u?.separator||"/",a=t(m,r,u?.matches);for(let h=0;h<m.length;h++){const l=m[h],g=a?a[h]:void 0,d=u?.domId&&`${u?.domId}_${h}`,v=f.$("a.label-name",{id:d,"data-icon-label-count":m.length,"data-icon-label-index":h,role:"treeitem"});this._register(new k.HighlightedLabel(f.append(this.container,v),{supportIcons:this.supportIcons})).set(l,g,void 0,u?.labelEscapeNewLines),h<m.length-1&&f.append(v,f.$("span.label-separator",void 0,r))}}}}}),define(ie[200],ne([1,0,6,77,44,240,2,55,608,446]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingLabel=e.unthemedKeybindingLabelOptions=void 0;const b=f.$;e.unthemedKeybindingLabelOptions={keybindingLabelBackground:void 0,keybindingLabelForeground:void 0,keybindingLabelBorder:void 0,keybindingLabelBottomBorder:void 0,keybindingLabelShadow:void 0};class C extends y.Disposable{constructor(s,i,t){super(),this.os=i,this.keyElements=new Set,this.options=t||Object.create(null);const n=this.options.keybindingLabelForeground;this.domNode=f.append(s,b(".monaco-keybinding")),n&&(this.domNode.style.color=n),this.hover=this._register((0,k.getBaseLayerHoverDelegate)().setupUpdatableHover((0,E.getDefaultHoverDelegate)("mouse"),this.domNode,"")),this.didEverRender=!1,s.appendChild(this.domNode)}get element(){return this.domNode}set(s,i){this.didEverRender&&this.keybinding===s&&C.areSame(this.matches,i)||(this.keybinding=s,this.matches=i,this.render())}render(){var s;if(this.clear(),this.keybinding){const i=this.keybinding.getChords();i[0]&&this.renderChord(this.domNode,i[0],this.matches?this.matches.firstPart:null);for(let n=1;n<i.length;n++)f.append(this.domNode,b("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderChord(this.domNode,i[n],this.matches?this.matches.chordPart:null);const t=(s=this.options.disableTitle)!==null&&s!==void 0&&s?void 0:this.keybinding.getAriaLabel()||void 0;this.hover.update(t),this.domNode.setAttribute("aria-label",t||"")}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.didEverRender=!0}clear(){f.clearNode(this.domNode),this.keyElements.clear()}renderChord(s,i,t){const n=D.UILabelProvider.modifierLabels[this.os];i.ctrlKey&&this.renderKey(s,n.ctrlKey,!!t?.ctrlKey,n.separator),i.shiftKey&&this.renderKey(s,n.shiftKey,!!t?.shiftKey,n.separator),i.altKey&&this.renderKey(s,n.altKey,!!t?.altKey,n.separator),i.metaKey&&this.renderKey(s,n.metaKey,!!t?.metaKey,n.separator);const c=i.keyLabel;c&&this.renderKey(s,c,!!t?.keyCode,"")}renderKey(s,i,t,n){f.append(s,this.createKeyElement(i,t?".highlight":"")),n&&f.append(s,b("span.monaco-keybinding-key-separator",void 0,n))}renderUnbound(s){f.append(s,this.createKeyElement((0,w.localize)(0,null)))}createKeyElement(s,i=""){const t=b("span.monaco-keybinding-key"+i,void 0,s);return this.keyElements.add(t),this.options.keybindingLabelBackground&&(t.style.backgroundColor=this.options.keybindingLabelBackground),this.options.keybindingLabelBorder&&(t.style.borderColor=this.options.keybindingLabelBorder),this.options.keybindingLabelBottomBorder&&(t.style.borderBottomColor=this.options.keybindingLabelBottomBorder),this.options.keybindingLabelShadow&&(t.style.boxShadow=`inset 0 -1px 0 ${this.options.keybindingLabelShadow}`),t}static areSame(s,i){return s===i||!s&&!i?!0:!!s&&!!i&&(0,p.equals)(s.firstPart,i.firstPart)&&(0,p.equals)(s.chordPart,i.chordPart)}}e.KeybindingLabel=C}),define(ie[624],ne([1,0,6]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RowCache=void 0;function k(D){var y;try{(y=D.parentElement)===null||y===void 0||y.removeChild(D)}catch{}}class E{constructor(y){this.renderers=y,this.cache=new Map,this.transactionNodesPendingRemoval=new Set,this.inTransaction=!1}alloc(y){let p=this.getTemplateCache(y).pop(),w=!1;if(p)w=this.transactionNodesPendingRemoval.has(p.domNode),w&&this.transactionNodesPendingRemoval.delete(p.domNode);else{const b=(0,f.$)(".monaco-list-row"),o=this.getRenderer(y).renderTemplate(b);p={domNode:b,templateId:y,templateData:o}}return{row:p,isReusingConnectedDomNode:w}}release(y){y&&this.releaseRow(y)}transact(y){if(this.inTransaction)throw new Error("Already in transaction");this.inTransaction=!0;try{y()}finally{for(const p of this.transactionNodesPendingRemoval)this.doRemoveNode(p);this.transactionNodesPendingRemoval.clear(),this.inTransaction=!1}}releaseRow(y){const{domNode:p,templateId:w}=y;p&&(this.inTransaction?this.transactionNodesPendingRemoval.add(p):this.doRemoveNode(p)),this.getTemplateCache(w).push(y)}doRemoveNode(y){y.classList.remove("scrolling"),k(y)}getTemplateCache(y){let p=this.cache.get(y);return p||(p=[],this.cache.set(y,p)),p}dispose(){this.cache.forEach((y,p)=>{for(const w of y)this.getRenderer(p).disposeTemplate(w.templateData),w.templateData=null}),this.cache.clear(),this.transactionNodesPendingRemoval.clear()}getRenderer(y){const p=this.renderers.get(y);if(!p)throw new Error(`No renderer found for ${y}`);return p}}e.RowCache=E}),define(ie[625],ne([1,0,6,15,2,448]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ProgressBar=void 0;const D="done",y="active",p="infinite",w="infinite-long-running",b="discrete";class C extends E.Disposable{constructor(s,i){super(),this.progressSignal=this._register(new E.MutableDisposable),this.workedVal=0,this.showDelayedScheduler=this._register(new k.RunOnceScheduler(()=>(0,f.show)(this.element),0)),this.longRunningScheduler=this._register(new k.RunOnceScheduler(()=>this.infiniteLongRunning(),C.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(s,i)}create(s,i){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),s.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.bit.style.backgroundColor=i?.progressBarBackground||"#0E70C0",this.element.appendChild(this.bit)}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(y,p,w,b),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel(),this.progressSignal.clear()}stop(){return this.doDone(!1)}doDone(s){return this.element.classList.add(D),this.element.classList.contains(p)?(this.bit.style.opacity="0",s?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",s?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(b,D,w),this.element.classList.add(y,p),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(w)}getContainer(){return this.element}}e.ProgressBar=C,C.LONG_RUNNING_INFINITE_THRESHOLD=1e4}),define(ie[167],ne([1,0,6,89,68,15,121,7,2,17,449]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Sash=e.OrthogonalEdge=void 0;const C=!1;var o;(function(h){h.North="north",h.South="south",h.East="east",h.West="west"})(o||(e.OrthogonalEdge=o={}));let s=4;const i=new p.Emitter;let t=300;const n=new p.Emitter;class c{constructor(l){this.el=l,this.disposables=new w.DisposableStore}get onPointerMove(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mousemove")).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter((0,f.getWindow)(this.el),"mouseup")).event}dispose(){this.disposables.dispose()}}Ie([y.memoize],c.prototype,"onPointerMove",null),Ie([y.memoize],c.prototype,"onPointerUp",null);class m{get onPointerMove(){return this.disposables.add(new k.DomEmitter(this.el,E.EventType.Change)).event}get onPointerUp(){return this.disposables.add(new k.DomEmitter(this.el,E.EventType.End)).event}constructor(l){this.el=l,this.disposables=new w.DisposableStore}dispose(){this.disposables.dispose()}}Ie([y.memoize],m.prototype,"onPointerMove",null),Ie([y.memoize],m.prototype,"onPointerUp",null);class u{get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}constructor(l){this.factory=l}dispose(){}}Ie([y.memoize],u.prototype,"onPointerMove",null),Ie([y.memoize],u.prototype,"onPointerUp",null);const r="pointer-events-disabled";class a extends w.Disposable{get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(l){this._state!==l&&(this.el.classList.toggle("disabled",l===0),this.el.classList.toggle("minimum",l===1),this.el.classList.toggle("maximum",l===2),this._state=l,this.onDidEnablementChange.fire(l))}set orthogonalStartSash(l){if(this._orthogonalStartSash!==l){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),l){const g=d=>{this.orthogonalStartDragHandleDisposables.clear(),d!==0&&(this._orthogonalStartDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseenter")).event(()=>a.onMouseEnter(l),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new k.DomEmitter(this._orthogonalStartDragHandle,"mouseleave")).event(()=>a.onMouseLeave(l),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(l.onDidEnablementChange.event(g,this)),g(l.state)}this._orthogonalStartSash=l}}set orthogonalEndSash(l){if(this._orthogonalEndSash!==l){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),l){const g=d=>{this.orthogonalEndDragHandleDisposables.clear(),d!==0&&(this._orthogonalEndDragHandle=(0,f.append)(this.el,(0,f.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,w.toDisposable)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseenter")).event(()=>a.onMouseEnter(l),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new k.DomEmitter(this._orthogonalEndDragHandle,"mouseleave")).event(()=>a.onMouseLeave(l),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(l.onDidEnablementChange.event(g,this)),g(l.state)}this._orthogonalEndSash=l}}constructor(l,g,d){super(),this.hoverDelay=t,this.hoverDelayer=this._register(new D.Delayer(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new p.Emitter),this._onDidStart=this._register(new p.Emitter),this._onDidChange=this._register(new p.Emitter),this._onDidReset=this._register(new p.Emitter),this._onDidEnd=this._register(new p.Emitter),this.orthogonalStartSashDisposables=this._register(new w.DisposableStore),this.orthogonalStartDragHandleDisposables=this._register(new w.DisposableStore),this.orthogonalEndSashDisposables=this._register(new w.DisposableStore),this.orthogonalEndDragHandleDisposables=this._register(new w.DisposableStore),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,f.append)(l,(0,f.$)(".monaco-sash")),d.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${d.orthogonalEdge}`),b.isMacintosh&&this.el.classList.add("mac");const v=this._register(new k.DomEmitter(this.el,"mousedown")).event;this._register(v(A=>this.onPointerStart(A,new c(l)),this));const _=this._register(new k.DomEmitter(this.el,"dblclick")).event;this._register(_(this.onPointerDoublePress,this));const S=this._register(new k.DomEmitter(this.el,"mouseenter")).event;this._register(S(()=>a.onMouseEnter(this)));const L=this._register(new k.DomEmitter(this.el,"mouseleave")).event;this._register(L(()=>a.onMouseLeave(this))),this._register(E.Gesture.addTarget(this.el));const I=this._register(new k.DomEmitter(this.el,E.EventType.Start)).event;this._register(I(A=>this.onPointerStart(A,new m(this.el)),this));const T=this._register(new k.DomEmitter(this.el,E.EventType.Tap)).event;let N;this._register(T(A=>{if(N){clearTimeout(N),N=void 0,this.onPointerDoublePress(A);return}clearTimeout(N),N=setTimeout(()=>N=void 0,250)},this)),typeof d.size=="number"?(this.size=d.size,d.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=s,this._register(i.event(A=>{this.size=A,this.layout()}))),this._register(n.event(A=>this.hoverDelay=A)),this.layoutProvider=g,this.orthogonalStartSash=d.orthogonalStartSash,this.orthogonalEndSash=d.orthogonalEndSash,this.orientation=d.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",C),this.layout()}onPointerStart(l,g){f.EventHelper.stop(l);let d=!1;if(!l.__orthogonalSashEvent){const R=this.getOrthogonalSash(l);R&&(d=!0,l.__orthogonalSashEvent=!0,R.onPointerStart(l,new u(g)))}if(this.linkedSash&&!l.__linkedSashEvent&&(l.__linkedSashEvent=!0,this.linkedSash.onPointerStart(l,new u(g))),!this.state)return;const v=this.el.ownerDocument.getElementsByTagName("iframe");for(const R of v)R.classList.add(r);const _=l.pageX,S=l.pageY,L=l.altKey,I={startX:_,currentX:_,startY:S,currentY:S,altKey:L};this.el.classList.add("active"),this._onDidStart.fire(I);const T=(0,f.createStyleSheet)(this.el),N=()=>{let R="";d?R="all-scroll":this.orientation===1?this.state===1?R="s-resize":this.state===2?R="n-resize":R=b.isMacintosh?"row-resize":"ns-resize":this.state===1?R="e-resize":this.state===2?R="w-resize":R=b.isMacintosh?"col-resize":"ew-resize",T.textContent=`* { cursor: ${R} !important; }`},A=new w.DisposableStore;N(),d||this.onDidEnablementChange.event(N,null,A);const O=R=>{f.EventHelper.stop(R,!1);const x={startX:_,currentX:R.pageX,startY:S,currentY:R.pageY,altKey:L};this._onDidChange.fire(x)},M=R=>{f.EventHelper.stop(R,!1),this.el.removeChild(T),this.el.classList.remove("active"),this._onDidEnd.fire(),A.dispose();for(const x of v)x.classList.remove(r)};g.onPointerMove(O,null,A),g.onPointerUp(M,null,A),A.add(g)}onPointerDoublePress(l){const g=this.getOrthogonalSash(l);g&&g._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(l,g=!1){l.el.classList.contains("active")?(l.hoverDelayer.cancel(),l.el.classList.add("hover")):l.hoverDelayer.trigger(()=>l.el.classList.add("hover"),l.hoverDelay).then(void 0,()=>{}),!g&&l.linkedSash&&a.onMouseEnter(l.linkedSash,!0)}static onMouseLeave(l,g=!1){l.hoverDelayer.cancel(),l.el.classList.remove("hover"),!g&&l.linkedSash&&a.onMouseLeave(l.linkedSash,!0)}clearSashHoverState(){a.onMouseLeave(this)}layout(){if(this.orientation===0){const l=this.layoutProvider;this.el.style.left=l.getVerticalSashLeft(this)-this.size/2+"px",l.getVerticalSashTop&&(this.el.style.top=l.getVerticalSashTop(this)+"px"),l.getVerticalSashHeight&&(this.el.style.height=l.getVerticalSashHeight(this)+"px")}else{const l=this.layoutProvider;this.el.style.top=l.getHorizontalSashTop(this)-this.size/2+"px",l.getHorizontalSashLeft&&(this.el.style.left=l.getHorizontalSashLeft(this)+"px"),l.getHorizontalSashWidth&&(this.el.style.width=l.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(l){var g;const d=(g=l.initialTarget)!==null&&g!==void 0?g:l.target;if(!(!d||!(d instanceof HTMLElement))&&d.classList.contains("orthogonal-drag-handle"))return d.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}e.Sash=a}),define(ie[248],ne([1,0,6,167,7,2]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableHTMLElement=void 0;class y{constructor(){this._onDidWillResize=new E.Emitter,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new E.Emitter,this.onDidResize=this._onDidResize.event,this._sashListener=new D.DisposableStore,this._size=new f.Dimension(0,0),this._minSize=new f.Dimension(0,0),this._maxSize=new f.Dimension(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new k.Sash(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:k.OrthogonalEdge.North}),this._southSash=new k.Sash(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:k.OrthogonalEdge.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let w,b=0,C=0;this._sashListener.add(E.Event.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{w===void 0&&(this._onDidWillResize.fire(),w=this._size,b=0,C=0)})),this._sashListener.add(E.Event.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{w!==void 0&&(w=void 0,b=0,C=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(o=>{w&&(C=o.currentX-o.startX,this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(o=>{w&&(C=-(o.currentX-o.startX),this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(o=>{w&&(b=-(o.currentY-o.startY),this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(o=>{w&&(b=o.currentY-o.startY,this.layout(w.height+b,w.width+C),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(E.Event.any(this._eastSash.onDidReset,this._westSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(E.Event.any(this._northSash.onDidReset,this._southSash.onDidReset)(o=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(w,b,C,o){this._northSash.state=w?3:0,this._eastSash.state=b?3:0,this._southSash.state=C?3:0,this._westSash.state=o?3:0}layout(w=this.size.height,b=this.size.width){const{height:C,width:o}=this._minSize,{height:s,width:i}=this._maxSize;w=Math.max(C,Math.min(s,w)),b=Math.max(o,Math.min(i,b));const t=new f.Dimension(b,w);f.Dimension.equals(t,this._size)||(this.domNode.style.height=w+"px",this.domNode.style.width=b+"px",this._size=t,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(w){this._maxSize=w}get maxSize(){return this._maxSize}set minSize(w){this._minSize=w}get minSize(){return this._minSize}set preferredSize(w){this._preferredSize=w}get preferredSize(){return this._preferredSize}}e.ResizableHTMLElement=y}),define(ie[626],ne([1,0,6,68,13,7,2,17]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxNative=void 0;class w extends y.Disposable{constructor(C,o,s,i){super(),this.selected=0,this.selectBoxOptions=i||Object.create(null),this.options=[],this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=this._register(new D.Emitter),this.styles=s,this.registerListeners(),this.setOptions(C,o)}registerListeners(){this._register(k.Gesture.addTarget(this.selectElement)),[k.EventType.Tap].forEach(C=>{this._register(f.addDisposableListener(this.selectElement,C,o=>{this.selectElement.focus()}))}),this._register(f.addStandardDisposableListener(this.selectElement,"click",C=>{f.EventHelper.stop(C,!0)})),this._register(f.addStandardDisposableListener(this.selectElement,"change",C=>{this.selectElement.title=C.target.value,this._onDidSelect.fire({index:C.target.selectedIndex,selected:C.target.value})})),this._register(f.addStandardDisposableListener(this.selectElement,"keydown",C=>{let o=!1;p.isMacintosh?(C.keyCode===18||C.keyCode===16||C.keyCode===10)&&(o=!0):(C.keyCode===18&&C.altKey||C.keyCode===10||C.keyCode===3)&&(o=!0),o&&C.stopPropagation()}))}get onDidSelect(){return this._onDidSelect.event}setOptions(C,o){(!this.options||!E.equals(this.options,C))&&(this.options=C,this.selectElement.options.length=0,this.options.forEach((s,i)=>{this.selectElement.add(this.createOption(s.text,i,s.isDisabled))})),o!==void 0&&this.select(o)}select(C){this.options.length===0?this.selected=0:C>=0&&C<this.options.length?this.selected=C:C>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.selected<this.options.length&&typeof this.options[this.selected].text=="string"?this.selectElement.title=this.options[this.selected].text:this.selectElement.title=""}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(C){this.selectElement.tabIndex=C?0:-1}render(C){C.classList.add("select-container"),C.appendChild(this.selectElement),this.setOptions(this.options,this.selected),this.applyStyles()}applyStyles(){var C,o,s;this.selectElement&&(this.selectElement.style.backgroundColor=(C=this.styles.selectBackground)!==null&&C!==void 0?C:"",this.selectElement.style.color=(o=this.styles.selectForeground)!==null&&o!==void 0?o:"",this.selectElement.style.borderColor=(s=this.styles.selectBorder)!==null&&s!==void 0?s:"")}createOption(C,o,s){const i=document.createElement("option");return i.value=C,i.text=C,i.disabled=!!s,i}}e.SelectBoxNative=w}),define(ie[80],ne([1,0,6,46,73,68,2]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Widget=void 0;class p extends y.Disposable{onclick(b,C){this._register(f.addDisposableListener(b,f.EventType.CLICK,o=>C(new E.StandardMouseEvent(f.getWindow(b),o))))}onmousedown(b,C){this._register(f.addDisposableListener(b,f.EventType.MOUSE_DOWN,o=>C(new E.StandardMouseEvent(f.getWindow(b),o))))}onmouseover(b,C){this._register(f.addDisposableListener(b,f.EventType.MOUSE_OVER,o=>C(new E.StandardMouseEvent(f.getWindow(b),o))))}onmouseleave(b,C){this._register(f.addDisposableListener(b,f.EventType.MOUSE_LEAVE,o=>C(new E.StandardMouseEvent(f.getWindow(b),o))))}onkeydown(b,C){this._register(f.addDisposableListener(b,f.EventType.KEY_DOWN,o=>C(new k.StandardKeyboardEvent(o))))}onkeyup(b,C){this._register(f.addDisposableListener(b,f.EventType.KEY_UP,o=>C(new k.StandardKeyboardEvent(o))))}oninput(b,C){this._register(f.addDisposableListener(b,f.EventType.INPUT,C))}onblur(b,C){this._register(f.addDisposableListener(b,f.EventType.BLUR,C))}onfocus(b,C){this._register(f.addDisposableListener(b,f.EventType.FOCUS,C))}ignoreGesture(b){return D.Gesture.ignoreTarget(b)}}e.Widget=p}),define(ie[249],ne([1,0,166,80,15,31,6]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ScrollbarArrow=e.ARROW_IMG_SIZE=void 0,e.ARROW_IMG_SIZE=11;class p extends k.Widget{constructor(b){super(),this._onActivate=b.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=b.bgWidth+"px",this.bgDomNode.style.height=b.bgHeight+"px",typeof b.top<"u"&&(this.bgDomNode.style.top="0px"),typeof b.left<"u"&&(this.bgDomNode.style.left="0px"),typeof b.bottom<"u"&&(this.bgDomNode.style.bottom="0px"),typeof b.right<"u"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=b.className,this.domNode.classList.add(...D.ThemeIcon.asClassNameArray(b.icon)),this.domNode.style.position="absolute",this.domNode.style.width=e.ARROW_IMG_SIZE+"px",this.domNode.style.height=e.ARROW_IMG_SIZE+"px",typeof b.top<"u"&&(this.domNode.style.top=b.top+"px"),typeof b.left<"u"&&(this.domNode.style.left=b.left+"px"),typeof b.bottom<"u"&&(this.domNode.style.bottom=b.bottom+"px"),typeof b.right<"u"&&(this.domNode.style.right=b.right+"px"),this._pointerMoveMonitor=this._register(new f.GlobalPointerMoveMonitor),this._register(y.addStandardDisposableListener(this.bgDomNode,y.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._register(y.addStandardDisposableListener(this.domNode,y.EventType.POINTER_DOWN,C=>this._arrowPointerDown(C))),this._pointerdownRepeatTimer=this._register(new y.WindowIntervalTimer),this._pointerdownScheduleRepeatTimer=this._register(new E.TimeoutTimer)}_arrowPointerDown(b){if(!b.target||!(b.target instanceof Element))return;const C=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24,y.getWindow(b))};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(C,200),this._pointerMoveMonitor.startMonitoring(b.target,b.pointerId,b.buttons,o=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),b.preventDefault()}}e.ScrollbarArrow=p}),define(ie[343],ne([1,0,6,40,166,249,618,80,17]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractScrollbar=void 0;const b=140;class C extends p.Widget{constructor(s){super(),this._lazyRender=s.lazyRender,this._host=s.host,this._scrollable=s.scrollable,this._scrollByPage=s.scrollByPage,this._scrollbarState=s.scrollbarState,this._visibilityController=this._register(new y.ScrollbarVisibilityController(s.visibility,"visible scrollbar "+s.extraScrollbarClassName,"invisible scrollbar "+s.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new E.GlobalPointerMoveMonitor),this._shouldRender=!0,this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(f.addDisposableListener(this.domNode.domNode,f.EventType.POINTER_DOWN,i=>this._domNodePointerDown(i)))}_createArrow(s){const i=this._register(new D.ScrollbarArrow(s));this.domNode.domNode.appendChild(i.bgDomNode),this.domNode.domNode.appendChild(i.domNode)}_createSlider(s,i,t,n){this.slider=(0,k.createFastDomNode)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(s),this.slider.setLeft(i),typeof t=="number"&&this.slider.setWidth(t),typeof n=="number"&&this.slider.setHeight(n),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(f.addDisposableListener(this.slider.domNode,f.EventType.POINTER_DOWN,c=>{c.button===0&&(c.preventDefault(),this._sliderPointerDown(c))})),this.onclick(this.slider.domNode,c=>{c.leftButton&&c.stopPropagation()})}_onElementSize(s){return this._scrollbarState.setVisibleSize(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(s){return this._scrollbarState.setScrollSize(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(s){return this._scrollbarState.setScrollPosition(s)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){this._shouldRender&&(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(s){s.target===this.domNode.domNode&&this._onPointerDown(s)}delegatePointerDown(s){const i=this.domNode.domNode.getClientRects()[0].top,t=i+this._scrollbarState.getSliderPosition(),n=i+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),c=this._sliderPointerPosition(s);t<=c&&c<=n?s.button===0&&(s.preventDefault(),this._sliderPointerDown(s)):this._onPointerDown(s)}_onPointerDown(s){let i,t;if(s.target===this.domNode.domNode&&typeof s.offsetX=="number"&&typeof s.offsetY=="number")i=s.offsetX,t=s.offsetY;else{const c=f.getDomNodePagePosition(this.domNode.domNode);i=s.pageX-c.left,t=s.pageY-c.top}const n=this._pointerDownRelativePosition(i,t);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(n):this._scrollbarState.getDesiredScrollPositionFromOffset(n)),s.button===0&&(s.preventDefault(),this._sliderPointerDown(s))}_sliderPointerDown(s){if(!s.target||!(s.target instanceof Element))return;const i=this._sliderPointerPosition(s),t=this._sliderOrthogonalPointerPosition(s),n=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(s.target,s.pointerId,s.buttons,c=>{const m=this._sliderOrthogonalPointerPosition(c),u=Math.abs(m-t);if(w.isWindows&&u>b){this._setDesiredScrollPositionNow(n.getScrollPosition());return}const a=this._sliderPointerPosition(c)-i;this._setDesiredScrollPositionNow(n.getDesiredScrollPositionFromDelta(a))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(s){const i={};this.writeScrollPosition(i,s),this._scrollable.setScrollPositionNow(i)}updateScrollbarSize(s){this._updateScrollbarSize(s),this._scrollbarState.setScrollbarSize(s),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}e.AbstractScrollbar=C}),define(ie[627],ne([1,0,73,343,249,216,26]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HorizontalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(b,C,o){const s=b.getScrollDimensions(),i=b.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:o,scrollbarState:new D.ScrollbarState(C.horizontalHasArrows?C.arrowSize:0,C.horizontal===2?0:C.horizontalScrollbarSize,C.vertical===2?0:C.verticalScrollbarSize,s.width,s.scrollWidth,i.scrollLeft),visibility:C.horizontal,extraScrollbarClassName:"horizontal",scrollable:b,scrollByPage:C.scrollByPage}),C.horizontalHasArrows){const t=(C.arrowSize-E.ARROW_IMG_SIZE)/2,n=(C.horizontalScrollbarSize-E.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonLeft,top:n,left:t,bottom:void 0,right:void 0,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,1,0))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonRight,top:n,left:void 0,bottom:void 0,right:t,bgWidth:C.arrowSize,bgHeight:C.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,-1,0))})}this._createSlider(Math.floor((C.horizontalScrollbarSize-C.horizontalSliderSize)/2),0,void 0,C.horizontalSliderSize)}_updateSlider(b,C){this.slider.setWidth(b),this.slider.setLeft(C)}_renderDomNode(b,C){this.domNode.setWidth(b),this.domNode.setHeight(C),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(b.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(b,C){return b}_sliderPointerPosition(b){return b.pageX}_sliderOrthogonalPointerPosition(b){return b.pageY}_updateScrollbarSize(b){this.slider.setHeight(b)}writeScrollPosition(b,C){b.scrollLeft=C}updateOptions(b){this.updateScrollbarSize(b.horizontal===2?0:b.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._visibilityController.setVisibility(b.horizontal),this._scrollByPage=b.scrollByPage}}e.HorizontalScrollbar=p}),define(ie[628],ne([1,0,73,343,249,216,26]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VerticalScrollbar=void 0;class p extends k.AbstractScrollbar{constructor(b,C,o){const s=b.getScrollDimensions(),i=b.getCurrentScrollPosition();if(super({lazyRender:C.lazyRender,host:o,scrollbarState:new D.ScrollbarState(C.verticalHasArrows?C.arrowSize:0,C.vertical===2?0:C.verticalScrollbarSize,0,s.height,s.scrollHeight,i.scrollTop),visibility:C.vertical,extraScrollbarClassName:"vertical",scrollable:b,scrollByPage:C.scrollByPage}),C.verticalHasArrows){const t=(C.arrowSize-E.ARROW_IMG_SIZE)/2,n=(C.verticalScrollbarSize-E.ARROW_IMG_SIZE)/2;this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonUp,top:t,left:n,bottom:void 0,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,1))}),this._createArrow({className:"scra",icon:y.Codicon.scrollbarButtonDown,top:void 0,left:n,bottom:t,right:void 0,bgWidth:C.verticalScrollbarSize,bgHeight:C.arrowSize,onActivate:()=>this._host.onMouseWheel(new f.StandardWheelEvent(null,0,-1))})}this._createSlider(0,Math.floor((C.verticalScrollbarSize-C.verticalSliderSize)/2),C.verticalSliderSize,void 0)}_updateSlider(b,C){this.slider.setHeight(b),this.slider.setTop(C)}_renderDomNode(b,C){this.domNode.setWidth(C),this.domNode.setHeight(b),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(b){return this._shouldRender=this._onElementScrollSize(b.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(b.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(b.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(b,C){return C}_sliderPointerPosition(b){return b.pageY}_sliderOrthogonalPointerPosition(b){return b.pageX}_updateScrollbarSize(b){this.slider.setWidth(b)}writeScrollPosition(b,C){b.scrollTop=C}updateOptions(b){this.updateScrollbarSize(b.vertical===2?0:b.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(b.vertical),this._scrollByPage=b.scrollByPage}}e.VerticalScrollbar=p}),define(ie[81],ne([1,0,63,6,40,73,627,628,80,15,7,2,17,158,450]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DomScrollableElement=e.SmoothScrollableElement=e.ScrollableElement=e.AbstractScrollableElement=e.MouseWheelClassifier=void 0;const t=500,n=50,c=!0;class m{constructor(v,_,S){this.timestamp=v,this.deltaX=_,this.deltaY=S,this.score=0}}class u{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let v=1,_=0,S=1,L=this._rear;do{const I=L===this._front?v:Math.pow(2,-S);if(v-=I,_+=this._memory[L].score*I,L===this._front)break;L=(this._capacity+L-1)%this._capacity,S++}while(!0);return _<=.5}acceptStandardWheelEvent(v){if(f.isChrome){const _=k.getWindow(v.browserEvent),S=(0,f.getZoomFactor)(_);this.accept(Date.now(),v.deltaX*S,v.deltaY*S)}else this.accept(Date.now(),v.deltaX,v.deltaY)}accept(v,_,S){let L=null;const I=new m(v,_,S);this._front===-1&&this._rear===-1?(this._memory[0]=I,this._front=0,this._rear=0):(L=this._memory[this._rear],this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=I),I.score=this._computeScore(I,L)}_computeScore(v,_){if(Math.abs(v.deltaX)>0&&Math.abs(v.deltaY)>0)return 1;let S=.5;if((!this._isAlmostInt(v.deltaX)||!this._isAlmostInt(v.deltaY))&&(S+=.25),_){const L=Math.abs(v.deltaX),I=Math.abs(v.deltaY),T=Math.abs(_.deltaX),N=Math.abs(_.deltaY),A=Math.max(Math.min(L,T),1),O=Math.max(Math.min(I,N),1),M=Math.max(L,T),R=Math.max(I,N);M%A===0&&R%O===0&&(S-=.5)}return Math.min(Math.max(S,0),1)}_isAlmostInt(v){return Math.abs(Math.round(v)-v)<.01}}e.MouseWheelClassifier=u,u.INSTANCE=new u;class r extends w.Widget{get options(){return this._options}constructor(v,_,S){super(),this._onScroll=this._register(new C.Emitter),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new C.Emitter),v.style.overflow="hidden",this._options=g(_),this._scrollable=S,this._register(this._scrollable.onScroll(I=>{this._onWillScroll.fire(I),this._onDidScroll(I),this._onScroll.fire(I)}));const L={onMouseWheel:I=>this._onMouseWheel(I),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new p.VerticalScrollbar(this._scrollable,this._options,L)),this._horizontalScrollbar=this._register(new y.HorizontalScrollbar(this._scrollable,this._options,L)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(v),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,E.createFastDomNode)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,I=>this._onMouseOver(I)),this.onmouseleave(this._listenOnDomNode,I=>this._onMouseLeave(I)),this._hideTimeout=this._register(new b.TimeoutTimer),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}dispose(){this._mouseWheelToDispose=(0,o.dispose)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(v){this._verticalScrollbar.delegatePointerDown(v)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(v){this._scrollable.setScrollDimensions(v,!1)}updateClassName(v){this._options.className=v,s.isMacintosh&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(v){typeof v.handleMouseWheel<"u"&&(this._options.handleMouseWheel=v.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof v.mouseWheelScrollSensitivity<"u"&&(this._options.mouseWheelScrollSensitivity=v.mouseWheelScrollSensitivity),typeof v.fastScrollSensitivity<"u"&&(this._options.fastScrollSensitivity=v.fastScrollSensitivity),typeof v.scrollPredominantAxis<"u"&&(this._options.scrollPredominantAxis=v.scrollPredominantAxis),typeof v.horizontal<"u"&&(this._options.horizontal=v.horizontal),typeof v.vertical<"u"&&(this._options.vertical=v.vertical),typeof v.horizontalScrollbarSize<"u"&&(this._options.horizontalScrollbarSize=v.horizontalScrollbarSize),typeof v.verticalScrollbarSize<"u"&&(this._options.verticalScrollbarSize=v.verticalScrollbarSize),typeof v.scrollByPage<"u"&&(this._options.scrollByPage=v.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}delegateScrollFromMouseWheelEvent(v){this._onMouseWheel(new D.StandardWheelEvent(v))}_setListeningToMouseWheel(v){if(this._mouseWheelToDispose.length>0!==v&&(this._mouseWheelToDispose=(0,o.dispose)(this._mouseWheelToDispose),v)){const S=L=>{this._onMouseWheel(new D.StandardWheelEvent(L))};this._mouseWheelToDispose.push(k.addDisposableListener(this._listenOnDomNode,k.EventType.MOUSE_WHEEL,S,{passive:!1}))}}_onMouseWheel(v){var _;if(!((_=v.browserEvent)===null||_===void 0)&&_.defaultPrevented)return;const S=u.INSTANCE;c&&S.acceptStandardWheelEvent(v);let L=!1;if(v.deltaY||v.deltaX){let T=v.deltaY*this._options.mouseWheelScrollSensitivity,N=v.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(this._options.scrollYToX&&N+T===0?N=T=0:Math.abs(T)>=Math.abs(N)?N=0:T=0),this._options.flipAxes&&([T,N]=[N,T]);const A=!s.isMacintosh&&v.browserEvent&&v.browserEvent.shiftKey;(this._options.scrollYToX||A)&&!N&&(N=T,T=0),v.browserEvent&&v.browserEvent.altKey&&(N=N*this._options.fastScrollSensitivity,T=T*this._options.fastScrollSensitivity);const O=this._scrollable.getFutureScrollPosition();let M={};if(T){const R=n*T,x=O.scrollTop-(R<0?Math.floor(R):Math.ceil(R));this._verticalScrollbar.writeScrollPosition(M,x)}if(N){const R=n*N,x=O.scrollLeft-(R<0?Math.floor(R):Math.ceil(R));this._horizontalScrollbar.writeScrollPosition(M,x)}M=this._scrollable.validateScrollPosition(M),(O.scrollLeft!==M.scrollLeft||O.scrollTop!==M.scrollTop)&&(c&&this._options.mouseWheelSmoothScroll&&S.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(M):this._scrollable.setScrollPositionNow(M),L=!0)}let I=L;!I&&this._options.alwaysConsumeMouseWheel&&(I=!0),!I&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(I=!0),I&&(v.preventDefault(),v.stopPropagation())}_onDidScroll(v){this._shouldRender=this._horizontalScrollbar.onDidScroll(v)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(v)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const v=this._scrollable.getCurrentScrollPosition(),_=v.scrollTop>0,S=v.scrollLeft>0,L=S?" left":"",I=_?" top":"",T=S||_?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${L}`),this._topShadowDomNode.setClassName(`shadow${I}`),this._topLeftShadowDomNode.setClassName(`shadow${T}${I}${L}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(v){this._mouseIsOver=!1,this._hide()}_onMouseOver(v){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),t)}}e.AbstractScrollableElement=r;class a extends r{constructor(v,_){_=_||{},_.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:L=>k.scheduleAtNextAnimationFrame(k.getWindow(v),L)});super(v,_,S),this._register(S)}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}}e.ScrollableElement=a;class h extends r{constructor(v,_,S){super(v,_,S)}setScrollPosition(v){v.reuseAnimation?this._scrollable.setScrollPositionSmooth(v,v.reuseAnimation):this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}e.SmoothScrollableElement=h;class l extends r{constructor(v,_){_=_||{},_.mouseWheelSmoothScroll=!1;const S=new i.Scrollable({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:L=>k.scheduleAtNextAnimationFrame(k.getWindow(v),L)});super(v,_,S),this._register(S),this._element=v,this._register(this.onScroll(L=>{L.scrollTopChanged&&(this._element.scrollTop=L.scrollTop),L.scrollLeftChanged&&(this._element.scrollLeft=L.scrollLeft)})),this.scanDomNode()}setScrollPosition(v){this._scrollable.setScrollPositionNow(v)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}e.DomScrollableElement=l;function g(d){const v={lazyRender:typeof d.lazyRender<"u"?d.lazyRender:!1,className:typeof d.className<"u"?d.className:"",useShadows:typeof d.useShadows<"u"?d.useShadows:!0,handleMouseWheel:typeof d.handleMouseWheel<"u"?d.handleMouseWheel:!0,flipAxes:typeof d.flipAxes<"u"?d.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof d.consumeMouseWheelIfScrollbarIsNeeded<"u"?d.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof d.alwaysConsumeMouseWheel<"u"?d.alwaysConsumeMouseWheel:!1,scrollYToX:typeof d.scrollYToX<"u"?d.scrollYToX:!1,mouseWheelScrollSensitivity:typeof d.mouseWheelScrollSensitivity<"u"?d.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof d.fastScrollSensitivity<"u"?d.fastScrollSensitivity:5,scrollPredominantAxis:typeof d.scrollPredominantAxis<"u"?d.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof d.mouseWheelSmoothScroll<"u"?d.mouseWheelSmoothScroll:!0,arrowSize:typeof d.arrowSize<"u"?d.arrowSize:11,listenOnDomNode:typeof d.listenOnDomNode<"u"?d.listenOnDomNode:null,horizontal:typeof d.horizontal<"u"?d.horizontal:1,horizontalScrollbarSize:typeof d.horizontalScrollbarSize<"u"?d.horizontalScrollbarSize:10,horizontalSliderSize:typeof d.horizontalSliderSize<"u"?d.horizontalSliderSize:0,horizontalHasArrows:typeof d.horizontalHasArrows<"u"?d.horizontalHasArrows:!1,vertical:typeof d.vertical<"u"?d.vertical:1,verticalScrollbarSize:typeof d.verticalScrollbarSize<"u"?d.verticalScrollbarSize:10,verticalHasArrows:typeof d.verticalHasArrows<"u"?d.verticalHasArrows:!1,verticalSliderSize:typeof d.verticalSliderSize<"u"?d.verticalSliderSize:0,scrollByPage:typeof d.scrollByPage<"u"?d.scrollByPage:!1};return v.horizontalSliderSize=typeof d.horizontalSliderSize<"u"?d.horizontalSliderSize:v.horizontalScrollbarSize,v.verticalSliderSize=typeof d.verticalSliderSize<"u"?d.verticalSliderSize:v.verticalScrollbarSize,s.isMacintosh&&(v.className+=" mac"),v}}),define(ie[168],ne([1,0,6,46,81,2,606,443]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyDownAction=e.ClickAction=e.HoverAction=e.HoverWidget=void 0,e.getHoverAccessibleViewHint=C;const p=f.$;class w extends D.Disposable{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new E.DomScrollableElement(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}e.HoverWidget=w;class b extends D.Disposable{static render(t,n,c){return new b(t,n,c)}constructor(t,n,c){super(),this.actionContainer=f.append(t,p("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=f.append(this.actionContainer,p("a.action")),this.action.setAttribute("role","button"),n.iconClass&&f.append(this.action,p(`span.icon.${n.iconClass}`));const m=f.append(this.action,p("span"));m.textContent=c?`${n.label} (${c})`:n.label,this._store.add(new o(this.actionContainer,n.run)),this._store.add(new s(this.actionContainer,n.run,[3,10])),this.setEnabled(!0)}setEnabled(t){t?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}e.HoverAction=b;function C(i,t){return i&&t?(0,y.localize)(0,null,t):i?(0,y.localize)(1,null):""}class o extends D.Disposable{constructor(t,n){super(),this._register(f.addDisposableListener(t,f.EventType.CLICK,c=>{c.stopPropagation(),c.preventDefault(),n(t)}))}}e.ClickAction=o;class s extends D.Disposable{constructor(t,n,c){super(),this._register(f.addDisposableListener(t,f.EventType.KEY_DOWN,m=>{const u=new k.StandardKeyboardEvent(m);c.some(r=>u.equals(r))&&(m.stopPropagation(),m.preventDefault(),n(t))}))}}e.KeyDownAction=s}),define(ie[250],ne([1,0,217,6,89,68,81,13,15,121,7,2,184,158,433,624,10,136]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ListView=e.NativeDragAndDropData=e.ExternalElementsDragAndDropData=e.ElementsDragAndDropData=void 0;const u={CurrentDragAndDropData:void 0},r={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(_){return[_]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class a{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ElementsDragAndDropData=a;class h{constructor(S){this.elements=S}update(){}getData(){return this.elements}}e.ExternalElementsDragAndDropData=h;class l{constructor(){this.types=[],this.files=[]}update(S){if(S.types&&this.types.splice(0,this.types.length,...S.types),S.files){this.files.splice(0,this.files.length);for(let L=0;L<S.files.length;L++){const I=S.files.item(L);I&&(I.size||I.type)&&this.files.push(I)}}}getData(){return{types:this.types,files:this.files}}}e.NativeDragAndDropData=l;function g(_,S){return Array.isArray(_)&&Array.isArray(S)?(0,p.equals)(_,S):_===S}class d{constructor(S){S?.getSetSize?this.getSetSize=S.getSetSize.bind(S):this.getSetSize=(L,I,T)=>T,S?.getPosInSet?this.getPosInSet=S.getPosInSet.bind(S):this.getPosInSet=(L,I)=>I+1,S?.getRole?this.getRole=S.getRole.bind(S):this.getRole=L=>"listitem",S?.isChecked?this.isChecked=S.isChecked.bind(S):this.isChecked=L=>{}}}class v{get contentHeight(){return this.rangeMap.size}get onDidScroll(){return this.scrollableElement.onScroll}get scrollableElementDomNode(){return this.scrollableElement.getDomNode()}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(S){if(S!==this._horizontalScrolling){if(S&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=S,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const L of this.items)this.measureItemWidth(L);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,k.getContentWidth)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}constructor(S,L,I,T=r){var N,A,O,M,R,x,F,W,H,z,j,K,U;if(this.virtualDelegate=L,this.domId=`list_id_${++v.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new w.Delayer(50),this.splicing=!1,this.dragOverAnimationStopDisposable=o.Disposable.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=o.Disposable.None,this.onDragLeaveTimeout=o.Disposable.None,this.disposables=new o.DisposableStore,this._onDidChangeContentHeight=new C.Emitter,this._onDidChangeContentWidth=new C.Emitter,this.onDidChangeContentHeight=C.Event.latch(this._onDidChangeContentHeight.event,void 0,this.disposables),this._horizontalScrolling=!1,T.horizontalScrolling&&T.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=this.createRangeMap((N=T.paddingTop)!==null&&N!==void 0?N:0);for(const te of I)this.renderers.set(te.templateId,te);this.cache=this.disposables.add(new n.RowCache(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof T.mouseSupport=="boolean"?T.mouseSupport:!0),this._horizontalScrolling=(A=T.horizontalScrolling)!==null&&A!==void 0?A:r.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.paddingBottom=typeof T.paddingBottom>"u"?0:T.paddingBottom,this.accessibilityProvider=new d(T.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((O=T.transformOptimization)!==null&&O!==void 0?O:r.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)",this.rowsContainer.style.overflow="hidden",this.rowsContainer.style.contain="strict"),this.disposables.add(D.Gesture.addTarget(this.rowsContainer)),this.scrollable=this.disposables.add(new i.Scrollable({forceIntegerValues:!0,smoothScrollDuration:(M=T.smoothScrolling)!==null&&M!==void 0&&M?125:0,scheduleAtNextAnimationFrame:te=>(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),te)})),this.scrollableElement=this.disposables.add(new y.SmoothScrollableElement(this.rowsContainer,{alwaysConsumeMouseWheel:(R=T.alwaysConsumeMouseWheel)!==null&&R!==void 0?R:r.alwaysConsumeMouseWheel,horizontal:1,vertical:(x=T.verticalScrollMode)!==null&&x!==void 0?x:r.verticalScrollMode,useShadows:(F=T.useShadows)!==null&&F!==void 0?F:r.useShadows,mouseWheelScrollSensitivity:T.mouseWheelScrollSensitivity,fastScrollSensitivity:T.fastScrollSensitivity,scrollByPage:T.scrollByPage},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),S.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,k.addDisposableListener)(this.rowsContainer,D.EventType.Change,te=>this.onTouchChange(te))),this.disposables.add((0,k.addDisposableListener)(this.scrollableElement.getDomNode(),"scroll",te=>te.target.scrollTop=0)),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragover",te=>this.onDragOver(this.toDragEvent(te)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"drop",te=>this.onDrop(this.toDragEvent(te)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragleave",te=>this.onDragLeave(this.toDragEvent(te)))),this.disposables.add((0,k.addDisposableListener)(this.domNode,"dragend",te=>this.onDragEnd(te))),this.setRowLineHeight=(W=T.setRowLineHeight)!==null&&W!==void 0?W:r.setRowLineHeight,this.setRowHeight=(H=T.setRowHeight)!==null&&H!==void 0?H:r.setRowHeight,this.supportDynamicHeights=(z=T.supportDynamicHeights)!==null&&z!==void 0?z:r.supportDynamicHeights,this.dnd=(j=T.dnd)!==null&&j!==void 0?j:this.disposables.add(r.dnd),this.layout((K=T.initialSize)===null||K===void 0?void 0:K.height,(U=T.initialSize)===null||U===void 0?void 0:U.width)}updateOptions(S){S.paddingBottom!==void 0&&(this.paddingBottom=S.paddingBottom,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),S.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(S.smoothScrolling?125:0),S.horizontalScrolling!==void 0&&(this.horizontalScrolling=S.horizontalScrolling);let L;if(S.scrollByPage!==void 0&&(L={...L??{},scrollByPage:S.scrollByPage}),S.mouseWheelScrollSensitivity!==void 0&&(L={...L??{},mouseWheelScrollSensitivity:S.mouseWheelScrollSensitivity}),S.fastScrollSensitivity!==void 0&&(L={...L??{},fastScrollSensitivity:S.fastScrollSensitivity}),L&&this.scrollableElement.updateOptions(L),S.paddingTop!==void 0&&S.paddingTop!==this.rangeMap.paddingTop){const I=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),T=S.paddingTop-this.rangeMap.paddingTop;this.rangeMap.paddingTop=S.paddingTop,this.render(I,Math.max(0,this.lastRenderTop+T),this.lastRenderHeight,void 0,void 0,!0),this.setScrollTop(this.lastRenderTop),this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.lastRenderTop,this.lastRenderHeight)}}createRangeMap(S){return new t.RangeMap(S)}splice(S,L,I=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(S,L,I)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(S,L,I=[]){const T=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),N={start:S,end:S+L},A=s.Range.intersect(T,N),O=new Map;for(let Y=A.end-1;Y>=A.start;Y--){const P=this.items[Y];if(P.dragStartDisposable.dispose(),P.checkedDisposable.dispose(),P.row){let Z=O.get(P.templateId);Z||(Z=[],O.set(P.templateId,Z));const re=this.renderers.get(P.templateId);re&&re.disposeElement&&re.disposeElement(P.element,Y,P.row.templateData,P.size),Z.unshift(P.row)}P.row=null,P.stale=!0}const M={start:S+L,end:this.items.length},R=s.Range.intersect(M,T),x=s.Range.relativeComplement(M,T),F=I.map(Y=>({id:String(this.itemId++),element:Y,templateId:this.virtualDelegate.getTemplateId(Y),size:this.virtualDelegate.getHeight(Y),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Y),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:o.Disposable.None,checkedDisposable:o.Disposable.None,stale:!1}));let W;S===0&&L>=this.items.length?(this.rangeMap=this.createRangeMap(this.rangeMap.paddingTop),this.rangeMap.splice(0,0,F),W=this.items,this.items=F):(this.rangeMap.splice(S,L,F),W=this.items.splice(S,L,...F));const H=I.length-L,z=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),j=(0,t.shift)(R,H),K=s.Range.intersect(z,j);for(let Y=K.start;Y<K.end;Y++)this.updateItemInDOM(this.items[Y],Y);const U=s.Range.relativeComplement(j,z);for(const Y of U)for(let P=Y.start;P<Y.end;P++)this.removeItemFromDOM(P);const G=x.map(Y=>(0,t.shift)(Y,H)),ee=[{start:S,end:S+I.length},...G].map(Y=>s.Range.intersect(z,Y)).reverse();for(const Y of ee)for(let P=Y.end-1;P>=Y.start;P--){const Z=this.items[P],re=O.get(Z.templateId),ce=re?.pop();this.insertItemInDOM(P,ce)}for(const Y of O.values())for(const P of Y)this.cache.release(P);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),W.map(Y=>Y.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,k.scheduleAtNextAnimationFrame)((0,k.getWindow)(this.domNode),()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let S=0;for(const L of this.items)typeof L.width<"u"&&(S=Math.max(S,L.width));this.scrollWidth=S,this.scrollableElement.setScrollDimensions({scrollWidth:S===0?0:S+10}),this._onDidChangeContentWidth.fire(this.scrollWidth)}rerender(){if(this.supportDynamicHeights){for(const S of this.items)S.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}get firstVisibleIndex(){return this.getRenderRange(this.lastRenderTop,this.lastRenderHeight).start}element(S){return this.items[S].element}indexOf(S){return this.items.findIndex(L=>L.element===S)}domElement(S){const L=this.items[S].row;return L&&L.domNode}elementHeight(S){return this.items[S].size}elementTop(S){return this.rangeMap.positionAt(S)}indexAt(S){return this.rangeMap.indexAt(S)}indexAfter(S){return this.rangeMap.indexAfter(S)}layout(S,L){const I={height:typeof S=="number"?S:(0,k.getContentHeight)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,I.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(I),typeof L<"u"&&(this.renderWidth=L,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof L=="number"?L:(0,k.getContentWidth)(this.domNode)})}render(S,L,I,T,N,A=!1){const O=this.getRenderRange(L,I),M=s.Range.relativeComplement(O,S).reverse(),R=s.Range.relativeComplement(S,O);if(A){const x=s.Range.intersect(S,O);for(let F=x.start;F<x.end;F++)this.updateItemInDOM(this.items[F],F)}this.cache.transact(()=>{for(const x of R)for(let F=x.start;F<x.end;F++)this.removeItemFromDOM(F);for(const x of M)for(let F=x.end-1;F>=x.start;F--)this.insertItemInDOM(F)}),T!==void 0&&(this.rowsContainer.style.left=`-${T}px`),this.rowsContainer.style.top=`-${L}px`,this.horizontalScrolling&&N!==void 0&&(this.rowsContainer.style.width=`${Math.max(N,this.renderWidth)}px`),this.lastRenderTop=L,this.lastRenderHeight=I}insertItemInDOM(S,L){var I,T,N;const A=this.items[S];if(!A.row)if(L)A.row=L,A.stale=!0;else{const F=this.cache.alloc(A.templateId);A.row=F.row,A.stale||(A.stale=F.isReusingConnectedDomNode)}const O=this.accessibilityProvider.getRole(A.element)||"listitem";A.row.domNode.setAttribute("role",O);const M=this.accessibilityProvider.isChecked(A.element);if(typeof M=="boolean")A.row.domNode.setAttribute("aria-checked",String(!!M));else if(M){const F=W=>A.row.domNode.setAttribute("aria-checked",String(!!W));F(M.value),A.checkedDisposable=M.onDidChange(()=>F(M.value))}if(A.stale||!A.row.domNode.parentElement){const F=(N=(T=(I=this.items.at(S+1))===null||I===void 0?void 0:I.row)===null||T===void 0?void 0:T.domNode)!==null&&N!==void 0?N:null;(A.row.domNode.parentElement!==this.rowsContainer||A.row.domNode.nextElementSibling!==F)&&this.rowsContainer.insertBefore(A.row.domNode,F),A.stale=!1}this.updateItemInDOM(A,S);const R=this.renderers.get(A.templateId);if(!R)throw new Error(`No renderer found for template id ${A.templateId}`);R?.renderElement(A.element,S,A.row.templateData,A.size);const x=this.dnd.getDragURI(A.element);A.dragStartDisposable.dispose(),A.row.domNode.draggable=!!x,x&&(A.dragStartDisposable=(0,k.addDisposableListener)(A.row.domNode,"dragstart",F=>this.onDragStart(A.element,x,F))),this.horizontalScrolling&&(this.measureItemWidth(A),this.eventuallyUpdateScrollWidth())}measureItemWidth(S){if(!S.row||!S.row.domNode)return;S.row.domNode.style.width="fit-content",S.width=(0,k.getContentWidth)(S.row.domNode);const L=(0,k.getWindow)(S.row.domNode).getComputedStyle(S.row.domNode);L.paddingLeft&&(S.width+=parseFloat(L.paddingLeft)),L.paddingRight&&(S.width+=parseFloat(L.paddingRight)),S.row.domNode.style.width=""}updateItemInDOM(S,L){S.row.domNode.style.top=`${this.elementTop(L)}px`,this.setRowHeight&&(S.row.domNode.style.height=`${S.size}px`),this.setRowLineHeight&&(S.row.domNode.style.lineHeight=`${S.size}px`),S.row.domNode.setAttribute("data-index",`${L}`),S.row.domNode.setAttribute("data-last-element",L===this.length-1?"true":"false"),S.row.domNode.setAttribute("data-parity",L%2===0?"even":"odd"),S.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(S.element,L,this.length))),S.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(S.element,L))),S.row.domNode.setAttribute("id",this.getElementDomId(L)),S.row.domNode.classList.toggle("drop-target",S.dropTarget)}removeItemFromDOM(S){const L=this.items[S];if(L.dragStartDisposable.dispose(),L.checkedDisposable.dispose(),L.row){const I=this.renderers.get(L.templateId);I&&I.disposeElement&&I.disposeElement(L.element,S,L.row.templateData,L.size),this.cache.release(L.row),L.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(S,L){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:S,reuseAnimation:L})}get scrollTop(){return this.getScrollTop()}set scrollTop(S){this.setScrollTop(S)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.paddingBottom}get onMouseClick(){return C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"click")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseDblClick(){return C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"dblclick")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseMiddleClick(){return C.Event.filter(C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"auxclick")).event,S=>this.toMouseEvent(S),this.disposables),S=>S.browserEvent.button===1,this.disposables)}get onMouseDown(){return C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mousedown")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOver(){return C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseover")).event,S=>this.toMouseEvent(S),this.disposables)}get onMouseOut(){return C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"mouseout")).event,S=>this.toMouseEvent(S),this.disposables)}get onContextMenu(){return C.Event.any(C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"contextmenu")).event,S=>this.toMouseEvent(S),this.disposables),C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,D.EventType.Contextmenu)).event,S=>this.toGestureEvent(S),this.disposables))}get onTouchStart(){return C.Event.map(this.disposables.add(new E.DomEmitter(this.domNode,"touchstart")).event,S=>this.toTouchEvent(S),this.disposables)}get onTap(){return C.Event.map(this.disposables.add(new E.DomEmitter(this.rowsContainer,D.EventType.Tap)).event,S=>this.toGestureEvent(S),this.disposables)}toMouseEvent(S){const L=this.getItemIndexFromEventTarget(S.target||null),I=typeof L>"u"?void 0:this.items[L],T=I&&I.element;return{browserEvent:S,index:L,element:T}}toTouchEvent(S){const L=this.getItemIndexFromEventTarget(S.target||null),I=typeof L>"u"?void 0:this.items[L],T=I&&I.element;return{browserEvent:S,index:L,element:T}}toGestureEvent(S){const L=this.getItemIndexFromEventTarget(S.initialTarget||null),I=typeof L>"u"?void 0:this.items[L],T=I&&I.element;return{browserEvent:S,index:L,element:T}}toDragEvent(S){const L=this.getItemIndexFromEventTarget(S.target||null),I=typeof L>"u"?void 0:this.items[L],T=I&&I.element,N=this.getTargetSector(S,L);return{browserEvent:S,index:L,element:T,sector:N}}onScroll(S){try{const L=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(L,S.scrollTop,S.height,S.scrollLeft,S.scrollWidth),this.supportDynamicHeights&&this._rerender(S.scrollTop,S.height,S.inSmoothScrolling)}catch(L){throw console.error("Got bad scroll event:",S),L}}onTouchChange(S){S.preventDefault(),S.stopPropagation(),this.scrollTop-=S.translationY}onDragStart(S,L,I){var T,N;if(!I.dataTransfer)return;const A=this.dnd.getDragElements(S);if(I.dataTransfer.effectAllowed="copyMove",I.dataTransfer.setData(f.DataTransfers.TEXT,L),I.dataTransfer.setDragImage){let O;this.dnd.getDragLabel&&(O=this.dnd.getDragLabel(A,I)),typeof O>"u"&&(O=String(A.length));const M=(0,k.$)(".monaco-drag-image");M.textContent=O;const x=(F=>{for(;F&&!F.classList.contains("monaco-workbench");)F=F.parentElement;return F||this.domNode.ownerDocument})(this.domNode);x.appendChild(M),I.dataTransfer.setDragImage(M,-10,-10),setTimeout(()=>x.removeChild(M),0)}this.domNode.classList.add("dragging"),this.currentDragData=new a(A),u.CurrentDragAndDropData=new h(A),(N=(T=this.dnd).onDragStart)===null||N===void 0||N.call(T,this.currentDragData,I)}onDragOver(S){var L,I;if(S.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),u.CurrentDragAndDropData&&u.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(S.browserEvent),!S.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(u.CurrentDragAndDropData)this.currentDragData=u.CurrentDragAndDropData;else{if(!S.browserEvent.dataTransfer.types)return!1;this.currentDragData=new l}const T=this.dnd.onDragOver(this.currentDragData,S.element,S.index,S.sector,S.browserEvent);if(this.canDrop=typeof T=="boolean"?T:T.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;S.browserEvent.dataTransfer.dropEffect=typeof T!="boolean"&&((L=T.effect)===null||L===void 0?void 0:L.type)===0?"copy":"move";let N;typeof T!="boolean"&&T.feedback?N=T.feedback:typeof S.index>"u"?N=[-1]:N=[S.index],N=(0,p.distinct)(N).filter(O=>O>=-1&&O<this.length).sort((O,M)=>O-M),N=N[0]===-1?[-1]:N;let A=typeof T!="boolean"&&T.effect&&T.effect.position?T.effect.position:"drop-target";if(g(this.currentDragFeedback,N)&&this.currentDragFeedbackPosition===A)return!0;if(this.currentDragFeedback=N,this.currentDragFeedbackPosition=A,this.currentDragFeedbackDisposable.dispose(),N[0]===-1)this.domNode.classList.add(A),this.rowsContainer.classList.add(A),this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{this.domNode.classList.remove(A),this.rowsContainer.classList.remove(A)});else{if(N.length>1&&A!=="drop-target")throw new Error("Can't use multiple feedbacks with position different than 'over'");A==="drop-target-after"&&N[0]<this.length-1&&(N[0]+=1,A="drop-target-before");for(const O of N){const M=this.items[O];M.dropTarget=!0,(I=M.row)===null||I===void 0||I.domNode.classList.add(A)}this.currentDragFeedbackDisposable=(0,o.toDisposable)(()=>{var O;for(const M of N){const R=this.items[M];R.dropTarget=!1,(O=R.row)===null||O===void 0||O.domNode.classList.remove(A)}})}return!0}onDragLeave(S){var L,I;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,w.disposableTimeout)(()=>this.clearDragOverFeedback(),100,this.disposables),this.currentDragData&&((I=(L=this.dnd).onDragLeave)===null||I===void 0||I.call(L,this.currentDragData,S.element,S.index,S.browserEvent))}onDrop(S){if(!this.canDrop)return;const L=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,u.CurrentDragAndDropData=void 0,!(!L||!S.browserEvent.dataTransfer)&&(S.browserEvent.preventDefault(),L.update(S.browserEvent.dataTransfer),this.dnd.drop(L,S.element,S.index,S.sector,S.browserEvent))}onDragEnd(S){var L,I;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.domNode.classList.remove("dragging"),this.currentDragData=void 0,u.CurrentDragAndDropData=void 0,(I=(L=this.dnd).onDragEnd)===null||I===void 0||I.call(L,S)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackPosition=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=o.Disposable.None}setupDragAndDropScrollTopAnimation(S){if(!this.dragOverAnimationDisposable){const L=(0,k.getTopLeftOffset)(this.domNode).top;this.dragOverAnimationDisposable=(0,k.animate)((0,k.getWindow)(this.domNode),this.animateDragAndDropScrollTop.bind(this,L))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,w.disposableTimeout)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3,this.disposables),this.dragOverMouseY=S.pageY}animateDragAndDropScrollTop(S){if(this.dragOverMouseY===void 0)return;const L=this.dragOverMouseY-S,I=this.renderHeight-35;L<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(L-35))):L>I&&(this.scrollTop+=Math.min(14,Math.floor(.3*(L-I))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getTargetSector(S,L){if(L===void 0)return;const I=S.offsetY/this.items[L].size,T=Math.floor(I/.25);return(0,m.clamp)(T,0,3)}getItemIndexFromEventTarget(S){const L=this.scrollableElement.getDomNode();let I=S;for(;I instanceof HTMLElement&&I!==this.rowsContainer&&L.contains(I);){const T=I.getAttribute("data-index");if(T){const N=Number(T);if(!isNaN(N))return N}I=I.parentElement}}getRenderRange(S,L){return{start:this.rangeMap.indexAt(S),end:this.rangeMap.indexAfter(S+L-1)}}_rerender(S,L,I){const T=this.getRenderRange(S,L);let N,A;S===this.elementTop(T.start)?(N=T.start,A=0):T.end-T.start>1&&(N=T.start+1,A=this.elementTop(N)-S);let O=0;for(;;){const M=this.getRenderRange(S,L);let R=!1;for(let x=M.start;x<M.end;x++){const F=this.probeDynamicHeight(x);F!==0&&this.rangeMap.splice(x,1,[this.items[x]]),O+=F,R=R||F!==0}if(!R){O!==0&&this.eventuallyUpdateScrollDimensions();const x=s.Range.relativeComplement(T,M);for(const W of x)for(let H=W.start;H<W.end;H++)this.items[H].row&&this.removeItemFromDOM(H);const F=s.Range.relativeComplement(M,T).reverse();for(const W of F)for(let H=W.end-1;H>=W.start;H--)this.insertItemInDOM(H);for(let W=M.start;W<M.end;W++)this.items[W].row&&this.updateItemInDOM(this.items[W],W);if(typeof N=="number"){const W=this.scrollable.getFutureScrollPosition().scrollTop-S,H=this.elementTop(N)-A+W;this.setScrollTop(H,I)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(S){var L,I,T;const N=this.items[S];if(this.virtualDelegate.getDynamicHeight){const R=this.virtualDelegate.getDynamicHeight(N.element);if(R!==null){const x=N.size;return N.size=R,N.lastDynamicHeightWidth=this.renderWidth,R-x}}if(!N.hasDynamicHeight||N.lastDynamicHeightWidth===this.renderWidth||this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(N.element))return 0;const A=N.size;if(N.row)return N.row.domNode.style.height="",N.size=N.row.domNode.offsetHeight,N.size===0&&!(0,k.isAncestor)(N.row.domNode,(0,k.getWindow)(N.row.domNode).document.body)&&console.warn("Measuring item node that is not in DOM! Add ListView to the DOM before measuring row height!"),N.lastDynamicHeightWidth=this.renderWidth,N.size-A;const{row:O}=this.cache.alloc(N.templateId);O.domNode.style.height="",this.rowsContainer.appendChild(O.domNode);const M=this.renderers.get(N.templateId);if(!M)throw new c.BugIndicatingError("Missing renderer for templateId: "+N.templateId);return M.renderElement(N.element,S,O.templateData,void 0),N.size=O.domNode.offsetHeight,(L=M.disposeElement)===null||L===void 0||L.call(M,N.element,S,O.templateData,void 0),(T=(I=this.virtualDelegate).setDynamicHeight)===null||T===void 0||T.call(I,N.element,N.size),N.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(O.domNode),this.cache.release(O),N.size-A}getElementDomId(S){return`${this.domId}_${S}`}dispose(){var S,L;for(const I of this.items)if(I.dragStartDisposable.dispose(),I.checkedDisposable.dispose(),I.row){const T=this.renderers.get(I.row.templateId);T&&((S=T.disposeElement)===null||S===void 0||S.call(T,I.element,-1,I.row.templateData,void 0),T.disposeTemplate(I.row.templateData))}this.items=[],this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(L=this.dragOverAnimationDisposable)===null||L===void 0||L.dispose(),this.disposables.dispose()}}e.ListView=v,v.InstanceCount=0,Ie([b.memoize],v.prototype,"onMouseClick",null),Ie([b.memoize],v.prototype,"onMouseDblClick",null),Ie([b.memoize],v.prototype,"onMouseMiddleClick",null),Ie([b.memoize],v.prototype,"onMouseDown",null),Ie([b.memoize],v.prototype,"onMouseOver",null),Ie([b.memoize],v.prototype,"onMouseOut",null),Ie([b.memoize],v.prototype,"onContextMenu",null),Ie([b.memoize],v.prototype,"onTouchStart",null),Ie([b.memoize],v.prototype,"onTap",null)}),define(ie[111],ne([1,0,6,89,46,68,47,424,13,15,35,121,7,78,2,136,17,20,423,250,73,30,297]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.List=e.unthemedListStyles=e.DefaultStyleController=e.MouseController=e.DefaultKeyboardNavigationDelegate=e.TypeNavigationMode=void 0,e.isInputElement=_,e.isMonacoEditor=L,e.isMonacoCustomToggle=I,e.isActionItem=T,e.isStickyScrollElement=N,e.isStickyScrollContainer=A,e.isButton=O,e.isSelectionSingleChangeEvent=H,e.isSelectionRangeChangeEvent=z;class l{constructor(X){this.trait=X,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(X){return X}renderElement(X,ae,oe){const B=this.renderedElements.findIndex(q=>q.templateData===oe);if(B>=0){const q=this.renderedElements[B];this.trait.unrender(oe),q.index=ae}else{const q={index:ae,templateData:oe};this.renderedElements.push(q)}this.trait.renderIndex(ae,oe)}splice(X,ae,oe){const B=[];for(const q of this.renderedElements)q.index<X?B.push(q):q.index>=X+ae&&B.push({index:q.index+oe-ae,templateData:q.templateData});this.renderedElements=B}renderIndexes(X){for(const{index:ae,templateData:oe}of this.renderedElements)X.indexOf(ae)>-1&&this.trait.renderIndex(ae,oe)}disposeTemplate(X){const ae=this.renderedElements.findIndex(oe=>oe.templateData===X);ae<0||this.renderedElements.splice(ae,1)}}class g{get name(){return this._trait}get renderer(){return new l(this)}constructor(X){this._trait=X,this.indexes=[],this.sortedIndexes=[],this._onChange=new s.Emitter,this.onChange=this._onChange.event}splice(X,ae,oe){const B=oe.length-ae,q=X+ae,V=[];let $=0;for(;$<this.sortedIndexes.length&&this.sortedIndexes[$]<X;)V.push(this.sortedIndexes[$++]);for(let J=0;J<oe.length;J++)oe[J]&&V.push(J+X);for(;$<this.sortedIndexes.length&&this.sortedIndexes[$]>=q;)V.push(this.sortedIndexes[$++]+B);this.renderer.splice(X,ae,oe.length),this._set(V,V)}renderIndex(X,ae){ae.classList.toggle(this._trait,this.contains(X))}unrender(X){X.classList.remove(this._trait)}set(X,ae){return this._set(X,[...X].sort(Z),ae)}_set(X,ae,oe){const B=this.indexes,q=this.sortedIndexes;this.indexes=X,this.sortedIndexes=ae;const V=Y(q,X);return this.renderer.renderIndexes(V),this._onChange.fire({indexes:X,browserEvent:oe}),B}get(){return this.indexes}contains(X){return(0,w.binarySearch)(this.sortedIndexes,X,Z)>=0}dispose(){(0,t.dispose)(this._onChange)}}Ie([o.memoize],g.prototype,"renderer",null);class d extends g{constructor(X){super("selected"),this.setAriaSelected=X}renderIndex(X,ae){super.renderIndex(X,ae),this.setAriaSelected&&(this.contains(X)?ae.setAttribute("aria-selected","true"):ae.setAttribute("aria-selected","false"))}}class v{constructor(X,ae,oe){this.trait=X,this.view=ae,this.identityProvider=oe}splice(X,ae,oe){if(!this.identityProvider)return this.trait.splice(X,ae,new Array(oe.length).fill(!1));const B=this.trait.get().map($=>this.identityProvider.getId(this.view.element($)).toString());if(B.length===0)return this.trait.splice(X,ae,new Array(oe.length).fill(!1));const q=new Set(B),V=oe.map($=>q.has(this.identityProvider.getId($).toString()));this.trait.splice(X,ae,V)}}function _(ge){return ge.tagName==="INPUT"||ge.tagName==="TEXTAREA"}function S(ge,X){return ge.classList.contains(X)?!0:ge.classList.contains("monaco-list")||!ge.parentElement?!1:S(ge.parentElement,X)}function L(ge){return S(ge,"monaco-editor")}function I(ge){return S(ge,"monaco-custom-toggle")}function T(ge){return S(ge,"action-item")}function N(ge){return S(ge,"monaco-tree-sticky-row")}function A(ge){return ge.classList.contains("monaco-tree-sticky-container")}function O(ge){return ge.tagName==="A"&&ge.classList.contains("monaco-button")||ge.tagName==="DIV"&&ge.classList.contains("monaco-button-dropdown")?!0:ge.classList.contains("monaco-list")||!ge.parentElement?!1:O(ge.parentElement)}class M{get onKeyDown(){return s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,X=>X.filter(ae=>!_(ae.target)).map(ae=>new E.StandardKeyboardEvent(ae)))}constructor(X,ae,oe){this.list=X,this.view=ae,this.disposables=new t.DisposableStore,this.multipleSelectionDisposables=new t.DisposableStore,this.multipleSelectionSupport=oe.multipleSelectionSupport,this.disposables.add(this.onKeyDown(B=>{switch(B.keyCode){case 3:return this.onEnter(B);case 16:return this.onUpArrow(B);case 18:return this.onDownArrow(B);case 11:return this.onPageUpArrow(B);case 12:return this.onPageDownArrow(B);case 9:return this.onEscape(B);case 31:this.multipleSelectionSupport&&(c.isMacintosh?B.metaKey:B.ctrlKey)&&this.onCtrlA(B)}}))}updateOptions(X){X.multipleSelectionSupport!==void 0&&(this.multipleSelectionSupport=X.multipleSelectionSupport)}onEnter(X){X.preventDefault(),X.stopPropagation(),this.list.setSelection(this.list.getFocus(),X.browserEvent)}onUpArrow(X){X.preventDefault(),X.stopPropagation(),this.list.focusPrevious(1,!1,X.browserEvent);const ae=this.list.getFocus()[0];this.list.setAnchor(ae),this.list.reveal(ae),this.view.domNode.focus()}onDownArrow(X){X.preventDefault(),X.stopPropagation(),this.list.focusNext(1,!1,X.browserEvent);const ae=this.list.getFocus()[0];this.list.setAnchor(ae),this.list.reveal(ae),this.view.domNode.focus()}onPageUpArrow(X){X.preventDefault(),X.stopPropagation(),this.list.focusPreviousPage(X.browserEvent);const ae=this.list.getFocus()[0];this.list.setAnchor(ae),this.list.reveal(ae),this.view.domNode.focus()}onPageDownArrow(X){X.preventDefault(),X.stopPropagation(),this.list.focusNextPage(X.browserEvent);const ae=this.list.getFocus()[0];this.list.setAnchor(ae),this.list.reveal(ae),this.view.domNode.focus()}onCtrlA(X){X.preventDefault(),X.stopPropagation(),this.list.setSelection((0,w.range)(this.list.length),X.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(X){this.list.getSelection().length&&(X.preventDefault(),X.stopPropagation(),this.list.setSelection([],X.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}Ie([o.memoize],M.prototype,"onKeyDown",null);var R;(function(ge){ge[ge.Automatic=0]="Automatic",ge[ge.Trigger=1]="Trigger"})(R||(e.TypeNavigationMode=R={}));var x;(function(ge){ge[ge.Idle=0]="Idle",ge[ge.Typing=1]="Typing"})(x||(x={})),e.DefaultKeyboardNavigationDelegate=new class{mightProducePrintableCharacter(ge){return ge.ctrlKey||ge.metaKey||ge.altKey?!1:ge.keyCode>=31&&ge.keyCode<=56||ge.keyCode>=21&&ge.keyCode<=30||ge.keyCode>=98&&ge.keyCode<=107||ge.keyCode>=85&&ge.keyCode<=95}};class F{constructor(X,ae,oe,B,q){this.list=X,this.view=ae,this.keyboardNavigationLabelProvider=oe,this.keyboardNavigationEventFilter=B,this.delegate=q,this.enabled=!1,this.state=x.Idle,this.mode=R.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new t.DisposableStore,this.disposables=new t.DisposableStore,this.updateOptions(X.options)}updateOptions(X){var ae,oe;!((ae=X.typeNavigationEnabled)!==null&&ae!==void 0)||ae?this.enable():this.disable(),this.mode=(oe=X.typeNavigationMode)!==null&&oe!==void 0?oe:R.Automatic}enable(){if(this.enabled)return;let X=!1;const ae=s.Event.chain(this.enabledDisposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.filter(V=>!_(V.target)).filter(()=>this.mode===R.Automatic||this.triggered).map(V=>new E.StandardKeyboardEvent(V)).filter(V=>X||this.keyboardNavigationEventFilter(V)).filter(V=>this.delegate.mightProducePrintableCharacter(V)).forEach(V=>f.EventHelper.stop(V,!0)).map(V=>V.browserEvent.key)),oe=s.Event.debounce(ae,()=>null,800,void 0,void 0,void 0,this.enabledDisposables);s.Event.reduce(s.Event.any(ae,oe),(q,V)=>V===null?null:(q||"")+V,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),oe(this.onClear,this,this.enabledDisposables),ae(()=>X=!0,void 0,this.enabledDisposables),oe(()=>X=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){this.enabled&&(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var X;const ae=this.list.getFocus();if(ae.length>0&&ae[0]===this.previouslyFocused){const oe=(X=this.list.options.accessibilityProvider)===null||X===void 0?void 0:X.getAriaLabel(this.list.element(ae[0]));typeof oe=="string"?(0,y.alert)(oe):oe&&(0,y.alert)(oe.get())}this.previouslyFocused=-1}onInput(X){if(!X){this.state=x.Idle,this.triggered=!1;return}const ae=this.list.getFocus(),oe=ae.length>0?ae[0]:0,B=this.state===x.Idle?1:0;this.state=x.Typing;for(let q=0;q<this.list.length;q++){const V=(oe+q+B)%this.list.length,$=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(V)),J=$&&$.toString();if(this.list.options.typeNavigationEnabled){if(typeof J<"u"){if((0,i.matchesPrefix)(X,J)){this.previouslyFocused=oe,this.list.setFocus([V]),this.list.reveal(V);return}const se=(0,i.matchesFuzzy2)(X,J);if(se&&se[0].end-se[0].start>1&&se.length===1){this.previouslyFocused=oe,this.list.setFocus([V]),this.list.reveal(V);return}}}else if(typeof J>"u"||(0,i.matchesPrefix)(X,J)){this.previouslyFocused=oe,this.list.setFocus([V]),this.list.reveal(V);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class W{constructor(X,ae){this.list=X,this.view=ae,this.disposables=new t.DisposableStore;const oe=s.Event.chain(this.disposables.add(new k.DomEmitter(ae.domNode,"keydown")).event,q=>q.filter(V=>!_(V.target)).map(V=>new E.StandardKeyboardEvent(V)));s.Event.chain(oe,q=>q.filter(V=>V.keyCode===2&&!V.ctrlKey&&!V.metaKey&&!V.shiftKey&&!V.altKey))(this.onTab,this,this.disposables)}onTab(X){if(X.target!==this.view.domNode)return;const ae=this.list.getFocus();if(ae.length===0)return;const oe=this.view.domElement(ae[0]);if(!oe)return;const B=oe.querySelector("[tabIndex]");if(!B||!(B instanceof HTMLElement)||B.tabIndex===-1)return;const q=(0,f.getWindow)(B).getComputedStyle(B);q.visibility==="hidden"||q.display==="none"||(X.preventDefault(),X.stopPropagation(),B.focus())}dispose(){this.disposables.dispose()}}function H(ge){return c.isMacintosh?ge.browserEvent.metaKey:ge.browserEvent.ctrlKey}function z(ge){return ge.browserEvent.shiftKey}function j(ge){return(0,f.isMouseEvent)(ge)&&ge.button===2}const K={isSelectionSingleChangeEvent:H,isSelectionRangeChangeEvent:z};class U{constructor(X){this.list=X,this.disposables=new t.DisposableStore,this._onPointer=new s.Emitter,this.onPointer=this._onPointer.event,X.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||K),this.mouseSupport=typeof X.options.mouseSupport>"u"||!!X.options.mouseSupport,this.mouseSupport&&(X.onMouseDown(this.onMouseDown,this,this.disposables),X.onContextMenu(this.onContextMenu,this,this.disposables),X.onMouseDblClick(this.onDoubleClick,this,this.disposables),X.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(D.Gesture.addTarget(X.getHTMLElement()))),s.Event.any(X.onMouseClick,X.onMouseMiddleClick,X.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(X){X.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,X.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||K))}isSelectionSingleChangeEvent(X){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(X):!1}isSelectionRangeChangeEvent(X){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(X):!1}isSelectionChangeEvent(X){return this.isSelectionSingleChangeEvent(X)||this.isSelectionRangeChangeEvent(X)}onMouseDown(X){L(X.browserEvent.target)||(0,f.getActiveElement)()!==X.browserEvent.target&&this.list.domFocus()}onContextMenu(X){if(_(X.browserEvent.target)||L(X.browserEvent.target))return;const ae=typeof X.index>"u"?[]:[X.index];this.list.setFocus(ae,X.browserEvent)}onViewPointer(X){if(!this.mouseSupport||_(X.browserEvent.target)||L(X.browserEvent.target)||X.browserEvent.isHandledByList)return;X.browserEvent.isHandledByList=!0;const ae=X.index;if(typeof ae>"u"){this.list.setFocus([],X.browserEvent),this.list.setSelection([],X.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionChangeEvent(X))return this.changeSelection(X);this.list.setFocus([ae],X.browserEvent),this.list.setAnchor(ae),j(X.browserEvent)||this.list.setSelection([ae],X.browserEvent),this._onPointer.fire(X)}onDoubleClick(X){if(_(X.browserEvent.target)||L(X.browserEvent.target)||this.isSelectionChangeEvent(X)||X.browserEvent.isHandledByList)return;X.browserEvent.isHandledByList=!0;const ae=this.list.getFocus();this.list.setSelection(ae,X.browserEvent)}changeSelection(X){const ae=X.index;let oe=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(X)){if(typeof oe>"u"){const de=this.list.getFocus()[0];oe=de??ae,this.list.setAnchor(oe)}const B=Math.min(oe,ae),q=Math.max(oe,ae),V=(0,w.range)(B,q+1),$=this.list.getSelection(),J=ee(Y($,[oe]),oe);if(J.length===0)return;const se=Y(V,P($,J));this.list.setSelection(se,X.browserEvent),this.list.setFocus([ae],X.browserEvent)}else if(this.isSelectionSingleChangeEvent(X)){const B=this.list.getSelection(),q=B.filter(V=>V!==ae);this.list.setFocus([ae]),this.list.setAnchor(ae),B.length===q.length?this.list.setSelection([...q,ae],X.browserEvent):this.list.setSelection(q,X.browserEvent)}}dispose(){this.disposables.dispose()}}e.MouseController=U;class G{constructor(X,ae){this.styleElement=X,this.selectorSuffix=ae}style(X){var ae,oe;const B=this.selectorSuffix&&`.${this.selectorSuffix}`,q=[];X.listBackground&&q.push(`.monaco-list${B} .monaco-list-rows { background: ${X.listBackground}; }`),X.listFocusBackground&&(q.push(`.monaco-list${B}:focus .monaco-list-row.focused { background-color: ${X.listFocusBackground}; }`),q.push(`.monaco-list${B}:focus .monaco-list-row.focused:hover { background-color: ${X.listFocusBackground}; }`)),X.listFocusForeground&&q.push(`.monaco-list${B}:focus .monaco-list-row.focused { color: ${X.listFocusForeground}; }`),X.listActiveSelectionBackground&&(q.push(`.monaco-list${B}:focus .monaco-list-row.selected { background-color: ${X.listActiveSelectionBackground}; }`),q.push(`.monaco-list${B}:focus .monaco-list-row.selected:hover { background-color: ${X.listActiveSelectionBackground}; }`)),X.listActiveSelectionForeground&&q.push(`.monaco-list${B}:focus .monaco-list-row.selected { color: ${X.listActiveSelectionForeground}; }`),X.listActiveSelectionIconForeground&&q.push(`.monaco-list${B}:focus .monaco-list-row.selected .codicon { color: ${X.listActiveSelectionIconForeground}; }`),X.listFocusAndSelectionBackground&&q.push(`
				.monaco-drag-image,
				.monaco-list${B}:focus .monaco-list-row.selected.focused { background-color: ${X.listFocusAndSelectionBackground}; }
			`),X.listFocusAndSelectionForeground&&q.push(`
				.monaco-drag-image,
				.monaco-list${B}:focus .monaco-list-row.selected.focused { color: ${X.listFocusAndSelectionForeground}; }
			`),X.listInactiveFocusForeground&&(q.push(`.monaco-list${B} .monaco-list-row.focused { color:  ${X.listInactiveFocusForeground}; }`),q.push(`.monaco-list${B} .monaco-list-row.focused:hover { color:  ${X.listInactiveFocusForeground}; }`)),X.listInactiveSelectionIconForeground&&q.push(`.monaco-list${B} .monaco-list-row.focused .codicon { color:  ${X.listInactiveSelectionIconForeground}; }`),X.listInactiveFocusBackground&&(q.push(`.monaco-list${B} .monaco-list-row.focused { background-color:  ${X.listInactiveFocusBackground}; }`),q.push(`.monaco-list${B} .monaco-list-row.focused:hover { background-color:  ${X.listInactiveFocusBackground}; }`)),X.listInactiveSelectionBackground&&(q.push(`.monaco-list${B} .monaco-list-row.selected { background-color:  ${X.listInactiveSelectionBackground}; }`),q.push(`.monaco-list${B} .monaco-list-row.selected:hover { background-color:  ${X.listInactiveSelectionBackground}; }`)),X.listInactiveSelectionForeground&&q.push(`.monaco-list${B} .monaco-list-row.selected { color: ${X.listInactiveSelectionForeground}; }`),X.listHoverBackground&&q.push(`.monaco-list${B}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${X.listHoverBackground}; }`),X.listHoverForeground&&q.push(`.monaco-list${B}:not(.drop-target):not(.dragging) .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${X.listHoverForeground}; }`);const V=(0,f.asCssValueWithDefault)(X.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(X.listSelectionOutline,(ae=X.listFocusOutline)!==null&&ae!==void 0?ae:""));V&&q.push(`.monaco-list${B}:focus .monaco-list-row.focused.selected { outline: 1px solid ${V}; outline-offset: -1px;}`),X.listFocusOutline&&q.push(`
				.monaco-drag-image,
				.monaco-list${B}:focus .monaco-list-row.focused { outline: 1px solid ${X.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${B}.last-focused .monaco-list-row.focused { outline: 1px solid ${X.listFocusOutline}; outline-offset: -1px; }
			`);const $=(0,f.asCssValueWithDefault)(X.listSelectionOutline,(oe=X.listInactiveFocusOutline)!==null&&oe!==void 0?oe:"");$&&q.push(`.monaco-list${B} .monaco-list-row.focused.selected { outline: 1px dotted ${$}; outline-offset: -1px; }`),X.listSelectionOutline&&q.push(`.monaco-list${B} .monaco-list-row.selected { outline: 1px dotted ${X.listSelectionOutline}; outline-offset: -1px; }`),X.listInactiveFocusOutline&&q.push(`.monaco-list${B} .monaco-list-row.focused { outline: 1px dotted ${X.listInactiveFocusOutline}; outline-offset: -1px; }`),X.listHoverOutline&&q.push(`.monaco-list${B} .monaco-list-row:hover { outline: 1px dashed ${X.listHoverOutline}; outline-offset: -1px; }`),X.listDropOverBackground&&q.push(`
				.monaco-list${B}.drop-target,
				.monaco-list${B} .monaco-list-rows.drop-target,
				.monaco-list${B} .monaco-list-row.drop-target { background-color: ${X.listDropOverBackground} !important; color: inherit !important; }
			`),X.listDropBetweenBackground&&(q.push(`
			.monaco-list${B} .monaco-list-rows.drop-target-before .monaco-list-row:first-child::before,
			.monaco-list${B} .monaco-list-row.drop-target-before::before {
				content: ""; position: absolute; top: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${X.listDropBetweenBackground};
			}`),q.push(`
			.monaco-list${B} .monaco-list-rows.drop-target-after .monaco-list-row:last-child::after,
			.monaco-list${B} .monaco-list-row.drop-target-after::after {
				content: ""; position: absolute; bottom: 0px; left: 0px; width: 100%; height: 1px;
				background-color: ${X.listDropBetweenBackground};
			}`)),X.tableColumnsBorder&&q.push(`
				.monaco-table > .monaco-split-view2,
				.monaco-table > .monaco-split-view2 .monaco-sash.vertical::before,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${X.tableColumnsBorder};
				}

				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2,
				.monaco-workbench:not(.reduce-motion) .monaco-table > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: transparent;
				}
			`),X.tableOddRowsBackgroundColor&&q.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${X.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=q.join(`
`)}}e.DefaultStyleController=G,e.unthemedListStyles={listFocusBackground:"#7FB0D0",listActiveSelectionBackground:"#0E639C",listActiveSelectionForeground:"#FFFFFF",listActiveSelectionIconForeground:"#FFFFFF",listFocusAndSelectionOutline:"#90C2F9",listFocusAndSelectionBackground:"#094771",listFocusAndSelectionForeground:"#FFFFFF",listInactiveSelectionBackground:"#3F3F46",listInactiveSelectionIconForeground:"#FFFFFF",listHoverBackground:"#2A2D2E",listDropOverBackground:"#383B3D",listDropBetweenBackground:"#EEEEEE",treeIndentGuidesStroke:"#a9a9a9",treeInactiveIndentGuidesStroke:C.Color.fromHex("#a9a9a9").transparent(.4).toString(),tableColumnsBorder:C.Color.fromHex("#cccccc").transparent(.2).toString(),tableOddRowsBackgroundColor:C.Color.fromHex("#cccccc").transparent(.04).toString(),listBackground:void 0,listFocusForeground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusForeground:void 0,listInactiveFocusBackground:void 0,listHoverForeground:void 0,listFocusOutline:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listHoverOutline:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0};const te={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){},dispose(){}}};function ee(ge,X){const ae=ge.indexOf(X);if(ae===-1)return[];const oe=[];let B=ae-1;for(;B>=0&&ge[B]===X-(ae-B);)oe.push(ge[B--]);for(oe.reverse(),B=ae;B<ge.length&&ge[B]===X+(B-ae);)oe.push(ge[B++]);return oe}function Y(ge,X){const ae=[];let oe=0,B=0;for(;oe<ge.length||B<X.length;)if(oe>=ge.length)ae.push(X[B++]);else if(B>=X.length)ae.push(ge[oe++]);else if(ge[oe]===X[B]){ae.push(ge[oe]),oe++,B++;continue}else ge[oe]<X[B]?ae.push(ge[oe++]):ae.push(X[B++]);return ae}function P(ge,X){const ae=[];let oe=0,B=0;for(;oe<ge.length||B<X.length;)if(oe>=ge.length)ae.push(X[B++]);else if(B>=X.length)ae.push(ge[oe++]);else if(ge[oe]===X[B]){oe++,B++;continue}else ge[oe]<X[B]?ae.push(ge[oe++]):B++;return ae}const Z=(ge,X)=>ge-X;class re{constructor(X,ae){this._templateId=X,this.renderers=ae}get templateId(){return this._templateId}renderTemplate(X){return this.renderers.map(ae=>ae.renderTemplate(X))}renderElement(X,ae,oe,B){let q=0;for(const V of this.renderers)V.renderElement(X,ae,oe[q++],B)}disposeElement(X,ae,oe,B){var q;let V=0;for(const $ of this.renderers)(q=$.disposeElement)===null||q===void 0||q.call($,X,ae,oe[V],B),V+=1}disposeTemplate(X){let ae=0;for(const oe of this.renderers)oe.disposeTemplate(X[ae++])}}class ce{constructor(X){this.accessibilityProvider=X,this.templateId="a18n"}renderTemplate(X){return{container:X,disposables:new t.DisposableStore}}renderElement(X,ae,oe){const B=this.accessibilityProvider.getAriaLabel(X),q=B&&typeof B!="string"?B:(0,h.constObservable)(B);oe.disposables.add((0,h.autorun)($=>{this.setAriaLabel($.readObservable(q),oe.container)}));const V=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(X);typeof V=="number"?oe.container.setAttribute("aria-level",`${V}`):oe.container.removeAttribute("aria-level")}setAriaLabel(X,ae){X?ae.setAttribute("aria-label",X):ae.removeAttribute("aria-label")}disposeElement(X,ae,oe,B){oe.disposables.clear()}disposeTemplate(X){X.disposables.dispose()}}class he{constructor(X,ae){this.list=X,this.dnd=ae}getDragElements(X){const ae=this.list.getSelectedElements();return ae.indexOf(X)>-1?ae:[X]}getDragURI(X){return this.dnd.getDragURI(X)}getDragLabel(X,ae){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(X,ae)}onDragStart(X,ae){var oe,B;(B=(oe=this.dnd).onDragStart)===null||B===void 0||B.call(oe,X,ae)}onDragOver(X,ae,oe,B,q){return this.dnd.onDragOver(X,ae,oe,B,q)}onDragLeave(X,ae,oe,B){var q,V;(V=(q=this.dnd).onDragLeave)===null||V===void 0||V.call(q,X,ae,oe,B)}onDragEnd(X){var ae,oe;(oe=(ae=this.dnd).onDragEnd)===null||oe===void 0||oe.call(ae,X)}drop(X,ae,oe,B,q){this.dnd.drop(X,ae,oe,B,q)}dispose(){this.dnd.dispose()}}class pe{get onDidChangeFocus(){return s.Event.map(this.eventBufferer.wrapEvent(this.focus.onChange),X=>this.toListEvent(X),this.disposables)}get onDidChangeSelection(){return s.Event.map(this.eventBufferer.wrapEvent(this.selection.onChange),X=>this.toListEvent(X),this.disposables)}get domId(){return this.view.domId}get onDidScroll(){return this.view.onDidScroll}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onMouseOut(){return this.view.onMouseOut}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let X=!1;const ae=s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event,q=>q.map(V=>new E.StandardKeyboardEvent(V)).filter(V=>X=V.keyCode===58||V.shiftKey&&V.keyCode===68).map(V=>f.EventHelper.stop(V,!0)).filter(()=>!1)),oe=s.Event.chain(this.disposables.add(new k.DomEmitter(this.view.domNode,"keyup")).event,q=>q.forEach(()=>X=!1).map(V=>new E.StandardKeyboardEvent(V)).filter(V=>V.keyCode===58||V.shiftKey&&V.keyCode===68).map(V=>f.EventHelper.stop(V,!0)).map(({browserEvent:V})=>{const $=this.getFocus(),J=$.length?$[0]:void 0,se=typeof J<"u"?this.view.element(J):void 0,de=typeof J<"u"?this.view.domElement(J):this.view.domNode;return{index:J,element:se,anchor:de,browserEvent:V}})),B=s.Event.chain(this.view.onContextMenu,q=>q.filter(V=>!X).map(({element:V,index:$,browserEvent:J})=>({element:V,index:$,anchor:new a.StandardMouseEvent((0,f.getWindow)(this.view.domNode),J),browserEvent:J})));return s.Event.any(ae,oe,B)}get onKeyDown(){return this.disposables.add(new k.DomEmitter(this.view.domNode,"keydown")).event}get onDidFocus(){return s.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"focus",!0)).event)}get onDidBlur(){return s.Event.signal(this.disposables.add(new k.DomEmitter(this.view.domNode,"blur",!0)).event)}constructor(X,ae,oe,B,q=te){var V,$,J,se;this.user=X,this._options=q,this.focus=new g("focused"),this.anchor=new g("anchor"),this.eventBufferer=new s.EventBufferer,this._ariaLabel="",this.disposables=new t.DisposableStore,this._onDidDispose=new s.Emitter,this.onDidDispose=this._onDidDispose.event;const de=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(V=this._options.accessibilityProvider)===null||V===void 0?void 0:V.getWidgetRole():"list";this.selection=new d(de!=="listbox");const le=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=q.accessibilityProvider,this.accessibilityProvider&&(le.push(new ce(this.accessibilityProvider)),(J=($=this.accessibilityProvider).onDidChangeActiveDescendant)===null||J===void 0||J.call($,this.onDidChangeActiveDescendant,this,this.disposables)),B=B.map(ve=>new re(ve.templateId,[...le,ve]));const fe={...q,dnd:q.dnd&&new he(this,q.dnd)};if(this.view=this.createListView(ae,oe,B,fe),this.view.domNode.setAttribute("role",de),q.styleController)this.styleController=q.styleController(this.view.domId);else{const ve=(0,f.createStyleSheet)(this.view.domNode);this.styleController=new G(ve,this.view.domId)}if(this.spliceable=new p.CombinedSpliceable([new v(this.focus,this.view,q.identityProvider),new v(this.selection,this.view,q.identityProvider),new v(this.anchor,this.view,q.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new W(this,this.view)),(typeof q.keyboardSupport!="boolean"||q.keyboardSupport)&&(this.keyboardController=new M(this,this.view,q),this.disposables.add(this.keyboardController)),q.keyboardNavigationLabelProvider){const ve=q.keyboardNavigationDelegate||e.DefaultKeyboardNavigationDelegate;this.typeNavigationController=new F(this,this.view,q.keyboardNavigationLabelProvider,(se=q.keyboardNavigationEventFilter)!==null&&se!==void 0?se:()=>!0,ve),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(q),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}createListView(X,ae,oe,B){return new r.ListView(X,ae,oe,B)}createMouseController(X){return new U(this)}updateOptions(X={}){var ae,oe;this._options={...this._options,...X},(ae=this.typeNavigationController)===null||ae===void 0||ae.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(X),(oe=this.keyboardController)===null||oe===void 0||oe.updateOptions(X),this.view.updateOptions(X)}get options(){return this._options}splice(X,ae,oe=[]){if(X<0||X>this.view.length)throw new u.ListError(this.user,`Invalid start index: ${X}`);if(ae<0)throw new u.ListError(this.user,`Invalid delete count: ${ae}`);ae===0&&oe.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(X,ae,oe))}rerender(){this.view.rerender()}element(X){return this.view.element(X)}indexOf(X){return this.view.indexOf(X)}indexAt(X){return this.view.indexAt(X)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get onDidChangeContentHeight(){return this.view.onDidChangeContentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(X){this.view.setScrollTop(X)}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get firstVisibleIndex(){return this.view.firstVisibleIndex}get ariaLabel(){return this._ariaLabel}set ariaLabel(X){this._ariaLabel=X,this.view.domNode.setAttribute("aria-label",X)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(X,ae){this.view.layout(X,ae)}setSelection(X,ae){for(const oe of X)if(oe<0||oe>=this.length)throw new u.ListError(this.user,`Invalid index ${oe}`);this.selection.set(X,ae)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(X=>this.view.element(X))}setAnchor(X){if(typeof X>"u"){this.anchor.set([]);return}if(X<0||X>=this.length)throw new u.ListError(this.user,`Invalid index ${X}`);this.anchor.set([X])}getAnchor(){return(0,w.firstOrDefault)(this.anchor.get(),void 0)}getAnchorElement(){const X=this.getAnchor();return typeof X>"u"?void 0:this.element(X)}setFocus(X,ae){for(const oe of X)if(oe<0||oe>=this.length)throw new u.ListError(this.user,`Invalid index ${oe}`);this.focus.set(X,ae)}focusNext(X=1,ae=!1,oe,B){if(this.length===0)return;const q=this.focus.get(),V=this.findNextIndex(q.length>0?q[0]+X:0,ae,B);V>-1&&this.setFocus([V],oe)}focusPrevious(X=1,ae=!1,oe,B){if(this.length===0)return;const q=this.focus.get(),V=this.findPreviousIndex(q.length>0?q[0]-X:0,ae,B);V>-1&&this.setFocus([V],oe)}async focusNextPage(X,ae){let oe=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);oe=oe===0?0:oe-1;const B=this.getFocus()[0];if(B!==oe&&(B===void 0||oe>B)){const q=this.findPreviousIndex(oe,!1,ae);q>-1&&B!==q?this.setFocus([q],X):this.setFocus([oe],X)}else{const q=this.view.getScrollTop();let V=q+this.view.renderHeight;oe>B&&(V-=this.view.elementHeight(oe)),this.view.setScrollTop(V),this.view.getScrollTop()!==q&&(this.setFocus([]),await(0,b.timeout)(0),await this.focusNextPage(X,ae))}}async focusPreviousPage(X,ae,oe=()=>0){let B;const q=oe(),V=this.view.getScrollTop()+q;V===0?B=this.view.indexAt(V):B=this.view.indexAfter(V-1);const $=this.getFocus()[0];if($!==B&&($===void 0||$>=B)){const J=this.findNextIndex(B,!1,ae);J>-1&&$!==J?this.setFocus([J],X):this.setFocus([B],X)}else{const J=V;this.view.setScrollTop(V-this.view.renderHeight-q),this.view.getScrollTop()+oe()!==J&&(this.setFocus([]),await(0,b.timeout)(0),await this.focusPreviousPage(X,ae,oe))}}focusLast(X,ae){if(this.length===0)return;const oe=this.findPreviousIndex(this.length-1,!1,ae);oe>-1&&this.setFocus([oe],X)}focusFirst(X,ae){this.focusNth(0,X,ae)}focusNth(X,ae,oe){if(this.length===0)return;const B=this.findNextIndex(X,!1,oe);B>-1&&this.setFocus([B],ae)}findNextIndex(X,ae=!1,oe){for(let B=0;B<this.length;B++){if(X>=this.length&&!ae)return-1;if(X=X%this.length,!oe||oe(this.element(X)))return X;X++}return-1}findPreviousIndex(X,ae=!1,oe){for(let B=0;B<this.length;B++){if(X<0&&!ae)return-1;if(X=(this.length+X%this.length)%this.length,!oe||oe(this.element(X)))return X;X--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(X=>this.view.element(X))}reveal(X,ae,oe=0){if(X<0||X>=this.length)throw new u.ListError(this.user,`Invalid index ${X}`);const B=this.view.getScrollTop(),q=this.view.elementTop(X),V=this.view.elementHeight(X);if((0,m.isNumber)(ae)){const $=V-this.view.renderHeight+oe;this.view.setScrollTop($*(0,n.clamp)(ae,0,1)+q-oe)}else{const $=q+V,J=B+this.view.renderHeight;q<B+oe&&$>=J||(q<B+oe||$>=J&&V>=this.view.renderHeight?this.view.setScrollTop(q-oe):$>=J&&this.view.setScrollTop($-this.view.renderHeight))}}getRelativeTop(X,ae=0){if(X<0||X>=this.length)throw new u.ListError(this.user,`Invalid index ${X}`);const oe=this.view.getScrollTop(),B=this.view.elementTop(X),q=this.view.elementHeight(X);if(B<oe+ae||B+q>oe+this.view.renderHeight)return null;const V=q-this.view.renderHeight+ae;return Math.abs((oe+ae-B)/V)}getHTMLElement(){return this.view.domNode}getScrollableElement(){return this.view.scrollableElementDomNode}getElementID(X){return this.view.getElementDomId(X)}getElementTop(X){return this.view.elementTop(X)}style(X){this.styleController.style(X)}toListEvent({indexes:X,browserEvent:ae}){return{indexes:X,elements:X.map(oe=>this.view.element(oe)),browserEvent:ae}}_onFocusChange(){const X=this.focus.get();this.view.domNode.classList.toggle("element-focused",X.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var X;const ae=this.focus.get();if(ae.length>0){let oe;!((X=this.accessibilityProvider)===null||X===void 0)&&X.getActiveDescendantId&&(oe=this.accessibilityProvider.getActiveDescendantId(this.view.element(ae[0]))),this.view.domNode.setAttribute("aria-activedescendant",oe||this.view.getElementDomId(ae[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const X=this.selection.get();this.view.domNode.classList.toggle("selection-none",X.length===0),this.view.domNode.classList.toggle("selection-single",X.length===1),this.view.domNode.classList.toggle("selection-multiple",X.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}e.List=pe,Ie([o.memoize],pe.prototype,"onDidChangeFocus",null),Ie([o.memoize],pe.prototype,"onDidChangeSelection",null),Ie([o.memoize],pe.prototype,"onContextMenu",null),Ie([o.memoize],pe.prototype,"onKeyDown",null),Ie([o.memoize],pe.prototype,"onDidFocus",null),Ie([o.memoize],pe.prototype,"onDidBlur",null)}),define(ie[629],ne([1,0,13,19,7,2,111,297]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PagedList=void 0;class p{get templateId(){return this.renderer.templateId}constructor(s,i){this.renderer=s,this.modelProvider=i}renderTemplate(s){return{data:this.renderer.renderTemplate(s),disposable:D.Disposable.None}}renderElement(s,i,t,n){var c;if((c=t.disposable)===null||c===void 0||c.dispose(),!t.data)return;const m=this.modelProvider();if(m.isResolved(s))return this.renderer.renderElement(m.get(s),s,t.data,n);const u=new k.CancellationTokenSource,r=m.resolve(s,u.token);t.disposable={dispose:()=>u.cancel()},this.renderer.renderPlaceholder(s,t.data),r.then(a=>this.renderer.renderElement(a,s,t.data,n))}disposeTemplate(s){s.disposable&&(s.disposable.dispose(),s.disposable=void 0),s.data&&(this.renderer.disposeTemplate(s.data),s.data=void 0)}}class w{constructor(s,i){this.modelProvider=s,this.accessibilityProvider=i}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(s){const i=this.modelProvider();return i.isResolved(s)?this.accessibilityProvider.getAriaLabel(i.get(s)):null}}function b(o,s){return{...s,accessibilityProvider:s.accessibilityProvider&&new w(o,s.accessibilityProvider)}}class C{constructor(s,i,t,n,c={}){const m=()=>this.model,u=n.map(r=>new p(r,m));this.list=new y.List(s,i,t,u,b(m,c))}updateOptions(s){this.list.updateOptions(s)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get widget(){return this.list}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return E.Event.map(this.list.onMouseDblClick,({element:s,index:i,browserEvent:t})=>({element:s===void 0?void 0:this._model.get(s),index:i,browserEvent:t}))}get onPointer(){return E.Event.map(this.list.onPointer,({element:s,index:i,browserEvent:t})=>({element:s===void 0?void 0:this._model.get(s),index:i,browserEvent:t}))}get onDidChangeSelection(){return E.Event.map(this.list.onDidChangeSelection,({elements:s,indexes:i,browserEvent:t})=>({elements:s.map(n=>this._model.get(n)),indexes:i,browserEvent:t}))}get model(){return this._model}set model(s){this._model=s,this.list.splice(0,this.list.length,(0,f.range)(s.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(s=>this.model.get(s))}style(s){this.list.style(s)}dispose(){this.list.dispose()}}e.PagedList=C}),define(ie[344],ne([1,0,6,89,167,81,13,35,7,2,136,158,20,453]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SplitView=e.Sizing=void 0;const i={separatorBorder:p.Color.transparent};class t{set size(h){this._size=h}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize>"u"}setVisible(h,l){var g,d;if(h!==this.visible){h?(this.size=(0,C.clamp)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof l=="number"?l:this.size,this.size=0),this.container.classList.toggle("visible",h);try{(d=(g=this.view).setVisible)===null||d===void 0||d.call(g,h)}catch(v){console.error("Splitview: Failed to set visible view"),console.error(v)}}}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get proportionalLayout(){var h;return(h=this.view.proportionalLayout)!==null&&h!==void 0?h:!0}get snap(){return!!this.view.snap}set enabled(h){this.container.style.pointerEvents=h?"":"none"}constructor(h,l,g,d){this.container=h,this.view=l,this.disposable=d,this._cachedVisibleSize=void 0,typeof g=="number"?(this._size=g,this._cachedVisibleSize=void 0,h.classList.add("visible")):(this._size=0,this._cachedVisibleSize=g.cachedVisibleSize)}layout(h,l){this.layoutContainer(h);try{this.view.layout(this.size,h,l)}catch(g){console.error("Splitview: Failed to layout view"),console.error(g)}}dispose(){this.disposable.dispose()}}class n extends t{layoutContainer(h){this.container.style.top=`${h}px`,this.container.style.height=`${this.size}px`}}class c extends t{layoutContainer(h){this.container.style.left=`${h}px`,this.container.style.width=`${this.size}px`}}var m;(function(a){a[a.Idle=0]="Idle",a[a.Busy=1]="Busy"})(m||(m={}));var u;(function(a){a.Distribute={type:"distribute"};function h(d){return{type:"split",index:d}}a.Split=h;function l(d){return{type:"auto",index:d}}a.Auto=l;function g(d){return{type:"invisible",cachedVisibleSize:d}}a.Invisible=g})(u||(e.Sizing=u={}));class r extends b.Disposable{get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(h){for(const l of this.sashItems)l.sash.orthogonalStartSash=h;this._orthogonalStartSash=h}set orthogonalEndSash(h){for(const l of this.sashItems)l.sash.orthogonalEndSash=h;this._orthogonalEndSash=h}set startSnappingEnabled(h){this._startSnappingEnabled!==h&&(this._startSnappingEnabled=h,this.updateSashEnablement())}set endSnappingEnabled(h){this._endSnappingEnabled!==h&&(this._endSnappingEnabled=h,this.updateSashEnablement())}constructor(h,l={}){var g,d,v,_,S;super(),this.size=0,this._contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=m.Idle,this._onDidSashChange=this._register(new w.Emitter),this._onDidSashReset=this._register(new w.Emitter),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(g=l.orientation)!==null&&g!==void 0?g:0,this.inverseAltBehavior=(d=l.inverseAltBehavior)!==null&&d!==void 0?d:!1,this.proportionalLayout=(v=l.proportionalLayout)!==null&&v!==void 0?v:!0,this.getSashOrthogonalSize=l.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),h.appendChild(this.el),this.sashContainer=(0,f.append)(this.el,(0,f.$)(".sash-container")),this.viewContainer=(0,f.$)(".split-view-container"),this.scrollable=this._register(new o.Scrollable({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:I=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this.el),I)})),this.scrollableElement=this._register(new D.SmoothScrollableElement(this.viewContainer,{vertical:this.orientation===0?(_=l.scrollbarVisibility)!==null&&_!==void 0?_:1:2,horizontal:this.orientation===1?(S=l.scrollbarVisibility)!==null&&S!==void 0?S:1:2},this.scrollable));const L=this._register(new k.DomEmitter(this.viewContainer,"scroll")).event;this._register(L(I=>{const T=this.scrollableElement.getScrollPosition(),N=Math.abs(this.viewContainer.scrollLeft-T.scrollLeft)<=1?void 0:this.viewContainer.scrollLeft,A=Math.abs(this.viewContainer.scrollTop-T.scrollTop)<=1?void 0:this.viewContainer.scrollTop;(N!==void 0||A!==void 0)&&this.scrollableElement.setScrollPosition({scrollLeft:N,scrollTop:A})})),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(I=>{I.scrollTopChanged&&(this.viewContainer.scrollTop=I.scrollTop),I.scrollLeftChanged&&(this.viewContainer.scrollLeft=I.scrollLeft)})),(0,f.append)(this.el,this.scrollableElement.getDomNode()),this.style(l.styles||i),l.descriptor&&(this.size=l.descriptor.size,l.descriptor.views.forEach((I,T)=>{const N=s.isUndefined(I.visible)||I.visible?I.size:{type:"invisible",cachedVisibleSize:I.size},A=I.view;this.doAddView(A,N,T,!0)}),this._contentSize=this.viewItems.reduce((I,T)=>I+T.size,0),this.saveProportions())}style(h){h.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",h.separatorBorder.toString()))}addView(h,l,g=this.viewItems.length,d){this.doAddView(h,l,g,d)}layout(h,l){const g=Math.max(this.size,this._contentSize);if(this.size=h,this.layoutContext=l,this.proportions){let d=0;for(let v=0;v<this.viewItems.length;v++){const _=this.viewItems[v],S=this.proportions[v];typeof S=="number"?d+=S:h-=_.size}for(let v=0;v<this.viewItems.length;v++){const _=this.viewItems[v],S=this.proportions[v];typeof S=="number"&&d>0&&(_.size=(0,C.clamp)(Math.round(S*h/d),_.minimumSize,_.maximumSize))}}else{const d=(0,y.range)(this.viewItems.length),v=d.filter(S=>this.viewItems[S].priority===1),_=d.filter(S=>this.viewItems[S].priority===2);this.resize(this.viewItems.length-1,h-g,void 0,v,_)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this._contentSize>0&&(this.proportions=this.viewItems.map(h=>h.proportionalLayout&&h.visible?h.size/this._contentSize:void 0))}onSashStart({sash:h,start:l,alt:g}){for(const S of this.viewItems)S.enabled=!1;const d=this.sashItems.findIndex(S=>S.sash===h),v=(0,b.combinedDisposable)((0,f.addDisposableListener)(this.el.ownerDocument.body,"keydown",S=>_(this.sashDragState.current,S.altKey)),(0,f.addDisposableListener)(this.el.ownerDocument.body,"keyup",()=>_(this.sashDragState.current,!1))),_=(S,L)=>{const I=this.viewItems.map(M=>M.size);let T=Number.NEGATIVE_INFINITY,N=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(L=!L),L)if(d===this.sashItems.length-1){const R=this.viewItems[d];T=(R.minimumSize-R.size)/2,N=(R.maximumSize-R.size)/2}else{const R=this.viewItems[d+1];T=(R.size-R.maximumSize)/2,N=(R.size-R.minimumSize)/2}let A,O;if(!L){const M=(0,y.range)(d,-1),R=(0,y.range)(d+1,this.viewItems.length),x=M.reduce((G,te)=>G+(this.viewItems[te].minimumSize-I[te]),0),F=M.reduce((G,te)=>G+(this.viewItems[te].viewMaximumSize-I[te]),0),W=R.length===0?Number.POSITIVE_INFINITY:R.reduce((G,te)=>G+(I[te]-this.viewItems[te].minimumSize),0),H=R.length===0?Number.NEGATIVE_INFINITY:R.reduce((G,te)=>G+(I[te]-this.viewItems[te].viewMaximumSize),0),z=Math.max(x,H),j=Math.min(W,F),K=this.findFirstSnapIndex(M),U=this.findFirstSnapIndex(R);if(typeof K=="number"){const G=this.viewItems[K],te=Math.floor(G.viewMinimumSize/2);A={index:K,limitDelta:G.visible?z-te:z+te,size:G.size}}if(typeof U=="number"){const G=this.viewItems[U],te=Math.floor(G.viewMinimumSize/2);O={index:U,limitDelta:G.visible?j+te:j-te,size:G.size}}}this.sashDragState={start:S,current:S,index:d,sizes:I,minDelta:T,maxDelta:N,alt:L,snapBefore:A,snapAfter:O,disposable:v}};_(l,g)}onSashChange({current:h}){const{index:l,start:g,sizes:d,alt:v,minDelta:_,maxDelta:S,snapBefore:L,snapAfter:I}=this.sashDragState;this.sashDragState.current=h;const T=h-g,N=this.resize(l,T,d,void 0,void 0,_,S,L,I);if(v){const A=l===this.sashItems.length-1,O=this.viewItems.map(H=>H.size),M=A?l:l+1,R=this.viewItems[M],x=R.size-R.maximumSize,F=R.size-R.minimumSize,W=A?l-1:l+1;this.resize(W,-N,O,void 0,void 0,x,F)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(h){this._onDidSashChange.fire(h),this.sashDragState.disposable.dispose(),this.saveProportions();for(const l of this.viewItems)l.enabled=!0}onViewChange(h,l){const g=this.viewItems.indexOf(h);g<0||g>=this.viewItems.length||(l=typeof l=="number"?l:h.size,l=(0,C.clamp)(l,h.minimumSize,h.maximumSize),this.inverseAltBehavior&&g>0?(this.resize(g-1,Math.floor((h.size-l)/2)),this.distributeEmptySpace(),this.layoutViews()):(h.size=l,this.relayout([g],void 0)))}resizeView(h,l){if(!(h<0||h>=this.viewItems.length)){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;try{const g=(0,y.range)(this.viewItems.length).filter(S=>S!==h),d=[...g.filter(S=>this.viewItems[S].priority===1),h],v=g.filter(S=>this.viewItems[S].priority===2),_=this.viewItems[h];l=Math.round(l),l=(0,C.clamp)(l,_.minimumSize,Math.min(_.maximumSize,this.size)),_.size=l,this.relayout(d,v)}finally{this.state=m.Idle}}}distributeViewSizes(){const h=[];let l=0;for(const S of this.viewItems)S.maximumSize-S.minimumSize>0&&(h.push(S),l+=S.size);const g=Math.floor(l/h.length);for(const S of h)S.size=(0,C.clamp)(g,S.minimumSize,S.maximumSize);const d=(0,y.range)(this.viewItems.length),v=d.filter(S=>this.viewItems[S].priority===1),_=d.filter(S=>this.viewItems[S].priority===2);this.relayout(v,_)}getViewSize(h){return h<0||h>=this.viewItems.length?-1:this.viewItems[h].size}doAddView(h,l,g=this.viewItems.length,d){if(this.state!==m.Idle)throw new Error("Cant modify splitview");this.state=m.Busy;try{const v=(0,f.$)(".split-view-view");g===this.viewItems.length?this.viewContainer.appendChild(v):this.viewContainer.insertBefore(v,this.viewContainer.children.item(g));const _=h.onDidChange(A=>this.onViewChange(T,A)),S=(0,b.toDisposable)(()=>this.viewContainer.removeChild(v)),L=(0,b.combinedDisposable)(_,S);let I;typeof l=="number"?I=l:(l.type==="auto"&&(this.areViewsDistributed()?l={type:"distribute"}:l={type:"split",index:l.index}),l.type==="split"?I=this.getViewSize(l.index)/2:l.type==="invisible"?I={cachedVisibleSize:l.cachedVisibleSize}:I=h.minimumSize);const T=this.orientation===0?new n(v,h,I,L):new c(v,h,I,L);if(this.viewItems.splice(g,0,T),this.viewItems.length>1){const A={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},O=this.orientation===0?new E.Sash(this.sashContainer,{getHorizontalSashTop:G=>this.getSashPosition(G),getHorizontalSashWidth:this.getSashOrthogonalSize},{...A,orientation:1}):new E.Sash(this.sashContainer,{getVerticalSashLeft:G=>this.getSashPosition(G),getVerticalSashHeight:this.getSashOrthogonalSize},{...A,orientation:0}),M=this.orientation===0?G=>({sash:O,start:G.startY,current:G.currentY,alt:G.altKey}):G=>({sash:O,start:G.startX,current:G.currentX,alt:G.altKey}),x=w.Event.map(O.onDidStart,M)(this.onSashStart,this),W=w.Event.map(O.onDidChange,M)(this.onSashChange,this),z=w.Event.map(O.onDidEnd,()=>this.sashItems.findIndex(G=>G.sash===O))(this.onSashEnd,this),j=O.onDidReset(()=>{const G=this.sashItems.findIndex(Z=>Z.sash===O),te=(0,y.range)(G,-1),ee=(0,y.range)(G+1,this.viewItems.length),Y=this.findFirstSnapIndex(te),P=this.findFirstSnapIndex(ee);typeof Y=="number"&&!this.viewItems[Y].visible||typeof P=="number"&&!this.viewItems[P].visible||this._onDidSashReset.fire(G)}),K=(0,b.combinedDisposable)(x,W,z,j,O),U={sash:O,disposable:K};this.sashItems.splice(g-1,0,U)}v.appendChild(h.element);let N;typeof l!="number"&&l.type==="split"&&(N=[l.index]),d||this.relayout([g],N),!d&&typeof l!="number"&&l.type==="distribute"&&this.distributeViewSizes()}finally{this.state=m.Idle}}relayout(h,l){const g=this.viewItems.reduce((d,v)=>d+v.size,0);this.resize(this.viewItems.length-1,this.size-g,void 0,h,l),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(h,l,g=this.viewItems.map(T=>T.size),d,v,_=Number.NEGATIVE_INFINITY,S=Number.POSITIVE_INFINITY,L,I){if(h<0||h>=this.viewItems.length)return 0;const T=(0,y.range)(h,-1),N=(0,y.range)(h+1,this.viewItems.length);if(v)for(const U of v)(0,y.pushToStart)(T,U),(0,y.pushToStart)(N,U);if(d)for(const U of d)(0,y.pushToEnd)(T,U),(0,y.pushToEnd)(N,U);const A=T.map(U=>this.viewItems[U]),O=T.map(U=>g[U]),M=N.map(U=>this.viewItems[U]),R=N.map(U=>g[U]),x=T.reduce((U,G)=>U+(this.viewItems[G].minimumSize-g[G]),0),F=T.reduce((U,G)=>U+(this.viewItems[G].maximumSize-g[G]),0),W=N.length===0?Number.POSITIVE_INFINITY:N.reduce((U,G)=>U+(g[G]-this.viewItems[G].minimumSize),0),H=N.length===0?Number.NEGATIVE_INFINITY:N.reduce((U,G)=>U+(g[G]-this.viewItems[G].maximumSize),0),z=Math.max(x,H,_),j=Math.min(W,F,S);let K=!1;if(L){const U=this.viewItems[L.index],G=l>=L.limitDelta;K=G!==U.visible,U.setVisible(G,L.size)}if(!K&&I){const U=this.viewItems[I.index],G=l<I.limitDelta;K=G!==U.visible,U.setVisible(G,I.size)}if(K)return this.resize(h,l,g,d,v,_,S);l=(0,C.clamp)(l,z,j);for(let U=0,G=l;U<A.length;U++){const te=A[U],ee=(0,C.clamp)(O[U]+G,te.minimumSize,te.maximumSize),Y=ee-O[U];G-=Y,te.size=ee}for(let U=0,G=l;U<M.length;U++){const te=M[U],ee=(0,C.clamp)(R[U]-G,te.minimumSize,te.maximumSize),Y=ee-R[U];G+=Y,te.size=ee}return l}distributeEmptySpace(h){const l=this.viewItems.reduce((S,L)=>S+L.size,0);let g=this.size-l;const d=(0,y.range)(this.viewItems.length-1,-1),v=d.filter(S=>this.viewItems[S].priority===1),_=d.filter(S=>this.viewItems[S].priority===2);for(const S of _)(0,y.pushToStart)(d,S);for(const S of v)(0,y.pushToEnd)(d,S);typeof h=="number"&&(0,y.pushToEnd)(d,h);for(let S=0;g!==0&&S<d.length;S++){const L=this.viewItems[d[S]],I=(0,C.clamp)(L.size+g,L.minimumSize,L.maximumSize),T=I-L.size;g-=T,L.size=I}}layoutViews(){this._contentSize=this.viewItems.reduce((l,g)=>l+g.size,0);let h=0;for(const l of this.viewItems)l.layout(h,this.layoutContext),h+=l.size;this.sashItems.forEach(l=>l.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this._contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this._contentSize})}updateSashEnablement(){let h=!1;const l=this.viewItems.map(L=>h=L.size-L.minimumSize>0||h);h=!1;const g=this.viewItems.map(L=>h=L.maximumSize-L.size>0||h),d=[...this.viewItems].reverse();h=!1;const v=d.map(L=>h=L.size-L.minimumSize>0||h).reverse();h=!1;const _=d.map(L=>h=L.maximumSize-L.size>0||h).reverse();let S=0;for(let L=0;L<this.sashItems.length;L++){const{sash:I}=this.sashItems[L],T=this.viewItems[L];S+=T.size;const N=!(l[L]&&_[L+1]),A=!(g[L]&&v[L+1]);if(N&&A){const O=(0,y.range)(L,-1),M=(0,y.range)(L+1,this.viewItems.length),R=this.findFirstSnapIndex(O),x=this.findFirstSnapIndex(M),F=typeof R=="number"&&!this.viewItems[R].visible,W=typeof x=="number"&&!this.viewItems[x].visible;F&&v[L]&&(S>0||this.startSnappingEnabled)?I.state=1:W&&l[L]&&(S<this._contentSize||this.endSnappingEnabled)?I.state=2:I.state=0}else N&&!A?I.state=1:!N&&A?I.state=2:I.state=3}}getSashPosition(h){let l=0;for(let g=0;g<this.sashItems.length;g++)if(l+=this.viewItems[g].size,this.sashItems[g].sash===h)return l;return 0}findFirstSnapIndex(h){for(const l of h){const g=this.viewItems[l];if(g.visible&&g.snap)return l}for(const l of h){const g=this.viewItems[l];if(g.visible&&g.maximumSize-g.minimumSize>0)return;if(!g.visible&&g.snap)return l}}areViewsDistributed(){let h,l;for(const g of this.viewItems)if(h=h===void 0?g.size:Math.min(h,g.size),l=l===void 0?g.size:Math.max(l,g.size),l-h>2)return!1;return!0}dispose(){var h;(h=this.sashDragState)===null||h===void 0||h.disposable.dispose(),(0,b.dispose)(this.viewItems),this.viewItems=[],this.sashItems.forEach(l=>l.disposable.dispose()),this.sashItems=[],super.dispose()}}e.SplitView=r}),define(ie[630],ne([1,0,6,77,44,111,344,7,2,454]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Table=void 0;class b{constructor(t,n,c){this.columns=t,this.getColumnSize=c,this.templateId=b.TemplateId,this.renderedTemplates=new Set;const m=new Map(n.map(u=>[u.templateId,u]));this.renderers=[];for(const u of t){const r=m.get(u.templateId);if(!r)throw new Error(`Table cell renderer for template id ${u.templateId} not found.`);this.renderers.push(r)}}renderTemplate(t){const n=(0,f.append)(t,(0,f.$)(".monaco-table-tr")),c=[],m=[];for(let r=0;r<this.columns.length;r++){const a=this.renderers[r],h=(0,f.append)(n,(0,f.$)(".monaco-table-td",{"data-col-index":r}));h.style.width=`${this.getColumnSize(r)}px`,c.push(h),m.push(a.renderTemplate(h))}const u={container:t,cellContainers:c,cellTemplateData:m};return this.renderedTemplates.add(u),u}renderElement(t,n,c,m){for(let u=0;u<this.columns.length;u++){const a=this.columns[u].project(t);this.renderers[u].renderElement(a,n,c.cellTemplateData[u],m)}}disposeElement(t,n,c,m){for(let u=0;u<this.columns.length;u++){const r=this.renderers[u];if(r.disposeElement){const h=this.columns[u].project(t);r.disposeElement(h,n,c.cellTemplateData[u],m)}}}disposeTemplate(t){for(let n=0;n<this.columns.length;n++)this.renderers[n].disposeTemplate(t.cellTemplateData[n]);(0,f.clearNode)(t.container),this.renderedTemplates.delete(t)}layoutColumn(t,n){for(const{cellContainers:c}of this.renderedTemplates)c[t].style.width=`${n}px`}}b.TemplateId="row";function C(i){return{getHeight(t){return i.getHeight(t)},getTemplateId(){return b.TemplateId}}}class o extends w.Disposable{get minimumSize(){var t;return(t=this.column.minimumWidth)!==null&&t!==void 0?t:120}get maximumSize(){var t;return(t=this.column.maximumWidth)!==null&&t!==void 0?t:Number.POSITIVE_INFINITY}get onDidChange(){var t;return(t=this.column.onDidChangeWidthConstraints)!==null&&t!==void 0?t:p.Event.None}constructor(t,n){super(),this.column=t,this.index=n,this._onDidLayout=new p.Emitter,this.onDidLayout=this._onDidLayout.event,this.element=(0,f.$)(".monaco-table-th",{"data-col-index":n},t.label),t.tooltip&&this._register((0,k.getBaseLayerHoverDelegate)().setupUpdatableHover((0,E.getDefaultHoverDelegate)("mouse"),this.element,t.tooltip))}layout(t){this._onDidLayout.fire([this.index,t])}}class s{get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onDidScroll(){return this.list.onDidScroll}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get scrollTop(){return this.list.scrollTop}set scrollTop(t){this.list.scrollTop=t}get scrollHeight(){return this.list.scrollHeight}get renderHeight(){return this.list.renderHeight}get onDidDispose(){return this.list.onDidDispose}constructor(t,n,c,m,u,r){this.virtualDelegate=c,this.domId=`table_id_${++s.InstanceCount}`,this.disposables=new w.DisposableStore,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,f.append)(n,(0,f.$)(`.monaco-table.${this.domId}`));const a=m.map((g,d)=>this.disposables.add(new o(g,d))),h={size:a.reduce((g,d)=>g+d.column.weight,0),views:a.map(g=>({size:g.column.weight,view:g}))};this.splitview=this.disposables.add(new y.SplitView(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:h})),this.splitview.el.style.height=`${c.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${c.headerRowHeight}px`;const l=new b(m,u,g=>this.splitview.getViewSize(g));this.list=this.disposables.add(new D.List(t,this.domNode,C(c),[l],r)),p.Event.any(...a.map(g=>g.onDidLayout))(([g,d])=>l.layoutColumn(g,d),null,this.disposables),this.splitview.onDidSashReset(g=>{const d=m.reduce((_,S)=>_+S.weight,0),v=m[g].weight/d*this.cachedWidth;this.splitview.resizeView(g,v)},null,this.disposables),this.styleElement=(0,f.createStyleSheet)(this.domNode),this.style(D.unthemedListStyles)}updateOptions(t){this.list.updateOptions(t)}splice(t,n,c=[]){this.list.splice(t,n,c)}getHTMLElement(){return this.domNode}style(t){const n=[];n.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=n.join(`
`),this.list.style(t)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}e.Table=s,s.InstanceCount=0}),define(ie[169],ne([1,0,80,31,7,44,77,455]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Toggle=e.unthemedToggleStyles=void 0,e.unthemedToggleStyles={inputActiveOptionBorder:"#007ACC00",inputActiveOptionForeground:"#FFFFFF",inputActiveOptionBackground:"#0E639C50"};class p extends f.Widget{constructor(b){var C;super(),this._onChange=this._register(new E.Emitter),this.onChange=this._onChange.event,this._onKeyDown=this._register(new E.Emitter),this.onKeyDown=this._onKeyDown.event,this._opts=b,this._checked=this._opts.isChecked;const o=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,o.push(...k.ThemeIcon.asClassNameArray(this._icon))),this._opts.actionClassName&&o.push(...this._opts.actionClassName.split(" ")),this._checked&&o.push("checked"),this.domNode=document.createElement("div"),this._hover=this._register((0,y.getBaseLayerHoverDelegate)().setupUpdatableHover((C=b.hoverDelegate)!==null&&C!==void 0?C:(0,D.getDefaultHoverDelegate)("mouse"),this.domNode,this._opts.title)),this.domNode.classList.add(...o),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,s=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),s.preventDefault())}),this._register(this.ignoreGesture(this.domNode)),this.onkeydown(this.domNode,s=>{if(s.keyCode===10||s.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),s.preventDefault(),s.stopPropagation();return}this._onKeyDown.fire(s)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(b){this._checked=b,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 22}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder||"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground||"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground||"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}e.Toggle=p}),define(ie[345],ne([1,0,44,169,26,604]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RegexToggle=e.WholeWordsToggle=e.CaseSensitiveToggle=void 0;const y=D.localize(0,null),p=D.localize(1,null),w=D.localize(2,null);class b extends k.Toggle{constructor(i){var t;super({icon:E.Codicon.caseSensitive,title:y+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.CaseSensitiveToggle=b;class C extends k.Toggle{constructor(i){var t;super({icon:E.Codicon.wholeWord,title:p+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.WholeWordsToggle=C;class o extends k.Toggle{constructor(i){var t;super({icon:E.Codicon.regex,title:w+i.appendTitle,isChecked:i.isChecked,hoverDelegate:(t=i.hoverDelegate)!==null&&t!==void 0?t:(0,f.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:i.inputActiveOptionBorder,inputActiveOptionForeground:i.inputActiveOptionForeground,inputActiveOptionBackground:i.inputActiveOptionBackground})}}e.RegexToggle=o}),define(ie[50],ne([1,0,244,49,97,17,12,22]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataUri=e.addTrailingPathSeparator=e.removeTrailingPathSeparator=e.hasTrailingPathSeparator=e.isEqualAuthority=e.isAbsolutePath=e.resolvePath=e.relativePath=e.normalizePath=e.joinPath=e.dirname=e.extname=e.basename=e.basenameOrAuthority=e.getComparisonKey=e.isEqualOrParent=e.isEqual=e.extUriIgnorePathCase=e.extUriBiasedIgnorePathCase=e.extUri=e.ExtUri=void 0,e.originalFSPath=w;function w(o){return(0,p.uriToFsPath)(o,!0)}class b{constructor(s){this._ignorePathCasing=s}compare(s,i,t=!1){return s===i?0:(0,y.compare)(this.getComparisonKey(s,t),this.getComparisonKey(i,t))}isEqual(s,i,t=!1){return s===i?!0:!s||!i?!1:this.getComparisonKey(s,t)===this.getComparisonKey(i,t)}getComparisonKey(s,i=!1){return s.with({path:this._ignorePathCasing(s)?s.path.toLowerCase():void 0,fragment:i?null:void 0}).toString()}isEqualOrParent(s,i,t=!1){if(s.scheme===i.scheme){if(s.scheme===k.Schemas.file)return f.isEqualOrParent(w(s),w(i),this._ignorePathCasing(s))&&s.query===i.query&&(t||s.fragment===i.fragment);if((0,e.isEqualAuthority)(s.authority,i.authority))return f.isEqualOrParent(s.path,i.path,this._ignorePathCasing(s),"/")&&s.query===i.query&&(t||s.fragment===i.fragment)}return!1}joinPath(s,...i){return p.URI.joinPath(s,...i)}basenameOrAuthority(s){return(0,e.basename)(s)||s.authority}basename(s){return E.posix.basename(s.path)}extname(s){return E.posix.extname(s.path)}dirname(s){if(s.path.length===0)return s;let i;return s.scheme===k.Schemas.file?i=p.URI.file(E.dirname(w(s))).path:(i=E.posix.dirname(s.path),s.authority&&i.length&&i.charCodeAt(0)!==47&&(console.error(`dirname("${s.toString})) resulted in a relative path`),i="/")),s.with({path:i})}normalizePath(s){if(!s.path.length)return s;let i;return s.scheme===k.Schemas.file?i=p.URI.file(E.normalize(w(s))).path:i=E.posix.normalize(s.path),s.with({path:i})}relativePath(s,i){if(s.scheme!==i.scheme||!(0,e.isEqualAuthority)(s.authority,i.authority))return;if(s.scheme===k.Schemas.file){const c=E.relative(w(s),w(i));return D.isWindows?f.toSlashes(c):c}let t=s.path||"/";const n=i.path||"/";if(this._ignorePathCasing(s)){let c=0;for(const m=Math.min(t.length,n.length);c<m&&!(t.charCodeAt(c)!==n.charCodeAt(c)&&t.charAt(c).toLowerCase()!==n.charAt(c).toLowerCase());c++);t=n.substr(0,c)+t.substr(c)}return E.posix.relative(t,n)}resolvePath(s,i){if(s.scheme===k.Schemas.file){const t=p.URI.file(E.resolve(w(s),i));return s.with({authority:t.authority,path:t.path})}return i=f.toPosixPath(i),s.with({path:E.posix.resolve(s.path,i)})}isAbsolutePath(s){return!!s.path&&s.path[0]==="/"}isEqualAuthority(s,i){return s===i||s!==void 0&&i!==void 0&&(0,y.equalsIgnoreCase)(s,i)}hasTrailingPathSeparator(s,i=E.sep){if(s.scheme===k.Schemas.file){const t=w(s);return t.length>f.getRoot(t).length&&t[t.length-1]===i}else{const t=s.path;return t.length>1&&t.charCodeAt(t.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(s.fsPath)}}removeTrailingPathSeparator(s,i=E.sep){return(0,e.hasTrailingPathSeparator)(s,i)?s.with({path:s.path.substr(0,s.path.length-1)}):s}addTrailingPathSeparator(s,i=E.sep){let t=!1;if(s.scheme===k.Schemas.file){const n=w(s);t=n!==void 0&&n.length===f.getRoot(n).length&&n[n.length-1]===i}else{i="/";const n=s.path;t=n.length===1&&n.charCodeAt(n.length-1)===47}return!t&&!(0,e.hasTrailingPathSeparator)(s,i)?s.with({path:s.path+"/"}):s}}e.ExtUri=b,e.extUri=new b(()=>!1),e.extUriBiasedIgnorePathCase=new b(o=>o.scheme===k.Schemas.file?!D.isLinux:!0),e.extUriIgnorePathCase=new b(o=>!0),e.isEqual=e.extUri.isEqual.bind(e.extUri),e.isEqualOrParent=e.extUri.isEqualOrParent.bind(e.extUri),e.getComparisonKey=e.extUri.getComparisonKey.bind(e.extUri),e.basenameOrAuthority=e.extUri.basenameOrAuthority.bind(e.extUri),e.basename=e.extUri.basename.bind(e.extUri),e.extname=e.extUri.extname.bind(e.extUri),e.dirname=e.extUri.dirname.bind(e.extUri),e.joinPath=e.extUri.joinPath.bind(e.extUri),e.normalizePath=e.extUri.normalizePath.bind(e.extUri),e.relativePath=e.extUri.relativePath.bind(e.extUri),e.resolvePath=e.extUri.resolvePath.bind(e.extUri),e.isAbsolutePath=e.extUri.isAbsolutePath.bind(e.extUri),e.isEqualAuthority=e.extUri.isEqualAuthority.bind(e.extUri),e.hasTrailingPathSeparator=e.extUri.hasTrailingPathSeparator.bind(e.extUri),e.removeTrailingPathSeparator=e.extUri.removeTrailingPathSeparator.bind(e.extUri),e.addTrailingPathSeparator=e.extUri.addTrailingPathSeparator.bind(e.extUri);var C;(function(o){o.META_DATA_LABEL="label",o.META_DATA_DESCRIPTION="description",o.META_DATA_SIZE="size",o.META_DATA_MIME="mime";function s(i){const t=new Map;i.path.substring(i.path.indexOf(";")+1,i.path.lastIndexOf(";")).split(";").forEach(m=>{const[u,r]=m.split(":");u&&r&&t.set(u,r)});const c=i.path.substring(0,i.path.indexOf(";"));return c&&t.set(o.META_DATA_MIME,c),t}o.parseMetaData=s})(C||(e.DataUri=C={}))}),define(ie[57],ne([1,0,10,137,50,12,22]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownString=void 0,e.isEmptyMarkdownString=w,e.isMarkdownString=b,e.markdownStringEqual=C,e.escapeMarkdownSyntaxTokens=o,e.appendEscapedMarkdownCodeBlockFence=s,e.escapeDoubleQuotes=i,e.removeMarkdownEscapes=t,e.parseHrefAndDimensions=n;class p{constructor(m="",u=!1){var r,a,h;if(this.value=m,typeof this.value!="string")throw(0,f.illegalArgument)("value");typeof u=="boolean"?(this.isTrusted=u,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(r=u.isTrusted)!==null&&r!==void 0?r:void 0,this.supportThemeIcons=(a=u.supportThemeIcons)!==null&&a!==void 0?a:!1,this.supportHtml=(h=u.supportHtml)!==null&&h!==void 0?h:!1)}appendText(m,u=0){return this.value+=o(this.supportThemeIcons?(0,k.escapeIcons)(m):m).replace(/([ \t]+)/g,(r,a)=>"&nbsp;".repeat(a.length)).replace(/\>/gm,"\\>").replace(/\n/g,u===1?`\\
`:`

`),this}appendMarkdown(m){return this.value+=m,this}appendCodeblock(m,u){return this.value+=`
${s(u,m)}
`,this}appendLink(m,u,r){return this.value+="[",this.value+=this._escape(u,"]"),this.value+="](",this.value+=this._escape(String(m),")"),r&&(this.value+=` "${this._escape(this._escape(r,'"'),")")}"`),this.value+=")",this}_escape(m,u){const r=new RegExp((0,D.escapeRegExpCharacters)(u),"g");return m.replace(r,(a,h)=>m.charAt(h-1)!=="\\"?`\\${a}`:a)}}e.MarkdownString=p;function w(c){return b(c)?!c.value:Array.isArray(c)?c.every(w):!0}function b(c){return c instanceof p?!0:c&&typeof c=="object"?typeof c.value=="string"&&(typeof c.isTrusted=="boolean"||typeof c.isTrusted=="object"||c.isTrusted===void 0)&&(typeof c.supportThemeIcons=="boolean"||c.supportThemeIcons===void 0):!1}function C(c,m){return c===m?!0:!c||!m?!1:c.value===m.value&&c.isTrusted===m.isTrusted&&c.supportThemeIcons===m.supportThemeIcons&&c.supportHtml===m.supportHtml&&(c.baseUri===m.baseUri||!!c.baseUri&&!!m.baseUri&&(0,E.isEqual)(y.URI.from(c.baseUri),y.URI.from(m.baseUri)))}function o(c){return c.replace(/[\\`*_{}[\]()#+\-!~]/g,"\\$&")}function s(c,m){var u,r;const a=(r=(u=c.match(/^`+/gm))===null||u===void 0?void 0:u.reduce((l,g)=>l.length>g.length?l:g).length)!==null&&r!==void 0?r:0,h=a>=3?a+1:3;return[`${"`".repeat(h)}${m}`,c,`${"`".repeat(h)}`].join(`
`)}function i(c){return c.replace(/"/g,"&quot;")}function t(c){return c&&c.replace(/\\([\\`*_{}[\]()#+\-.!~])/g,"$1")}function n(c){const m=[],u=c.split("|").map(a=>a.trim());c=u[0];const r=u[1];if(r){const a=/height=(\d+)/.exec(r),h=/width=(\d+)/.exec(r),l=a?a[1]:"",g=h?h[1]:"",d=isFinite(parseInt(g)),v=isFinite(parseInt(l));d&&m.push(`width="${g}"`),v&&m.push(`height="${l}"`)}return{href:c,dimensions:m}}}),define(ie[201],ne([1,0,6,338,89,339,46,73,110,10,7,57,137,181,95,2,428,245,49,55,50,12,22]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.allowedMarkdownAttr=void 0,e.renderMarkdown=d,e.renderStringAsPlaintext=I,e.renderMarkdownAsPlaintext=T,e.fillInIncompleteTokens=x;const g=Object.freeze({image:(P,Z,re)=>{let ce=[],he=[];return P&&({href:P,dimensions:ce}=(0,o.parseHrefAndDimensions)(P),he.push(`src="${(0,o.escapeDoubleQuotes)(P)}"`)),re&&he.push(`alt="${(0,o.escapeDoubleQuotes)(re)}"`),Z&&he.push(`title="${(0,o.escapeDoubleQuotes)(Z)}"`),ce.length&&(he=he.concat(ce)),"<img "+he.join(" ")+">"},paragraph:P=>`<p>${P}</p>`,link:(P,Z,re)=>typeof P!="string"?"":(P===re&&(re=(0,o.removeMarkdownEscapes)(re)),Z=typeof Z=="string"?(0,o.escapeDoubleQuotes)((0,o.removeMarkdownEscapes)(Z)):"",P=(0,o.removeMarkdownEscapes)(P),P=P.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${P}" title="${Z||P}" draggable="false">${re}</a>`)});function d(P,Z={},re={}){var ce,he;const pe=new n.DisposableStore;let ge=!1;const X=(0,D.createElement)(Z),ae=function(le){let fe;try{fe=(0,m.parse)(decodeURIComponent(le))}catch{}return fe?(fe=(0,r.cloneAndChange)(fe,ve=>{if(P.uris&&P.uris[ve])return l.URI.revive(P.uris[ve])}),encodeURIComponent(JSON.stringify(fe))):le},oe=function(le,fe){const ve=P.uris&&P.uris[le];let Ce=l.URI.revive(ve);return fe?le.startsWith(u.Schemas.data+":")?le:(Ce||(Ce=l.URI.parse(le)),u.FileAccess.uriToBrowserUri(Ce).toString(!0)):!Ce||l.URI.parse(le).toString()===Ce.toString()?le:(Ce.query&&(Ce=Ce.with({query:ae(Ce.query)})),Ce.toString())},B=new c.marked.Renderer;B.image=g.image,B.link=g.link,B.paragraph=g.paragraph;const q=[],V=[];if(Z.codeBlockRendererSync?B.code=(le,fe)=>{const ve=i.defaultGenerator.nextId(),Ce=Z.codeBlockRendererSync(v(fe),le);return V.push([ve,Ce]),`<div class="code" data-code="${ve}">${(0,h.escape)(le)}</div>`}:Z.codeBlockRenderer&&(B.code=(le,fe)=>{const ve=i.defaultGenerator.nextId(),Ce=Z.codeBlockRenderer(v(fe),le);return q.push(Ce.then(Se=>[ve,Se])),`<div class="code" data-code="${ve}">${(0,h.escape)(le)}</div>`}),Z.actionHandler){const le=function(Ce){let Se=Ce.target;if(!(Se.tagName!=="A"&&(Se=Se.parentElement,!Se||Se.tagName!=="A")))try{let _e=Se.dataset.href;_e&&(P.baseUri&&(_e=_(l.URI.from(P.baseUri),_e)),Z.actionHandler.callback(_e,Ce))}catch(_e){(0,b.onUnexpectedError)(_e)}finally{Ce.preventDefault()}},fe=Z.actionHandler.disposables.add(new E.DomEmitter(X,"click")),ve=Z.actionHandler.disposables.add(new E.DomEmitter(X,"auxclick"));Z.actionHandler.disposables.add(C.Event.any(fe.event,ve.event)(Ce=>{const Se=new p.StandardMouseEvent(f.getWindow(X),Ce);!Se.leftButton&&!Se.middleButton||le(Se)})),Z.actionHandler.disposables.add(f.addDisposableListener(X,"keydown",Ce=>{const Se=new y.StandardKeyboardEvent(Ce);!Se.equals(10)&&!Se.equals(3)||le(Se)}))}P.supportHtml||(re.sanitizer=le=>(P.isTrusted?le.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?le:"",re.sanitize=!0,re.silent=!0),re.renderer=B;let $=(ce=P.value)!==null&&ce!==void 0?ce:"";$.length>1e5&&($=`${$.substr(0,1e5)}\u2026`),P.supportThemeIcons&&($=(0,s.markdownEscapeEscapedIcons)($));let J;if(Z.fillInIncompleteTokens){const le={...c.marked.defaults,...re},fe=c.marked.lexer($,le),ve=x(fe);J=c.marked.parser(ve,le)}else J=c.marked.parse($,re);P.supportThemeIcons&&(J=(0,w.renderLabelWithIcons)(J).map(fe=>typeof fe=="string"?fe:fe.outerHTML).join(""));const de=new DOMParser().parseFromString(S(P,J),"text/html");if(de.body.querySelectorAll("img, audio, video, source").forEach(le=>{const fe=le.getAttribute("src");if(fe){let ve=fe;try{P.baseUri&&(ve=_(l.URI.from(P.baseUri),ve))}catch{}if(le.setAttribute("src",oe(ve,!0)),Z.disallowRemoteImages){const Ce=l.URI.parse(ve).scheme;Ce!==u.Schemas.file&&Ce!==u.Schemas.data&&le.replaceWith(f.$("",void 0,le.outerHTML))}}}),de.body.querySelectorAll("a").forEach(le=>{const fe=le.getAttribute("href");if(le.setAttribute("href",""),!fe||/^data:|javascript:/i.test(fe)||/^command:/i.test(fe)&&!P.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test(fe))le.replaceWith(...le.childNodes);else{let ve=oe(fe,!1);P.baseUri&&(ve=_(l.URI.from(P.baseUri),fe)),le.dataset.href=ve}}),X.innerHTML=S(P,de.body.innerHTML),q.length>0)Promise.all(q).then(le=>{var fe,ve;if(ge)return;const Ce=new Map(le),Se=X.querySelectorAll("div[data-code]");for(const _e of Se){const ke=Ce.get((fe=_e.dataset.code)!==null&&fe!==void 0?fe:"");ke&&f.reset(_e,ke)}(ve=Z.asyncRenderCallback)===null||ve===void 0||ve.call(Z)});else if(V.length>0){const le=new Map(V),fe=X.querySelectorAll("div[data-code]");for(const ve of fe){const Ce=le.get((he=ve.dataset.code)!==null&&he!==void 0?he:"");Ce&&f.reset(ve,Ce)}}if(Z.asyncRenderCallback)for(const le of X.getElementsByTagName("img")){const fe=pe.add(f.addDisposableListener(le,"load",()=>{fe.dispose(),Z.asyncRenderCallback()}))}return{element:X,dispose:()=>{ge=!0,pe.dispose()}}}function v(P){if(!P)return"";const Z=P.split(/[\s+|:|,|\{|\?]/,1);return Z.length?Z[0]:P}function _(P,Z){return/^\w[\w\d+.-]*:/.test(Z)?Z:P.path.endsWith("/")?(0,a.resolvePath)(P,Z).toString():(0,a.resolvePath)((0,a.dirname)(P),Z).toString()}function S(P,Z){const{config:re,allowedSchemes:ce}=L(P);k.addHook("uponSanitizeAttribute",(pe,ge)=>{var X;if(ge.attrName==="style"||ge.attrName==="class"){if(pe.tagName==="SPAN"){if(ge.attrName==="style"){ge.keepAttr=/^(color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?(background-color\:(#[0-9a-fA-F]+|var\(--vscode(-[a-zA-Z]+)+\));)?$/.test(ge.attrValue);return}else if(ge.attrName==="class"){ge.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(ge.attrValue);return}}ge.keepAttr=!1;return}else if(pe.tagName==="INPUT"&&((X=pe.attributes.getNamedItem("type"))===null||X===void 0?void 0:X.value)==="checkbox"){if(ge.attrName==="type"&&ge.attrValue==="checkbox"||ge.attrName==="disabled"||ge.attrName==="checked"){ge.keepAttr=!0;return}ge.keepAttr=!1}}),k.addHook("uponSanitizeElement",(pe,ge)=>{var X,ae;ge.tagName==="input"&&(((X=pe.attributes.getNamedItem("type"))===null||X===void 0?void 0:X.value)==="checkbox"?pe.setAttribute("disabled",""):(ae=pe.parentElement)===null||ae===void 0||ae.removeChild(pe))});const he=f.hookDomPurifyHrefAndSrcSanitizer(ce);try{return k.sanitize(Z,{...re,RETURN_TRUSTED_TYPE:!0})}finally{k.removeHook("uponSanitizeAttribute"),he.dispose()}}e.allowedMarkdownAttr=["align","autoplay","alt","checked","class","controls","data-code","data-href","disabled","draggable","height","href","loop","muted","playsinline","poster","src","style","target","title","type","width","start"];function L(P){const Z=[u.Schemas.http,u.Schemas.https,u.Schemas.mailto,u.Schemas.data,u.Schemas.file,u.Schemas.vscodeFileResource,u.Schemas.vscodeRemote,u.Schemas.vscodeRemoteResource];return P.isTrusted&&Z.push(u.Schemas.command),{config:{ALLOWED_TAGS:[...f.basicMarkupHtmlTags],ALLOWED_ATTR:e.allowedMarkdownAttr,ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:Z}}function I(P){return typeof P=="string"?P:T(P)}function T(P){var Z;let re=(Z=P.value)!==null&&Z!==void 0?Z:"";re.length>1e5&&(re=`${re.substr(0,1e5)}\u2026`);const ce=c.marked.parse(re,{renderer:A.value}).replace(/&(#\d+|[a-zA-Z]+);/g,he=>{var pe;return(pe=N.get(he))!==null&&pe!==void 0?pe:he});return S({isTrusted:!1},ce).toString()}const N=new Map([["&quot;",'"'],["&nbsp;"," "],["&amp;","&"],["&#39;","'"],["&lt;","<"],["&gt;",">"]]),A=new t.Lazy(()=>{const P=new c.marked.Renderer;return P.code=Z=>Z,P.blockquote=Z=>Z,P.html=Z=>"",P.heading=(Z,re,ce)=>Z+`
`,P.hr=()=>"",P.list=(Z,re)=>Z,P.listitem=Z=>Z+`
`,P.paragraph=Z=>Z+`
`,P.table=(Z,re)=>Z+re+`
`,P.tablerow=Z=>Z,P.tablecell=(Z,re)=>Z+" ",P.strong=Z=>Z,P.em=Z=>Z,P.codespan=Z=>Z,P.br=()=>`
`,P.del=Z=>Z,P.image=(Z,re,ce)=>"",P.text=Z=>Z,P.link=(Z,re,ce)=>ce,P});function O(P){let Z="";return P.forEach(re=>{Z+=re.raw}),Z}function M(P){var Z,re;for(let ce=0;ce<P.tokens.length;ce++){const he=P.tokens[ce];if(he.type==="text"){const pe=he.raw.split(`
`),ge=pe[pe.length-1];if(ge.includes("`"))return W(P);if(ge.includes("**"))return G(P);if(ge.match(/\*\w/))return H(P);if(ge.match(/(^|\s)__\w/))return te(P);if(ge.match(/(^|\s)_\w/))return z(P);if(ge.match(/(^|\s)\[.*\]\(\w*/)){const X=P.tokens.slice(ce+1);return((Z=X[0])===null||Z===void 0?void 0:Z.type)==="link"&&((re=X[1])===null||re===void 0?void 0:re.type)==="text"&&X[1].raw.match(/^ *"[^"]*$/)?K(P):j(P)}else{if(R(ge))return j(P);if(ge.match(/(^|\s)\[\w/)&&!P.tokens.slice(ce+1).some(X=>R(X.raw)))return U(P)}}}}function R(P){return!!P.match(/^[^\[]*\]\([^\)]*$/)}function x(P){let Z,re;for(Z=0;Z<P.length;Z++){const ce=P[Z];let he;if(ce.type==="paragraph"&&(he=ce.raw.match(/(\n|^)(````*)/))){const pe=he[2];re=F(P.slice(Z),pe);break}if(ce.type==="paragraph"&&ce.raw.match(/(\n|^)\|/)){re=Y(P.slice(Z));break}if(Z===P.length-1&&ce.type==="paragraph"){const pe=M(ce);if(pe){re=[pe];break}}}if(re){const ce=[...P.slice(0,Z),...re];return ce.links=P.links,ce}return P}function F(P,Z){const re=O(P);return c.marked.lexer(re+`
${Z}`)}function W(P){return ee(P,"`")}function H(P){return ee(P,"*")}function z(P){return ee(P,"_")}function j(P){return ee(P,")")}function K(P){return ee(P,'")')}function U(P){return ee(P,"](about:blank)")}function G(P){return ee(P,"**")}function te(P){return ee(P,"__")}function ee(P,Z){const re=O(Array.isArray(P)?P:[P]);return c.marked.lexer(re+Z)[0]}function Y(P){const Z=O(P),re=Z.split(`
`);let ce,he=!1;for(let pe=0;pe<re.length;pe++){const ge=re[pe].trim();if(typeof ce>"u"&&ge.match(/^\s*\|/)){const X=ge.match(/(\|[^\|]+)(?=\||$)/g);X&&(ce=X.length)}else if(typeof ce=="number")if(ge.match(/^\s*\|/)){if(pe!==re.length-1)return;he=!0}else return}if(typeof ce=="number"&&ce>0){const pe=he?re.slice(0,-1).join(`
`):Z,ge=!!pe.match(/\|\s*$/),X=pe+(ge?"":"|")+`
|${" --- |".repeat(ce)}`;return c.marked.lexer(X)}}}),define(ie[251],ne([1,0,6,338,46,201,68,44,110,35,7,57,2,31,77,438]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=e.unthemedButtonStyles=void 0,e.unthemedButtonStyles={buttonBackground:"#0E639C",buttonHoverBackground:"#006BB3",buttonSeparator:b.Color.white.toString(),buttonForeground:b.Color.white.toString(),buttonBorder:void 0,buttonSecondaryBackground:void 0,buttonSecondaryForeground:void 0,buttonSecondaryHoverBackground:void 0};class n extends s.Disposable{get onDidClick(){return this._onDidClick.event}constructor(m,u){super(),this._label="",this._onDidClick=this._register(new C.Emitter),this._onDidEscape=this._register(new C.Emitter),this.options=u,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),this._element.classList.toggle("secondary",!!u.secondary);const r=u.secondary?u.buttonSecondaryBackground:u.buttonBackground,a=u.secondary?u.buttonSecondaryForeground:u.buttonForeground;this._element.style.color=a||"",this._element.style.backgroundColor=r||"",u.supportShortLabel&&(this._labelShortElement=document.createElement("div"),this._labelShortElement.classList.add("monaco-button-label-short"),this._element.appendChild(this._labelShortElement),this._labelElement=document.createElement("div"),this._labelElement.classList.add("monaco-button-label"),this._element.appendChild(this._labelElement),this._element.classList.add("monaco-text-button-with-short-label")),typeof u.title=="string"&&this.setTitle(u.title),typeof u.ariaLabel=="string"&&this._element.setAttribute("aria-label",u.ariaLabel),m.appendChild(this._element),this._register(y.Gesture.addTarget(this._element)),[f.EventType.CLICK,y.EventType.Tap].forEach(h=>{this._register((0,f.addDisposableListener)(this._element,h,l=>{if(!this.enabled){f.EventHelper.stop(l);return}this._onDidClick.fire(l)}))}),this._register((0,f.addDisposableListener)(this._element,f.EventType.KEY_DOWN,h=>{const l=new E.StandardKeyboardEvent(h);let g=!1;this.enabled&&(l.equals(3)||l.equals(10))?(this._onDidClick.fire(h),g=!0):l.equals(9)&&(this._onDidEscape.fire(h),this._element.blur(),g=!0),g&&f.EventHelper.stop(l,!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OVER,h=>{this._element.classList.contains("disabled")||this.updateBackground(!0)})),this._register((0,f.addDisposableListener)(this._element,f.EventType.MOUSE_OUT,h=>{this.updateBackground(!1)})),this.focusTracker=this._register((0,f.trackFocus)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.updateBackground(!0)})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.updateBackground(!1)}))}dispose(){super.dispose(),this._element.remove()}getContentElements(m){const u=[];for(let r of(0,w.renderLabelWithIcons)(m))if(typeof r=="string"){if(r=r.trim(),r==="")continue;const a=document.createElement("span");a.textContent=r,u.push(a)}else u.push(r);return u}updateBackground(m){let u;this.options.secondary?u=m?this.options.buttonSecondaryHoverBackground:this.options.buttonSecondaryBackground:u=m?this.options.buttonHoverBackground:this.options.buttonBackground,u&&(this._element.style.backgroundColor=u)}get element(){return this._element}set label(m){var u;if(this._label===m||(0,o.isMarkdownString)(this._label)&&(0,o.isMarkdownString)(m)&&(0,o.markdownStringEqual)(this._label,m))return;this._element.classList.add("monaco-text-button");const r=this.options.supportShortLabel?this._labelElement:this._element;if((0,o.isMarkdownString)(m)){const h=(0,D.renderMarkdown)(m,{inline:!0});h.dispose();const l=(u=h.element.querySelector("p"))===null||u===void 0?void 0:u.innerHTML;if(l){const g=(0,k.sanitize)(l,{ADD_TAGS:["b","i","u","code","span"],ALLOWED_ATTR:["class"],RETURN_TRUSTED_TYPE:!0});r.innerHTML=g}else(0,f.reset)(r)}else this.options.supportIcons?(0,f.reset)(r,...this.getContentElements(m)):r.textContent=m;let a="";typeof this.options.title=="string"?a=this.options.title:this.options.title&&(a=(0,D.renderStringAsPlaintext)(m)),this.setTitle(a),typeof this.options.ariaLabel=="string"?this._element.setAttribute("aria-label",this.options.ariaLabel):this.options.ariaLabel&&this._element.setAttribute("aria-label",a),this._label=m}get label(){return this._label}set icon(m){this._element.classList.add(...i.ThemeIcon.asClassNameArray(m))}set enabled(m){m?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}setTitle(m){var u;!this._hover&&m!==""?this._hover=this._register((0,t.getBaseLayerHoverDelegate)().setupUpdatableHover((u=this.options.hoverDelegate)!==null&&u!==void 0?u:(0,p.getDefaultHoverDelegate)("mouse"),this._element,m)):this._hover&&this._hover.update(m)}}e.Button=n}),define(ie[631],ne([1,0,6,89,46,201,77,44,111,13,7,69,2,17,609,452]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBoxList=void 0;const n=f.$,c="selectOption.entry.template";class m{get templateId(){return c}renderTemplate(a){const h=Object.create(null);return h.root=a,h.text=f.append(a,n(".option-text")),h.detail=f.append(a,n(".option-detail")),h.decoratorRight=f.append(a,n(".option-decorator-right")),h}renderElement(a,h,l){const g=l,d=a.text,v=a.detail,_=a.decoratorRight,S=a.isDisabled;g.text.textContent=d,g.detail.textContent=v||"",g.decoratorRight.innerText=_||"",S?g.root.classList.add("option-disabled"):g.root.classList.remove("option-disabled")}disposeTemplate(a){}}class u extends s.Disposable{constructor(a,h,l,g,d){super(),this.options=[],this._currentSelection=0,this._hasDetails=!1,this._skipLayout=!1,this._sticky=!1,this._isVisible=!1,this.styles=g,this.selectBoxOptions=d||Object.create(null),typeof this.selectBoxOptions.minBottomMargin!="number"?this.selectBoxOptions.minBottomMargin=u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN:this.selectBoxOptions.minBottomMargin<0&&(this.selectBoxOptions.minBottomMargin=0),this.selectElement=document.createElement("select"),this.selectElement.className="monaco-select-box monaco-select-box-dropdown-padding",typeof this.selectBoxOptions.ariaLabel=="string"&&this.selectElement.setAttribute("aria-label",this.selectBoxOptions.ariaLabel),typeof this.selectBoxOptions.ariaDescription=="string"&&this.selectElement.setAttribute("aria-description",this.selectBoxOptions.ariaDescription),this._onDidSelect=new C.Emitter,this._register(this._onDidSelect),this.registerListeners(),this.constructSelectDropDown(l),this.selected=h||0,a&&this.setOptions(a,h),this.initStyleSheet()}setTitle(a){!this._hover&&a?this._hover=this._register((0,y.getBaseLayerHoverDelegate)().setupUpdatableHover((0,p.getDefaultHoverDelegate)("mouse"),this.selectElement,a)):this._hover&&this._hover.update(a)}getHeight(){return 22}getTemplateId(){return c}constructSelectDropDown(a){this.contextViewProvider=a,this.selectDropDownContainer=f.$(".monaco-select-box-dropdown-container"),this.selectDropDownContainer.classList.add("monaco-select-box-dropdown-padding"),this.selectionDetailsPane=f.append(this.selectDropDownContainer,n(".select-box-details-pane"));const h=f.append(this.selectDropDownContainer,n(".select-box-dropdown-container-width-control")),l=f.append(h,n(".width-control-div"));this.widthControlElement=document.createElement("span"),this.widthControlElement.className="option-text-width-control",f.append(l,this.widthControlElement),this._dropDownPosition=0,this.styleElement=f.createStyleSheet(this.selectDropDownContainer),this.selectDropDownContainer.setAttribute("draggable","true"),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.DRAG_START,g=>{f.EventHelper.stop(g,!0)}))}registerListeners(){this._register(f.addStandardDisposableListener(this.selectElement,"change",h=>{this.selected=h.target.selectedIndex,this._onDidSelect.fire({index:h.target.selectedIndex,selected:h.target.value}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)})),this._register(f.addDisposableListener(this.selectElement,f.EventType.CLICK,h=>{f.EventHelper.stop(h),this._isVisible?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.MOUSE_DOWN,h=>{f.EventHelper.stop(h)}));let a;this._register(f.addDisposableListener(this.selectElement,"touchstart",h=>{a=this._isVisible})),this._register(f.addDisposableListener(this.selectElement,"touchend",h=>{f.EventHelper.stop(h),a?this.hideSelectDropDown(!0):this.showSelectDropDown()})),this._register(f.addDisposableListener(this.selectElement,f.EventType.KEY_DOWN,h=>{const l=new E.StandardKeyboardEvent(h);let g=!1;i.isMacintosh?(l.keyCode===18||l.keyCode===16||l.keyCode===10||l.keyCode===3)&&(g=!0):(l.keyCode===18&&l.altKey||l.keyCode===16&&l.altKey||l.keyCode===10||l.keyCode===3)&&(g=!0),g&&(this.showSelectDropDown(),f.EventHelper.stop(h,!0))}))}get onDidSelect(){return this._onDidSelect.event}setOptions(a,h){b.equals(this.options,a)||(this.options=a,this.selectElement.options.length=0,this._hasDetails=!1,this._cachedMaxDetailsHeight=void 0,this.options.forEach((l,g)=>{this.selectElement.add(this.createOption(l.text,g,l.isDisabled)),typeof l.description=="string"&&(this._hasDetails=!0)})),h!==void 0&&(this.select(h),this._currentSelection=this.selected)}setOptionsList(){var a;(a=this.selectList)===null||a===void 0||a.splice(0,this.selectList.length,this.options)}select(a){a>=0&&a<this.options.length?this.selected=a:a>this.options.length-1?this.select(this.options.length-1):this.selected<0&&(this.selected=0),this.selectElement.selectedIndex=this.selected,this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)}focus(){this.selectElement&&(this.selectElement.tabIndex=0,this.selectElement.focus())}blur(){this.selectElement&&(this.selectElement.tabIndex=-1,this.selectElement.blur())}setFocusable(a){this.selectElement.tabIndex=a?0:-1}render(a){this.container=a,a.classList.add("select-container"),a.appendChild(this.selectElement),this.styleSelectElement()}initStyleSheet(){const a=[];this.styles.listFocusBackground&&a.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { background-color: ${this.styles.listFocusBackground} !important; }`),this.styles.listFocusForeground&&a.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { color: ${this.styles.listFocusForeground} !important; }`),this.styles.decoratorRightForeground&&a.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.focused) .option-decorator-right { color: ${this.styles.decoratorRightForeground}; }`),this.styles.selectBackground&&this.styles.selectBorder&&this.styles.selectBorder!==this.styles.selectBackground?(a.push(`.monaco-select-box-dropdown-container { border: 1px solid ${this.styles.selectBorder} } `),a.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectBorder} } `),a.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectBorder} } `)):this.styles.selectListBorder&&(a.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-top { border-top: 1px solid ${this.styles.selectListBorder} } `),a.push(`.monaco-select-box-dropdown-container > .select-box-details-pane.border-bottom { border-bottom: 1px solid ${this.styles.selectListBorder} } `)),this.styles.listHoverForeground&&a.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { color: ${this.styles.listHoverForeground} !important; }`),this.styles.listHoverBackground&&a.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { background-color: ${this.styles.listHoverBackground} !important; }`),this.styles.listFocusOutline&&a.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.focused { outline: 1.6px dotted ${this.styles.listFocusOutline} !important; outline-offset: -1.6px !important; }`),this.styles.listHoverOutline&&a.push(`.monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row:not(.option-disabled):not(.focused):hover { outline: 1.6px dashed ${this.styles.listHoverOutline} !important; outline-offset: -1.6px !important; }`),a.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled.focused { background-color: transparent !important; color: inherit !important; outline: none !important; }"),a.push(".monaco-select-box-dropdown-container > .select-box-dropdown-list-container .monaco-list .monaco-list-row.option-disabled:hover { background-color: transparent !important; color: inherit !important; outline: none !important; }"),this.styleElement.textContent=a.join(`
`)}styleSelectElement(){var a,h,l;const g=(a=this.styles.selectBackground)!==null&&a!==void 0?a:"",d=(h=this.styles.selectForeground)!==null&&h!==void 0?h:"",v=(l=this.styles.selectBorder)!==null&&l!==void 0?l:"";this.selectElement.style.backgroundColor=g,this.selectElement.style.color=d,this.selectElement.style.borderColor=v}styleList(){var a,h;const l=(a=this.styles.selectBackground)!==null&&a!==void 0?a:"",g=f.asCssValueWithDefault(this.styles.selectListBackground,l);this.selectDropDownListContainer.style.backgroundColor=g,this.selectionDetailsPane.style.backgroundColor=g;const d=(h=this.styles.focusBorder)!==null&&h!==void 0?h:"";this.selectDropDownContainer.style.outlineColor=d,this.selectDropDownContainer.style.outlineOffset="-1px",this.selectList.style(this.styles)}createOption(a,h,l){const g=document.createElement("option");return g.value=a,g.text=a,g.disabled=!!l,g}showSelectDropDown(){this.selectionDetailsPane.innerText="",!(!this.contextViewProvider||this._isVisible)&&(this.createSelectList(this.selectDropDownContainer),this.setOptionsList(),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:a=>this.renderSelectDropDown(a,!0),layout:()=>{this.layoutSelectDropDown()},onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._isVisible=!0,this.hideSelectDropDown(!1),this.contextViewProvider.showContextView({getAnchor:()=>this.selectElement,render:a=>this.renderSelectDropDown(a),layout:()=>this.layoutSelectDropDown(),onHide:()=>{this.selectDropDownContainer.classList.remove("visible"),this.selectElement.classList.remove("synthetic-focus")},anchorPosition:this._dropDownPosition},this.selectBoxOptions.optionsAsChildren?this.container:void 0),this._currentSelection=this.selected,this._isVisible=!0,this.selectElement.setAttribute("aria-expanded","true"))}hideSelectDropDown(a){!this.contextViewProvider||!this._isVisible||(this._isVisible=!1,this.selectElement.setAttribute("aria-expanded","false"),a&&this.selectElement.focus(),this.contextViewProvider.hideContextView())}renderSelectDropDown(a,h){return a.appendChild(this.selectDropDownContainer),this.layoutSelectDropDown(h),{dispose:()=>{try{a.removeChild(this.selectDropDownContainer)}catch{}}}}measureMaxDetailsHeight(){let a=0;return this.options.forEach((h,l)=>{this.updateDetail(l),this.selectionDetailsPane.offsetHeight>a&&(a=this.selectionDetailsPane.offsetHeight)}),a}layoutSelectDropDown(a){if(this._skipLayout)return!1;if(this.selectList){this.selectDropDownContainer.classList.add("visible");const h=f.getWindow(this.selectElement),l=f.getDomNodePagePosition(this.selectElement),g=f.getWindow(this.selectElement).getComputedStyle(this.selectElement),d=parseFloat(g.getPropertyValue("--dropdown-padding-top"))+parseFloat(g.getPropertyValue("--dropdown-padding-bottom")),v=h.innerHeight-l.top-l.height-(this.selectBoxOptions.minBottomMargin||0),_=l.top-u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN,S=this.selectElement.offsetWidth,L=this.setWidthControlElement(this.widthControlElement),I=Math.max(L,Math.round(S)).toString()+"px";this.selectDropDownContainer.style.width=I,this.selectList.getHTMLElement().style.height="",this.selectList.layout();let T=this.selectList.contentHeight;this._hasDetails&&this._cachedMaxDetailsHeight===void 0&&(this._cachedMaxDetailsHeight=this.measureMaxDetailsHeight());const N=this._hasDetails?this._cachedMaxDetailsHeight:0,A=T+d+N,O=Math.floor((v-d-N)/this.getHeight()),M=Math.floor((_-d-N)/this.getHeight());if(a)return l.top+l.height>h.innerHeight-22||l.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||O<1&&M<1?!1:(O<u.DEFAULT_MINIMUM_VISIBLE_OPTIONS&&M>O&&this.options.length>O?(this._dropDownPosition=1,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectionDetailsPane.classList.remove("border-top"),this.selectionDetailsPane.classList.add("border-bottom")):(this._dropDownPosition=0,this.selectDropDownContainer.removeChild(this.selectDropDownListContainer),this.selectDropDownContainer.removeChild(this.selectionDetailsPane),this.selectDropDownContainer.appendChild(this.selectDropDownListContainer),this.selectDropDownContainer.appendChild(this.selectionDetailsPane),this.selectionDetailsPane.classList.remove("border-bottom"),this.selectionDetailsPane.classList.add("border-top")),!0);if(l.top+l.height>h.innerHeight-22||l.top<u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN||this._dropDownPosition===0&&O<1||this._dropDownPosition===1&&M<1)return this.hideSelectDropDown(!0),!1;if(this._dropDownPosition===0){if(this._isVisible&&O+M<1)return this.hideSelectDropDown(!0),!1;A>v&&(T=O*this.getHeight())}else A>_&&(T=M*this.getHeight());return this.selectList.layout(T),this.selectList.domFocus(),this.selectList.length>0&&(this.selectList.setFocus([this.selected||0]),this.selectList.reveal(this.selectList.getFocus()[0]||0)),this._hasDetails?(this.selectList.getHTMLElement().style.height=T+d+"px",this.selectDropDownContainer.style.height=""):this.selectDropDownContainer.style.height=T+d+"px",this.updateDetail(this.selected),this.selectDropDownContainer.style.width=I,this.selectDropDownListContainer.setAttribute("tabindex","0"),this.selectElement.classList.add("synthetic-focus"),this.selectDropDownContainer.classList.add("synthetic-focus"),!0}else return!1}setWidthControlElement(a){let h=0;if(a){let l=0,g=0;this.options.forEach((d,v)=>{const _=d.detail?d.detail.length:0,S=d.decoratorRight?d.decoratorRight.length:0,L=d.text.length+_+S;L>g&&(l=v,g=L)}),a.textContent=this.options[l].text+(this.options[l].decoratorRight?this.options[l].decoratorRight+" ":""),h=f.getTotalWidth(a)}return h}createSelectList(a){if(this.selectList)return;this.selectDropDownListContainer=f.append(a,n(".select-box-dropdown-list-container")),this.listRenderer=new m,this.selectList=new w.List("SelectBoxCustom",this.selectDropDownListContainer,this,[this.listRenderer],{useShadows:!1,verticalScrollMode:3,keyboardSupport:!1,mouseSupport:!1,accessibilityProvider:{getAriaLabel:g=>{let d=g.text;return g.detail&&(d+=`. ${g.detail}`),g.decoratorRight&&(d+=`. ${g.decoratorRight}`),g.description&&(d+=`. ${g.description}`),d},getWidgetAriaLabel:()=>(0,t.localize)(0,null),getRole:()=>i.isMacintosh?"":"option",getWidgetRole:()=>"listbox"}}),this.selectBoxOptions.ariaLabel&&(this.selectList.ariaLabel=this.selectBoxOptions.ariaLabel);const h=this._register(new k.DomEmitter(this.selectDropDownListContainer,"keydown")),l=C.Event.chain(h.event,g=>g.filter(()=>this.selectList.length>0).map(d=>new E.StandardKeyboardEvent(d)));this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===3))(this.onEnter,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===2))(this.onEnter,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===9))(this.onEscape,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===16))(this.onUpArrow,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===18))(this.onDownArrow,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===12))(this.onPageDown,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===11))(this.onPageUp,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===14))(this.onHome,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode===13))(this.onEnd,this)),this._register(C.Event.chain(l,g=>g.filter(d=>d.keyCode>=21&&d.keyCode<=56||d.keyCode>=85&&d.keyCode<=113))(this.onCharacter,this)),this._register(f.addDisposableListener(this.selectList.getHTMLElement(),f.EventType.POINTER_UP,g=>this.onPointerUp(g))),this._register(this.selectList.onMouseOver(g=>typeof g.index<"u"&&this.selectList.setFocus([g.index]))),this._register(this.selectList.onDidChangeFocus(g=>this.onListFocus(g))),this._register(f.addDisposableListener(this.selectDropDownContainer,f.EventType.FOCUS_OUT,g=>{!this._isVisible||f.isAncestor(g.relatedTarget,this.selectDropDownContainer)||this.onListBlur()})),this.selectList.getHTMLElement().setAttribute("aria-label",this.selectBoxOptions.ariaLabel||""),this.selectList.getHTMLElement().setAttribute("aria-expanded","true"),this.styleList()}onPointerUp(a){if(!this.selectList.length)return;f.EventHelper.stop(a);const h=a.target;if(!h||h.classList.contains("slider"))return;const l=h.closest(".monaco-list-row");if(!l)return;const g=Number(l.getAttribute("data-index")),d=l.classList.contains("option-disabled");g>=0&&g<this.options.length&&!d&&(this.selected=g,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0))}onListBlur(){this._sticky||(this.selected!==this._currentSelection&&this.select(this._currentSelection),this.hideSelectDropDown(!1))}renderDescriptionMarkdown(a,h){const l=d=>{for(let v=0;v<d.childNodes.length;v++){const _=d.childNodes.item(v);(_.tagName&&_.tagName.toLowerCase())==="img"?d.removeChild(_):l(_)}},g=(0,D.renderMarkdown)({value:a,supportThemeIcons:!0},{actionHandler:h});return g.element.classList.add("select-box-description-markdown"),l(g.element),g.element}onListFocus(a){!this._isVisible||!this._hasDetails||this.updateDetail(a.indexes[0])}updateDetail(a){var h,l;this.selectionDetailsPane.innerText="";const g=this.options[a],d=(h=g?.description)!==null&&h!==void 0?h:"",v=(l=g?.descriptionIsMarkdown)!==null&&l!==void 0?l:!1;if(d){if(v){const _=g.descriptionMarkdownActionHandler;this.selectionDetailsPane.appendChild(this.renderDescriptionMarkdown(d,_))}else this.selectionDetailsPane.innerText=d;this.selectionDetailsPane.style.display="block"}else this.selectionDetailsPane.style.display="none";this._skipLayout=!0,this.contextViewProvider.layout(),this._skipLayout=!1}onEscape(a){f.EventHelper.stop(a),this.select(this._currentSelection),this.hideSelectDropDown(!0)}onEnter(a){f.EventHelper.stop(a),this.selected!==this._currentSelection&&(this._currentSelection=this.selected,this._onDidSelect.fire({index:this.selectElement.selectedIndex,selected:this.options[this.selected].text}),this.options[this.selected]&&this.options[this.selected].text&&this.setTitle(this.options[this.selected].text)),this.hideSelectDropDown(!0)}onDownArrow(a){if(this.selected<this.options.length-1){f.EventHelper.stop(a,!0);const h=this.options[this.selected+1].isDisabled;if(h&&this.options.length>this.selected+2)this.selected+=2;else{if(h)return;this.selected++}this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0])}}onUpArrow(a){this.selected>0&&(f.EventHelper.stop(a,!0),this.options[this.selected-1].isDisabled&&this.selected>1?this.selected-=2:this.selected--,this.select(this.selected),this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selectList.getFocus()[0]))}onPageUp(a){f.EventHelper.stop(a),this.selectList.focusPreviousPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected<this.options.length-1&&(this.selected++,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onPageDown(a){f.EventHelper.stop(a),this.selectList.focusNextPage(),setTimeout(()=>{this.selected=this.selectList.getFocus()[0],this.options[this.selected].isDisabled&&this.selected>0&&(this.selected--,this.selectList.setFocus([this.selected])),this.selectList.reveal(this.selected),this.select(this.selected)},1)}onHome(a){f.EventHelper.stop(a),!(this.options.length<2)&&(this.selected=0,this.options[this.selected].isDisabled&&this.selected>1&&this.selected++,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onEnd(a){f.EventHelper.stop(a),!(this.options.length<2)&&(this.selected=this.options.length-1,this.options[this.selected].isDisabled&&this.selected>1&&this.selected--,this.selectList.setFocus([this.selected]),this.selectList.reveal(this.selected),this.select(this.selected))}onCharacter(a){const h=o.KeyCodeUtils.toString(a.keyCode);let l=-1;for(let g=0;g<this.options.length-1;g++)if(l=(g+this.selected+1)%this.options.length,this.options[l].text.charAt(0).toUpperCase()===h&&!this.options[l].isDisabled){this.select(l),this.selectList.setFocus([l]),this.selectList.reveal(this.selectList.getFocus()[0]),f.EventHelper.stop(a);break}}dispose(){this.hideSelectDropDown(!1),super.dispose()}}e.SelectBoxList=u,u.DEFAULT_DROPDOWN_MINIMUM_BOTTOM_MARGIN=32,u.DEFAULT_DROPDOWN_MINIMUM_TOP_MARGIN=2,u.DEFAULT_MINIMUM_VISIBLE_OPTIONS=3}),define(ie[632],ne([1,0,631,626,80,17,451]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectBox=void 0;class y extends E.Widget{constructor(w,b,C,o,s){super(),D.isMacintosh&&!s?.useCustomDrawn?this.selectBoxDelegate=new k.SelectBoxNative(w,b,o,s):this.selectBoxDelegate=new f.SelectBoxList(w,b,C,o,s),this._register(this.selectBoxDelegate)}get onDidSelect(){return this.selectBoxDelegate.onDidSelect}setOptions(w,b){this.selectBoxDelegate.setOptions(w,b)}select(w){this.selectBoxDelegate.select(w)}focus(){this.selectBoxDelegate.focus()}blur(){this.selectBoxDelegate.blur()}setFocusable(w){this.selectBoxDelegate.setFocusable(w)}render(w){this.selectBoxDelegate.render(w)}}e.SelectBox=y}),define(ie[147],ne([1,0,63,217,6,68,44,632,41,2,17,20,602,77,294]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectActionViewItem=e.ActionViewItem=e.BaseActionViewItem=void 0;class t extends b.Disposable{get action(){return this._action}constructor(u,r,a={}){super(),this.options=a,this._context=u||this,this._action=r,r instanceof w.Action&&this._register(r.onDidChange(h=>{this.element&&this.handleActionChangeEvent(h)}))}handleActionChangeEvent(u){u.enabled!==void 0&&this.updateEnabled(),u.checked!==void 0&&this.updateChecked(),u.class!==void 0&&this.updateClass(),u.label!==void 0&&(this.updateLabel(),this.updateTooltip()),u.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new w.ActionRunner)),this._actionRunner}set actionRunner(u){this._actionRunner=u}isEnabled(){return this._action.enabled}setActionContext(u){this._context=u}render(u){const r=this.element=u;this._register(D.Gesture.addTarget(u));const a=this.options&&this.options.draggable;a&&(u.draggable=!0,f.isFirefox&&this._register((0,E.addDisposableListener)(u,E.EventType.DRAG_START,h=>{var l;return(l=h.dataTransfer)===null||l===void 0?void 0:l.setData(k.DataTransfers.TEXT,this._action.label)}))),this._register((0,E.addDisposableListener)(r,D.EventType.Tap,h=>this.onClick(h,!0))),this._register((0,E.addDisposableListener)(r,E.EventType.MOUSE_DOWN,h=>{a||E.EventHelper.stop(h,!0),this._action.enabled&&h.button===0&&r.classList.add("active")})),C.isMacintosh&&this._register((0,E.addDisposableListener)(r,E.EventType.CONTEXT_MENU,h=>{h.button===0&&h.ctrlKey===!0&&this.onClick(h)})),this._register((0,E.addDisposableListener)(r,E.EventType.CLICK,h=>{E.EventHelper.stop(h,!0),this.options&&this.options.isMenu||this.onClick(h)})),this._register((0,E.addDisposableListener)(r,E.EventType.DBLCLICK,h=>{E.EventHelper.stop(h,!0)})),[E.EventType.MOUSE_UP,E.EventType.MOUSE_OUT].forEach(h=>{this._register((0,E.addDisposableListener)(r,h,l=>{E.EventHelper.stop(l),r.classList.remove("active")}))})}onClick(u,r=!1){var a;E.EventHelper.stop(u,!0);const h=o.isUndefinedOrNull(this._context)?!((a=this.options)===null||a===void 0)&&a.useEventAsContext?u:{preserveFocus:r}:this._context;this.actionRunner.run(this._action,h)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(u){this.element&&(this.element.tabIndex=u?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getClass(){return this.action.class}getTooltip(){return this.action.tooltip}updateTooltip(){var u,r,a;if(!this.element)return;const h=(u=this.getTooltip())!==null&&u!==void 0?u:"";if(this.updateAriaLabel(),!((r=this.options.hoverDelegate)===null||r===void 0)&&r.showNativeHover)this.element.title=h;else if(!this.customHover&&h!==""){const l=(a=this.options.hoverDelegate)!==null&&a!==void 0?a:(0,y.getDefaultHoverDelegate)("element");this.customHover=this._store.add((0,i.getBaseLayerHoverDelegate)().setupUpdatableHover(l,this.element,h))}else this.customHover&&this.customHover.update(h)}updateAriaLabel(){var u;if(this.element){const r=(u=this.getTooltip())!==null&&u!==void 0?u:"";this.element.setAttribute("aria-label",r)}}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),this._context=void 0,super.dispose()}}e.BaseActionViewItem=t;class n extends t{constructor(u,r,a){super(u,r,a),this.options=a,this.options.icon=a.icon!==void 0?a.icon:!1,this.options.label=a.label!==void 0?a.label:!0,this.cssClass=""}render(u){super.render(u),o.assertType(this.element);const r=document.createElement("a");if(r.classList.add("action-label"),r.setAttribute("role",this.getDefaultAriaRole()),this.label=r,this.element.appendChild(r),this.options.label&&this.options.keybinding){const a=document.createElement("span");a.classList.add("keybinding"),a.textContent=this.options.keybinding,this.element.appendChild(a)}this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}getDefaultAriaRole(){return this._action.id===w.Separator.ID?"presentation":this.options.isMenu?"menuitem":"button"}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(u){this.label&&(this.label.tabIndex=u?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.action.label)}getTooltip(){let u=null;return this.action.tooltip?u=this.action.tooltip:!this.options.label&&this.action.label&&this.options.icon&&(u=this.action.label,this.options.keybinding&&(u=s.localize(0,null,u,this.options.keybinding))),u??void 0}updateClass(){var u;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getClass(),this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(u=this.label)===null||u===void 0||u.classList.remove("codicon")}updateEnabled(){var u,r;this.action.enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(u=this.element)===null||u===void 0||u.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(r=this.element)===null||r===void 0||r.classList.add("disabled"))}updateAriaLabel(){var u;if(this.label){const r=(u=this.getTooltip())!==null&&u!==void 0?u:"";this.label.setAttribute("aria-label",r)}}updateChecked(){this.label&&(this.action.checked!==void 0?(this.label.classList.toggle("checked",this.action.checked),this.label.setAttribute("aria-checked",this.action.checked?"true":"false"),this.label.setAttribute("role","checkbox")):(this.label.classList.remove("checked"),this.label.removeAttribute("aria-checked"),this.label.setAttribute("role",this.getDefaultAriaRole())))}}e.ActionViewItem=n;class c extends t{constructor(u,r,a,h,l,g,d){super(u,r),this.selectBox=new p.SelectBox(a,h,l,g,d),this.selectBox.setFocusable(!1),this._register(this.selectBox),this.registerListeners()}select(u){this.selectBox.select(u)}registerListeners(){this._register(this.selectBox.onDidSelect(u=>this.runAction(u.selected,u.index)))}runAction(u,r){this.actionRunner.run(this._action,this.getActionContext(u,r))}getActionContext(u,r){return u}setFocusable(u){this.selectBox.setFocusable(u)}focus(){var u;(u=this.selectBox)===null||u===void 0||u.focus()}blur(){var u;(u=this.selectBox)===null||u===void 0||u.blur()}render(u){this.selectBox.render(u)}}e.SelectActionViewItem=c}),define(ie[82],ne([1,0,6,46,147,44,41,7,2,20,294]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionBar=void 0;class C extends w.Disposable{constructor(s,i={}){var t,n,c,m,u,r,a;super(),this._actionRunnerDisposables=this._register(new w.DisposableStore),this.viewItemDisposables=this._register(new w.DisposableMap),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new p.Emitter),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new p.Emitter({onWillAddFirstListener:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new p.Emitter),this.onDidRun=this._onDidRun.event,this._onWillRun=this._register(new p.Emitter),this.onWillRun=this._onWillRun.event,this.options=i,this._context=(t=i.context)!==null&&t!==void 0?t:null,this._orientation=(n=this.options.orientation)!==null&&n!==void 0?n:0,this._triggerKeys={keyDown:(m=(c=this.options.triggerKeys)===null||c===void 0?void 0:c.keyDown)!==null&&m!==void 0?m:!1,keys:(r=(u=this.options.triggerKeys)===null||u===void 0?void 0:u.keys)!==null&&r!==void 0?r:[3,10]},this._hoverDelegate=(a=i.hoverDelegate)!==null&&a!==void 0?a:this._register((0,D.createInstantHoverDelegate)()),this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new y.ActionRunner,this._actionRunnerDisposables.add(this._actionRunner)),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(g=>this._onDidRun.fire(g))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(g=>this._onWillRun.fire(g))),this.viewItems=[],this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar";let h,l;switch(this._orientation){case 0:h=[15],l=[17];break;case 1:h=[16],l=[18],this.domNode.className+=" vertical";break}this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_DOWN,g=>{const d=new k.StandardKeyboardEvent(g);let v=!0;const _=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;h&&(d.equals(h[0])||d.equals(h[1]))?v=this.focusPrevious():l&&(d.equals(l[0])||d.equals(l[1]))?v=this.focusNext():d.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():d.equals(14)?v=this.focusFirst():d.equals(13)?v=this.focusLast():d.equals(2)&&_ instanceof E.BaseActionViewItem&&_.trapsArrowNavigation?v=this.focusNext():this.isTriggerKeyEvent(d)?this._triggerKeys.keyDown?this.doTrigger(d):this.triggerKeyDown=!0:v=!1,v&&(d.preventDefault(),d.stopPropagation())})),this._register(f.addDisposableListener(this.domNode,f.EventType.KEY_UP,g=>{const d=new k.StandardKeyboardEvent(g);this.isTriggerKeyEvent(d)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(d)),d.preventDefault(),d.stopPropagation()):(d.equals(2)||d.equals(1026)||d.equals(16)||d.equals(18)||d.equals(15)||d.equals(17))&&this.updateFocusedItem()})),this.focusTracker=this._register(f.trackFocus(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(f.getActiveElement()===this.domNode||!f.isAncestor(f.getActiveElement(),this.domNode))&&(this._onDidBlur.fire(),this.previouslyFocusedItem=this.focusedItem,this.focusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.options.highlightToggledItems&&this.actionsList.classList.add("highlight-toggled"),this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),s.appendChild(this.domNode)}refreshRole(){this.length()>=1?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(s){if(this.focusable=s,this.focusable){const i=this.viewItems.find(t=>t instanceof E.BaseActionViewItem&&t.isEnabled());i instanceof E.BaseActionViewItem&&i.setFocusable(!0)}else this.viewItems.forEach(i=>{i instanceof E.BaseActionViewItem&&i.setFocusable(!1)})}isTriggerKeyEvent(s){let i=!1;return this._triggerKeys.keys.forEach(t=>{i=i||s.equals(t)}),i}updateFocusedItem(){var s,i;for(let t=0;t<this.actionsList.children.length;t++){const n=this.actionsList.children[t];if(f.isAncestor(f.getActiveElement(),n)){this.focusedItem=t,(i=(s=this.viewItems[this.focusedItem])===null||s===void 0?void 0:s.showHover)===null||i===void 0||i.call(s);break}}}get context(){return this._context}set context(s){this._context=s,this.viewItems.forEach(i=>i.setActionContext(s))}get actionRunner(){return this._actionRunner}set actionRunner(s){this._actionRunner=s,this._actionRunnerDisposables.clear(),this._actionRunnerDisposables.add(this._actionRunner.onDidRun(i=>this._onDidRun.fire(i))),this._actionRunnerDisposables.add(this._actionRunner.onWillRun(i=>this._onWillRun.fire(i))),this.viewItems.forEach(i=>i.actionRunner=s)}getContainer(){return this.domNode}getAction(s){var i;if(typeof s=="number")return(i=this.viewItems[s])===null||i===void 0?void 0:i.action;if(s instanceof HTMLElement){for(;s.parentElement!==this.actionsList;){if(!s.parentElement)return;s=s.parentElement}for(let t=0;t<this.actionsList.childNodes.length;t++)if(this.actionsList.childNodes[t]===s)return this.viewItems[t].action}}push(s,i={}){const t=Array.isArray(s)?s:[s];let n=b.isNumber(i.index)?i.index:null;t.forEach(c=>{const m=document.createElement("li");m.className="action-item",m.setAttribute("role","presentation");let u;const r={hoverDelegate:this._hoverDelegate,...i};this.options.actionViewItemProvider&&(u=this.options.actionViewItemProvider(c,r)),u||(u=new E.ActionViewItem(this.context,c,r)),this.options.allowContextMenu||this.viewItemDisposables.set(u,f.addDisposableListener(m,f.EventType.CONTEXT_MENU,a=>{f.EventHelper.stop(a,!0)})),u.actionRunner=this._actionRunner,u.setActionContext(this.context),u.render(m),this.focusable&&u instanceof E.BaseActionViewItem&&this.viewItems.length===0&&u.setFocusable(!0),n===null||n<0||n>=this.actionsList.children.length?(this.actionsList.appendChild(m),this.viewItems.push(u)):(this.actionsList.insertBefore(m,this.actionsList.children[n]),this.viewItems.splice(n,0,u),n++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){this.isEmpty()||(this.viewItems=(0,w.dispose)(this.viewItems),this.viewItemDisposables.clearAndDisposeAll(),f.clearNode(this.actionsList),this.refreshRole())}length(){return this.viewItems.length}isEmpty(){return this.viewItems.length===0}focus(s){let i=!1,t;if(s===void 0?i=!0:typeof s=="number"?t=s:typeof s=="boolean"&&(i=s),i&&typeof this.focusedItem>"u"){const n=this.viewItems.findIndex(c=>c.isEnabled());this.focusedItem=n===-1?void 0:n,this.updateFocus(void 0,void 0,!0)}else t!==void 0&&(this.focusedItem=t),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(s){if(typeof this.focusedItem>"u")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(!s&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=i,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(),!0}focusPrevious(s){if(typeof this.focusedItem>"u")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const i=this.focusedItem;let t;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!s&&this.options.preventLoopNavigation)return this.focusedItem=i,!1;this.focusedItem=this.viewItems.length-1}t=this.viewItems[this.focusedItem]}while(this.focusedItem!==i&&(this.options.focusOnlyEnabledItems&&!t.isEnabled()||t.action.id===y.Separator.ID));return this.updateFocus(!0),!0}updateFocus(s,i,t=!1){var n,c;typeof this.focusedItem>"u"&&this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((n=this.viewItems[this.previouslyFocusedItem])===null||n===void 0||n.blur());const m=this.focusedItem!==void 0?this.viewItems[this.focusedItem]:void 0;if(m){let u=!0;b.isFunction(m.focus)||(u=!1),this.options.focusOnlyEnabledItems&&b.isFunction(m.isEnabled)&&!m.isEnabled()&&(u=!1),m.action.id===y.Separator.ID&&(u=!1),u?(t||this.previouslyFocusedItem!==this.focusedItem)&&(m.focus(s),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:i}),this.previouslyFocusedItem=void 0),u&&((c=m.showHover)===null||c===void 0||c.call(m))}}doTrigger(s){if(typeof this.focusedItem>"u")return;const i=this.viewItems[this.focusedItem];if(i instanceof E.BaseActionViewItem){const t=i._context===null||i._context===void 0?s:i._context;this.run(i._action,t)}}async run(s,i){await this._actionRunner.run(s,i)}dispose(){this._context=void 0,this.viewItems=(0,w.dispose)(this.viewItems),this.getContainer().remove(),super.dispose()}}e.ActionBar=C}),define(ie[346],ne([1,0,6,147,623,7,44,77,295]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownMenuActionViewItem=void 0;class w extends k.BaseActionViewItem{constructor(C,o,s,i=Object.create(null)){super(null,C,i),this.actionItem=null,this._onDidChangeVisibility=this._register(new D.Emitter),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this.menuActionsOrProvider=o,this.contextMenuProvider=s,this.options=i,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(C){this.actionItem=C;const o=t=>{var n;this.element=(0,f.append)(t,(0,f.$)("a.action-label"));let c=[];return typeof this.options.classNames=="string"?c=this.options.classNames.split(/\s+/g).filter(m=>!!m):this.options.classNames&&(c=this.options.classNames),c.find(m=>m==="icon")||c.push("codicon"),this.element.classList.add(...c),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this._action.label&&this._register((0,p.getBaseLayerHoverDelegate)().setupUpdatableHover((n=this.options.hoverDelegate)!==null&&n!==void 0?n:(0,y.getDefaultHoverDelegate)("mouse"),this.element,this._action.label)),this.element.ariaLabel=this._action.label||"",null},s=Array.isArray(this.menuActionsOrProvider),i={contextMenuProvider:this.contextMenuProvider,labelRenderer:o,menuAsChild:this.options.menuAsChild,actions:s?this.menuActionsOrProvider:void 0,actionProvider:s?void 0:this.menuActionsOrProvider,skipTelemetry:this.options.skipTelemetry};if(this.dropdownMenu=this._register(new E.DropdownMenu(C,i)),this._register(this.dropdownMenu.onDidChangeVisibility(t=>{var n;(n=this.element)===null||n===void 0||n.setAttribute("aria-expanded",`${t}`),this._onDidChangeVisibility.fire(t)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const t=this;this.dropdownMenu.menuOptions={...this.dropdownMenu.menuOptions,get anchorAlignment(){return t.options.anchorAlignmentProvider()}}}this.updateTooltip(),this.updateEnabled()}getTooltip(){let C=null;return this.action.tooltip?C=this.action.tooltip:this.action.label&&(C=this.action.label),C??void 0}setActionContext(C){super.setActionContext(C),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=C:this.dropdownMenu.menuOptions={context:C})}show(){var C;(C=this.dropdownMenu)===null||C===void 0||C.show()}updateEnabled(){var C,o;const s=!this.action.enabled;(C=this.actionItem)===null||C===void 0||C.classList.toggle("disabled",s),(o=this.element)===null||o===void 0||o.classList.toggle("disabled",s)}}e.DropdownMenuActionViewItem=w}),define(ie[252],ne([1,0,6,89,339,82,47,77,44,81,80,7,431,55,607,445]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HistoryInputBox=e.InputBox=e.unthemedInboxStyles=void 0;const n=f.$;e.unthemedInboxStyles={inputBackground:"#3C3C3C",inputForeground:"#CCCCCC",inputValidationInfoBorder:"#55AAFF",inputValidationInfoBackground:"#063B49",inputValidationWarningBorder:"#B89500",inputValidationWarningBackground:"#352A05",inputValidationErrorBorder:"#BE1100",inputValidationErrorBackground:"#5A1D1D",inputBorder:void 0,inputValidationErrorForeground:void 0,inputValidationInfoForeground:void 0,inputValidationWarningForeground:void 0};class c extends C.Widget{constructor(r,a,h){var l;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new o.Emitter),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new o.Emitter),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=a,this.options=h,this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(l=this.options.tooltip)!==null&&l!==void 0?l:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=f.append(r,n(".monaco-inputbox.idle"));const g=this.options.flexibleHeight?"textarea":"input",d=f.append(this.element,n(".ibwrapper"));if(this.input=f.append(d,n(g+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=f.append(d,n("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new b.ScrollableElement(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),f.append(r,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(S=>this.input.scrollTop=S.scrollTop));const v=this._register(new k.DomEmitter(r.ownerDocument,"selectionchange")),_=o.Event.filter(v.event,()=>{const S=r.ownerDocument.getSelection();return S?.anchorNode===d});this._register(_(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this._register(this.ignoreGesture(this.input)),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new D.ActionBar(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(r){this.placeholder=r,this.input.setAttribute("placeholder",r)}setTooltip(r){this.tooltip=r,this.hover?this.hover.update(r):this.hover=this._register((0,p.getBaseLayerHoverDelegate)().setupUpdatableHover((0,w.getDefaultHoverDelegate)("mouse"),this.input,r))}get inputElement(){return this.input}get value(){return this.input.value}set value(r){this.input.value!==r&&(this.input.value=r,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:f.getTotalHeight(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return f.isActiveElement(this.input)}select(r=null){this.input.select(),r&&(this.input.setSelectionRange(r.start,r.end),r.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}getSelection(){var r;const a=this.input.selectionStart;if(a===null)return null;const h=(r=this.input.selectionEnd)!==null&&r!==void 0?r:a;return{start:a,end:h}}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}set paddingRight(r){this.input.style.width=`calc(100% - ${r}px)`,this.mirror&&(this.mirror.style.paddingRight=r+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const r=this.cachedContentHeight,a=this.cachedHeight,h=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:r,height:a}),this.scrollableElement.setScrollPosition({scrollTop:h})}showMessage(r,a){if(this.state==="open"&&(0,i.equals)(this.message,r))return;this.message=r,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(r.type));const h=this.stylesForType(this.message.type);this.element.style.border=`1px solid ${f.asCssValueWithDefault(h.border,"transparent")}`,this.message.content&&(this.hasFocus()||a)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let r=null;return this.validation&&(r=this.validation(this.value),r?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(r)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),r?.type}stylesForType(r){const a=this.options.inputBoxStyles;switch(r){case 1:return{border:a.inputValidationInfoBorder,background:a.inputValidationInfoBackground,foreground:a.inputValidationInfoForeground};case 2:return{border:a.inputValidationWarningBorder,background:a.inputValidationWarningBackground,foreground:a.inputValidationWarningForeground};default:return{border:a.inputValidationErrorBorder,background:a.inputValidationErrorBackground,foreground:a.inputValidationErrorForeground}}}classForType(r){switch(r){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let r;const a=()=>r.style.width=f.getTotalWidth(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:l=>{var g,d;if(!this.message)return null;r=f.append(l,n(".monaco-inputbox-container")),a();const v={inline:!0,className:"monaco-inputbox-message"},_=this.message.formatContent?(0,E.renderFormattedText)(this.message.content,v):(0,E.renderText)(this.message.content,v);_.classList.add(this.classForType(this.message.type));const S=this.stylesForType(this.message.type);return _.style.backgroundColor=(g=S.background)!==null&&g!==void 0?g:"",_.style.color=(d=S.foreground)!==null&&d!==void 0?d:"",_.style.border=S.border?`1px solid ${S.border}`:"",f.append(r,_),null},onHide:()=>{this.state="closed"},layout:a});let h;this.message.type===3?h=t.localize(0,null,this.message.content):this.message.type===2?h=t.localize(1,null,this.message.content):h=t.localize(2,null,this.message.content),y.alert(h),this.state="open"}_hideMessage(){this.contextViewProvider&&(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const r=this.value,h=r.charCodeAt(r.length-1)===10?" ":"";(r+h).replace(/\u000c/g,"")?this.mirror.textContent=r+h:this.mirror.innerText="\xA0",this.layout()}applyStyles(){var r,a,h;const l=this.options.inputBoxStyles,g=(r=l.inputBackground)!==null&&r!==void 0?r:"",d=(a=l.inputForeground)!==null&&a!==void 0?a:"",v=(h=l.inputBorder)!==null&&h!==void 0?h:"";this.element.style.backgroundColor=g,this.element.style.color=d,this.input.style.backgroundColor="inherit",this.input.style.color=d,this.element.style.border=`1px solid ${f.asCssValueWithDefault(v,"transparent")}`}layout(){if(!this.mirror)return;const r=this.cachedContentHeight;this.cachedContentHeight=f.getTotalHeight(this.mirror),r!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(r){const a=this.inputElement,h=a.selectionStart,l=a.selectionEnd,g=a.value;h!==null&&l!==null&&(this.value=g.substr(0,h)+r+g.substr(l),a.setSelectionRange(h+1,h+1),this.layout())}dispose(){var r;this._hideMessage(),this.message=null,(r=this.actionbar)===null||r===void 0||r.dispose(),super.dispose()}}e.InputBox=c;class m extends c{constructor(r,a,h){const l=t.localize(3,null,"\u21C5"),g=t.localize(4,null,"\u21C5");super(r,a,h),this._onDidFocus=this._register(new o.Emitter),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new o.Emitter),this.onDidBlur=this._onDidBlur.event,this.history=new s.HistoryNavigator(h.history,100);const d=()=>{if(h.showHistoryHint&&h.showHistoryHint()&&!this.placeholder.endsWith(l)&&!this.placeholder.endsWith(g)&&this.history.getHistory().length){const v=this.placeholder.endsWith(")")?l:g,_=this.placeholder+v;h.showPlaceholderOnFocus&&!f.isActiveElement(this.input)?this.placeholder=_:this.setPlaceHolder(_)}};this.observer=new MutationObserver((v,_)=>{v.forEach(S=>{S.target.textContent||d()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>d()),this.onblur(this.input,()=>{const v=_=>{if(this.placeholder.endsWith(_)){const S=this.placeholder.slice(0,this.placeholder.length-_.length);return h.showPlaceholderOnFocus?this.placeholder=S:this.setPlaceHolder(S),!0}else return!1};v(g)||v(l)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(r){this.value&&(r||this.value!==this.getCurrentValue())&&this.history.add(this.value)}isAtLastInHistory(){return this.history.isLast()}isNowhereInHistory(){return this.history.isNowhere()}showNextValue(){this.history.has(this.value)||this.addToHistory();let r=this.getNextValue();r&&(r=r===this.value?this.getNextValue():r),this.value=r??"",y.status(this.value?this.value:t.localize(5,null))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let r=this.getPreviousValue();r&&(r=r===this.value?this.getPreviousValue():r),r&&(this.value=r,y.status(this.value))}setPlaceHolder(r){super.setPlaceHolder(r),this.setTooltip(r)}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let r=this.history.current();return r||(r=this.history.last(),this.history.next()),r}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()}}e.HistoryInputBox=m}),define(ie[253],ne([1,0,6,345,252,80,7,603,2,44,296]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindInput=void 0;const C=p.localize(0,null);class o extends D.Widget{constructor(i,t,n){super(),this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalTogglesDisposables=this._register(new w.MutableDisposable),this.additionalToggles=[],this._onDidOptionChange=this._register(new y.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new y.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new y.Emitter),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new y.Emitter),this._onKeyUp=this._register(new y.Emitter),this._onCaseSensitiveKeyDown=this._register(new y.Emitter),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new y.Emitter),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.placeholder=n.placeholder||"",this.validation=n.validation,this.label=n.label||C,this.showCommonFindToggles=!!n.showCommonFindToggles;const c=n.appendCaseSensitiveLabel||"",m=n.appendWholeWordsLabel||"",u=n.appendRegexLabel||"",r=n.history||[],a=!!n.flexibleHeight,h=!!n.flexibleWidth,l=n.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new E.HistoryInputBox(this.domNode,t,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},history:r,showHistoryHint:n.showHistoryHint,flexibleHeight:a,flexibleWidth:h,flexibleMaxHeight:l,inputBoxStyles:n.inputBoxStyles}));const g=this._register((0,b.createInstantHoverDelegate)());if(this.showCommonFindToggles){this.regex=this._register(new k.RegexToggle({appendTitle:u,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.regex.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(v=>{this._onRegexKeyDown.fire(v)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:m,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.wholeWords.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:c,isChecked:!1,hoverDelegate:g,...n.toggleStyles})),this._register(this.caseSensitive.onChange(v=>{this._onDidOptionChange.fire(v),!v&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(v=>{this._onCaseSensitiveKeyDown.fire(v)}));const d=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,v=>{if(v.equals(15)||v.equals(17)||v.equals(9)){const _=d.indexOf(this.domNode.ownerDocument.activeElement);if(_>=0){let S=-1;v.equals(17)?S=(_+1)%d.length:v.equals(15)&&(_===0?S=d.length-1:S=_-1),v.equals(9)?(d[_].blur(),this.inputBox.focus()):S>=0&&d[S].focus(),f.EventHelper.stop(v,!0)}}})}this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this.showCommonFindToggles?"":"none",this.caseSensitive&&this.controls.append(this.caseSensitive.domNode),this.wholeWords&&this.controls.appendChild(this.wholeWords.domNode),this.regex&&this.controls.appendChild(this.regex.domNode),this.setAdditionalToggles(n?.additionalToggles),this.controls&&this.domNode.appendChild(this.controls),i?.appendChild(this.domNode),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionstart",d=>{this.imeSessionInProgress=!0})),this._register(f.addDisposableListener(this.inputBox.inputElement,"compositionend",d=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,d=>this._onKeyDown.fire(d)),this.onkeyup(this.inputBox.inputElement,d=>this._onKeyUp.fire(d)),this.oninput(this.inputBox.inputElement,d=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,d=>this._onMouseDown.fire(d))}get onDidChange(){return this.inputBox.onDidChange}layout(i){this.inputBox.layout(),this.updateInputBoxPadding(i.collapsedFindWidget)}enable(){var i,t,n;this.domNode.classList.remove("disabled"),this.inputBox.enable(),(i=this.regex)===null||i===void 0||i.enable(),(t=this.wholeWords)===null||t===void 0||t.enable(),(n=this.caseSensitive)===null||n===void 0||n.enable();for(const c of this.additionalToggles)c.enable()}disable(){var i,t,n;this.domNode.classList.add("disabled"),this.inputBox.disable(),(i=this.regex)===null||i===void 0||i.disable(),(t=this.wholeWords)===null||t===void 0||t.disable(),(n=this.caseSensitive)===null||n===void 0||n.disable();for(const c of this.additionalToggles)c.disable()}setFocusInputOnOptionClick(i){this.fixFocusOnOptionClickEnabled=i}setEnabled(i){i?this.enable():this.disable()}setAdditionalToggles(i){for(const t of this.additionalToggles)t.domNode.remove();this.additionalToggles=[],this.additionalTogglesDisposables.value=new w.DisposableStore;for(const t of i??[])this.additionalTogglesDisposables.value.add(t),this.controls.appendChild(t.domNode),this.additionalTogglesDisposables.value.add(t.onChange(n=>{this._onDidOptionChange.fire(n),!n&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(t);this.additionalToggles.length>0&&(this.controls.style.display=""),this.updateInputBoxPadding()}updateInputBoxPadding(i=!1){var t,n,c,m,u,r;i?this.inputBox.paddingRight=0:this.inputBox.paddingRight=((n=(t=this.caseSensitive)===null||t===void 0?void 0:t.width())!==null&&n!==void 0?n:0)+((m=(c=this.wholeWords)===null||c===void 0?void 0:c.width())!==null&&m!==void 0?m:0)+((r=(u=this.regex)===null||u===void 0?void 0:u.width())!==null&&r!==void 0?r:0)+this.additionalToggles.reduce((a,h)=>a+h.width(),0)}getValue(){return this.inputBox.value}setValue(i){this.inputBox.value!==i&&(this.inputBox.value=i)}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){var i,t;return(t=(i=this.caseSensitive)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setCaseSensitive(i){this.caseSensitive&&(this.caseSensitive.checked=i)}getWholeWords(){var i,t;return(t=(i=this.wholeWords)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setWholeWords(i){this.wholeWords&&(this.wholeWords.checked=i)}getRegex(){var i,t;return(t=(i=this.regex)===null||i===void 0?void 0:i.checked)!==null&&t!==void 0?t:!1}setRegex(i){this.regex&&(this.regex.checked=i,this.validate())}focusOnCaseSensitive(){var i;(i=this.caseSensitive)===null||i===void 0||i.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(i){this.inputBox.showMessage(i)}clearMessage(){this.inputBox.hideMessage()}}e.FindInput=o}),define(ie[633],ne([1,0,6,169,252,80,26,7,605,44,296]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReplaceInput=void 0;const C=w.localize(0,null),o=w.localize(1,null);class s extends k.Toggle{constructor(n){var c;super({icon:y.Codicon.preserveCase,title:o+n.appendTitle,isChecked:n.isChecked,hoverDelegate:(c=n.hoverDelegate)!==null&&c!==void 0?c:(0,b.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:n.inputActiveOptionBorder,inputActiveOptionForeground:n.inputActiveOptionForeground,inputActiveOptionBackground:n.inputActiveOptionBackground})}}class i extends D.Widget{constructor(n,c,m,u){super(),this._showOptionButtons=m,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new p.Emitter),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new p.Emitter),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new p.Emitter),this._onInput=this._register(new p.Emitter),this._onKeyUp=this._register(new p.Emitter),this._onPreserveCaseKeyDown=this._register(new p.Emitter),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=c,this.placeholder=u.placeholder||"",this.validation=u.validation,this.label=u.label||C;const r=u.appendPreserveCaseLabel||"",a=u.history||[],h=!!u.flexibleHeight,l=!!u.flexibleWidth,g=u.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new E.HistoryInputBox(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},history:a,showHistoryHint:u.showHistoryHint,flexibleHeight:h,flexibleWidth:l,flexibleMaxHeight:g,inputBoxStyles:u.inputBoxStyles})),this.preserveCase=this._register(new s({appendTitle:r,isChecked:!1,...u.toggleStyles})),this._register(this.preserveCase.onChange(_=>{this._onDidOptionChange.fire(_),!_&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(_=>{this._onPreserveCaseKeyDown.fire(_)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const d=[this.preserveCase.domNode];this.onkeydown(this.domNode,_=>{if(_.equals(15)||_.equals(17)||_.equals(9)){const S=d.indexOf(this.domNode.ownerDocument.activeElement);if(S>=0){let L=-1;_.equals(17)?L=(S+1)%d.length:_.equals(15)&&(S===0?L=d.length-1:L=S-1),_.equals(9)?(d[S].blur(),this.inputBox.focus()):L>=0&&d[L].focus(),f.EventHelper.stop(_,!0)}}});const v=document.createElement("div");v.className="controls",v.style.display=this._showOptionButtons?"block":"none",v.appendChild(this.preserveCase.domNode),this.domNode.appendChild(v),n?.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,_=>this._onKeyDown.fire(_)),this.onkeyup(this.inputBox.inputElement,_=>this._onKeyUp.fire(_)),this.oninput(this.inputBox.inputElement,_=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,_=>this._onMouseDown.fire(_))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(n){n?this.enable():this.disable()}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(n){this.preserveCase.checked=n}focusOnPreserve(){this.preserveCase.focus()}validate(){var n;(n=this.inputBox)===null||n===void 0||n.validate()}set width(n){this.inputBox.paddingRight=this.cachedOptionsWidth,this.domNode.style.width=n+"px"}dispose(){super.dispose()}}e.ReplaceInput=i}),define(ie[634],ne([1,0,63,68,6,46,73,82,147,340,81,41,15,26,186,31,137,2,17,12]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Menu=e.VerticalDirection=e.HorizontalDirection=e.MENU_ESCAPED_MNEMONIC_REGEX=e.MENU_MNEMONIC_REGEX=void 0,e.cleanMnemonic=_,e.formatRule=S,e.MENU_MNEMONIC_REGEX=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,e.MENU_ESCAPED_MNEMONIC_REGEX=/(&amp;)?(&amp;)([^\s&])/g;var a;(function(I){I[I.Right=0]="Right",I[I.Left=1]="Left"})(a||(e.HorizontalDirection=a={}));var h;(function(I){I[I.Above=0]="Above",I[I.Below=1]="Below"})(h||(e.VerticalDirection=h={}));class l extends p.ActionBar{constructor(T,N,A,O){T.classList.add("monaco-menu-container"),T.setAttribute("role","presentation");const M=document.createElement("div");M.classList.add("monaco-menu"),M.setAttribute("role","presentation"),super(M,{orientation:1,actionViewItemProvider:W=>this.doGetActionViewItem(W,A,R),context:A.context,actionRunner:A.actionRunner,ariaLabel:A.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...u.isMacintosh||u.isLinux?[10]:[]],keyDown:!0}}),this.menuStyles=O,this.menuElement=M,this.actionsList.tabIndex=0,this.initializeOrUpdateStyleSheet(T,O),this._register(k.Gesture.addTarget(M)),this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,W=>{new D.StandardKeyboardEvent(W).equals(2)&&W.preventDefault()})),A.enableMnemonics&&this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,W=>{const H=W.key.toLocaleLowerCase();if(this.mnemonics.has(H)){E.EventHelper.stop(W,!0);const z=this.mnemonics.get(H);if(z.length===1&&(z[0]instanceof d&&z[0].container&&this.focusItemByElement(z[0].container),z[0].onClick(W)),z.length>1){const j=z.shift();j&&j.container&&(this.focusItemByElement(j.container),z.push(j)),this.mnemonics.set(H,z)}}})),u.isLinux&&this._register((0,E.addDisposableListener)(M,E.EventType.KEY_DOWN,W=>{const H=new D.StandardKeyboardEvent(W);H.equals(14)||H.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),E.EventHelper.stop(W,!0)):(H.equals(13)||H.equals(12))&&(this.focusedItem=0,this.focusPrevious(),E.EventHelper.stop(W,!0))})),this._register((0,E.addDisposableListener)(this.domNode,E.EventType.MOUSE_OUT,W=>{const H=W.relatedTarget;(0,E.isAncestor)(H,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),W.stopPropagation())})),this._register((0,E.addDisposableListener)(this.actionsList,E.EventType.MOUSE_OVER,W=>{let H=W.target;if(!(!H||!(0,E.isAncestor)(H,this.actionsList)||H===this.actionsList)){for(;H.parentElement!==this.actionsList&&H.parentElement!==null;)H=H.parentElement;if(H.classList.contains("action-item")){const z=this.focusedItem;this.setFocusedItem(H),z!==this.focusedItem&&this.updateFocus()}}})),this._register(k.Gesture.addTarget(this.actionsList)),this._register((0,E.addDisposableListener)(this.actionsList,k.EventType.Tap,W=>{let H=W.initialTarget;if(!(!H||!(0,E.isAncestor)(H,this.actionsList)||H===this.actionsList)){for(;H.parentElement!==this.actionsList&&H.parentElement!==null;)H=H.parentElement;if(H.classList.contains("action-item")){const z=this.focusedItem;this.setFocusedItem(H),z!==this.focusedItem&&this.updateFocus()}}}));const R={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new C.DomScrollableElement(M,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const x=this.scrollableElement.getDomNode();x.style.position="",this.styleScrollElement(x,O),this._register((0,E.addDisposableListener)(M,k.EventType.Change,W=>{E.EventHelper.stop(W,!0);const H=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:H-W.translationY})})),this._register((0,E.addDisposableListener)(x,E.EventType.MOUSE_UP,W=>{W.preventDefault()}));const F=(0,E.getWindow)(T);M.style.maxHeight=`${Math.max(10,F.innerHeight-T.getBoundingClientRect().top-35)}px`,N=N.filter((W,H)=>{var z;return!((z=A.submenuIds)===null||z===void 0)&&z.has(W.id)?(console.warn(`Found submenu cycle: ${W.id}`),!1):!(W instanceof o.Separator&&(H===N.length-1||H===0||N[H-1]instanceof o.Separator))}),this.push(N,{icon:!0,label:!0,isMenu:!0}),T.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(W=>!(W instanceof v)).forEach((W,H,z)=>{W.updatePositionInSet(H+1,z.length)})}initializeOrUpdateStyleSheet(T,N){this.styleSheet||((0,E.isInShadowDOM)(T)?this.styleSheet=(0,E.createStyleSheet)(T):(l.globalStyleSheet||(l.globalStyleSheet=(0,E.createStyleSheet)()),this.styleSheet=l.globalStyleSheet)),this.styleSheet.textContent=L(N,(0,E.isInShadowDOM)(T))}styleScrollElement(T,N){var A,O;const M=(A=N.foregroundColor)!==null&&A!==void 0?A:"",R=(O=N.backgroundColor)!==null&&O!==void 0?O:"",x=N.borderColor?`1px solid ${N.borderColor}`:"",F="5px",W=N.shadowColor?`0 2px 8px ${N.shadowColor}`:"";T.style.outline=x,T.style.borderRadius=F,T.style.color=M,T.style.backgroundColor=R,T.style.boxShadow=W}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(T){const N=this.focusedItem;this.setFocusedItem(T),N!==this.focusedItem&&this.updateFocus()}setFocusedItem(T){for(let N=0;N<this.actionsList.children.length;N++){const A=this.actionsList.children[N];if(T===A){this.focusedItem=N;break}}}updateFocus(T){super.updateFocus(T,!0,!0),typeof this.focusedItem<"u"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(T,N,A){if(T instanceof o.Separator)return new v(N.context,T,{icon:!0},this.menuStyles);if(T instanceof o.SubmenuAction){const O=new d(T,T.actions,A,{...N,submenuIds:new Set([...N.submenuIds||[],T.id])},this.menuStyles);if(N.enableMnemonics){const M=O.getMnemonic();if(M&&O.isEnabled()){let R=[];this.mnemonics.has(M)&&(R=this.mnemonics.get(M)),R.push(O),this.mnemonics.set(M,R)}}return O}else{const O={enableMnemonics:N.enableMnemonics,useEventAsContext:N.useEventAsContext};if(N.getKeyBinding){const R=N.getKeyBinding(T);if(R){const x=R.getLabel();x&&(O.keybinding=x)}}const M=new g(N.context,T,O,this.menuStyles);if(N.enableMnemonics){const R=M.getMnemonic();if(R&&M.isEnabled()){let x=[];this.mnemonics.has(R)&&(x=this.mnemonics.get(R)),x.push(M),this.mnemonics.set(R,x)}}return M}}}e.Menu=l;class g extends w.BaseActionViewItem{constructor(T,N,A,O){if(A.isMenu=!0,super(N,N,A),this.menuStyle=O,this.options=A,this.options.icon=A.icon!==void 0?A.icon:!1,this.options.label=A.label!==void 0?A.label:!0,this.cssClass="",this.options.label&&A.enableMnemonics){const M=this.action.label;if(M){const R=e.MENU_MNEMONIC_REGEX.exec(M);R&&(this.mnemonic=(R[1]?R[1]:R[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new s.RunOnceScheduler(()=>{this.element&&(this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_UP,M=>{if(E.EventHelper.stop(M,!0),f.isFirefox){if(new y.StandardMouseEvent((0,E.getWindow)(this.element),M).rightButton)return;this.onClick(M)}else setTimeout(()=>{this.onClick(M)},0)})),this._register((0,E.addDisposableListener)(this.element,E.EventType.CONTEXT_MENU,M=>{E.EventHelper.stop(M,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(T){super.render(T),this.element&&(this.container=T,this.item=(0,E.append)(this.element,(0,E.$)("a.action-menu-item")),this._action.id===o.Separator.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,E.append)(this.item,(0,E.$)("span.menu-item-check"+n.ThemeIcon.asCSSSelector(i.Codicon.menuSelection))),this.check.setAttribute("role","none"),this.label=(0,E.append)(this.item,(0,E.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,E.append)(this.item,(0,E.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked(),this.applyStyle())}blur(){super.blur(),this.applyStyle()}focus(){var T;super.focus(),(T=this.item)===null||T===void 0||T.focus(),this.applyStyle()}updatePositionInSet(T,N){this.item&&(this.item.setAttribute("aria-posinset",`${T}`),this.item.setAttribute("aria-setsize",`${N}`))}updateLabel(){var T;if(this.label&&this.options.label){(0,E.clearNode)(this.label);let N=(0,c.stripIcons)(this.action.label);if(N){const A=_(N);this.options.enableMnemonics||(N=A),this.label.setAttribute("aria-label",A.replace(/&&/g,"&"));const O=e.MENU_MNEMONIC_REGEX.exec(N);if(O){N=r.escape(N),e.MENU_ESCAPED_MNEMONIC_REGEX.lastIndex=0;let M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);for(;M&&M[1];)M=e.MENU_ESCAPED_MNEMONIC_REGEX.exec(N);const R=x=>x.replace(/&amp;&amp;/g,"&amp;");M?this.label.append(r.ltrim(R(N.substr(0,M.index))," "),(0,E.$)("u",{"aria-hidden":"true"},M[3]),r.rtrim(R(N.substr(M.index+M[0].length))," ")):this.label.innerText=R(N).trim(),(T=this.item)===null||T===void 0||T.setAttribute("aria-keyshortcuts",(O[1]?O[1]:O[3]).toLocaleLowerCase())}else this.label.innerText=N.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.action.class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.action.enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const T=this.action.checked;this.item.classList.toggle("checked",!!T),T!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",T?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){const T=this.element&&this.element.classList.contains("focused"),N=T&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,A=T&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,O=T&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",M=T&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=N??"",this.item.style.backgroundColor=A??"",this.item.style.outline=O,this.item.style.outlineOffset=M),this.check&&(this.check.style.color=N??"")}}class d extends g{constructor(T,N,A,O,M){super(T,T,O,M),this.submenuActions=N,this.parentData=A,this.submenuOptions=O,this.mysubmenu=null,this.submenuDisposables=this._register(new m.DisposableStore),this.mouseOver=!1,this.expandDirection=O&&O.expandDirection!==void 0?O.expandDirection:{horizontal:a.Right,vertical:h.Below},this.showScheduler=new s.RunOnceScheduler(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new s.RunOnceScheduler(()=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(T){super.render(T),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,E.append)(this.item,(0,E.$)("span.submenu-indicator"+n.ThemeIcon.asCSSSelector(i.Codicon.menuSubmenu))),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,E.addDisposableListener)(this.element,E.EventType.KEY_UP,N=>{const A=new D.StandardKeyboardEvent(N);(A.equals(17)||A.equals(3))&&(E.EventHelper.stop(N,!0),this.createSubmenu(!0))})),this._register((0,E.addDisposableListener)(this.element,E.EventType.KEY_DOWN,N=>{const A=new D.StandardKeyboardEvent(N);(0,E.getActiveElement)()===this.item&&(A.equals(17)||A.equals(3))&&E.EventHelper.stop(N,!0)})),this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_OVER,N=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,E.addDisposableListener)(this.element,E.EventType.MOUSE_LEAVE,N=>{this.mouseOver=!1})),this._register((0,E.addDisposableListener)(this.element,E.EventType.FOCUS_OUT,N=>{this.element&&!(0,E.isAncestor)((0,E.getActiveElement)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(T){E.EventHelper.stop(T,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(T){if(this.parentData.submenu&&(T||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch{}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(T,N,A,O){const M={top:0,left:0};return M.left=(0,b.layout)(T.width,N.width,{position:O.horizontal===a.Right?0:1,offset:A.left,size:A.width}),M.left>=A.left&&M.left<A.left+A.width&&(A.left+10+N.width<=T.width&&(M.left=A.left+10),A.top+=10,A.height=0),M.top=(0,b.layout)(T.height,N.height,{position:0,offset:A.top,size:0}),M.top+N.height===A.top&&M.top+A.height+N.height<=T.height&&(M.top+=A.height),M}createSubmenu(T=!0){if(this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,E.append)(this.element,(0,E.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const N=(0,E.getWindow)(this.parentData.parent.domNode).getComputedStyle(this.parentData.parent.domNode),A=parseFloat(N.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new l(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new o.EmptySubmenuAction],this.submenuOptions,this.menuStyle);const O=this.element.getBoundingClientRect(),M={top:O.top-A,left:O.left,height:O.height+2*A,width:O.width},R=this.submenuContainer.getBoundingClientRect(),x=(0,E.getWindow)(this.element),{top:F,left:W}=this.calculateSubmenuMenuLayout(new E.Dimension(x.innerWidth,x.innerHeight),E.Dimension.lift(R),M,this.expandDirection);this.submenuContainer.style.left=`${W-R.left}px`,this.submenuContainer.style.top=`${F-R.top}px`,this.submenuDisposables.add((0,E.addDisposableListener)(this.submenuContainer,E.EventType.KEY_UP,H=>{new D.StandardKeyboardEvent(H).equals(15)&&(E.EventHelper.stop(H,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,E.addDisposableListener)(this.submenuContainer,E.EventType.KEY_DOWN,H=>{new D.StandardKeyboardEvent(H).equals(15)&&E.EventHelper.stop(H,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(T),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(T){var N;this.item&&((N=this.item)===null||N===void 0||N.setAttribute("aria-expanded",T))}applyStyle(){super.applyStyle();const N=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=N??"")}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class v extends w.ActionViewItem{constructor(T,N,A,O){super(T,N,A),this.menuStyles=O}render(T){super.render(T),this.label&&(this.label.style.borderBottomColor=this.menuStyles.separatorColor?`${this.menuStyles.separatorColor}`:"")}}function _(I){const T=e.MENU_MNEMONIC_REGEX,N=T.exec(I);if(!N)return I;const A=!N[1];return I.replace(T,A?"$2$3":"").trim()}function S(I){const T=(0,t.getCodiconFontCharacters)()[I.id];return`.codicon-${I.id}:before { content: '\\${T.toString(16)}'; }`}function L(I,T){let N=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${S(i.Codicon.menuSelection)}
${S(i.Codicon.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
	margin: 0 4px;
	border-radius: 4px;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: 4px 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
	max-height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(T){N+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const A=I.scrollbarShadow;A&&(N+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${A} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${A} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${A} 6px 6px 6px -6px inset;
				}
			`);const O=I.scrollbarSliderBackground;O&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${O};
				}
			`);const M=I.scrollbarSliderHoverBackground;M&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${M};
				}
			`);const R=I.scrollbarSliderActiveBackground;R&&(N+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${R};
				}
			`)}return N}}),define(ie[635],ne([1,0,82,346,41,26,31,7,2,610,44,456]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleMenuAction=e.ToolBar=void 0;class o extends w.Disposable{constructor(t,n,c={orientation:0}){var m;super(),this.submenuActionViewItems=[],this.hasSecondaryActions=!1,this._onDidChangeDropdownVisibility=this._register(new p.EventMultiplexer),this.onDidChangeDropdownVisibility=this._onDidChangeDropdownVisibility.event,this.disposables=this._register(new w.DisposableStore),c.hoverDelegate=(m=c.hoverDelegate)!==null&&m!==void 0?m:this._register((0,C.createInstantHoverDelegate)()),this.options=c,this.lookupKeybindings=typeof this.options.getKeyBinding=="function",this.toggleMenuAction=this._register(new s(()=>{var u;return(u=this.toggleMenuActionViewItem)===null||u===void 0?void 0:u.show()},c.toggleMenuTitle)),this.element=document.createElement("div"),this.element.className="monaco-toolbar",t.appendChild(this.element),this.actionBar=this._register(new f.ActionBar(this.element,{orientation:c.orientation,ariaLabel:c.ariaLabel,actionRunner:c.actionRunner,allowContextMenu:c.allowContextMenu,highlightToggledItems:c.highlightToggledItems,hoverDelegate:c.hoverDelegate,actionViewItemProvider:(u,r)=>{var a;if(u.id===s.ID)return this.toggleMenuActionViewItem=new k.DropdownMenuActionViewItem(u,u.menuActions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:y.ThemeIcon.asClassNameArray((a=c.moreIcon)!==null&&a!==void 0?a:D.Codicon.toolBarMore),anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,isMenu:!0,hoverDelegate:this.options.hoverDelegate}),this.toggleMenuActionViewItem.setActionContext(this.actionBar.context),this.disposables.add(this._onDidChangeDropdownVisibility.add(this.toggleMenuActionViewItem.onDidChangeVisibility)),this.toggleMenuActionViewItem;if(c.actionViewItemProvider){const h=c.actionViewItemProvider(u,r);if(h)return h}if(u instanceof E.SubmenuAction){const h=new k.DropdownMenuActionViewItem(u,u.actions,n,{actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,keybindingProvider:this.options.getKeyBinding,classNames:u.class,anchorAlignmentProvider:this.options.anchorAlignmentProvider,menuAsChild:!!this.options.renderDropdownAsChildElement,skipTelemetry:this.options.skipTelemetry,hoverDelegate:this.options.hoverDelegate});return h.setActionContext(this.actionBar.context),this.submenuActionViewItems.push(h),this.disposables.add(this._onDidChangeDropdownVisibility.add(h.onDidChangeVisibility)),h}}}))}set actionRunner(t){this.actionBar.actionRunner=t}get actionRunner(){return this.actionBar.actionRunner}getElement(){return this.element}getItemAction(t){return this.actionBar.getAction(t)}setActions(t,n){this.clear();const c=t?t.slice(0):[];this.hasSecondaryActions=!!(n&&n.length>0),this.hasSecondaryActions&&n&&(this.toggleMenuAction.menuActions=n.slice(0),c.push(this.toggleMenuAction)),c.forEach(m=>{this.actionBar.push(m,{icon:!0,label:!1,keybinding:this.getKeybindingLabel(m)})})}getKeybindingLabel(t){var n,c,m;const u=this.lookupKeybindings?(c=(n=this.options).getKeyBinding)===null||c===void 0?void 0:c.call(n,t):void 0;return(m=u?.getLabel())!==null&&m!==void 0?m:void 0}clear(){this.submenuActionViewItems=[],this.disposables.clear(),this.actionBar.clear()}dispose(){this.clear(),this.disposables.dispose(),super.dispose()}}e.ToolBar=o;class s extends E.Action{constructor(t,n){n=n||b.localize(0,null),super(s.ID,n,void 0,!0),this._menuActions=[],this.toggleDropdownMenu=t}async run(){this.toggleDropdownMenu()}get menuActions(){return this._menuActions}set menuActions(t){this._menuActions=t}}e.ToggleMenuAction=s,s.ID="toolbar.toggle.more"}),define(ie[170],ne([1,0,6,89,46,82,253,252,250,111,169,242,154,41,13,15,26,31,45,7,78,2,136,20,611,44,30,457]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractTree=e.TreeFindMatchType=e.TreeFindMode=e.FuzzyToggle=e.ModeToggle=e.TreeRenderer=e.RenderIndentGuides=e.ComposedTreeDelegate=void 0;class S extends w.ElementsDragAndDropData{constructor(B){super(B.elements.map(q=>q.element)),this.data=B}}function L(oe){return oe instanceof w.ElementsDragAndDropData?new S(oe):oe}class I{constructor(B,q){this.modelProvider=B,this.dnd=q,this.autoExpandDisposable=h.Disposable.None,this.disposables=new h.DisposableStore}getDragURI(B){return this.dnd.getDragURI(B.element)}getDragLabel(B,q){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(B.map(V=>V.element),q)}onDragStart(B,q){var V,$;($=(V=this.dnd).onDragStart)===null||$===void 0||$.call(V,L(B),q)}onDragOver(B,q,V,$,J,se=!0){const de=this.dnd.onDragOver(L(B),q&&q.element,V,$,J),le=this.autoExpandNode!==q;if(le&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=q),typeof q>"u")return de;if(le&&typeof de!="boolean"&&de.autoExpand&&(this.autoExpandDisposable=(0,n.disposableTimeout)(()=>{const _e=this.modelProvider(),ke=_e.getNodeLocation(q);_e.isCollapsed(ke)&&_e.setCollapsed(ke,!1),this.autoExpandNode=void 0},500,this.disposables)),typeof de=="boolean"||!de.accept||typeof de.bubble>"u"||de.feedback){if(!se){const _e=typeof de=="boolean"?de:de.accept,ke=typeof de=="boolean"?void 0:de.effect;return{accept:_e,effect:ke,feedback:[V]}}return de}if(de.bubble===1){const _e=this.modelProvider(),ke=_e.getNodeLocation(q),Ee=_e.getParentNodeLocation(ke),Ae=_e.getNode(Ee),xe=Ee&&_e.getListIndex(Ee);return this.onDragOver(B,Ae,xe,$,J,!1)}const fe=this.modelProvider(),ve=fe.getNodeLocation(q),Ce=fe.getListIndex(ve),Se=fe.getListRenderCount(ve);return{...de,feedback:(0,t.range)(Ce,Ce+Se)}}drop(B,q,V,$,J){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(L(B),q&&q.element,V,$,J)}onDragEnd(B){var q,V;(V=(q=this.dnd).onDragEnd)===null||V===void 0||V.call(q,B)}dispose(){this.disposables.dispose(),this.dnd.dispose()}}function T(oe,B){return B&&{...B,identityProvider:B.identityProvider&&{getId(q){return B.identityProvider.getId(q.element)}},dnd:B.dnd&&new I(oe,B.dnd),multipleSelectionController:B.multipleSelectionController&&{isSelectionSingleChangeEvent(q){return B.multipleSelectionController.isSelectionSingleChangeEvent({...q,element:q.element})},isSelectionRangeChangeEvent(q){return B.multipleSelectionController.isSelectionRangeChangeEvent({...q,element:q.element})}},accessibilityProvider:B.accessibilityProvider&&{...B.accessibilityProvider,getSetSize(q){const V=oe(),$=V.getNodeLocation(q),J=V.getParentNodeLocation($);return V.getNode(J).visibleChildrenCount},getPosInSet(q){return q.visibleChildIndex+1},isChecked:B.accessibilityProvider&&B.accessibilityProvider.isChecked?q=>B.accessibilityProvider.isChecked(q.element):void 0,getRole:B.accessibilityProvider&&B.accessibilityProvider.getRole?q=>B.accessibilityProvider.getRole(q.element):()=>"treeitem",getAriaLabel(q){return B.accessibilityProvider.getAriaLabel(q.element)},getWidgetAriaLabel(){return B.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:B.accessibilityProvider&&B.accessibilityProvider.getWidgetRole?()=>B.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:B.accessibilityProvider&&B.accessibilityProvider.getAriaLevel?q=>B.accessibilityProvider.getAriaLevel(q.element):q=>q.depth,getActiveDescendantId:B.accessibilityProvider.getActiveDescendantId&&(q=>B.accessibilityProvider.getActiveDescendantId(q.element))},keyboardNavigationLabelProvider:B.keyboardNavigationLabelProvider&&{...B.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(q){return B.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(q.element)}}}}class N{constructor(B){this.delegate=B}getHeight(B){return this.delegate.getHeight(B.element)}getTemplateId(B){return this.delegate.getTemplateId(B.element)}hasDynamicHeight(B){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(B.element)}setDynamicHeight(B,q){var V,$;($=(V=this.delegate).setDynamicHeight)===null||$===void 0||$.call(V,B.element,q)}}e.ComposedTreeDelegate=N;var A;(function(oe){oe.None="none",oe.OnHover="onHover",oe.Always="always"})(A||(e.RenderIndentGuides=A={}));class O{get elements(){return this._elements}constructor(B,q=[]){this._elements=q,this.disposables=new h.DisposableStore,this.onDidChange=r.Event.forEach(B,V=>this._elements=V,this.disposables)}dispose(){this.disposables.dispose()}}class M{constructor(B,q,V,$,J,se={}){var de;this.renderer=B,this.modelProvider=q,this.activeNodes=$,this.renderedIndentGuides=J,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=M.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.activeIndentNodes=new Set,this.indentGuidesDisposable=h.Disposable.None,this.disposables=new h.DisposableStore,this.templateId=B.templateId,this.updateOptions(se),r.Event.map(V,le=>le.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(de=B.onDidChangeTwistieState)===null||de===void 0||de.call(B,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(B={}){if(typeof B.indent<"u"){const q=(0,l.clamp)(B.indent,0,40);if(q!==this.indent){this.indent=q;for(const[V,$]of this.renderedNodes)this.renderTreeElement(V,$)}}if(typeof B.renderIndentGuides<"u"){const q=B.renderIndentGuides!==A.None;if(q!==this.shouldRenderIndentGuides){this.shouldRenderIndentGuides=q;for(const[V,$]of this.renderedNodes)this._renderIndentGuides(V,$);if(this.indentGuidesDisposable.dispose(),q){const V=new h.DisposableStore;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,V),this.indentGuidesDisposable=V,this._onDidChangeActiveNodes(this.activeNodes.elements)}}}typeof B.hideTwistiesOfChildlessElements<"u"&&(this.hideTwistiesOfChildlessElements=B.hideTwistiesOfChildlessElements)}renderTemplate(B){const q=(0,f.append)(B,(0,f.$)(".monaco-tl-row")),V=(0,f.append)(q,(0,f.$)(".monaco-tl-indent")),$=(0,f.append)(q,(0,f.$)(".monaco-tl-twistie")),J=(0,f.append)(q,(0,f.$)(".monaco-tl-contents")),se=this.renderer.renderTemplate(J);return{container:B,indent:V,twistie:$,indentGuidesDisposable:h.Disposable.None,templateData:se}}renderElement(B,q,V,$){this.renderedNodes.set(B,V),this.renderedElements.set(B.element,B),this.renderTreeElement(B,V),this.renderer.renderElement(B,q,V.templateData,$)}disposeElement(B,q,V,$){var J,se;V.indentGuidesDisposable.dispose(),(se=(J=this.renderer).disposeElement)===null||se===void 0||se.call(J,B,q,V.templateData,$),typeof $=="number"&&(this.renderedNodes.delete(B),this.renderedElements.delete(B.element))}disposeTemplate(B){this.renderer.disposeTemplate(B.templateData)}onDidChangeTwistieState(B){const q=this.renderedElements.get(B);q&&this.onDidChangeNodeTwistieState(q)}onDidChangeNodeTwistieState(B){const q=this.renderedNodes.get(B);q&&(this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderTreeElement(B,q))}renderTreeElement(B,q){const V=M.DefaultIndent+(B.depth-1)*this.indent;q.twistie.style.paddingLeft=`${V}px`,q.indent.style.width=`${V+this.indent-16}px`,B.collapsible?q.container.setAttribute("aria-expanded",String(!B.collapsed)):q.container.removeAttribute("aria-expanded"),q.twistie.classList.remove(...m.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded));let $=!1;this.renderer.renderTwistie&&($=this.renderer.renderTwistie(B.element,q.twistie)),B.collapsible&&(!this.hideTwistiesOfChildlessElements||B.visibleChildrenCount>0)?($||q.twistie.classList.add(...m.ThemeIcon.asClassNameArray(c.Codicon.treeItemExpanded)),q.twistie.classList.add("collapsible"),q.twistie.classList.toggle("collapsed",B.collapsed)):q.twistie.classList.remove("collapsible","collapsed"),this._renderIndentGuides(B,q)}_renderIndentGuides(B,q){if((0,f.clearNode)(q.indent),q.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const V=new h.DisposableStore,$=this.modelProvider();for(;;){const J=$.getNodeLocation(B),se=$.getParentNodeLocation(J);if(!se)break;const de=$.getNode(se),le=(0,f.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(de)&&le.classList.add("active"),q.indent.childElementCount===0?q.indent.appendChild(le):q.indent.insertBefore(le,q.indent.firstElementChild),this.renderedIndentGuides.add(de,le),V.add((0,h.toDisposable)(()=>this.renderedIndentGuides.delete(de,le))),B=de}q.indentGuidesDisposable=V}_onDidChangeActiveNodes(B){if(!this.shouldRenderIndentGuides)return;const q=new Set,V=this.modelProvider();B.forEach($=>{const J=V.getNodeLocation($);try{const se=V.getParentNodeLocation(J);$.collapsible&&$.children.length>0&&!$.collapsed?q.add($):se&&q.add(V.getNode(se))}catch{}}),this.activeIndentNodes.forEach($=>{q.has($)||this.renderedIndentGuides.forEach($,J=>J.classList.remove("active"))}),q.forEach($=>{this.activeIndentNodes.has($)||this.renderedIndentGuides.forEach($,J=>J.classList.add("active"))}),this.activeIndentNodes=q}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,h.dispose)(this.disposables)}}e.TreeRenderer=M,M.DefaultIndent=8;class R{get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}constructor(B,q,V){this.tree=B,this.keyboardNavigationLabelProvider=q,this._filter=V,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new h.DisposableStore,B.onWillRefilter(this.reset,this,this.disposables)}filter(B,q){let V=1;if(this._filter){const se=this._filter.filter(B,q);if(typeof se=="boolean"?V=se?1:0:(0,o.isFilterResult)(se)?V=(0,o.getVisibleState)(se.visibility):V=se,V===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:a.FuzzyScore.Default,visibility:V};const $=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B),J=Array.isArray($)?$:[$];for(const se of J){const de=se&&se.toString();if(typeof de>"u")return{data:a.FuzzyScore.Default,visibility:V};let le;if(this.tree.findMatchType===z.Contiguous){const fe=de.toLowerCase().indexOf(this._lowercasePattern);if(fe>-1){le=[Number.MAX_SAFE_INTEGER,0];for(let ve=this._lowercasePattern.length;ve>0;ve--)le.push(fe+ve-1)}}else le=(0,a.fuzzyScore)(this._pattern,this._lowercasePattern,0,de,de.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(le)return this._matchCount++,J.length===1?{data:le,visibility:V}:{data:{label:de,score:le},visibility:V}}return this.tree.findMode===H.Filter?typeof this.tree.options.defaultFindVisibility=="number"?this.tree.options.defaultFindVisibility:this.tree.options.defaultFindVisibility?this.tree.options.defaultFindVisibility(B):2:{data:a.FuzzyScore.Default,visibility:V}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,h.dispose)(this.disposables)}}class x extends C.Toggle{constructor(B){var q,V;super({icon:c.Codicon.listFilter,title:(0,d.localize)(0,null),isChecked:(q=B.isChecked)!==null&&q!==void 0?q:!1,hoverDelegate:(V=B.hoverDelegate)!==null&&V!==void 0?V:(0,v.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:B.inputActiveOptionBorder,inputActiveOptionForeground:B.inputActiveOptionForeground,inputActiveOptionBackground:B.inputActiveOptionBackground})}}e.ModeToggle=x;class F extends C.Toggle{constructor(B){var q,V;super({icon:c.Codicon.searchFuzzy,title:(0,d.localize)(1,null),isChecked:(q=B.isChecked)!==null&&q!==void 0?q:!1,hoverDelegate:(V=B.hoverDelegate)!==null&&V!==void 0?V:(0,v.getDefaultHoverDelegate)("element"),inputActiveOptionBorder:B.inputActiveOptionBorder,inputActiveOptionForeground:B.inputActiveOptionForeground,inputActiveOptionBackground:B.inputActiveOptionBackground})}}e.FuzzyToggle=F;const W={inputBoxStyles:p.unthemedInboxStyles,toggleStyles:C.unthemedToggleStyles,listFilterWidgetBackground:void 0,listFilterWidgetNoMatchesOutline:void 0,listFilterWidgetOutline:void 0,listFilterWidgetShadow:void 0};var H;(function(oe){oe[oe.Highlight=0]="Highlight",oe[oe.Filter=1]="Filter"})(H||(e.TreeFindMode=H={}));var z;(function(oe){oe[oe.Fuzzy=0]="Fuzzy",oe[oe.Contiguous=1]="Contiguous"})(z||(e.TreeFindMatchType=z={}));class j extends h.Disposable{set mode(B){this.modeToggle.checked=B===H.Filter,this.findInput.inputBox.setPlaceHolder(B===H.Filter?(0,d.localize)(2,null):(0,d.localize)(3,null))}set matchType(B){this.matchTypeToggle.checked=B===z.Fuzzy}constructor(B,q,V,$,J,se){var de;super(),this.tree=q,this.elements=(0,f.h)(".monaco-tree-type-filter",[(0,f.h)(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),(0,f.h)(".monaco-tree-type-filter-input@findInput"),(0,f.h)(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this.top=0,this._onDidDisable=new r.Emitter,B.appendChild(this.elements.root),this._register((0,h.toDisposable)(()=>B.removeChild(this.elements.root)));const le=(de=se?.styles)!==null&&de!==void 0?de:W;le.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=le.listFilterWidgetBackground),le.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${le.listFilterWidgetShadow}`);const fe=this._register((0,v.createInstantHoverDelegate)());this.modeToggle=this._register(new x({...le.toggleStyles,isChecked:$===H.Filter,hoverDelegate:fe})),this.matchTypeToggle=this._register(new F({...le.toggleStyles,isChecked:J===z.Fuzzy,hoverDelegate:fe})),this.onDidChangeMode=r.Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?H.Filter:H.Highlight,this._store),this.onDidChangeMatchType=r.Event.map(this.matchTypeToggle.onChange,()=>this.matchTypeToggle.checked?z.Fuzzy:z.Contiguous,this._store),this.findInput=this._register(new y.FindInput(this.elements.findInput,V,{label:(0,d.localize)(4,null),additionalToggles:[this.modeToggle,this.matchTypeToggle],showCommonFindToggles:!1,inputBoxStyles:le.inputBoxStyles,toggleStyles:le.toggleStyles,history:se?.history})),this.actionbar=this._register(new D.ActionBar(this.elements.actionbar)),this.mode=$;const ve=this._register(new k.DomEmitter(this.findInput.inputBox.inputElement,"keydown")),Ce=r.Event.chain(ve.event,Ee=>Ee.map(Ae=>new E.StandardKeyboardEvent(Ae)));this._register(Ce(Ee=>{if(Ee.equals(3)){Ee.preventDefault(),Ee.stopPropagation(),this.findInput.inputBox.addToHistory(),this.tree.domFocus();return}if(Ee.equals(18)){Ee.preventDefault(),Ee.stopPropagation(),this.findInput.inputBox.isAtLastInHistory()||this.findInput.inputBox.isNowhereInHistory()?(this.findInput.inputBox.addToHistory(),this.tree.domFocus()):this.findInput.inputBox.showNextValue();return}if(Ee.equals(16)){Ee.preventDefault(),Ee.stopPropagation(),this.findInput.inputBox.showPreviousValue();return}}));const Se=this._register(new i.Action("close",(0,d.localize)(5,null),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(Se,{icon:!0,label:!1});const _e=this._register(new k.DomEmitter(this.elements.grab,"mousedown"));this._register(_e.event(Ee=>{const Ae=new h.DisposableStore,xe=Ae.add(new k.DomEmitter((0,f.getWindow)(Ee),"mousemove")),We=Ae.add(new k.DomEmitter((0,f.getWindow)(Ee),"mouseup")),Be=this.right,De=Ee.pageX,Ne=this.top,me=Ee.pageY;this.elements.grab.classList.add("grabbing");const be=this.elements.root.style.transition;this.elements.root.style.transition="unset";const Re=He=>{const qe=He.pageX-De;this.right=Be-qe;const Ue=He.pageY-me;this.top=Ne+Ue,this.layout()};Ae.add(xe.event(Re)),Ae.add(We.event(He=>{Re(He),this.elements.grab.classList.remove("grabbing"),this.elements.root.style.transition=be,Ae.dispose()}))}));const ke=r.Event.chain(this._register(new k.DomEmitter(this.elements.grab,"keydown")).event,Ee=>Ee.map(Ae=>new E.StandardKeyboardEvent(Ae)));this._register(ke(Ee=>{let Ae,xe;if(Ee.keyCode===15?Ae=Number.POSITIVE_INFINITY:Ee.keyCode===17?Ae=0:Ee.keyCode===10&&(Ae=this.right===0?Number.POSITIVE_INFINITY:0),Ee.keyCode===16?xe=0:Ee.keyCode===18&&(xe=Number.POSITIVE_INFINITY),Ae!==void 0&&(Ee.preventDefault(),Ee.stopPropagation(),this.right=Ae,this.layout()),xe!==void 0){Ee.preventDefault(),Ee.stopPropagation(),this.top=xe;const We=this.elements.root.style.transition;this.elements.root.style.transition="unset",this.layout(),setTimeout(()=>{this.elements.root.style.transition=We},0)}})),this.onDidChangeValue=this.findInput.onDidChange}layout(B=this.width){this.width=B,this.right=(0,l.clamp)(this.right,0,Math.max(0,B-212)),this.elements.root.style.right=`${this.right}px`,this.top=(0,l.clamp)(this.top,0,24),this.elements.root.style.top=`${this.top}px`}showMessage(B){this.findInput.showMessage(B)}clearMessage(){this.findInput.clearMessage()}async dispose(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),await(0,n.timeout)(300),super.dispose()}}class K{get pattern(){return this._pattern}get mode(){return this._mode}set mode(B){B!==this._mode&&(this._mode=B,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(B))}get matchType(){return this._matchType}set matchType(B){B!==this._matchType&&(this._matchType=B,this.widget&&(this.widget.matchType=this._matchType),this.tree.refilter(),this.render(),this._onDidChangeMatchType.fire(B))}constructor(B,q,V,$,J,se={}){var de,le;this.tree=B,this.view=V,this.filter=$,this.contextViewProvider=J,this.options=se,this._pattern="",this.width=0,this._onDidChangeMode=new r.Emitter,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangeMatchType=new r.Emitter,this.onDidChangeMatchType=this._onDidChangeMatchType.event,this._onDidChangePattern=new r.Emitter,this._onDidChangeOpenState=new r.Emitter,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new h.DisposableStore,this.disposables=new h.DisposableStore,this._mode=(de=B.options.defaultFindMode)!==null&&de!==void 0?de:H.Highlight,this._matchType=(le=B.options.defaultFindMatchType)!==null&&le!==void 0?le:z.Fuzzy,q.onDidSplice(this.onDidSpliceModel,this,this.disposables)}updateOptions(B={}){B.defaultFindMode!==void 0&&(this.mode=B.defaultFindMode),B.defaultFindMatchType!==void 0&&(this.matchType=B.defaultFindMatchType)}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var B,q,V,$;const J=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&J?!((B=this.tree.options.showNotFoundMessage)!==null&&B!==void 0)||B?(q=this.widget)===null||q===void 0||q.showMessage({type:2,content:(0,d.localize)(6,null)}):(V=this.widget)===null||V===void 0||V.showMessage({type:2}):($=this.widget)===null||$===void 0||$.clearMessage()}shouldAllowFocus(B){return!this.widget||!this.pattern||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!a.FuzzyScore.isDefault(B.filterData)}layout(B){var q;this.width=B,(q=this.widget)===null||q===void 0||q.layout(B)}dispose(){this._history=void 0,this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function U(oe,B){return oe.position===B.position&&G(oe,B)}function G(oe,B){return oe.node.element===B.node.element&&oe.startIndex===B.startIndex&&oe.height===B.height&&oe.endIndex===B.endIndex}class te{constructor(B=[]){this.stickyNodes=B}get count(){return this.stickyNodes.length}equal(B){return(0,t.equals)(this.stickyNodes,B.stickyNodes,U)}lastNodePartiallyVisible(){if(this.count===0)return!1;const B=this.stickyNodes[this.count-1];if(this.count===1)return B.position!==0;const q=this.stickyNodes[this.count-2];return q.position+q.height!==B.position}animationStateChanged(B){if(!(0,t.equals)(this.stickyNodes,B.stickyNodes,G)||this.count===0)return!1;const q=this.stickyNodes[this.count-1],V=B.stickyNodes[B.count-1];return q.position!==V.position}}class ee{constrainStickyScrollNodes(B,q,V){for(let $=0;$<B.length;$++){const J=B[$];if(J.position+J.height>V||$>=q)return B.slice(0,$)}return B}}class Y extends h.Disposable{constructor(B,q,V,$,J,se={}){var de;super(),this.tree=B,this.model=q,this.view=V,this.treeDelegate=J,this.maxWidgetViewRatio=.4;const le=this.validateStickySettings(se);this.stickyScrollMaxItemCount=le.stickyScrollMaxItemCount,this.stickyScrollDelegate=(de=se.stickyScrollDelegate)!==null&&de!==void 0?de:new ee,this._widget=this._register(new P(V.getScrollableElement(),V,B,$,J,se.accessibilityProvider)),this.onDidChangeHasFocus=this._widget.onDidChangeHasFocus,this.onContextMenu=this._widget.onContextMenu,this._register(V.onDidScroll(()=>this.update())),this._register(V.onDidChangeContentHeight(()=>this.update())),this._register(B.onDidChangeCollapseState(()=>this.update())),this.update()}get height(){return this._widget.height}getNodeAtHeight(B){let q;if(B===0?q=this.view.firstVisibleIndex:q=this.view.indexAt(B+this.view.scrollTop),!(q<0||q>=this.view.length))return this.view.element(q)}update(){const B=this.getNodeAtHeight(0);if(!B||this.tree.scrollTop===0){this._widget.setState(void 0);return}const q=this.findStickyState(B);this._widget.setState(q)}findStickyState(B){const q=[];let V=B,$=0,J=this.getNextStickyNode(V,void 0,$);for(;J&&(q.push(J),$+=J.height,!(q.length<=this.stickyScrollMaxItemCount&&(V=this.getNextVisibleNode(J),!V)));)J=this.getNextStickyNode(V,J.node,$);const se=this.constrainStickyNodes(q);return se.length?new te(se):void 0}getNextVisibleNode(B){return this.getNodeAtHeight(B.position+B.height)}getNextStickyNode(B,q,V){const $=this.getAncestorUnderPrevious(B,q);if($&&!($===B&&(!this.nodeIsUncollapsedParent(B)||this.nodeTopAlignsWithStickyNodesBottom(B,V))))return this.createStickyScrollNode($,V)}nodeTopAlignsWithStickyNodesBottom(B,q){const V=this.getNodeIndex(B),$=this.view.getElementTop(V),J=q;return this.view.scrollTop===$-J}createStickyScrollNode(B,q){const V=this.treeDelegate.getHeight(B),{startIndex:$,endIndex:J}=this.getNodeRange(B),se=this.calculateStickyNodePosition(J,q,V);return{node:B,position:se,height:V,startIndex:$,endIndex:J}}getAncestorUnderPrevious(B,q=void 0){let V=B,$=this.getParentNode(V);for(;$;){if($===q)return V;V=$,$=this.getParentNode(V)}if(q===void 0)return V}calculateStickyNodePosition(B,q,V){let $=this.view.getRelativeTop(B);if($===null&&this.view.firstVisibleIndex===B&&B+1<this.view.length){const fe=this.treeDelegate.getHeight(this.view.element(B)),ve=this.view.getRelativeTop(B+1);$=ve?ve-fe/this.view.renderHeight:null}if($===null)return q;const J=this.view.element(B),se=this.treeDelegate.getHeight(J),le=$*this.view.renderHeight+se;return q+V>le&&q<=le?le-V:q}constrainStickyNodes(B){if(B.length===0)return[];const q=this.view.renderHeight*this.maxWidgetViewRatio,V=B[B.length-1];if(B.length<=this.stickyScrollMaxItemCount&&V.position+V.height<=q)return B;const $=this.stickyScrollDelegate.constrainStickyScrollNodes(B,this.stickyScrollMaxItemCount,q);if(!$.length)return[];const J=$[$.length-1];if($.length>this.stickyScrollMaxItemCount||J.position+J.height>q)throw new Error("stickyScrollDelegate violates constraints");return $}getParentNode(B){const q=this.model.getNodeLocation(B),V=this.model.getParentNodeLocation(q);return V?this.model.getNode(V):void 0}nodeIsUncollapsedParent(B){const q=this.model.getNodeLocation(B);return this.model.getListRenderCount(q)>1}getNodeIndex(B){const q=this.model.getNodeLocation(B);return this.model.getListIndex(q)}getNodeRange(B){const q=this.model.getNodeLocation(B),V=this.model.getListIndex(q);if(V<0)throw new Error("Node not found in tree");const $=this.model.getListRenderCount(q),J=V+$-1;return{startIndex:V,endIndex:J}}nodePositionTopBelowWidget(B){const q=[];let V=this.getParentNode(B);for(;V;)q.push(V),V=this.getParentNode(V);let $=0;for(let J=0;J<q.length&&J<this.stickyScrollMaxItemCount;J++)$+=this.treeDelegate.getHeight(q[J]);return $}domFocus(){this._widget.domFocus()}focusedLast(){return this._widget.focusedLast()}updateOptions(B={}){if(!B.stickyScrollMaxItemCount)return;const q=this.validateStickySettings(B);this.stickyScrollMaxItemCount!==q.stickyScrollMaxItemCount&&(this.stickyScrollMaxItemCount=q.stickyScrollMaxItemCount,this.update())}validateStickySettings(B){let q=7;return typeof B.stickyScrollMaxItemCount=="number"&&(q=Math.max(B.stickyScrollMaxItemCount,1)),{stickyScrollMaxItemCount:q}}}class P{constructor(B,q,V,$,J,se){this.view=q,this.tree=V,this.treeRenderers=$,this.treeDelegate=J,this.accessibilityProvider=se,this._previousElements=[],this._previousStateDisposables=new h.DisposableStore,this._rootDomNode=(0,f.$)(".monaco-tree-sticky-container.empty"),B.appendChild(this._rootDomNode);const de=(0,f.$)(".monaco-tree-sticky-container-shadow");this._rootDomNode.appendChild(de),this.stickyScrollFocus=new Z(this._rootDomNode,q),this.onDidChangeHasFocus=this.stickyScrollFocus.onDidChangeHasFocus,this.onContextMenu=this.stickyScrollFocus.onContextMenu}get height(){if(!this._previousState)return 0;const B=this._previousState.stickyNodes[this._previousState.count-1];return B.position+B.height}setState(B){const q=!!this._previousState&&this._previousState.count>0,V=!!B&&B.count>0;if(!q&&!V||q&&V&&this._previousState.equal(B))return;if(q!==V&&this.setVisible(V),!V){this._previousState=void 0,this._previousElements=[],this._previousStateDisposables.clear();return}const $=B.stickyNodes[B.count-1];if(this._previousState&&B.animationStateChanged(this._previousState))this._previousElements[this._previousState.count-1].style.top=`${$.position}px`;else{this._previousStateDisposables.clear();const J=Array(B.count);for(let se=B.count-1;se>=0;se--){const de=B.stickyNodes[se],{element:le,disposable:fe}=this.createElement(de,se,B.count);J[se]=le,this._rootDomNode.appendChild(le),this._previousStateDisposables.add(fe)}this.stickyScrollFocus.updateElements(J,B),this._previousElements=J}this._previousState=B,this._rootDomNode.style.height=`${$.position+$.height}px`}createElement(B,q,V){const $=B.startIndex,J=document.createElement("div");J.style.top=`${B.position}px`,this.tree.options.setRowHeight!==!1&&(J.style.height=`${B.height}px`),this.tree.options.setRowLineHeight!==!1&&(J.style.lineHeight=`${B.height}px`),J.classList.add("monaco-tree-sticky-row"),J.classList.add("monaco-list-row"),J.setAttribute("data-index",`${$}`),J.setAttribute("data-parity",$%2===0?"even":"odd"),J.setAttribute("id",this.view.getElementID($));const se=this.setAccessibilityAttributes(J,B.node.element,q,V),de=this.treeDelegate.getTemplateId(B.node),le=this.treeRenderers.find(Se=>Se.templateId===de);if(!le)throw new Error(`No renderer found for template id ${de}`);let fe=B.node;fe===this.tree.getNode(this.tree.getNodeLocation(B.node))&&(fe=new Proxy(B.node,{}));const ve=le.renderTemplate(J);le.renderElement(fe,B.startIndex,ve,B.height);const Ce=(0,h.toDisposable)(()=>{se.dispose(),le.disposeElement(fe,B.startIndex,ve,B.height),le.disposeTemplate(ve),J.remove()});return{element:J,disposable:Ce}}setAccessibilityAttributes(B,q,V,$){var J;if(!this.accessibilityProvider)return h.Disposable.None;this.accessibilityProvider.getSetSize&&B.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(q,V,$))),this.accessibilityProvider.getPosInSet&&B.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(q,V))),this.accessibilityProvider.getRole&&B.setAttribute("role",(J=this.accessibilityProvider.getRole(q))!==null&&J!==void 0?J:"treeitem");const se=this.accessibilityProvider.getAriaLabel(q),de=se&&typeof se!="string"?se:(0,_.constObservable)(se),le=(0,_.autorun)(ve=>{const Ce=ve.readObservable(de);Ce?B.setAttribute("aria-label",Ce):B.removeAttribute("aria-label")});typeof se=="string"||se&&B.setAttribute("aria-label",se.get());const fe=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(q);return typeof fe=="number"&&B.setAttribute("aria-level",`${fe}`),B.setAttribute("aria-selected",String(!1)),le}setVisible(B){this._rootDomNode.classList.toggle("empty",!B),B||this.stickyScrollFocus.updateElements([],void 0)}domFocus(){this.stickyScrollFocus.domFocus()}focusedLast(){return this.stickyScrollFocus.focusedLast()}dispose(){this.stickyScrollFocus.dispose(),this._previousStateDisposables.dispose(),this._rootDomNode.remove()}}class Z extends h.Disposable{get domHasFocus(){return this._domHasFocus}set domHasFocus(B){B!==this._domHasFocus&&(this._onDidChangeHasFocus.fire(B),this._domHasFocus=B)}constructor(B,q){super(),this.container=B,this.view=q,this.focusedIndex=-1,this.elements=[],this._onDidChangeHasFocus=new r.Emitter,this.onDidChangeHasFocus=this._onDidChangeHasFocus.event,this._onContextMenu=new r.Emitter,this.onContextMenu=this._onContextMenu.event,this._domHasFocus=!1,this.container.addEventListener("focus",()=>this.onFocus()),this.container.addEventListener("blur",()=>this.onBlur()),this._register(this.view.onDidFocus(()=>this.toggleStickyScrollFocused(!1))),this._register(this.view.onKeyDown(V=>this.onKeyDown(V))),this._register(this.view.onMouseDown(V=>this.onMouseDown(V))),this._register(this.view.onContextMenu(V=>this.handleContextMenu(V)))}handleContextMenu(B){const q=B.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){this.focusedLast()&&this.view.domFocus();return}if(!(0,f.isKeyboardEvent)(B.browserEvent)){if(!this.state)throw new Error("Context menu should not be triggered when state is undefined");const se=this.state.stickyNodes.findIndex(de=>{var le;return de.node.element===((le=B.element)===null||le===void 0?void 0:le.element)});if(se===-1)throw new Error("Context menu should not be triggered when element is not in sticky scroll widget");this.container.focus(),this.setFocus(se);return}if(!this.state||this.focusedIndex<0)throw new Error("Context menu key should not be triggered when focus is not in sticky scroll widget");const $=this.state.stickyNodes[this.focusedIndex].node.element,J=this.elements[this.focusedIndex];this._onContextMenu.fire({element:$,anchor:J,browserEvent:B.browserEvent,isStickyScroll:!0})}onKeyDown(B){if(this.domHasFocus&&this.state){if(B.key==="ArrowUp")this.setFocusedElement(Math.max(0,this.focusedIndex-1)),B.preventDefault(),B.stopPropagation();else if(B.key==="ArrowDown"||B.key==="ArrowRight"){if(this.focusedIndex>=this.state.count-1){const q=this.state.stickyNodes[this.state.count-1].startIndex+1;this.view.domFocus(),this.view.setFocus([q]),this.scrollNodeUnderWidget(q,this.state)}else this.setFocusedElement(this.focusedIndex+1);B.preventDefault(),B.stopPropagation()}}}onMouseDown(B){const q=B.browserEvent.target;!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)||(B.browserEvent.preventDefault(),B.browserEvent.stopPropagation())}updateElements(B,q){if(q&&q.count===0)throw new Error("Sticky scroll state must be undefined when there are no sticky nodes");if(q&&q.count!==B.length)throw new Error("Sticky scroll focus received illigel state");const V=this.focusedIndex;if(this.removeFocus(),this.elements=B,this.state=q,q){const $=(0,l.clamp)(V,0,q.count-1);this.setFocus($)}else this.domHasFocus&&this.view.domFocus();this.container.tabIndex=q?0:-1}setFocusedElement(B){const q=this.state;if(!q)throw new Error("Cannot set focus when state is undefined");if(this.setFocus(B),!(B<q.count-1)&&q.lastNodePartiallyVisible()){const V=q.stickyNodes[B];this.scrollNodeUnderWidget(V.endIndex+1,q)}}scrollNodeUnderWidget(B,q){const V=q.stickyNodes[q.count-1],$=q.count>1?q.stickyNodes[q.count-2]:void 0,J=this.view.getElementTop(B),se=$?$.position+$.height+V.height:V.height;this.view.scrollTop=J-se}domFocus(){if(!this.state)throw new Error("Cannot focus when state is undefined");this.container.focus()}focusedLast(){return this.state?this.view.getHTMLElement().classList.contains("sticky-scroll-focused"):!1}removeFocus(){this.focusedIndex!==-1&&(this.toggleElementFocus(this.elements[this.focusedIndex],!1),this.focusedIndex=-1)}setFocus(B){if(0>B)throw new Error("addFocus() can not remove focus");if(!this.state&&B>=0)throw new Error("Cannot set focus index when state is undefined");if(this.state&&B>=this.state.count)throw new Error("Cannot set focus index to an index that does not exist");const q=this.focusedIndex;q>=0&&this.toggleElementFocus(this.elements[q],!1),B>=0&&this.toggleElementFocus(this.elements[B],!0),this.focusedIndex=B}toggleElementFocus(B,q){this.toggleElementActiveFocus(B,q&&this.domHasFocus),this.toggleElementPassiveFocus(B,q)}toggleCurrentElementActiveFocus(B){this.focusedIndex!==-1&&this.toggleElementActiveFocus(this.elements[this.focusedIndex],B)}toggleElementActiveFocus(B,q){B.classList.toggle("focused",q)}toggleElementPassiveFocus(B,q){B.classList.toggle("passive-focused",q)}toggleStickyScrollFocused(B){this.view.getHTMLElement().classList.toggle("sticky-scroll-focused",B)}onFocus(){if(!this.state||this.elements.length===0)throw new Error("Cannot focus when state is undefined or elements are empty");this.domHasFocus=!0,this.toggleStickyScrollFocused(!0),this.toggleCurrentElementActiveFocus(!0),this.focusedIndex===-1&&this.setFocus(0)}onBlur(){this.domHasFocus=!1,this.toggleCurrentElementActiveFocus(!1)}dispose(){this.toggleStickyScrollFocused(!1),this._onDidChangeHasFocus.fire(!1),super.dispose()}}function re(oe){let B=s.TreeMouseEventTarget.Unknown;return(0,f.hasParentWithClass)(oe.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?B=s.TreeMouseEventTarget.Twistie:(0,f.hasParentWithClass)(oe.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?B=s.TreeMouseEventTarget.Element:(0,f.hasParentWithClass)(oe.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(B=s.TreeMouseEventTarget.Filter),{browserEvent:oe.browserEvent,element:oe.element?oe.element.element:null,target:B}}function ce(oe){const B=(0,b.isStickyScrollContainer)(oe.browserEvent.target);return{element:oe.element?oe.element.element:null,browserEvent:oe.browserEvent,anchor:oe.anchor,isStickyScroll:B}}function he(oe,B){B(oe),oe.children.forEach(q=>he(q,B))}class pe{get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}constructor(B,q){this.getFirstViewElementWithTrait=B,this.identityProvider=q,this.nodes=[],this._onDidChange=new r.Emitter,this.onDidChange=this._onDidChange.event}set(B,q){!q?.__forceEvent&&(0,t.equals)(this.nodes,B)||this._set(B,!1,q)}_set(B,q,V){if(this.nodes=[...B],this.elements=void 0,this._nodeSet=void 0,!q){const $=this;this._onDidChange.fire({get elements(){return $.get()},browserEvent:V})}}get(){return this.elements||(this.elements=this.nodes.map(B=>B.element)),[...this.elements]}getNodes(){return this.nodes}has(B){return this.nodeSet.has(B)}onDidModelSplice({insertedNodes:B,deletedNodes:q}){if(!this.identityProvider){const le=this.createNodeSet(),fe=ve=>le.delete(ve);q.forEach(ve=>he(ve,fe)),this.set([...le.values()]);return}const V=new Set,$=le=>V.add(this.identityProvider.getId(le.element).toString());q.forEach(le=>he(le,$));const J=new Map,se=le=>J.set(this.identityProvider.getId(le.element).toString(),le);B.forEach(le=>he(le,se));const de=[];for(const le of this.nodes){const fe=this.identityProvider.getId(le.element).toString();if(!V.has(fe))de.push(le);else{const Ce=J.get(fe);Ce&&Ce.visible&&de.push(Ce)}}if(this.nodes.length>0&&de.length===0){const le=this.getFirstViewElementWithTrait();le&&de.push(le)}this._set(de,!0)}createNodeSet(){const B=new Set;for(const q of this.nodes)B.add(q);return B}}class ge extends b.MouseController{constructor(B,q,V){super(B),this.tree=q,this.stickyScrollProvider=V}onViewPointer(B){if((0,b.isButton)(B.browserEvent.target)||(0,b.isInputElement)(B.browserEvent.target)||(0,b.isMonacoEditor)(B.browserEvent.target)||B.browserEvent.isHandledByList)return;const q=B.element;if(!q)return super.onViewPointer(B);if(this.isSelectionRangeChangeEvent(B)||this.isSelectionSingleChangeEvent(B))return super.onViewPointer(B);const V=B.browserEvent.target,$=V.classList.contains("monaco-tl-twistie")||V.classList.contains("monaco-icon-label")&&V.classList.contains("folder-icon")&&B.browserEvent.offsetX<16,J=(0,b.isStickyScrollElement)(B.browserEvent.target);let se=!1;if(J?se=!0:typeof this.tree.expandOnlyOnTwistieClick=="function"?se=this.tree.expandOnlyOnTwistieClick(q.element):se=!!this.tree.expandOnlyOnTwistieClick,J)this.handleStickyScrollMouseEvent(B,q);else{if(se&&!$&&B.browserEvent.detail!==2)return super.onViewPointer(B);if(!this.tree.expandOnDoubleClick&&B.browserEvent.detail===2)return super.onViewPointer(B)}if(q.collapsible&&(!J||$)){const de=this.tree.getNodeLocation(q),le=B.browserEvent.altKey;if(this.tree.setFocus([de]),this.tree.toggleCollapsed(de,le),$){B.browserEvent.isHandledByList=!0;return}}J||super.onViewPointer(B)}handleStickyScrollMouseEvent(B,q){if((0,b.isMonacoCustomToggle)(B.browserEvent.target)||(0,b.isActionItem)(B.browserEvent.target))return;const V=this.stickyScrollProvider();if(!V)throw new Error("Sticky scroll controller not found");const $=this.list.indexOf(q),J=this.list.getElementTop($),se=V.nodePositionTopBelowWidget(q);this.tree.scrollTop=J-se,this.list.domFocus(),this.list.setFocus([$]),this.list.setSelection([$])}onDoubleClick(B){B.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||B.browserEvent.isHandledByList||super.onDoubleClick(B)}onMouseDown(B){const q=B.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){super.onMouseDown(B);return}}onContextMenu(B){const q=B.browserEvent.target;if(!(0,b.isStickyScrollContainer)(q)&&!(0,b.isStickyScrollElement)(q)){super.onContextMenu(B);return}}}class X extends b.List{constructor(B,q,V,$,J,se,de,le){super(B,q,V,$,le),this.focusTrait=J,this.selectionTrait=se,this.anchorTrait=de}createMouseController(B){return new ge(this,B.tree,B.stickyScrollProvider)}splice(B,q,V=[]){if(super.splice(B,q,V),V.length===0)return;const $=[],J=[];let se;V.forEach((de,le)=>{this.focusTrait.has(de)&&$.push(B+le),this.selectionTrait.has(de)&&J.push(B+le),this.anchorTrait.has(de)&&(se=B+le)}),$.length>0&&super.setFocus((0,t.distinct)([...super.getFocus(),...$])),J.length>0&&super.setSelection((0,t.distinct)([...super.getSelection(),...J])),typeof se=="number"&&super.setAnchor(se)}setFocus(B,q,V=!1){super.setFocus(B,q),V||this.focusTrait.set(B.map($=>this.element($)),q)}setSelection(B,q,V=!1){super.setSelection(B,q),V||this.selectionTrait.set(B.map($=>this.element($)),q)}setAnchor(B,q=!1){super.setAnchor(B),q||(typeof B>"u"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(B)]))}}class ae{get onDidScroll(){return this.view.onDidScroll}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return r.Event.filter(r.Event.map(this.view.onMouseDblClick,re),B=>B.target!==s.TreeMouseEventTarget.Filter)}get onMouseOver(){return r.Event.map(this.view.onMouseOver,re)}get onMouseOut(){return r.Event.map(this.view.onMouseOut,re)}get onContextMenu(){var B,q;return r.Event.any(r.Event.filter(r.Event.map(this.view.onContextMenu,ce),V=>!V.isStickyScroll),(q=(B=this.stickyScrollController)===null||B===void 0?void 0:B.onContextMenu)!==null&&q!==void 0?q:r.Event.None)}get onPointer(){return r.Event.map(this.view.onPointer,re)}get onKeyDown(){return this.view.onKeyDown}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return r.Event.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var B,q;return(q=(B=this.findController)===null||B===void 0?void 0:B.mode)!==null&&q!==void 0?q:H.Highlight}set findMode(B){this.findController&&(this.findController.mode=B)}get findMatchType(){var B,q;return(q=(B=this.findController)===null||B===void 0?void 0:B.matchType)!==null&&q!==void 0?q:z.Fuzzy}set findMatchType(B){this.findController&&(this.findController.matchType=B)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick>"u"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick>"u"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}constructor(B,q,V,$,J={}){var se;this._user=B,this._options=J,this.eventBufferer=new r.EventBufferer,this.onDidChangeFindOpenState=r.Event.None,this.onDidChangeStickyScrollFocused=r.Event.None,this.disposables=new h.DisposableStore,this._onWillRefilter=new r.Emitter,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new r.Emitter,this.treeDelegate=new N(V);const de=new r.Relay,le=new r.Relay,fe=this.disposables.add(new O(le.event)),ve=new u.SetMap;this.renderers=$.map(Ee=>new M(Ee,()=>this.model,de.event,fe,ve,J));for(const Ee of this.renderers)this.disposables.add(Ee);let Ce;J.keyboardNavigationLabelProvider&&(Ce=new R(this,J.keyboardNavigationLabelProvider,J.filter),J={...J,filter:Ce},this.disposables.add(Ce)),this.focus=new pe(()=>this.view.getFocusedElements()[0],J.identityProvider),this.selection=new pe(()=>this.view.getSelectedElements()[0],J.identityProvider),this.anchor=new pe(()=>this.view.getAnchorElement(),J.identityProvider),this.view=new X(B,q,this.treeDelegate,this.renderers,this.focus,this.selection,this.anchor,{...T(()=>this.model,J),tree:this,stickyScrollProvider:()=>this.stickyScrollController}),this.model=this.createModel(B,this.view,J),de.input=this.model.onDidChangeCollapseState;const Se=r.Event.forEach(this.model.onDidSplice,Ee=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(Ee),this.selection.onDidModelSplice(Ee)})},this.disposables);Se(()=>null,null,this.disposables);const _e=this.disposables.add(new r.Emitter),ke=this.disposables.add(new n.Delayer(0));if(this.disposables.add(r.Event.any(Se,this.focus.onDidChange,this.selection.onDidChange)(()=>{ke.trigger(()=>{const Ee=new Set;for(const Ae of this.focus.getNodes())Ee.add(Ae);for(const Ae of this.selection.getNodes())Ee.add(Ae);_e.fire([...Ee.values()])})})),le.input=_e.event,J.keyboardSupport!==!1){const Ee=r.Event.chain(this.view.onKeyDown,Ae=>Ae.filter(xe=>!(0,b.isInputElement)(xe.target)).map(xe=>new E.StandardKeyboardEvent(xe)));r.Event.chain(Ee,Ae=>Ae.filter(xe=>xe.keyCode===15))(this.onLeftArrow,this,this.disposables),r.Event.chain(Ee,Ae=>Ae.filter(xe=>xe.keyCode===17))(this.onRightArrow,this,this.disposables),r.Event.chain(Ee,Ae=>Ae.filter(xe=>xe.keyCode===10))(this.onSpace,this,this.disposables)}if((!((se=J.findWidgetEnabled)!==null&&se!==void 0)||se)&&J.keyboardNavigationLabelProvider&&J.contextViewProvider){const Ee=this.options.findWidgetStyles?{styles:this.options.findWidgetStyles}:void 0;this.findController=new K(this,this.model,this.view,Ce,J.contextViewProvider,Ee),this.focusNavigationFilter=Ae=>this.findController.shouldAllowFocus(Ae),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode,this.onDidChangeFindMatchType=this.findController.onDidChangeMatchType}else this.onDidChangeFindMode=r.Event.None,this.onDidChangeFindMatchType=r.Event.None;J.enableStickyScroll&&(this.stickyScrollController=new Y(this,this.model,this.view,this.renderers,this.treeDelegate,J),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus),this.styleElement=(0,f.createStyleSheet)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}updateOptions(B={}){var q;this._options={...this._options,...B};for(const V of this.renderers)V.updateOptions(B);this.view.updateOptions(this._options),(q=this.findController)===null||q===void 0||q.updateOptions(B),this.updateStickyScroll(B),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===A.Always)}get options(){return this._options}updateStickyScroll(B){var q;!this.stickyScrollController&&this._options.enableStickyScroll?(this.stickyScrollController=new Y(this,this.model,this.view,this.renderers,this.treeDelegate,this._options),this.onDidChangeStickyScrollFocused=this.stickyScrollController.onDidChangeHasFocus):this.stickyScrollController&&!this._options.enableStickyScroll&&(this.onDidChangeStickyScrollFocused=r.Event.None,this.stickyScrollController.dispose(),this.stickyScrollController=void 0),(q=this.stickyScrollController)===null||q===void 0||q.updateOptions(B)}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(B){this.view.scrollTop=B}get scrollHeight(){return this.view.scrollHeight}get renderHeight(){return this.view.renderHeight}get ariaLabel(){return this.view.ariaLabel}set ariaLabel(B){this.view.ariaLabel=B}domFocus(){var B;!((B=this.stickyScrollController)===null||B===void 0)&&B.focusedLast()?this.stickyScrollController.domFocus():this.view.domFocus()}layout(B,q){var V;this.view.layout(B,q),(0,g.isNumber)(q)&&((V=this.findController)===null||V===void 0||V.layout(q))}style(B){var q,V;const $=`.${this.view.domId}`,J=[];B.treeIndentGuidesStroke&&(J.push(`.monaco-list${$}:hover .monaco-tl-indent > .indent-guide, .monaco-list${$}.always .monaco-tl-indent > .indent-guide  { border-color: ${B.treeInactiveIndentGuidesStroke}; }`),J.push(`.monaco-list${$} .monaco-tl-indent > .indent-guide.active { border-color: ${B.treeIndentGuidesStroke}; }`));const se=(q=B.treeStickyScrollBackground)!==null&&q!==void 0?q:B.listBackground;se&&(J.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container { background-color: ${se}; }`),J.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-row { background-color: ${se}; }`)),B.treeStickyScrollBorder&&J.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container { border-bottom: 1px solid ${B.treeStickyScrollBorder}; }`),B.treeStickyScrollShadow&&J.push(`.monaco-list${$} .monaco-scrollable-element .monaco-tree-sticky-container .monaco-tree-sticky-container-shadow { box-shadow: ${B.treeStickyScrollShadow} 0 6px 6px -6px inset; height: 3px; }`),B.listFocusForeground&&(J.push(`.monaco-list${$}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { color: ${B.listFocusForeground}; }`),J.push(`.monaco-list${$}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { color: inherit; }`));const de=(0,f.asCssValueWithDefault)(B.listFocusAndSelectionOutline,(0,f.asCssValueWithDefault)(B.listSelectionOutline,(V=B.listFocusOutline)!==null&&V!==void 0?V:""));de&&(J.push(`.monaco-list${$}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused.selected { outline: 1px solid ${de}; outline-offset: -1px;}`),J.push(`.monaco-list${$}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused.selected { outline: inherit;}`)),B.listFocusOutline&&(J.push(`.monaco-list${$}.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container:focus .monaco-list-row.focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }`),J.push(`.monaco-list${$}:not(.sticky-scroll-focused) .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.focused { outline: inherit; }`),J.push(`.monaco-workbench.context-menu-visible .monaco-list${$}.last-focused.sticky-scroll-focused .monaco-scrollable-element .monaco-tree-sticky-container .monaco-list-row.passive-focused { outline: 1px solid ${B.listFocusOutline}; outline-offset: -1px; }`),J.push(`.monaco-workbench.context-menu-visible .monaco-list${$}.last-focused.sticky-scroll-focused .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`),J.push(`.monaco-workbench.context-menu-visible .monaco-list${$}.last-focused:not(.sticky-scroll-focused) .monaco-tree-sticky-container .monaco-list-rows .monaco-list-row.focused { outline: inherit; }`)),this.styleElement.textContent=J.join(`
`),this.view.style(B)}getParentElement(B){const q=this.model.getParentNodeLocation(B);return this.model.getNode(q).element}getFirstElementChild(B){return this.model.getFirstElementChild(B)}getNode(B){return this.model.getNode(B)}getNodeLocation(B){return this.model.getNodeLocation(B)}collapse(B,q=!1){return this.model.setCollapsed(B,!0,q)}expand(B,q=!1){return this.model.setCollapsed(B,!1,q)}toggleCollapsed(B,q=!1){return this.model.setCollapsed(B,void 0,q)}isCollapsible(B){return this.model.isCollapsible(B)}setCollapsible(B,q){return this.model.setCollapsible(B,q)}isCollapsed(B){return this.model.isCollapsed(B)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(B,q){this.eventBufferer.bufferEvents(()=>{const V=B.map(J=>this.model.getNode(J));this.selection.set(V,q);const $=B.map(J=>this.model.getListIndex(J)).filter(J=>J>-1);this.view.setSelection($,q,!0)})}getSelection(){return this.selection.get()}setFocus(B,q){this.eventBufferer.bufferEvents(()=>{const V=B.map(J=>this.model.getNode(J));this.focus.set(V,q);const $=B.map(J=>this.model.getListIndex(J)).filter(J=>J>-1);this.view.setFocus($,q,!0)})}focusNext(B=1,q=!1,V,$=(0,f.isKeyboardEvent)(V)&&V.altKey?void 0:this.focusNavigationFilter){this.view.focusNext(B,q,V,$)}focusPrevious(B=1,q=!1,V,$=(0,f.isKeyboardEvent)(V)&&V.altKey?void 0:this.focusNavigationFilter){this.view.focusPrevious(B,q,V,$)}focusNextPage(B,q=(0,f.isKeyboardEvent)(B)&&B.altKey?void 0:this.focusNavigationFilter){return this.view.focusNextPage(B,q)}focusPreviousPage(B,q=(0,f.isKeyboardEvent)(B)&&B.altKey?void 0:this.focusNavigationFilter){return this.view.focusPreviousPage(B,q,()=>{var V,$;return($=(V=this.stickyScrollController)===null||V===void 0?void 0:V.height)!==null&&$!==void 0?$:0})}focusFirst(B,q=(0,f.isKeyboardEvent)(B)&&B.altKey?void 0:this.focusNavigationFilter){this.view.focusFirst(B,q)}getFocus(){return this.focus.get()}reveal(B,q){this.model.expandTo(B);const V=this.model.getListIndex(B);if(V!==-1)if(!this.stickyScrollController)this.view.reveal(V,q);else{const $=this.stickyScrollController.nodePositionTopBelowWidget(this.getNode(B));this.view.reveal(V,q,$)}}onLeftArrow(B){B.preventDefault(),B.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const V=q[0],$=this.model.getNodeLocation(V);if(!this.model.setCollapsed($,!0)){const se=this.model.getParentNodeLocation($);if(!se)return;const de=this.model.getListIndex(se);this.view.reveal(de),this.view.setFocus([de])}}onRightArrow(B){B.preventDefault(),B.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const V=q[0],$=this.model.getNodeLocation(V);if(!this.model.setCollapsed($,!1)){if(!V.children.some(le=>le.visible))return;const[se]=this.view.getFocus(),de=se+1;this.view.reveal(de),this.view.setFocus([de])}}onSpace(B){B.preventDefault(),B.stopPropagation();const q=this.view.getFocusedElements();if(q.length===0)return;const V=q[0],$=this.model.getNodeLocation(V),J=B.browserEvent.altKey;this.model.setCollapsed($,void 0,J)}dispose(){var B;(0,h.dispose)(this.disposables),(B=this.stickyScrollController)===null||B===void 0||B.dispose(),this.view.dispose()}}e.AbstractTree=ae}),define(ie[636],ne([1,0,170,243]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DataTree=void 0;class E extends f.AbstractTree{constructor(y,p,w,b,C,o={}){super(y,p,w,b,o),this.user=y,this.dataSource=C,this.identityProvider=o.identityProvider}createModel(y,p,w){return new k.ObjectTreeModel(y,p,w)}}e.DataTree=E}),define(ie[347],ne([1,0,170,619,243,121,54]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleObjectTree=e.ObjectTree=void 0;class p extends f.AbstractTree{get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}constructor(i,t,n,c,m={}){super(i,t,n,c,m),this.user=i}setChildren(i,t=y.Iterable.empty(),n){this.model.setChildren(i,t,n)}rerender(i){if(i===void 0){this.view.rerender();return}this.model.rerender(i)}hasElement(i){return this.model.has(i)}createModel(i,t,n){return new E.ObjectTreeModel(i,t,n)}}e.ObjectTree=p;class w{get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}constructor(i,t,n){this._compressedTreeNodeProvider=i,this.stickyScrollDelegate=t,this.renderer=n,this.templateId=n.templateId,n.onDidChangeTwistieState&&(this.onDidChangeTwistieState=n.onDidChangeTwistieState)}renderTemplate(i){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(i)}}renderElement(i,t,n,c){let m=this.stickyScrollDelegate.getCompressedNode(i);m||(m=this.compressedTreeNodeProvider.getCompressedTreeNode(i.element)),m.element.elements.length===1?(n.compressedTreeNode=void 0,this.renderer.renderElement(i,t,n.data,c)):(n.compressedTreeNode=m,this.renderer.renderCompressedElements(m,t,n.data,c))}disposeElement(i,t,n,c){var m,u,r,a;n.compressedTreeNode?(u=(m=this.renderer).disposeCompressedElements)===null||u===void 0||u.call(m,n.compressedTreeNode,t,n.data,c):(a=(r=this.renderer).disposeElement)===null||a===void 0||a.call(r,i,t,n.data,c)}disposeTemplate(i){this.renderer.disposeTemplate(i.data)}renderTwistie(i,t){return this.renderer.renderTwistie?this.renderer.renderTwistie(i,t):!1}}Ie([D.memoize],w.prototype,"compressedTreeNodeProvider",null);class b{constructor(i){this.modelProvider=i,this.compressedStickyNodes=new Map}getCompressedNode(i){return this.compressedStickyNodes.get(i)}constrainStickyScrollNodes(i,t,n){if(this.compressedStickyNodes.clear(),i.length===0)return[];for(let c=0;c<i.length;c++){const m=i[c],u=m.position+m.height;if(c+1<i.length&&u+i[c+1].height>n||c>=t-1&&t<i.length){const a=i.slice(0,c),h=i.slice(c),l=this.compressStickyNodes(h);return[...a,l]}}return i}compressStickyNodes(i){if(i.length===0)throw new Error("Can't compress empty sticky nodes");const t=this.modelProvider();if(!t.isCompressionEnabled())return i[0];const n=[];for(let h=0;h<i.length;h++){const l=i[h],g=t.getCompressedTreeNode(l.node.element);if(g.element){if(h!==0&&g.element.incompressible)break;n.push(...g.element.elements)}}if(n.length<2)return i[0];const c=i[i.length-1],m={elements:n,incompressible:!1},u={...c.node,children:[],element:m},r=new Proxy(i[0].node,{}),a={node:r,startIndex:i[0].startIndex,endIndex:c.endIndex,position:i[0].position,height:i[0].height};return this.compressedStickyNodes.set(r,u),a}}function C(s,i){return i&&{...i,keyboardNavigationLabelProvider:i.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(t){let n;try{n=s().getCompressedTreeNode(t)}catch{return i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t)}return n.element.elements.length===1?i.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(t):i.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(n.element.elements)}}}}class o extends p{constructor(i,t,n,c,m={}){const u=()=>this,r=new b(()=>this.model),a=c.map(h=>new w(u,r,h));super(i,t,n,a,{...C(u,m),stickyScrollDelegate:r})}setChildren(i,t=y.Iterable.empty(),n){this.model.setChildren(i,t,n)}createModel(i,t,n){return new k.CompressibleObjectTreeModel(i,t,n)}updateOptions(i={}){super.updateOptions(i),typeof i.compressionEnabled<"u"&&this.model.setCompressionEnabled(i.compressionEnabled)}getCompressedTreeNode(i=null){return this.model.getCompressedTreeNode(i)}}e.CompressibleObjectTree=o}),define(ie[637],ne([1,0,250,170,242,347,154,15,26,31,10,7,54,2,20]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompressibleAsyncDataTree=e.AsyncDataTree=void 0;function n(O){return{...O,children:[],refreshPromise:void 0,stale:!0,slow:!1,forceExpanded:!1}}function c(O,M){return M.parent?M.parent===O?!0:c(O,M.parent):!1}function m(O,M){return O===M||c(O,M)||c(M,O)}class u{get element(){return this.node.element.element}get children(){return this.node.children.map(M=>new u(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class r{constructor(M,R,x){this.renderer=M,this.nodeMapper=R,this.onDidChangeTwistieState=x,this.renderedNodes=new Map,this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,R,x,F){this.renderer.renderElement(this.nodeMapper.map(M),R,x.templateData,F)}renderTwistie(M,R){return M.slow?(R.classList.add(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(R.classList.remove(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,R,x,F){var W,H;(H=(W=this.renderer).disposeElement)===null||H===void 0||H.call(W,this.nodeMapper.map(M),R,x.templateData,F)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear()}}function a(O){return{browserEvent:O.browserEvent,elements:O.elements.map(M=>M.element)}}function h(O){return{browserEvent:O.browserEvent,element:O.element&&O.element.element,target:O.target}}class l extends f.ElementsDragAndDropData{constructor(M){super(M.elements.map(R=>R.element)),this.data=M}}function g(O){return O instanceof f.ElementsDragAndDropData?new l(O):O}class d{constructor(M){this.dnd=M}getDragURI(M){return this.dnd.getDragURI(M.element)}getDragLabel(M,R){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(M.map(x=>x.element),R)}onDragStart(M,R){var x,F;(F=(x=this.dnd).onDragStart)===null||F===void 0||F.call(x,g(M),R)}onDragOver(M,R,x,F,W,H=!0){return this.dnd.onDragOver(g(M),R&&R.element,x,F,W)}drop(M,R,x,F,W){this.dnd.drop(g(M),R&&R.element,x,F,W)}onDragEnd(M){var R,x;(x=(R=this.dnd).onDragEnd)===null||x===void 0||x.call(R,M)}dispose(){this.dnd.dispose()}}function v(O){return O&&{...O,collapseByDefault:!0,identityProvider:O.identityProvider&&{getId(M){return O.identityProvider.getId(M.element)}},dnd:O.dnd&&new d(O.dnd),multipleSelectionController:O.multipleSelectionController&&{isSelectionSingleChangeEvent(M){return O.multipleSelectionController.isSelectionSingleChangeEvent({...M,element:M.element})},isSelectionRangeChangeEvent(M){return O.multipleSelectionController.isSelectionRangeChangeEvent({...M,element:M.element})}},accessibilityProvider:O.accessibilityProvider&&{...O.accessibilityProvider,getPosInSet:void 0,getSetSize:void 0,getRole:O.accessibilityProvider.getRole?M=>O.accessibilityProvider.getRole(M.element):()=>"treeitem",isChecked:O.accessibilityProvider.isChecked?M=>{var R;return!!(!((R=O.accessibilityProvider)===null||R===void 0)&&R.isChecked(M.element))}:void 0,getAriaLabel(M){return O.accessibilityProvider.getAriaLabel(M.element)},getWidgetAriaLabel(){return O.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:O.accessibilityProvider.getWidgetRole?()=>O.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:O.accessibilityProvider.getAriaLevel&&(M=>O.accessibilityProvider.getAriaLevel(M.element)),getActiveDescendantId:O.accessibilityProvider.getActiveDescendantId&&(M=>O.accessibilityProvider.getActiveDescendantId(M.element))},filter:O.filter&&{filter(M,R){return O.filter.filter(M.element,R)}},keyboardNavigationLabelProvider:O.keyboardNavigationLabelProvider&&{...O.keyboardNavigationLabelProvider,getKeyboardNavigationLabel(M){return O.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(M.element)}},sorter:void 0,expandOnlyOnTwistieClick:typeof O.expandOnlyOnTwistieClick>"u"?void 0:typeof O.expandOnlyOnTwistieClick!="function"?O.expandOnlyOnTwistieClick:M=>O.expandOnlyOnTwistieClick(M.element),defaultFindVisibility:M=>M.hasChildren&&M.stale?1:typeof O.defaultFindVisibility=="number"?O.defaultFindVisibility:typeof O.defaultFindVisibility>"u"?2:O.defaultFindVisibility(M.element)}}function _(O,M){M(O),O.children.forEach(R=>_(R,M))}class S{get onDidScroll(){return this.tree.onDidScroll}get onDidChangeFocus(){return o.Event.map(this.tree.onDidChangeFocus,a)}get onDidChangeSelection(){return o.Event.map(this.tree.onDidChangeSelection,a)}get onMouseDblClick(){return o.Event.map(this.tree.onMouseDblClick,h)}get onPointer(){return o.Event.map(this.tree.onPointer,h)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidChangeStickyScrollFocused(){return this.tree.onDidChangeStickyScrollFocused}get onDidDispose(){return this.tree.onDidDispose}constructor(M,R,x,F,W,H={}){this.user=M,this.dataSource=W,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new o.Emitter,this._onDidChangeNodeSlowState=new o.Emitter,this.nodeMapper=new y.WeakMapper(z=>new u(z)),this.disposables=new i.DisposableStore,this.identityProvider=H.identityProvider,this.autoExpandSingleChildren=typeof H.autoExpandSingleChildren>"u"?!1:H.autoExpandSingleChildren,this.sorter=H.sorter,this.getDefaultCollapseState=z=>H.collapseByDefault?H.collapseByDefault(z)?y.ObjectTreeElementCollapseState.PreserveOrCollapsed:y.ObjectTreeElementCollapseState.PreserveOrExpanded:void 0,this.tree=this.createTree(M,R,x,F,H),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.onDidChangeFindMatchType=this.tree.onDidChangeFindMatchType,this.root=n({element:void 0,parent:null,hasChildren:!0,defaultCollapseState:void 0}),this.identityProvider&&(this.root={...this.root,id:null}),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}createTree(M,R,x,F,W){const H=new k.ComposedTreeDelegate(x),z=F.map(K=>new r(K,this.nodeMapper,this._onDidChangeNodeSlowState.event)),j=v(W)||{};return new D.ObjectTree(M,R,H,z,j)}updateOptions(M={}){this.tree.updateOptions(M)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(M){this.tree.scrollTop=M}get scrollHeight(){return this.tree.scrollHeight}get renderHeight(){return this.tree.renderHeight}domFocus(){this.tree.domFocus()}layout(M,R){this.tree.layout(M,R)}style(M){this.tree.style(M)}getInput(){return this.root.element}async setInput(M,R){this.refreshPromises.forEach(F=>F.cancel()),this.refreshPromises.clear(),this.root.element=M;const x=R&&{viewState:R,focus:[],selection:[]};await this._updateChildren(M,!0,!1,x),x&&(this.tree.setFocus(x.focus),this.tree.setSelection(x.selection)),R&&typeof R.scrollTop=="number"&&(this.scrollTop=R.scrollTop)}async _updateChildren(M=this.root.element,R=!0,x=!1,F,W){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event));const H=this.getDataNode(M);if(await this.refreshAndRenderNode(H,R,F,W),x)try{this.tree.rerender(H)}catch{}}rerender(M){if(M===void 0||M===this.root.element){this.tree.rerender();return}const R=this.getDataNode(M);this.tree.rerender(R)}getNode(M=this.root.element){const R=this.getDataNode(M),x=this.tree.getNode(R===this.root?null:R);return this.nodeMapper.map(x)}collapse(M,R=!1){const x=this.getDataNode(M);return this.tree.collapse(x===this.root?null:x,R)}async expand(M,R=!1){if(typeof this.root.element>"u")throw new y.TreeError(this.user,"Tree input not set");this.root.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event));const x=this.getDataNode(M);if(this.tree.hasElement(x)&&!this.tree.isCollapsible(x)||(x.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event)),x!==this.root&&!x.refreshPromise&&!this.tree.isCollapsed(x)))return!1;const F=this.tree.expand(x===this.root?null:x,R);return x.refreshPromise&&(await this.root.refreshPromise,await o.Event.toPromise(this._onDidRender.event)),F}setSelection(M,R){const x=M.map(F=>this.getDataNode(F));this.tree.setSelection(x,R)}getSelection(){return this.tree.getSelection().map(R=>R.element)}setFocus(M,R){const x=M.map(F=>this.getDataNode(F));this.tree.setFocus(x,R)}getFocus(){return this.tree.getFocus().map(R=>R.element)}reveal(M,R){this.tree.reveal(this.getDataNode(M),R)}getParentElement(M){const R=this.tree.getParentElement(this.getDataNode(M));return R&&R.element}getFirstElementChild(M=this.root.element){const R=this.getDataNode(M),x=this.tree.getFirstElementChild(R===this.root?null:R);return x&&x.element}getDataNode(M){const R=this.nodes.get(M===this.root.element?null:M);if(!R)throw new y.TreeError(this.user,`Data tree node not found: ${M}`);return R}async refreshAndRenderNode(M,R,x,F){await this.refreshNode(M,R,x),!this.disposables.isDisposed&&this.render(M,x,F)}async refreshNode(M,R,x){let F;if(this.subTreeRefreshPromises.forEach((W,H)=>{!F&&m(H,M)&&(F=W.then(()=>this.refreshNode(M,R,x)))}),F)return F;if(M!==this.root&&this.tree.getNode(M).collapsed){M.hasChildren=!!this.dataSource.hasChildren(M.element),M.stale=!0,this.setChildren(M,[],R,x);return}return this.doRefreshSubTree(M,R,x)}async doRefreshSubTree(M,R,x){let F;M.refreshPromise=new Promise(W=>F=W),this.subTreeRefreshPromises.set(M,M.refreshPromise),M.refreshPromise.finally(()=>{M.refreshPromise=void 0,this.subTreeRefreshPromises.delete(M)});try{const W=await this.doRefreshNode(M,R,x);M.stale=!1,await p.Promises.settled(W.map(H=>this.doRefreshSubTree(H,R,x)))}finally{F()}}async doRefreshNode(M,R,x){M.hasChildren=!!this.dataSource.hasChildren(M.element);let F;if(!M.hasChildren)F=Promise.resolve(s.Iterable.empty());else{const W=this.doGetChildren(M);if((0,t.isIterable)(W))F=Promise.resolve(W);else{const H=(0,p.timeout)(800);H.then(()=>{M.slow=!0,this._onDidChangeNodeSlowState.fire(M)},z=>null),F=W.finally(()=>H.cancel())}}try{const W=await F;return this.setChildren(M,W,R,x)}catch(W){if(M!==this.root&&this.tree.hasElement(M)&&this.tree.collapse(M),(0,C.isCancellationError)(W))return[];throw W}finally{M.slow&&(M.slow=!1,this._onDidChangeNodeSlowState.fire(M))}}doGetChildren(M){let R=this.refreshPromises.get(M);if(R)return R;const x=this.dataSource.getChildren(M.element);return(0,t.isIterable)(x)?this.processChildren(x):(R=(0,p.createCancelablePromise)(async()=>this.processChildren(await x)),this.refreshPromises.set(M,R),R.finally(()=>{this.refreshPromises.delete(M)}))}_onDidChangeCollapseState({node:M,deep:R}){M.element!==null&&!M.collapsed&&M.element.stale&&(R?this.collapse(M.element.element):this.refreshAndRenderNode(M.element,!1).catch(C.onUnexpectedError))}setChildren(M,R,x,F){const W=[...R];if(M.children.length===0&&W.length===0)return[];const H=new Map,z=new Map;for(const U of M.children)H.set(U.element,U),this.identityProvider&&z.set(U.id,{node:U,collapsed:this.tree.hasElement(U)&&this.tree.isCollapsed(U)});const j=[],K=W.map(U=>{const G=!!this.dataSource.hasChildren(U);if(!this.identityProvider){const P=n({element:U,parent:M,hasChildren:G,defaultCollapseState:this.getDefaultCollapseState(U)});return G&&P.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded&&j.push(P),P}const te=this.identityProvider.getId(U).toString(),ee=z.get(te);if(ee){const P=ee.node;return H.delete(P.element),this.nodes.delete(P.element),this.nodes.set(U,P),P.element=U,P.hasChildren=G,x?ee.collapsed?(P.children.forEach(Z=>_(Z,re=>this.nodes.delete(re.element))),P.children.splice(0,P.children.length),P.stale=!0):j.push(P):G&&!ee.collapsed&&j.push(P),P}const Y=n({element:U,parent:M,id:te,hasChildren:G,defaultCollapseState:this.getDefaultCollapseState(U)});return F&&F.viewState.focus&&F.viewState.focus.indexOf(te)>-1&&F.focus.push(Y),F&&F.viewState.selection&&F.viewState.selection.indexOf(te)>-1&&F.selection.push(Y),(F&&F.viewState.expanded&&F.viewState.expanded.indexOf(te)>-1||G&&Y.defaultCollapseState===y.ObjectTreeElementCollapseState.PreserveOrExpanded)&&j.push(Y),Y});for(const U of H.values())_(U,G=>this.nodes.delete(G.element));for(const U of K)this.nodes.set(U.element,U);return M.children.splice(0,M.children.length,...K),M!==this.root&&this.autoExpandSingleChildren&&K.length===1&&j.length===0&&(K[0].forceExpanded=!0,j.push(K[0])),j}render(M,R,x){const F=M.children.map(H=>this.asTreeElement(H,R)),W=x&&{...x,diffIdentityProvider:x.diffIdentityProvider&&{getId(H){return x.diffIdentityProvider.getId(H.element)}}};this.tree.setChildren(M===this.root?null:M,F,W),M!==this.root&&this.tree.setCollapsible(M,M.hasChildren),this._onDidRender.fire()}asTreeElement(M,R){if(M.stale)return{element:M,collapsible:M.hasChildren,collapsed:!0};let x;return R&&R.viewState.expanded&&M.id&&R.viewState.expanded.indexOf(M.id)>-1?x=!1:M.forceExpanded?(x=!1,M.forceExpanded=!1):x=M.defaultCollapseState,{element:M,children:M.hasChildren?s.Iterable.map(M.children,F=>this.asTreeElement(F,R)):[],collapsible:M.hasChildren,collapsed:x}}processChildren(M){return this.sorter&&(M=[...M].sort(this.sorter.compare.bind(this.sorter))),M}dispose(){this.disposables.dispose(),this.tree.dispose()}}e.AsyncDataTree=S;class L{get element(){return{elements:this.node.element.elements.map(M=>M.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(M=>new L(M))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}constructor(M){this.node=M}}class I{constructor(M,R,x,F){this.renderer=M,this.nodeMapper=R,this.compressibleNodeMapperProvider=x,this.onDidChangeTwistieState=F,this.renderedNodes=new Map,this.disposables=[],this.templateId=M.templateId}renderTemplate(M){return{templateData:this.renderer.renderTemplate(M)}}renderElement(M,R,x,F){this.renderer.renderElement(this.nodeMapper.map(M),R,x.templateData,F)}renderCompressedElements(M,R,x,F){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(M),R,x.templateData,F)}renderTwistie(M,R){return M.slow?(R.classList.add(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!0):(R.classList.remove(...b.ThemeIcon.asClassNameArray(w.Codicon.treeItemLoading)),!1)}disposeElement(M,R,x,F){var W,H;(H=(W=this.renderer).disposeElement)===null||H===void 0||H.call(W,this.nodeMapper.map(M),R,x.templateData,F)}disposeCompressedElements(M,R,x,F){var W,H;(H=(W=this.renderer).disposeCompressedElements)===null||H===void 0||H.call(W,this.compressibleNodeMapperProvider().map(M),R,x.templateData,F)}disposeTemplate(M){this.renderer.disposeTemplate(M.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,i.dispose)(this.disposables)}}function T(O){const M=O&&v(O);return M&&{...M,keyboardNavigationLabelProvider:M.keyboardNavigationLabelProvider&&{...M.keyboardNavigationLabelProvider,getCompressedNodeKeyboardNavigationLabel(R){return O.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(R.map(x=>x.element))}}}}class N extends S{constructor(M,R,x,F,W,H,z={}){super(M,R,x,W,H,z),this.compressionDelegate=F,this.compressibleNodeMapper=new y.WeakMapper(j=>new L(j)),this.filter=z.filter}createTree(M,R,x,F,W){const H=new k.ComposedTreeDelegate(x),z=F.map(K=>new I(K,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),j=T(W)||{};return new D.CompressibleObjectTree(M,R,H,z,j)}asTreeElement(M,R){return{incompressible:this.compressionDelegate.isIncompressible(M.element),...super.asTreeElement(M,R)}}updateOptions(M={}){this.tree.updateOptions(M)}render(M,R,x){if(!this.identityProvider)return super.render(M,R);const F=ee=>this.identityProvider.getId(ee).toString(),W=ee=>{const Y=new Set;for(const P of ee){const Z=this.tree.getCompressedTreeNode(P===this.root?null:P);if(Z.element)for(const re of Z.element.elements)Y.add(F(re.element))}return Y},H=W(this.tree.getSelection()),z=W(this.tree.getFocus());super.render(M,R,x);const j=this.getSelection();let K=!1;const U=this.getFocus();let G=!1;const te=ee=>{const Y=ee.element;if(Y)for(let P=0;P<Y.elements.length;P++){const Z=F(Y.elements[P].element),re=Y.elements[Y.elements.length-1].element;H.has(Z)&&j.indexOf(re)===-1&&(j.push(re),K=!0),z.has(Z)&&U.indexOf(re)===-1&&(U.push(re),G=!0)}ee.children.forEach(te)};te(this.tree.getCompressedTreeNode(M===this.root?null:M)),K&&this.setSelection(j),G&&this.setFocus(U)}processChildren(M){return this.filter&&(M=s.Iterable.filter(M,R=>{const x=this.filter.filter(R,1),F=A(x);if(F===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return F===1})),super.processChildren(M)}}e.CompressibleAsyncDataTree=N;function A(O){return typeof O=="boolean"?O?1:0:(0,E.isFilterResult)(O)?(0,E.getVisibleState)(O.visibility):(0,E.getVisibleState)(O)}}),define(ie[348],ne([1,0,10,7,2,55,17,12]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleWorkerServer=e.SimpleWorkerClient=void 0,e.logOnceWebWorkerWarning=C,e.create=l;const w="$initialize";let b=!1;function C(g){y.isWeb&&(b||(b=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(g.message))}class o{constructor(d,v,_,S){this.vsWorker=d,this.req=v,this.method=_,this.args=S,this.type=0}}class s{constructor(d,v,_,S){this.vsWorker=d,this.seq=v,this.res=_,this.err=S,this.type=1}}class i{constructor(d,v,_,S){this.vsWorker=d,this.req=v,this.eventName=_,this.arg=S,this.type=2}}class t{constructor(d,v,_){this.vsWorker=d,this.req=v,this.event=_,this.type=3}}class n{constructor(d,v){this.vsWorker=d,this.req=v,this.type=4}}class c{constructor(d){this._workerId=-1,this._handler=d,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(d){this._workerId=d}sendMessage(d,v){const _=String(++this._lastSentReq);return new Promise((S,L)=>{this._pendingReplies[_]={resolve:S,reject:L},this._send(new o(this._workerId,_,d,v))})}listen(d,v){let _=null;const S=new k.Emitter({onWillAddFirstListener:()=>{_=String(++this._lastSentReq),this._pendingEmitters.set(_,S),this._send(new i(this._workerId,_,d,v))},onDidRemoveLastListener:()=>{this._pendingEmitters.delete(_),this._send(new n(this._workerId,_)),_=null}});return S.event}handleMessage(d){!d||!d.vsWorker||this._workerId!==-1&&d.vsWorker!==this._workerId||this._handleMessage(d)}_handleMessage(d){switch(d.type){case 1:return this._handleReplyMessage(d);case 0:return this._handleRequestMessage(d);case 2:return this._handleSubscribeEventMessage(d);case 3:return this._handleEventMessage(d);case 4:return this._handleUnsubscribeEventMessage(d)}}_handleReplyMessage(d){if(!this._pendingReplies[d.seq]){console.warn("Got reply to unknown seq");return}const v=this._pendingReplies[d.seq];if(delete this._pendingReplies[d.seq],d.err){let _=d.err;d.err.$isError&&(_=new Error,_.name=d.err.name,_.message=d.err.message,_.stack=d.err.stack),v.reject(_);return}v.resolve(d.res)}_handleRequestMessage(d){const v=d.req;this._handler.handleMessage(d.method,d.args).then(S=>{this._send(new s(this._workerId,v,S,void 0))},S=>{S.detail instanceof Error&&(S.detail=(0,f.transformErrorForSerialization)(S.detail)),this._send(new s(this._workerId,v,void 0,(0,f.transformErrorForSerialization)(S)))})}_handleSubscribeEventMessage(d){const v=d.req,_=this._handler.handleEvent(d.eventName,d.arg)(S=>{this._send(new t(this._workerId,v,S))});this._pendingEvents.set(v,_)}_handleEventMessage(d){if(!this._pendingEmitters.has(d.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(d.req).fire(d.event)}_handleUnsubscribeEventMessage(d){if(!this._pendingEvents.has(d.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(d.req).dispose(),this._pendingEvents.delete(d.req)}_send(d){const v=[];if(d.type===0)for(let _=0;_<d.args.length;_++)d.args[_]instanceof ArrayBuffer&&v.push(d.args[_]);else d.type===1&&d.res instanceof ArrayBuffer&&v.push(d.res);this._handler.sendMessage(d,v)}}class m extends E.Disposable{constructor(d,v,_){super();let S=null;this._worker=this._register(d.create("vs/base/common/worker/simpleWorker",O=>{this._protocol.handleMessage(O)},O=>{S?.(O)})),this._protocol=new c({sendMessage:(O,M)=>{this._worker.postMessage(O,M)},handleMessage:(O,M)=>{if(typeof _[O]!="function")return Promise.reject(new Error("Missing method "+O+" on main thread host."));try{return Promise.resolve(_[O].apply(_,M))}catch(R){return Promise.reject(R)}},handleEvent:(O,M)=>{if(r(O)){const R=_[O].call(_,M);if(typeof R!="function")throw new Error(`Missing dynamic event ${O} on main thread host.`);return R}if(u(O)){const R=_[O];if(typeof R!="function")throw new Error(`Missing event ${O} on main thread host.`);return R}throw new Error(`Malformed event name ${O}`)}}),this._protocol.setWorkerId(this._worker.getId());let L=null;const I=globalThis.require;typeof I<"u"&&typeof I.getConfig=="function"?L=I.getConfig():typeof globalThis.requirejs<"u"&&(L=globalThis.requirejs.s.contexts._.config);const T=(0,D.getAllMethodNames)(_);this._onModuleLoaded=this._protocol.sendMessage(w,[this._worker.getId(),JSON.parse(JSON.stringify(L)),v,T]);const N=(O,M)=>this._request(O,M),A=(O,M)=>this._protocol.listen(O,M);this._lazyProxy=new Promise((O,M)=>{S=M,this._onModuleLoaded.then(R=>{O(a(R,N,A))},R=>{M(R),this._onError("Worker failed to load "+v,R)})})}getProxyObject(){return this._lazyProxy}_request(d,v){return new Promise((_,S)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(d,v).then(_,S)},S)})}_onError(d,v){console.error(d),console.info(v)}}e.SimpleWorkerClient=m;function u(g){return g[0]==="o"&&g[1]==="n"&&p.isUpperAsciiLetter(g.charCodeAt(2))}function r(g){return/^onDynamic/.test(g)&&p.isUpperAsciiLetter(g.charCodeAt(9))}function a(g,d,v){const _=I=>function(){const T=Array.prototype.slice.call(arguments,0);return d(I,T)},S=I=>function(T){return v(I,T)},L={};for(const I of g){if(r(I)){L[I]=S(I);continue}if(u(I)){L[I]=v(I,void 0);continue}L[I]=_(I)}return L}class h{constructor(d,v){this._requestHandlerFactory=v,this._requestHandler=null,this._protocol=new c({sendMessage:(_,S)=>{d(_,S)},handleMessage:(_,S)=>this._handleMessage(_,S),handleEvent:(_,S)=>this._handleEvent(_,S)})}onmessage(d){this._protocol.handleMessage(d)}_handleMessage(d,v){if(d===w)return this.initialize(v[0],v[1],v[2],v[3]);if(!this._requestHandler||typeof this._requestHandler[d]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+d));try{return Promise.resolve(this._requestHandler[d].apply(this._requestHandler,v))}catch(_){return Promise.reject(_)}}_handleEvent(d,v){if(!this._requestHandler)throw new Error("Missing requestHandler");if(r(d)){const _=this._requestHandler[d].call(this._requestHandler,v);if(typeof _!="function")throw new Error(`Missing dynamic event ${d} on request handler.`);return _}if(u(d)){const _=this._requestHandler[d];if(typeof _!="function")throw new Error(`Missing event ${d} on request handler.`);return _}throw new Error(`Malformed event name ${d}`)}initialize(d,v,_,S){this._protocol.setWorkerId(d);const T=a(S,(N,A)=>this._protocol.sendMessage(N,A),(N,A)=>this._protocol.listen(N,A));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(T),Promise.resolve((0,D.getAllMethodNames)(this._requestHandler))):(v&&(typeof v.baseUrl<"u"&&delete v.baseUrl,typeof v.paths<"u"&&typeof v.paths.vs<"u"&&delete v.paths.vs,typeof v.trustedTypesPolicy<"u"&&delete v.trustedTypesPolicy,v.catchError=!0,globalThis.require.config(v)),new Promise((N,A)=>{(globalThis.require||Q)([_],M=>{if(this._requestHandler=M.create(T),!this._requestHandler){A(new Error("No RequestHandler!"));return}N((0,D.getAllMethodNames)(this._requestHandler))},A)}))}}e.SimpleWorkerServer=h;function l(g){return new h(g,null)}}),define(ie[638],ne([1,0,99,10,49,348,2]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultWorkerFactory=void 0,e.getWorkerBootstrapUrl=b;const p=(0,f.createTrustedTypesPolicy)("defaultWorkerFactory",{createScriptURL:i=>i});function w(i){const t=globalThis.MonacoEnvironment;if(t){if(typeof t.getWorker=="function")return t.getWorker("workerMain.js",i);if(typeof t.getWorkerUrl=="function"){const n=t.getWorkerUrl("workerMain.js",i);return new Worker(p?p.createScriptURL(n):n,{name:i})}}if(typeof Q=="function"){const n=Q.toUrl("vs/base/worker/workerMain.js"),c=b(n,i);return new Worker(p?p.createScriptURL(c):c,{name:i})}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function b(i,t){if(/^((http:)|(https:)|(file:))/.test(i)&&i.substring(0,globalThis.origin.length)!==globalThis.origin){const r="vs/base/worker/defaultWorkerFactory.js",a=Q.toUrl(r).slice(0,-r.length),h=`/*${t}*/globalThis.MonacoEnvironment={baseUrl: '${a}'};const ttPolicy = globalThis.trustedTypes?.createPolicy('defaultWorkerFactory', { createScriptURL: value => value });importScripts(ttPolicy?.createScriptURL('${i}') ?? '${i}');/*${t}*/`,l=new Blob([h],{type:"application/javascript"});return URL.createObjectURL(l)}const n=i.lastIndexOf("?"),c=i.lastIndexOf("#",n),m=n>0?new URLSearchParams(i.substring(n+1,~c?c:void 0)):new URLSearchParams;return E.COI.addSearchParam(m,!0,!0),m.toString()?`${i}?${m.toString()}#${t}`:`${i}#${t}`}function C(i){return typeof i.then=="function"}class o extends y.Disposable{constructor(t,n,c,m,u){super(),this.id=n,this.label=c;const r=w(c);C(r)?this.worker=r:this.worker=Promise.resolve(r),this.postMessage(t,[]),this.worker.then(a=>{a.onmessage=function(h){m(h.data)},a.onmessageerror=u,typeof a.addEventListener=="function"&&a.addEventListener("error",u)}),this._register((0,y.toDisposable)(()=>{var a;(a=this.worker)===null||a===void 0||a.then(h=>{h.onmessage=null,h.onmessageerror=null,h.removeEventListener("error",u),h.terminate()}),this.worker=null}))}getId(){return this.id}postMessage(t,n){var c;(c=this.worker)===null||c===void 0||c.then(m=>{try{m.postMessage(t,n)}catch(u){(0,k.onUnexpectedError)(u),(0,k.onUnexpectedError)(new Error(`FAILED to post message to '${this.label}'-worker`,{cause:u}))}})}}class s{constructor(t){this._label=t,this._webWorkerFailedBeforeError=!1}create(t,n,c){const m=++s.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new o(t,m,this._label||"anonymous"+m,n,u=>{(0,D.logOnceWebWorkerWarning)(u),this._webWorkerFailedBeforeError=u,c(u)})}}e.DefaultWorkerFactory=s,s.LAST_WORKER_ID=0}),define(ie[639],ne([1,0,15,7,2,245,20]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageDatabase=e.Storage=e.StorageState=e.StorageHint=void 0;var p;(function(o){o[o.STORAGE_DOES_NOT_EXIST=0]="STORAGE_DOES_NOT_EXIST",o[o.STORAGE_IN_MEMORY=1]="STORAGE_IN_MEMORY"})(p||(e.StorageHint=p={}));var w;(function(o){o[o.None=0]="None",o[o.Initialized=1]="Initialized",o[o.Closed=2]="Closed"})(w||(e.StorageState=w={}));class b extends E.Disposable{constructor(s,i=Object.create(null)){super(),this.database=s,this.options=i,this._onDidChangeStorage=this._register(new k.PauseableEmitter),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=w.None,this.cache=new Map,this.flushDelayer=this._register(new f.ThrottledDelayer(b.DEFAULT_FLUSH_DELAY)),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(s=>this.onDidChangeItemsExternal(s)))}onDidChangeItemsExternal(s){var i,t;this._onDidChangeStorage.pause();try{(i=s.changed)===null||i===void 0||i.forEach((n,c)=>this.acceptExternal(c,n)),(t=s.deleted)===null||t===void 0||t.forEach(n=>this.acceptExternal(n,void 0))}finally{this._onDidChangeStorage.resume()}}acceptExternal(s,i){if(this.state===w.Closed)return;let t=!1;(0,y.isUndefinedOrNull)(i)?t=this.cache.delete(s):this.cache.get(s)!==i&&(this.cache.set(s,i),t=!0),t&&this._onDidChangeStorage.fire({key:s,external:!0})}get(s,i){const t=this.cache.get(s);return(0,y.isUndefinedOrNull)(t)?i:t}getBoolean(s,i){const t=this.get(s);return(0,y.isUndefinedOrNull)(t)?i:t==="true"}getNumber(s,i){const t=this.get(s);return(0,y.isUndefinedOrNull)(t)?i:parseInt(t,10)}async set(s,i,t=!1){if(this.state===w.Closed)return;if((0,y.isUndefinedOrNull)(i))return this.delete(s,t);const n=(0,y.isObject)(i)||Array.isArray(i)?(0,D.stringify)(i):String(i);if(this.cache.get(s)!==n)return this.cache.set(s,n),this.pendingInserts.set(s,n),this.pendingDeletes.delete(s),this._onDidChangeStorage.fire({key:s,external:t}),this.doFlush()}async delete(s,i=!1){if(!(this.state===w.Closed||!this.cache.delete(s)))return this.pendingDeletes.has(s)||this.pendingDeletes.add(s),this.pendingInserts.delete(s),this._onDidChangeStorage.fire({key:s,external:i}),this.doFlush()}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}async flushPending(){if(!this.hasPending)return;const s={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(s).finally(()=>{var i;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(i=this.whenFlushedCallbacks.pop())===null||i===void 0||i()})}async doFlush(s){return this.options.hint===p.STORAGE_IN_MEMORY?this.flushPending():this.flushDelayer.trigger(()=>this.flushPending(),s)}}e.Storage=b,b.DEFAULT_FLUSH_DELAY=100;class C{constructor(){this.onDidChangeItemsExternal=k.Event.None,this.items=new Map}async updateItems(s){var i,t;(i=s.insert)===null||i===void 0||i.forEach((n,c)=>this.items.set(c,n)),(t=s.delete)===null||t===void 0||t.forEach(n=>this.items.delete(n))}}e.InMemoryStorageDatabase=C}),define(ie[349],ne([1,0,2,7,6]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ElementSizeObserver=void 0;class D extends f.Disposable{constructor(p,w){super(),this._onDidChange=this._register(new k.Emitter),this.onDidChange=this._onDidChange.event,this._referenceDomElement=p,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,w)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){if(!this._resizeObserver&&this._referenceDomElement){let p=null;const w=()=>{p?this.observe({width:p.width,height:p.height}):this.observe()};let b=!1,C=!1;const o=()=>{if(b&&!C)try{b=!1,C=!0,w()}finally{(0,E.scheduleAtNextAnimationFrame)((0,E.getWindow)(this._referenceDomElement),()=>{C=!1,o()})}};this._resizeObserver=new ResizeObserver(s=>{s&&s[0]&&s[0].contentRect?p={width:s[0].contentRect.width,height:s[0].contentRect.height}:p=null,b=!0,o()}),this._resizeObserver.observe(this._referenceDomElement)}}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(p){this.measureReferenceDomElement(!0,p)}measureReferenceDomElement(p,w){let b=0,C=0;w?(b=w.width,C=w.height):this._referenceDomElement&&(b=this._referenceDomElement.clientWidth,C=this._referenceDomElement.clientHeight),b=Math.max(5,b),C=Math.max(5,C),(this._width!==b||this._height!==C)&&(this._width=b,this._height=C,p&&this._onDidChange.fire())}}e.ElementSizeObserver=D}),define(ie[640],ne([1,0,6,40,56]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewContentWidgets=void 0;class D extends E.ViewPart{constructor(s,i){super(s),this._viewDomNode=i,this._widgets={},this.domNode=(0,k.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,k.createFastDomNode)(document.createElement("div")),E.PartFingerprints.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onConfigurationChanged(s);return!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLineMappingChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesChanged(s){return this._updateAnchorsViewPositions(),!0}onLinesDeleted(s){return this._updateAnchorsViewPositions(),!0}onLinesInserted(s){return this._updateAnchorsViewPositions(),!0}onScrollChanged(s){return!0}onZonesChanged(s){return!0}_updateAnchorsViewPositions(){const s=Object.keys(this._widgets);for(const i of s)this._widgets[i].updateAnchorViewPosition()}addWidget(s){const i=new y(this._context,this._viewDomNode,s);this._widgets[i.id]=i,i.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(i.domNode):this.domNode.appendChild(i.domNode),this.setShouldRender()}setWidgetPosition(s,i,t,n,c){this._widgets[s.getId()].setPosition(i,t,n,c),this.setShouldRender()}removeWidget(s){const i=s.getId();if(this._widgets.hasOwnProperty(i)){const t=this._widgets[i];delete this._widgets[i];const n=t.domNode.domNode;n.parentNode.removeChild(n),n.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(s){return this._widgets.hasOwnProperty(s)?this._widgets[s].suppressMouseDown:!1}onBeforeRender(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].onBeforeRender(s)}prepareRender(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].prepareRender(s)}render(s){const i=Object.keys(this._widgets);for(const t of i)this._widgets[t].render(s)}}e.ViewContentWidgets=D;class y{constructor(s,i,t){this._primaryAnchor=new p(null,null),this._secondaryAnchor=new p(null,null),this._context=s,this._viewDomNode=i,this._actual=t,this.domNode=(0,k.createFastDomNode)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const n=this._context.configuration.options,c=n.get(145);this._fixedOverflowWidgets=n.get(42),this._contentWidth=c.contentWidth,this._contentLeft=c.contentLeft,this._lineHeight=n.get(67),this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(s){const i=this._context.configuration.options;if(this._lineHeight=i.get(67),s.hasChanged(145)){const t=i.get(145);this._contentLeft=t.contentLeft,this._contentWidth=t.contentWidth,this._maxWidth=this._getMaxWidth()}}updateAnchorViewPosition(){this._setPosition(this._affinity,this._primaryAnchor.modelPosition,this._secondaryAnchor.modelPosition)}_setPosition(s,i,t){this._affinity=s,this._primaryAnchor=n(i,this._context.viewModel,this._affinity),this._secondaryAnchor=n(t,this._context.viewModel,this._affinity);function n(c,m,u){if(!c)return new p(null,null);const r=m.model.validatePosition(c);if(m.coordinatesConverter.modelPositionIsVisible(r)){const a=m.coordinatesConverter.convertModelPositionToViewPosition(r,u??void 0);return new p(c,a)}return new p(c,null)}}_getMaxWidth(){const s=this.domNode.domNode.ownerDocument,i=s.defaultView;return this.allowEditorOverflow?i?.innerWidth||s.documentElement.offsetWidth||s.body.offsetWidth:this._contentWidth}setPosition(s,i,t,n){this._setPosition(n,s,i),this._preference=t,this._primaryAnchor.viewPosition&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(s,i,t,n){const c=s.top,m=c,u=s.top+s.height,r=n.viewportHeight-u,a=c-t,h=m>=t,l=u,g=r>=t;let d=s.left;return d+i>n.scrollLeft+n.viewportWidth&&(d=n.scrollLeft+n.viewportWidth-i),d<n.scrollLeft&&(d=n.scrollLeft),{fitsAbove:h,aboveTop:a,fitsBelow:g,belowTop:l,left:d}}_layoutHorizontalSegmentInPage(s,i,t,n){var c;const r=Math.max(15,i.left-n),a=Math.min(i.left+i.width+n,s.width-15),l=this._viewDomNode.domNode.ownerDocument.defaultView;let g=i.left+t-((c=l?.scrollX)!==null&&c!==void 0?c:0);if(g+n>a){const d=g-(a-n);g-=d,t-=d}if(g<r){const d=g-r;g-=d,t-=d}return[t,g]}_layoutBoxInPage(s,i,t,n){var c,m;const u=s.top-t,r=s.top+s.height,a=f.getDomNodePagePosition(this._viewDomNode.domNode),h=this._viewDomNode.domNode.ownerDocument,l=h.defaultView,g=a.top+u-((c=l?.scrollY)!==null&&c!==void 0?c:0),d=a.top+r-((m=l?.scrollY)!==null&&m!==void 0?m:0),v=f.getClientArea(h.body),[_,S]=this._layoutHorizontalSegmentInPage(v,a,s.left-n.scrollLeft+this._contentLeft,i),L=22,I=22,T=g>=L,N=d+t<=v.height-I;return this._fixedOverflowWidgets?{fitsAbove:T,aboveTop:Math.max(g,L),fitsBelow:N,belowTop:d,left:S}:{fitsAbove:T,aboveTop:u,fitsBelow:N,belowTop:r,left:_}}_prepareRenderWidgetAtExactPositionOverflowing(s){return new w(s.top,s.left+this._contentLeft)}_getAnchorsCoordinates(s){var i,t;const n=u(this._primaryAnchor.viewPosition,this._affinity,this._lineHeight),c=((i=this._secondaryAnchor.viewPosition)===null||i===void 0?void 0:i.lineNumber)===((t=this._primaryAnchor.viewPosition)===null||t===void 0?void 0:t.lineNumber)?this._secondaryAnchor.viewPosition:null,m=u(c,this._affinity,this._lineHeight);return{primary:n,secondary:m};function u(r,a,h){if(!r)return null;const l=s.visibleRangeForPosition(r);if(!l)return null;const g=r.column===1&&a===3?0:l.left,d=s.getVerticalOffsetForLineNumber(r.lineNumber)-s.scrollTop;return new b(d,g,h)}}_reduceAnchorCoordinates(s,i,t){if(!i)return s;const n=this._context.configuration.options.get(50);let c=i.left;return c<s.left?c=Math.max(c,s.left-t+n.typicalFullwidthCharacterWidth):c=Math.min(c,s.left+t-n.typicalFullwidthCharacterWidth),new b(s.top,c,s.height)}_prepareRenderWidget(s){if(!this._preference||this._preference.length===0)return null;const{primary:i,secondary:t}=this._getAnchorsCoordinates(s);if(!i)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let m=null;if(typeof this._actual.beforeRender=="function"&&(m=C(this._actual.beforeRender,this._actual)),m)this._cachedDomNodeOffsetWidth=m.width,this._cachedDomNodeOffsetHeight=m.height;else{const r=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(r.width),this._cachedDomNodeOffsetHeight=Math.round(r.height)}}const n=this._reduceAnchorCoordinates(i,t,this._cachedDomNodeOffsetWidth);let c;this.allowEditorOverflow?c=this._layoutBoxInPage(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s):c=this._layoutBoxInViewport(n,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,s);for(let m=1;m<=2;m++)for(const u of this._preference)if(u===1){if(!c)return null;if(m===2||c.fitsAbove)return{coordinate:new w(c.aboveTop,c.left),position:1}}else if(u===2){if(!c)return null;if(m===2||c.fitsBelow)return{coordinate:new w(c.belowTop,c.left),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(new w(n.top,n.left)),position:0}:{coordinate:new w(n.top,n.left),position:0};return null}onBeforeRender(s){!this._primaryAnchor.viewPosition||!this._preference||this._primaryAnchor.viewPosition.lineNumber<s.startLineNumber||this._primaryAnchor.viewPosition.lineNumber>s.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(s){this._renderData=this._prepareRenderWidget(s)}render(s){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+s.scrollTop-s.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&C(this._actual.afterRender,this._actual,this._renderData.position)}}class p{constructor(s,i){this.modelPosition=s,this.viewPosition=i}}class w{constructor(s,i){this.top=s,this.left=i,this._coordinateBrand=void 0}}class b{constructor(s,i,t){this.top=s,this.left=i,this.height=t,this._anchorCoordinateBrand=void 0}}function C(o,s,...i){try{return o.call(s,...i)}catch{return null}}}),define(ie[641],ne([1,0,40,56,6,471]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewOverlayWidgets=void 0;class D extends k.ViewPart{constructor(p,w){super(p),this._viewDomNode=w;const C=this._context.configuration.options.get(145);this._widgets={},this._verticalScrollbarWidth=C.verticalScrollbarWidth,this._minimapWidth=C.minimap.minimapWidth,this._horizontalScrollbarHeight=C.horizontalScrollbarHeight,this._editorHeight=C.height,this._editorWidth=C.width,this._viewDomNodeRect={top:0,left:0,width:0,height:0},this._domNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this._domNode,4),this._domNode.setClassName("overlayWidgets"),this.overflowingOverlayWidgetsDomNode=(0,f.createFastDomNode)(document.createElement("div")),k.PartFingerprints.write(this.overflowingOverlayWidgetsDomNode,5),this.overflowingOverlayWidgetsDomNode.setClassName("overflowingOverlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(p){const b=this._context.configuration.options.get(145);return this._verticalScrollbarWidth=b.verticalScrollbarWidth,this._minimapWidth=b.minimap.minimapWidth,this._horizontalScrollbarHeight=b.horizontalScrollbarHeight,this._editorHeight=b.height,this._editorWidth=b.width,!0}addWidget(p){const w=(0,f.createFastDomNode)(p.getDomNode());this._widgets[p.getId()]={widget:p,preference:null,domNode:w},w.setPosition("absolute"),w.setAttribute("widgetId",p.getId()),p.allowEditorOverflow?this.overflowingOverlayWidgetsDomNode.appendChild(w):this._domNode.appendChild(w),this.setShouldRender(),this._updateMaxMinWidth()}setWidgetPosition(p,w){const b=this._widgets[p.getId()];return b.preference===w?(this._updateMaxMinWidth(),!1):(b.preference=w,this.setShouldRender(),this._updateMaxMinWidth(),!0)}removeWidget(p){const w=p.getId();if(this._widgets.hasOwnProperty(w)){const C=this._widgets[w].domNode.domNode;delete this._widgets[w],C.remove(),this.setShouldRender(),this._updateMaxMinWidth()}}_updateMaxMinWidth(){var p,w;let b=0;const C=Object.keys(this._widgets);for(let o=0,s=C.length;o<s;o++){const i=C[o],n=(w=(p=this._widgets[i].widget).getMinContentWidthInPx)===null||w===void 0?void 0:w.call(p);typeof n<"u"&&(b=Math.max(b,n))}this._context.viewLayout.setOverlayWidgetsMinWidth(b)}_renderWidget(p){const w=p.domNode;if(p.preference===null){w.setTop("");return}if(p.preference===0)w.setTop(0),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(p.preference===1){const b=w.domNode.clientHeight;w.setTop(this._editorHeight-b-2*this._horizontalScrollbarHeight),w.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else if(p.preference===2)w.setTop(0),w.domNode.style.right="50%";else{const{top:b,left:C}=p.preference;if(this._context.configuration.options.get(42)&&p.widget.allowEditorOverflow){const s=this._viewDomNodeRect;w.setTop(b+s.top),w.setLeft(C+s.left),w.setPosition("fixed")}else w.setTop(b),w.setLeft(C),w.setPosition("absolute")}}prepareRender(p){this._viewDomNodeRect=E.getDomNodePagePosition(this._viewDomNode.domNode)}render(p){this._domNode.setWidth(this._editorWidth);const w=Object.keys(this._widgets);for(let b=0,C=w.length;b<C;b++){const o=w[b];this._renderWidget(this._widgets[o])}}}e.ViewOverlayWidgets=D}),define(ie[642],ne([1,0,6,10,2]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeEditorContributions=void 0;class D extends E.Disposable{constructor(){super(),this._editor=null,this._instantiationService=null,this._instances=this._register(new E.DisposableMap),this._pending=new Map,this._finishedInstantiation=[],this._finishedInstantiation[0]=!1,this._finishedInstantiation[1]=!1,this._finishedInstantiation[2]=!1,this._finishedInstantiation[3]=!1}initialize(p,w,b){this._editor=p,this._instantiationService=b;for(const C of w){if(this._pending.has(C.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two contributions with the same id ${C.id}`));continue}this._pending.set(C.id,C)}this._instantiateSome(0),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(1)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(2)})),this._register((0,f.runWhenWindowIdle)((0,f.getWindow)(this._editor.getDomNode()),()=>{this._instantiateSome(3)},5e3))}saveViewState(){const p={};for(const[w,b]of this._instances)typeof b.saveViewState=="function"&&(p[w]=b.saveViewState());return p}restoreViewState(p){for(const[w,b]of this._instances)typeof b.restoreViewState=="function"&&b.restoreViewState(p[w])}get(p){return this._instantiateById(p),this._instances.get(p)||null}onBeforeInteractionEvent(){this._instantiateSome(2)}onAfterModelAttached(){var p;return(0,f.runWhenWindowIdle)((0,f.getWindow)((p=this._editor)===null||p===void 0?void 0:p.getDomNode()),()=>{this._instantiateSome(1)},50)}_instantiateSome(p){if(this._finishedInstantiation[p])return;this._finishedInstantiation[p]=!0;const w=this._findPendingContributionsByInstantiation(p);for(const b of w)this._instantiateById(b.id)}_findPendingContributionsByInstantiation(p){const w=[];for(const[,b]of this._pending)b.instantiation===p&&w.push(b);return w}_instantiateById(p){const w=this._pending.get(p);if(w){if(this._pending.delete(p),!this._instantiationService||!this._editor)throw new Error("Cannot instantiate contributions before being initialized!");try{const b=this._instantiationService.createInstance(w.ctor,this._editor);this._instances.set(w.id,b),typeof b.restoreViewState=="function"&&w.instantiation!==0&&console.warn(`Editor contribution '${w.id}' should be eager instantiated because it uses saveViewState / restoreViewState.`)}catch(b){(0,k.onUnexpectedError)(b)}}}}e.CodeEditorContributions=D}),define(ie[643],ne([1,0,167,2,30]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorSash=void 0;class D extends k.Disposable{constructor(p,w,b,C){super(),this._options=p,this._domNode=w,this._dimensions=b,this._sashes=C,this._sashRatio=(0,E.observableValue)(this,void 0),this.sashLeft=(0,E.derived)(this,o=>{var s;const i=(s=this._sashRatio.read(o))!==null&&s!==void 0?s:this._options.splitViewDefaultRatio.read(o);return this._computeSashLeft(i,o)}),this._sash=this._register(new f.Sash(this._domNode,{getVerticalSashTop:o=>0,getVerticalSashLeft:o=>this.sashLeft.get(),getVerticalSashHeight:o=>this._dimensions.height.get()},{orientation:0})),this._startSashPosition=void 0,this._register(this._sash.onDidStart(()=>{this._startSashPosition=this.sashLeft.get()})),this._register(this._sash.onDidChange(o=>{const s=this._dimensions.width.get(),i=this._computeSashLeft((this._startSashPosition+(o.currentX-o.startX))/s,void 0);this._sashRatio.set(i/s,void 0)})),this._register(this._sash.onDidEnd(()=>this._sash.layout())),this._register(this._sash.onDidReset(()=>this._sashRatio.set(void 0,void 0))),this._register((0,E.autorun)(o=>{const s=this._sashes.read(o);s&&(this._sash.orthogonalEndSash=s.bottom)})),this._register((0,E.autorun)(o=>{const s=this._options.enableSplitViewResizing.read(o);this._sash.state=s?3:0,this.sashLeft.read(o),this._dimensions.height.read(o),this._sash.layout()}))}_computeSashLeft(p,w){const b=this._dimensions.width.read(w),C=Math.floor(this._options.splitViewDefaultRatio.read(w)*b),o=this._options.enableSplitViewResizing.read(w)?Math.floor(p*b):C,s=100;return b<=s*2?C:o<s?s:o>b-s?b-s:o}}e.DiffEditorSash=D}),define(ie[83],ne([1,0,67,19,620,2,30,349,9,5,108]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DisposableCancellationTokenSource=e.ManagedOverlayWidget=e.PlaceholderViewZone=e.ViewZoneOverlayWidget=e.ObservableElementSizeObserver=void 0,e.joinCombine=o,e.applyObservableDecorations=s,e.appendRemoveOnDispose=i,e.prependRemoveOnDispose=t,e.animatedObservable=c,e.applyStyle=h,e.readHotReloadableExport=l,e.observeHotReloadableExports=g,e.applyViewZones=d,e.translatePosition=_,e.bindContextKey=L,e.filterWithPrevious=I;function o(T,N,A,O){if(T.length===0)return N;if(N.length===0)return T;const M=[];let R=0,x=0;for(;R<T.length&&x<N.length;){const F=T[R],W=N[x],H=A(F),z=A(W);H<z?(M.push(F),R++):H>z?(M.push(W),x++):(M.push(O(F,W)),R++,x++)}for(;R<T.length;)M.push(T[R]),R++;for(;x<N.length;)M.push(N[x]),x++;return M}function s(T,N){const A=new D.DisposableStore,O=T.createDecorationsCollection();return A.add((0,y.autorunOpts)({debugName:()=>`Apply decorations from ${N.debugName}`},M=>{const R=N.read(M);O.set(R)})),A.add({dispose:()=>{O.clear()}}),A}function i(T,N){return T.appendChild(N),(0,D.toDisposable)(()=>{T.removeChild(N)})}function t(T,N){return T.prepend(N),(0,D.toDisposable)(()=>{T.removeChild(N)})}class n extends D.Disposable{get width(){return this._width}get height(){return this._height}constructor(N,A){super(),this.elementSizeObserver=this._register(new p.ElementSizeObserver(N,A)),this._width=(0,y.observableValue)(this,this.elementSizeObserver.getWidth()),this._height=(0,y.observableValue)(this,this.elementSizeObserver.getHeight()),this._register(this.elementSizeObserver.onDidChange(O=>(0,y.transaction)(M=>{this._width.set(this.elementSizeObserver.getWidth(),M),this._height.set(this.elementSizeObserver.getHeight(),M)})))}observe(N){this.elementSizeObserver.observe(N)}setAutomaticLayout(N){N?this.elementSizeObserver.startObserving():this.elementSizeObserver.stopObserving()}}e.ObservableElementSizeObserver=n;function c(T,N,A){let O=N.get(),M=O,R=O;const x=(0,y.observableValue)("animatedValue",O);let F=-1;const W=300;let H;A.add((0,y.autorunHandleChanges)({createEmptyChangeSummary:()=>({animate:!1}),handleChange:(j,K)=>(j.didChange(N)&&(K.animate=K.animate||j.change),!0)},(j,K)=>{H!==void 0&&(T.cancelAnimationFrame(H),H=void 0),M=R,O=N.read(j),F=Date.now()-(K.animate?0:W),z()}));function z(){const j=Date.now()-F;R=Math.floor(m(j,M,O-M,W)),j<W?H=T.requestAnimationFrame(z):R=O,x.set(R,void 0)}return x}function m(T,N,A,O){return T===O?N+A:A*(-Math.pow(2,-10*T/O)+1)+N}class u extends D.Disposable{constructor(N,A,O){super(),this._register(new a(N,O)),this._register(h(O,{height:A.actualHeight,top:A.actualTop}))}}e.ViewZoneOverlayWidget=u;class r{get afterLineNumber(){return this._afterLineNumber.get()}constructor(N,A){this._afterLineNumber=N,this.heightInPx=A,this.domNode=document.createElement("div"),this._actualTop=(0,y.observableValue)(this,void 0),this._actualHeight=(0,y.observableValue)(this,void 0),this.actualTop=this._actualTop,this.actualHeight=this._actualHeight,this.showInHiddenAreas=!0,this.onChange=this._afterLineNumber,this.onDomNodeTop=O=>{this._actualTop.set(O,void 0)},this.onComputedHeight=O=>{this._actualHeight.set(O,void 0)}}}e.PlaceholderViewZone=r;class a{constructor(N,A){this._editor=N,this._domElement=A,this._overlayWidgetId=`managedOverlayWidget-${a._counter++}`,this._overlayWidget={getId:()=>this._overlayWidgetId,getDomNode:()=>this._domElement,getPosition:()=>null},this._editor.addOverlayWidget(this._overlayWidget)}dispose(){this._editor.removeOverlayWidget(this._overlayWidget)}}e.ManagedOverlayWidget=a,a._counter=0;function h(T,N){return(0,y.autorun)(A=>{for(let[O,M]of Object.entries(N))M&&typeof M=="object"&&"read"in M&&(M=M.read(A)),typeof M=="number"&&(M=`${M}px`),O=O.replace(/[A-Z]/g,R=>"-"+R.toLowerCase()),T.style[O]=M})}function l(T,N){return g([T],N),T}function g(T,N){(0,E.isHotReloadEnabled)()&&(0,y.observableSignalFromEvent)("reload",O=>(0,E.registerHotReloadHandler)(({oldExports:M})=>{if([...Object.values(M)].some(R=>T.includes(R)))return R=>(O(void 0),!0)})).read(N)}function d(T,N,A,O){const M=new D.DisposableStore,R=[];return M.add((0,y.autorunWithStore)((x,F)=>{const W=N.read(x),H=new Map,z=new Map;A&&A(!0),T.changeViewZones(j=>{for(const K of R)j.removeZone(K),O?.delete(K);R.length=0;for(const K of W){const U=j.addZone(K);K.setZoneId&&K.setZoneId(U),R.push(U),O?.add(U),H.set(K,U)}}),A&&A(!1),F.add((0,y.autorunHandleChanges)({createEmptyChangeSummary(){return{zoneIds:[]}},handleChange(j,K){const U=z.get(j.changedObservable);return U!==void 0&&K.zoneIds.push(U),!0}},(j,K)=>{for(const U of W)U.onChange&&(z.set(U.onChange,H.get(U)),U.onChange.read(j));A&&A(!0),T.changeViewZones(U=>{for(const G of K.zoneIds)U.layoutZone(G)}),A&&A(!1)}))})),M.add({dispose(){A&&A(!0),T.changeViewZones(x=>{for(const F of R)x.removeZone(F)}),O?.clear(),A&&A(!1)}}),M}class v extends k.CancellationTokenSource{dispose(){super.dispose(!0)}}e.DisposableCancellationTokenSource=v;function _(T,N){const A=(0,f.findLast)(N,M=>M.original.startLineNumber<=T.lineNumber);if(!A)return b.Range.fromPositions(T);if(A.original.endLineNumberExclusive<=T.lineNumber){const M=T.lineNumber-A.original.endLineNumberExclusive+A.modified.endLineNumberExclusive;return b.Range.fromPositions(new w.Position(M,T.column))}if(!A.innerChanges)return b.Range.fromPositions(new w.Position(A.modified.startLineNumber,1));const O=(0,f.findLast)(A.innerChanges,M=>M.originalRange.getStartPosition().isBeforeOrEqual(T));if(!O){const M=T.lineNumber-A.original.startLineNumber+A.modified.startLineNumber;return b.Range.fromPositions(new w.Position(M,T.column))}if(O.originalRange.containsPosition(T))return O.modifiedRange;{const M=S(O.originalRange.getEndPosition(),T);return b.Range.fromPositions(M.addToPosition(O.modifiedRange.getEndPosition()))}}function S(T,N){return T.lineNumber===N.lineNumber?new C.TextLength(0,N.column-T.column):new C.TextLength(N.lineNumber-T.lineNumber,N.column-1)}function L(T,N,A){const O=T.bindTo(N);return(0,y.autorunOpts)({debugName:()=>`Set Context Key "${T.key}"`},M=>{O.set(A(M))})}function I(T,N){let A;return T.filter(O=>{const M=N(O,A);return A=O,M})}}),define(ie[644],ne([1,0,6,2,30,59,65]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorGutter=void 0;class p extends k.Disposable{constructor(C,o,s){super(),this._editor=C,this._domNode=o,this.itemProvider=s,this.scrollTop=(0,E.observableFromEvent)(this._editor.onDidScrollChange,n=>this._editor.getScrollTop()),this.isScrollTopZero=this.scrollTop.map(n=>n===0),this.modelAttached=(0,E.observableFromEvent)(this._editor.onDidChangeModel,n=>this._editor.hasModel()),this.editorOnDidChangeViewZones=(0,E.observableSignalFromEvent)("onDidChangeViewZones",this._editor.onDidChangeViewZones),this.editorOnDidContentSizeChange=(0,E.observableSignalFromEvent)("onDidContentSizeChange",this._editor.onDidContentSizeChange),this.domNodeSizeChanged=(0,E.observableSignal)("domNodeSizeChanged"),this.views=new Map,this._domNode.className="gutter monaco-editor";const i=this._domNode.appendChild((0,f.h)("div.scroll-decoration",{role:"presentation",ariaHidden:"true",style:{width:"100%"}}).root),t=new ResizeObserver(()=>{(0,E.transaction)(n=>{this.domNodeSizeChanged.trigger(n)})});t.observe(this._domNode),this._register((0,k.toDisposable)(()=>t.disconnect())),this._register((0,E.autorun)(n=>{i.className=this.isScrollTopZero.read(n)?"":"scroll-decoration"})),this._register((0,E.autorun)(n=>this.render(n)))}dispose(){super.dispose(),(0,f.reset)(this._domNode)}render(C){if(!this.modelAttached.read(C))return;this.domNodeSizeChanged.read(C),this.editorOnDidChangeViewZones.read(C),this.editorOnDidContentSizeChange.read(C);const o=this.scrollTop.read(C),s=this._editor.getVisibleRanges(),i=new Set(this.views.keys()),t=y.OffsetRange.ofStartAndLength(0,this._domNode.clientHeight);if(!t.isEmpty)for(const n of s){const c=new D.LineRange(n.startLineNumber,n.endLineNumber+1),m=this.itemProvider.getIntersectingGutterItems(c,C);(0,E.transaction)(u=>{for(const r of m){if(!r.range.intersect(c))continue;i.delete(r.id);let a=this.views.get(r.id);if(a)a.item.set(r,u);else{const d=document.createElement("div");this._domNode.appendChild(d);const v=(0,E.observableValue)("item",r),_=this.itemProvider.createView(v,d);a=new w(v,_,d),this.views.set(r.id,a)}const h=r.range.startLineNumber<=this._editor.getModel().getLineCount()?this._editor.getTopForLineNumber(r.range.startLineNumber,!0)-o:this._editor.getBottomForLineNumber(r.range.startLineNumber-1,!1)-o,g=(r.range.isEmpty?h:this._editor.getBottomForLineNumber(r.range.endLineNumberExclusive-1,!0)-o)-h;a.domNode.style.top=`${h}px`,a.domNode.style.height=`${g}px`,a.gutterItemView.layout(y.OffsetRange.ofStartAndLength(h,g),t)}})}for(const n of i){const c=this.views.get(n);c.gutterItemView.dispose(),this._domNode.removeChild(c.domNode),this.views.delete(n)}}}e.EditorGutter=p;class w{constructor(C,o,s){this.item=C,this.gutterItemView=o,this.domNode=s}}}),define(ie[112],ne([1,0,12,17,156]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StringBuilder=void 0,e.getPlatformTextDecoder=C,e.decodeUTF16LE=o;let D;function y(){return D||(D=new TextDecoder("UTF-16LE")),D}let p;function w(){return p||(p=new TextDecoder("UTF-16BE")),p}let b;function C(){return b||(b=k.isLittleEndian()?y():w()),b}function o(t,n,c){const m=new Uint16Array(t.buffer,n,c);return c>0&&(m[0]===65279||m[0]===65534)?s(t,n,c):y().decode(m)}function s(t,n,c){const m=[];let u=0;for(let r=0;r<c;r++){const a=E.readUInt16LE(t,n);n+=2,m[u++]=String.fromCharCode(a)}return m.join("")}class i{constructor(n){this._capacity=n|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const n=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return C().decode(n)}_flushBuffer(){const n=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[n]:this._completedStrings[this._completedStrings.length]=n}appendCharCode(n){const c=this._capacity-this._bufferLength;c<=1&&(c===0||f.isHighSurrogate(n))&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendASCIICharCode(n){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=n}appendString(n){const c=n.length;if(this._bufferLength+c>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=n;return}for(let m=0;m<c;m++)this._buffer[this._bufferLength++]=n.charCodeAt(m)}}e.StringBuilder=i}),define(ie[645],ne([1,0,99,12,20,71,112,316,127]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DOMLineBreaksComputerFactory=void 0;const b=(0,f.createTrustedTypesPolicy)("domLineBreaksComputer",{createHTML:c=>c});class C{static create(m){return new C(new WeakRef(m))}constructor(m){this.targetWindow=m}createLineBreaksComputer(m,u,r,a,h){const l=[],g=[];return{addRequest:(d,v,_)=>{l.push(d),g.push(v)},finalize:()=>o((0,E.assertIsDefined)(this.targetWindow.deref()),l,m,u,r,a,h,g)}}}e.DOMLineBreaksComputerFactory=C;function o(c,m,u,r,a,h,l,g){var d;function v(K){const U=g[K];if(U){const G=w.LineInjectedText.applyInjectedText(m[K],U),te=U.map(Y=>Y.options),ee=U.map(Y=>Y.column-1);return new p.ModelLineProjectionData(ee,te,[G.length],[],0)}else return null}if(a===-1){const K=[];for(let U=0,G=m.length;U<G;U++)K[U]=v(U);return K}const _=Math.round(a*u.typicalHalfwidthCharacterWidth),L=Math.round(r*(h===3?2:h===2?1:0)),I=Math.ceil(u.spaceWidth*L),T=document.createElement("div");(0,D.applyFontInfo)(T,u);const N=new y.StringBuilder(1e4),A=[],O=[],M=[],R=[],x=[];for(let K=0;K<m.length;K++){const U=w.LineInjectedText.applyInjectedText(m[K],g[K]);let G=0,te=0,ee=_;if(h!==0)if(G=k.firstNonWhitespaceIndex(U),G===-1)G=0;else{for(let re=0;re<G;re++){const ce=U.charCodeAt(re)===9?r-te%r:1;te+=ce}const Z=Math.ceil(u.spaceWidth*te);Z+u.typicalFullwidthCharacterWidth>_?(G=0,te=0):ee=_-Z}const Y=U.substr(G),P=s(Y,te,r,ee,N,I);A[K]=G,O[K]=te,M[K]=Y,R[K]=P[0],x[K]=P[1]}const F=N.build(),W=(d=b?.createHTML(F))!==null&&d!==void 0?d:F;T.innerHTML=W,T.style.position="absolute",T.style.top="10000",l==="keepAll"?(T.style.wordBreak="keep-all",T.style.overflowWrap="anywhere"):(T.style.wordBreak="inherit",T.style.overflowWrap="break-word"),c.document.body.appendChild(T);const H=document.createRange(),z=Array.prototype.slice.call(T.children,0),j=[];for(let K=0;K<m.length;K++){const U=z[K],G=i(H,U,M[K],R[K]);if(G===null){j[K]=v(K);continue}const te=A[K],ee=O[K]+L,Y=x[K],P=[];for(let he=0,pe=G.length;he<pe;he++)P[he]=Y[G[he]];if(te!==0)for(let he=0,pe=G.length;he<pe;he++)G[he]+=te;let Z,re;const ce=g[K];ce?(Z=ce.map(he=>he.options),re=ce.map(he=>he.column-1)):(Z=null,re=null),j[K]=new p.ModelLineProjectionData(re,Z,G,P,ee)}return c.document.body.removeChild(T),j}function s(c,m,u,r,a,h){if(h!==0){const L=String(h);a.appendString('<div style="text-indent: -'),a.appendString(L),a.appendString("px; padding-left: "),a.appendString(L),a.appendString("px; box-sizing: border-box; width:")}else a.appendString('<div style="width:');a.appendString(String(r)),a.appendString('px;">');const l=c.length;let g=m,d=0;const v=[],_=[];let S=0<l?c.charCodeAt(0):0;a.appendString("<span>");for(let L=0;L<l;L++){L!==0&&L%16384===0&&a.appendString("</span><span>"),v[L]=d,_[L]=g;const I=S;S=L+1<l?c.charCodeAt(L+1):0;let T=1,N=1;switch(I){case 9:T=u-g%u,N=T;for(let A=1;A<=T;A++)A<T?a.appendCharCode(160):a.appendASCIICharCode(32);break;case 32:S===32?a.appendCharCode(160):a.appendASCIICharCode(32);break;case 60:a.appendString("&lt;");break;case 62:a.appendString("&gt;");break;case 38:a.appendString("&amp;");break;case 0:a.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:a.appendCharCode(65533);break;default:k.isFullWidthCharacter(I)&&N++,I<32?a.appendCharCode(9216+I):a.appendCharCode(I)}d+=T,g+=N}return a.appendString("</span>"),v[c.length]=d,_[c.length]=g,a.appendString("</div>"),[v,_]}function i(c,m,u,r){if(u.length<=1)return null;const a=Array.prototype.slice.call(m.children,0),h=[];try{t(c,a,r,0,null,u.length-1,null,h)}catch(l){return console.log(l),null}return h.length===0?null:(h.push(u.length),h)}function t(c,m,u,r,a,h,l,g){if(r===h||(a=a||n(c,m,u[r],u[r+1]),l=l||n(c,m,u[h],u[h+1]),Math.abs(a[0].top-l[0].top)<=.1))return;if(r+1===h){g.push(h);return}const d=r+(h-r)/2|0,v=n(c,m,u[d],u[d+1]);t(c,m,u,r,a,d,v,g),t(c,m,u,d,v,h,l,g)}function n(c,m,u,r){return c.setStart(m[u/16384|0].firstChild,u%16384),c.setEnd(m[r/16384|0].firstChild,r%16384),c.getClientRects()}}),define(ie[254],ne([1,0,40,99,10,112]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.VisibleLinesCollection=e.RenderedLinesCollection=void 0;class y{constructor(C){this._createLine=C,this._set(1,[])}flush(){this._set(1,[])}_set(C,o){this._lines=o,this._rendLineNumberStart=C}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(C){const o=C-this._rendLineNumberStart;if(o<0||o>=this._lines.length)throw new E.BugIndicatingError("Illegal value for lineNumber");return this._lines[o]}onLinesDeleted(C,o){if(this.getCount()===0)return null;const s=this.getStartLineNumber(),i=this.getEndLineNumber();if(o<s){const m=o-C+1;return this._rendLineNumberStart-=m,null}if(C>i)return null;let t=0,n=0;for(let m=s;m<=i;m++){const u=m-this._rendLineNumberStart;C<=m&&m<=o&&(n===0?(t=u,n=1):n++)}if(C<s){let m=0;o<s?m=o-C+1:m=s-C,this._rendLineNumberStart-=m}return this._lines.splice(t,n)}onLinesChanged(C,o){const s=C+o-1;if(this.getCount()===0)return!1;const i=this.getStartLineNumber(),t=this.getEndLineNumber();let n=!1;for(let c=C;c<=s;c++)c>=i&&c<=t&&(this._lines[c-this._rendLineNumberStart].onContentChanged(),n=!0);return n}onLinesInserted(C,o){if(this.getCount()===0)return null;const s=o-C+1,i=this.getStartLineNumber(),t=this.getEndLineNumber();if(C<=i)return this._rendLineNumberStart+=s,null;if(C>t)return null;if(s+C>t)return this._lines.splice(C-this._rendLineNumberStart,t-C+1);const n=[];for(let a=0;a<s;a++)n[a]=this._createLine();const c=C-this._rendLineNumberStart,m=this._lines.slice(0,c),u=this._lines.slice(c,this._lines.length-s),r=this._lines.slice(this._lines.length-s,this._lines.length);return this._lines=m.concat(n).concat(u),r}onTokensChanged(C){if(this.getCount()===0)return!1;const o=this.getStartLineNumber(),s=this.getEndLineNumber();let i=!1;for(let t=0,n=C.length;t<n;t++){const c=C[t];if(c.toLineNumber<o||c.fromLineNumber>s)continue;const m=Math.max(o,c.fromLineNumber),u=Math.min(s,c.toLineNumber);for(let r=m;r<=u;r++){const a=r-this._rendLineNumberStart;this._lines[a].onTokensChanged(),i=!0}}return i}}e.RenderedLinesCollection=y;class p{constructor(C){this._host=C,this.domNode=this._createDomNode(),this._linesCollection=new y(()=>this._host.createVisibleLine())}_createDomNode(){const C=(0,f.createFastDomNode)(document.createElement("div"));return C.setClassName("view-layer"),C.setPosition("absolute"),C.domNode.setAttribute("role","presentation"),C.domNode.setAttribute("aria-hidden","true"),C}onConfigurationChanged(C){return!!C.hasChanged(145)}onFlushed(C){return this._linesCollection.flush(),!0}onLinesChanged(C){return this._linesCollection.onLinesChanged(C.fromLineNumber,C.count)}onLinesDeleted(C){const o=this._linesCollection.onLinesDeleted(C.fromLineNumber,C.toLineNumber);if(o)for(let s=0,i=o.length;s<i;s++){const t=o[s].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onLinesInserted(C){const o=this._linesCollection.onLinesInserted(C.fromLineNumber,C.toLineNumber);if(o)for(let s=0,i=o.length;s<i;s++){const t=o[s].getDomNode();t&&this.domNode.domNode.removeChild(t)}return!0}onScrollChanged(C){return C.scrollTopChanged}onTokensChanged(C){return this._linesCollection.onTokensChanged(C.ranges)}onZonesChanged(C){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(C){return this._linesCollection.getLine(C)}renderLines(C){const o=this._linesCollection._get(),s=new w(this.domNode.domNode,this._host,C),i={rendLineNumberStart:o.rendLineNumberStart,lines:o.lines,linesLength:o.lines.length},t=s.render(i,C.startLineNumber,C.endLineNumber,C.relativeVerticalOffset);this._linesCollection._set(t.rendLineNumberStart,t.lines)}}e.VisibleLinesCollection=p;class w{constructor(C,o,s){this.domNode=C,this.host=o,this.viewportData=s}render(C,o,s,i){const t={rendLineNumberStart:C.rendLineNumberStart,lines:C.lines.slice(0),linesLength:C.linesLength};if(t.rendLineNumberStart+t.linesLength-1<o||s<t.rendLineNumberStart){t.rendLineNumberStart=o,t.linesLength=s-o+1,t.lines=[];for(let n=o;n<=s;n++)t.lines[n-o]=this.host.createVisibleLine();return this._finishRendering(t,!0,i),t}if(this._renderUntouchedLines(t,Math.max(o-t.rendLineNumberStart,0),Math.min(s-t.rendLineNumberStart,t.linesLength-1),i,o),t.rendLineNumberStart>o){const n=o,c=Math.min(s,t.rendLineNumberStart-1);n<=c&&(this._insertLinesBefore(t,n,c,i,o),t.linesLength+=c-n+1)}else if(t.rendLineNumberStart<o){const n=Math.min(t.linesLength,o-t.rendLineNumberStart);n>0&&(this._removeLinesBefore(t,n),t.linesLength-=n)}if(t.rendLineNumberStart=o,t.rendLineNumberStart+t.linesLength-1<s){const n=t.rendLineNumberStart+t.linesLength,c=s;n<=c&&(this._insertLinesAfter(t,n,c,i,o),t.linesLength+=c-n+1)}else if(t.rendLineNumberStart+t.linesLength-1>s){const n=Math.max(0,s-t.rendLineNumberStart+1),m=t.linesLength-1-n+1;m>0&&(this._removeLinesAfter(t,m),t.linesLength-=m)}return this._finishRendering(t,!1,i),t}_renderUntouchedLines(C,o,s,i,t){const n=C.rendLineNumberStart,c=C.lines;for(let m=o;m<=s;m++){const u=n+m;c[m].layoutLine(u,i[u-t],this.viewportData.lineHeight)}}_insertLinesBefore(C,o,s,i,t){const n=[];let c=0;for(let m=o;m<=s;m++)n[c++]=this.host.createVisibleLine();C.lines=n.concat(C.lines)}_removeLinesBefore(C,o){for(let s=0;s<o;s++){const i=C.lines[s].getDomNode();i&&this.domNode.removeChild(i)}C.lines.splice(0,o)}_insertLinesAfter(C,o,s,i,t){const n=[];let c=0;for(let m=o;m<=s;m++)n[c++]=this.host.createVisibleLine();C.lines=C.lines.concat(n)}_removeLinesAfter(C,o){const s=C.linesLength-o;for(let i=0;i<o;i++){const t=C.lines[s+i].getDomNode();t&&this.domNode.removeChild(t)}C.lines.splice(s,o)}_finishRenderingNewLines(C,o,s,i){w._ttPolicy&&(s=w._ttPolicy.createHTML(s));const t=this.domNode.lastChild;o||!t?this.domNode.innerHTML=s:t.insertAdjacentHTML("afterend",s);let n=this.domNode.lastChild;for(let c=C.linesLength-1;c>=0;c--){const m=C.lines[c];i[c]&&(m.setDomNode(n),n=n.previousSibling)}}_finishRenderingInvalidLines(C,o,s){const i=document.createElement("div");w._ttPolicy&&(o=w._ttPolicy.createHTML(o)),i.innerHTML=o;for(let t=0;t<C.linesLength;t++){const n=C.lines[t];if(s[t]){const c=i.firstChild,m=n.getDomNode();m.parentNode.replaceChild(c,m),n.setDomNode(c)}}}_finishRendering(C,o,s){const i=w._sb,t=C.linesLength,n=C.lines,c=C.rendLineNumberStart,m=[];{i.reset();let u=!1;for(let r=0;r<t;r++){const a=n[r];m[r]=!1,!(a.getDomNode()||!a.renderLine(r+c,s[r],this.viewportData.lineHeight,this.viewportData,i))&&(m[r]=!0,u=!0)}u&&this._finishRenderingNewLines(C,o,i.build(),m)}{i.reset();let u=!1;const r=[];for(let a=0;a<t;a++){const h=n[a];r[a]=!1,!(m[a]||!h.renderLine(a+c,s[a],this.viewportData.lineHeight,this.viewportData,i))&&(r[a]=!0,u=!0)}u&&this._finishRenderingInvalidLines(C,i.build(),r)}}}w._ttPolicy=(0,k.createTrustedTypesPolicy)("editorViewLayer",{createHTML:b=>b}),w._sb=new D.StringBuilder(1e5)}),define(ie[646],ne([1,0,40,71,254,56]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginViewOverlays=e.ContentViewOverlays=e.ViewOverlayLine=e.ViewOverlays=void 0;class y extends D.ViewPart{constructor(o){super(o),this._visibleLines=new E.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const i=this._context.configuration.options.get(50);(0,k.applyFontInfo)(this.domNode,i),this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let o=0,s=this._dynamicOverlays.length;o<s;o++)if(this._dynamicOverlays[o].shouldRender())return!0;return!1}dispose(){super.dispose();for(let o=0,s=this._dynamicOverlays.length;o<s;o++)this._dynamicOverlays[o].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new p(this._dynamicOverlays)}addDynamicOverlay(o){this._dynamicOverlays.push(o)}onConfigurationChanged(o){this._visibleLines.onConfigurationChanged(o);const i=this._context.configuration.options.get(50);return(0,k.applyFontInfo)(this.domNode,i),!0}onFlushed(o){return this._visibleLines.onFlushed(o)}onFocusChanged(o){return this._isFocused=o.isFocused,!0}onLinesChanged(o){return this._visibleLines.onLinesChanged(o)}onLinesDeleted(o){return this._visibleLines.onLinesDeleted(o)}onLinesInserted(o){return this._visibleLines.onLinesInserted(o)}onScrollChanged(o){return this._visibleLines.onScrollChanged(o)||!0}onTokensChanged(o){return this._visibleLines.onTokensChanged(o)}onZonesChanged(o){return this._visibleLines.onZonesChanged(o)}prepareRender(o){const s=this._dynamicOverlays.filter(i=>i.shouldRender());for(let i=0,t=s.length;i<t;i++){const n=s[i];n.prepareRender(o),n.onDidRender()}}render(o){this._viewOverlaysRender(o),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(o){this._visibleLines.renderLines(o.viewportData)}}e.ViewOverlays=y;class p{constructor(o){this._dynamicOverlays=o,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(o){this._domNode=(0,f.createFastDomNode)(o)}onContentChanged(){}onTokensChanged(){}renderLine(o,s,i,t,n){let c="";for(let m=0,u=this._dynamicOverlays.length;m<u;m++){const r=this._dynamicOverlays[m];c+=r.render(t.startLineNumber,o)}return this._renderedContent===c?!1:(this._renderedContent=c,n.appendString('<div style="top:'),n.appendString(String(s)),n.appendString("px;height:"),n.appendString(String(i)),n.appendString('px;">'),n.appendString(c),n.appendString("</div>"),!0)}layoutLine(o,s,i){this._domNode&&(this._domNode.setTop(s),this._domNode.setHeight(i))}}e.ViewOverlayLine=p;class w extends y{constructor(o){super(o);const i=this._context.configuration.options.get(145);this._contentWidth=i.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(o){const i=this._context.configuration.options.get(145);return this._contentWidth=i.contentWidth,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollWidthChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o),this.domNode.setWidth(Math.max(o.scrollWidth,this._contentWidth))}}e.ContentViewOverlays=w;class b extends y{constructor(o){super(o);const s=this._context.configuration.options,i=s.get(145);this._contentLeft=i.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,k.applyFontInfo)(this.domNode,s.get(50))}onConfigurationChanged(o){const s=this._context.configuration.options;(0,k.applyFontInfo)(this.domNode,s.get(50));const i=s.get(145);return this._contentLeft=i.contentLeft,super.onConfigurationChanged(o)||!0}onScrollChanged(o){return super.onScrollChanged(o)||o.scrollHeightChanged}_viewOverlaysRender(o){super._viewOverlaysRender(o);const s=Math.min(o.scrollHeight,1e6);this.domNode.setHeight(s),this.domNode.setWidth(this._contentLeft)}}e.MarginViewOverlays=b}),define(ie[350],ne([1,0,156,112]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextChange=void 0,e.compressConsecutiveTextChanges=y;function E(w){return w.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class D{get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}constructor(b,C,o,s){this.oldPosition=b,this.oldText=C,this.newPosition=o,this.newText=s}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${E(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${E(this.oldText)}")`:`(replace@${this.oldPosition} "${E(this.oldText)}" with "${E(this.newText)}")`}static _writeStringSize(b){return 4+2*b.length}static _writeString(b,C,o){const s=C.length;f.writeUInt32BE(b,s,o),o+=4;for(let i=0;i<s;i++)f.writeUInt16LE(b,C.charCodeAt(i),o),o+=2;return o}static _readString(b,C){const o=f.readUInt32BE(b,C);return C+=4,(0,k.decodeUTF16LE)(b,C,o)}writeSize(){return 8+D._writeStringSize(this.oldText)+D._writeStringSize(this.newText)}write(b,C){return f.writeUInt32BE(b,this.oldPosition,C),C+=4,f.writeUInt32BE(b,this.newPosition,C),C+=4,C=D._writeString(b,this.oldText,C),C=D._writeString(b,this.newText,C),C}static read(b,C,o){const s=f.readUInt32BE(b,C);C+=4;const i=f.readUInt32BE(b,C);C+=4;const t=D._readString(b,C);C+=D._writeStringSize(t);const n=D._readString(b,C);return C+=D._writeStringSize(n),o.push(new D(s,t,i,n)),C}}e.TextChange=D;function y(w,b){return w===null||w.length===0?b:new p(w,b).compress()}class p{constructor(b,C){this._prevEdits=b,this._currEdits=C,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let b=0,C=0,o=this._getPrev(b),s=this._getCurr(C);for(;b<this._prevLen||C<this._currLen;){if(o===null){this._acceptCurr(s),s=this._getCurr(++C);continue}if(s===null){this._acceptPrev(o),o=this._getPrev(++b);continue}if(s.oldEnd<=o.newPosition){this._acceptCurr(s),s=this._getCurr(++C);continue}if(o.newEnd<=s.oldPosition){this._acceptPrev(o),o=this._getPrev(++b);continue}if(s.oldPosition<o.newPosition){const[m,u]=p._splitCurr(s,o.newPosition-s.oldPosition);this._acceptCurr(m),s=u;continue}if(o.newPosition<s.oldPosition){const[m,u]=p._splitPrev(o,s.oldPosition-o.newPosition);this._acceptPrev(m),o=u;continue}let n,c;if(s.oldEnd===o.newEnd)n=o,c=s,o=this._getPrev(++b),s=this._getCurr(++C);else if(s.oldEnd<o.newEnd){const[m,u]=p._splitPrev(o,s.oldLength);n=m,c=s,o=u,s=this._getCurr(++C)}else{const[m,u]=p._splitCurr(s,o.newLength);n=o,c=m,o=this._getPrev(++b),s=u}this._result[this._resultLen++]=new D(n.oldPosition,n.oldText,c.newPosition,c.newText),this._prevDeltaOffset+=n.newLength-n.oldLength,this._currDeltaOffset+=c.newLength-c.oldLength}const i=p._merge(this._result);return p._removeNoOps(i)}_acceptCurr(b){this._result[this._resultLen++]=p._rebaseCurr(this._prevDeltaOffset,b),this._currDeltaOffset+=b.newLength-b.oldLength}_getCurr(b){return b<this._currLen?this._currEdits[b]:null}_acceptPrev(b){this._result[this._resultLen++]=p._rebasePrev(this._currDeltaOffset,b),this._prevDeltaOffset+=b.newLength-b.oldLength}_getPrev(b){return b<this._prevLen?this._prevEdits[b]:null}static _rebaseCurr(b,C){return new D(C.oldPosition-b,C.oldText,C.newPosition,C.newText)}static _rebasePrev(b,C){return new D(C.oldPosition,C.oldText,C.newPosition+b,C.newText)}static _splitPrev(b,C){const o=b.newText.substr(0,C),s=b.newText.substr(C);return[new D(b.oldPosition,b.oldText,b.newPosition,o),new D(b.oldEnd,"",b.newPosition+C,s)]}static _splitCurr(b,C){const o=b.oldText.substr(0,C),s=b.oldText.substr(C);return[new D(b.oldPosition,o,b.newPosition,b.newText),new D(b.oldPosition+C,s,b.newEnd,"")]}static _merge(b){if(b.length===0)return b;const C=[];let o=0,s=b[0];for(let i=1;i<b.length;i++){const t=b[i];s.oldEnd===t.oldPosition?s=new D(s.oldPosition,s.oldText+t.oldText,s.newPosition,s.newText+t.newText):(C[o++]=s,s=t)}return C[o++]=s,C}static _removeNoOps(b){if(b.length===0)return b;const C=[];let o=0;for(let s=0;s<b.length;s++){const i=b[s];i.oldText!==i.newText&&(C[o++]=i)}return C}}}),define(ie[351],ne([1,0,337,97]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.score=E;function E(D,y,p,w,b,C){if(Array.isArray(D)){let o=0;for(const s of D){const i=E(s,y,p,w,b,C);if(i===10)return i;i>o&&(o=i)}return o}else{if(typeof D=="string")return w?D==="*"?5:D===p?10:0:0;if(D){const{language:o,pattern:s,scheme:i,hasAccessToAllModels:t,notebookType:n}=D;if(!w&&!t)return 0;n&&b&&(y=b);let c=0;if(i)if(i===y.scheme)c=10;else if(i==="*")c=5;else return 0;if(o)if(o===p)c=10;else if(o==="*")c=Math.max(c,5);else return 0;if(n)if(n===C)c=10;else if(n==="*"&&C!==void 0)c=Math.max(c,5);else return 0;if(s){let m;if(typeof s=="string"?m=s:m={...s,base:(0,k.normalize)(s.base)},m===y.fsPath||(0,f.match)(m,y.fsPath))c=10;else return 0}return c}else return 0}}}),define(ie[647],ne([1,0,7,2,42,351]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureRegistry=void 0;function y(C){return typeof C=="string"?!1:Array.isArray(C)?C.every(y):!!C.exclusive}class p{constructor(o,s,i,t){this.uri=o,this.languageId=s,this.notebookUri=i,this.notebookType=t}equals(o){var s,i;return this.notebookType===o.notebookType&&this.languageId===o.languageId&&this.uri.toString()===o.uri.toString()&&((s=this.notebookUri)===null||s===void 0?void 0:s.toString())===((i=o.notebookUri)===null||i===void 0?void 0:i.toString())}}class w{constructor(o){this._notebookInfoResolver=o,this._clock=0,this._entries=[],this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event}register(o,s){let i={selector:o,provider:s,_score:-1,_time:this._clock++};return this._entries.push(i),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,k.toDisposable)(()=>{if(i){const t=this._entries.indexOf(i);t>=0&&(this._entries.splice(t,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),i=void 0)}})}has(o){return this.all(o).length>0}all(o){if(!o)return[];this._updateScores(o);const s=[];for(const i of this._entries)i._score>0&&s.push(i.provider);return s}ordered(o){const s=[];return this._orderedForEach(o,i=>s.push(i.provider)),s}orderedGroups(o){const s=[];let i,t;return this._orderedForEach(o,n=>{i&&t===n._score?i.push(n.provider):(t=n._score,i=[n.provider],s.push(i))}),s}_orderedForEach(o,s){this._updateScores(o);for(const i of this._entries)i._score>0&&s(i)}_updateScores(o){var s,i;const t=(s=this._notebookInfoResolver)===null||s===void 0?void 0:s.call(this,o.uri),n=t?new p(o.uri,o.getLanguageId(),t.uri,t.type):new p(o.uri,o.getLanguageId(),void 0,void 0);if(!(!((i=this._lastCandidate)===null||i===void 0)&&i.equals(n))){this._lastCandidate=n;for(const c of this._entries)if(c._score=(0,D.score)(c.selector,n.uri,n.languageId,(0,E.shouldSynchronizeModel)(o),n.notebookUri,n.notebookType),y(c.selector)&&c._score>0){for(const m of this._entries)m._score=0;c._score=1e3;break}this._entries.sort(w._compareByScoreAndTime)}}static _compareByScoreAndTime(o,s){return o._score<s._score?1:o._score>s._score?-1:b(o.selector)&&!b(s.selector)?1:!b(o.selector)&&b(s.selector)?-1:o._time<s._time?1:o._time>s._time?-1:0}}e.LanguageFeatureRegistry=w;function b(C){return typeof C=="string"?!1:Array.isArray(C)?C.some(b):!!C.isBuiltin}}),define(ie[255],ne([1,0,12,112,5]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketsUtils=e.RichEditBrackets=e.RichEditBracket=void 0;class D{constructor(a,h,l,g,d,v){this._richEditBracketBrand=void 0,this.languageId=a,this.index=h,this.open=l,this.close=g,this.forwardRegex=d,this.reversedRegex=v,this._openSet=D._toSet(this.open),this._closeSet=D._toSet(this.close)}isOpen(a){return this._openSet.has(a)}isClose(a){return this._closeSet.has(a)}static _toSet(a){const h=new Set;for(const l of a)h.add(l);return h}}e.RichEditBracket=D;function y(r){const a=r.length;r=r.map(v=>[v[0].toLowerCase(),v[1].toLowerCase()]);const h=[];for(let v=0;v<a;v++)h[v]=v;const l=(v,_)=>{const[S,L]=v,[I,T]=_;return S===I||S===T||L===I||L===T},g=(v,_)=>{const S=Math.min(v,_),L=Math.max(v,_);for(let I=0;I<a;I++)h[I]===L&&(h[I]=S)};for(let v=0;v<a;v++){const _=r[v];for(let S=v+1;S<a;S++){const L=r[S];l(_,L)&&g(h[v],h[S])}}const d=[];for(let v=0;v<a;v++){const _=[],S=[];for(let L=0;L<a;L++)if(h[L]===v){const[I,T]=r[L];_.push(I),S.push(T)}_.length>0&&d.push({open:_,close:S})}return d}class p{constructor(a,h){this._richEditBracketsBrand=void 0;const l=y(h);this.brackets=l.map((g,d)=>new D(a,d,g.open,g.close,o(g.open,g.close,l,d),s(g.open,g.close,l,d))),this.forwardRegex=i(this.brackets),this.reversedRegex=t(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const g of this.brackets){for(const d of g.open)this.textIsBracket[d]=g,this.textIsOpenBracket[d]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,d.length);for(const d of g.close)this.textIsBracket[d]=g,this.textIsOpenBracket[d]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,d.length)}}}e.RichEditBrackets=p;function w(r,a,h,l){for(let g=0,d=a.length;g<d;g++){if(g===h)continue;const v=a[g];for(const _ of v.open)_.indexOf(r)>=0&&l.push(_);for(const _ of v.close)_.indexOf(r)>=0&&l.push(_)}}function b(r,a){return r.length-a.length}function C(r){if(r.length<=1)return r;const a=[],h=new Set;for(const l of r)h.has(l)||(a.push(l),h.add(l));return a}function o(r,a,h,l){let g=[];g=g.concat(r),g=g.concat(a);for(let d=0,v=g.length;d<v;d++)w(g[d],h,l,g);return g=C(g),g.sort(b),g.reverse(),c(g)}function s(r,a,h,l){let g=[];g=g.concat(r),g=g.concat(a);for(let d=0,v=g.length;d<v;d++)w(g[d],h,l,g);return g=C(g),g.sort(b),g.reverse(),c(g.map(m))}function i(r){let a=[];for(const h of r){for(const l of h.open)a.push(l);for(const l of h.close)a.push(l)}return a=C(a),c(a)}function t(r){let a=[];for(const h of r){for(const l of h.open)a.push(l);for(const l of h.close)a.push(l)}return a=C(a),c(a.map(m))}function n(r){const a=/^[\w ]+$/.test(r);return r=f.escapeRegExpCharacters(r),a?`\\b${r}\\b`:r}function c(r){const a=`(${r.map(n).join(")|(")})`;return f.createRegExp(a,!0)}const m=function(){function r(l){const g=new Uint16Array(l.length);let d=0;for(let v=l.length-1;v>=0;v--)g[d++]=l.charCodeAt(v);return k.getPlatformTextDecoder().decode(g)}let a=null,h=null;return function(g){return a!==g&&(a=g,h=r(a)),h}}();class u{static _findPrevBracketInText(a,h,l,g){const d=l.match(a);if(!d)return null;const v=l.length-(d.index||0),_=d[0].length,S=g+v;return new E.Range(h,S-_+1,h,S+1)}static findPrevBracketInRange(a,h,l,g,d){const _=m(l).substring(l.length-d,l.length-g);return this._findPrevBracketInText(a,h,_,g)}static findNextBracketInText(a,h,l,g){const d=l.match(a);if(!d)return null;const v=d.index||0,_=d[0].length;if(_===0)return null;const S=g+v;return new E.Range(h,S+1,h,S+1+_)}static findNextBracketInRange(a,h,l,g,d){const v=l.substring(g,d);return this.findNextBracketInText(a,h,v,g)}}e.BracketsUtils=u}),define(ie[648],ne([1,0,13,144,255]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketElectricCharacterSupport=void 0;class D{constructor(p){this._richEditBrackets=p}getElectricCharacters(){const p=[];if(this._richEditBrackets)for(const w of this._richEditBrackets.brackets)for(const b of w.close){const C=b.charAt(b.length-1);p.push(C)}return(0,f.distinct)(p)}onElectricCharacter(p,w,b){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const C=w.findTokenIndexAtOffset(b-1);if((0,k.ignoreBracketsInToken)(w.getStandardTokenType(C)))return null;const o=this._richEditBrackets.reversedRegex,s=w.getLineContent().substring(0,b-1)+p,i=E.BracketsUtils.findPrevBracketInRange(o,1,s,0,s.length);if(!i)return null;const t=s.substring(i.startColumn-1,i.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[t])return null;const c=w.getActualLineContentBefore(i.startColumn-1);return/^\s*$/.test(c)?{matchOpenBracket:t}:null}}e.BracketElectricCharacterSupport=D}),define(ie[649],ne([1,0,13,7,2,5,144,255,563]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketPairsTextModelPart=void 0;class b extends E.Disposable{get canBuildAST(){return this.textModel.getValueLength()<=5e6}constructor(n,c){super(),this.textModel=n,this.languageConfigurationService=c,this.bracketPairsTree=this._register(new E.MutableDisposable),this.onDidChangeEmitter=new k.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(m=>{var u;(!m.languageId||!((u=this.bracketPairsTree.value)===null||u===void 0)&&u.object.didLanguageChange(m.languageId))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}handleDidChangeOptions(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(n){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(n){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleContentChanged(n)}handleDidChangeBackgroundTokenizationState(){var n;(n=this.bracketPairsTree.value)===null||n===void 0||n.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(n){var c;(c=this.bracketPairsTree.value)===null||c===void 0||c.object.handleDidChangeTokens(n)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const n=new E.DisposableStore;this.bracketPairsTree.value=C(n.add(new w.BracketPairsTree(this.textModel,c=>this.languageConfigurationService.getLanguageConfiguration(c))),n),n.add(this.bracketPairsTree.value.object.onDidChange(c=>this.onDidChangeEmitter.fire(c))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(n){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(n,!1))||f.CallbackIterable.empty}getBracketPairsInRangeWithMinIndentation(n){var c;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getBracketPairsInRange(n,!0))||f.CallbackIterable.empty}getBracketsInRange(n,c=!1){var m;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((m=this.bracketPairsTree.value)===null||m===void 0?void 0:m.object.getBracketsInRange(n,c))||f.CallbackIterable.empty}findMatchingBracketUp(n,c,m){const u=this.textModel.validatePosition(c),r=this.textModel.getLanguageIdAtPosition(u.lineNumber,u.column);if(this.canBuildAST){const a=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew.getClosingBracketInfo(n);if(!a)return null;const h=this.getBracketPairsInRange(D.Range.fromPositions(c,c)).findLast(l=>a.closes(l.openingBracketInfo));return h?h.openingBracketRange:null}else{const a=n.toLowerCase(),h=this.languageConfigurationService.getLanguageConfiguration(r).brackets;if(!h)return null;const l=h.textIsBracket[a];return l?i(this._findMatchingBracketUp(l,u,o(m))):null}}matchBracket(n,c){if(this.canBuildAST){const m=this.getBracketPairsInRange(D.Range.fromPositions(n,n)).filter(u=>u.closingBracketRange!==void 0&&(u.openingBracketRange.containsPosition(n)||u.closingBracketRange.containsPosition(n))).findLastMaxBy((0,f.compareBy)(u=>u.openingBracketRange.containsPosition(n)?u.openingBracketRange:u.closingBracketRange,D.Range.compareRangesUsingStarts));return m?[m.openingBracketRange,m.closingBracketRange]:null}else{const m=o(c);return this._matchBracket(this.textModel.validatePosition(n),m)}}_establishBracketSearchOffsets(n,c,m,u){const r=c.getCount(),a=c.getLanguageId(u);let h=Math.max(0,n.column-1-m.maxBracketLength);for(let g=u-1;g>=0;g--){const d=c.getEndOffset(g);if(d<=h)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(g))||c.getLanguageId(g)!==a){h=d;break}}let l=Math.min(c.getLineContent().length,n.column-1+m.maxBracketLength);for(let g=u+1;g<r;g++){const d=c.getStartOffset(g);if(d>=l)break;if((0,y.ignoreBracketsInToken)(c.getStandardTokenType(g))||c.getLanguageId(g)!==a){l=d;break}}return{searchStartOffset:h,searchEndOffset:l}}_matchBracket(n,c){const m=n.lineNumber,u=this.textModel.tokenization.getLineTokens(m),r=this.textModel.getLineContent(m),a=u.findTokenIndexAtOffset(n.column-1);if(a<0)return null;const h=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(a)).brackets;if(h&&!(0,y.ignoreBracketsInToken)(u.getStandardTokenType(a))){let{searchStartOffset:l,searchEndOffset:g}=this._establishBracketSearchOffsets(n,u,h,a),d=null;for(;;){const v=p.BracketsUtils.findNextBracketInRange(h.forwardRegex,m,r,l,g);if(!v)break;if(v.startColumn<=n.column&&n.column<=v.endColumn){const _=r.substring(v.startColumn-1,v.endColumn-1).toLowerCase(),S=this._matchFoundBracket(v,h.textIsBracket[_],h.textIsOpenBracket[_],c);if(S){if(S instanceof s)return null;d=S}}l=v.endColumn-1}if(d)return d}if(a>0&&u.getStartOffset(a)===n.column-1){const l=a-1,g=this.languageConfigurationService.getLanguageConfiguration(u.getLanguageId(l)).brackets;if(g&&!(0,y.ignoreBracketsInToken)(u.getStandardTokenType(l))){const{searchStartOffset:d,searchEndOffset:v}=this._establishBracketSearchOffsets(n,u,g,l),_=p.BracketsUtils.findPrevBracketInRange(g.reversedRegex,m,r,d,v);if(_&&_.startColumn<=n.column&&n.column<=_.endColumn){const S=r.substring(_.startColumn-1,_.endColumn-1).toLowerCase(),L=this._matchFoundBracket(_,g.textIsBracket[S],g.textIsOpenBracket[S],c);if(L)return L instanceof s?null:L}}}return null}_matchFoundBracket(n,c,m,u){if(!c)return null;const r=m?this._findMatchingBracketDown(c,n.getEndPosition(),u):this._findMatchingBracketUp(c,n.getStartPosition(),u);return r?r instanceof s?r:[n,r]:null}_findMatchingBracketUp(n,c,m){const u=n.languageId,r=n.reversedRegex;let a=-1,h=0;const l=(g,d,v,_)=>{for(;;){if(m&&++h%100===0&&!m())return s.INSTANCE;const S=p.BracketsUtils.findPrevBracketInRange(r,g,d,v,_);if(!S)break;const L=d.substring(S.startColumn-1,S.endColumn-1).toLowerCase();if(n.isOpen(L)?a++:n.isClose(L)&&a--,a===0)return S;_=S.startColumn-1}return null};for(let g=c.lineNumber;g>=1;g--){const d=this.textModel.tokenization.getLineTokens(g),v=d.getCount(),_=this.textModel.getLineContent(g);let S=v-1,L=_.length,I=_.length;g===c.lineNumber&&(S=d.findTokenIndexAtOffset(c.column-1),L=c.column-1,I=c.column-1);let T=!0;for(;S>=0;S--){const N=d.getLanguageId(S)===u&&!(0,y.ignoreBracketsInToken)(d.getStandardTokenType(S));if(N)T?L=d.getStartOffset(S):(L=d.getStartOffset(S),I=d.getEndOffset(S));else if(T&&L!==I){const A=l(g,_,L,I);if(A)return A}T=N}if(T&&L!==I){const N=l(g,_,L,I);if(N)return N}}return null}_findMatchingBracketDown(n,c,m){const u=n.languageId,r=n.forwardRegex;let a=1,h=0;const l=(d,v,_,S)=>{for(;;){if(m&&++h%100===0&&!m())return s.INSTANCE;const L=p.BracketsUtils.findNextBracketInRange(r,d,v,_,S);if(!L)break;const I=v.substring(L.startColumn-1,L.endColumn-1).toLowerCase();if(n.isOpen(I)?a++:n.isClose(I)&&a--,a===0)return L;_=L.endColumn-1}return null},g=this.textModel.getLineCount();for(let d=c.lineNumber;d<=g;d++){const v=this.textModel.tokenization.getLineTokens(d),_=v.getCount(),S=this.textModel.getLineContent(d);let L=0,I=0,T=0;d===c.lineNumber&&(L=v.findTokenIndexAtOffset(c.column-1),I=c.column-1,T=c.column-1);let N=!0;for(;L<_;L++){const A=v.getLanguageId(L)===u&&!(0,y.ignoreBracketsInToken)(v.getStandardTokenType(L));if(A)N||(I=v.getStartOffset(L)),T=v.getEndOffset(L);else if(N&&I!==T){const O=l(d,S,I,T);if(O)return O}N=A}if(N&&I!==T){const A=l(d,S,I,T);if(A)return A}}return null}findPrevBracket(n){var c;const m=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketBefore(m))||null;let u=null,r=null,a=null;for(let h=m.lineNumber;h>=1;h--){const l=this.textModel.tokenization.getLineTokens(h),g=l.getCount(),d=this.textModel.getLineContent(h);let v=g-1,_=d.length,S=d.length;if(h===m.lineNumber){v=l.findTokenIndexAtOffset(m.column-1),_=m.column-1,S=m.column-1;const I=l.getLanguageId(v);u!==I&&(u=I,r=this.languageConfigurationService.getLanguageConfiguration(u).brackets,a=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew)}let L=!0;for(;v>=0;v--){const I=l.getLanguageId(v);if(u!==I){if(r&&a&&L&&_!==S){const N=p.BracketsUtils.findPrevBracketInRange(r.reversedRegex,h,d,_,S);if(N)return this._toFoundBracket(a,N);L=!1}u=I,r=this.languageConfigurationService.getLanguageConfiguration(u).brackets,a=this.languageConfigurationService.getLanguageConfiguration(u).bracketsNew}const T=!!r&&!(0,y.ignoreBracketsInToken)(l.getStandardTokenType(v));if(T)L?_=l.getStartOffset(v):(_=l.getStartOffset(v),S=l.getEndOffset(v));else if(a&&r&&L&&_!==S){const N=p.BracketsUtils.findPrevBracketInRange(r.reversedRegex,h,d,_,S);if(N)return this._toFoundBracket(a,N)}L=T}if(a&&r&&L&&_!==S){const I=p.BracketsUtils.findPrevBracketInRange(r.reversedRegex,h,d,_,S);if(I)return this._toFoundBracket(a,I)}}return null}findNextBracket(n){var c;const m=this.textModel.validatePosition(n);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((c=this.bracketPairsTree.value)===null||c===void 0?void 0:c.object.getFirstBracketAfter(m))||null;const u=this.textModel.getLineCount();let r=null,a=null,h=null;for(let l=m.lineNumber;l<=u;l++){const g=this.textModel.tokenization.getLineTokens(l),d=g.getCount(),v=this.textModel.getLineContent(l);let _=0,S=0,L=0;if(l===m.lineNumber){_=g.findTokenIndexAtOffset(m.column-1),S=m.column-1,L=m.column-1;const T=g.getLanguageId(_);r!==T&&(r=T,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,h=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew)}let I=!0;for(;_<d;_++){const T=g.getLanguageId(_);if(r!==T){if(h&&a&&I&&S!==L){const A=p.BracketsUtils.findNextBracketInRange(a.forwardRegex,l,v,S,L);if(A)return this._toFoundBracket(h,A);I=!1}r=T,a=this.languageConfigurationService.getLanguageConfiguration(r).brackets,h=this.languageConfigurationService.getLanguageConfiguration(r).bracketsNew}const N=!!a&&!(0,y.ignoreBracketsInToken)(g.getStandardTokenType(_));if(N)I||(S=g.getStartOffset(_)),L=g.getEndOffset(_);else if(h&&a&&I&&S!==L){const A=p.BracketsUtils.findNextBracketInRange(a.forwardRegex,l,v,S,L);if(A)return this._toFoundBracket(h,A)}I=N}if(h&&a&&I&&S!==L){const T=p.BracketsUtils.findNextBracketInRange(a.forwardRegex,l,v,S,L);if(T)return this._toFoundBracket(h,T)}}return null}findEnclosingBrackets(n,c){const m=this.textModel.validatePosition(n);if(this.canBuildAST){const S=D.Range.fromPositions(m),L=this.getBracketPairsInRange(D.Range.fromPositions(m,m)).findLast(I=>I.closingBracketRange!==void 0&&I.range.strictContainsRange(S));return L?[L.openingBracketRange,L.closingBracketRange]:null}const u=o(c),r=this.textModel.getLineCount(),a=new Map;let h=[];const l=(S,L)=>{if(!a.has(S)){const I=[];for(let T=0,N=L?L.brackets.length:0;T<N;T++)I[T]=0;a.set(S,I)}h=a.get(S)};let g=0;const d=(S,L,I,T,N)=>{for(;;){if(u&&++g%100===0&&!u())return s.INSTANCE;const A=p.BracketsUtils.findNextBracketInRange(S.forwardRegex,L,I,T,N);if(!A)break;const O=I.substring(A.startColumn-1,A.endColumn-1).toLowerCase(),M=S.textIsBracket[O];if(M&&(M.isOpen(O)?h[M.index]++:M.isClose(O)&&h[M.index]--,h[M.index]===-1))return this._matchFoundBracket(A,M,!1,u);T=A.endColumn-1}return null};let v=null,_=null;for(let S=m.lineNumber;S<=r;S++){const L=this.textModel.tokenization.getLineTokens(S),I=L.getCount(),T=this.textModel.getLineContent(S);let N=0,A=0,O=0;if(S===m.lineNumber){N=L.findTokenIndexAtOffset(m.column-1),A=m.column-1,O=m.column-1;const R=L.getLanguageId(N);v!==R&&(v=R,_=this.languageConfigurationService.getLanguageConfiguration(v).brackets,l(v,_))}let M=!0;for(;N<I;N++){const R=L.getLanguageId(N);if(v!==R){if(_&&M&&A!==O){const F=d(_,S,T,A,O);if(F)return i(F);M=!1}v=R,_=this.languageConfigurationService.getLanguageConfiguration(v).brackets,l(v,_)}const x=!!_&&!(0,y.ignoreBracketsInToken)(L.getStandardTokenType(N));if(x)M||(A=L.getStartOffset(N)),O=L.getEndOffset(N);else if(_&&M&&A!==O){const F=d(_,S,T,A,O);if(F)return i(F)}M=x}if(_&&M&&A!==O){const R=d(_,S,T,A,O);if(R)return i(R)}}return null}_toFoundBracket(n,c){if(!c)return null;let m=this.textModel.getValueInRange(c);m=m.toLowerCase();const u=n.getBracketInfo(m);return u?{range:c,bracketInfo:u}:null}}e.BracketPairsTextModelPart=b;function C(t,n){return{object:t,dispose:()=>n?.dispose()}}function o(t){if(typeof t>"u")return()=>!0;{const n=Date.now();return()=>Date.now()-n<=t}}class s{constructor(){this._searchCanceledBrand=void 0}}s.INSTANCE=new s;function i(t){return t instanceof s?null:t}}),define(ie[352],ne([1,0,7,12,5,42,315,140,350,2]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBuffer=void 0;class C extends b.Disposable{constructor(s,i,t,n,c,m,u){super(),this._onDidChangeContent=this._register(new f.Emitter),this._BOM=i,this._mightContainNonBasicASCII=!m,this._mightContainRTL=n,this._mightContainUnusualLineTerminators=c,this._pieceTree=new y.PieceTreeBase(s,t,u)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(s){return this._pieceTree.createSnapshot(s?this._BOM:"")}getOffsetAt(s,i){return this._pieceTree.getOffsetAt(s,i)}getPositionAt(s){return this._pieceTree.getPositionAt(s)}getRangeAt(s,i){const t=s+i,n=this.getPositionAt(s),c=this.getPositionAt(t);return new E.Range(n.lineNumber,n.column,c.lineNumber,c.column)}getValueInRange(s,i=0){if(s.isEmpty())return"";const t=this._getEndOfLine(i);return this._pieceTree.getValueInRange(s,t)}getValueLengthInRange(s,i=0){if(s.isEmpty())return 0;if(s.startLineNumber===s.endLineNumber)return s.endColumn-s.startColumn;const t=this.getOffsetAt(s.startLineNumber,s.startColumn),n=this.getOffsetAt(s.endLineNumber,s.endColumn);let c=0;const m=this._getEndOfLine(i),u=this.getEOL();if(m.length!==u.length){const r=m.length-u.length,a=s.endLineNumber-s.startLineNumber;c=r*a}return n-t+c}getCharacterCountInRange(s,i=0){if(this._mightContainNonBasicASCII){let t=0;const n=s.startLineNumber,c=s.endLineNumber;for(let m=n;m<=c;m++){const u=this.getLineContent(m),r=m===n?s.startColumn-1:0,a=m===c?s.endColumn-1:u.length;for(let h=r;h<a;h++)k.isHighSurrogate(u.charCodeAt(h))?(t=t+1,h=h+1):t=t+1}return t+=this._getEndOfLine(i).length*(c-n),t}return this.getValueLengthInRange(s,i)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(s){return this._pieceTree.getLineContent(s)}getLineCharCode(s,i){return this._pieceTree.getLineCharCode(s,i)}getLineLength(s){return this._pieceTree.getLineLength(s)}getLineFirstNonWhitespaceColumn(s){const i=k.firstNonWhitespaceIndex(this.getLineContent(s));return i===-1?0:i+1}getLineLastNonWhitespaceColumn(s){const i=k.lastNonWhitespaceIndex(this.getLineContent(s));return i===-1?0:i+2}_getEndOfLine(s){switch(s){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(s){this._pieceTree.setEOL(s)}applyEdits(s,i,t){let n=this._mightContainRTL,c=this._mightContainUnusualLineTerminators,m=this._mightContainNonBasicASCII,u=!0,r=[];for(let _=0;_<s.length;_++){const S=s[_];u&&S._isTracked&&(u=!1);const L=S.range;if(S.text){let O=!0;m||(O=!k.isBasicASCII(S.text),m=O),!n&&O&&(n=k.containsRTL(S.text)),!c&&O&&(c=k.containsUnusualLineTerminators(S.text))}let I="",T=0,N=0,A=0;if(S.text){let O;[T,N,A,O]=(0,p.countEOL)(S.text);const M=this.getEOL();O===0||O===(M===`\r
`?2:1)?I=S.text:I=S.text.replace(/\r\n|\r|\n/g,M)}r[_]={sortIndex:_,identifier:S.identifier||null,range:L,rangeOffset:this.getOffsetAt(L.startLineNumber,L.startColumn),rangeLength:this.getValueLengthInRange(L),text:I,eolCount:T,firstLineLength:N,lastLineLength:A,forceMoveMarkers:!!S.forceMoveMarkers,isAutoWhitespaceEdit:S.isAutoWhitespaceEdit||!1}}r.sort(C._sortOpsAscending);let a=!1;for(let _=0,S=r.length-1;_<S;_++){const L=r[_].range.getEndPosition(),I=r[_+1].range.getStartPosition();if(I.isBeforeOrEqual(L)){if(I.isBefore(L))throw new Error("Overlapping ranges are not allowed!");a=!0}}u&&(r=this._reduceOperations(r));const h=t||i?C._getInverseEditRanges(r):[],l=[];if(i)for(let _=0;_<r.length;_++){const S=r[_],L=h[_];if(S.isAutoWhitespaceEdit&&S.range.isEmpty())for(let I=L.startLineNumber;I<=L.endLineNumber;I++){let T="";I===L.startLineNumber&&(T=this.getLineContent(S.range.startLineNumber),k.firstNonWhitespaceIndex(T)!==-1)||l.push({lineNumber:I,oldContent:T})}}let g=null;if(t){let _=0;g=[];for(let S=0;S<r.length;S++){const L=r[S],I=h[S],T=this.getValueInRange(L.range),N=L.rangeOffset+_;_+=L.text.length-T.length,g[S]={sortIndex:L.sortIndex,identifier:L.identifier,range:I,text:T,textChange:new w.TextChange(L.rangeOffset,T,N,L.text)}}a||g.sort((S,L)=>S.sortIndex-L.sortIndex)}this._mightContainRTL=n,this._mightContainUnusualLineTerminators=c,this._mightContainNonBasicASCII=m;const d=this._doApplyEdits(r);let v=null;if(i&&l.length>0){l.sort((_,S)=>S.lineNumber-_.lineNumber),v=[];for(let _=0,S=l.length;_<S;_++){const L=l[_].lineNumber;if(_>0&&l[_-1].lineNumber===L)continue;const I=l[_].oldContent,T=this.getLineContent(L);T.length===0||T===I||k.firstNonWhitespaceIndex(T)!==-1||v.push(L)}}return this._onDidChangeContent.fire(),new D.ApplyEditsResult(g,d,v)}_reduceOperations(s){return s.length<1e3?s:[this._toSingleEditOperation(s)]}_toSingleEditOperation(s){let i=!1;const t=s[0].range,n=s[s.length-1].range,c=new E.Range(t.startLineNumber,t.startColumn,n.endLineNumber,n.endColumn);let m=t.startLineNumber,u=t.startColumn;const r=[];for(let d=0,v=s.length;d<v;d++){const _=s[d],S=_.range;i=i||_.forceMoveMarkers,r.push(this.getValueInRange(new E.Range(m,u,S.startLineNumber,S.startColumn))),_.text.length>0&&r.push(_.text),m=S.endLineNumber,u=S.endColumn}const a=r.join(""),[h,l,g]=(0,p.countEOL)(a);return{sortIndex:0,identifier:s[0].identifier,range:c,rangeOffset:this.getOffsetAt(c.startLineNumber,c.startColumn),rangeLength:this.getValueLengthInRange(c,0),text:a,eolCount:h,firstLineLength:l,lastLineLength:g,forceMoveMarkers:i,isAutoWhitespaceEdit:!1}}_doApplyEdits(s){s.sort(C._sortOpsDescending);const i=[];for(let t=0;t<s.length;t++){const n=s[t],c=n.range.startLineNumber,m=n.range.startColumn,u=n.range.endLineNumber,r=n.range.endColumn;if(c===u&&m===r&&n.text.length===0)continue;n.text?(this._pieceTree.delete(n.rangeOffset,n.rangeLength),this._pieceTree.insert(n.rangeOffset,n.text,!0)):this._pieceTree.delete(n.rangeOffset,n.rangeLength);const a=new E.Range(c,m,u,r);i.push({range:a,rangeLength:n.rangeLength,text:n.text,rangeOffset:n.rangeOffset,forceMoveMarkers:n.forceMoveMarkers})}return i}findMatchesLineByLine(s,i,t,n){return this._pieceTree.findMatchesLineByLine(s,i,t,n)}static _getInverseEditRanges(s){const i=[];let t=0,n=0,c=null;for(let m=0,u=s.length;m<u;m++){const r=s[m];let a,h;c?c.range.endLineNumber===r.range.startLineNumber?(a=t,h=n+(r.range.startColumn-c.range.endColumn)):(a=t+(r.range.startLineNumber-c.range.endLineNumber),h=r.range.startColumn):(a=r.range.startLineNumber,h=r.range.startColumn);let l;if(r.text.length>0){const g=r.eolCount+1;g===1?l=new E.Range(a,h,a,h+r.firstLineLength):l=new E.Range(a,h,a+g-1,r.lastLineLength+1)}else l=new E.Range(a,h,a,h);t=l.endLineNumber,n=l.endColumn,i.push(l),c=r}return i}static _sortOpsAscending(s,i){const t=E.Range.compareRangesUsingEnds(s.range,i.range);return t===0?s.sortIndex-i.sortIndex:t}static _sortOpsDescending(s,i){const t=E.Range.compareRangesUsingEnds(s.range,i.range);return t===0?i.sortIndex-s.sortIndex:-t}}e.PieceTreeTextBuffer=C}),define(ie[650],ne([1,0,12,315,352]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PieceTreeTextBufferBuilder=void 0;class D{constructor(w,b,C,o,s,i,t,n,c){this._chunks=w,this._bom=b,this._cr=C,this._lf=o,this._crlf=s,this._containsRTL=i,this._containsUnusualLineTerminators=t,this._isBasicASCII=n,this._normalizeEOL=c}_getEOL(w){const b=this._cr+this._lf+this._crlf,C=this._cr+this._crlf;return b===0?w===1?`
`:`\r
`:C>b/2?`\r
`:`
`}create(w){const b=this._getEOL(w),C=this._chunks;if(this._normalizeEOL&&(b===`\r
`&&(this._cr>0||this._lf>0)||b===`
`&&(this._cr>0||this._crlf>0)))for(let s=0,i=C.length;s<i;s++){const t=C[s].buffer.replace(/\r\n|\r|\n/g,b),n=(0,k.createLineStartsFast)(t);C[s]=new k.StringBuffer(t,n)}const o=new E.PieceTreeTextBuffer(C,this._bom,b,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:o,disposable:o}}}class y{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(w){if(w.length===0)return;this.chunks.length===0&&f.startsWithUTF8BOM(w)&&(this.BOM=f.UTF8_BOM_CHARACTER,w=w.substr(1));const b=w.charCodeAt(w.length-1);b===13||b>=55296&&b<=56319?(this._acceptChunk1(w.substr(0,w.length-1),!1),this._hasPreviousChar=!0,this._previousChar=b):(this._acceptChunk1(w,!1),this._hasPreviousChar=!1,this._previousChar=b)}_acceptChunk1(w,b){!b&&w.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+w):this._acceptChunk2(w))}_acceptChunk2(w){const b=(0,k.createLineStarts)(this._tmpLineStarts,w);this.chunks.push(new k.StringBuffer(w,b.lineStarts)),this.cr+=b.cr,this.lf+=b.lf,this.crlf+=b.crlf,b.isBasicASCII||(this.isBasicASCII=!1,this.containsRTL||(this.containsRTL=f.containsRTL(w)),this.containsUnusualLineTerminators||(this.containsUnusualLineTerminators=f.containsUnusualLineTerminators(w)))}finish(w=!0){return this._finish(),new D(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,w)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const w=this.chunks[this.chunks.length-1];w.buffer+=String.fromCharCode(this._previousChar);const b=(0,k.createLineStartsFast)(w.buffer);w.lineStarts=b,this._previousChar===13&&this.cr++}}}e.PieceTreeTextBufferBuilder=y}),define(ie[651],ne([1,0,156,17]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.encodeSemanticTokensDto=y;function E(w){for(let b=0,C=w.length;b<C;b+=4){const o=w[b+0],s=w[b+1],i=w[b+2],t=w[b+3];w[b+0]=t,w[b+1]=i,w[b+2]=s,w[b+3]=o}}function D(w){const b=new Uint8Array(w.buffer,w.byteOffset,w.length*4);return k.isLittleEndian()||E(b),f.VSBuffer.wrap(b)}function y(w){const b=new Uint32Array(p(w));let C=0;if(b[C++]=w.id,w.type==="full")b[C++]=1,b[C++]=w.data.length,b.set(w.data,C),C+=w.data.length;else{b[C++]=2,b[C++]=w.deltas.length;for(const o of w.deltas)b[C++]=o.start,b[C++]=o.deleteCount,o.data?(b[C++]=o.data.length,b.set(o.data,C),C+=o.data.length):b[C++]=0}return D(b)}function p(w){let b=0;if(b+=2,w.type==="full")b+=1+w.data.length;else{b+=1,b+=3*w.deltas.length;for(const C of w.deltas)C.data&&(b+=C.data.length)}return b}}),define(ie[202],ne([1,0,7,2,17]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ClickLinkGesture=e.ClickLinkOptions=e.ClickLinkKeyboardEvent=e.ClickLinkMouseEvent=void 0;function D(o,s){return!!o[s]}class y{constructor(s,i){this.target=s.target,this.isLeftClick=s.event.leftButton,this.isMiddleClick=s.event.middleButton,this.isRightClick=s.event.rightButton,this.hasTriggerModifier=D(s.event,i.triggerModifier),this.hasSideBySideModifier=D(s.event,i.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=s.event.detail<=1}}e.ClickLinkMouseEvent=y;class p{constructor(s,i){this.keyCodeIsTriggerKey=s.keyCode===i.triggerKey,this.keyCodeIsSideBySideKey=s.keyCode===i.triggerSideBySideKey,this.hasTriggerModifier=D(s,i.triggerModifier)}}e.ClickLinkKeyboardEvent=p;class w{constructor(s,i,t,n){this.triggerKey=s,this.triggerModifier=i,this.triggerSideBySideKey=t,this.triggerSideBySideModifier=n}equals(s){return this.triggerKey===s.triggerKey&&this.triggerModifier===s.triggerModifier&&this.triggerSideBySideKey===s.triggerSideBySideKey&&this.triggerSideBySideModifier===s.triggerSideBySideModifier}}e.ClickLinkOptions=w;function b(o){return o==="altKey"?E.isMacintosh?new w(57,"metaKey",6,"altKey"):new w(5,"ctrlKey",6,"altKey"):E.isMacintosh?new w(6,"altKey",57,"metaKey"):new w(6,"altKey",5,"ctrlKey")}class C extends k.Disposable{constructor(s,i){var t;super(),this._onMouseMoveOrRelevantKeyDown=this._register(new f.Emitter),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new f.Emitter),this.onExecute=this._onExecute.event,this._onCancel=this._register(new f.Emitter),this.onCancel=this._onCancel.event,this._editor=s,this._extractLineNumberFromMouseEvent=(t=i?.extractLineNumberFromMouseEvent)!==null&&t!==void 0?t:n=>n.target.position?n.target.position.lineNumber:0,this._opts=b(this._editor.getOption(78)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(n=>{if(n.hasChanged(78)){const c=b(this._editor.getOption(78));if(this._opts.equals(c))return;this._opts=c,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(n=>this._onEditorMouseMove(new y(n,this._opts)))),this._register(this._editor.onMouseDown(n=>this._onEditorMouseDown(new y(n,this._opts)))),this._register(this._editor.onMouseUp(n=>this._onEditorMouseUp(new y(n,this._opts)))),this._register(this._editor.onKeyDown(n=>this._onEditorKeyDown(new p(n,this._opts)))),this._register(this._editor.onKeyUp(n=>this._onEditorKeyUp(new p(n,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(n=>this._onDidChangeCursorSelection(n))),this._register(this._editor.onDidChangeModel(n=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(n=>{(n.scrollTopChanged||n.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(s){s.selection&&s.selection.startColumn!==s.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(s){this._lastMouseMoveEvent=s,this._onMouseMoveOrRelevantKeyDown.fire([s,null])}_onEditorMouseDown(s){this._hasTriggerKeyOnMouseDown=s.hasTriggerModifier,this._lineNumberOnMouseDown=this._extractLineNumberFromMouseEvent(s)}_onEditorMouseUp(s){const i=this._extractLineNumberFromMouseEvent(s);this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===i&&this._onExecute.fire(s)}_onEditorKeyDown(s){this._lastMouseMoveEvent&&(s.keyCodeIsTriggerKey||s.keyCodeIsSideBySideKey&&s.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,s]):s.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(s){s.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}e.ClickLinkGesture=C}),define(ie[652],ne([1,0,13,15]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverComputer=void 0;class E{get anchor(){return this._anchor}set anchor(y){this._anchor=y}get shouldFocus(){return this._shouldFocus}set shouldFocus(y){this._shouldFocus=y}get source(){return this._source}set source(y){this._source=y}get insistOnKeepingHoverVisible(){return this._insistOnKeepingHoverVisible}set insistOnKeepingHoverVisible(y){this._insistOnKeepingHoverVisible=y}constructor(y,p){this._editor=y,this._participants=p,this._anchor=null,this._shouldFocus=!1,this._source=0,this._insistOnKeepingHoverVisible=!1}static _getLineDecorations(y,p){if(p.type!==1&&!p.supportsMarkerHover)return[];const w=y.getModel(),b=p.range.startLineNumber;if(b>w.getLineCount())return[];const C=w.getLineMaxColumn(b);return y.getLineDecorations(b).filter(o=>{if(o.options.isWholeLine)return!0;const s=o.range.startLineNumber===b?o.range.startColumn:1,i=o.range.endLineNumber===b?o.range.endColumn:C;if(o.options.showIfCollapsed){if(s>p.range.startColumn+1||p.range.endColumn-1>i)return!1}else if(s>p.range.startColumn||p.range.endColumn>i)return!1;return!0})}computeAsync(y){const p=this._anchor;if(!this._editor.hasModel()||!p)return k.AsyncIterableObject.EMPTY;const w=E._getLineDecorations(this._editor,p);return k.AsyncIterableObject.merge(this._participants.map(b=>b.computeAsync?b.computeAsync(p,w,y):k.AsyncIterableObject.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const y=E._getLineDecorations(this._editor,this._anchor);let p=[];for(const w of this._participants)p=p.concat(w.computeSync(this._anchor,y));return(0,f.coalesce)(p)}}e.ContentHoverComputer=E}),define(ie[353],ne([1,0,15,10,7,2]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverOperation=e.HoverResult=void 0;class y{constructor(b,C,o){this.value=b,this.isComplete=C,this.hasLoadingMessage=o}}e.HoverResult=y;class p extends D.Disposable{constructor(b,C){super(),this._editor=b,this._computer=C,this._onResult=this._register(new E.Emitter),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new f.RunOnceScheduler(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(60).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(b,C=!0){this._state=b,C&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,f.createCancelableAsyncIterable)(b=>this._computer.computeAsync(b)),(async()=>{try{for await(const b of this._asyncIterable)b&&(this._result.push(b),this._fireResult());this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(b){(0,k.onUnexpectedError)(b)}})()):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const b=this._state===0,C=this._state===4;this._onResult.fire(new y(this._result.slice(0),b,C))}start(b){if(b===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}e.HoverOperation=p}),define(ie[653],ne([1,0,13,57,42]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverComputer=void 0;class D{get lineNumber(){return this._lineNumber}set lineNumber(p){this._lineNumber=p}get lane(){return this._laneOrLine}set lane(p){this._laneOrLine=p}constructor(p){this._editor=p,this._lineNumber=-1,this._laneOrLine=E.GlyphMarginLane.Center}computeSync(){var p,w;const b=i=>({value:i}),C=this._editor.getLineDecorations(this._lineNumber),o=[],s=this._laneOrLine==="lineNo";if(!C)return o;for(const i of C){const t=(w=(p=i.options.glyphMargin)===null||p===void 0?void 0:p.position)!==null&&w!==void 0?w:E.GlyphMarginLane.Center;if(!s&&t!==this._laneOrLine)continue;const n=s?i.options.lineNumberHoverMessage:i.options.glyphMarginHoverMessage;!n||(0,k.isEmptyMarkdownString)(n)||o.push(...(0,f.asArray)(n).map(b))}return o}}e.MarginHoverComputer=D}),define(ie[654],ne([1,0,248,2,9,6]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResizableContentWidget=void 0;const y=30,p=24;class w extends k.Disposable{constructor(C,o=new D.Dimension(10,10)){super(),this._editor=C,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._resizableNode=this._register(new f.ResizableHTMLElement),this._contentPosition=null,this._isResizing=!1,this._resizableNode.domNode.style.position="absolute",this._resizableNode.minSize=D.Dimension.lift(o),this._resizableNode.layout(o.height,o.width),this._resizableNode.enableSashes(!0,!0,!0,!0),this._register(this._resizableNode.onDidResize(s=>{this._resize(new D.Dimension(s.dimension.width,s.dimension.height)),s.done&&(this._isResizing=!1)})),this._register(this._resizableNode.onDidWillResize(()=>{this._isResizing=!0}))}get isResizing(){return this._isResizing}getDomNode(){return this._resizableNode.domNode}getPosition(){return this._contentPosition}get position(){var C;return!((C=this._contentPosition)===null||C===void 0)&&C.position?E.Position.lift(this._contentPosition.position):void 0}_availableVerticalSpaceAbove(C){const o=this._editor.getDomNode(),s=this._editor.getScrolledVisiblePosition(C);return!o||!s?void 0:D.getDomNodePagePosition(o).top+s.top-y}_availableVerticalSpaceBelow(C){const o=this._editor.getDomNode(),s=this._editor.getScrolledVisiblePosition(C);if(!o||!s)return;const i=D.getDomNodePagePosition(o),t=D.getClientArea(o.ownerDocument.body),n=i.top+s.top+s.height;return t.height-n-p}_findPositionPreference(C,o){var s,i;const t=Math.min((s=this._availableVerticalSpaceBelow(o))!==null&&s!==void 0?s:1/0,C),n=Math.min((i=this._availableVerticalSpaceAbove(o))!==null&&i!==void 0?i:1/0,C),c=Math.min(Math.max(n,t),C),m=Math.min(C,c);let u;return this._editor.getOption(60).above?u=m<=n?1:2:u=m<=t?2:1,u===1?this._resizableNode.enableSashes(!0,!0,!1,!1):this._resizableNode.enableSashes(!1,!0,!0,!1),u}_resize(C){this._resizableNode.layout(C.height,C.width)}}e.ResizableContentWidget=w}),define(ie[354],ne([1,0,10,2,9,5,49,22]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsFragments=e.InlayHintItem=e.InlayHintAnchor=void 0,e.asCommandLink=o;class w{constructor(i,t){this.range=i,this.direction=t}}e.InlayHintAnchor=w;class b{constructor(i,t,n){this.hint=i,this.anchor=t,this.provider=n,this._isResolved=!1}with(i){const t=new b(this.hint,i.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}async resolve(i){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return await this._currentResolve,i.isCancellationRequested?void 0:this.resolve(i);this._isResolved||(this._currentResolve=this._doResolve(i).finally(()=>this._currentResolve=void 0)),await this._currentResolve}}async _doResolve(i){var t,n,c;try{const m=await Promise.resolve(this.provider.resolveInlayHint(this.hint,i));this.hint.tooltip=(t=m?.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(n=m?.label)!==null&&n!==void 0?n:this.hint.label,this.hint.textEdits=(c=m?.textEdits)!==null&&c!==void 0?c:this.hint.textEdits,this._isResolved=!0}catch(m){(0,f.onUnexpectedExternalError)(m),this._isResolved=!1}}}e.InlayHintItem=b;class C{static async create(i,t,n,c){const m=[],u=i.ordered(t).reverse().map(r=>n.map(async a=>{try{const h=await r.provideInlayHints(t,a,c);(h?.hints.length||r.onDidChangeInlayHints)&&m.push([h??C._emptyInlayHintList,r])}catch(h){(0,f.onUnexpectedExternalError)(h)}}));if(await Promise.all(u.flat()),c.isCancellationRequested||t.isDisposed())throw new f.CancellationError;return new C(n,m,t)}constructor(i,t,n){this._disposables=new k.DisposableStore,this.ranges=i,this.provider=new Set;const c=[];for(const[m,u]of t){this._disposables.add(m),this.provider.add(u);for(const r of m.hints){const a=n.validatePosition(r.position);let h="before";const l=C._getRangeAtPosition(n,a);let g;l.getStartPosition().isBefore(a)?(g=D.Range.fromPositions(l.getStartPosition(),a),h="after"):(g=D.Range.fromPositions(a,l.getEndPosition()),h="before"),c.push(new b(r,new w(g,h),u))}}this.items=c.sort((m,u)=>E.Position.compare(m.hint.position,u.hint.position))}dispose(){this._disposables.dispose()}static _getRangeAtPosition(i,t){const n=t.lineNumber,c=i.getWordAtPosition(t);if(c)return new D.Range(n,c.startColumn,n,c.endColumn);i.tokenization.tokenizeIfCheap(n);const m=i.tokenization.getLineTokens(n),u=t.column-1,r=m.findTokenIndexAtOffset(u);let a=m.getStartOffset(r),h=m.getEndOffset(r);return h-a===1&&(a===u&&r>1?(a=m.getStartOffset(r-1),h=m.getEndOffset(r-1)):h===u&&r<m.getCount()-1&&(a=m.getStartOffset(r+1),h=m.getEndOffset(r+1))),new D.Range(n,a+1,n,h+1)}}e.InlayHintsFragments=C,C._emptyInlayHintList=Object.freeze({dispose(){},hints:[]});function o(s){return p.URI.from({scheme:y.Schemas.command,path:s.id,query:s.arguments&&encodeURIComponent(JSON.stringify(s.arguments))}).toString()}}),define(ie[655],ne([1,0,87,15,19,45,10,5,554,199,130]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionItem=e.InlineCompletionList=e.InlineCompletionProviderResult=void 0,e.provideInlineCompletions=o;async function o(m,u,r,a,h=E.CancellationToken.None,l){const g=n(u,r),d=m.all(r),v=new D.SetMap;for(const M of d)M.groupId&&v.add(M.groupId,M);function _(M){if(!M.yieldsToGroupIds)return[];const R=[];for(const x of M.yieldsToGroupIds||[]){const F=v.get(x);for(const W of F)R.push(W)}return R}const S=new Map,L=new Set;function I(M,R){if(R=[...R,M],L.has(M))return R;L.add(M);try{const x=_(M);for(const F of x){const W=I(F,R);if(W)return W}}finally{L.delete(M)}}function T(M){const R=S.get(M);if(R)return R;const x=I(M,[]);x&&(0,y.onUnexpectedExternalError)(new Error(`Inline completions: cyclic yield-to dependency detected. Path: ${x.map(W=>W.toString?W.toString():""+W).join(" -> ")}`));const F=new k.DeferredPromise;return S.set(M,F.p),(async()=>{if(!x){const W=_(M);for(const H of W){const z=await T(H);if(z&&z.items.length>0)return}}try{return await M.provideInlineCompletions(r,u,a,h)}catch(W){(0,y.onUnexpectedExternalError)(W);return}})().then(W=>F.complete(W),W=>F.error(W)),F.p}const N=await Promise.all(d.map(async M=>({provider:M,completions:await T(M)}))),A=new Map,O=[];for(const M of N){const R=M.completions;if(!R)continue;const x=new i(R,M.provider);O.push(x);for(const F of R.items){const W=t.from(F,x,g,r,l);A.set(W.hash(),W)}}return new s(Array.from(A.values()),new Set(A.keys()),O)}class s{constructor(u,r,a){this.completions=u,this.hashs=r,this.providerResults=a}has(u){return this.hashs.has(u.hash())}dispose(){for(const u of this.providerResults)u.removeRef()}}e.InlineCompletionProviderResult=s;class i{constructor(u,r){this.inlineCompletions=u,this.provider=r,this.refCount=1}addRef(){this.refCount++}removeRef(){this.refCount--,this.refCount===0&&this.provider.freeInlineCompletions(this.inlineCompletions)}}e.InlineCompletionList=i;class t{static from(u,r,a,h,l){let g,d,v=u.range?p.Range.lift(u.range):a;if(typeof u.insertText=="string"){if(g=u.insertText,l&&u.completeBracketPairs){g=c(g,v.getStartPosition(),h,l);const _=g.length-u.insertText.length;_!==0&&(v=new p.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn+_))}d=void 0}else if("snippet"in u.insertText){const _=u.insertText.snippet.length;if(l&&u.completeBracketPairs){u.insertText.snippet=c(u.insertText.snippet,v.getStartPosition(),h,l);const L=u.insertText.snippet.length-_;L!==0&&(v=new p.Range(v.startLineNumber,v.startColumn,v.endLineNumber,v.endColumn+L))}const S=new C.SnippetParser().parse(u.insertText.snippet);S.children.length===1&&S.children[0]instanceof C.Text?(g=S.children[0].value,d=void 0):(g=S.toString(),d={snippet:u.insertText.snippet,range:v})}else(0,f.assertNever)(u.insertText);return new t(g,u.command,v,g,d,u.additionalTextEdits||(0,b.getReadonlyEmptyArray)(),u,r)}constructor(u,r,a,h,l,g,d,v){this.filterText=u,this.command=r,this.range=a,this.insertText=h,this.snippetInfo=l,this.additionalTextEdits=g,this.sourceInlineCompletion=d,this.source=v,u=u.replace(/\r\n|\r/g,`
`),h=u.replace(/\r\n|\r/g,`
`)}withRange(u){return new t(this.filterText,this.command,u,this.insertText,this.snippetInfo,this.additionalTextEdits,this.sourceInlineCompletion,this.source)}hash(){return JSON.stringify({insertText:this.insertText,range:this.range.toString()})}}e.InlineCompletionItem=t;function n(m,u){const r=u.getWordAtPosition(m),a=u.getLineMaxColumn(m.lineNumber);return r?new p.Range(m.lineNumber,r.startColumn,m.lineNumber,a):p.Range.fromPositions(m,m.with(void 0,a))}function c(m,u,r,a){const l=r.getLineContent(u.lineNumber).substring(0,u.column-1)+m,g=r.tokenization.tokenizeLineWithEdit(u,l.length-(u.column-1),m),d=g?.sliceAndInflate(u.column-1,l.length,0);return d?(0,w.fixBracketsInLine)(d,a):m}}),define(ie[656],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/controller/textAreaHandler",e)}),define(ie[657],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/coreCommands",e)}),define(ie[658],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/editorExtensions",e)}),define(ie[659],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/services/hoverService/hoverWidget",e)}),define(ie[660],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/services/hoverService/updatableHoverWidget",e)}),define(ie[661],ne([1,0,19,57,20,660]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UpdatableHoverWidget=void 0;class y{constructor(w,b,C){this.hoverDelegate=w,this.target=b,this.fadeInAnimation=C}async update(w,b,C){var o;if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let s;if(w===void 0||(0,E.isString)(w)||w instanceof HTMLElement)s=w;else if(!(0,E.isFunction)(w.markdown))s=(o=w.markdown)!==null&&o!==void 0?o:w.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,D.localize)(0,null),b),this._cancellationTokenSource=new f.CancellationTokenSource;const i=this._cancellationTokenSource.token;if(s=await w.markdown(i),s===void 0&&(s=w.markdownNotSupportedFallback),this.isDisposed||i.isCancellationRequested)return}this.show(s,b,C)}show(w,b,C){const o=this._hoverWidget;if(this.hasContent(w)){const s={content:w,target:this.target,appearance:{showPointer:this.hoverDelegate.placement==="element",skipFadeInAnimation:!this.fadeInAnimation||!!o},position:{hoverPosition:2},...C};this._hoverWidget=this.hoverDelegate.showHover(s,b)}o?.dispose()}hasContent(w){return w?(0,k.isMarkdownString)(w)?!!w.value:!0:!1}get isDisposed(){var w;return(w=this._hoverWidget)===null||w===void 0?void 0:w.isDisposed}dispose(){var w,b;(w=this._hoverWidget)===null||w===void 0||w.dispose(),(b=this._cancellationTokenSource)===null||b===void 0||b.dispose(!0),this._cancellationTokenSource=void 0}}e.UpdatableHoverWidget=y}),define(ie[662],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/codeEditor/codeEditorWidget",e)}),define(ie[663],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/commands",e)}),define(ie[664],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/components/accessibleDiffViewer",e)}),define(ie[665],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/components/diffEditorEditors",e)}),define(ie[666],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/components/diffEditorViewZones/inlineDiffDeletedCodeMargin",e)}),define(ie[667],ne([1,0,6,41,26,2,17,31,666]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineDiffDeletedCodeMargin=void 0;class b extends D.Disposable{get visibility(){return this._visibility}set visibility(o){this._visibility!==o&&(this._visibility=o,this._diffActions.style.visibility=o?"visible":"hidden")}constructor(o,s,i,t,n,c,m,u,r){super(),this._getViewZoneId=o,this._marginDomNode=s,this._modifiedEditor=i,this._diff=t,this._editor=n,this._viewLineCounts=c,this._originalTextModel=m,this._contextMenuService=u,this._clipboardService=r,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=p.ThemeIcon.asClassName(E.Codicon.lightBulb)+" lightbulb-glyph",this._diffActions.style.position="absolute";const a=this._modifiedEditor.getOption(67);this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${a}px`,this._diffActions.style.lineHeight=`${a}px`,this._marginDomNode.appendChild(this._diffActions);let h=0;const l=i.getOption(127)&&!y.isIOS,g=(d,v)=>{var _;this._contextMenuService.showContextMenu({domForShadowRoot:l&&(_=i.getDomNode())!==null&&_!==void 0?_:void 0,getAnchor:()=>({x:d,y:v}),getActions:()=>{const S=[],L=t.modified.isEmpty;return S.push(new k.Action("diff.clipboard.copyDeletedContent",L?t.original.length>1?(0,w.localize)(0,null):(0,w.localize)(1,null):t.original.length>1?(0,w.localize)(2,null):(0,w.localize)(3,null),void 0,!0,async()=>{const T=this._originalTextModel.getValueInRange(t.original.toExclusiveRange());await this._clipboardService.writeText(T)})),t.original.length>1&&S.push(new k.Action("diff.clipboard.copyDeletedLineContent",L?(0,w.localize)(4,null,t.original.startLineNumber+h):(0,w.localize)(5,null,t.original.startLineNumber+h),void 0,!0,async()=>{let T=this._originalTextModel.getLineContent(t.original.startLineNumber+h);T===""&&(T=this._originalTextModel.getEndOfLineSequence()===0?`
`:`\r
`),await this._clipboardService.writeText(T)})),i.getOption(91)||S.push(new k.Action("diff.inline.revertChange",(0,w.localize)(6,null),void 0,!0,async()=>{this._editor.revert(this._diff)})),S},autoSelectFirstItem:!0})};this._register((0,f.addStandardDisposableListener)(this._diffActions,"mousedown",d=>{if(!d.leftButton)return;const{top:v,height:_}=(0,f.getDomNodePagePosition)(this._diffActions),S=Math.floor(a/3);d.preventDefault(),g(d.posx,v+_+S)})),this._register(i.onMouseMove(d=>{(d.target.type===8||d.target.type===5)&&d.target.detail.viewZoneId===this._getViewZoneId()?(h=this._updateLightBulbPosition(this._marginDomNode,d.event.browserEvent.y,a),this.visibility=!0):this.visibility=!1})),this._register(i.onMouseDown(d=>{d.event.leftButton&&(d.target.type===8||d.target.type===5)&&d.target.detail.viewZoneId===this._getViewZoneId()&&(d.event.preventDefault(),h=this._updateLightBulbPosition(this._marginDomNode,d.event.browserEvent.y,a),g(d.event.posx,d.event.posy+a))}))}_updateLightBulbPosition(o,s,i){const{top:t}=(0,f.getDomNodePagePosition)(o),n=s-t,c=Math.floor(n/i),m=c*i;if(this._diffActions.style.top=`${m}px`,this._viewLineCounts){let u=0;for(let r=0;r<this._viewLineCounts.length;r++)if(u+=this._viewLineCounts[r],c<u)return r}return c}}e.InlineDiffDeletedCodeMargin=b}),define(ie[668],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/diffEditor.contribution",e)}),define(ie[669],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/features/hideUnchangedRegionsFeature",e)}),define(ie[670],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/features/movedBlocksLinesFeature",e)}),define(ie[355],ne([1,0,6,82,41,13,67,26,2,30,31,83,65,670]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MovedBlocksLinesFeature=void 0;class t extends w.Disposable{constructor(u,r,a,h,l){super(),this._rootElement=u,this._diffModel=r,this._originalEditorLayoutInfo=a,this._modifiedEditorLayoutInfo=h,this._editors=l,this._originalScrollTop=(0,b.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,b.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._viewZonesChanged=(0,b.observableSignalFromEvent)("onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this.width=(0,b.observableValue)(this,0),this._modifiedViewZonesChangedSignal=(0,b.observableSignalFromEvent)("modified.onDidChangeViewZones",this._editors.modified.onDidChangeViewZones),this._originalViewZonesChangedSignal=(0,b.observableSignalFromEvent)("original.onDidChangeViewZones",this._editors.original.onDidChangeViewZones),this._state=(0,b.derivedWithStore)(this,(S,L)=>{var I;this._element.replaceChildren();const T=this._diffModel.read(S),N=(I=T?.diff.read(S))===null||I===void 0?void 0:I.movedTexts;if(!N||N.length===0){this.width.set(0,void 0);return}this._viewZonesChanged.read(S);const A=this._originalEditorLayoutInfo.read(S),O=this._modifiedEditorLayoutInfo.read(S);if(!A||!O){this.width.set(0,void 0);return}this._modifiedViewZonesChangedSignal.read(S),this._originalViewZonesChangedSignal.read(S);const M=N.map(j=>{function K(ce,he){const pe=he.getTopForLineNumber(ce.startLineNumber,!0),ge=he.getTopForLineNumber(ce.endLineNumberExclusive,!0);return(pe+ge)/2}const U=K(j.lineRangeMapping.original,this._editors.original),G=this._originalScrollTop.read(S),te=K(j.lineRangeMapping.modified,this._editors.modified),ee=this._modifiedScrollTop.read(S),Y=U-G,P=te-ee,Z=Math.min(U,te),re=Math.max(U,te);return{range:new s.OffsetRange(Z,re),from:Y,to:P,fromWithoutScroll:U,toWithoutScroll:te,move:j}});M.sort((0,D.tieBreakComparators)((0,D.compareBy)(j=>j.fromWithoutScroll>j.toWithoutScroll,D.booleanComparator),(0,D.compareBy)(j=>j.fromWithoutScroll>j.toWithoutScroll?j.fromWithoutScroll:-j.toWithoutScroll,D.numberComparator)));const R=n.compute(M.map(j=>j.range)),x=10,F=A.verticalScrollbarWidth,W=(R.getTrackCount()-1)*10+x*2,H=F+W+(O.contentLeft-t.movedCodeBlockPadding);let z=0;for(const j of M){const K=R.getTrack(z),U=F+x+K*10,G=15,te=15,ee=H,Y=O.glyphMarginWidth+O.lineNumbersWidth,P=18,Z=document.createElementNS("http://www.w3.org/2000/svg","rect");Z.classList.add("arrow-rectangle"),Z.setAttribute("x",`${ee-Y}`),Z.setAttribute("y",`${j.to-P/2}`),Z.setAttribute("width",`${Y}`),Z.setAttribute("height",`${P}`),this._element.appendChild(Z);const re=document.createElementNS("http://www.w3.org/2000/svg","g"),ce=document.createElementNS("http://www.w3.org/2000/svg","path");ce.setAttribute("d",`M 0 ${j.from} L ${U} ${j.from} L ${U} ${j.to} L ${ee-te} ${j.to}`),ce.setAttribute("fill","none"),re.appendChild(ce);const he=document.createElementNS("http://www.w3.org/2000/svg","polygon");he.classList.add("arrow"),L.add((0,b.autorun)(pe=>{ce.classList.toggle("currentMove",j.move===T.activeMovedText.read(pe)),he.classList.toggle("currentMove",j.move===T.activeMovedText.read(pe))})),he.setAttribute("points",`${ee-te},${j.to-G/2} ${ee},${j.to} ${ee-te},${j.to+G/2}`),re.appendChild(he),this._element.appendChild(re),z++}this.width.set(W,void 0)}),this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("class","moved-blocks-lines"),this._rootElement.appendChild(this._element),this._register((0,w.toDisposable)(()=>this._element.remove())),this._register((0,b.autorun)(S=>{const L=this._originalEditorLayoutInfo.read(S),I=this._modifiedEditorLayoutInfo.read(S);!L||!I||(this._element.style.left=`${L.width-L.verticalScrollbarWidth}px`,this._element.style.height=`${L.height}px`,this._element.style.width=`${L.verticalScrollbarWidth+L.contentLeft-t.movedCodeBlockPadding+this.width.read(S)}px`)})),this._register((0,b.recomputeInitiallyAndOnChange)(this._state));const g=(0,b.derived)(S=>{const L=this._diffModel.read(S),I=L?.diff.read(S);return I?I.movedTexts.map(T=>({move:T,original:new o.PlaceholderViewZone((0,b.constObservable)(T.lineRangeMapping.original.startLineNumber-1),18),modified:new o.PlaceholderViewZone((0,b.constObservable)(T.lineRangeMapping.modified.startLineNumber-1),18)})):[]});this._register((0,o.applyViewZones)(this._editors.original,g.map(S=>S.map(L=>L.original)))),this._register((0,o.applyViewZones)(this._editors.modified,g.map(S=>S.map(L=>L.modified)))),this._register((0,b.autorunWithStore)((S,L)=>{const I=g.read(S);for(const T of I)L.add(new c(this._editors.original,T.original,T.move,"original",this._diffModel.get())),L.add(new c(this._editors.modified,T.modified,T.move,"modified",this._diffModel.get()))}));const d=(0,b.observableSignalFromEvent)("original.onDidFocusEditorWidget",S=>this._editors.original.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0))),v=(0,b.observableSignalFromEvent)("modified.onDidFocusEditorWidget",S=>this._editors.modified.onDidFocusEditorWidget(()=>setTimeout(()=>S(void 0),0)));let _="modified";this._register((0,b.autorunHandleChanges)({createEmptyChangeSummary:()=>{},handleChange:(S,L)=>(S.didChange(d)&&(_="original"),S.didChange(v)&&(_="modified"),!0)},S=>{d.read(S),v.read(S);const L=this._diffModel.read(S);if(!L)return;const I=L.diff.read(S);let T;if(I&&_==="original"){const N=this._editors.originalCursor.read(S);N&&(T=I.movedTexts.find(A=>A.lineRangeMapping.original.contains(N.lineNumber)))}if(I&&_==="modified"){const N=this._editors.modifiedCursor.read(S);N&&(T=I.movedTexts.find(A=>A.lineRangeMapping.modified.contains(N.lineNumber)))}T!==L.movedTextToCompare.get()&&L.movedTextToCompare.set(void 0,void 0),L.setActiveMovedText(T)}))}}e.MovedBlocksLinesFeature=t,t.movedCodeBlockPadding=4;class n{static compute(u){const r=[],a=[];for(const h of u){let l=r.findIndex(g=>!g.intersectsStrict(h));l===-1&&(r.length>=6?l=(0,y.findMaxIdx)(r,(0,D.compareBy)(d=>d.intersectWithRangeLength(h),D.numberComparator)):(l=r.length,r.push(new s.OffsetRangeSet))),r[l].addRange(h),a.push(l)}return new n(r.length,a)}constructor(u,r){this._trackCount=u,this.trackPerLineIdx=r}getTrack(u){return this.trackPerLineIdx[u]}getTrackCount(){return this._trackCount}}class c extends o.ViewZoneOverlayWidget{constructor(u,r,a,h,l){const g=(0,f.h)("div.diff-hidden-lines-widget");super(u,r,g.root),this._editor=u,this._move=a,this._kind=h,this._diffModel=l,this._nodes=(0,f.h)("div.diff-moved-code-block",{style:{marginRight:"4px"}},[(0,f.h)("div.text-content@textContent"),(0,f.h)("div.action-bar@actionBar")]),g.root.appendChild(this._nodes.root);const d=(0,b.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._register((0,o.applyStyle)(this._nodes.root,{paddingRight:d.map(I=>I.verticalScrollbarWidth)}));let v;a.changes.length>0?v=this._kind==="original"?(0,i.localize)(0,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(1,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1):v=this._kind==="original"?(0,i.localize)(2,null,this._move.lineRangeMapping.modified.startLineNumber,this._move.lineRangeMapping.modified.endLineNumberExclusive-1):(0,i.localize)(3,null,this._move.lineRangeMapping.original.startLineNumber,this._move.lineRangeMapping.original.endLineNumberExclusive-1);const _=this._register(new k.ActionBar(this._nodes.actionBar,{highlightToggledItems:!0})),S=new E.Action("",v,"",!1);_.push(S,{icon:!1,label:!0});const L=new E.Action("","Compare",C.ThemeIcon.asClassName(p.Codicon.compareChanges),!0,()=>{this._editor.focus(),this._diffModel.movedTextToCompare.set(this._diffModel.movedTextToCompare.get()===a?void 0:this._move,void 0)});this._register((0,b.autorun)(I=>{const T=this._diffModel.movedTextToCompare.read(I)===a;L.checked=T})),_.push(L,{icon:!1,label:!0})}}}),define(ie[671],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/features/revertButtonsFeature",e)}),define(ie[672],ne([1,0,6,110,26,2,30,59,5,100,42,671]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RevertButton=e.RevertButtonsFeature=void 0;const s=[];class i extends D.Disposable{constructor(c,m,u,r){super(),this._editors=c,this._diffModel=m,this._options=u,this._widget=r,this._selectedDiffs=(0,y.derived)(this,a=>{const h=this._diffModel.read(a),l=h?.diff.read(a);if(!l)return s;const g=this._editors.modifiedSelections.read(a);if(g.every(S=>S.isEmpty()))return s;const d=new p.LineRangeSet(g.map(S=>p.LineRange.fromRangeInclusive(S))),_=l.mappings.filter(S=>S.lineRangeMapping.innerChanges&&d.intersects(S.lineRangeMapping.modified)).map(S=>({mapping:S,rangeMappings:S.lineRangeMapping.innerChanges.filter(L=>g.some(I=>w.Range.areIntersecting(L.modifiedRange,I)))}));return _.length===0||_.every(S=>S.rangeMappings.length===0)?s:_}),this._register((0,y.autorunWithStore)((a,h)=>{if(!this._options.shouldRenderOldRevertArrows.read(a))return;const l=this._diffModel.read(a),g=l?.diff.read(a);if(!l||!g||l.movedTextToCompare.read(a))return;const d=[],v=this._selectedDiffs.read(a),_=new Set(v.map(S=>S.mapping));if(v.length>0){const S=this._editors.modifiedSelections.read(a),L=h.add(new t(S[S.length-1].positionLineNumber,this._widget,v.flatMap(I=>I.rangeMappings),!0));this._editors.modified.addGlyphMarginWidget(L),d.push(L)}for(const S of g.mappings)if(!_.has(S)&&!S.lineRangeMapping.modified.isEmpty&&S.lineRangeMapping.innerChanges){const L=h.add(new t(S.lineRangeMapping.modified.startLineNumber,this._widget,S.lineRangeMapping,!1));this._editors.modified.addGlyphMarginWidget(L),d.push(L)}h.add((0,D.toDisposable)(()=>{for(const S of d)this._editors.modified.removeGlyphMarginWidget(S)}))}))}}e.RevertButtonsFeature=i;class t extends D.Disposable{getId(){return this._id}constructor(c,m,u,r){super(),this._lineNumber=c,this._widget=m,this._diffs=u,this._revertSelection=r,this._id=`revertButton${t.counter++}`,this._domNode=(0,f.h)("div.revertButton",{title:this._revertSelection?(0,o.localize)(0,null):(0,o.localize)(1,null)},[(0,k.renderIcon)(E.Codicon.arrowRight)]).root,this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_DOWN,a=>{a.button!==2&&(a.stopPropagation(),a.preventDefault())})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.MOUSE_UP,a=>{a.stopPropagation(),a.preventDefault()})),this._register((0,f.addDisposableListener)(this._domNode,f.EventType.CLICK,a=>{this._diffs instanceof b.LineRangeMapping?this._widget.revert(this._diffs):this._widget.revertRangeMappings(this._diffs),a.stopPropagation(),a.preventDefault()}))}getDomNode(){return this._domNode}getPosition(){return{lane:C.GlyphMarginLane.Right,range:{startColumn:1,startLineNumber:this._lineNumber,endColumn:1,endLineNumber:this._lineNumber},zIndex:10001}}}e.RevertButton=t,t.counter=0}),define(ie[673],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/diffEditor/registrations.contribution",e)}),define(ie[674],ne([3,4]),function(Q,e){return Q.create("vs/editor/browser/widget/multiDiffEditor/colors",e)}),define(ie[675],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/config/editorConfigurationSchema",e)}),define(ie[676],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/config/editorOptions",e)}),define(ie[38],ne([1,0,13,55,17,191,162,676]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOptions=e.editorOptionsRegistry=e.EDITOR_FONT_DEFAULTS=e.unicodeHighlightConfigKeys=e.inUntrustedWorkspace=e.ShowLightbulbIconMode=e.EditorLayoutInfoComputer=e.EditorFontVariations=e.EditorFontLigatures=e.TextEditorCursorStyle=e.ApplyUpdateResult=e.ComputeOptionsMemory=e.ConfigurationChangedEvent=e.MINIMAP_GUTTER_WIDTH=void 0,e.boolean=n,e.clampedInt=m,e.clampedFloat=r,e.stringSet=l,e.filterValidationDecorations=ae,e.MINIMAP_GUTTER_WIDTH=8;class w{constructor(me){this._values=me}hasChanged(me){return this._values[me]}}e.ConfigurationChangedEvent=w;class b{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}e.ComputeOptionsMemory=b;class C{constructor(me,be,Re,He){this.id=me,this.name=be,this.defaultValue=Re,this.schema=He}applyUpdate(me,be){return s(me,be)}compute(me,be,Re){return Re}}class o{constructor(me,be){this.newValue=me,this.didChange=be}}e.ApplyUpdateResult=o;function s(Ne,me){if(typeof Ne!="object"||typeof me!="object"||!Ne||!me)return new o(me,Ne!==me);if(Array.isArray(Ne)||Array.isArray(me)){const Re=Array.isArray(Ne)&&Array.isArray(me)&&f.equals(Ne,me);return new o(me,!Re)}let be=!1;for(const Re in me)if(me.hasOwnProperty(Re)){const He=s(Ne[Re],me[Re]);He.didChange&&(Ne[Re]=He.newValue,be=!0)}return new o(Ne,be)}class i{constructor(me){this.schema=void 0,this.id=me,this.name="_never_",this.defaultValue=void 0}applyUpdate(me,be){return s(me,be)}validate(me){return this.defaultValue}}class t{constructor(me,be,Re,He){this.id=me,this.name=be,this.defaultValue=Re,this.schema=He}applyUpdate(me,be){return s(me,be)}validate(me){return typeof me>"u"?this.defaultValue:me}compute(me,be,Re){return Re}}function n(Ne,me){return typeof Ne>"u"?me:Ne==="false"?!1:!!Ne}class c extends t{constructor(me,be,Re,He=void 0){typeof He<"u"&&(He.type="boolean",He.default=Re),super(me,be,Re,He)}validate(me){return n(me,this.defaultValue)}}function m(Ne,me,be,Re){if(typeof Ne>"u")return me;let He=parseInt(Ne,10);return isNaN(He)?me:(He=Math.max(be,He),He=Math.min(Re,He),He|0)}class u extends t{static clampedInt(me,be,Re,He){return m(me,be,Re,He)}constructor(me,be,Re,He,qe,Ue=void 0){typeof Ue<"u"&&(Ue.type="integer",Ue.default=Re,Ue.minimum=He,Ue.maximum=qe),super(me,be,Re,Ue),this.minimum=He,this.maximum=qe}validate(me){return u.clampedInt(me,this.defaultValue,this.minimum,this.maximum)}}function r(Ne,me,be,Re){if(typeof Ne>"u")return me;const He=a.float(Ne,me);return a.clamp(He,be,Re)}class a extends t{static clamp(me,be,Re){return me<be?be:me>Re?Re:me}static float(me,be){if(typeof me=="number")return me;if(typeof me>"u")return be;const Re=parseFloat(me);return isNaN(Re)?be:Re}constructor(me,be,Re,He,qe){typeof qe<"u"&&(qe.type="number",qe.default=Re),super(me,be,Re,qe),this.validationFn=He}validate(me){return this.validationFn(a.float(me,this.defaultValue))}}class h extends t{static string(me,be){return typeof me!="string"?be:me}constructor(me,be,Re,He=void 0){typeof He<"u"&&(He.type="string",He.default=Re),super(me,be,Re,He)}validate(me){return h.string(me,this.defaultValue)}}function l(Ne,me,be,Re){return typeof Ne!="string"?me:Re&&Ne in Re?Re[Ne]:be.indexOf(Ne)===-1?me:Ne}class g extends t{constructor(me,be,Re,He,qe=void 0){typeof qe<"u"&&(qe.type="string",qe.enum=He,qe.default=Re),super(me,be,Re,qe),this._allowedValues=He}validate(me){return l(me,this.defaultValue,this._allowedValues)}}class d extends C{constructor(me,be,Re,He,qe,Ue,Ze=void 0){typeof Ze<"u"&&(Ze.type="string",Ze.enum=qe,Ze.default=He),super(me,be,Re,Ze),this._allowedValues=qe,this._convert=Ue}validate(me){return typeof me!="string"?this.defaultValue:this._allowedValues.indexOf(me)===-1?this.defaultValue:this._convert(me)}}function v(Ne){switch(Ne){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class _ extends C{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[p.localize(0,null),p.localize(1,null),p.localize(2,null)],default:"auto",tags:["accessibility"],description:p.localize(3,null)})}validate(me){switch(me){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(me,be,Re){return Re===0?me.accessibilitySupport:Re}}class S extends C{constructor(){const me={insertSpace:!0,ignoreEmptyLines:!0};super(23,"comments",me,{"editor.comments.insertSpace":{type:"boolean",default:me.insertSpace,description:p.localize(4,null)},"editor.comments.ignoreEmptyLines":{type:"boolean",default:me.ignoreEmptyLines,description:p.localize(5,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{insertSpace:n(be.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:n(be.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function L(Ne){switch(Ne){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var I;(function(Ne){Ne[Ne.Line=1]="Line",Ne[Ne.Block=2]="Block",Ne[Ne.Underline=3]="Underline",Ne[Ne.LineThin=4]="LineThin",Ne[Ne.BlockOutline=5]="BlockOutline",Ne[Ne.UnderlineThin=6]="UnderlineThin"})(I||(e.TextEditorCursorStyle=I={}));function T(Ne){switch(Ne){case"line":return I.Line;case"block":return I.Block;case"underline":return I.Underline;case"line-thin":return I.LineThin;case"block-outline":return I.BlockOutline;case"underline-thin":return I.UnderlineThin}}class N extends i{constructor(){super(142)}compute(me,be,Re){const He=["monaco-editor"];return be.get(39)&&He.push(be.get(39)),me.extraEditorClassName&&He.push(me.extraEditorClassName),be.get(74)==="default"?He.push("mouse-default"):be.get(74)==="copy"&&He.push("mouse-copy"),be.get(111)&&He.push("showUnused"),be.get(140)&&He.push("showDeprecated"),He.join(" ")}}class A extends c{constructor(){super(37,"emptySelectionClipboard",!0,{description:p.localize(6,null)})}compute(me,be,Re){return Re&&me.emptySelectionClipboard}}class O extends C{constructor(){const me={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(41,"find",me,{"editor.find.cursorMoveOnType":{type:"boolean",default:me.cursorMoveOnType,description:p.localize(7,null)},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:me.seedSearchStringFromSelection,enumDescriptions:[p.localize(8,null),p.localize(9,null),p.localize(10,null)],description:p.localize(11,null)},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:me.autoFindInSelection,enumDescriptions:[p.localize(12,null),p.localize(13,null),p.localize(14,null)],description:p.localize(15,null)},"editor.find.globalFindClipboard":{type:"boolean",default:me.globalFindClipboard,description:p.localize(16,null),included:E.isMacintosh},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:me.addExtraSpaceOnTop,description:p.localize(17,null)},"editor.find.loop":{type:"boolean",default:me.loop,description:p.localize(18,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{cursorMoveOnType:n(be.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof me.seedSearchStringFromSelection=="boolean"?me.seedSearchStringFromSelection?"always":"never":l(be.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof me.autoFindInSelection=="boolean"?me.autoFindInSelection?"always":"never":l(be.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:n(be.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:n(be.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:n(be.loop,this.defaultValue.loop)}}}class M extends C{constructor(){super(51,"fontLigatures",M.OFF,{anyOf:[{type:"boolean",description:p.localize(19,null)},{type:"string",description:p.localize(20,null)}],description:p.localize(21,null),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"||me.length===0?M.OFF:me==="true"?M.ON:me:me?M.ON:M.OFF}}e.EditorFontLigatures=M,M.OFF='"liga" off, "calt" off',M.ON='"liga" on, "calt" on';class R extends C{constructor(){super(54,"fontVariations",R.OFF,{anyOf:[{type:"boolean",description:p.localize(22,null)},{type:"string",description:p.localize(23,null)}],description:p.localize(24,null),default:!1})}validate(me){return typeof me>"u"?this.defaultValue:typeof me=="string"?me==="false"?R.OFF:me==="true"?R.TRANSLATE:me:me?R.TRANSLATE:R.OFF}compute(me,be,Re){return me.fontInfo.fontVariationSettings}}e.EditorFontVariations=R,R.OFF="normal",R.TRANSLATE="translate";class x extends i{constructor(){super(50)}compute(me,be,Re){return me.fontInfo}}class F extends t{constructor(){super(52,"fontSize",e.EDITOR_FONT_DEFAULTS.fontSize,{type:"number",minimum:6,maximum:100,default:e.EDITOR_FONT_DEFAULTS.fontSize,description:p.localize(25,null)})}validate(me){const be=a.float(me,this.defaultValue);return be===0?e.EDITOR_FONT_DEFAULTS.fontSize:a.clamp(be,6,100)}compute(me,be,Re){return me.fontInfo.fontSize}}class W extends C{constructor(){super(53,"fontWeight",e.EDITOR_FONT_DEFAULTS.fontWeight,{anyOf:[{type:"number",minimum:W.MINIMUM_VALUE,maximum:W.MAXIMUM_VALUE,errorMessage:p.localize(26,null)},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:W.SUGGESTION_VALUES}],default:e.EDITOR_FONT_DEFAULTS.fontWeight,description:p.localize(27,null)})}validate(me){return me==="normal"||me==="bold"?me:String(u.clampedInt(me,e.EDITOR_FONT_DEFAULTS.fontWeight,W.MINIMUM_VALUE,W.MAXIMUM_VALUE))}}W.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],W.MINIMUM_VALUE=1,W.MAXIMUM_VALUE=1e3;class H extends C{constructor(){const me={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},be={type:"string",enum:["peek","gotoAndPeek","goto"],default:me.multiple,enumDescriptions:[p.localize(28,null),p.localize(29,null),p.localize(30,null)]},Re=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(58,"gotoLocation",me,{"editor.gotoLocation.multiple":{deprecationMessage:p.localize(31,null)},"editor.gotoLocation.multipleDefinitions":{description:p.localize(32,null),...be},"editor.gotoLocation.multipleTypeDefinitions":{description:p.localize(33,null),...be},"editor.gotoLocation.multipleDeclarations":{description:p.localize(34,null),...be},"editor.gotoLocation.multipleImplementations":{description:p.localize(35,null),...be},"editor.gotoLocation.multipleReferences":{description:p.localize(36,null),...be},"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:me.alternativeDefinitionCommand,enum:Re,description:p.localize(37,null)},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:me.alternativeTypeDefinitionCommand,enum:Re,description:p.localize(38,null)},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:me.alternativeDeclarationCommand,enum:Re,description:p.localize(39,null)},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:me.alternativeImplementationCommand,enum:Re,description:p.localize(40,null)},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:me.alternativeReferenceCommand,enum:Re,description:p.localize(41,null)}})}validate(me){var be,Re,He,qe,Ue;if(!me||typeof me!="object")return this.defaultValue;const Ze=me;return{multiple:l(Ze.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(be=Ze.multipleDefinitions)!==null&&be!==void 0?be:l(Ze.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Re=Ze.multipleTypeDefinitions)!==null&&Re!==void 0?Re:l(Ze.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(He=Ze.multipleDeclarations)!==null&&He!==void 0?He:l(Ze.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(qe=Ze.multipleImplementations)!==null&&qe!==void 0?qe:l(Ze.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(Ue=Ze.multipleReferences)!==null&&Ue!==void 0?Ue:l(Ze.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:h.string(Ze.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:h.string(Ze.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:h.string(Ze.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:h.string(Ze.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:h.string(Ze.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class z extends C{constructor(){const me={enabled:!0,delay:300,hidingDelay:300,sticky:!0,above:!0};super(60,"hover",me,{"editor.hover.enabled":{type:"boolean",default:me.enabled,description:p.localize(42,null)},"editor.hover.delay":{type:"number",default:me.delay,minimum:0,maximum:1e4,description:p.localize(43,null)},"editor.hover.sticky":{type:"boolean",default:me.sticky,description:p.localize(44,null)},"editor.hover.hidingDelay":{type:"integer",minimum:0,default:me.hidingDelay,description:p.localize(45,null)},"editor.hover.above":{type:"boolean",default:me.above,description:p.localize(46,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),delay:u.clampedInt(be.delay,this.defaultValue.delay,0,1e4),sticky:n(be.sticky,this.defaultValue.sticky),hidingDelay:u.clampedInt(be.hidingDelay,this.defaultValue.hidingDelay,0,6e5),above:n(be.above,this.defaultValue.above)}}}class j extends i{constructor(){super(145)}compute(me,be,Re){return j.computeLayout(be,{memory:me.memory,outerWidth:me.outerWidth,outerHeight:me.outerHeight,isDominatedByLongLines:me.isDominatedByLongLines,lineHeight:me.fontInfo.lineHeight,viewLineCount:me.viewLineCount,lineNumbersDigitCount:me.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:me.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:me.fontInfo.maxDigitWidth,pixelRatio:me.pixelRatio,glyphMarginDecorationLaneCount:me.glyphMarginDecorationLaneCount})}static computeContainedMinimapLineCount(me){const be=me.height/me.lineHeight,Re=Math.floor(me.paddingTop/me.lineHeight);let He=Math.floor(me.paddingBottom/me.lineHeight);me.scrollBeyondLastLine&&(He=Math.max(He,be-1));const qe=(Re+me.viewLineCount+He)/(me.pixelRatio*me.height),Ue=Math.floor(me.viewLineCount/qe);return{typicalViewportLineCount:be,extraLinesBeforeFirstLine:Re,extraLinesBeyondLastLine:He,desiredRatio:qe,minimapLineCount:Ue}}static _computeMinimapLayout(me,be){const Re=me.outerWidth,He=me.outerHeight,qe=me.pixelRatio;if(!me.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(qe*He),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:He};const Ue=be.stableMinimapLayoutInput,Ze=Ue&&me.outerHeight===Ue.outerHeight&&me.lineHeight===Ue.lineHeight&&me.typicalHalfwidthCharacterWidth===Ue.typicalHalfwidthCharacterWidth&&me.pixelRatio===Ue.pixelRatio&&me.scrollBeyondLastLine===Ue.scrollBeyondLastLine&&me.paddingTop===Ue.paddingTop&&me.paddingBottom===Ue.paddingBottom&&me.minimap.enabled===Ue.minimap.enabled&&me.minimap.side===Ue.minimap.side&&me.minimap.size===Ue.minimap.size&&me.minimap.showSlider===Ue.minimap.showSlider&&me.minimap.renderCharacters===Ue.minimap.renderCharacters&&me.minimap.maxColumn===Ue.minimap.maxColumn&&me.minimap.scale===Ue.minimap.scale&&me.verticalScrollbarWidth===Ue.verticalScrollbarWidth&&me.isViewportWrapping===Ue.isViewportWrapping,et=me.lineHeight,nt=me.typicalHalfwidthCharacterWidth,at=me.scrollBeyondLastLine,ft=me.minimap.renderCharacters;let tt=qe>=2?Math.round(me.minimap.scale*2):me.minimap.scale;const ht=me.minimap.maxColumn,ot=me.minimap.size,_t=me.minimap.side,pt=me.verticalScrollbarWidth,ye=me.viewLineCount,we=me.remainingWidth,Me=me.isViewportWrapping,Te=ft?2:3;let Le=Math.floor(qe*He);const Oe=Le/qe;let Pe=!1,ze=!1,je=Te*tt,$e=tt/qe,Qe=1;if(ot==="fill"||ot==="fit"){const{typicalViewportLineCount:it,extraLinesBeforeFirstLine:Je,extraLinesBeyondLastLine:lt,desiredRatio:st,minimapLineCount:rt}=j.computeContainedMinimapLineCount({viewLineCount:ye,scrollBeyondLastLine:at,paddingTop:me.paddingTop,paddingBottom:me.paddingBottom,height:He,lineHeight:et,pixelRatio:qe});if(ye/rt>1)Pe=!0,ze=!0,tt=1,je=1,$e=tt/qe;else{let ct=!1,Lt=tt+1;if(ot==="fit"){const dt=Math.ceil((Je+ye+lt)*je);Me&&Ze&&we<=be.stableFitRemainingWidth?(ct=!0,Lt=be.stableFitMaxMinimapScale):ct=dt>Le}if(ot==="fill"||ct){Pe=!0;const dt=tt;je=Math.min(et*qe,Math.max(1,Math.floor(1/st))),Me&&Ze&&we<=be.stableFitRemainingWidth&&(Lt=be.stableFitMaxMinimapScale),tt=Math.min(Lt,Math.max(1,Math.floor(je/Te))),tt>dt&&(Qe=Math.min(2,tt/dt)),$e=tt/qe/Qe,Le=Math.ceil(Math.max(it,Je+ye+lt)*je),Me?(be.stableMinimapLayoutInput=me,be.stableFitRemainingWidth=we,be.stableFitMaxMinimapScale=tt):(be.stableMinimapLayoutInput=null,be.stableFitRemainingWidth=0)}}}const gt=Math.floor(ht*$e),Ye=Math.min(gt,Math.max(0,Math.floor((we-pt-2)*$e/(nt+$e)))+e.MINIMAP_GUTTER_WIDTH);let Fe=Math.floor(qe*Ye);const Ve=Fe/qe;Fe=Math.floor(Fe*Qe);const Ke=ft?1:2,Ge=_t==="left"?0:Re-Ye-pt;return{renderMinimap:Ke,minimapLeft:Ge,minimapWidth:Ye,minimapHeightIsEditorHeight:Pe,minimapIsSampling:ze,minimapScale:tt,minimapLineHeight:je,minimapCanvasInnerWidth:Fe,minimapCanvasInnerHeight:Le,minimapCanvasOuterWidth:Ve,minimapCanvasOuterHeight:Oe}}static computeLayout(me,be){const Re=be.outerWidth|0,He=be.outerHeight|0,qe=be.lineHeight|0,Ue=be.lineNumbersDigitCount|0,Ze=be.typicalHalfwidthCharacterWidth,et=be.maxDigitWidth,nt=be.pixelRatio,at=be.viewLineCount,ft=me.get(137),tt=ft==="inherit"?me.get(136):ft,ht=tt==="inherit"?me.get(132):tt,ot=me.get(135),_t=be.isDominatedByLongLines,pt=me.get(57),ye=me.get(68).renderType!==0,we=me.get(69),Me=me.get(105),Te=me.get(84),Le=me.get(73),Oe=me.get(103),Pe=Oe.verticalScrollbarSize,ze=Oe.verticalHasArrows,je=Oe.arrowSize,$e=Oe.horizontalScrollbarSize,Qe=me.get(43),gt=me.get(110)!=="never";let Ye=me.get(66);Qe&&gt&&(Ye+=16);let Fe=0;if(ye){const Et=Math.max(Ue,we);Fe=Math.round(Et*et)}let Ve=0;pt&&(Ve=qe*be.glyphMarginDecorationLaneCount);let Ke=0,Ge=Ke+Ve,it=Ge+Fe,Je=it+Ye;const lt=Re-Ve-Fe-Ye;let st=!1,rt=!1,ut=-1;tt==="inherit"&&_t?(st=!0,rt=!0):ht==="on"||ht==="bounded"?rt=!0:ht==="wordWrapColumn"&&(ut=ot);const ct=j._computeMinimapLayout({outerWidth:Re,outerHeight:He,lineHeight:qe,typicalHalfwidthCharacterWidth:Ze,pixelRatio:nt,scrollBeyondLastLine:Me,paddingTop:Te.top,paddingBottom:Te.bottom,minimap:Le,verticalScrollbarWidth:Pe,viewLineCount:at,remainingWidth:lt,isViewportWrapping:rt},be.memory||new b);ct.renderMinimap!==0&&ct.minimapLeft===0&&(Ke+=ct.minimapWidth,Ge+=ct.minimapWidth,it+=ct.minimapWidth,Je+=ct.minimapWidth);const Lt=lt-ct.minimapWidth,dt=Math.max(1,Math.floor((Lt-Pe-2)/Ze)),yt=ze?je:0;return rt&&(ut=Math.max(1,dt),ht==="bounded"&&(ut=Math.min(ut,ot))),{width:Re,height:He,glyphMarginLeft:Ke,glyphMarginWidth:Ve,glyphMarginDecorationLaneCount:be.glyphMarginDecorationLaneCount,lineNumbersLeft:Ge,lineNumbersWidth:Fe,decorationsLeft:it,decorationsWidth:Ye,contentLeft:Je,contentWidth:Lt,minimap:ct,viewportColumn:dt,isWordWrapMinified:st,isViewportWrapping:rt,wrappingColumn:ut,verticalScrollbarWidth:Pe,horizontalScrollbarHeight:$e,overviewRuler:{top:yt,width:Pe,height:He-2*yt,right:0}}}}e.EditorLayoutInfoComputer=j;class K extends C{constructor(){super(139,"wrappingStrategy","simple",{"editor.wrappingStrategy":{enumDescriptions:[p.localize(47,null),p.localize(48,null)],type:"string",enum:["simple","advanced"],default:"simple",description:p.localize(49,null)}})}validate(me){return l(me,"simple",["simple","advanced"])}compute(me,be,Re){return be.get(2)===2?"advanced":Re}}var U;(function(Ne){Ne.Off="off",Ne.OnCode="onCode",Ne.On="on"})(U||(e.ShowLightbulbIconMode=U={}));class G extends C{constructor(){const me={enabled:U.On};super(65,"lightbulb",me,{"editor.lightbulb.enabled":{type:"string",tags:["experimental"],enum:[U.Off,U.OnCode,U.On],default:me.enabled,enumDescriptions:[p.localize(50,null),p.localize(51,null),p.localize(52,null)],description:p.localize(53,null)}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{enabled:l(me.enabled,this.defaultValue.enabled,[U.Off,U.OnCode,U.On])}}}class te extends C{constructor(){const me={enabled:!0,maxLineCount:5,defaultModel:"outlineModel",scrollWithEditor:!0};super(115,"stickyScroll",me,{"editor.stickyScroll.enabled":{type:"boolean",default:me.enabled,description:p.localize(54,null),tags:["experimental"]},"editor.stickyScroll.maxLineCount":{type:"number",default:me.maxLineCount,minimum:1,maximum:20,description:p.localize(55,null)},"editor.stickyScroll.defaultModel":{type:"string",enum:["outlineModel","foldingProviderModel","indentationModel"],default:me.defaultModel,description:p.localize(56,null)},"editor.stickyScroll.scrollWithEditor":{type:"boolean",default:me.scrollWithEditor,description:p.localize(57,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),maxLineCount:u.clampedInt(be.maxLineCount,this.defaultValue.maxLineCount,1,20),defaultModel:l(be.defaultModel,this.defaultValue.defaultModel,["outlineModel","foldingProviderModel","indentationModel"]),scrollWithEditor:n(be.scrollWithEditor,this.defaultValue.scrollWithEditor)}}}class ee extends C{constructor(){const me={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(141,"inlayHints",me,{"editor.inlayHints.enabled":{type:"string",default:me.enabled,description:p.localize(58,null),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[p.localize(59,null),p.localize(60,null,E.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(61,null,E.isMacintosh?"Ctrl+Option":"Ctrl+Alt"),p.localize(62,null)]},"editor.inlayHints.fontSize":{type:"number",default:me.fontSize,markdownDescription:p.localize(63,null,"`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:me.fontFamily,markdownDescription:p.localize(64,null,"`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:me.padding,description:p.localize(65,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return typeof be.enabled=="boolean"&&(be.enabled=be.enabled?"on":"off"),{enabled:l(be.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:u.clampedInt(be.fontSize,this.defaultValue.fontSize,0,100),fontFamily:h.string(be.fontFamily,this.defaultValue.fontFamily),padding:n(be.padding,this.defaultValue.padding)}}}class Y extends C{constructor(){super(66,"lineDecorationsWidth",10)}validate(me){return typeof me=="string"&&/^\d+(\.\d+)?ch$/.test(me)?-parseFloat(me.substring(0,me.length-2)):u.clampedInt(me,this.defaultValue,0,1e3)}compute(me,be,Re){return Re<0?u.clampedInt(-Re*me.fontInfo.typicalHalfwidthCharacterWidth,this.defaultValue,0,1e3):Re}}class P extends a{constructor(){super(67,"lineHeight",e.EDITOR_FONT_DEFAULTS.lineHeight,me=>a.clamp(me,0,150),{markdownDescription:p.localize(66,null)})}compute(me,be,Re){return me.fontInfo.lineHeight}}class Z extends C{constructor(){const me={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1,showRegionSectionHeaders:!0,showMarkSectionHeaders:!0,sectionHeaderFontSize:9};super(73,"minimap",me,{"editor.minimap.enabled":{type:"boolean",default:me.enabled,description:p.localize(67,null)},"editor.minimap.autohide":{type:"boolean",default:me.autohide,description:p.localize(68,null)},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[p.localize(69,null),p.localize(70,null),p.localize(71,null)],default:me.size,description:p.localize(72,null)},"editor.minimap.side":{type:"string",enum:["left","right"],default:me.side,description:p.localize(73,null)},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:me.showSlider,description:p.localize(74,null)},"editor.minimap.scale":{type:"number",default:me.scale,minimum:1,maximum:3,enum:[1,2,3],description:p.localize(75,null)},"editor.minimap.renderCharacters":{type:"boolean",default:me.renderCharacters,description:p.localize(76,null)},"editor.minimap.maxColumn":{type:"number",default:me.maxColumn,description:p.localize(77,null)},"editor.minimap.showRegionSectionHeaders":{type:"boolean",default:me.showRegionSectionHeaders,description:p.localize(78,null)},"editor.minimap.showMarkSectionHeaders":{type:"boolean",default:me.showMarkSectionHeaders,description:p.localize(79,null)},"editor.minimap.sectionHeaderFontSize":{type:"number",default:me.sectionHeaderFontSize,description:p.localize(80,null)}})}validate(me){var be;if(!me||typeof me!="object")return this.defaultValue;const Re=me;return{enabled:n(Re.enabled,this.defaultValue.enabled),autohide:n(Re.autohide,this.defaultValue.autohide),size:l(Re.size,this.defaultValue.size,["proportional","fill","fit"]),side:l(Re.side,this.defaultValue.side,["right","left"]),showSlider:l(Re.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:n(Re.renderCharacters,this.defaultValue.renderCharacters),scale:u.clampedInt(Re.scale,1,1,3),maxColumn:u.clampedInt(Re.maxColumn,this.defaultValue.maxColumn,1,1e4),showRegionSectionHeaders:n(Re.showRegionSectionHeaders,this.defaultValue.showRegionSectionHeaders),showMarkSectionHeaders:n(Re.showMarkSectionHeaders,this.defaultValue.showMarkSectionHeaders),sectionHeaderFontSize:a.clamp((be=Re.sectionHeaderFontSize)!==null&&be!==void 0?be:this.defaultValue.sectionHeaderFontSize,4,32)}}}function re(Ne){return Ne==="ctrlCmd"?E.isMacintosh?"metaKey":"ctrlKey":"altKey"}class ce extends C{constructor(){super(84,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(81,null)},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:p.localize(82,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{top:u.clampedInt(be.top,0,0,1e3),bottom:u.clampedInt(be.bottom,0,0,1e3)}}}class he extends C{constructor(){const me={enabled:!0,cycle:!0};super(86,"parameterHints",me,{"editor.parameterHints.enabled":{type:"boolean",default:me.enabled,description:p.localize(83,null)},"editor.parameterHints.cycle":{type:"boolean",default:me.cycle,description:p.localize(84,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),cycle:n(be.cycle,this.defaultValue.cycle)}}}class pe extends i{constructor(){super(143)}compute(me,be,Re){return me.pixelRatio}}class ge extends C{constructor(){const me={other:"on",comments:"off",strings:"off"},be=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[p.localize(85,null),p.localize(86,null),p.localize(87,null)]}];super(89,"quickSuggestions",me,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:be,default:me.strings,description:p.localize(88,null)},comments:{anyOf:be,default:me.comments,description:p.localize(89,null)},other:{anyOf:be,default:me.other,description:p.localize(90,null)}},default:me,markdownDescription:p.localize(91,null,"#editor.suggestOnTriggerCharacters#")}),this.defaultValue=me}validate(me){if(typeof me=="boolean"){const nt=me?"on":"off";return{comments:nt,strings:nt,other:nt}}if(!me||typeof me!="object")return this.defaultValue;const{other:be,comments:Re,strings:He}=me,qe=["on","inline","off"];let Ue,Ze,et;return typeof be=="boolean"?Ue=be?"on":"off":Ue=l(be,this.defaultValue.other,qe),typeof Re=="boolean"?Ze=Re?"on":"off":Ze=l(Re,this.defaultValue.comments,qe),typeof He=="boolean"?et=He?"on":"off":et=l(He,this.defaultValue.strings,qe),{other:Ue,comments:Ze,strings:et}}}class X extends C{constructor(){super(68,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[p.localize(92,null),p.localize(93,null),p.localize(94,null),p.localize(95,null)],default:"on",description:p.localize(96,null)})}validate(me){let be=this.defaultValue.renderType,Re=this.defaultValue.renderFn;return typeof me<"u"&&(typeof me=="function"?(be=4,Re=me):me==="interval"?be=3:me==="relative"?be=2:me==="on"?be=1:be=0),{renderType:be,renderFn:Re}}}function ae(Ne){const me=Ne.get(98);return me==="editable"?Ne.get(91):me!=="on"}class oe extends C{constructor(){const me=[],be={type:"number",description:p.localize(97,null)};super(102,"rulers",me,{type:"array",items:{anyOf:[be,{type:["object"],properties:{column:be,color:{type:"string",description:p.localize(98,null),format:"color-hex"}}}]},default:me,description:p.localize(99,null)})}validate(me){if(Array.isArray(me)){const be=[];for(const Re of me)if(typeof Re=="number")be.push({column:u.clampedInt(Re,0,0,1e4),color:null});else if(Re&&typeof Re=="object"){const He=Re;be.push({column:u.clampedInt(He.column,0,0,1e4),color:He.color})}return be.sort((Re,He)=>Re.column-He.column),be}return this.defaultValue}}class B extends C{constructor(){super(92,"readOnlyMessage",void 0)}validate(me){return!me||typeof me!="object"?this.defaultValue:me}}function q(Ne,me){if(typeof Ne!="string")return me;switch(Ne){case"hidden":return 2;case"visible":return 3;default:return 1}}class V extends C{constructor(){const me={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1,ignoreHorizontalScrollbarInContentHeight:!1};super(103,"scrollbar",me,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(100,null),p.localize(101,null),p.localize(102,null)],default:"auto",description:p.localize(103,null)},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[p.localize(104,null),p.localize(105,null),p.localize(106,null)],default:"auto",description:p.localize(107,null)},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:me.verticalScrollbarSize,description:p.localize(108,null)},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:me.horizontalScrollbarSize,description:p.localize(109,null)},"editor.scrollbar.scrollByPage":{type:"boolean",default:me.scrollByPage,description:p.localize(110,null)},"editor.scrollbar.ignoreHorizontalScrollbarInContentHeight":{type:"boolean",default:me.ignoreHorizontalScrollbarInContentHeight,description:p.localize(111,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me,Re=u.clampedInt(be.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),He=u.clampedInt(be.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:u.clampedInt(be.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:q(be.vertical,this.defaultValue.vertical),horizontal:q(be.horizontal,this.defaultValue.horizontal),useShadows:n(be.useShadows,this.defaultValue.useShadows),verticalHasArrows:n(be.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:n(be.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:n(be.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:n(be.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Re,horizontalSliderSize:u.clampedInt(be.horizontalSliderSize,Re,0,1e3),verticalScrollbarSize:He,verticalSliderSize:u.clampedInt(be.verticalSliderSize,He,0,1e3),scrollByPage:n(be.scrollByPage,this.defaultValue.scrollByPage),ignoreHorizontalScrollbarInContentHeight:n(be.ignoreHorizontalScrollbarInContentHeight,this.defaultValue.ignoreHorizontalScrollbarInContentHeight)}}}e.inUntrustedWorkspace="inUntrustedWorkspace",e.unicodeHighlightConfigKeys={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class $ extends C{constructor(){const me={nonBasicASCII:e.inUntrustedWorkspace,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:e.inUntrustedWorkspace,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(125,"unicodeHighlight",me,{[e.unicodeHighlightConfigKeys.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.nonBasicASCII,description:p.localize(112,null)},[e.unicodeHighlightConfigKeys.invisibleCharacters]:{restricted:!0,type:"boolean",default:me.invisibleCharacters,description:p.localize(113,null)},[e.unicodeHighlightConfigKeys.ambiguousCharacters]:{restricted:!0,type:"boolean",default:me.ambiguousCharacters,description:p.localize(114,null)},[e.unicodeHighlightConfigKeys.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeComments,description:p.localize(115,null)},[e.unicodeHighlightConfigKeys.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,e.inUntrustedWorkspace],default:me.includeStrings,description:p.localize(116,null)},[e.unicodeHighlightConfigKeys.allowedCharacters]:{restricted:!0,type:"object",default:me.allowedCharacters,description:p.localize(117,null),additionalProperties:{type:"boolean"}},[e.unicodeHighlightConfigKeys.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:me.allowedLocales,description:p.localize(118,null)}})}applyUpdate(me,be){let Re=!1;be.allowedCharacters&&me&&(k.equals(me.allowedCharacters,be.allowedCharacters)||(me={...me,allowedCharacters:be.allowedCharacters},Re=!0)),be.allowedLocales&&me&&(k.equals(me.allowedLocales,be.allowedLocales)||(me={...me,allowedLocales:be.allowedLocales},Re=!0));const He=super.applyUpdate(me,be);return Re?new o(He.newValue,!0):He}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{nonBasicASCII:fe(be.nonBasicASCII,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),invisibleCharacters:n(be.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:n(be.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:fe(be.includeComments,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),includeStrings:fe(be.includeStrings,e.inUntrustedWorkspace,[!0,!1,e.inUntrustedWorkspace]),allowedCharacters:this.validateBooleanMap(me.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(me.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(me,be){if(typeof me!="object"||!me)return be;const Re={};for(const[He,qe]of Object.entries(me))qe===!0&&(Re[He]=!0);return Re}}class J extends C{constructor(){const me={enabled:!0,mode:"subwordSmart",showToolbar:"onHover",suppressSuggestions:!1,keepOnBlur:!1,fontFamily:"default"};super(62,"inlineSuggest",me,{"editor.inlineSuggest.enabled":{type:"boolean",default:me.enabled,description:p.localize(119,null)},"editor.inlineSuggest.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(120,null),p.localize(121,null),p.localize(122,null)],description:p.localize(123,null)},"editor.inlineSuggest.suppressSuggestions":{type:"boolean",default:me.suppressSuggestions,description:p.localize(124,null)},"editor.inlineSuggest.fontFamily":{type:"string",default:me.fontFamily,description:p.localize(125,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),mode:l(be.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"]),showToolbar:l(be.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),suppressSuggestions:n(be.suppressSuggestions,this.defaultValue.suppressSuggestions),keepOnBlur:n(be.keepOnBlur,this.defaultValue.keepOnBlur),fontFamily:h.string(be.fontFamily,this.defaultValue.fontFamily)}}}class se extends C{constructor(){const me={enabled:!1,showToolbar:"onHover",fontFamily:"default",keepOnBlur:!1,backgroundColoring:!1};super(63,"experimentalInlineEdit",me,{"editor.experimentalInlineEdit.enabled":{type:"boolean",default:me.enabled,description:p.localize(126,null)},"editor.experimentalInlineEdit.showToolbar":{type:"string",default:me.showToolbar,enum:["always","onHover","never"],enumDescriptions:[p.localize(127,null),p.localize(128,null),p.localize(129,null)],description:p.localize(130,null)},"editor.experimentalInlineEdit.fontFamily":{type:"string",default:me.fontFamily,description:p.localize(131,null)},"editor.experimentalInlineEdit.backgroundColoring":{type:"boolean",default:me.backgroundColoring,description:p.localize(132,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),showToolbar:l(be.showToolbar,this.defaultValue.showToolbar,["always","onHover","never"]),fontFamily:h.string(be.fontFamily,this.defaultValue.fontFamily),keepOnBlur:n(be.keepOnBlur,this.defaultValue.keepOnBlur),backgroundColoring:n(be.backgroundColoring,this.defaultValue.backgroundColoring)}}}class de extends C{constructor(){const me={enabled:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:D.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(15,"bracketPairColorization",me,{"editor.bracketPairColorization.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(133,null,"`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:me.independentColorPoolPerBracketType,description:p.localize(134,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:n(be.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class le extends C{constructor(){const me={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(16,"guides",me,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(135,null),p.localize(136,null),p.localize(137,null)],default:me.bracketPairs,description:p.localize(138,null)},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[p.localize(139,null),p.localize(140,null),p.localize(141,null)],default:me.bracketPairsHorizontal,description:p.localize(142,null)},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:me.highlightActiveBracketPair,description:p.localize(143,null)},"editor.guides.indentation":{type:"boolean",default:me.indentation,description:p.localize(144,null)},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[p.localize(145,null),p.localize(146,null),p.localize(147,null)],default:me.highlightActiveIndentation,description:p.localize(148,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{bracketPairs:fe(be.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:fe(be.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:n(be.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:n(be.indentation,this.defaultValue.indentation),highlightActiveIndentation:fe(be.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function fe(Ne,me,be){const Re=be.indexOf(Ne);return Re===-1?me:be[Re]}class ve extends C{constructor(){const me={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!1,localityBonus:!1,shareSuggestSelections:!1,selectionMode:"always",showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,matchOnWordStartOnly:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(118,"suggest",me,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[p.localize(149,null),p.localize(150,null)],default:me.insertMode,description:p.localize(151,null)},"editor.suggest.filterGraceful":{type:"boolean",default:me.filterGraceful,description:p.localize(152,null)},"editor.suggest.localityBonus":{type:"boolean",default:me.localityBonus,description:p.localize(153,null)},"editor.suggest.shareSuggestSelections":{type:"boolean",default:me.shareSuggestSelections,markdownDescription:p.localize(154,null)},"editor.suggest.selectionMode":{type:"string",enum:["always","never","whenTriggerCharacter","whenQuickSuggestion"],enumDescriptions:[p.localize(155,null),p.localize(156,null),p.localize(157,null),p.localize(158,null)],default:me.selectionMode,markdownDescription:p.localize(159,null)},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:me.snippetsPreventQuickSuggestions,description:p.localize(160,null)},"editor.suggest.showIcons":{type:"boolean",default:me.showIcons,description:p.localize(161,null)},"editor.suggest.showStatusBar":{type:"boolean",default:me.showStatusBar,description:p.localize(162,null)},"editor.suggest.preview":{type:"boolean",default:me.preview,description:p.localize(163,null)},"editor.suggest.showInlineDetails":{type:"boolean",default:me.showInlineDetails,description:p.localize(164,null)},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:p.localize(165,null)},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:p.localize(166,null)},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:p.localize(167,null)},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:p.localize(168,null)},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:p.localize(169,null)},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:p.localize(170,null)},"editor.suggest.matchOnWordStartOnly":{type:"boolean",default:!0,markdownDescription:p.localize(171,null)},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:p.localize(172,null)},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:p.localize(173,null)},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:p.localize(174,null)},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:p.localize(175,null)},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:p.localize(176,null)},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:p.localize(177,null)},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:p.localize(178,null)},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:p.localize(179,null)},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:p.localize(180,null)},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:p.localize(181,null)},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:p.localize(182,null)},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:p.localize(183,null)},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:p.localize(184,null)},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:p.localize(185,null)},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:p.localize(186,null)},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:p.localize(187,null)},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:p.localize(188,null)},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:p.localize(189,null)},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:p.localize(190,null)},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:p.localize(191,null)},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:p.localize(192,null)},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:p.localize(193,null)},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:p.localize(194,null)},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:p.localize(195,null)},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:p.localize(196,null)}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{insertMode:l(be.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:n(be.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:n(be.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:n(be.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:n(be.shareSuggestSelections,this.defaultValue.shareSuggestSelections),selectionMode:l(be.selectionMode,this.defaultValue.selectionMode,["always","never","whenQuickSuggestion","whenTriggerCharacter"]),showIcons:n(be.showIcons,this.defaultValue.showIcons),showStatusBar:n(be.showStatusBar,this.defaultValue.showStatusBar),preview:n(be.preview,this.defaultValue.preview),previewMode:l(be.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:n(be.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:n(be.showMethods,this.defaultValue.showMethods),showFunctions:n(be.showFunctions,this.defaultValue.showFunctions),showConstructors:n(be.showConstructors,this.defaultValue.showConstructors),showDeprecated:n(be.showDeprecated,this.defaultValue.showDeprecated),matchOnWordStartOnly:n(be.matchOnWordStartOnly,this.defaultValue.matchOnWordStartOnly),showFields:n(be.showFields,this.defaultValue.showFields),showVariables:n(be.showVariables,this.defaultValue.showVariables),showClasses:n(be.showClasses,this.defaultValue.showClasses),showStructs:n(be.showStructs,this.defaultValue.showStructs),showInterfaces:n(be.showInterfaces,this.defaultValue.showInterfaces),showModules:n(be.showModules,this.defaultValue.showModules),showProperties:n(be.showProperties,this.defaultValue.showProperties),showEvents:n(be.showEvents,this.defaultValue.showEvents),showOperators:n(be.showOperators,this.defaultValue.showOperators),showUnits:n(be.showUnits,this.defaultValue.showUnits),showValues:n(be.showValues,this.defaultValue.showValues),showConstants:n(be.showConstants,this.defaultValue.showConstants),showEnums:n(be.showEnums,this.defaultValue.showEnums),showEnumMembers:n(be.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:n(be.showKeywords,this.defaultValue.showKeywords),showWords:n(be.showWords,this.defaultValue.showWords),showColors:n(be.showColors,this.defaultValue.showColors),showFiles:n(be.showFiles,this.defaultValue.showFiles),showReferences:n(be.showReferences,this.defaultValue.showReferences),showFolders:n(be.showFolders,this.defaultValue.showFolders),showTypeParameters:n(be.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:n(be.showSnippets,this.defaultValue.showSnippets),showUsers:n(be.showUsers,this.defaultValue.showUsers),showIssues:n(be.showIssues,this.defaultValue.showIssues)}}}class Ce extends C{constructor(){super(113,"smartSelect",{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:p.localize(197,null),default:!0,type:"boolean"},"editor.smartSelect.selectSubwords":{description:p.localize(198,null),default:!0,type:"boolean"}})}validate(me){return!me||typeof me!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:n(me.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace),selectSubwords:n(me.selectSubwords,this.defaultValue.selectSubwords)}}}class Se extends C{constructor(){const me=[];super(130,"wordSegmenterLocales",me,{anyOf:[{description:p.localize(199,null),type:"string"},{description:p.localize(200,null),type:"array",items:{type:"string"}}]})}validate(me){if(typeof me=="string"&&(me=[me]),Array.isArray(me)){const be=[];for(const Re of me)if(typeof Re=="string")try{Intl.Segmenter.supportedLocalesOf(Re).length>0&&be.push(Re)}catch{}return be}return this.defaultValue}}class _e extends C{constructor(){super(138,"wrappingIndent",1,{"editor.wrappingIndent":{type:"string",enum:["none","same","indent","deepIndent"],enumDescriptions:[p.localize(201,null),p.localize(202,null),p.localize(203,null),p.localize(204,null)],description:p.localize(205,null),default:"same"}})}validate(me){switch(me){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}return 1}compute(me,be,Re){return be.get(2)===2?0:Re}}class ke extends i{constructor(){super(146)}compute(me,be,Re){const He=be.get(145);return{isDominatedByLongLines:me.isDominatedByLongLines,isWordWrapMinified:He.isWordWrapMinified,isViewportWrapping:He.isViewportWrapping,wrappingColumn:He.wrappingColumn}}}class Ee extends C{constructor(){const me={enabled:!0,showDropSelector:"afterDrop"};super(36,"dropIntoEditor",me,{"editor.dropIntoEditor.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(206,null)},"editor.dropIntoEditor.showDropSelector":{type:"string",markdownDescription:p.localize(207,null),enum:["afterDrop","never"],enumDescriptions:[p.localize(208,null),p.localize(209,null)],default:"afterDrop"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),showDropSelector:l(be.showDropSelector,this.defaultValue.showDropSelector,["afterDrop","never"])}}}class Ae extends C{constructor(){const me={enabled:!0,showPasteSelector:"afterPaste"};super(85,"pasteAs",me,{"editor.pasteAs.enabled":{type:"boolean",default:me.enabled,markdownDescription:p.localize(210,null)},"editor.pasteAs.showPasteSelector":{type:"string",markdownDescription:p.localize(211,null),enum:["afterPaste","never"],enumDescriptions:[p.localize(212,null),p.localize(213,null)],default:"afterPaste"}})}validate(me){if(!me||typeof me!="object")return this.defaultValue;const be=me;return{enabled:n(be.enabled,this.defaultValue.enabled),showPasteSelector:l(be.showPasteSelector,this.defaultValue.showPasteSelector,["afterPaste","never"])}}}const xe="Consolas, 'Courier New', monospace",We="Menlo, Monaco, 'Courier New', monospace",Be="'Droid Sans Mono', 'monospace', monospace";e.EDITOR_FONT_DEFAULTS={fontFamily:E.isMacintosh?We:E.isLinux?Be:xe,fontWeight:"normal",fontSize:E.isMacintosh?12:14,lineHeight:0,letterSpacing:0},e.editorOptionsRegistry=[];function De(Ne){return e.editorOptionsRegistry[Ne.id]=Ne,Ne}e.EditorOptions={acceptSuggestionOnCommitCharacter:De(new c(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:p.localize(214,null)})),acceptSuggestionOnEnter:De(new g(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",p.localize(215,null),""],markdownDescription:p.localize(216,null)})),accessibilitySupport:De(new _),accessibilityPageSize:De(new u(3,"accessibilityPageSize",10,1,1073741824,{description:p.localize(217,null),tags:["accessibility"]})),ariaLabel:De(new h(4,"ariaLabel",p.localize(218,null))),ariaRequired:De(new c(5,"ariaRequired",!1,void 0)),screenReaderAnnounceInlineSuggestion:De(new c(8,"screenReaderAnnounceInlineSuggestion",!0,{description:p.localize(219,null),tags:["accessibility"]})),autoClosingBrackets:De(new g(6,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(220,null),p.localize(221,null),""],description:p.localize(222,null)})),autoClosingComments:De(new g(7,"autoClosingComments","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(223,null),p.localize(224,null),""],description:p.localize(225,null)})),autoClosingDelete:De(new g(9,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",p.localize(226,null),""],description:p.localize(227,null)})),autoClosingOvertype:De(new g(10,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",p.localize(228,null),""],description:p.localize(229,null)})),autoClosingQuotes:De(new g(11,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",p.localize(230,null),p.localize(231,null),""],description:p.localize(232,null)})),autoIndent:De(new d(12,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],v,{enumDescriptions:[p.localize(233,null),p.localize(234,null),p.localize(235,null),p.localize(236,null),p.localize(237,null)],description:p.localize(238,null)})),automaticLayout:De(new c(13,"automaticLayout",!1)),autoSurround:De(new g(14,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[p.localize(239,null),p.localize(240,null),p.localize(241,null),""],description:p.localize(242,null)})),bracketPairColorization:De(new de),bracketPairGuides:De(new le),stickyTabStops:De(new c(116,"stickyTabStops",!1,{description:p.localize(243,null)})),codeLens:De(new c(17,"codeLens",!0,{description:p.localize(244,null)})),codeLensFontFamily:De(new h(18,"codeLensFontFamily","",{description:p.localize(245,null)})),codeLensFontSize:De(new u(19,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:p.localize(246,null)})),colorDecorators:De(new c(20,"colorDecorators",!0,{description:p.localize(247,null)})),colorDecoratorActivatedOn:De(new g(148,"colorDecoratorsActivatedOn","clickAndHover",["clickAndHover","hover","click"],{enumDescriptions:[p.localize(248,null),p.localize(249,null),p.localize(250,null)],description:p.localize(251,null)})),colorDecoratorsLimit:De(new u(21,"colorDecoratorsLimit",500,1,1e6,{markdownDescription:p.localize(252,null)})),columnSelection:De(new c(22,"columnSelection",!1,{description:p.localize(253,null)})),comments:De(new S),contextmenu:De(new c(24,"contextmenu",!0)),copyWithSyntaxHighlighting:De(new c(25,"copyWithSyntaxHighlighting",!0,{description:p.localize(254,null)})),cursorBlinking:De(new d(26,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],L,{description:p.localize(255,null)})),cursorSmoothCaretAnimation:De(new g(27,"cursorSmoothCaretAnimation","off",["off","explicit","on"],{enumDescriptions:[p.localize(256,null),p.localize(257,null),p.localize(258,null)],description:p.localize(259,null)})),cursorStyle:De(new d(28,"cursorStyle",I.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],T,{description:p.localize(260,null)})),cursorSurroundingLines:De(new u(29,"cursorSurroundingLines",0,0,1073741824,{description:p.localize(261,null)})),cursorSurroundingLinesStyle:De(new g(30,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[p.localize(262,null),p.localize(263,null)],markdownDescription:p.localize(264,null)})),cursorWidth:De(new u(31,"cursorWidth",0,0,1073741824,{markdownDescription:p.localize(265,null)})),disableLayerHinting:De(new c(32,"disableLayerHinting",!1)),disableMonospaceOptimizations:De(new c(33,"disableMonospaceOptimizations",!1)),domReadOnly:De(new c(34,"domReadOnly",!1)),dragAndDrop:De(new c(35,"dragAndDrop",!0,{description:p.localize(266,null)})),emptySelectionClipboard:De(new A),dropIntoEditor:De(new Ee),stickyScroll:De(new te),experimentalWhitespaceRendering:De(new g(38,"experimentalWhitespaceRendering","svg",["svg","font","off"],{enumDescriptions:[p.localize(267,null),p.localize(268,null),p.localize(269,null)],description:p.localize(270,null)})),extraEditorClassName:De(new h(39,"extraEditorClassName","")),fastScrollSensitivity:De(new a(40,"fastScrollSensitivity",5,Ne=>Ne<=0?5:Ne,{markdownDescription:p.localize(271,null)})),find:De(new O),fixedOverflowWidgets:De(new c(42,"fixedOverflowWidgets",!1)),folding:De(new c(43,"folding",!0,{description:p.localize(272,null)})),foldingStrategy:De(new g(44,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[p.localize(273,null),p.localize(274,null)],description:p.localize(275,null)})),foldingHighlight:De(new c(45,"foldingHighlight",!0,{description:p.localize(276,null)})),foldingImportsByDefault:De(new c(46,"foldingImportsByDefault",!1,{description:p.localize(277,null)})),foldingMaximumRegions:De(new u(47,"foldingMaximumRegions",5e3,10,65e3,{description:p.localize(278,null)})),unfoldOnClickAfterEndOfLine:De(new c(48,"unfoldOnClickAfterEndOfLine",!1,{description:p.localize(279,null)})),fontFamily:De(new h(49,"fontFamily",e.EDITOR_FONT_DEFAULTS.fontFamily,{description:p.localize(280,null)})),fontInfo:De(new x),fontLigatures2:De(new M),fontSize:De(new F),fontWeight:De(new W),fontVariations:De(new R),formatOnPaste:De(new c(55,"formatOnPaste",!1,{description:p.localize(281,null)})),formatOnType:De(new c(56,"formatOnType",!1,{description:p.localize(282,null)})),glyphMargin:De(new c(57,"glyphMargin",!0,{description:p.localize(283,null)})),gotoLocation:De(new H),hideCursorInOverviewRuler:De(new c(59,"hideCursorInOverviewRuler",!1,{description:p.localize(284,null)})),hover:De(new z),inDiffEditor:De(new c(61,"inDiffEditor",!1)),letterSpacing:De(new a(64,"letterSpacing",e.EDITOR_FONT_DEFAULTS.letterSpacing,Ne=>a.clamp(Ne,-5,20),{description:p.localize(285,null)})),lightbulb:De(new G),lineDecorationsWidth:De(new Y),lineHeight:De(new P),lineNumbers:De(new X),lineNumbersMinChars:De(new u(69,"lineNumbersMinChars",5,1,300)),linkedEditing:De(new c(70,"linkedEditing",!1,{description:p.localize(286,null)})),links:De(new c(71,"links",!0,{description:p.localize(287,null)})),matchBrackets:De(new g(72,"matchBrackets","always",["always","near","never"],{description:p.localize(288,null)})),minimap:De(new Z),mouseStyle:De(new g(74,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:De(new a(75,"mouseWheelScrollSensitivity",1,Ne=>Ne===0?1:Ne,{markdownDescription:p.localize(289,null)})),mouseWheelZoom:De(new c(76,"mouseWheelZoom",!1,{markdownDescription:E.isMacintosh?p.localize(290,null):p.localize(291,null)})),multiCursorMergeOverlapping:De(new c(77,"multiCursorMergeOverlapping",!0,{description:p.localize(292,null)})),multiCursorModifier:De(new d(78,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],re,{markdownEnumDescriptions:[p.localize(293,null),p.localize(294,null)],markdownDescription:p.localize(295,null)})),multiCursorPaste:De(new g(79,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[p.localize(296,null),p.localize(297,null)],markdownDescription:p.localize(298,null)})),multiCursorLimit:De(new u(80,"multiCursorLimit",1e4,1,1e5,{markdownDescription:p.localize(299,null)})),occurrencesHighlight:De(new g(81,"occurrencesHighlight","singleFile",["off","singleFile","multiFile"],{markdownEnumDescriptions:[p.localize(300,null),p.localize(301,null),p.localize(302,null)],markdownDescription:p.localize(303,null)})),overviewRulerBorder:De(new c(82,"overviewRulerBorder",!0,{description:p.localize(304,null)})),overviewRulerLanes:De(new u(83,"overviewRulerLanes",3,0,3)),padding:De(new ce),pasteAs:De(new Ae),parameterHints:De(new he),peekWidgetDefaultFocus:De(new g(87,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[p.localize(305,null),p.localize(306,null)],description:p.localize(307,null)})),definitionLinkOpensInPeek:De(new c(88,"definitionLinkOpensInPeek",!1,{description:p.localize(308,null)})),quickSuggestions:De(new ge),quickSuggestionsDelay:De(new u(90,"quickSuggestionsDelay",10,0,1073741824,{description:p.localize(309,null)})),readOnly:De(new c(91,"readOnly",!1)),readOnlyMessage:De(new B),renameOnType:De(new c(93,"renameOnType",!1,{description:p.localize(310,null),markdownDeprecationMessage:p.localize(311,null)})),renderControlCharacters:De(new c(94,"renderControlCharacters",!0,{description:p.localize(312,null),restricted:!0})),renderFinalNewline:De(new g(95,"renderFinalNewline",E.isLinux?"dimmed":"on",["off","on","dimmed"],{description:p.localize(313,null)})),renderLineHighlight:De(new g(96,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",p.localize(314,null)],description:p.localize(315,null)})),renderLineHighlightOnlyWhenFocus:De(new c(97,"renderLineHighlightOnlyWhenFocus",!1,{description:p.localize(316,null)})),renderValidationDecorations:De(new g(98,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:De(new g(99,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",p.localize(317,null),p.localize(318,null),p.localize(319,null),""],description:p.localize(320,null)})),revealHorizontalRightPadding:De(new u(100,"revealHorizontalRightPadding",15,0,1e3)),roundedSelection:De(new c(101,"roundedSelection",!0,{description:p.localize(321,null)})),rulers:De(new oe),scrollbar:De(new V),scrollBeyondLastColumn:De(new u(104,"scrollBeyondLastColumn",4,0,1073741824,{description:p.localize(322,null)})),scrollBeyondLastLine:De(new c(105,"scrollBeyondLastLine",!0,{description:p.localize(323,null)})),scrollPredominantAxis:De(new c(106,"scrollPredominantAxis",!0,{description:p.localize(324,null)})),selectionClipboard:De(new c(107,"selectionClipboard",!0,{description:p.localize(325,null),included:E.isLinux})),selectionHighlight:De(new c(108,"selectionHighlight",!0,{description:p.localize(326,null)})),selectOnLineNumbers:De(new c(109,"selectOnLineNumbers",!0)),showFoldingControls:De(new g(110,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[p.localize(327,null),p.localize(328,null),p.localize(329,null)],description:p.localize(330,null)})),showUnused:De(new c(111,"showUnused",!0,{description:p.localize(331,null)})),showDeprecated:De(new c(140,"showDeprecated",!0,{description:p.localize(332,null)})),inlayHints:De(new ee),snippetSuggestions:De(new g(112,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[p.localize(333,null),p.localize(334,null),p.localize(335,null),p.localize(336,null)],description:p.localize(337,null)})),smartSelect:De(new Ce),smoothScrolling:De(new c(114,"smoothScrolling",!1,{description:p.localize(338,null)})),stopRenderingLineAfter:De(new u(117,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:De(new ve),inlineSuggest:De(new J),inlineEdit:De(new se),inlineCompletionsAccessibilityVerbose:De(new c(149,"inlineCompletionsAccessibilityVerbose",!1,{description:p.localize(339,null)})),suggestFontSize:De(new u(119,"suggestFontSize",0,0,1e3,{markdownDescription:p.localize(340,null,"`0`","`#editor.fontSize#`")})),suggestLineHeight:De(new u(120,"suggestLineHeight",0,0,1e3,{markdownDescription:p.localize(341,null,"`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:De(new c(121,"suggestOnTriggerCharacters",!0,{description:p.localize(342,null)})),suggestSelection:De(new g(122,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[p.localize(343,null),p.localize(344,null),p.localize(345,null)],description:p.localize(346,null)})),tabCompletion:De(new g(123,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[p.localize(347,null),p.localize(348,null),p.localize(349,null)],description:p.localize(350,null)})),tabIndex:De(new u(124,"tabIndex",0,-1,1073741824)),unicodeHighlight:De(new $),unusualLineTerminators:De(new g(126,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[p.localize(351,null),p.localize(352,null),p.localize(353,null)],description:p.localize(354,null)})),useShadowDOM:De(new c(127,"useShadowDOM",!0)),useTabStops:De(new c(128,"useTabStops",!0,{description:p.localize(355,null)})),wordBreak:De(new g(129,"wordBreak","normal",["normal","keepAll"],{markdownEnumDescriptions:[p.localize(356,null),p.localize(357,null)],description:p.localize(358,null)})),wordSegmenterLocales:De(new Se),wordSeparators:De(new h(131,"wordSeparators",y.USUAL_WORD_SEPARATORS,{description:p.localize(359,null)})),wordWrap:De(new g(132,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[p.localize(360,null),p.localize(361,null),p.localize(362,null),p.localize(363,null)],description:p.localize(364,null)})),wordWrapBreakAfterCharacters:De(new h(133,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:De(new h(134,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:De(new u(135,"wordWrapColumn",80,1,1073741824,{markdownDescription:p.localize(365,null)})),wordWrapOverride1:De(new g(136,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:De(new g(137,"wordWrapOverride2","inherit",["off","on","inherit"])),editorClassName:De(new N),defaultColorDecorators:De(new c(147,"defaultColorDecorators",!1,{markdownDescription:p.localize(366,null)})),pixelRatio:De(new pe),tabFocusMode:De(new c(144,"tabFocusMode",!1,{markdownDescription:p.localize(367,null)})),layoutInfo:De(new j),wrappingInfo:De(new ke),wrappingIndent:De(new _e),wrappingStrategy:De(new K)}}),define(ie[677],ne([1,0,6,40,12,71,38,9,5,219]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursor=e.CursorPlurality=void 0;class C{constructor(t,n,c,m,u,r,a){this.top=t,this.left=n,this.paddingLeft=c,this.width=m,this.height=u,this.textContent=r,this.textContentClassName=a}}var o;(function(i){i[i.Single=0]="Single",i[i.MultiPrimary=1]="MultiPrimary",i[i.MultiSecondary=2]="MultiSecondary"})(o||(e.CursorPlurality=o={}));class s{constructor(t,n){this._context=t;const c=this._context.configuration.options,m=c.get(50);this._cursorStyle=c.get(28),this._lineHeight=c.get(67),this._typicalHalfwidthCharacterWidth=m.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(31),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,k.createFastDomNode)(document.createElement("div")),this._domNode.setClassName(`cursor ${b.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,D.applyFontInfo)(this._domNode,m),this._domNode.setDisplay("none"),this._position=new p.Position(1,1),this._pluralityClass="",this.setPlurality(n),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}setPlurality(t){switch(t){default:case o.Single:this._pluralityClass="";break;case o.MultiPrimary:this._pluralityClass="cursor-primary";break;case o.MultiSecondary:this._pluralityClass="cursor-secondary";break}}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(t){const n=this._context.configuration.options,c=n.get(50);return this._cursorStyle=n.get(28),this._lineHeight=n.get(67),this._typicalHalfwidthCharacterWidth=c.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(n.get(31),this._typicalHalfwidthCharacterWidth),(0,D.applyFontInfo)(this._domNode,c),!0}onCursorPositionChanged(t,n){return n?this._domNode.domNode.style.transitionProperty="none":this._domNode.domNode.style.transitionProperty="",this._position=t,!0}_getGraphemeAwarePosition(){const{lineNumber:t,column:n}=this._position,c=this._context.viewModel.getLineContent(t),[m,u]=E.getCharContainingOffset(c,n-1);return[new p.Position(t,m+1),c.substring(m,u)]}_prepareRender(t){let n="",c="";const[m,u]=this._getGraphemeAwarePosition();if(this._cursorStyle===y.TextEditorCursorStyle.Line||this._cursorStyle===y.TextEditorCursorStyle.LineThin){const v=t.visibleRangeForPosition(m);if(!v||v.outsideRenderedLine)return null;const _=f.getWindow(this._domNode.domNode);let S;this._cursorStyle===y.TextEditorCursorStyle.Line?(S=f.computeScreenAwareSize(_,this._lineCursorWidth>0?this._lineCursorWidth:2),S>2&&(n=u,c=this._getTokenClassName(m))):S=f.computeScreenAwareSize(_,1);let L=v.left,I=0;S>=2&&L>=1&&(I=1,L-=I);const T=t.getVerticalOffsetForLineNumber(m.lineNumber)-t.bigNumbersDelta;return new C(T,L,I,S,this._lineHeight,n,c)}const r=t.linesVisibleRangesForRange(new w.Range(m.lineNumber,m.column,m.lineNumber,m.column+u.length),!1);if(!r||r.length===0)return null;const a=r[0];if(a.outsideRenderedLine||a.ranges.length===0)return null;const h=a.ranges[0],l=u==="	"?this._typicalHalfwidthCharacterWidth:h.width<1?this._typicalHalfwidthCharacterWidth:h.width;this._cursorStyle===y.TextEditorCursorStyle.Block&&(n=u,c=this._getTokenClassName(m));let g=t.getVerticalOffsetForLineNumber(m.lineNumber)-t.bigNumbersDelta,d=this._lineHeight;return(this._cursorStyle===y.TextEditorCursorStyle.Underline||this._cursorStyle===y.TextEditorCursorStyle.UnderlineThin)&&(g+=this._lineHeight-2,d=2),new C(g,h.left,0,l,d,n,c)}_getTokenClassName(t){const n=this._context.viewModel.getViewLineData(t.lineNumber),c=n.tokens.findTokenIndexAtOffset(t.column-1);return n.tokens.getClassName(c)}prepareRender(t){this._renderData=this._prepareRender(t)}render(t){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${this._pluralityClass} ${b.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setPaddingLeft(this._renderData.paddingLeft),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}e.ViewCursor=s}),define(ie[256],ne([1,0,17,38,160]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontInfo=e.SERIALIZED_FONT_INFO_VERSION=e.BareFontInfo=void 0;const D=f.isMacintosh?1.5:1.35,y=8;class p{static createFromValidatedSettings(C,o,s){const i=C.get(49),t=C.get(53),n=C.get(52),c=C.get(51),m=C.get(54),u=C.get(67),r=C.get(64);return p._create(i,t,n,c,m,u,r,o,s)}static _create(C,o,s,i,t,n,c,m,u){n===0?n=D*s:n<y&&(n=n*s),n=Math.round(n),n<y&&(n=y);const r=1+(u?0:E.EditorZoom.getZoomLevel()*.1);return s*=r,n*=r,t===k.EditorFontVariations.TRANSLATE&&(o==="normal"||o==="bold"?t=k.EditorFontVariations.OFF:(t=`'wght' ${parseInt(o,10)}`,o="normal")),new p({pixelRatio:m,fontFamily:C,fontWeight:o,fontSize:s,fontFeatureSettings:i,fontVariationSettings:t,lineHeight:n,letterSpacing:c})}constructor(C){this._bareFontInfoBrand=void 0,this.pixelRatio=C.pixelRatio,this.fontFamily=String(C.fontFamily),this.fontWeight=String(C.fontWeight),this.fontSize=C.fontSize,this.fontFeatureSettings=C.fontFeatureSettings,this.fontVariationSettings=C.fontVariationSettings,this.lineHeight=C.lineHeight|0,this.letterSpacing=C.letterSpacing}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.fontVariationSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const C=k.EDITOR_FONT_DEFAULTS.fontFamily,o=p._wrapInQuotes(this.fontFamily);return C&&this.fontFamily!==C?`${o}, ${C}`:o}static _wrapInQuotes(C){return/[,"']/.test(C)?C:/[+ ]/.test(C)?`"${C}"`:C}}e.BareFontInfo=p,e.SERIALIZED_FONT_INFO_VERSION=2;class w extends p{constructor(C,o){super(C),this._editorStylingBrand=void 0,this.version=e.SERIALIZED_FONT_INFO_VERSION,this.isTrusted=o,this.isMonospace=C.isMonospace,this.typicalHalfwidthCharacterWidth=C.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=C.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=C.canUseHalfwidthRightwardsArrow,this.spaceWidth=C.spaceWidth,this.middotWidth=C.middotWidth,this.wsmiddotWidth=C.wsmiddotWidth,this.maxDigitWidth=C.maxDigitWidth}equals(C){return this.fontFamily===C.fontFamily&&this.fontWeight===C.fontWeight&&this.fontSize===C.fontSize&&this.fontFeatureSettings===C.fontFeatureSettings&&this.fontVariationSettings===C.fontVariationSettings&&this.lineHeight===C.lineHeight&&this.letterSpacing===C.letterSpacing&&this.typicalHalfwidthCharacterWidth===C.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===C.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.maxDigitWidth===C.maxDigitWidth}}e.FontInfo=w}),define(ie[356],ne([1,0,6,246,7,2,521,38,256]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FontMeasurements=e.FontMeasurementsImpl=void 0;class b extends D.Disposable{constructor(){super(...arguments),this._cache=new Map,this._evictUntrustedReadingsTimeout=-1,this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache.clear(),this._onDidChange.fire()}_ensureCache(s){const i=(0,f.getWindowId)(s);let t=this._cache.get(i);return t||(t=new C,this._cache.set(i,t)),t}_writeToCache(s,i,t){this._ensureCache(s).put(i,t),!t.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=s.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings(s)},5e3))}_evictUntrustedReadings(s){const i=this._ensureCache(s),t=i.getValues();let n=!1;for(const c of t)c.isTrusted||(n=!0,i.remove(c));n&&this._onDidChange.fire()}readFontInfo(s,i){const t=this._ensureCache(s);if(!t.has(i)){let n=this._actualReadFontInfo(s,i);(n.typicalHalfwidthCharacterWidth<=2||n.typicalFullwidthCharacterWidth<=2||n.spaceWidth<=2||n.maxDigitWidth<=2)&&(n=new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(s).value,fontFamily:n.fontFamily,fontWeight:n.fontWeight,fontSize:n.fontSize,fontFeatureSettings:n.fontFeatureSettings,fontVariationSettings:n.fontVariationSettings,lineHeight:n.lineHeight,letterSpacing:n.letterSpacing,isMonospace:n.isMonospace,typicalHalfwidthCharacterWidth:Math.max(n.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(n.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:n.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(n.spaceWidth,5),middotWidth:Math.max(n.middotWidth,5),wsmiddotWidth:Math.max(n.wsmiddotWidth,5),maxDigitWidth:Math.max(n.maxDigitWidth,5)},!1)),this._writeToCache(s,i,n)}return t.get(i)}_createRequest(s,i,t,n){const c=new y.CharWidthRequest(s,i);return t.push(c),n?.push(c),c}_actualReadFontInfo(s,i){const t=[],n=[],c=this._createRequest("n",0,t,n),m=this._createRequest("\uFF4D",0,t,null),u=this._createRequest(" ",0,t,n),r=this._createRequest("0",0,t,n),a=this._createRequest("1",0,t,n),h=this._createRequest("2",0,t,n),l=this._createRequest("3",0,t,n),g=this._createRequest("4",0,t,n),d=this._createRequest("5",0,t,n),v=this._createRequest("6",0,t,n),_=this._createRequest("7",0,t,n),S=this._createRequest("8",0,t,n),L=this._createRequest("9",0,t,n),I=this._createRequest("\u2192",0,t,n),T=this._createRequest("\uFFEB",0,t,null),N=this._createRequest("\xB7",0,t,n),A=this._createRequest("\u2E31",0,t,null),O="|/-_ilm%";for(let W=0,H=O.length;W<H;W++)this._createRequest(O.charAt(W),0,t,n),this._createRequest(O.charAt(W),1,t,n),this._createRequest(O.charAt(W),2,t,n);(0,y.readCharWidths)(s,i,t);const M=Math.max(r.width,a.width,h.width,l.width,g.width,d.width,v.width,_.width,S.width,L.width);let R=i.fontFeatureSettings===p.EditorFontLigatures.OFF;const x=n[0].width;for(let W=1,H=n.length;R&&W<H;W++){const z=x-n[W].width;if(z<-.001||z>.001){R=!1;break}}let F=!0;return R&&T.width!==x&&(F=!1),T.width>I.width&&(F=!1),new w.FontInfo({pixelRatio:k.PixelRatio.getInstance(s).value,fontFamily:i.fontFamily,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFeatureSettings:i.fontFeatureSettings,fontVariationSettings:i.fontVariationSettings,lineHeight:i.lineHeight,letterSpacing:i.letterSpacing,isMonospace:R,typicalHalfwidthCharacterWidth:c.width,typicalFullwidthCharacterWidth:m.width,canUseHalfwidthRightwardsArrow:F,spaceWidth:u.width,middotWidth:N.width,wsmiddotWidth:A.width,maxDigitWidth:M},!0)}}e.FontMeasurementsImpl=b;class C{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(s){const i=s.getId();return!!this._values[i]}get(s){const i=s.getId();return this._values[i]}put(s,i){const t=s.getId();this._keys[t]=s,this._values[t]=i}remove(s){const i=s.getId();delete this._keys[i],delete this._values[i]}getValues(){return Object.keys(this._keys).map(s=>this._values[s])}}e.FontMeasurements=new b}),define(ie[357],ne([1,0,9,5,91,38]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelDecorations=void 0,e.isModelDecorationVisible=p,e.isModelDecorationInComment=w,e.isModelDecorationInString=b;class y{constructor(s,i,t,n,c){this.editorId=s,this.model=i,this.configuration=t,this._linesCollection=n,this._coordinatesConverter=c,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(s){const i=s.id;let t=this._decorationsCache[i];if(!t){const n=s.range,c=s.options;let m;if(c.isWholeLine){const u=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(n.startLineNumber,1),0,!1,!0),r=this._coordinatesConverter.convertModelPositionToViewPosition(new f.Position(n.endLineNumber,this.model.getLineMaxColumn(n.endLineNumber)),1);m=new k.Range(u.lineNumber,u.column,r.lineNumber,r.column)}else m=this._coordinatesConverter.convertModelRangeToViewRange(n,1);t=new E.ViewModelDecoration(m,c),this._decorationsCache[i]=t}return t}getMinimapDecorationsInRange(s){return this._getDecorationsInRange(s,!0,!1).decorations}getDecorationsViewportData(s){let i=this._cachedModelDecorationsResolver!==null;return i=i&&s.equalsRange(this._cachedModelDecorationsResolverViewRange),i||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(s,!1,!1),this._cachedModelDecorationsResolverViewRange=s),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(s,i=!1,t=!1){const n=new k.Range(s,this._linesCollection.getViewLineMinColumn(s),s,this._linesCollection.getViewLineMaxColumn(s));return this._getDecorationsInRange(n,i,t).inlineDecorations[0]}_getDecorationsInRange(s,i,t){const n=this._linesCollection.getDecorationsInRange(s,this.editorId,(0,D.filterValidationDecorations)(this.configuration.options),i,t),c=s.startLineNumber,m=s.endLineNumber,u=[];let r=0;const a=[];for(let h=c;h<=m;h++)a[h-c]=[];for(let h=0,l=n.length;h<l;h++){const g=n[h],d=g.options;if(!p(this.model,g))continue;const v=this._getOrCreateViewModelDecoration(g),_=v.range;if(u[r++]=v,d.inlineClassName){const S=new E.InlineDecoration(_,d.inlineClassName,d.inlineClassNameAffectsLetterSpacing?3:0),L=Math.max(c,_.startLineNumber),I=Math.min(m,_.endLineNumber);for(let T=L;T<=I;T++)a[T-c].push(S)}if(d.beforeContentClassName&&c<=_.startLineNumber&&_.startLineNumber<=m){const S=new E.InlineDecoration(new k.Range(_.startLineNumber,_.startColumn,_.startLineNumber,_.startColumn),d.beforeContentClassName,1);a[_.startLineNumber-c].push(S)}if(d.afterContentClassName&&c<=_.endLineNumber&&_.endLineNumber<=m){const S=new E.InlineDecoration(new k.Range(_.endLineNumber,_.endColumn,_.endLineNumber,_.endColumn),d.afterContentClassName,2);a[_.endLineNumber-c].push(S)}}return{decorations:u,inlineDecorations:a}}}e.ViewModelDecorations=y;function p(o,s){return!(s.options.hideInCommentTokens&&w(o,s)||s.options.hideInStringTokens&&b(o,s))}function w(o,s){return C(o,s.range,i=>i===1)}function b(o,s){return C(o,s.range,i=>i===2)}function C(o,s,i){for(let t=s.startLineNumber;t<=s.endLineNumber;t++){const n=o.tokenization.getLineTokens(t),c=t===s.startLineNumber,m=t===s.endLineNumber;let u=c?n.findTokenIndexAtOffset(s.startColumn-1):0;for(;u<n.getCount()&&!(m&&n.getStartOffset(u)>s.endColumn-1);){if(!i(n.getStandardTokenType(u)))return!1;u++}}return!0}}),define(ie[678],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/core/editorColorRegistry",e)}),define(ie[679],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/editorContextKeys",e)}),define(ie[680],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/languages",e)}),define(ie[28],ne([1,0,26,22,5,564,680]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditTriggerKind=e.TokenizationRegistry=e.LazyTokenizationSupport=e.InlayHintKind=e.Command=e.NewSymbolNameTriggerKind=e.NewSymbolNameTag=e.FoldingRangeKind=e.TextEdit=e.SymbolKinds=e.symbolKindNames=e.DocumentHighlightKind=e.SignatureHelpTriggerKind=e.DocumentPasteTriggerKind=e.SelectedSuggestionInfo=e.InlineCompletionTriggerKind=e.CompletionItemKinds=e.HoverVerbosityAction=e.EncodedTokenizationResult=e.TokenizationResult=e.Token=void 0,e.isLocationLink=m,e.getAriaLabelForSymbol=u;class p{constructor(I,T,N){this.offset=I,this.type=T,this.language=N,this._tokenBrand=void 0}toString(){return"("+this.offset+", "+this.type+")"}}e.Token=p;class w{constructor(I,T){this.tokens=I,this.endState=T,this._tokenizationResultBrand=void 0}}e.TokenizationResult=w;class b{constructor(I,T){this.tokens=I,this.endState=T,this._encodedTokenizationResultBrand=void 0}}e.EncodedTokenizationResult=b;var C;(function(L){L[L.Increase=0]="Increase",L[L.Decrease=1]="Decrease"})(C||(e.HoverVerbosityAction=C={}));var o;(function(L){const I=new Map;I.set(0,f.Codicon.symbolMethod),I.set(1,f.Codicon.symbolFunction),I.set(2,f.Codicon.symbolConstructor),I.set(3,f.Codicon.symbolField),I.set(4,f.Codicon.symbolVariable),I.set(5,f.Codicon.symbolClass),I.set(6,f.Codicon.symbolStruct),I.set(7,f.Codicon.symbolInterface),I.set(8,f.Codicon.symbolModule),I.set(9,f.Codicon.symbolProperty),I.set(10,f.Codicon.symbolEvent),I.set(11,f.Codicon.symbolOperator),I.set(12,f.Codicon.symbolUnit),I.set(13,f.Codicon.symbolValue),I.set(15,f.Codicon.symbolEnum),I.set(14,f.Codicon.symbolConstant),I.set(15,f.Codicon.symbolEnum),I.set(16,f.Codicon.symbolEnumMember),I.set(17,f.Codicon.symbolKeyword),I.set(27,f.Codicon.symbolSnippet),I.set(18,f.Codicon.symbolText),I.set(19,f.Codicon.symbolColor),I.set(20,f.Codicon.symbolFile),I.set(21,f.Codicon.symbolReference),I.set(22,f.Codicon.symbolCustomColor),I.set(23,f.Codicon.symbolFolder),I.set(24,f.Codicon.symbolTypeParameter),I.set(25,f.Codicon.account),I.set(26,f.Codicon.issues);function T(O){let M=I.get(O);return M||(console.info("No codicon found for CompletionItemKind "+O),M=f.Codicon.symbolProperty),M}L.toIcon=T;const N=new Map;N.set("method",0),N.set("function",1),N.set("constructor",2),N.set("field",3),N.set("variable",4),N.set("class",5),N.set("struct",6),N.set("interface",7),N.set("module",8),N.set("property",9),N.set("event",10),N.set("operator",11),N.set("unit",12),N.set("value",13),N.set("constant",14),N.set("enum",15),N.set("enum-member",16),N.set("enumMember",16),N.set("keyword",17),N.set("snippet",27),N.set("text",18),N.set("color",19),N.set("file",20),N.set("reference",21),N.set("customcolor",22),N.set("folder",23),N.set("type-parameter",24),N.set("typeParameter",24),N.set("account",25),N.set("issue",26);function A(O,M){let R=N.get(O);return typeof R>"u"&&!M&&(R=9),R}L.fromString=A})(o||(e.CompletionItemKinds=o={}));var s;(function(L){L[L.Automatic=0]="Automatic",L[L.Explicit=1]="Explicit"})(s||(e.InlineCompletionTriggerKind=s={}));class i{constructor(I,T,N,A){this.range=I,this.text=T,this.completionKind=N,this.isSnippetText=A}equals(I){return E.Range.lift(this.range).equalsRange(I.range)&&this.text===I.text&&this.completionKind===I.completionKind&&this.isSnippetText===I.isSnippetText}}e.SelectedSuggestionInfo=i;var t;(function(L){L[L.Automatic=0]="Automatic",L[L.PasteAs=1]="PasteAs"})(t||(e.DocumentPasteTriggerKind=t={}));var n;(function(L){L[L.Invoke=1]="Invoke",L[L.TriggerCharacter=2]="TriggerCharacter",L[L.ContentChange=3]="ContentChange"})(n||(e.SignatureHelpTriggerKind=n={}));var c;(function(L){L[L.Text=0]="Text",L[L.Read=1]="Read",L[L.Write=2]="Write"})(c||(e.DocumentHighlightKind=c={}));function m(L){return L&&k.URI.isUri(L.uri)&&E.Range.isIRange(L.range)&&(E.Range.isIRange(L.originSelectionRange)||E.Range.isIRange(L.targetSelectionRange))}e.symbolKindNames={17:(0,y.localize)(0,null),16:(0,y.localize)(1,null),4:(0,y.localize)(2,null),13:(0,y.localize)(3,null),8:(0,y.localize)(4,null),9:(0,y.localize)(5,null),21:(0,y.localize)(6,null),23:(0,y.localize)(7,null),7:(0,y.localize)(8,null),0:(0,y.localize)(9,null),11:(0,y.localize)(10,null),10:(0,y.localize)(11,null),19:(0,y.localize)(12,null),5:(0,y.localize)(13,null),1:(0,y.localize)(14,null),2:(0,y.localize)(15,null),20:(0,y.localize)(16,null),15:(0,y.localize)(17,null),18:(0,y.localize)(18,null),24:(0,y.localize)(19,null),3:(0,y.localize)(20,null),6:(0,y.localize)(21,null),14:(0,y.localize)(22,null),22:(0,y.localize)(23,null),25:(0,y.localize)(24,null),12:(0,y.localize)(25,null)};function u(L,I){return(0,y.localize)(26,null,L,e.symbolKindNames[I])}var r;(function(L){const I=new Map;I.set(0,f.Codicon.symbolFile),I.set(1,f.Codicon.symbolModule),I.set(2,f.Codicon.symbolNamespace),I.set(3,f.Codicon.symbolPackage),I.set(4,f.Codicon.symbolClass),I.set(5,f.Codicon.symbolMethod),I.set(6,f.Codicon.symbolProperty),I.set(7,f.Codicon.symbolField),I.set(8,f.Codicon.symbolConstructor),I.set(9,f.Codicon.symbolEnum),I.set(10,f.Codicon.symbolInterface),I.set(11,f.Codicon.symbolFunction),I.set(12,f.Codicon.symbolVariable),I.set(13,f.Codicon.symbolConstant),I.set(14,f.Codicon.symbolString),I.set(15,f.Codicon.symbolNumber),I.set(16,f.Codicon.symbolBoolean),I.set(17,f.Codicon.symbolArray),I.set(18,f.Codicon.symbolObject),I.set(19,f.Codicon.symbolKey),I.set(20,f.Codicon.symbolNull),I.set(21,f.Codicon.symbolEnumMember),I.set(22,f.Codicon.symbolStruct),I.set(23,f.Codicon.symbolEvent),I.set(24,f.Codicon.symbolOperator),I.set(25,f.Codicon.symbolTypeParameter);function T(N){let A=I.get(N);return A||(console.info("No codicon found for SymbolKind "+N),A=f.Codicon.symbolProperty),A}L.toIcon=T})(r||(e.SymbolKinds=r={}));class a{}e.TextEdit=a;class h{static fromValue(I){switch(I){case"comment":return h.Comment;case"imports":return h.Imports;case"region":return h.Region}return new h(I)}constructor(I){this.value=I}}e.FoldingRangeKind=h,h.Comment=new h("comment"),h.Imports=new h("imports"),h.Region=new h("region");var l;(function(L){L[L.AIGenerated=1]="AIGenerated"})(l||(e.NewSymbolNameTag=l={}));var g;(function(L){L[L.Invoke=0]="Invoke",L[L.Automatic=1]="Automatic"})(g||(e.NewSymbolNameTriggerKind=g={}));var d;(function(L){function I(T){return!T||typeof T!="object"?!1:typeof T.id=="string"&&typeof T.title=="string"}L.is=I})(d||(e.Command=d={}));var v;(function(L){L[L.Type=1]="Type",L[L.Parameter=2]="Parameter"})(v||(e.InlayHintKind=v={}));class _{constructor(I){this.createSupport=I,this._tokenizationSupport=null}dispose(){this._tokenizationSupport&&this._tokenizationSupport.then(I=>{I&&I.dispose()})}get tokenizationSupport(){return this._tokenizationSupport||(this._tokenizationSupport=this.createSupport()),this._tokenizationSupport}}e.LazyTokenizationSupport=_,e.TokenizationRegistry=new D.TokenizationRegistry;var S;(function(L){L[L.Invoke=0]="Invoke",L[L.Automatic=1]="Automatic"})(S||(e.InlineEditTriggerKind=S={}))}),define(ie[171],ne([1,0,28]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NullState=void 0,e.nullTokenize=k,e.nullTokenizeEncoded=E,e.NullState=new class{clone(){return this}equals(D){return this===D}};function k(D,y){return new f.TokenizationResult([new f.Token(0,"",D)],y)}function E(D,y){const p=new Uint32Array(2);return p[0]=0,p[1]=(D<<0|0|0|32768|2<<24)>>>0,new f.EncodedTokenizationResult(p,y===null?e.NullState:y)}}),define(ie[358],ne([1,0,12,102,28,171]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tokenizeToString=p,e.tokenizeLineToHTML=w,e._tokenizeToString=b;const y={getInitialState:()=>D.NullState,tokenizeEncoded:(C,o,s)=>(0,D.nullTokenizeEncoded)(0,s)};async function p(C,o,s){if(!s)return b(o,C.languageIdCodec,y);const i=await E.TokenizationRegistry.getOrCreate(s);return b(o,C.languageIdCodec,i||y)}function w(C,o,s,i,t,n,c){let m="<div>",u=i,r=0,a=!0;for(let h=0,l=o.getCount();h<l;h++){const g=o.getEndOffset(h);if(g<=i)continue;let d="";for(;u<g&&u<t;u++){const v=C.charCodeAt(u);switch(v){case 9:{let _=n-(u+r)%n;for(r+=_-1;_>0;)c&&a?(d+="&#160;",a=!1):(d+=" ",a=!0),_--;break}case 60:d+="&lt;",a=!1;break;case 62:d+="&gt;",a=!1;break;case 38:d+="&amp;",a=!1;break;case 0:d+="&#00;",a=!1;break;case 65279:case 8232:case 8233:case 133:d+="\uFFFD",a=!1;break;case 13:d+="&#8203",a=!1;break;case 32:c&&a?(d+="&#160;",a=!1):(d+=" ",a=!0);break;default:d+=String.fromCharCode(v),a=!1}}if(m+=`<span style="${o.getInlineStyle(h,s)}">${d}</span>`,g>t||u>=t)break}return m+="</div>",m}function b(C,o,s){let i='<div class="monaco-tokenized-source">';const t=f.splitLines(C);let n=s.getInitialState();for(let c=0,m=t.length;c<m;c++){const u=t[c];c>0&&(i+="<br/>");const r=s.tokenizeEncoded(u,!0,n);k.LineTokens.convertToEndOffset(r.tokens,u.length);const h=new k.LineTokens(r.tokens,u,o).inflate();let l=0;for(let g=0,d=h.getCount();g<d;g++){const v=h.getClassName(g),_=h.getEndOffset(g);i+=`<span class="${v}">${f.escape(u.substring(l,_))}</span>`,l=_}n=r.endState}return i+="</div>",i}}),define(ie[681],ne([1,0,15,10,17,64,140,59,65,171,555,320,102]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultBackgroundTokenizer=e.RangePriorityQueueImpl=e.TokenizationStateStore=e.TrackingTokenizationStateStore=e.TokenizerWithStateStoreAndTextModel=e.TokenizerWithStateStore=void 0;class i{constructor(h,l){this.tokenizationSupport=l,this.initialState=this.tokenizationSupport.getInitialState(),this.store=new n(h)}getStartState(h){return this.store.getStartState(h,this.initialState)}getFirstInvalidLine(){return this.store.getFirstInvalidLine(this.initialState)}}e.TokenizerWithStateStore=i;class t extends i{constructor(h,l,g,d){super(h,l),this._textModel=g,this._languageIdCodec=d}updateTokensUntilLine(h,l){const g=this._textModel.getLanguageId();for(;;){const d=this.getFirstInvalidLine();if(!d||d.lineNumber>l)break;const v=this._textModel.getLineContent(d.lineNumber),_=u(this._languageIdCodec,g,this.tokenizationSupport,v,!0,d.startState);h.add(d.lineNumber,_.tokens),this.store.setEndState(d.lineNumber,_.endState)}}getTokenTypeIfInsertingCharacter(h,l){const g=this.getStartState(h.lineNumber);if(!g)return 0;const d=this._textModel.getLanguageId(),v=this._textModel.getLineContent(h.lineNumber),_=v.substring(0,h.column-1)+l+v.substring(h.column-1),S=u(this._languageIdCodec,d,this.tokenizationSupport,_,!0,g),L=new s.LineTokens(S.tokens,_,this._languageIdCodec);if(L.getCount()===0)return 0;const I=L.findTokenIndexAtOffset(h.column-1);return L.getStandardTokenType(I)}tokenizeLineWithEdit(h,l,g){const d=h.lineNumber,v=h.column,_=this.getStartState(d);if(!_)return null;const S=this._textModel.getLineContent(d),L=S.substring(0,v-1)+g+S.substring(v-1+l),I=this._textModel.getLanguageIdAtPosition(d,0),T=u(this._languageIdCodec,I,this.tokenizationSupport,L,!0,_);return new s.LineTokens(T.tokens,L,this._languageIdCodec)}hasAccurateTokensForLine(h){const l=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<l}isCheapToTokenize(h){const l=this.store.getFirstInvalidEndStateLineNumberOrMax();return h<l||h===l&&this._textModel.getLineLength(h)<2048}tokenizeHeuristically(h,l,g){if(g<=this.store.getFirstInvalidEndStateLineNumberOrMax())return{heuristicTokens:!1};if(l<=this.store.getFirstInvalidEndStateLineNumberOrMax())return this.updateTokensUntilLine(h,g),{heuristicTokens:!1};let d=this.guessStartState(l);const v=this._textModel.getLanguageId();for(let _=l;_<=g;_++){const S=this._textModel.getLineContent(_),L=u(this._languageIdCodec,v,this.tokenizationSupport,S,!0,d);h.add(_,L.tokens),d=L.endState}return{heuristicTokens:!0}}guessStartState(h){let l=this._textModel.getLineFirstNonWhitespaceColumn(h);const g=[];let d=null;for(let S=h-1;l>1&&S>=1;S--){const L=this._textModel.getLineFirstNonWhitespaceColumn(S);if(L!==0&&L<l&&(g.push(this._textModel.getLineContent(S)),l=L,d=this.getStartState(S),d))break}d||(d=this.tokenizationSupport.getInitialState()),g.reverse();const v=this._textModel.getLanguageId();let _=d;for(const S of g)_=u(this._languageIdCodec,v,this.tokenizationSupport,S,!1,_).endState;return _}}e.TokenizerWithStateStoreAndTextModel=t;class n{constructor(h){this.lineCount=h,this._tokenizationStateStore=new c,this._invalidEndStatesLineNumbers=new m,this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(1,h+1))}getEndState(h){return this._tokenizationStateStore.getEndState(h)}setEndState(h,l){if(!l)throw new k.BugIndicatingError("Cannot set null/undefined state");this._invalidEndStatesLineNumbers.delete(h);const g=this._tokenizationStateStore.setEndState(h,l);return g&&h<this.lineCount&&this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(h+1,h+2)),g}acceptChange(h,l){this.lineCount+=l-h.length,this._tokenizationStateStore.acceptChange(h,l),this._invalidEndStatesLineNumbers.addRangeAndResize(new w.OffsetRange(h.startLineNumber,h.endLineNumberExclusive),l)}acceptChanges(h){for(const l of h){const[g]=(0,y.countEOL)(l.text);this.acceptChange(new p.LineRange(l.range.startLineNumber,l.range.endLineNumber+1),g+1)}}invalidateEndStateRange(h){this._invalidEndStatesLineNumbers.addRange(new w.OffsetRange(h.startLineNumber,h.endLineNumberExclusive))}getFirstInvalidEndStateLineNumber(){return this._invalidEndStatesLineNumbers.min}getFirstInvalidEndStateLineNumberOrMax(){return this.getFirstInvalidEndStateLineNumber()||Number.MAX_SAFE_INTEGER}allStatesValid(){return this._invalidEndStatesLineNumbers.min===null}getStartState(h,l){return h===1?l:this.getEndState(h-1)}getFirstInvalidLine(h){const l=this.getFirstInvalidEndStateLineNumber();if(l===null)return null;const g=this.getStartState(l,h);if(!g)throw new k.BugIndicatingError("Start state must be defined");return{lineNumber:l,startState:g}}}e.TrackingTokenizationStateStore=n;class c{constructor(){this._lineEndStates=new C.FixedArray(null)}getEndState(h){return this._lineEndStates.get(h)}setEndState(h,l){const g=this._lineEndStates.get(h);return g&&g.equals(l)?!1:(this._lineEndStates.set(h,l),!0)}acceptChange(h,l){let g=h.length;l>0&&g>0&&(g--,l--),this._lineEndStates.replace(h.startLineNumber,g,l)}}e.TokenizationStateStore=c;class m{constructor(){this._ranges=[]}get min(){return this._ranges.length===0?null:this._ranges[0].start}delete(h){const l=this._ranges.findIndex(g=>g.contains(h));if(l!==-1){const g=this._ranges[l];g.start===h?g.endExclusive===h+1?this._ranges.splice(l,1):this._ranges[l]=new w.OffsetRange(h+1,g.endExclusive):g.endExclusive===h+1?this._ranges[l]=new w.OffsetRange(g.start,h):this._ranges.splice(l,1,new w.OffsetRange(g.start,h),new w.OffsetRange(h+1,g.endExclusive))}}addRange(h){w.OffsetRange.addRange(h,this._ranges)}addRangeAndResize(h,l){let g=0;for(;!(g>=this._ranges.length||h.start<=this._ranges[g].endExclusive);)g++;let d=g;for(;!(d>=this._ranges.length||h.endExclusive<this._ranges[d].start);)d++;const v=l-h.length;for(let _=d;_<this._ranges.length;_++)this._ranges[_]=this._ranges[_].delta(v);if(g===d){const _=new w.OffsetRange(h.start,h.start+l);_.isEmpty||this._ranges.splice(g,0,_)}else{const _=Math.min(h.start,this._ranges[g].start),S=Math.max(h.endExclusive,this._ranges[d-1].endExclusive),L=new w.OffsetRange(_,S+v);L.isEmpty?this._ranges.splice(g,d-g):this._ranges.splice(g,d-g,L)}}toString(){return this._ranges.map(h=>h.toString()).join(" + ")}}e.RangePriorityQueueImpl=m;function u(a,h,l,g,d,v){let _=null;if(l)try{_=l.tokenizeEncoded(g,d,v.clone())}catch(S){(0,k.onUnexpectedError)(S)}return _||(_=(0,b.nullTokenizeEncoded)(a.encodeLanguageId(h),v)),s.LineTokens.convertToEndOffset(_.tokens,g.length),_}class r{constructor(h,l){this._tokenizerWithStateStore=h,this._backgroundTokenStore=l,this._isDisposed=!1,this._isScheduled=!1}dispose(){this._isDisposed=!0}handleChanges(){this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,f.runWhenGlobalIdle)(h=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(h)}))}_backgroundTokenizeWithDeadline(h){const l=Date.now()+h.timeRemaining(),g=()=>{this._isDisposed||!this._tokenizerWithStateStore._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<l?(0,E.setTimeout0)(g):this._beginBackgroundTokenization())};g()}_backgroundTokenizeForAtLeast1ms(){const h=this._tokenizerWithStateStore._textModel.getLineCount(),l=new o.ContiguousMultilineTokensBuilder,g=D.StopWatch.create(!1);do if(g.elapsed()>1||this._tokenizeOneInvalidLine(l)>=h)break;while(this._hasLinesToTokenize());this._backgroundTokenStore.setTokens(l.finalize()),this.checkFinished()}_hasLinesToTokenize(){return this._tokenizerWithStateStore?!this._tokenizerWithStateStore.store.allStatesValid():!1}_tokenizeOneInvalidLine(h){var l;const g=(l=this._tokenizerWithStateStore)===null||l===void 0?void 0:l.getFirstInvalidLine();return g?(this._tokenizerWithStateStore.updateTokensUntilLine(h,g.lineNumber),g.lineNumber):this._tokenizerWithStateStore._textModel.getLineCount()+1}checkFinished(){this._isDisposed||this._tokenizerWithStateStore.store.allStatesValid()&&this._backgroundTokenStore.backgroundTokenizationFinished()}requestTokens(h,l){this._tokenizerWithStateStore.store.invalidateEndStateRange(new p.LineRange(h,l))}}e.DefaultBackgroundTokenizer=r}),define(ie[682],ne([1,0,13,15,10,7,2,140,59,9,162,28,314,681,320,567,569]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationTextModelPart=void 0;class m extends s.TextModelPart{constructor(h,l,g,d,v,_){super(),this._languageService=h,this._languageConfigurationService=l,this._textModel=g,this._bracketPairsTextModelPart=d,this._languageId=v,this._attachedViews=_,this._semanticTokens=new c.SparseTokensStore(this._languageService.languageIdCodec),this._onDidChangeLanguage=this._register(new D.Emitter),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new D.Emitter),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this.grammarTokens=this._register(new u(this._languageService.languageIdCodec,this._textModel,()=>this._languageId,this._attachedViews)),this._register(this._languageConfigurationService.onDidChange(S=>{S.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})),this._register(this.grammarTokens.onDidChangeTokens(S=>{this._emitModelTokensChangedEvent(S)})),this._register(this.grammarTokens.onDidChangeBackgroundTokenizationState(S=>{this._bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState()}))}handleDidChangeContent(h){if(h.isFlush)this._semanticTokens.flush();else if(!h.isEolChange)for(const l of h.changes){const[g,d,v]=(0,p.countEOL)(l.text);this._semanticTokens.acceptEdit(l.range,g,d,v,l.text.length>0?l.text.charCodeAt(0):0)}this.grammarTokens.handleDidChangeContent(h)}handleDidChangeAttached(){this.grammarTokens.handleDidChangeAttached()}getLineTokens(h){this.validateLineNumber(h);const l=this.grammarTokens.getLineTokens(h);return this._semanticTokens.addSparseTokens(h,l)}_emitModelTokensChangedEvent(h){this._textModel._isDisposing()||(this._bracketPairsTextModelPart.handleDidChangeTokens(h),this._onDidChangeTokens.fire(h))}validateLineNumber(h){if(h<1||h>this._textModel.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber")}get hasTokens(){return this.grammarTokens.hasTokens}resetTokenization(){this.grammarTokens.resetTokenization()}get backgroundTokenizationState(){return this.grammarTokens.backgroundTokenizationState}forceTokenization(h){this.validateLineNumber(h),this.grammarTokens.forceTokenization(h)}hasAccurateTokensForLine(h){return this.validateLineNumber(h),this.grammarTokens.hasAccurateTokensForLine(h)}isCheapToTokenize(h){return this.validateLineNumber(h),this.grammarTokens.isCheapToTokenize(h)}tokenizeIfCheap(h){this.validateLineNumber(h),this.grammarTokens.tokenizeIfCheap(h)}getTokenTypeIfInsertingCharacter(h,l,g){return this.grammarTokens.getTokenTypeIfInsertingCharacter(h,l,g)}tokenizeLineWithEdit(h,l,g){return this.grammarTokens.tokenizeLineWithEdit(h,l,g)}setSemanticTokens(h,l){this._semanticTokens.set(h,l),this._emitModelTokensChangedEvent({semanticTokensApplied:h!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(h,l){if(this.hasCompleteSemanticTokens())return;const g=this._textModel.validateRange(this._semanticTokens.setPartial(h,l));this._emitModelTokensChangedEvent({semanticTokensApplied:!0,ranges:[{fromLineNumber:g.startLineNumber,toLineNumber:g.endLineNumber}]})}getWordAtPosition(h){this.assertNotDisposed();const l=this._textModel.validatePosition(h),g=this._textModel.getLineContent(l.lineNumber),d=this.getLineTokens(l.lineNumber),v=d.findTokenIndexAtOffset(l.column-1),[_,S]=m._findLanguageBoundaries(d,v),L=(0,C.getWordAtText)(l.column,this.getLanguageConfiguration(d.getLanguageId(v)).getWordDefinition(),g.substring(_,S),_);if(L&&L.startColumn<=h.column&&h.column<=L.endColumn)return L;if(v>0&&_===l.column-1){const[I,T]=m._findLanguageBoundaries(d,v-1),N=(0,C.getWordAtText)(l.column,this.getLanguageConfiguration(d.getLanguageId(v-1)).getWordDefinition(),g.substring(I,T),I);if(N&&N.startColumn<=h.column&&h.column<=N.endColumn)return N}return null}getLanguageConfiguration(h){return this._languageConfigurationService.getLanguageConfiguration(h)}static _findLanguageBoundaries(h,l){const g=h.getLanguageId(l);let d=0;for(let _=l;_>=0&&h.getLanguageId(_)===g;_--)d=h.getStartOffset(_);let v=h.getLineContent().length;for(let _=l,S=h.getCount();_<S&&h.getLanguageId(_)===g;_++)v=h.getEndOffset(_);return[d,v]}getWordUntilPosition(h){const l=this.getWordAtPosition(h);return l?{word:l.word.substr(0,h.column-l.startColumn),startColumn:l.startColumn,endColumn:h.column}:{word:"",startColumn:h.column,endColumn:h.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(h,l){const g=this._textModel.validatePosition(new b.Position(h,l)),d=this.getLineTokens(g.lineNumber);return d.getLanguageId(d.findTokenIndexAtOffset(g.column-1))}setLanguageId(h,l="api"){if(this._languageId===h)return;const g={oldLanguage:this._languageId,newLanguage:h,source:l};this._languageId=h,this._bracketPairsTextModelPart.handleDidChangeLanguage(g),this.grammarTokens.resetTokenization(),this._onDidChangeLanguage.fire(g),this._onDidChangeLanguageConfiguration.fire({})}}e.TokenizationTextModelPart=m;class u extends y.Disposable{get backgroundTokenizationState(){return this._backgroundTokenizationState}constructor(h,l,g,d){super(),this._languageIdCodec=h,this._textModel=l,this.getLanguageId=g,this._tokenizer=null,this._defaultBackgroundTokenizer=null,this._backgroundTokenizer=this._register(new y.MutableDisposable),this._tokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundTokenizer=this._register(new y.MutableDisposable),this._backgroundTokenizationState=1,this._onDidChangeBackgroundTokenizationState=this._register(new D.Emitter),this.onDidChangeBackgroundTokenizationState=this._onDidChangeBackgroundTokenizationState.event,this._onDidChangeTokens=this._register(new D.Emitter),this.onDidChangeTokens=this._onDidChangeTokens.event,this._attachedViewStates=this._register(new y.DisposableMap),this._register(o.TokenizationRegistry.onDidChange(v=>{const _=this.getLanguageId();v.changedLanguages.indexOf(_)!==-1&&this.resetTokenization()})),this.resetTokenization(),this._register(d.onDidChangeVisibleRanges(({view:v,state:_})=>{if(_){let S=this._attachedViewStates.get(v);S||(S=new r(()=>this.refreshRanges(S.lineRanges)),this._attachedViewStates.set(v,S)),S.handleStateChange(_)}else this._attachedViewStates.deleteAndDispose(v)}))}resetTokenization(h=!0){var l;this._tokens.flush(),(l=this._debugBackgroundTokens)===null||l===void 0||l.flush(),this._debugBackgroundStates&&(this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount())),h&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]});const g=()=>{if(this._textModel.isTooLargeForTokenization())return[null,null];const _=o.TokenizationRegistry.get(this.getLanguageId());if(!_)return[null,null];let S;try{S=_.getInitialState()}catch(L){return(0,E.onUnexpectedError)(L),[null,null]}return[_,S]},[d,v]=g();if(d&&v?this._tokenizer=new i.TokenizerWithStateStoreAndTextModel(this._textModel.getLineCount(),d,this._textModel,this._languageIdCodec):this._tokenizer=null,this._backgroundTokenizer.clear(),this._defaultBackgroundTokenizer=null,this._tokenizer){const _={setTokens:S=>{this.setTokens(S)},backgroundTokenizationFinished:()=>{if(this._backgroundTokenizationState===2)return;const S=2;this._backgroundTokenizationState=S,this._onDidChangeBackgroundTokenizationState.fire()},setEndState:(S,L)=>{var I;if(!this._tokenizer)return;const T=this._tokenizer.store.getFirstInvalidEndStateLineNumber();T!==null&&S>=T&&((I=this._tokenizer)===null||I===void 0||I.store.setEndState(S,L))}};d&&d.createBackgroundTokenizer&&!d.backgroundTokenizerShouldOnlyVerifyTokens&&(this._backgroundTokenizer.value=d.createBackgroundTokenizer(this._textModel,_)),!this._backgroundTokenizer.value&&!this._textModel.isTooLargeForTokenization()&&(this._backgroundTokenizer.value=this._defaultBackgroundTokenizer=new i.DefaultBackgroundTokenizer(this._tokenizer,_),this._defaultBackgroundTokenizer.handleChanges()),d?.backgroundTokenizerShouldOnlyVerifyTokens&&d.createBackgroundTokenizer?(this._debugBackgroundTokens=new n.ContiguousTokensStore(this._languageIdCodec),this._debugBackgroundStates=new i.TrackingTokenizationStateStore(this._textModel.getLineCount()),this._debugBackgroundTokenizer.clear(),this._debugBackgroundTokenizer.value=d.createBackgroundTokenizer(this._textModel,{setTokens:S=>{var L;(L=this._debugBackgroundTokens)===null||L===void 0||L.setMultilineTokens(S,this._textModel)},backgroundTokenizationFinished(){},setEndState:(S,L)=>{var I;(I=this._debugBackgroundStates)===null||I===void 0||I.setEndState(S,L)}})):(this._debugBackgroundTokens=void 0,this._debugBackgroundStates=void 0,this._debugBackgroundTokenizer.value=void 0)}this.refreshAllVisibleLineTokens()}handleDidChangeAttached(){var h;(h=this._defaultBackgroundTokenizer)===null||h===void 0||h.handleChanges()}handleDidChangeContent(h){var l,g,d;if(h.isFlush)this.resetTokenization(!1);else if(!h.isEolChange){for(const v of h.changes){const[_,S]=(0,p.countEOL)(v.text);this._tokens.acceptEdit(v.range,_,S),(l=this._debugBackgroundTokens)===null||l===void 0||l.acceptEdit(v.range,_,S)}(g=this._debugBackgroundStates)===null||g===void 0||g.acceptChanges(h.changes),this._tokenizer&&this._tokenizer.store.acceptChanges(h.changes),(d=this._defaultBackgroundTokenizer)===null||d===void 0||d.handleChanges()}}setTokens(h){const{changes:l}=this._tokens.setMultilineTokens(h,this._textModel);return l.length>0&&this._onDidChangeTokens.fire({semanticTokensApplied:!1,ranges:l}),{changes:l}}refreshAllVisibleLineTokens(){const h=w.LineRange.joinMany([...this._attachedViewStates].map(([l,g])=>g.lineRanges));this.refreshRanges(h)}refreshRanges(h){for(const l of h)this.refreshRange(l.startLineNumber,l.endLineNumberExclusive-1)}refreshRange(h,l){var g,d;if(!this._tokenizer)return;h=Math.max(1,Math.min(this._textModel.getLineCount(),h)),l=Math.min(this._textModel.getLineCount(),l);const v=new t.ContiguousMultilineTokensBuilder,{heuristicTokens:_}=this._tokenizer.tokenizeHeuristically(v,h,l),S=this.setTokens(v.finalize());if(_)for(const L of S.changes)(g=this._backgroundTokenizer.value)===null||g===void 0||g.requestTokens(L.fromLineNumber,L.toLineNumber+1);(d=this._defaultBackgroundTokenizer)===null||d===void 0||d.checkFinished()}forceTokenization(h){var l,g;const d=new t.ContiguousMultilineTokensBuilder;(l=this._tokenizer)===null||l===void 0||l.updateTokensUntilLine(d,h),this.setTokens(d.finalize()),(g=this._defaultBackgroundTokenizer)===null||g===void 0||g.checkFinished()}hasAccurateTokensForLine(h){return this._tokenizer?this._tokenizer.hasAccurateTokensForLine(h):!0}isCheapToTokenize(h){return this._tokenizer?this._tokenizer.isCheapToTokenize(h):!0}tokenizeIfCheap(h){this.isCheapToTokenize(h)&&this.forceTokenization(h)}getLineTokens(h){var l;const g=this._textModel.getLineContent(h),d=this._tokens.getTokens(this._textModel.getLanguageId(),h-1,g);if(this._debugBackgroundTokens&&this._debugBackgroundStates&&this._tokenizer&&this._debugBackgroundStates.getFirstInvalidEndStateLineNumberOrMax()>h&&this._tokenizer.store.getFirstInvalidEndStateLineNumberOrMax()>h){const v=this._debugBackgroundTokens.getTokens(this._textModel.getLanguageId(),h-1,g);!d.equals(v)&&(!((l=this._debugBackgroundTokenizer.value)===null||l===void 0)&&l.reportMismatchingTokens)&&this._debugBackgroundTokenizer.value.reportMismatchingTokens(h)}return d}getTokenTypeIfInsertingCharacter(h,l,g){if(!this._tokenizer)return 0;const d=this._textModel.validatePosition(new b.Position(h,l));return this.forceTokenization(d.lineNumber),this._tokenizer.getTokenTypeIfInsertingCharacter(d,g)}tokenizeLineWithEdit(h,l,g){if(!this._tokenizer)return null;const d=this._textModel.validatePosition(h);return this.forceTokenization(d.lineNumber),this._tokenizer.tokenizeLineWithEdit(d,l,g)}get hasTokens(){return this._tokens.hasTokens}}class r extends y.Disposable{get lineRanges(){return this._lineRanges}constructor(h){super(),this._refreshTokens=h,this.runner=this._register(new k.RunOnceScheduler(()=>this.update(),50)),this._computedLineRanges=[],this._lineRanges=[]}update(){(0,f.equals)(this._computedLineRanges,this._lineRanges,(h,l)=>h.equals(l))||(this._computedLineRanges=this._lineRanges,this._refreshTokens())}handleStateChange(h){this._lineRanges=h.visibleLineRanges,h.stabilized?(this.runner.cancel(),this.update()):this.runner.schedule()}}}),define(ie[359],ne([1,0,19,7,69,22,9,5,24,28,232]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeyMod=void 0,e.createMonacoBaseAPI=s;class o{static chord(t,n){return(0,E.KeyChord)(t,n)}}e.KeyMod=o,o.CtrlCmd=2048,o.Shift=1024,o.Alt=512,o.WinCtrl=256;function s(){return{editor:void 0,languages:void 0,CancellationTokenSource:f.CancellationTokenSource,Emitter:k.Emitter,KeyCode:C.KeyCode,KeyMod:o,Position:y.Position,Range:p.Range,Selection:w.Selection,SelectionDirection:C.SelectionDirection,MarkerSeverity:C.MarkerSeverity,MarkerTag:C.MarkerTag,Uri:D.URI,Token:b.Token}}}),define(ie[683],ne([1,0,185,22,9,5,559,162,542,548,359,64,318,539,55,541,561]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorSimpleWorker=void 0,e.create=r;class m extends y.MirrorTextModel{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}findMatches(h){const l=[];for(let g=0;g<this._lines.length;g++){const d=this._lines[g],v=this.offsetAt(new E.Position(g+1,1)),_=d.matchAll(h);for(const S of _)(S.index||S.index===0)&&(S.index=S.index+v),l.push(S)}return l}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(h){return this._lines[h-1]}getWordAtPosition(h,l){const g=(0,p.getWordAtText)(h.column,(0,p.ensureValidWordDefinition)(l),this._lines[h.lineNumber-1],0);return g?new D.Range(h.lineNumber,g.startColumn,h.lineNumber,g.endColumn):null}words(h){const l=this._lines,g=this._wordenize.bind(this);let d=0,v="",_=0,S=[];return{*[Symbol.iterator](){for(;;)if(_<S.length){const L=v.substring(S[_].start,S[_].end);_+=1,yield L}else if(d<l.length)v=l[d],S=g(v,h),_=0,d+=1;else break}}}getLineWords(h,l){const g=this._lines[h-1],d=this._wordenize(g,l),v=[];for(const _ of d)v.push({word:g.substring(_.start,_.end),startColumn:_.start+1,endColumn:_.end+1});return v}_wordenize(h,l){const g=[];let d;for(l.lastIndex=0;(d=l.exec(h))&&d[0].length!==0;)g.push({start:d.index,end:d.index+d[0].length});return g}getValueInRange(h){if(h=this._validateRange(h),h.startLineNumber===h.endLineNumber)return this._lines[h.startLineNumber-1].substring(h.startColumn-1,h.endColumn-1);const l=this._eol,g=h.startLineNumber-1,d=h.endLineNumber-1,v=[];v.push(this._lines[g].substring(h.startColumn-1));for(let _=g+1;_<d;_++)v.push(this._lines[_]);return v.push(this._lines[d].substring(0,h.endColumn-1)),v.join(l)}offsetAt(h){return h=this._validatePosition(h),this._ensureLineStarts(),this._lineStarts.getPrefixSum(h.lineNumber-2)+(h.column-1)}positionAt(h){h=Math.floor(h),h=Math.max(0,h),this._ensureLineStarts();const l=this._lineStarts.getIndexOf(h),g=this._lines[l.index].length;return{lineNumber:1+l.index,column:1+Math.min(l.remainder,g)}}_validateRange(h){const l=this._validatePosition({lineNumber:h.startLineNumber,column:h.startColumn}),g=this._validatePosition({lineNumber:h.endLineNumber,column:h.endColumn});return l.lineNumber!==h.startLineNumber||l.column!==h.startColumn||g.lineNumber!==h.endLineNumber||g.column!==h.endColumn?{startLineNumber:l.lineNumber,startColumn:l.column,endLineNumber:g.lineNumber,endColumn:g.column}:h}_validatePosition(h){if(!E.Position.isIPosition(h))throw new Error("bad position");let{lineNumber:l,column:g}=h,d=!1;if(l<1)l=1,g=1,d=!0;else if(l>this._lines.length)l=this._lines.length,g=this._lines[l-1].length+1,d=!0;else{const v=this._lines[l-1].length+1;g<1?(g=1,d=!0):g>v&&(g=v,d=!0)}return d?{lineNumber:l,column:g}:h}}class u{constructor(h,l){this._host=h,this._models=Object.create(null),this._foreignModuleFactory=l,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(h){return this._models[h]}_getModels(){const h=[];return Object.keys(this._models).forEach(l=>h.push(this._models[l])),h}acceptNewModel(h){this._models[h.url]=new m(k.URI.parse(h.url),h.lines,h.EOL,h.versionId)}acceptModelChanged(h,l){if(!this._models[h])return;this._models[h].onEvents(l)}acceptRemovedModel(h){this._models[h]&&delete this._models[h]}async computeUnicodeHighlights(h,l,g){const d=this._getModel(h);return d?s.UnicodeTextModelHighlighter.computeUnicodeHighlights(d,l,g):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}}async findSectionHeaders(h,l){const g=this._getModel(h);return g?(0,c.findSectionHeaders)(g,l):[]}async computeDiff(h,l,g,d){const v=this._getModel(h),_=this._getModel(l);return!v||!_?null:u.computeDiff(v,_,g,d)}static computeDiff(h,l,g,d){const v=d==="advanced"?i.linesDiffComputers.getDefault():i.linesDiffComputers.getLegacy(),_=h.getLinesContent(),S=l.getLinesContent(),L=v.computeDiff(_,S,g),I=L.changes.length>0?!1:this._modelsAreIdentical(h,l);function T(N){return N.map(A=>{var O;return[A.original.startLineNumber,A.original.endLineNumberExclusive,A.modified.startLineNumber,A.modified.endLineNumberExclusive,(O=A.innerChanges)===null||O===void 0?void 0:O.map(M=>[M.originalRange.startLineNumber,M.originalRange.startColumn,M.originalRange.endLineNumber,M.originalRange.endColumn,M.modifiedRange.startLineNumber,M.modifiedRange.startColumn,M.modifiedRange.endLineNumber,M.modifiedRange.endColumn])]})}return{identical:I,quitEarly:L.hitTimeout,changes:T(L.changes),moves:L.moves.map(N=>[N.lineRangeMapping.original.startLineNumber,N.lineRangeMapping.original.endLineNumberExclusive,N.lineRangeMapping.modified.startLineNumber,N.lineRangeMapping.modified.endLineNumberExclusive,T(N.changes)])}}static _modelsAreIdentical(h,l){const g=h.getLineCount(),d=l.getLineCount();if(g!==d)return!1;for(let v=1;v<=g;v++){const _=h.getLineContent(v),S=l.getLineContent(v);if(_!==S)return!1}return!0}async computeMoreMinimalEdits(h,l,g){const d=this._getModel(h);if(!d)return l;const v=[];let _;l=l.slice(0).sort((L,I)=>{if(L.range&&I.range)return D.Range.compareRangesUsingStarts(L.range,I.range);const T=L.range?0:1,N=I.range?0:1;return T-N});let S=0;for(let L=1;L<l.length;L++)D.Range.getEndPosition(l[S].range).equals(D.Range.getStartPosition(l[L].range))?(l[S].range=D.Range.fromPositions(D.Range.getStartPosition(l[S].range),D.Range.getEndPosition(l[L].range)),l[S].text+=l[L].text):(S++,l[S]=l[L]);l.length=S+1;for(let{range:L,text:I,eol:T}of l){if(typeof T=="number"&&(_=T),D.Range.isEmpty(L)&&!I)continue;const N=d.getValueInRange(L);if(I=I.replace(/\r\n|\n|\r/g,d.eol),N===I)continue;if(Math.max(I.length,N.length)>u._diffLimit){v.push({range:L,text:I});continue}const A=(0,f.stringDiff)(N,I,g),O=d.offsetAt(D.Range.lift(L).getStartPosition());for(const M of A){const R=d.positionAt(O+M.originalStart),x=d.positionAt(O+M.originalStart+M.originalLength),F={text:I.substr(M.modifiedStart,M.modifiedLength),range:{startLineNumber:R.lineNumber,startColumn:R.column,endLineNumber:x.lineNumber,endColumn:x.column}};d.getValueInRange(F.range)!==F.text&&v.push(F)}}return typeof _=="number"&&v.push({eol:_,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),v}async computeLinks(h){const l=this._getModel(h);return l?(0,w.computeLinks)(l):null}async computeDefaultDocumentColors(h){const l=this._getModel(h);return l?(0,n.computeDefaultDocumentColors)(l):null}async textualSuggest(h,l,g,d){const v=new o.StopWatch,_=new RegExp(g,d),S=new Set;e:for(const L of h){const I=this._getModel(L);if(I){for(const T of I.words(_))if(!(T===l||!isNaN(Number(T)))&&(S.add(T),S.size>u._suggestionsLimit))break e}}return{words:Array.from(S),duration:v.elapsed()}}async computeWordRanges(h,l,g,d){const v=this._getModel(h);if(!v)return Object.create(null);const _=new RegExp(g,d),S=Object.create(null);for(let L=l.startLineNumber;L<l.endLineNumber;L++){const I=v.getLineWords(L,_);for(const T of I){if(!isNaN(Number(T.word)))continue;let N=S[T.word];N||(N=[],S[T.word]=N),N.push({startLineNumber:L,startColumn:T.startColumn,endLineNumber:L,endColumn:T.endColumn})}}return S}async navigateValueSet(h,l,g,d,v){const _=this._getModel(h);if(!_)return null;const S=new RegExp(d,v);l.startColumn===l.endColumn&&(l={startLineNumber:l.startLineNumber,startColumn:l.startColumn,endLineNumber:l.endLineNumber,endColumn:l.endColumn+1});const L=_.getValueInRange(l),I=_.getWordAtPosition({lineNumber:l.startLineNumber,column:l.startColumn},S);if(!I)return null;const T=_.getValueInRange(I);return b.BasicInplaceReplace.INSTANCE.navigateValueSet(l,L,I,T,g)}loadForeignModule(h,l,g){const d=(S,L)=>this._host.fhr(S,L),_={host:(0,t.createProxyObject)(g,d),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(_,l),Promise.resolve((0,t.getAllMethodNames)(this._foreignModule))):new Promise((S,L)=>{Q([h],I=>{this._foreignModule=I.create(_,l),S((0,t.getAllMethodNames)(this._foreignModule))},L)})}fmr(h,l){if(!this._foreignModule||typeof this._foreignModule[h]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+h));try{return Promise.resolve(this._foreignModule[h].apply(this._foreignModule,l))}catch(g){return Promise.reject(g)}}}e.EditorSimpleWorker=u,u._diffLimit=1e5,u._suggestionsLimit=1e4;function r(a){return new u(a,null)}typeof importScripts=="function"&&(globalThis.monaco=(0,C.createMonacoBaseAPI)())}),define(ie[360],ne([1,0,7,2,303,28]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MinimapTokensColorTracker=void 0;class y extends k.Disposable{static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,k.markAsSingleton)(new y)),this._INSTANCE}constructor(){super(),this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(D.TokenizationRegistry.onDidChange(w=>{w.changedColorMap&&this._updateColorMap()}))}_updateColorMap(){const w=D.TokenizationRegistry.getColorMap();if(!w){this._colors=[E.RGBA8.Empty],this._backgroundIsLight=!0;return}this._colors=[E.RGBA8.Empty];for(let C=1;C<w.length;C++){const o=w[C].rgba;this._colors[C]=new E.RGBA8(o.r,o.g,o.b,Math.round(o.a*255))}const b=w[2].getRelativeLuminance();this._backgroundIsLight=b>=.5,this._onDidChange.fire(void 0)}getColor(w){return(w<1||w>=this._colors.length)&&(w=2),this._colors[w]}backgroundIsLight(){return this._backgroundIsLight}}e.MinimapTokensColorTracker=y,y._INSTANCE=null}),define(ie[684],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/languages/modesRegistry",e)}),define(ie[685],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/model/editStack",e)}),define(ie[361],ne([1,0,685,10,24,22,350,156,50]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditStack=e.MultiModelEditStackElement=e.SingleModelEditStackElement=e.SingleModelEditStackData=void 0,e.isEditStackElement=t;function b(c){return c.toString()}class C{static create(m,u){const r=m.getAlternativeVersionId(),a=i(m);return new C(r,r,a,a,u,u,[])}constructor(m,u,r,a,h,l,g){this.beforeVersionId=m,this.afterVersionId=u,this.beforeEOL=r,this.afterEOL=a,this.beforeCursorState=h,this.afterCursorState=l,this.changes=g}append(m,u,r,a,h){u.length>0&&(this.changes=(0,y.compressConsecutiveTextChanges)(this.changes,u)),this.afterEOL=r,this.afterVersionId=a,this.afterCursorState=h}static _writeSelectionsSize(m){return 4+4*4*(m?m.length:0)}static _writeSelections(m,u,r){if(p.writeUInt32BE(m,u?u.length:0,r),r+=4,u)for(const a of u)p.writeUInt32BE(m,a.selectionStartLineNumber,r),r+=4,p.writeUInt32BE(m,a.selectionStartColumn,r),r+=4,p.writeUInt32BE(m,a.positionLineNumber,r),r+=4,p.writeUInt32BE(m,a.positionColumn,r),r+=4;return r}static _readSelections(m,u,r){const a=p.readUInt32BE(m,u);u+=4;for(let h=0;h<a;h++){const l=p.readUInt32BE(m,u);u+=4;const g=p.readUInt32BE(m,u);u+=4;const d=p.readUInt32BE(m,u);u+=4;const v=p.readUInt32BE(m,u);u+=4,r.push(new E.Selection(l,g,d,v))}return u}serialize(){let m=10+C._writeSelectionsSize(this.beforeCursorState)+C._writeSelectionsSize(this.afterCursorState)+4;for(const a of this.changes)m+=a.writeSize();const u=new Uint8Array(m);let r=0;p.writeUInt32BE(u,this.beforeVersionId,r),r+=4,p.writeUInt32BE(u,this.afterVersionId,r),r+=4,p.writeUInt8(u,this.beforeEOL,r),r+=1,p.writeUInt8(u,this.afterEOL,r),r+=1,r=C._writeSelections(u,this.beforeCursorState,r),r=C._writeSelections(u,this.afterCursorState,r),p.writeUInt32BE(u,this.changes.length,r),r+=4;for(const a of this.changes)r=a.write(u,r);return u.buffer}static deserialize(m){const u=new Uint8Array(m);let r=0;const a=p.readUInt32BE(u,r);r+=4;const h=p.readUInt32BE(u,r);r+=4;const l=p.readUInt8(u,r);r+=1;const g=p.readUInt8(u,r);r+=1;const d=[];r=C._readSelections(u,r,d);const v=[];r=C._readSelections(u,r,v);const _=p.readUInt32BE(u,r);r+=4;const S=[];for(let L=0;L<_;L++)r=y.TextChange.read(u,r,S);return new C(a,h,l,g,d,v,S)}}e.SingleModelEditStackData=C;class o{get type(){return 0}get resource(){return D.URI.isUri(this.model)?this.model:this.model.uri}constructor(m,u,r,a){this.label=m,this.code=u,this.model=r,this._data=C.create(r,a)}toString(){return(this._data instanceof C?this._data:C.deserialize(this._data)).changes.map(u=>u.toString()).join(", ")}matchesResource(m){return(D.URI.isUri(this.model)?this.model:this.model.uri).toString()===m.toString()}setModel(m){this.model=m}canAppend(m){return this.model===m&&this._data instanceof C}append(m,u,r,a,h){this._data instanceof C&&this._data.append(m,u,r,a,h)}close(){this._data instanceof C&&(this._data=this._data.serialize())}open(){this._data instanceof C||(this._data=C.deserialize(this._data))}undo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const m=C.deserialize(this._data);this.model._applyUndo(m.changes,m.beforeEOL,m.beforeVersionId,m.beforeCursorState)}redo(){if(D.URI.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof C&&(this._data=this._data.serialize());const m=C.deserialize(this._data);this.model._applyRedo(m.changes,m.afterEOL,m.afterVersionId,m.afterCursorState)}heapSize(){return this._data instanceof C&&(this._data=this._data.serialize()),this._data.byteLength+168}}e.SingleModelEditStackElement=o;class s{get resources(){return this._editStackElementsArr.map(m=>m.resource)}constructor(m,u,r){this.label=m,this.code=u,this.type=1,this._isOpen=!0,this._editStackElementsArr=r.slice(0),this._editStackElementsMap=new Map;for(const a of this._editStackElementsArr){const h=b(a.resource);this._editStackElementsMap.set(h,a)}this._delegate=null}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(m){const u=b(m);return this._editStackElementsMap.has(u)}setModel(m){const u=b(D.URI.isUri(m)?m:m.uri);this._editStackElementsMap.has(u)&&this._editStackElementsMap.get(u).setModel(m)}canAppend(m){if(!this._isOpen)return!1;const u=b(m.uri);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).canAppend(m):!1}append(m,u,r,a,h){const l=b(m.uri);this._editStackElementsMap.get(l).append(m,u,r,a,h)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const m of this._editStackElementsArr)m.undo()}redo(){for(const m of this._editStackElementsArr)m.redo()}heapSize(m){const u=b(m);return this._editStackElementsMap.has(u)?this._editStackElementsMap.get(u).heapSize():0}split(){return this._editStackElementsArr}toString(){const m=[];for(const u of this._editStackElementsArr)m.push(`${(0,w.basename)(u.resource)}: ${u}`);return`{${m.join(", ")}}`}}e.MultiModelEditStackElement=s;function i(c){return c.getEOL()===`
`?0:1}function t(c){return c?c instanceof o||c instanceof s:!1}class n{constructor(m,u){this._model=m,this._undoRedoService=u}pushStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);t(m)&&m.close()}popStackElement(){const m=this._undoRedoService.getLastElement(this._model.uri);t(m)&&m.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(m,u){const r=this._undoRedoService.getLastElement(this._model.uri);if(t(r)&&r.canAppend(this._model))return r;const a=new o(f.localize(0,null),"undoredo.textBufferEdit",this._model,m);return this._undoRedoService.pushElement(a,u),a}pushEOL(m){const u=this._getOrCreateEditStackElement(null,void 0);this._model.setEOL(m),u.append(this._model,[],i(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(m,u,r,a){const h=this._getOrCreateEditStackElement(m,a),l=this._model.applyEdits(u,!0),g=n._computeCursorState(r,l),d=l.map((v,_)=>({index:_,textChange:v.textChange}));return d.sort((v,_)=>v.textChange.oldPosition===_.textChange.oldPosition?v.index-_.index:v.textChange.oldPosition-_.textChange.oldPosition),h.append(this._model,d.map(v=>v.textChange),i(this._model),this._model.getAlternativeVersionId(),g),g}static _computeCursorState(m,u){try{return m?m(u):null}catch(r){return(0,k.onUnexpectedError)(r),null}}}e.EditStack=n}),define(ie[686],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/standaloneStrings",e)}),define(ie[103],ne([1,0,686]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServicesNLS=e.ToggleHighContrastNLS=e.StandaloneCodeEditorNLS=e.QuickOutlineNLS=e.QuickCommandNLS=e.QuickHelpNLS=e.GoToLineNLS=e.InspectTokensNLS=void 0;var k;(function(o){o.inspectTokensAction=f.localize(0,null)})(k||(e.InspectTokensNLS=k={}));var E;(function(o){o.gotoLineActionLabel=f.localize(1,null)})(E||(e.GoToLineNLS=E={}));var D;(function(o){o.helpQuickAccessActionLabel=f.localize(2,null)})(D||(e.QuickHelpNLS=D={}));var y;(function(o){o.quickCommandActionLabel=f.localize(3,null),o.quickCommandHelp=f.localize(4,null)})(y||(e.QuickCommandNLS=y={}));var p;(function(o){o.quickOutlineActionLabel=f.localize(5,null),o.quickOutlineByCategoryActionLabel=f.localize(6,null)})(p||(e.QuickOutlineNLS=p={}));var w;(function(o){o.editorViewAccessibleLabel=f.localize(7,null),o.accessibilityHelpMessage=f.localize(8,null)})(w||(e.StandaloneCodeEditorNLS=w={}));var b;(function(o){o.toggleHighContrast=f.localize(9,null)})(b||(e.ToggleHighContrastNLS=b={}));var C;(function(o){o.bulkEditServiceSummary=f.localize(10,null)})(C||(e.StandaloneServicesNLS=C={}))}),define(ie[687],ne([3,4]),function(Q,e){return Q.create("vs/editor/common/viewLayout/viewLineRenderer",e)}),define(ie[131],ne([1,0,687,12,112,146,577]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderLineOutput2=e.RenderLineOutput=e.CharacterMapping=e.DomPosition=e.RenderLineInput=e.LineRange=void 0,e.renderViewLine=s,e.renderViewLine2=t;class p{constructor(S,L){this.startOffset=S,this.endOffset=L}equals(S){return this.startOffset===S.startOffset&&this.endOffset===S.endOffset}}e.LineRange=p;class w{constructor(S,L,I,T,N,A,O,M,R,x,F,W,H,z,j,K,U,G,te){this.useMonospaceOptimizations=S,this.canUseHalfwidthRightwardsArrow=L,this.lineContent=I,this.continuesWithWrappedLine=T,this.isBasicASCII=N,this.containsRTL=A,this.fauxIndentLength=O,this.lineTokens=M,this.lineDecorations=R.sort(D.LineDecoration.compare),this.tabSize=x,this.startVisibleColumn=F,this.spaceWidth=W,this.stopRenderingLineAfter=j,this.renderWhitespace=K==="all"?4:K==="boundary"?1:K==="selection"?2:K==="trailing"?3:0,this.renderControlCharacters=U,this.fontLigatures=G,this.selectionsOnLine=te&&te.sort((P,Z)=>P.startOffset<Z.startOffset?-1:1);const ee=Math.abs(z-W),Y=Math.abs(H-W);ee<Y?(this.renderSpaceWidth=z,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=H,this.renderSpaceCharCode=183)}sameSelection(S){if(this.selectionsOnLine===null)return S===null;if(S===null||S.length!==this.selectionsOnLine.length)return!1;for(let L=0;L<this.selectionsOnLine.length;L++)if(!this.selectionsOnLine[L].equals(S[L]))return!1;return!0}equals(S){return this.useMonospaceOptimizations===S.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.lineContent===S.lineContent&&this.continuesWithWrappedLine===S.continuesWithWrappedLine&&this.isBasicASCII===S.isBasicASCII&&this.containsRTL===S.containsRTL&&this.fauxIndentLength===S.fauxIndentLength&&this.tabSize===S.tabSize&&this.startVisibleColumn===S.startVisibleColumn&&this.spaceWidth===S.spaceWidth&&this.renderSpaceWidth===S.renderSpaceWidth&&this.renderSpaceCharCode===S.renderSpaceCharCode&&this.stopRenderingLineAfter===S.stopRenderingLineAfter&&this.renderWhitespace===S.renderWhitespace&&this.renderControlCharacters===S.renderControlCharacters&&this.fontLigatures===S.fontLigatures&&D.LineDecoration.equalsArr(this.lineDecorations,S.lineDecorations)&&this.lineTokens.equals(S.lineTokens)&&this.sameSelection(S.selectionsOnLine)}}e.RenderLineInput=w;class b{constructor(S,L){this.partIndex=S,this.charIndex=L}}e.DomPosition=b;class C{static getPartIndex(S){return(S&4294901760)>>>16}static getCharIndex(S){return(S&65535)>>>0}constructor(S,L){this.length=S,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}setColumnInfo(S,L,I,T){const N=(L<<16|I<<0)>>>0;this._data[S-1]=N,this._horizontalOffset[S-1]=T}getHorizontalOffset(S){return this._horizontalOffset.length===0?0:this._horizontalOffset[S-1]}charOffsetToPartData(S){return this.length===0?0:S<0?this._data[0]:S>=this.length?this._data[this.length-1]:this._data[S]}getDomPosition(S){const L=this.charOffsetToPartData(S-1),I=C.getPartIndex(L),T=C.getCharIndex(L);return new b(I,T)}getColumn(S,L){return this.partDataToCharOffset(S.partIndex,L,S.charIndex)+1}partDataToCharOffset(S,L,I){if(this.length===0)return 0;const T=(S<<16|I<<0)>>>0;let N=0,A=this.length-1;for(;N+1<A;){const j=N+A>>>1,K=this._data[j];if(K===T)return j;K>T?A=j:N=j}if(N===A)return N;const O=this._data[N],M=this._data[A];if(O===T)return N;if(M===T)return A;const R=C.getPartIndex(O),x=C.getCharIndex(O),F=C.getPartIndex(M);let W;R!==F?W=L:W=C.getCharIndex(M);const H=I-x,z=W-I;return H<=z?N:A}}e.CharacterMapping=C;class o{constructor(S,L,I){this._renderLineOutputBrand=void 0,this.characterMapping=S,this.containsRTL=L,this.containsForeignElements=I}}e.RenderLineOutput=o;function s(_,S){if(_.lineContent.length===0){if(_.lineDecorations.length>0){S.appendString("<span>");let L=0,I=0,T=0;for(const A of _.lineDecorations)(A.type===1||A.type===2)&&(S.appendString('<span class="'),S.appendString(A.className),S.appendString('"></span>'),A.type===1&&(T|=1,L++),A.type===2&&(T|=2,I++));S.appendString("</span>");const N=new C(1,L+I);return N.setColumnInfo(1,L,0,0),new o(N,!1,T)}return S.appendString("<span><span></span></span>"),new o(new C(0,0),!1,0)}return g(c(_),S)}class i{constructor(S,L,I,T){this.characterMapping=S,this.html=L,this.containsRTL=I,this.containsForeignElements=T}}e.RenderLineOutput2=i;function t(_){const S=new E.StringBuilder(1e4),L=s(_,S);return new i(L.characterMapping,S.build(),L.containsRTL,L.containsForeignElements)}class n{constructor(S,L,I,T,N,A,O,M,R,x,F,W,H,z,j,K){this.fontIsMonospace=S,this.canUseHalfwidthRightwardsArrow=L,this.lineContent=I,this.len=T,this.isOverflowing=N,this.overflowingCharCount=A,this.parts=O,this.containsForeignElements=M,this.fauxIndentLength=R,this.tabSize=x,this.startVisibleColumn=F,this.containsRTL=W,this.spaceWidth=H,this.renderSpaceCharCode=z,this.renderWhitespace=j,this.renderControlCharacters=K}}function c(_){const S=_.lineContent;let L,I,T;_.stopRenderingLineAfter!==-1&&_.stopRenderingLineAfter<S.length?(L=!0,I=S.length-_.stopRenderingLineAfter,T=_.stopRenderingLineAfter):(L=!1,I=0,T=S.length);let N=m(S,_.containsRTL,_.lineTokens,_.fauxIndentLength,T);_.renderControlCharacters&&!_.isBasicASCII&&(N=a(S,N)),(_.renderWhitespace===4||_.renderWhitespace===1||_.renderWhitespace===2&&_.selectionsOnLine||_.renderWhitespace===3&&!_.continuesWithWrappedLine)&&(N=h(_,S,T,N));let A=0;if(_.lineDecorations.length>0){for(let O=0,M=_.lineDecorations.length;O<M;O++){const R=_.lineDecorations[O];R.type===3||R.type===1?A|=1:R.type===2&&(A|=2)}N=l(S,T,N,_.lineDecorations)}return _.containsRTL||(N=u(S,N,!_.isBasicASCII||_.fontLigatures)),new n(_.useMonospaceOptimizations,_.canUseHalfwidthRightwardsArrow,S,T,L,I,N,A,_.fauxIndentLength,_.tabSize,_.startVisibleColumn,_.containsRTL,_.spaceWidth,_.renderSpaceCharCode,_.renderWhitespace,_.renderControlCharacters)}function m(_,S,L,I,T){const N=[];let A=0;I>0&&(N[A++]=new y.LinePart(I,"",0,!1));let O=I;for(let M=0,R=L.getCount();M<R;M++){const x=L.getEndOffset(M);if(x<=I)continue;const F=L.getClassName(M);if(x>=T){const H=S?k.containsRTL(_.substring(O,T)):!1;N[A++]=new y.LinePart(T,F,0,H);break}const W=S?k.containsRTL(_.substring(O,x)):!1;N[A++]=new y.LinePart(x,F,0,W),O=x}return N}function u(_,S,L){let I=0;const T=[];let N=0;if(L)for(let A=0,O=S.length;A<O;A++){const M=S[A],R=M.endIndex;if(I+50<R){const x=M.type,F=M.metadata,W=M.containsRTL;let H=-1,z=I;for(let j=I;j<R;j++)_.charCodeAt(j)===32&&(H=j),H!==-1&&j-z>=50&&(T[N++]=new y.LinePart(H+1,x,F,W),z=H+1,H=-1);z!==R&&(T[N++]=new y.LinePart(R,x,F,W))}else T[N++]=M;I=R}else for(let A=0,O=S.length;A<O;A++){const M=S[A],R=M.endIndex,x=R-I;if(x>50){const F=M.type,W=M.metadata,H=M.containsRTL,z=Math.ceil(x/50);for(let j=1;j<z;j++){const K=I+j*50;T[N++]=new y.LinePart(K,F,W,H)}T[N++]=new y.LinePart(R,F,W,H)}else T[N++]=M;I=R}return T}function r(_){return _<32?_!==9:_===127||_>=8234&&_<=8238||_>=8294&&_<=8297||_>=8206&&_<=8207||_===1564}function a(_,S){const L=[];let I=new y.LinePart(0,"",0,!1),T=0;for(const N of S){const A=N.endIndex;for(;T<A;T++){const O=_.charCodeAt(T);r(O)&&(T>I.endIndex&&(I=new y.LinePart(T,N.type,N.metadata,N.containsRTL),L.push(I)),I=new y.LinePart(T+1,"mtkcontrol",N.metadata,!1),L.push(I))}T>I.endIndex&&(I=new y.LinePart(A,N.type,N.metadata,N.containsRTL),L.push(I))}return L}function h(_,S,L,I){const T=_.continuesWithWrappedLine,N=_.fauxIndentLength,A=_.tabSize,O=_.startVisibleColumn,M=_.useMonospaceOptimizations,R=_.selectionsOnLine,x=_.renderWhitespace===1,F=_.renderWhitespace===3,W=_.renderSpaceWidth!==_.spaceWidth,H=[];let z=0,j=0,K=I[j].type,U=I[j].containsRTL,G=I[j].endIndex;const te=I.length;let ee=!1,Y=k.firstNonWhitespaceIndex(S),P;Y===-1?(ee=!0,Y=L,P=L):P=k.lastNonWhitespaceIndex(S);let Z=!1,re=0,ce=R&&R[re],he=O%A;for(let ge=N;ge<L;ge++){const X=S.charCodeAt(ge);ce&&ge>=ce.endOffset&&(re++,ce=R&&R[re]);let ae;if(ge<Y||ge>P)ae=!0;else if(X===9)ae=!0;else if(X===32)if(x)if(Z)ae=!0;else{const oe=ge+1<L?S.charCodeAt(ge+1):0;ae=oe===32||oe===9}else ae=!0;else ae=!1;if(ae&&R&&(ae=!!ce&&ce.startOffset<=ge&&ce.endOffset>ge),ae&&F&&(ae=ee||ge>P),ae&&U&&ge>=Y&&ge<=P&&(ae=!1),Z){if(!ae||!M&&he>=A){if(W){const oe=z>0?H[z-1].endIndex:N;for(let B=oe+1;B<=ge;B++)H[z++]=new y.LinePart(B,"mtkw",1,!1)}else H[z++]=new y.LinePart(ge,"mtkw",1,!1);he=he%A}}else(ge===G||ae&&ge>N)&&(H[z++]=new y.LinePart(ge,K,0,U),he=he%A);for(X===9?he=A:k.isFullWidthCharacter(X)?he+=2:he++,Z=ae;ge===G&&(j++,j<te);)K=I[j].type,U=I[j].containsRTL,G=I[j].endIndex}let pe=!1;if(Z)if(T&&x){const ge=L>0?S.charCodeAt(L-1):0,X=L>1?S.charCodeAt(L-2):0;ge===32&&X!==32&&X!==9||(pe=!0)}else pe=!0;if(pe)if(W){const ge=z>0?H[z-1].endIndex:N;for(let X=ge+1;X<=L;X++)H[z++]=new y.LinePart(X,"mtkw",1,!1)}else H[z++]=new y.LinePart(L,"mtkw",1,!1);else H[z++]=new y.LinePart(L,K,0,U);return H}function l(_,S,L,I){I.sort(D.LineDecoration.compare);const T=D.LineDecorationsNormalizer.normalize(_,I),N=T.length;let A=0;const O=[];let M=0,R=0;for(let F=0,W=L.length;F<W;F++){const H=L[F],z=H.endIndex,j=H.type,K=H.metadata,U=H.containsRTL;for(;A<N&&T[A].startOffset<z;){const G=T[A];if(G.startOffset>R&&(R=G.startOffset,O[M++]=new y.LinePart(R,j,K,U)),G.endOffset+1<=z)R=G.endOffset+1,O[M++]=new y.LinePart(R,j+" "+G.className,K|G.metadata,U),A++;else{R=z,O[M++]=new y.LinePart(R,j+" "+G.className,K|G.metadata,U);break}}z>R&&(R=z,O[M++]=new y.LinePart(R,j,K,U))}const x=L[L.length-1].endIndex;if(A<N&&T[A].startOffset===x)for(;A<N&&T[A].startOffset===x;){const F=T[A];O[M++]=new y.LinePart(R,F.className,F.metadata,!1),A++}return O}function g(_,S){const L=_.fontIsMonospace,I=_.canUseHalfwidthRightwardsArrow,T=_.containsForeignElements,N=_.lineContent,A=_.len,O=_.isOverflowing,M=_.overflowingCharCount,R=_.parts,x=_.fauxIndentLength,F=_.tabSize,W=_.startVisibleColumn,H=_.containsRTL,z=_.spaceWidth,j=_.renderSpaceCharCode,K=_.renderWhitespace,U=_.renderControlCharacters,G=new C(A+1,R.length);let te=!1,ee=0,Y=W,P=0,Z=0,re=0;H?S.appendString('<span dir="ltr">'):S.appendString("<span>");for(let ce=0,he=R.length;ce<he;ce++){const pe=R[ce],ge=pe.endIndex,X=pe.type,ae=pe.containsRTL,oe=K!==0&&pe.isWhitespace(),B=oe&&!L&&(X==="mtkw"||!T),q=ee===ge&&pe.isPseudoAfter();if(P=0,S.appendString("<span "),ae&&S.appendString('style="unicode-bidi:isolate" '),S.appendString('class="'),S.appendString(B?"mtkz":X),S.appendASCIICharCode(34),oe){let V=0;{let $=ee,J=Y;for(;$<ge;$++){const de=(N.charCodeAt($)===9?F-J%F:1)|0;V+=de,$>=x&&(J+=de)}}for(B&&(S.appendString(' style="width:'),S.appendString(String(z*V)),S.appendString('px"')),S.appendASCIICharCode(62);ee<ge;ee++){G.setColumnInfo(ee+1,ce-re,P,Z),re=0;const $=N.charCodeAt(ee);let J,se;if($===9){J=F-Y%F|0,se=J,!I||se>1?S.appendCharCode(8594):S.appendCharCode(65515);for(let de=2;de<=se;de++)S.appendCharCode(160)}else J=2,se=1,S.appendCharCode(j),S.appendCharCode(8204);P+=J,Z+=se,ee>=x&&(Y+=se)}}else for(S.appendASCIICharCode(62);ee<ge;ee++){G.setColumnInfo(ee+1,ce-re,P,Z),re=0;const V=N.charCodeAt(ee);let $=1,J=1;switch(V){case 9:$=F-Y%F,J=$;for(let se=1;se<=$;se++)S.appendCharCode(160);break;case 32:S.appendCharCode(160);break;case 60:S.appendString("&lt;");break;case 62:S.appendString("&gt;");break;case 38:S.appendString("&amp;");break;case 0:U?S.appendCharCode(9216):S.appendString("&#00;");break;case 65279:case 8232:case 8233:case 133:S.appendCharCode(65533);break;default:k.isFullWidthCharacter(V)&&J++,U&&V<32?S.appendCharCode(9216+V):U&&V===127?S.appendCharCode(9249):U&&r(V)?(S.appendString("[U+"),S.appendString(d(V)),S.appendString("]"),$=8,J=$):S.appendCharCode(V)}P+=$,Z+=J,ee>=x&&(Y+=J)}q?re++:re=0,ee>=A&&!te&&pe.isPseudoAfter()&&(te=!0,G.setColumnInfo(ee+1,ce,P,Z)),S.appendString("</span>")}return te||G.setColumnInfo(A+1,R.length-1,P,Z),O&&(S.appendString('<span class="mtkoverflow">'),S.appendString(f.localize(0,null,v(M))),S.appendString("</span>")),S.appendString("</span>"),new o(G,H,T)}function d(_){return _.toString(16).toUpperCase().padStart(4,"0")}function v(_){return _<1024?f.localize(1,null,_):_<1024*1024?`${(_/1024).toFixed(1)} KB`:`${(_/1024/1024).toFixed(1)} MB`}}),define(ie[688],ne([1,0,99,71,38,112,146,131,91]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenderOptions=e.LineSource=void 0,e.renderLines=C;const b=(0,f.createTrustedTypesPolicy)("diffEditorWidget",{createHTML:t=>t});function C(t,n,c,m){(0,k.applyFontInfo)(m,n.fontInfo);const u=c.length>0,r=new D.StringBuilder(1e4);let a=0,h=0;const l=[];for(let _=0;_<t.lineTokens.length;_++){const S=_+1,L=t.lineTokens[_],I=t.lineBreakData[_],T=y.LineDecoration.filter(c,S,1,Number.MAX_SAFE_INTEGER);if(I){let N=0;for(const A of I.breakOffsets){const O=L.sliceAndInflate(N,A,0);a=Math.max(a,i(h,O,y.LineDecoration.extractWrapped(T,N,A),u,t.mightContainNonBasicASCII,t.mightContainRTL,n,r)),h++,N=A}l.push(I.breakOffsets.length)}else l.push(1),a=Math.max(a,i(h,L,T,u,t.mightContainNonBasicASCII,t.mightContainRTL,n,r)),h++}a+=n.scrollBeyondLastColumn;const g=r.build(),d=b?b.createHTML(g):g;m.innerHTML=d;const v=a*n.typicalHalfwidthCharacterWidth;return{heightInLines:h,minWidthInPx:v,viewLineCounts:l}}class o{constructor(n,c,m,u){this.lineTokens=n,this.lineBreakData=c,this.mightContainNonBasicASCII=m,this.mightContainRTL=u}}e.LineSource=o;class s{static fromEditor(n){var c;const m=n.getOptions(),u=m.get(50),r=m.get(145);return new s(((c=n.getModel())===null||c===void 0?void 0:c.getOptions().tabSize)||0,u,m.get(33),u.typicalHalfwidthCharacterWidth,m.get(104),m.get(67),r.decorationsWidth,m.get(117),m.get(99),m.get(94),m.get(51))}constructor(n,c,m,u,r,a,h,l,g,d,v){this.tabSize=n,this.fontInfo=c,this.disableMonospaceOptimizations=m,this.typicalHalfwidthCharacterWidth=u,this.scrollBeyondLastColumn=r,this.lineHeight=a,this.lineDecorationsWidth=h,this.stopRenderingLineAfter=l,this.renderWhitespace=g,this.renderControlCharacters=d,this.fontLigatures=v}}e.RenderOptions=s;function i(t,n,c,m,u,r,a,h){h.appendString('<div class="view-line'),m||h.appendString(" char-delete"),h.appendString('" style="top:'),h.appendString(String(t*a.lineHeight)),h.appendString('px;width:1000000px;">');const l=n.getLineContent(),g=w.ViewLineRenderingData.isBasicASCII(l,u),d=w.ViewLineRenderingData.containsRTL(l,g,r),v=(0,p.renderViewLine)(new p.RenderLineInput(a.fontInfo.isMonospace&&!a.disableMonospaceOptimizations,a.fontInfo.canUseHalfwidthRightwardsArrow,l,!1,g,d,0,n,c,a.tabSize,0,a.fontInfo.spaceWidth,a.fontInfo.middotWidth,a.fontInfo.wsmiddotWidth,a.stopRenderingLineAfter,a.renderWhitespace,a.renderControlCharacters,a.fontLigatures!==E.EditorFontLigatures.OFF,null),h);return h.appendString("</div>"),v.characterMapping.getHorizontalOffset(v.characterMapping.length)}}),define(ie[689],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/anchorSelect/browser/anchorSelect",e)}),define(ie[690],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/bracketMatching/browser/bracketMatching",e)}),define(ie[691],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/caretOperations/browser/caretOperations",e)}),define(ie[692],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/caretOperations/browser/transpose",e)}),define(ie[693],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/clipboard/browser/clipboard",e)}),define(ie[694],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeAction",e)}),define(ie[695],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionCommands",e)}),define(ie[696],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionContributions",e)}),define(ie[697],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionController",e)}),define(ie[698],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/codeActionMenu",e)}),define(ie[699],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codeAction/browser/lightBulbWidget",e)}),define(ie[700],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/codelens/browser/codelensController",e)}),define(ie[701],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/colorPicker/browser/colorPickerWidget",e)}),define(ie[702],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/colorPicker/browser/standaloneColorPickerActions",e)}),define(ie[703],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/comment/browser/comment",e)}),define(ie[704],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/contextmenu/browser/contextmenu",e)}),define(ie[705],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/cursorUndo/browser/cursorUndo",e)}),define(ie[706],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteContribution",e)}),define(ie[707],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/copyPasteController",e)}),define(ie[708],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/defaultProviders",e)}),define(ie[709],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorContribution",e)}),define(ie[710],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/dropOrPasteInto/browser/dropIntoEditorController",e)}),define(ie[711],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/editorState/browser/keybindingCancellation",e)}),define(ie[712],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/find/browser/findController",e)}),define(ie[713],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/find/browser/findWidget",e)}),define(ie[714],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/folding/browser/folding",e)}),define(ie[715],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/folding/browser/foldingDecorations",e)}),define(ie[716],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/fontZoom/browser/fontZoom",e)}),define(ie[717],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/format/browser/formatActions",e)}),define(ie[718],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoError/browser/gotoError",e)}),define(ie[719],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoError/browser/gotoErrorWidget",e)}),define(ie[720],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/goToCommands",e)}),define(ie[721],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition",e)}),define(ie[722],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesController",e)}),define(ie[723],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesTree",e)}),define(ie[724],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget",e)}),define(ie[725],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/referencesModel",e)}),define(ie[172],ne([1,0,10,7,181,2,45,50,12,5,725]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesModel=e.FileReferences=e.FilePreview=e.OneReference=void 0;class o{constructor(c,m,u,r){this.isProviderFirst=c,this.parent=m,this.link=u,this._rangeCallback=r,this.id=E.defaultGenerator.nextId()}get uri(){return this.link.uri}get range(){var c,m;return(m=(c=this._range)!==null&&c!==void 0?c:this.link.targetSelectionRange)!==null&&m!==void 0?m:this.link.range}set range(c){this._range=c,this._rangeCallback(this)}get ariaMessage(){var c;const m=(c=this.parent.getPreview(this))===null||c===void 0?void 0:c.preview(this.range);return m?(0,C.localize)(1,null,m.value,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn):(0,C.localize)(0,null,(0,p.basename)(this.uri),this.range.startLineNumber,this.range.startColumn)}}e.OneReference=o;class s{constructor(c){this._modelReference=c}dispose(){this._modelReference.dispose()}preview(c,m=8){const u=this._modelReference.object.textEditorModel;if(!u)return;const{startLineNumber:r,startColumn:a,endLineNumber:h,endColumn:l}=c,g=u.getWordUntilPosition({lineNumber:r,column:a-m}),d=new b.Range(r,g.startColumn,r,a),v=new b.Range(h,l,h,1073741824),_=u.getValueInRange(d).replace(/^\s+/,""),S=u.getValueInRange(c),L=u.getValueInRange(v).replace(/\s+$/,"");return{value:_+S+L,highlight:{start:_.length,end:_.length+S.length}}}}e.FilePreview=s;class i{constructor(c,m){this.parent=c,this.uri=m,this.children=[],this._previews=new y.ResourceMap}dispose(){(0,D.dispose)(this._previews.values()),this._previews.clear()}getPreview(c){return this._previews.get(c.uri)}get ariaMessage(){const c=this.children.length;return c===1?(0,C.localize)(2,null,(0,p.basename)(this.uri),this.uri.fsPath):(0,C.localize)(3,null,c,(0,p.basename)(this.uri),this.uri.fsPath)}async resolve(c){if(this._previews.size!==0)return this;for(const m of this.children)if(!this._previews.has(m.uri))try{const u=await c.createModelReference(m.uri);this._previews.set(m.uri,new s(u))}catch(u){(0,f.onUnexpectedError)(u)}return this}}e.FileReferences=i;class t{constructor(c,m){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new k.Emitter,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=c,this._title=m;const[u]=c;c.sort(t._compareReferences);let r;for(const a of c)if((!r||!p.extUri.isEqual(r.uri,a.uri,!0))&&(r=new i(this,a.uri),this.groups.push(r)),r.children.length===0||t._compareReferences(a,r.children[r.children.length-1])!==0){const h=new o(u===a,r,a,l=>this._onDidChangeReferenceRange.fire(l));this.references.push(h),r.children.push(h)}}dispose(){(0,D.dispose)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new t(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,C.localize)(4,null):this.references.length===1?(0,C.localize)(5,null,this.references[0].uri.fsPath):this.groups.length===1?(0,C.localize)(6,null,this.references.length,this.groups[0].uri.fsPath):(0,C.localize)(7,null,this.references.length,this.groups.length)}nextOrPreviousReference(c,m){const{parent:u}=c;let r=u.children.indexOf(c);const a=u.children.length,h=u.parent.groups.length;return h===1||m&&r+1<a||!m&&r>0?(m?r=(r+1)%a:r=(r+a-1)%a,u.children[r]):(r=u.parent.groups.indexOf(u),m?(r=(r+1)%h,u.parent.groups[r].children[0]):(r=(r+h-1)%h,u.parent.groups[r].children[u.parent.groups[r].children.length-1]))}nearestReference(c,m){const u=this.references.map((r,a)=>({idx:a,prefixLen:w.commonPrefixLength(r.uri.toString(),c.toString()),offsetDist:Math.abs(r.range.startLineNumber-m.lineNumber)*100+Math.abs(r.range.startColumn-m.column)})).sort((r,a)=>r.prefixLen>a.prefixLen?-1:r.prefixLen<a.prefixLen?1:r.offsetDist<a.offsetDist?-1:r.offsetDist>a.offsetDist?1:0)[0];if(u)return this.references[u.idx]}referenceAt(c,m){for(const u of this.references)if(u.uri.toString()===c.toString()&&b.Range.containsPosition(u.range,m))return u}firstReference(){for(const c of this.references)if(c.isProviderFirst)return c;return this.references[0]}static _compareReferences(c,m){return p.extUri.compare(c.uri,m.uri)||b.Range.compareRangesUsingStarts(c.range,m.range)}}e.ReferencesModel=t}),define(ie[726],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/gotoSymbol/browser/symbolNavigation",e)}),define(ie[727],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/hover/browser/hoverActions",e)}),define(ie[728],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/hover/browser/markdownHoverParticipant",e)}),define(ie[729],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/hover/browser/markerHoverParticipant",e)}),define(ie[730],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inPlaceReplace/browser/inPlaceReplace",e)}),define(ie[731],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/indentation/browser/indentation",e)}),define(ie[732],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlayHints/browser/inlayHintsHover",e)}),define(ie[733],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/commands",e)}),define(ie[734],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/hoverParticipant",e)}),define(ie[735],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionContextKeys",e)}),define(ie[736],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsController",e)}),define(ie[737],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/inlineCompletions/browser/inlineCompletionsHintsWidget",e)}),define(ie[738],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/lineSelection/browser/lineSelection",e)}),define(ie[739],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/linesOperations/browser/linesOperations",e)}),define(ie[740],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/linkedEditing/browser/linkedEditing",e)}),define(ie[741],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/links/browser/links",e)}),define(ie[742],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/message/browser/messageController",e)}),define(ie[743],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/multicursor/browser/multicursor",e)}),define(ie[744],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/parameterHints/browser/parameterHints",e)}),define(ie[745],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/parameterHints/browser/parameterHintsWidget",e)}),define(ie[746],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/peekView/browser/peekView",e)}),define(ie[747],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/quickAccess/browser/gotoLineQuickAccess",e)}),define(ie[748],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/quickAccess/browser/gotoSymbolQuickAccess",e)}),define(ie[749],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/readOnlyMessage/browser/contribution",e)}),define(ie[750],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/rename/browser/rename",e)}),define(ie[362],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/rename/browser/renameWidget",e)}),define(ie[751],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/smartSelect/browser/smartSelect",e)}),define(ie[752],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/snippet/browser/snippetController2",e)}),define(ie[753],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/snippet/browser/snippetVariables",e)}),define(ie[754],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/stickyScroll/browser/stickyScrollActions",e)}),define(ie[755],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggest",e)}),define(ie[756],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestController",e)}),define(ie[757],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidget",e)}),define(ie[758],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidgetDetails",e)}),define(ie[759],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidgetRenderer",e)}),define(ie[760],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/suggest/browser/suggestWidgetStatus",e)}),define(ie[761],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/symbolIcons/browser/symbolIcons",e)}),define(ie[762],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/toggleTabFocusMode/browser/toggleTabFocusMode",e)}),define(ie[763],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/tokenization/browser/tokenization",e)}),define(ie[764],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/unicodeHighlighter/browser/unicodeHighlighter",e)}),define(ie[765],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/unusualLineTerminators/browser/unusualLineTerminators",e)}),define(ie[766],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/wordHighlighter/browser/highlightDecorations",e)}),define(ie[767],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/wordHighlighter/browser/wordHighlighter",e)}),define(ie[768],ne([3,4]),function(Q,e){return Q.create("vs/editor/contrib/wordOperations/browser/wordOperations",e)}),define(ie[769],ne([3,4]),function(Q,e){return Q.create("vs/platform/accessibilitySignal/browser/accessibilitySignalService",e)}),define(ie[770],ne([3,4]),function(Q,e){return Q.create("vs/platform/action/common/actionCommonCategories",e)}),define(ie[771],ne([3,4]),function(Q,e){return Q.create("vs/platform/actionWidget/browser/actionList",e)}),define(ie[772],ne([3,4]),function(Q,e){return Q.create("vs/platform/actionWidget/browser/actionWidget",e)}),define(ie[773],ne([3,4]),function(Q,e){return Q.create("vs/platform/actions/browser/menuEntryActionViewItem",e)}),define(ie[774],ne([3,4]),function(Q,e){return Q.create("vs/platform/actions/browser/toolbar",e)}),define(ie[775],ne([3,4]),function(Q,e){return Q.create("vs/platform/actions/common/menuService",e)}),define(ie[776],ne([3,4]),function(Q,e){return Q.create("vs/platform/configuration/common/configurationRegistry",e)}),define(ie[777],ne([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/browser/contextKeyService",e)}),define(ie[778],ne([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/common/contextkey",e)}),define(ie[779],ne([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/common/contextkeys",e)}),define(ie[780],ne([3,4]),function(Q,e){return Q.create("vs/platform/contextkey/common/scanner",e)}),define(ie[781],ne([3,4]),function(Q,e){return Q.create("vs/platform/history/browser/contextScopedHistoryWidget",e)}),define(ie[782],ne([3,4]),function(Q,e){return Q.create("vs/platform/keybinding/common/abstractKeybindingService",e)}),define(ie[783],ne([3,4]),function(Q,e){return Q.create("vs/platform/list/browser/listService",e)}),define(ie[784],ne([3,4]),function(Q,e){return Q.create("vs/platform/markers/common/markers",e)}),define(ie[785],ne([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/commandsQuickAccess",e)}),define(ie[786],ne([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/helpQuickAccess",e)}),define(ie[787],ne([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInput",e)}),define(ie[788],ne([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInputController",e)}),define(ie[789],ne([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInputTree",e)}),define(ie[790],ne([3,4]),function(Q,e){return Q.create("vs/platform/quickinput/browser/quickInputUtils",e)}),define(ie[791],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/baseColors",e)}),define(ie[792],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/chartsColors",e)}),define(ie[793],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/editorColors",e)}),define(ie[794],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/inputColors",e)}),define(ie[795],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/listColors",e)}),define(ie[796],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/menuColors",e)}),define(ie[797],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/minimapColors",e)}),define(ie[798],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/miscColors",e)}),define(ie[799],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/quickpickColors",e)}),define(ie[800],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/colors/searchColors",e)}),define(ie[801],ne([3,4]),function(Q,e){return Q.create("vs/platform/theme/common/iconRegistry",e)}),define(ie[802],ne([3,4]),function(Q,e){return Q.create("vs/platform/undoRedo/common/undoRedoService",e)}),define(ie[803],ne([3,4]),function(Q,e){return Q.create("vs/platform/workspace/common/workspace",e)}),define(ie[363],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isLocalizedString=f,e.isICommandActionToggleInfo=k;function f(E){return E&&typeof E=="object"&&typeof E.original=="string"&&typeof E.value=="string"}function k(E){return E?E.condition!==void 0:!1}}),define(ie[804],ne([1,0,770]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Categories=void 0,e.Categories=Object.freeze({View:(0,f.localize2)(0,"View"),Help:(0,f.localize2)(1,"Help"),Test:(0,f.localize2)(2,"Test"),File:(0,f.localize2)(3,"File"),Preferences:(0,f.localize2)(4,"Preferences"),Developer:(0,f.localize2)(5,"Developer")})}),define(ie[805],ne([1,0,10,780]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Scanner=void 0;function E(...w){switch(w.length){case 1:return(0,k.localize)(0,null,w[0]);case 2:return(0,k.localize)(1,null,w[0],w[1]);case 3:return(0,k.localize)(2,null,w[0],w[1],w[2]);default:return}}const D=(0,k.localize)(3,null),y=(0,k.localize)(4,null);class p{constructor(){this._input="",this._start=0,this._current=0,this._tokens=[],this._errors=[],this.stringRe=/[a-zA-Z0-9_<>\-\./\\:\*\?\+\[\]\^,#@;"%\$\p{L}-]+/uy}static getLexeme(b){switch(b.type){case 0:return"(";case 1:return")";case 2:return"!";case 3:return b.isTripleEq?"===":"==";case 4:return b.isTripleEq?"!==":"!=";case 5:return"<";case 6:return"<=";case 7:return">=";case 8:return">=";case 9:return"=~";case 10:return b.lexeme;case 11:return"true";case 12:return"false";case 13:return"in";case 14:return"not";case 15:return"&&";case 16:return"||";case 17:return b.lexeme;case 18:return b.lexeme;case 19:return b.lexeme;case 20:return"EOF";default:throw(0,f.illegalState)(`unhandled token type: ${JSON.stringify(b)}; have you forgotten to add a case?`)}}reset(b){return this._input=b,this._start=0,this._current=0,this._tokens=[],this._errors=[],this}scan(){for(;!this._isAtEnd();)switch(this._start=this._current,this._advance()){case 40:this._addToken(0);break;case 41:this._addToken(1);break;case 33:if(this._match(61)){const C=this._match(61);this._tokens.push({type:4,offset:this._start,isTripleEq:C})}else this._addToken(2);break;case 39:this._quotedString();break;case 47:this._regex();break;case 61:if(this._match(61)){const C=this._match(61);this._tokens.push({type:3,offset:this._start,isTripleEq:C})}else this._match(126)?this._addToken(9):this._error(E("==","=~"));break;case 60:this._addToken(this._match(61)?6:5);break;case 62:this._addToken(this._match(61)?8:7);break;case 38:this._match(38)?this._addToken(15):this._error(E("&&"));break;case 124:this._match(124)?this._addToken(16):this._error(E("||"));break;case 32:case 13:case 9:case 10:case 160:break;default:this._string()}return this._start=this._current,this._addToken(20),Array.from(this._tokens)}_match(b){return this._isAtEnd()||this._input.charCodeAt(this._current)!==b?!1:(this._current++,!0)}_advance(){return this._input.charCodeAt(this._current++)}_peek(){return this._isAtEnd()?0:this._input.charCodeAt(this._current)}_addToken(b){this._tokens.push({type:b,offset:this._start})}_error(b){const C=this._start,o=this._input.substring(this._start,this._current),s={type:19,offset:this._start,lexeme:o};this._errors.push({offset:C,lexeme:o,additionalInfo:b}),this._tokens.push(s)}_string(){this.stringRe.lastIndex=this._start;const b=this.stringRe.exec(this._input);if(b){this._current=this._start+b[0].length;const C=this._input.substring(this._start,this._current),o=p._keywords.get(C);o?this._addToken(o):this._tokens.push({type:17,lexeme:C,offset:this._start})}}_quotedString(){for(;this._peek()!==39&&!this._isAtEnd();)this._advance();if(this._isAtEnd()){this._error(D);return}this._advance(),this._tokens.push({type:18,lexeme:this._input.substring(this._start+1,this._current-1),offset:this._start+1})}_regex(){let b=this._current,C=!1,o=!1;for(;;){if(b>=this._input.length){this._current=b,this._error(y);return}const i=this._input.charCodeAt(b);if(C)C=!1;else if(i===47&&!o){b++;break}else i===91?o=!0:i===92?C=!0:i===93&&(o=!1);b++}for(;b<this._input.length&&p._regexFlags.has(this._input.charCodeAt(b));)b++;this._current=b;const s=this._input.substring(this._start,this._current);this._tokens.push({type:10,lexeme:s,offset:this._start})}_isAtEnd(){return this._current>=this._input.length}}e.Scanner=p,p._regexFlags=new Set(["i","g","s","m","y","u"].map(w=>w.charCodeAt(0))),p._keywords=new Map([["not",14],["in",13],["false",12],["true",11]])}),define(ie[806],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorOpenSource=void 0;var f;(function(k){k[k.API=0]="API",k[k.USER=1]="USER"})(f||(e.EditorOpenSource=f={}))}),define(ie[807],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExtensionIdentifierSet=e.ExtensionIdentifier=void 0;class f{constructor(D){this.value=D,this._lower=D.toLowerCase()}static toKey(D){return typeof D=="string"?D.toLowerCase():D._lower}}e.ExtensionIdentifier=f;class k{constructor(D){if(this._set=new Set,D)for(const y of D)this.add(y)}add(D){this._set.add(f.toKey(D))}has(D){return this._set.has(f.toKey(D))}}e.ExtensionIdentifierSet=k}),define(ie[364],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FileKind=void 0;var f;(function(k){k[k.FILE=0]="FILE",k[k.FOLDER=1]="FOLDER",k[k.ROOT_FOLDER=2]="ROOT_FOLDER"})(f||(e.FileKind=f={}))}),define(ie[808],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showHistoryKeybindingHint=f;function f(k){var E,D;return((E=k.lookupKeybinding("history.showPrevious"))===null||E===void 0?void 0:E.getElectronAccelerator())==="Up"&&((D=k.lookupKeybinding("history.showNext"))===null||D===void 0?void 0:D.getElectronAccelerator())==="Down"}}),define(ie[257],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SyncDescriptor=void 0;class f{constructor(E,D=[],y=!1){this.ctor=E,this.staticArguments=D,this.supportsDelayedInstantiation=y}}e.SyncDescriptor=f}),define(ie[48],ne([1,0,257]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerSingleton=E,e.getSingletonServiceDescriptors=D;const k=[];function E(y,p,w){p instanceof f.SyncDescriptor||(p=new f.SyncDescriptor(p,[],!!w)),k.push([y,p])}function D(){return k}}),define(ie[809],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Graph=e.Node=void 0;class f{constructor(D,y){this.key=D,this.data=y,this.incoming=new Map,this.outgoing=new Map}}e.Node=f;class k{constructor(D){this._hashFn=D,this._nodes=new Map}roots(){const D=[];for(const y of this._nodes.values())y.outgoing.size===0&&D.push(y);return D}insertEdge(D,y){const p=this.lookupOrInsertNode(D),w=this.lookupOrInsertNode(y);p.outgoing.set(w.key,w),w.incoming.set(p.key,p)}removeNode(D){const y=this._hashFn(D);this._nodes.delete(y);for(const p of this._nodes.values())p.outgoing.delete(y),p.incoming.delete(y)}lookupOrInsertNode(D){const y=this._hashFn(D);let p=this._nodes.get(y);return p||(p=new f(y,D),this._nodes.set(y,p)),p}isEmpty(){return this._nodes.size===0}toString(){const D=[];for(const[y,p]of this._nodes)D.push(`${y}
	(-> incoming)[${[...p.incoming.keys()].join(", ")}]
	(outgoing ->)[${[...p.outgoing.keys()].join(",")}]
`);return D.join(`
`)}findCycleSlow(){for(const[D,y]of this._nodes){const p=new Set([D]),w=this._findCycle(y,p);if(w)return w}}_findCycle(D,y){for(const[p,w]of D.outgoing){if(y.has(p))return[...y,p].join(" -> ");y.add(p);const b=this._findCycle(w,y);if(b)return b;y.delete(p)}}}e.Graph=k}),define(ie[8],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IInstantiationService=e._util=void 0,e.createDecorator=E;var f;(function(D){D.serviceIds=new Map,D.DI_TARGET="$di$target",D.DI_DEPENDENCIES="$di$dependencies";function y(p){return p[D.DI_DEPENDENCIES]||[]}D.getServiceDependencies=y})(f||(e._util=f={})),e.IInstantiationService=E("instantiationService");function k(D,y,p){y[f.DI_TARGET]===y?y[f.DI_DEPENDENCIES].push({id:D,index:p}):(y[f.DI_DEPENDENCIES]=[{id:D,index:p}],y[f.DI_TARGET]=y)}function E(D){if(f.serviceIds.has(D))return f.serviceIds.get(D);const y=function(p,w,b){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");k(y,p,b)};return y.toString=()=>D,f.serviceIds.set(D,y),y}}),define(ie[148],ne([1,0,8,22,20]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResourceFileEdit=e.ResourceTextEdit=e.ResourceEdit=e.IBulkEditService=void 0,e.IBulkEditService=(0,f.createDecorator)("IWorkspaceEditService");class D{constructor(b){this.metadata=b}static convert(b){return b.edits.map(C=>{if(y.is(C))return y.lift(C);if(p.is(C))return p.lift(C);throw new Error("Unsupported edit")})}}e.ResourceEdit=D;class y extends D{static is(b){return b instanceof y?!0:(0,E.isObject)(b)&&k.URI.isUri(b.resource)&&(0,E.isObject)(b.textEdit)}static lift(b){return b instanceof y?b:new y(b.resource,b.textEdit,b.versionId,b.metadata)}constructor(b,C,o=void 0,s){super(s),this.resource=b,this.textEdit=C,this.versionId=o}}e.ResourceTextEdit=y;class p extends D{static is(b){return b instanceof p?!0:(0,E.isObject)(b)&&(!!b.newResource||!!b.oldResource)}static lift(b){return b instanceof p?b:new p(b.oldResource,b.newResource,b.options,b.metadata)}constructor(b,C,o={},s){super(s),this.oldResource=b,this.newResource=C,this.options=o}}e.ResourceFileEdit=p}),define(ie[36],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ICodeEditorService=void 0,e.ICodeEditorService=(0,f.createDecorator)("codeEditorService")});var ue=this&&this.__param||function(Q,e){return function(f,k){e(f,k,Q)}};define(ie[365],ne([1,0,6,110,26,57,2,30,183,31,20,83,59,9,5,28,669,8]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.HideUnchangedRegionsFeature=void 0;let r=u=class extends y.Disposable{static setBreadcrumbsSourceFactory(l){this._breadcrumbsSourceFactory.set(l,void 0)}get isUpdatingHiddenAreas(){return this._isUpdatingHiddenAreas}constructor(l,g,d,v){super(),this._editors=l,this._diffModel=g,this._options=d,this._instantiationService=v,this._modifiedOutlineSource=(0,w.derivedDisposable)(this,I=>{const T=this._editors.modifiedModel.read(I),N=u._breadcrumbsSourceFactory.read(I);return!T||!N?void 0:N(T,this._instantiationService)}),this._isUpdatingHiddenAreas=!1,this._register(this._editors.original.onDidChangeCursorPosition(I=>{if(I.reason===1)return;const T=this._diffModel.get();(0,p.transaction)(N=>{for(const A of this._editors.original.getSelections()||[])T?.ensureOriginalLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureOriginalLineIsVisible(A.getEndPosition().lineNumber,0,N)})})),this._register(this._editors.modified.onDidChangeCursorPosition(I=>{if(I.reason===1)return;const T=this._diffModel.get();(0,p.transaction)(N=>{for(const A of this._editors.modified.getSelections()||[])T?.ensureModifiedLineIsVisible(A.getStartPosition().lineNumber,0,N),T?.ensureModifiedLineIsVisible(A.getEndPosition().lineNumber,0,N)})}));const _=this._diffModel.map((I,T)=>{var N,A;const O=(N=I?.unchangedRegions.read(T))!==null&&N!==void 0?N:[];return O.length===1&&O[0].modifiedLineNumber===1&&O[0].lineCount===((A=this._editors.modifiedModel.read(T))===null||A===void 0?void 0:A.getLineCount())?[]:O});this.viewZones=(0,p.derivedWithStore)(this,(I,T)=>{const N=this._modifiedOutlineSource.read(I);if(!N)return{origViewZones:[],modViewZones:[]};const A=[],O=[],M=this._options.renderSideBySide.read(I),R=_.read(I);for(const x of R)if(!x.shouldHideControls(I)){{const F=(0,p.derived)(this,H=>x.getHiddenOriginalRange(H).startLineNumber-1),W=new o.PlaceholderViewZone(F,24);A.push(W),T.add(new a(this._editors.original,W,x,x.originalUnchangedRange,!M,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}{const F=(0,p.derived)(this,H=>x.getHiddenModifiedRange(H).startLineNumber-1),W=new o.PlaceholderViewZone(F,24);O.push(W),T.add(new a(this._editors.modified,W,x,x.modifiedUnchangedRange,!1,N,H=>this._diffModel.get().ensureModifiedLineIsVisible(H,2,void 0),this._options))}}return{origViewZones:A,modViewZones:O}});const S={description:"unchanged lines",className:"diff-unchanged-lines",isWholeLine:!0},L={description:"Fold Unchanged",glyphMarginHoverMessage:new D.MarkdownString(void 0,{isTrusted:!0,supportThemeIcons:!0}).appendMarkdown((0,c.localize)(0,null)),glyphMarginClassName:"fold-unchanged "+b.ThemeIcon.asClassName(E.Codicon.fold),zIndex:10001};this._register((0,o.applyObservableDecorations)(this._editors.original,(0,p.derived)(this,I=>{const T=_.read(I),N=T.map(A=>({range:A.originalUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(I)&&N.push({range:t.Range.fromPositions(new i.Position(A.originalLineNumber,1)),options:L});return N}))),this._register((0,o.applyObservableDecorations)(this._editors.modified,(0,p.derived)(this,I=>{const T=_.read(I),N=T.map(A=>({range:A.modifiedUnchangedRange.toInclusiveRange(),options:S}));for(const A of T)A.shouldHideControls(I)&&N.push({range:s.LineRange.ofLength(A.modifiedLineNumber,1).toInclusiveRange(),options:L});return N}))),this._register((0,p.autorun)(I=>{const T=_.read(I);this._isUpdatingHiddenAreas=!0;try{this._editors.original.setHiddenAreas(T.map(N=>N.getHiddenOriginalRange(I).toInclusiveRange()).filter(C.isDefined)),this._editors.modified.setHiddenAreas(T.map(N=>N.getHiddenModifiedRange(I).toInclusiveRange()).filter(C.isDefined))}finally{this._isUpdatingHiddenAreas=!1}})),this._register(this._editors.modified.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=I.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const O=A.unchangedRegions.get().find(M=>M.modifiedUnchangedRange.includes(N));if(!O)return;O.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}})),this._register(this._editors.original.onMouseUp(I=>{var T;if(!I.event.rightButton&&I.target.position&&(!((T=I.target.element)===null||T===void 0)&&T.className.includes("fold-unchanged"))){const N=I.target.position.lineNumber,A=this._diffModel.get();if(!A)return;const O=A.unchangedRegions.get().find(M=>M.originalUnchangedRange.includes(N));if(!O)return;O.collapseAll(void 0),I.event.stopPropagation(),I.event.preventDefault()}}))}};e.HideUnchangedRegionsFeature=r,r._breadcrumbsSourceFactory=(0,p.observableValue)("breadcrumbsSourceFactory",void 0),e.HideUnchangedRegionsFeature=r=u=Ie([ue(3,m.IInstantiationService)],r);class a extends o.ViewZoneOverlayWidget{constructor(l,g,d,v,_,S,L,I){const T=(0,f.h)("div.diff-hidden-lines-widget");super(l,g,T.root),this._editor=l,this._unchangedRegion=d,this._unchangedRegionRange=v,this._hide=_,this._modifiedOutlineSource=S,this._revealModifiedHiddenLine=L,this._options=I,this._nodes=(0,f.h)("div.diff-hidden-lines",[(0,f.h)("div.top@top",{title:(0,c.localize)(1,null)}),(0,f.h)("div.center@content",{style:{display:"flex"}},[(0,f.h)("div@first",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexShrink:"0"}},[(0,f.$)("a",{title:(0,c.localize)(2,null),role:"button",onclick:()=>{this._unchangedRegion.showAll(void 0)}},...(0,k.renderLabelWithIcons)("$(unfold)"))]),(0,f.h)("div@others",{style:{display:"flex",justifyContent:"center",alignItems:"center"}})]),(0,f.h)("div.bottom@bottom",{title:(0,c.localize)(3,null),role:"button"})]),T.root.appendChild(this._nodes.root);const N=(0,p.observableFromEvent)(this._editor.onDidLayoutChange,()=>this._editor.getLayoutInfo());this._hide?(0,f.reset)(this._nodes.first):this._register((0,o.applyStyle)(this._nodes.first,{width:N.map(O=>O.contentLeft)})),this._register((0,p.autorun)(O=>{const M=this._unchangedRegion.visibleLineCountTop.read(O)+this._unchangedRegion.visibleLineCountBottom.read(O)===this._unchangedRegion.lineCount;this._nodes.bottom.classList.toggle("canMoveTop",!M),this._nodes.bottom.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(O)>0),this._nodes.top.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(O)>0),this._nodes.top.classList.toggle("canMoveBottom",!M);const R=this._unchangedRegion.isDragged.read(O),x=this._editor.getDomNode();x&&(x.classList.toggle("draggingUnchangedRegion",!!R),R==="top"?(x.classList.toggle("canMoveTop",this._unchangedRegion.visibleLineCountTop.read(O)>0),x.classList.toggle("canMoveBottom",!M)):R==="bottom"?(x.classList.toggle("canMoveTop",!M),x.classList.toggle("canMoveBottom",this._unchangedRegion.visibleLineCountBottom.read(O)>0)):(x.classList.toggle("canMoveTop",!1),x.classList.toggle("canMoveBottom",!1)))}));const A=this._editor;this._register((0,f.addDisposableListener)(this._nodes.top,"mousedown",O=>{if(O.button!==0)return;this._nodes.top.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),O.preventDefault();const M=O.clientY;let R=!1;const x=this._unchangedRegion.visibleLineCountTop.get();this._unchangedRegion.isDragged.set("top",void 0);const F=(0,f.getWindow)(this._nodes.top),W=(0,f.addDisposableListener)(F,"mousemove",z=>{const K=z.clientY-M;R=R||Math.abs(K)>2;const U=Math.round(K/A.getOption(67)),G=Math.max(0,Math.min(x+U,this._unchangedRegion.getMaxVisibleLineCountTop()));this._unchangedRegion.visibleLineCountTop.set(G,void 0)}),H=(0,f.addDisposableListener)(F,"mouseup",z=>{R||this._unchangedRegion.showMoreAbove(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0),this._nodes.top.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),this._unchangedRegion.isDragged.set(void 0,void 0),W.dispose(),H.dispose()})})),this._register((0,f.addDisposableListener)(this._nodes.bottom,"mousedown",O=>{if(O.button!==0)return;this._nodes.bottom.classList.toggle("dragging",!0),this._nodes.root.classList.toggle("dragging",!0),O.preventDefault();const M=O.clientY;let R=!1;const x=this._unchangedRegion.visibleLineCountBottom.get();this._unchangedRegion.isDragged.set("bottom",void 0);const F=(0,f.getWindow)(this._nodes.bottom),W=(0,f.addDisposableListener)(F,"mousemove",z=>{const K=z.clientY-M;R=R||Math.abs(K)>2;const U=Math.round(K/A.getOption(67)),G=Math.max(0,Math.min(x-U,this._unchangedRegion.getMaxVisibleLineCountBottom())),te=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.visibleLineCountBottom.set(G,void 0);const ee=this._unchangedRegionRange.endLineNumberExclusive>A.getModel().getLineCount()?A.getContentHeight():A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(ee-te))}),H=(0,f.addDisposableListener)(F,"mouseup",z=>{if(this._unchangedRegion.isDragged.set(void 0,void 0),!R){const j=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);this._unchangedRegion.showMoreBelow(this._options.hideUnchangedRegionsRevealLineCount.get(),void 0);const K=A.getTopForLineNumber(this._unchangedRegionRange.endLineNumberExclusive);A.setScrollTop(A.getScrollTop()+(K-j))}this._nodes.bottom.classList.toggle("dragging",!1),this._nodes.root.classList.toggle("dragging",!1),W.dispose(),H.dispose()})})),this._register((0,p.autorun)(O=>{const M=[];if(!this._hide){const R=d.getHiddenModifiedRange(O).length,x=(0,c.localize)(4,null,R),F=(0,f.$)("span",{title:(0,c.localize)(5,null)},x);F.addEventListener("dblclick",z=>{z.button===0&&(z.preventDefault(),this._unchangedRegion.showAll(void 0))}),M.push(F);const W=this._unchangedRegion.getHiddenModifiedRange(O),H=this._modifiedOutlineSource.getBreadcrumbItems(W,O);if(H.length>0){M.push((0,f.$)("span",void 0,"\xA0\xA0|\xA0\xA0"));for(let z=0;z<H.length;z++){const j=H[z],K=n.SymbolKinds.toIcon(j.kind),U=(0,f.h)("div.breadcrumb-item",{style:{display:"flex",alignItems:"center"}},[(0,k.renderIcon)(K),"\xA0",j.name,...z===H.length-1?[]:[(0,k.renderIcon)(E.Codicon.chevronRight)]]).root;M.push(U),U.onclick=()=>{this._revealModifiedHiddenLine(j.startLineNumber)}}}}(0,f.reset)(this._nodes.others,...M)}))}}}),define(ie[43],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageService=void 0,e.ILanguageService=(0,f.createDecorator)("languageService")}),define(ie[113],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorWorkerService=void 0,e.IEditorWorkerService=(0,f.createDecorator)("editorWorkerService")}),define(ie[18],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILanguageFeaturesService=void 0,e.ILanguageFeaturesService=(0,f.createDecorator)("ILanguageFeaturesService")}),define(ie[810],ne([1,0,647,18,48]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeaturesService=void 0;class D{constructor(){this.referenceProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.renameProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.newSymbolNamesProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeActionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.definitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.typeDefinitionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.declarationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.implementationProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSymbolProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlayHintsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.colorProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.codeLensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.onTypeFormattingEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.signatureHelpProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.hoverProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.multiDocumentHighlightProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.selectionRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.foldingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineCompletionsProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.inlineEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.completionProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.linkedEditingRangeProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentSemanticTokensProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentDropEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this)),this.documentPasteEditProvider=new f.LanguageFeatureRegistry(this._score.bind(this))}_score(p){var w;return(w=this._notebookTypeResolver)===null||w===void 0?void 0:w.call(this,p)}}e.LanguageFeaturesService=D,(0,E.registerSingleton)(k.ILanguageFeaturesService,D,1)}),define(ie[258],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerDecorationsService=void 0,e.IMarkerDecorationsService=(0,f.createDecorator)("markerDecorationsService")}),define(ie[53],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IModelService=void 0,e.IModelService=(0,f.createDecorator)("modelService")}),define(ie[74],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextModelService=void 0,e.ITextModelService=(0,f.createDecorator)("textModelService")}),define(ie[259],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISemanticTokensStylingService=void 0,e.ISemanticTokensStylingService=(0,f.createDecorator)("semanticTokensStylingService")}),define(ie[203],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITextResourcePropertiesService=e.ITextResourceConfigurationService=void 0,e.ITextResourceConfigurationService=(0,f.createDecorator)("textResourceConfigurationService"),e.ITextResourcePropertiesService=(0,f.createDecorator)("textResourcePropertiesService")}),define(ie[811],ne([1,0,48,8,317]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITreeViewsDnDService=void 0,e.ITreeViewsDnDService=(0,k.createDecorator)("treeViewsDndService"),(0,f.registerSingleton)(e.ITreeViewsDnDService,E.TreeViewsDnDService,1)}),define(ie[260],ne([1,0,148,130]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createCombinedWorkspaceEdit=E,e.sortEditsByYieldTo=D;function E(y,p,w){var b,C,o,s;return(typeof w.insertText=="string"?w.insertText==="":w.insertText.snippet==="")?{edits:(C=(b=w.additionalEdit)===null||b===void 0?void 0:b.edits)!==null&&C!==void 0?C:[]}:{edits:[...p.map(i=>new f.ResourceTextEdit(y,{range:i,text:typeof w.insertText=="string"?k.SnippetParser.escape(w.insertText)+"$0":w.insertText.snippet,insertAsSnippet:!0})),...(s=(o=w.additionalEdit)===null||o===void 0?void 0:o.edits)!==null&&s!==void 0?s:[]]}}function D(y){var p;function w(i,t){return"mimeType"in i?i.mimeType===t.handledMimeType:!!t.kind&&i.kind.contains(t.kind)}const b=new Map;for(const i of y)for(const t of(p=i.yieldTo)!==null&&p!==void 0?p:[])for(const n of y)if(n!==i&&w(t,n)){let c=b.get(i);c||(c=[],b.set(i,c)),c.push(n)}if(!b.size)return Array.from(y);const C=new Set,o=[];function s(i){if(!i.length)return[];const t=i[0];if(o.includes(t))return console.warn("Yield to cycle detected",t),i;if(C.has(t))return s(i.slice(1));let n=[];const c=b.get(t);return c&&(o.push(t),n=s(c),o.pop()),C.add(t),[...n,t,...s(i.slice(1))]}return s(Array.from(y))}}),define(ie[366],ne([1,0,99,7,2,30,12,71,38,9,5,112,43,42,102,146,131,198,199,495]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ttPolicy=e.AdditionalLinesWidget=e.GhostTextWidget=e.GHOST_TEXT_DESCRIPTION=void 0,e.GHOST_TEXT_DESCRIPTION="ghost-text";let r=class extends E.Disposable{constructor(g,d,v){super(),this.editor=g,this.model=d,this.languageService=v,this.isDisposed=(0,D.observableValue)(this,!1),this.currentTextModel=(0,D.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,D.derived)(this,_=>{if(this.isDisposed.read(_))return;const S=this.currentTextModel.read(_);if(S!==this.model.targetTextModel.read(_))return;const L=this.model.ghostText.read(_);if(!L)return;const I=L instanceof m.GhostTextReplacement?L.columnRange:void 0,T=[],N=[];function A(F,W){if(N.length>0){const H=N[N.length-1];W&&H.decorations.push(new n.LineDecoration(H.content.length+1,H.content.length+1+F[0].length,W,0)),H.content+=F[0],F=F.slice(1)}for(const H of F)N.push({content:H,decorations:W?[new n.LineDecoration(1,H.length+1,W,0)]:[]})}const O=S.getLineContent(L.lineNumber);let M,R=0;for(const F of L.parts){let W=F.lines;M===void 0?(T.push({column:F.column,text:W[0],preview:F.preview}),W=W.slice(1)):A([O.substring(R,F.column-1)],void 0),W.length>0&&(A(W,e.GHOST_TEXT_DESCRIPTION),M===void 0&&F.column<=O.length&&(M=F.column)),R=F.column-1}M!==void 0&&A([O.substring(R)],void 0);const x=M!==void 0?new u.ColumnRange(M,O.length+1):void 0;return{replacedRange:I,inlineTexts:T,additionalLines:N,hiddenRange:x,lineNumber:L.lineNumber,additionalReservedLineCount:this.model.minReservedLineCount.read(_),targetTextModel:S}}),this.decorations=(0,D.derived)(this,_=>{const S=this.uiState.read(_);if(!S)return[];const L=[];S.replacedRange&&L.push({range:S.replacedRange.toRange(S.lineNumber),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}),S.hiddenRange&&L.push({range:S.hiddenRange.toRange(S.lineNumber),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}});for(const I of S.inlineTexts)L.push({range:C.Range.fromPositions(new b.Position(S.lineNumber,I.column)),options:{description:e.GHOST_TEXT_DESCRIPTION,after:{content:I.text,inlineClassName:I.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:i.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return L}),this.additionalLinesWidget=this._register(new a(this.editor,this.languageService.languageIdCodec,(0,D.derived)(_=>{const S=this.uiState.read(_);return S?{lineNumber:S.lineNumber,additionalLines:S.additionalLines,minReservedLineCount:S.additionalReservedLineCount,targetTextModel:S.targetTextModel}:void 0}))),this._register((0,E.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,u.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(g){return this.additionalLinesWidget.viewZoneId===g}};e.GhostTextWidget=r,e.GhostTextWidget=r=Ie([ue(2,s.ILanguageService)],r);class a extends E.Disposable{get viewZoneId(){return this._viewZoneId}constructor(g,d,v){super(),this.editor=g,this.languageIdCodec=d,this.lines=v,this._viewZoneId=void 0,this.editorOptionsChanged=(0,D.observableSignalFromEvent)("editorOptionChanged",k.Event.filter(this.editor.onDidChangeConfiguration,_=>_.hasChanged(33)||_.hasChanged(117)||_.hasChanged(99)||_.hasChanged(94)||_.hasChanged(51)||_.hasChanged(50)||_.hasChanged(67))),this._register((0,D.autorun)(_=>{const S=this.lines.read(_);this.editorOptionsChanged.read(_),S?this.updateLines(S.lineNumber,S.additionalLines,S.minReservedLineCount):this.clear()}))}dispose(){super.dispose(),this.clear()}clear(){this.editor.changeViewZones(g=>{this._viewZoneId&&(g.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(g,d,v){const _=this.editor.getModel();if(!_)return;const{tabSize:S}=_.getOptions();this.editor.changeViewZones(L=>{this._viewZoneId&&(L.removeZone(this._viewZoneId),this._viewZoneId=void 0);const I=Math.max(d.length,v);if(I>0){const T=document.createElement("div");h(T,S,d,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=L.addZone({afterLineNumber:g,heightInLines:I,domNode:T,afterColumnAffinity:1})}})}}e.AdditionalLinesWidget=a;function h(l,g,d,v,_){const S=v.get(33),L=v.get(117),I="none",T=v.get(94),N=v.get(51),A=v.get(50),O=v.get(67),M=new o.StringBuilder(1e4);M.appendString('<div class="suggest-preview-text">');for(let F=0,W=d.length;F<W;F++){const H=d[F],z=H.content;M.appendString('<div class="view-line'),M.appendString('" style="top:'),M.appendString(String(F*O)),M.appendString('px;width:1000000px;">');const j=y.isBasicASCII(z),K=y.containsRTL(z),U=t.LineTokens.createEmpty(z,_);(0,c.renderViewLine)(new c.RenderLineInput(A.isMonospace&&!S,A.canUseHalfwidthRightwardsArrow,z,!1,j,K,0,U,H.decorations,g,0,A.spaceWidth,A.middotWidth,A.wsmiddotWidth,L,I,T,N!==w.EditorFontLigatures.OFF,null),M),M.appendString("</div>")}M.appendString("</div>"),(0,p.applyFontInfo)(l,A);const R=M.build(),x=e.ttPolicy?e.ttPolicy.createHTML(R):R;l.innerHTML=x}e.ttPolicy=(0,f.createTrustedTypesPolicy)("editorGhostText",{createHTML:l=>l})}),define(ie[812],ne([1,0,2,30,9,5,43,42,146,366,199,497]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GhostTextWidget=e.INLINE_EDIT_DESCRIPTION=void 0,e.INLINE_EDIT_DESCRIPTION="inline-edit";let o=class extends f.Disposable{constructor(i,t,n){super(),this.editor=i,this.model=t,this.languageService=n,this.isDisposed=(0,k.observableValue)(this,!1),this.currentTextModel=(0,k.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this.uiState=(0,k.derived)(this,c=>{var m;if(this.isDisposed.read(c))return;const u=this.currentTextModel.read(c);if(u!==this.model.targetTextModel.read(c))return;const r=this.model.ghostText.read(c);if(!r)return;let a=(m=this.model.range)===null||m===void 0?void 0:m.read(c);a&&a.startLineNumber===a.endLineNumber&&a.startColumn===a.endColumn&&(a=void 0);const h=(a?a.startLineNumber===a.endLineNumber:!0)&&r.parts.length===1&&r.parts[0].lines.length===1,l=r.parts.length===1&&r.parts[0].lines.every(N=>N.length===0),g=[],d=[];function v(N,A){if(d.length>0){const O=d[d.length-1];A&&O.decorations.push(new w.LineDecoration(O.content.length+1,O.content.length+1+N[0].length,A,0)),O.content+=N[0],N=N.slice(1)}for(const O of N)d.push({content:O,decorations:A?[new w.LineDecoration(1,O.length+1,A,0)]:[]})}const _=u.getLineContent(r.lineNumber);let S,L=0;if(!l){for(const N of r.parts){let A=N.lines;a&&!h&&(v(A,e.INLINE_EDIT_DESCRIPTION),A=[]),S===void 0?(g.push({column:N.column,text:A[0],preview:N.preview}),A=A.slice(1)):v([_.substring(L,N.column-1)],void 0),A.length>0&&(v(A,e.INLINE_EDIT_DESCRIPTION),S===void 0&&N.column<=_.length&&(S=N.column)),L=N.column-1}S!==void 0&&v([_.substring(L)],void 0)}const I=S!==void 0?new C.ColumnRange(S,_.length+1):void 0,T=h||!a?r.lineNumber:a.endLineNumber-1;return{inlineTexts:g,additionalLines:d,hiddenRange:I,lineNumber:T,additionalReservedLineCount:this.model.minReservedLineCount.read(c),targetTextModel:u,range:a,isSingleLine:h,isPureRemove:l,backgroundColoring:this.model.backgroundColoring.read(c)}}),this.decorations=(0,k.derived)(this,c=>{const m=this.uiState.read(c);if(!m)return[];const u=[];if(m.hiddenRange&&u.push({range:m.hiddenRange.toRange(m.lineNumber),options:{inlineClassName:"inline-edit-hidden",description:"inline-edit-hidden"}}),m.range){const r=[];if(m.isSingleLine)r.push(m.range);else if(m.isPureRemove){const h=m.range.endLineNumber-m.range.startLineNumber;for(let l=0;l<h;l++){const g=m.range.startLineNumber+l,d=m.targetTextModel.getLineFirstNonWhitespaceColumn(g),v=m.targetTextModel.getLineLastNonWhitespaceColumn(g),_=new D.Range(g,d,g,v);r.push(_)}}else{const h=m.range.endLineNumber-m.range.startLineNumber;for(let l=0;l<h;l++){const g=m.range.startLineNumber+l,d=m.targetTextModel.getLineFirstNonWhitespaceColumn(g),v=m.targetTextModel.getLineLastNonWhitespaceColumn(g),_=new D.Range(g,d,g,v);r.push(_)}}const a=m.backgroundColoring?"inline-edit-remove backgroundColoring":"inline-edit-remove";for(const h of r)u.push({range:h,options:{inlineClassName:a,description:"inline-edit-remove"}})}for(const r of m.inlineTexts)u.push({range:D.Range.fromPositions(new E.Position(m.lineNumber,r.column)),options:{description:e.INLINE_EDIT_DESCRIPTION,after:{content:r.text,inlineClassName:r.preview?"inline-edit-decoration-preview":"inline-edit-decoration",cursorStops:p.InjectedTextCursorStops.Left},showIfCollapsed:!0}});return u}),this.additionalLinesWidget=this._register(new b.AdditionalLinesWidget(this.editor,this.languageService.languageIdCodec,(0,k.derived)(c=>{const m=this.uiState.read(c);return m&&!m.isPureRemove?{lineNumber:m.lineNumber,additionalLines:m.additionalLines,minReservedLineCount:m.additionalReservedLineCount,targetTextModel:m.targetTextModel}:void 0}))),this._register((0,f.toDisposable)(()=>{this.isDisposed.set(!0,void 0)})),this._register((0,C.applyObservableDecorations)(this.editor,this.decorations))}ownsViewZone(i){return this.additionalLinesWidget.viewZoneId===i}};e.GhostTextWidget=o,e.GhostTextWidget=o=Ie([ue(2,y.ILanguageService)],o)}),define(ie[149],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IStandaloneThemeService=void 0,e.IStandaloneThemeService=(0,f.createDecorator)("themeService")}),define(ie[132],ne([1,0,769,8]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilitySignal=e.SoundSource=e.Sound=e.AcknowledgeDocCommentsToken=e.IAccessibilitySignalService=void 0,e.IAccessibilitySignalService=(0,k.createDecorator)("accessibilitySignalService"),e.AcknowledgeDocCommentsToken=Symbol("AcknowledgeDocCommentsToken");class E{static register(w){return new E(w.fileName)}constructor(w){this.fileName=w}}e.Sound=E,E.error=E.register({fileName:"error.mp3"}),E.warning=E.register({fileName:"warning.mp3"}),E.foldedArea=E.register({fileName:"foldedAreas.mp3"}),E.break=E.register({fileName:"break.mp3"}),E.quickFixes=E.register({fileName:"quickFixes.mp3"}),E.taskCompleted=E.register({fileName:"taskCompleted.mp3"}),E.taskFailed=E.register({fileName:"taskFailed.mp3"}),E.terminalBell=E.register({fileName:"terminalBell.mp3"}),E.diffLineInserted=E.register({fileName:"diffLineInserted.mp3"}),E.diffLineDeleted=E.register({fileName:"diffLineDeleted.mp3"}),E.diffLineModified=E.register({fileName:"diffLineModified.mp3"}),E.chatRequestSent=E.register({fileName:"chatRequestSent.mp3"}),E.chatResponseReceived1=E.register({fileName:"chatResponseReceived1.mp3"}),E.chatResponseReceived2=E.register({fileName:"chatResponseReceived2.mp3"}),E.chatResponseReceived3=E.register({fileName:"chatResponseReceived3.mp3"}),E.chatResponseReceived4=E.register({fileName:"chatResponseReceived4.mp3"}),E.clear=E.register({fileName:"clear.mp3"}),E.save=E.register({fileName:"save.mp3"}),E.format=E.register({fileName:"format.mp3"}),E.voiceRecordingStarted=E.register({fileName:"voiceRecordingStarted.mp3"}),E.voiceRecordingStopped=E.register({fileName:"voiceRecordingStopped.mp3"}),E.progress=E.register({fileName:"progress.mp3"});class D{constructor(w){this.randomOneOf=w}}e.SoundSource=D;class y{constructor(w,b,C,o,s,i){this.sound=w,this.name=b,this.legacySoundSettingsKey=C,this.settingsKey=o,this.legacyAnnouncementSettingsKey=s,this.announcementMessage=i}static register(w){const b=new D("randomOneOf"in w.sound?w.sound.randomOneOf:[w.sound]),C=new y(b,w.name,w.legacySoundSettingsKey,w.settingsKey,w.legacyAnnouncementSettingsKey,w.announcementMessage);return y._signals.add(C),C}}e.AccessibilitySignal=y,y._signals=new Set,y.errorAtPosition=y.register({name:(0,f.localize)(0,null),sound:E.error,announcementMessage:(0,f.localize)(1,null),settingsKey:"accessibility.signals.positionHasError"}),y.warningAtPosition=y.register({name:(0,f.localize)(2,null),sound:E.warning,announcementMessage:(0,f.localize)(3,null),settingsKey:"accessibility.signals.positionHasWarning"}),y.errorOnLine=y.register({name:(0,f.localize)(4,null),sound:E.error,legacySoundSettingsKey:"audioCues.lineHasError",legacyAnnouncementSettingsKey:"accessibility.alert.error",announcementMessage:(0,f.localize)(5,null),settingsKey:"accessibility.signals.lineHasError"}),y.warningOnLine=y.register({name:(0,f.localize)(6,null),sound:E.warning,legacySoundSettingsKey:"audioCues.lineHasWarning",legacyAnnouncementSettingsKey:"accessibility.alert.warning",announcementMessage:(0,f.localize)(7,null),settingsKey:"accessibility.signals.lineHasWarning"}),y.foldedArea=y.register({name:(0,f.localize)(8,null),sound:E.foldedArea,legacySoundSettingsKey:"audioCues.lineHasFoldedArea",legacyAnnouncementSettingsKey:"accessibility.alert.foldedArea",announcementMessage:(0,f.localize)(9,null),settingsKey:"accessibility.signals.lineHasFoldedArea"}),y.break=y.register({name:(0,f.localize)(10,null),sound:E.break,legacySoundSettingsKey:"audioCues.lineHasBreakpoint",legacyAnnouncementSettingsKey:"accessibility.alert.breakpoint",announcementMessage:(0,f.localize)(11,null),settingsKey:"accessibility.signals.lineHasBreakpoint"}),y.inlineSuggestion=y.register({name:(0,f.localize)(12,null),sound:E.quickFixes,legacySoundSettingsKey:"audioCues.lineHasInlineSuggestion",settingsKey:"accessibility.signals.lineHasInlineSuggestion"}),y.terminalQuickFix=y.register({name:(0,f.localize)(13,null),sound:E.quickFixes,legacySoundSettingsKey:"audioCues.terminalQuickFix",legacyAnnouncementSettingsKey:"accessibility.alert.terminalQuickFix",announcementMessage:(0,f.localize)(14,null),settingsKey:"accessibility.signals.terminalQuickFix"}),y.onDebugBreak=y.register({name:(0,f.localize)(15,null),sound:E.break,legacySoundSettingsKey:"audioCues.onDebugBreak",legacyAnnouncementSettingsKey:"accessibility.alert.onDebugBreak",announcementMessage:(0,f.localize)(16,null),settingsKey:"accessibility.signals.onDebugBreak"}),y.noInlayHints=y.register({name:(0,f.localize)(17,null),sound:E.error,legacySoundSettingsKey:"audioCues.noInlayHints",legacyAnnouncementSettingsKey:"accessibility.alert.noInlayHints",announcementMessage:(0,f.localize)(18,null),settingsKey:"accessibility.signals.noInlayHints"}),y.taskCompleted=y.register({name:(0,f.localize)(19,null),sound:E.taskCompleted,legacySoundSettingsKey:"audioCues.taskCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.taskCompleted",announcementMessage:(0,f.localize)(20,null),settingsKey:"accessibility.signals.taskCompleted"}),y.taskFailed=y.register({name:(0,f.localize)(21,null),sound:E.taskFailed,legacySoundSettingsKey:"audioCues.taskFailed",legacyAnnouncementSettingsKey:"accessibility.alert.taskFailed",announcementMessage:(0,f.localize)(22,null),settingsKey:"accessibility.signals.taskFailed"}),y.terminalCommandFailed=y.register({name:(0,f.localize)(23,null),sound:E.error,legacySoundSettingsKey:"audioCues.terminalCommandFailed",legacyAnnouncementSettingsKey:"accessibility.alert.terminalCommandFailed",announcementMessage:(0,f.localize)(24,null),settingsKey:"accessibility.signals.terminalCommandFailed"}),y.terminalBell=y.register({name:(0,f.localize)(25,null),sound:E.terminalBell,legacySoundSettingsKey:"audioCues.terminalBell",legacyAnnouncementSettingsKey:"accessibility.alert.terminalBell",announcementMessage:(0,f.localize)(26,null),settingsKey:"accessibility.signals.terminalBell"}),y.notebookCellCompleted=y.register({name:(0,f.localize)(27,null),sound:E.taskCompleted,legacySoundSettingsKey:"audioCues.notebookCellCompleted",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellCompleted",announcementMessage:(0,f.localize)(28,null),settingsKey:"accessibility.signals.notebookCellCompleted"}),y.notebookCellFailed=y.register({name:(0,f.localize)(29,null),sound:E.taskFailed,legacySoundSettingsKey:"audioCues.notebookCellFailed",legacyAnnouncementSettingsKey:"accessibility.alert.notebookCellFailed",announcementMessage:(0,f.localize)(30,null),settingsKey:"accessibility.signals.notebookCellFailed"}),y.diffLineInserted=y.register({name:(0,f.localize)(31,null),sound:E.diffLineInserted,legacySoundSettingsKey:"audioCues.diffLineInserted",settingsKey:"accessibility.signals.diffLineInserted"}),y.diffLineDeleted=y.register({name:(0,f.localize)(32,null),sound:E.diffLineDeleted,legacySoundSettingsKey:"audioCues.diffLineDeleted",settingsKey:"accessibility.signals.diffLineDeleted"}),y.diffLineModified=y.register({name:(0,f.localize)(33,null),sound:E.diffLineModified,legacySoundSettingsKey:"audioCues.diffLineModified",settingsKey:"accessibility.signals.diffLineModified"}),y.chatRequestSent=y.register({name:(0,f.localize)(34,null),sound:E.chatRequestSent,legacySoundSettingsKey:"audioCues.chatRequestSent",legacyAnnouncementSettingsKey:"accessibility.alert.chatRequestSent",announcementMessage:(0,f.localize)(35,null),settingsKey:"accessibility.signals.chatRequestSent"}),y.chatResponseReceived=y.register({name:(0,f.localize)(36,null),legacySoundSettingsKey:"audioCues.chatResponseReceived",sound:{randomOneOf:[E.chatResponseReceived1,E.chatResponseReceived2,E.chatResponseReceived3,E.chatResponseReceived4]},settingsKey:"accessibility.signals.chatResponseReceived"}),y.progress=y.register({name:(0,f.localize)(37,null),sound:E.progress,legacySoundSettingsKey:"audioCues.chatResponsePending",legacyAnnouncementSettingsKey:"accessibility.alert.chatResponseProgress",announcementMessage:(0,f.localize)(38,null),settingsKey:"accessibility.signals.progress"}),y.clear=y.register({name:(0,f.localize)(39,null),sound:E.clear,legacySoundSettingsKey:"audioCues.clear",legacyAnnouncementSettingsKey:"accessibility.alert.clear",announcementMessage:(0,f.localize)(40,null),settingsKey:"accessibility.signals.clear"}),y.save=y.register({name:(0,f.localize)(41,null),sound:E.save,legacySoundSettingsKey:"audioCues.save",legacyAnnouncementSettingsKey:"accessibility.alert.save",announcementMessage:(0,f.localize)(42,null),settingsKey:"accessibility.signals.save"}),y.format=y.register({name:(0,f.localize)(43,null),sound:E.format,legacySoundSettingsKey:"audioCues.format",legacyAnnouncementSettingsKey:"accessibility.alert.format",announcementMessage:(0,f.localize)(44,null),settingsKey:"accessibility.signals.format"}),y.voiceRecordingStarted=y.register({name:(0,f.localize)(45,null),sound:E.voiceRecordingStarted,legacySoundSettingsKey:"audioCues.voiceRecordingStarted",settingsKey:"accessibility.signals.voiceRecordingStarted"}),y.voiceRecordingStopped=y.register({name:(0,f.localize)(46,null),sound:E.voiceRecordingStopped,legacySoundSettingsKey:"audioCues.voiceRecordingStopped",settingsKey:"accessibility.signals.voiceRecordingStopped"})}),define(ie[114],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IClipboardService=void 0,e.IClipboardService=(0,f.createDecorator)("clipboardService")}),define(ie[25],ne([1,0,7,54,2,70,20,8]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsRegistry=e.ICommandService=void 0,e.ICommandService=(0,p.createDecorator)("commandService"),e.CommandsRegistry=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new f.Emitter,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(w,b){if(!w)throw new Error("invalid command");if(typeof w=="string"){if(!b)throw new Error("invalid command");return this.registerCommand({id:w,handler:b})}if(w.metadata&&Array.isArray(w.metadata.args)){const t=[];for(const c of w.metadata.args)t.push(c.constraint);const n=w.handler;w.handler=function(c,...m){return(0,y.validateConstraints)(m,t),n(c,...m)}}const{id:C}=w;let o=this._commands.get(C);o||(o=new D.LinkedList,this._commands.set(C,o));const s=o.unshift(w),i=(0,E.toDisposable)(()=>{s();const t=this._commands.get(C);t?.isEmpty()&&this._commands.delete(C)});return this._onDidRegisterCommand.fire(C),i}registerCommandAlias(w,b){return e.CommandsRegistry.registerCommand(w,(C,...o)=>C.get(e.ICommandService).executeCommand(b,...o))}getCommand(w){const b=this._commands.get(w);if(!(!b||b.isEmpty()))return k.Iterable.first(b)}getCommands(){const w=new Map;for(const b of this._commands.keys()){const C=this.getCommand(b);C&&w.set(b,C)}return w}},e.CommandsRegistry.registerCommand("noop",()=>{})}),define(ie[367],ne([1,0,19,10,2,20,22,53,25,18]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensModel=void 0,e.getCodeLensModel=o;class C{constructor(){this.lenses=[],this._disposables=new E.DisposableStore}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(i,t){this._disposables.add(i);for(const n of i.lenses)this.lenses.push({symbol:n,provider:t})}}e.CodeLensModel=C;async function o(s,i,t){const n=s.ordered(i),c=new Map,m=new C,u=n.map(async(r,a)=>{c.set(r,a);try{const h=await Promise.resolve(r.provideCodeLenses(i,t));h&&m.add(h,r)}catch(h){(0,k.onUnexpectedExternalError)(h)}});return await Promise.all(u),m.lenses=m.lenses.sort((r,a)=>r.symbol.range.startLineNumber<a.symbol.range.startLineNumber?-1:r.symbol.range.startLineNumber>a.symbol.range.startLineNumber?1:c.get(r.provider)<c.get(a.provider)?-1:c.get(r.provider)>c.get(a.provider)?1:r.symbol.range.startColumn<a.symbol.range.startColumn?-1:r.symbol.range.startColumn>a.symbol.range.startColumn?1:0),m}w.CommandsRegistry.registerCommand("_executeCodeLensProvider",function(s,...i){let[t,n]=i;(0,D.assertType)(y.URI.isUri(t)),(0,D.assertType)(typeof n=="number"||!n);const{codeLensProvider:c}=s.get(b.ILanguageFeaturesService),m=s.get(p.IModelService).getModel(t);if(!m)throw(0,k.illegalArgument)();const u=[],r=new E.DisposableStore;return o(c,m,f.CancellationToken.None).then(a=>{r.add(a);const h=[];for(const l of a.lenses)n==null||l.symbol.command?u.push(l.symbol):n-- >0&&l.provider.resolveCodeLens&&h.push(Promise.resolve(l.provider.resolveCodeLens(m,l.symbol,f.CancellationToken.None)).then(g=>u.push(g||l.symbol)));return Promise.all(h)}).then(()=>u).finally(()=>{setTimeout(()=>r.dispose(),100)})})}),define(ie[813],ne([1,0,13,19,10,2,20,22,5,53,25,18]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LinksList=e.Link=void 0,e.getLinks=t;class s{constructor(c,m){this._link=c,this._provider=m}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}async resolve(c){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,c)).then(m=>(this._link=m||this._link,this._link.url?this.resolve(c):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))}}e.Link=s;class i{constructor(c){this._disposables=new D.DisposableStore;let m=[];for(const[u,r]of c){const a=u.links.map(h=>new s(h,r));m=i._union(m,a),(0,D.isDisposable)(u)&&this._disposables.add(u)}this.links=m}dispose(){this._disposables.dispose(),this.links.length=0}static _union(c,m){const u=[];let r,a,h,l;for(r=0,h=0,a=c.length,l=m.length;r<a&&h<l;){const g=c[r],d=m[h];if(w.Range.areIntersectingOrTouching(g.range,d.range)){r++;continue}w.Range.compareRangesUsingStarts(g.range,d.range)<0?(u.push(g),r++):(u.push(d),h++)}for(;r<a;r++)u.push(c[r]);for(;h<l;h++)u.push(m[h]);return u}}e.LinksList=i;function t(n,c,m){const u=[],r=n.ordered(c).reverse().map((a,h)=>Promise.resolve(a.provideLinks(c,m)).then(l=>{l&&(u[h]=[l,a])},E.onUnexpectedExternalError));return Promise.all(r).then(()=>{const a=new i((0,f.coalesce)(u));return m.isCancellationRequested?(a.dispose(),new i([])):a})}C.CommandsRegistry.registerCommand("_executeLinkProvider",async(n,...c)=>{let[m,u]=c;(0,y.assertType)(m instanceof p.URI),typeof u!="number"&&(u=0);const{linkProvider:r}=n.get(o.ILanguageFeaturesService),a=n.get(b.IModelService).getModel(m);if(!a)return[];const h=await t(r,a,k.CancellationToken.None);if(!h)return[];for(let g=0;g<Math.min(u,h.links.length);g++)await h.links[g].resolve(k.CancellationToken.None);const l=h.links.slice(0);return h.dispose(),l})}),define(ie[368],ne([1,0,19,10,22,53,25,20,651,5,18]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensResult=void 0,e.isSemanticTokens=o,e.isSemanticTokensEdits=s,e.hasDocumentSemanticTokensProvider=t,e.getDocumentSemanticTokens=c,e.hasDocumentRangeSemanticTokensProvider=r,e.getDocumentRangeSemanticTokens=h;function o(l){return l&&!!l.data}function s(l){return l&&Array.isArray(l.edits)}class i{constructor(g,d,v){this.provider=g,this.tokens=d,this.error=v}}e.DocumentSemanticTokensResult=i;function t(l,g){return l.has(g)}function n(l,g){const d=l.orderedGroups(g);return d.length>0?d[0]:[]}async function c(l,g,d,v,_){const S=n(l,g),L=await Promise.all(S.map(async I=>{let T,N=null;try{T=await I.provideDocumentSemanticTokens(g,I===d?v:null,_)}catch(A){N=A,T=null}return(!T||!o(T)&&!s(T))&&(T=null),new i(I,T,N)}));for(const I of L){if(I.error)throw I.error;if(I.tokens)return I}return L.length>0?L[0]:null}function m(l,g){const d=l.orderedGroups(g);return d.length>0?d[0]:null}class u{constructor(g,d){this.provider=g,this.tokens=d}}function r(l,g){return l.has(g)}function a(l,g){const d=l.orderedGroups(g);return d.length>0?d[0]:[]}async function h(l,g,d,v){const _=a(l,g),S=await Promise.all(_.map(async L=>{let I;try{I=await L.provideDocumentRangeSemanticTokens(g,d,v)}catch(T){(0,k.onUnexpectedExternalError)(T),I=null}return(!I||!o(I))&&(I=null),new u(L,I)}));for(const L of S)if(L.tokens)return L;return S.length>0?S[0]:null}y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokensLegend",async(l,...g)=>{const[d]=g;(0,p.assertType)(d instanceof E.URI);const v=l.get(D.IModelService).getModel(d);if(!v)return;const{documentSemanticTokensProvider:_}=l.get(C.ILanguageFeaturesService),S=m(_,v);return S?S[0].getLegend():l.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokensLegend",d)}),y.CommandsRegistry.registerCommand("_provideDocumentSemanticTokens",async(l,...g)=>{const[d]=g;(0,p.assertType)(d instanceof E.URI);const v=l.get(D.IModelService).getModel(d);if(!v)return;const{documentSemanticTokensProvider:_}=l.get(C.ILanguageFeaturesService);if(!t(_,v))return l.get(y.ICommandService).executeCommand("_provideDocumentRangeSemanticTokens",d,v.getFullModelRange());const S=await c(_,v,null,null,f.CancellationToken.None);if(!S)return;const{provider:L,tokens:I}=S;if(!I||!o(I))return;const T=(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:I.data});return I.resultId&&L.releaseDocumentSemanticTokens(I.resultId),T}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokensLegend",async(l,...g)=>{const[d,v]=g;(0,p.assertType)(d instanceof E.URI);const _=l.get(D.IModelService).getModel(d);if(!_)return;const{documentRangeSemanticTokensProvider:S}=l.get(C.ILanguageFeaturesService),L=a(S,_);if(L.length===0)return;if(L.length===1)return L[0].getLegend();if(!v||!b.Range.isIRange(v))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),L[0].getLegend();const I=await h(S,_,b.Range.lift(v),f.CancellationToken.None);if(I)return I.provider.getLegend()}),y.CommandsRegistry.registerCommand("_provideDocumentRangeSemanticTokens",async(l,...g)=>{const[d,v]=g;(0,p.assertType)(d instanceof E.URI),(0,p.assertType)(b.Range.isIRange(v));const _=l.get(D.IModelService).getModel(d);if(!_)return;const{documentRangeSemanticTokensProvider:S}=l.get(C.ILanguageFeaturesService),L=await h(S,_,b.Range.lift(v),f.CancellationToken.None);if(!(!L||!L.tokens))return(0,w.encodeSemanticTokensDto)({id:0,type:"full",data:L.tokens.data})})}),define(ie[27],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IConfigurationService=void 0,e.toValuesTree=k,e.addToValueTree=E,e.removeFromValueTree=D,e.getConfigurationValue=p,e.getLanguageTagSettingPlainKey=w,e.IConfigurationService=(0,f.createDecorator)("configurationService");function k(b,C){const o=Object.create(null);for(const s in b)E(o,s,b[s],C);return o}function E(b,C,o,s){const i=C.split("."),t=i.pop();let n=b;for(let c=0;c<i.length;c++){const m=i[c];let u=n[m];switch(typeof u){case"undefined":u=n[m]=Object.create(null);break;case"object":if(u===null){s(`Ignoring ${C} as ${i.slice(0,c+1).join(".")} is null`);return}break;default:s(`Ignoring ${C} as ${i.slice(0,c+1).join(".")} is ${JSON.stringify(u)}`);return}n=u}if(typeof n=="object"&&n!==null)try{n[t]=o}catch{s(`Ignoring ${C} as ${i.join(".")} is ${JSON.stringify(n)}`)}else s(`Ignoring ${C} as ${i.join(".")} is ${JSON.stringify(n)}`)}function D(b,C){const o=C.split(".");y(b,o)}function y(b,C){const o=C.shift();if(C.length===0){delete b[o];return}if(Object.keys(b).indexOf(o)!==-1){const s=b[o];typeof s=="object"&&!Array.isArray(s)&&(y(s,C),Object.keys(s).length===0&&delete b[o])}}function p(b,C,o){function s(n,c){let m=n;for(const u of c){if(typeof m!="object"||m===null)return;m=m[u]}return m}const i=C.split("."),t=s(b,i);return typeof t>"u"?o:t}function w(b){return b.replace(/[\[\]]/g,"")}}),define(ie[369],ne([1,0,2,28,171,334,27]),function(Q,e,f,k,E,D,y){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.MonarchTokenizer=void 0;const w=5;class b{static create(r,a){return this._INSTANCE.create(r,a)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,a){if(r!==null&&r.depth>=this._maxCacheDepth)return new C(r,a);let h=C.getStackElementId(r);h.length>0&&(h+="|"),h+=a;let l=this._entries[h];return l||(l=new C(r,a),this._entries[h]=l,l)}}b._INSTANCE=new b(w);class C{constructor(r,a){this.parent=r,this.state=a,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(r){let a="";for(;r!==null;)a.length>0&&(a+="|"),a+=r.state,r=r.parent;return a}static _equals(r,a){for(;r!==null&&a!==null;){if(r===a)return!0;if(r.state!==a.state)return!1;r=r.parent,a=a.parent}return r===null&&a===null}equals(r){return C._equals(this,r)}push(r){return b.create(this,r)}pop(){return this.parent}popall(){let r=this;for(;r.parent;)r=r.parent;return r}switchTo(r){return b.create(this.parent,r)}}class o{constructor(r,a){this.languageId=r,this.state=a}equals(r){return this.languageId===r.languageId&&this.state.equals(r.state)}clone(){return this.state.clone()===this.state?this:new o(this.languageId,this.state)}}class s{static create(r,a){return this._INSTANCE.create(r,a)}constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}create(r,a){if(a!==null)return new i(r,a);if(r!==null&&r.depth>=this._maxCacheDepth)return new i(r,a);const h=C.getStackElementId(r);let l=this._entries[h];return l||(l=new i(r,null),this._entries[h]=l,l)}}s._INSTANCE=new s(w);class i{constructor(r,a){this.stack=r,this.embeddedLanguageData=a}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:s.create(this.stack,this.embeddedLanguageData)}equals(r){return!(r instanceof i)||!this.stack.equals(r.stack)?!1:this.embeddedLanguageData===null&&r.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||r.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(r.embeddedLanguageData)}}class t{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(r){this._languageId=r}emit(r,a){this._lastTokenType===a&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=a,this._lastTokenLanguage=this._languageId,this._tokens.push(new k.Token(r,a,this._languageId)))}nestedLanguageTokenize(r,a,h,l){const g=h.languageId,d=h.state,v=k.TokenizationRegistry.get(g);if(!v)return this.enterLanguage(g),this.emit(l,""),d;const _=v.tokenize(r,a,d);if(l!==0)for(const S of _.tokens)this._tokens.push(new k.Token(S.offset+l,S.type,S.language));else this._tokens=this._tokens.concat(_.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,_.endState}finalize(r){return new k.TokenizationResult(this._tokens,r)}}class n{constructor(r,a){this._languageService=r,this._theme=a,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(r){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(r)}emit(r,a){const h=this._theme.match(this._currentLanguageId,a)|1024;this._lastTokenMetadata!==h&&(this._lastTokenMetadata=h,this._tokens.push(r),this._tokens.push(h))}static _merge(r,a,h){const l=r!==null?r.length:0,g=a.length,d=h!==null?h.length:0;if(l===0&&g===0&&d===0)return new Uint32Array(0);if(l===0&&g===0)return h;if(g===0&&d===0)return r;const v=new Uint32Array(l+g+d);r!==null&&v.set(r);for(let _=0;_<g;_++)v[l+_]=a[_];return h!==null&&v.set(h,l+g),v}nestedLanguageTokenize(r,a,h,l){const g=h.languageId,d=h.state,v=k.TokenizationRegistry.get(g);if(!v)return this.enterLanguage(g),this.emit(l,""),d;const _=v.tokenizeEncoded(r,a,d);if(l!==0)for(let S=0,L=_.tokens.length;S<L;S+=2)_.tokens[S]+=l;return this._prependTokens=n._merge(this._prependTokens,this._tokens,_.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,_.endState}finalize(r){return new k.EncodedTokenizationResult(n._merge(this._prependTokens,this._tokens,null),r)}}let c=p=class extends f.Disposable{constructor(r,a,h,l,g){super(),this._configurationService=g,this._languageService=r,this._standaloneThemeService=a,this._languageId=h,this._lexer=l,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let d=!1;this._register(k.TokenizationRegistry.onDidChange(v=>{if(d)return;let _=!1;for(let S=0,L=v.changedLanguages.length;S<L;S++){const I=v.changedLanguages[S];if(this._embeddedLanguages[I]){_=!0;break}}_&&(d=!0,k.TokenizationRegistry.handleChange([this._languageId]),d=!1)})),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._register(this._configurationService.onDidChangeConfiguration(v=>{v.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))}))}getLoadStatus(){const r=[];for(const a in this._embeddedLanguages){const h=k.TokenizationRegistry.get(a);if(h){if(h instanceof p){const l=h.getLoadStatus();l.loaded===!1&&r.push(l.promise)}continue}k.TokenizationRegistry.isResolved(a)||r.push(k.TokenizationRegistry.getOrCreate(a))}return r.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(r).then(a=>{})}}getInitialState(){const r=b.create(null,this._lexer.start);return s.create(r,null)}tokenize(r,a,h){if(r.length>=this._maxTokenizationLineLength)return(0,E.nullTokenize)(this._languageId,h);const l=new t,g=this._tokenize(r,a,h,l);return l.finalize(g)}tokenizeEncoded(r,a,h){if(r.length>=this._maxTokenizationLineLength)return(0,E.nullTokenizeEncoded)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),h);const l=new n(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),g=this._tokenize(r,a,h,l);return l.finalize(g)}_tokenize(r,a,h,l){return h.embeddedLanguageData?this._nestedTokenize(r,a,h,0,l):this._myTokenize(r,a,h,0,l)}_findLeavingNestedLanguageOffset(r,a){let h=this._lexer.tokenizer[a.stack.state];if(!h&&(h=D.findRules(this._lexer,a.stack.state),!h))throw D.createError(this._lexer,"tokenizer state is not defined: "+a.stack.state);let l=-1,g=!1;for(const d of h){if(!D.isIAction(d.action)||d.action.nextEmbedded!=="@pop")continue;g=!0;let v=d.resolveRegex(a.stack.state);const _=v.source;if(_.substr(0,4)==="^(?:"&&_.substr(_.length-1,1)===")"){const L=(v.ignoreCase?"i":"")+(v.unicode?"u":"");v=new RegExp(_.substr(4,_.length-5),L)}const S=r.search(v);S===-1||S!==0&&d.matchOnlyAtLineStart||(l===-1||S<l)&&(l=S)}if(!g)throw D.createError(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+a.stack.state);return l}_nestedTokenize(r,a,h,l,g){const d=this._findLeavingNestedLanguageOffset(r,h);if(d===-1){const S=g.nestedLanguageTokenize(r,a,h.embeddedLanguageData,l);return s.create(h.stack,new o(h.embeddedLanguageData.languageId,S))}const v=r.substring(0,d);v.length>0&&g.nestedLanguageTokenize(v,!1,h.embeddedLanguageData,l);const _=r.substring(d);return this._myTokenize(_,a,h,l+d,g)}_safeRuleName(r){return r?r.name:"(unknown)"}_myTokenize(r,a,h,l,g){g.enterLanguage(this._languageId);const d=r.length,v=a&&this._lexer.includeLF?r+`
`:r,_=v.length;let S=h.embeddedLanguageData,L=h.stack,I=0,T=null,N=!0;for(;N||I<_;){const A=I,O=L.depth,M=T?T.groups.length:0,R=L.state;let x=null,F=null,W=null,H=null,z=null;if(T){x=T.matches;const U=T.groups.shift();F=U.matched,W=U.action,H=T.rule,T.groups.length===0&&(T=null)}else{if(!N&&I>=_)break;N=!1;let U=this._lexer.tokenizer[R];if(!U&&(U=D.findRules(this._lexer,R),!U))throw D.createError(this._lexer,"tokenizer state is not defined: "+R);const G=v.substr(I);for(const te of U)if((I===0||!te.matchOnlyAtLineStart)&&(x=G.match(te.resolveRegex(R)),x)){F=x[0],W=te.action;break}}if(x||(x=[""],F=""),W||(I<_&&(x=[v.charAt(I)],F=x[0]),W=this._lexer.defaultToken),F===null)break;for(I+=F.length;D.isFuzzyAction(W)&&D.isIAction(W)&&W.test;)W=W.test(F,x,R,I===_);let j=null;if(typeof W=="string"||Array.isArray(W))j=W;else if(W.group)j=W.group;else if(W.token!==null&&W.token!==void 0){if(W.tokenSubst?j=D.substituteMatches(this._lexer,W.token,F,x,R):j=W.token,W.nextEmbedded)if(W.nextEmbedded==="@pop"){if(!S)throw D.createError(this._lexer,"cannot pop embedded language if not inside one");S=null}else{if(S)throw D.createError(this._lexer,"cannot enter embedded language from within an embedded language");z=D.substituteMatches(this._lexer,W.nextEmbedded,F,x,R)}if(W.goBack&&(I=Math.max(0,I-W.goBack)),W.switchTo&&typeof W.switchTo=="string"){let U=D.substituteMatches(this._lexer,W.switchTo,F,x,R);if(U[0]==="@"&&(U=U.substr(1)),D.findRules(this._lexer,U))L=L.switchTo(U);else throw D.createError(this._lexer,"trying to switch to a state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}else{if(W.transform&&typeof W.transform=="function")throw D.createError(this._lexer,"action.transform not supported");if(W.next)if(W.next==="@push"){if(L.depth>=this._lexer.maxStack)throw D.createError(this._lexer,"maximum tokenizer stack size reached: ["+L.state+","+L.parent.state+",...]");L=L.push(R)}else if(W.next==="@pop"){if(L.depth<=1)throw D.createError(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(H));L=L.pop()}else if(W.next==="@popall")L=L.popall();else{let U=D.substituteMatches(this._lexer,W.next,F,x,R);if(U[0]==="@"&&(U=U.substr(1)),D.findRules(this._lexer,U))L=L.push(U);else throw D.createError(this._lexer,"trying to set a next state '"+U+"' that is undefined in rule: "+this._safeRuleName(H))}}W.log&&typeof W.log=="string"&&D.log(this._lexer,this._lexer.languageId+": "+D.substituteMatches(this._lexer,W.log,F,x,R))}if(j===null)throw D.createError(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(H));const K=U=>{const G=this._languageService.getLanguageIdByLanguageName(U)||this._languageService.getLanguageIdByMimeType(U)||U,te=this._getNestedEmbeddedLanguageData(G);if(I<_){const ee=r.substr(I);return this._nestedTokenize(ee,a,s.create(L,te),l+I,g)}else return s.create(L,te)};if(Array.isArray(j)){if(T&&T.groups.length>0)throw D.createError(this._lexer,"groups cannot be nested: "+this._safeRuleName(H));if(x.length!==j.length+1)throw D.createError(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(H));let U=0;for(let G=1;G<x.length;G++)U+=x[G].length;if(U!==F.length)throw D.createError(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(H));T={rule:H,matches:x,groups:[]};for(let G=0;G<j.length;G++)T.groups[G]={action:j[G],matched:x[G+1]};I-=F.length;continue}else{if(j==="@rematch"&&(I-=F.length,F="",x=null,j="",z!==null))return K(z);if(F.length===0){if(_===0||O!==L.depth||R!==L.state||(T?T.groups.length:0)!==M)continue;throw D.createError(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(H))}let U=null;if(D.isString(j)&&j.indexOf("@brackets")===0){const G=j.substr(9),te=m(this._lexer,F);if(!te)throw D.createError(this._lexer,"@brackets token returned but no bracket defined as: "+F);U=D.sanitize(te.token+G)}else{const G=j===""?"":j+this._lexer.tokenPostfix;U=D.sanitize(G)}A<d&&g.emit(A+l,U)}if(z!==null)return K(z)}return s.create(L,S)}_getNestedEmbeddedLanguageData(r){if(!this._languageService.isRegisteredLanguageId(r))return new o(r,E.NullState);r!==this._languageId&&(this._languageService.requestBasicLanguageFeatures(r),k.TokenizationRegistry.getOrCreate(r),this._embeddedLanguages[r]=!0);const a=k.TokenizationRegistry.get(r);return a?new o(r,a.getInitialState()):new o(r,E.NullState)}};e.MonarchTokenizer=c,e.MonarchTokenizer=c=p=Ie([ue(4,y.IConfigurationService)],c);function m(u,r){if(!r)return null;r=D.fixCase(u,r);const a=u.brackets;for(const h of a){if(h.open===r)return{token:h.token,bracketType:1};if(h.close===r)return{token:h.token,bracketType:-1}}return null}}),define(ie[814],ne([1,0,99,12,28,102,131,91,369]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Colorizer=void 0;const b=(0,f.createTrustedTypesPolicy)("standaloneColorizer",{createHTML:t=>t});class C{static colorizeElement(n,c,m,u){u=u||{};const r=u.theme||"vs",a=u.mimeType||m.getAttribute("lang")||m.getAttribute("data-lang");if(!a)return console.error("Mode not detected"),Promise.resolve();const h=c.getLanguageIdByMimeType(a)||a;n.setTheme(r);const l=m.firstChild?m.firstChild.nodeValue:"";m.className+=" "+r;const g=d=>{var v;const _=(v=b?.createHTML(d))!==null&&v!==void 0?v:d;m.innerHTML=_};return this.colorize(c,l||"",h,u).then(g,d=>console.error(d))}static async colorize(n,c,m,u){const r=n.languageIdCodec;let a=4;u&&typeof u.tabSize=="number"&&(a=u.tabSize),k.startsWithUTF8BOM(c)&&(c=c.substr(1));const h=k.splitLines(c);if(!n.isRegisteredLanguageId(m))return s(h,a,r);const l=await E.TokenizationRegistry.getOrCreate(m);return l?o(h,a,l,r):s(h,a,r)}static colorizeLine(n,c,m,u,r=4){const a=p.ViewLineRenderingData.isBasicASCII(n,c),h=p.ViewLineRenderingData.containsRTL(n,a,m);return(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,n,!1,a,h,0,u,[],r,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(n,c,m=4){const u=n.getLineContent(c);n.tokenization.forceTokenization(c);const a=n.tokenization.getLineTokens(c).inflate();return this.colorizeLine(u,n.mightContainNonBasicASCII(),n.mightContainRTL(),a,m)}}e.Colorizer=C;function o(t,n,c,m){return new Promise((u,r)=>{const a=()=>{const h=i(t,n,c,m);if(c instanceof w.MonarchTokenizer){const l=c.getLoadStatus();if(l.loaded===!1){l.promise.then(a,r);return}}u(h)};a()})}function s(t,n,c){let m=[];const r=new Uint32Array(2);r[0]=0,r[1]=33587200;for(let a=0,h=t.length;a<h;a++){const l=t[a];r[0]=l.length;const g=new D.LineTokens(r,l,c),d=p.ViewLineRenderingData.isBasicASCII(l,!0),v=p.ViewLineRenderingData.containsRTL(l,d,!0),_=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,l,!1,d,v,0,g,[],n,0,0,0,0,-1,"none",!1,!1,null));m=m.concat(_.html),m.push("<br/>")}return m.join("")}function i(t,n,c,m){let u=[],r=c.getInitialState();for(let a=0,h=t.length;a<h;a++){const l=t[a],g=c.tokenizeEncoded(l,!0,r);D.LineTokens.convertToEndOffset(g.tokens,l.length);const d=new D.LineTokens(g.tokens,l,m),v=p.ViewLineRenderingData.isBasicASCII(l,!0),_=p.ViewLineRenderingData.containsRTL(l,v,!0),S=(0,y.renderViewLine2)(new y.RenderLineInput(!1,!0,l,!1,v,_,0,d.inflate(),[],n,0,0,0,0,-1,"none",!1,!1,null));u=u.concat(S.html),u.push("<br/>"),r=g.endState}return u.join("")}}),define(ie[14],ne([1,0,17,12,805,8,778]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextKeyService=e.RawContextKey=e.ContextKeyOrExpr=e.ContextKeyAndExpr=e.ContextKeyNotRegexExpr=e.ContextKeyRegexExpr=e.ContextKeySmallerEqualsExpr=e.ContextKeySmallerExpr=e.ContextKeyGreaterEqualsExpr=e.ContextKeyGreaterExpr=e.ContextKeyNotExpr=e.ContextKeyNotEqualsExpr=e.ContextKeyNotInExpr=e.ContextKeyInExpr=e.ContextKeyEqualsExpr=e.ContextKeyDefinedExpr=e.ContextKeyTrueExpr=e.ContextKeyFalseExpr=e.ContextKeyExpr=e.Parser=void 0,e.expressionsAreEqualWithConstantSubstitution=a,e.implies=U;const p=new Map;p.set("false",!1),p.set("true",!0),p.set("isMac",f.isMacintosh),p.set("isLinux",f.isLinux),p.set("isWindows",f.isWindows),p.set("isWeb",f.isWeb),p.set("isMacNative",f.isMacintosh&&!f.isWeb),p.set("isEdge",f.isEdge),p.set("isFirefox",f.isFirefox),p.set("isChrome",f.isChrome),p.set("isSafari",f.isSafari);const w=Object.prototype.hasOwnProperty,b={regexParsingWithErrorRecovery:!0},C=(0,y.localize)(0,null),o=(0,y.localize)(1,null),s=(0,y.localize)(2,null),i=(0,y.localize)(3,null),t=(0,y.localize)(4,null),n=(0,y.localize)(5,null),c=(0,y.localize)(6,null),m=(0,y.localize)(7,null);class u{constructor(Y=b){this._config=Y,this._scanner=new E.Scanner,this._tokens=[],this._current=0,this._parsingErrors=[],this._flagsGYRe=/g|y/g}parse(Y){if(Y===""){this._parsingErrors.push({message:C,offset:0,lexeme:"",additionalInfo:o});return}this._tokens=this._scanner.reset(Y).scan(),this._current=0,this._parsingErrors=[];try{const P=this._expr();if(!this._isAtEnd()){const Z=this._peek(),re=Z.type===17?n:void 0;throw this._parsingErrors.push({message:t,offset:Z.offset,lexeme:E.Scanner.getLexeme(Z),additionalInfo:re}),u._parseError}return P}catch(P){if(P!==u._parseError)throw P;return}}_expr(){return this._or()}_or(){const Y=[this._and()];for(;this._matchOne(16);){const P=this._and();Y.push(P)}return Y.length===1?Y[0]:r.or(...Y)}_and(){const Y=[this._term()];for(;this._matchOne(15);){const P=this._term();Y.push(P)}return Y.length===1?Y[0]:r.and(...Y)}_term(){if(this._matchOne(2)){const Y=this._peek();switch(Y.type){case 11:return this._advance(),l.INSTANCE;case 12:return this._advance(),g.INSTANCE;case 0:{this._advance();const P=this._expr();return this._consume(1,i),P?.negate()}case 17:return this._advance(),I.create(Y.lexeme);default:throw this._errExpectedButGot("KEY | true | false | '(' expression ')'",Y)}}return this._primary()}_primary(){const Y=this._peek();switch(Y.type){case 11:return this._advance(),r.true();case 12:return this._advance(),r.false();case 0:{this._advance();const P=this._expr();return this._consume(1,i),P}case 17:{const P=Y.lexeme;if(this._advance(),this._matchOne(9)){const re=this._peek();if(!this._config.regexParsingWithErrorRecovery){if(this._advance(),re.type!==10)throw this._errExpectedButGot("REGEX",re);const ce=re.lexeme,he=ce.lastIndexOf("/"),pe=he===ce.length-1?void 0:this._removeFlagsGY(ce.substring(he+1));let ge;try{ge=new RegExp(ce.substring(1,he),pe)}catch{throw this._errExpectedButGot("REGEX",re)}return R.create(P,ge)}switch(re.type){case 10:case 19:{const ce=[re.lexeme];this._advance();let he=this._peek(),pe=0;for(let B=0;B<re.lexeme.length;B++)re.lexeme.charCodeAt(B)===40?pe++:re.lexeme.charCodeAt(B)===41&&pe--;for(;!this._isAtEnd()&&he.type!==15&&he.type!==16;){switch(he.type){case 0:pe++;break;case 1:pe--;break;case 10:case 18:for(let B=0;B<he.lexeme.length;B++)he.lexeme.charCodeAt(B)===40?pe++:re.lexeme.charCodeAt(B)===41&&pe--}if(pe<0)break;ce.push(E.Scanner.getLexeme(he)),this._advance(),he=this._peek()}const ge=ce.join(""),X=ge.lastIndexOf("/"),ae=X===ge.length-1?void 0:this._removeFlagsGY(ge.substring(X+1));let oe;try{oe=new RegExp(ge.substring(1,X),ae)}catch{throw this._errExpectedButGot("REGEX",re)}return r.regex(P,oe)}case 18:{const ce=re.lexeme;this._advance();let he=null;if(!(0,k.isFalsyOrWhitespace)(ce)){const pe=ce.indexOf("/"),ge=ce.lastIndexOf("/");if(pe!==ge&&pe>=0){const X=ce.slice(pe+1,ge),ae=ce[ge+1]==="i"?"i":"";try{he=new RegExp(X,ae)}catch{throw this._errExpectedButGot("REGEX",re)}}}if(he===null)throw this._errExpectedButGot("REGEX",re);return R.create(P,he)}default:throw this._errExpectedButGot("REGEX",this._peek())}}if(this._matchOne(14)){this._consume(13,s);const re=this._value();return r.notIn(P,re)}switch(this._peek().type){case 3:{this._advance();const re=this._value();if(this._previous().type===18)return r.equals(P,re);switch(re){case"true":return r.has(P);case"false":return r.not(P);default:return r.equals(P,re)}}case 4:{this._advance();const re=this._value();if(this._previous().type===18)return r.notEquals(P,re);switch(re){case"true":return r.not(P);case"false":return r.has(P);default:return r.notEquals(P,re)}}case 5:return this._advance(),O.create(P,this._value());case 6:return this._advance(),M.create(P,this._value());case 7:return this._advance(),N.create(P,this._value());case 8:return this._advance(),A.create(P,this._value());case 13:return this._advance(),r.in(P,this._value());default:return r.has(P)}}case 20:throw this._parsingErrors.push({message:c,offset:Y.offset,lexeme:"",additionalInfo:m}),u._parseError;default:throw this._errExpectedButGot(`true | false | KEY 
	| KEY '=~' REGEX 
	| KEY ('==' | '!=' | '<' | '<=' | '>' | '>=' | 'in' | 'not' 'in') value`,this._peek())}}_value(){const Y=this._peek();switch(Y.type){case 17:case 18:return this._advance(),Y.lexeme;case 11:return this._advance(),"true";case 12:return this._advance(),"false";case 13:return this._advance(),"in";default:return""}}_removeFlagsGY(Y){return Y.replaceAll(this._flagsGYRe,"")}_previous(){return this._tokens[this._current-1]}_matchOne(Y){return this._check(Y)?(this._advance(),!0):!1}_advance(){return this._isAtEnd()||this._current++,this._previous()}_consume(Y,P){if(this._check(Y))return this._advance();throw this._errExpectedButGot(P,this._peek())}_errExpectedButGot(Y,P,Z){const re=(0,y.localize)(8,null,Y,E.Scanner.getLexeme(P)),ce=P.offset,he=E.Scanner.getLexeme(P);return this._parsingErrors.push({message:re,offset:ce,lexeme:he,additionalInfo:Z}),u._parseError}_check(Y){return this._peek().type===Y}_peek(){return this._tokens[this._current]}_isAtEnd(){return this._peek().type===20}}e.Parser=u,u._parseError=new Error;class r{static false(){return l.INSTANCE}static true(){return g.INSTANCE}static has(Y){return d.create(Y)}static equals(Y,P){return v.create(Y,P)}static notEquals(Y,P){return L.create(Y,P)}static regex(Y,P){return R.create(Y,P)}static in(Y,P){return _.create(Y,P)}static notIn(Y,P){return S.create(Y,P)}static not(Y){return I.create(Y)}static and(...Y){return W.create(Y,null,!0)}static or(...Y){return H.create(Y,null,!0)}static deserialize(Y){return Y==null?void 0:this._parser.parse(Y)}}e.ContextKeyExpr=r,r._parser=new u({regexParsingWithErrorRecovery:!1});function a(ee,Y){const P=ee?ee.substituteConstants():void 0,Z=Y?Y.substituteConstants():void 0;return!P&&!Z?!0:!P||!Z?!1:P.equals(Z)}function h(ee,Y){return ee.cmp(Y)}class l{constructor(){this.type=0}cmp(Y){return this.type-Y.type}equals(Y){return Y.type===this.type}substituteConstants(){return this}evaluate(Y){return!1}serialize(){return"false"}keys(){return[]}negate(){return g.INSTANCE}}e.ContextKeyFalseExpr=l,l.INSTANCE=new l;class g{constructor(){this.type=1}cmp(Y){return this.type-Y.type}equals(Y){return Y.type===this.type}substituteConstants(){return this}evaluate(Y){return!0}serialize(){return"true"}keys(){return[]}negate(){return l.INSTANCE}}e.ContextKeyTrueExpr=g,g.INSTANCE=new g;class d{static create(Y,P=null){const Z=p.get(Y);return typeof Z=="boolean"?Z?g.INSTANCE:l.INSTANCE:new d(Y,P)}constructor(Y,P){this.key=Y,this.negated=P,this.type=2}cmp(Y){return Y.type!==this.type?this.type-Y.type:j(this.key,Y.key)}equals(Y){return Y.type===this.type?this.key===Y.key:!1}substituteConstants(){const Y=p.get(this.key);return typeof Y=="boolean"?Y?g.INSTANCE:l.INSTANCE:this}evaluate(Y){return!!Y.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this)),this.negated}}e.ContextKeyDefinedExpr=d;class v{static create(Y,P,Z=null){if(typeof P=="boolean")return P?d.create(Y,Z):I.create(Y,Z);const re=p.get(Y);return typeof re=="boolean"?P===(re?"true":"false")?g.INSTANCE:l.INSTANCE:new v(Y,P,Z)}constructor(Y,P,Z){this.key=Y,this.value=P,this.negated=Z,this.type=4}cmp(Y){return Y.type!==this.type?this.type-Y.type:K(this.key,this.value,Y.key,Y.value)}equals(Y){return Y.type===this.type?this.key===Y.key&&this.value===Y.value:!1}substituteConstants(){const Y=p.get(this.key);if(typeof Y=="boolean"){const P=Y?"true":"false";return this.value===P?g.INSTANCE:l.INSTANCE}return this}evaluate(Y){return Y.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=L.create(this.key,this.value,this)),this.negated}}e.ContextKeyEqualsExpr=v;class _{static create(Y,P){return new _(Y,P)}constructor(Y,P){this.key=Y,this.valueKey=P,this.type=10,this.negated=null}cmp(Y){return Y.type!==this.type?this.type-Y.type:K(this.key,this.valueKey,Y.key,Y.valueKey)}equals(Y){return Y.type===this.type?this.key===Y.key&&this.valueKey===Y.valueKey:!1}substituteConstants(){return this}evaluate(Y){const P=Y.getValue(this.valueKey),Z=Y.getValue(this.key);return Array.isArray(P)?P.includes(Z):typeof Z=="string"&&typeof P=="object"&&P!==null?w.call(P,Z):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=S.create(this.key,this.valueKey)),this.negated}}e.ContextKeyInExpr=_;class S{static create(Y,P){return new S(Y,P)}constructor(Y,P){this.key=Y,this.valueKey=P,this.type=11,this._negated=_.create(Y,P)}cmp(Y){return Y.type!==this.type?this.type-Y.type:this._negated.cmp(Y._negated)}equals(Y){return Y.type===this.type?this._negated.equals(Y._negated):!1}substituteConstants(){return this}evaluate(Y){return!this._negated.evaluate(Y)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}e.ContextKeyNotInExpr=S;class L{static create(Y,P,Z=null){if(typeof P=="boolean")return P?I.create(Y,Z):d.create(Y,Z);const re=p.get(Y);return typeof re=="boolean"?P===(re?"true":"false")?l.INSTANCE:g.INSTANCE:new L(Y,P,Z)}constructor(Y,P,Z){this.key=Y,this.value=P,this.negated=Z,this.type=5}cmp(Y){return Y.type!==this.type?this.type-Y.type:K(this.key,this.value,Y.key,Y.value)}equals(Y){return Y.type===this.type?this.key===Y.key&&this.value===Y.value:!1}substituteConstants(){const Y=p.get(this.key);if(typeof Y=="boolean"){const P=Y?"true":"false";return this.value===P?l.INSTANCE:g.INSTANCE}return this}evaluate(Y){return Y.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=v.create(this.key,this.value,this)),this.negated}}e.ContextKeyNotEqualsExpr=L;class I{static create(Y,P=null){const Z=p.get(Y);return typeof Z=="boolean"?Z?l.INSTANCE:g.INSTANCE:new I(Y,P)}constructor(Y,P){this.key=Y,this.negated=P,this.type=3}cmp(Y){return Y.type!==this.type?this.type-Y.type:j(this.key,Y.key)}equals(Y){return Y.type===this.type?this.key===Y.key:!1}substituteConstants(){const Y=p.get(this.key);return typeof Y=="boolean"?Y?l.INSTANCE:g.INSTANCE:this}evaluate(Y){return!Y.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=d.create(this.key,this)),this.negated}}e.ContextKeyNotExpr=I;function T(ee,Y){if(typeof ee=="string"){const P=parseFloat(ee);isNaN(P)||(ee=P)}return typeof ee=="string"||typeof ee=="number"?Y(ee):l.INSTANCE}class N{static create(Y,P,Z=null){return T(P,re=>new N(Y,re,Z))}constructor(Y,P,Z){this.key=Y,this.value=P,this.negated=Z,this.type=12}cmp(Y){return Y.type!==this.type?this.type-Y.type:K(this.key,this.value,Y.key,Y.value)}equals(Y){return Y.type===this.type?this.key===Y.key&&this.value===Y.value:!1}substituteConstants(){return this}evaluate(Y){return typeof this.value=="string"?!1:parseFloat(Y.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=M.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterExpr=N;class A{static create(Y,P,Z=null){return T(P,re=>new A(Y,re,Z))}constructor(Y,P,Z){this.key=Y,this.value=P,this.negated=Z,this.type=13}cmp(Y){return Y.type!==this.type?this.type-Y.type:K(this.key,this.value,Y.key,Y.value)}equals(Y){return Y.type===this.type?this.key===Y.key&&this.value===Y.value:!1}substituteConstants(){return this}evaluate(Y){return typeof this.value=="string"?!1:parseFloat(Y.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=O.create(this.key,this.value,this)),this.negated}}e.ContextKeyGreaterEqualsExpr=A;class O{static create(Y,P,Z=null){return T(P,re=>new O(Y,re,Z))}constructor(Y,P,Z){this.key=Y,this.value=P,this.negated=Z,this.type=14}cmp(Y){return Y.type!==this.type?this.type-Y.type:K(this.key,this.value,Y.key,Y.value)}equals(Y){return Y.type===this.type?this.key===Y.key&&this.value===Y.value:!1}substituteConstants(){return this}evaluate(Y){return typeof this.value=="string"?!1:parseFloat(Y.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=A.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerExpr=O;class M{static create(Y,P,Z=null){return T(P,re=>new M(Y,re,Z))}constructor(Y,P,Z){this.key=Y,this.value=P,this.negated=Z,this.type=15}cmp(Y){return Y.type!==this.type?this.type-Y.type:K(this.key,this.value,Y.key,Y.value)}equals(Y){return Y.type===this.type?this.key===Y.key&&this.value===Y.value:!1}substituteConstants(){return this}evaluate(Y){return typeof this.value=="string"?!1:parseFloat(Y.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=N.create(this.key,this.value,this)),this.negated}}e.ContextKeySmallerEqualsExpr=M;class R{static create(Y,P){return new R(Y,P)}constructor(Y,P){this.key=Y,this.regexp=P,this.type=7,this.negated=null}cmp(Y){if(Y.type!==this.type)return this.type-Y.type;if(this.key<Y.key)return-1;if(this.key>Y.key)return 1;const P=this.regexp?this.regexp.source:"",Z=Y.regexp?Y.regexp.source:"";return P<Z?-1:P>Z?1:0}equals(Y){if(Y.type===this.type){const P=this.regexp?this.regexp.source:"",Z=Y.regexp?Y.regexp.source:"";return this.key===Y.key&&P===Z}return!1}substituteConstants(){return this}evaluate(Y){const P=Y.getValue(this.key);return this.regexp?this.regexp.test(P):!1}serialize(){const Y=this.regexp?`/${this.regexp.source}/${this.regexp.flags}`:"/invalid/";return`${this.key} =~ ${Y}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=x.create(this)),this.negated}}e.ContextKeyRegexExpr=R;class x{static create(Y){return new x(Y)}constructor(Y){this._actual=Y,this.type=8}cmp(Y){return Y.type!==this.type?this.type-Y.type:this._actual.cmp(Y._actual)}equals(Y){return Y.type===this.type?this._actual.equals(Y._actual):!1}substituteConstants(){return this}evaluate(Y){return!this._actual.evaluate(Y)}serialize(){return`!(${this._actual.serialize()})`}keys(){return this._actual.keys()}negate(){return this._actual}}e.ContextKeyNotRegexExpr=x;function F(ee){let Y=null;for(let P=0,Z=ee.length;P<Z;P++){const re=ee[P].substituteConstants();if(ee[P]!==re&&Y===null){Y=[];for(let ce=0;ce<P;ce++)Y[ce]=ee[ce]}Y!==null&&(Y[P]=re)}return Y===null?ee:Y}class W{static create(Y,P,Z){return W._normalizeArr(Y,P,Z)}constructor(Y,P){this.expr=Y,this.negated=P,this.type=6}cmp(Y){if(Y.type!==this.type)return this.type-Y.type;if(this.expr.length<Y.expr.length)return-1;if(this.expr.length>Y.expr.length)return 1;for(let P=0,Z=this.expr.length;P<Z;P++){const re=h(this.expr[P],Y.expr[P]);if(re!==0)return re}return 0}equals(Y){if(Y.type===this.type){if(this.expr.length!==Y.expr.length)return!1;for(let P=0,Z=this.expr.length;P<Z;P++)if(!this.expr[P].equals(Y.expr[P]))return!1;return!0}return!1}substituteConstants(){const Y=F(this.expr);return Y===this.expr?this:W.create(Y,this.negated,!1)}evaluate(Y){for(let P=0,Z=this.expr.length;P<Z;P++)if(!this.expr[P].evaluate(Y))return!1;return!0}static _normalizeArr(Y,P,Z){const re=[];let ce=!1;for(const he of Y)if(he){if(he.type===1){ce=!0;continue}if(he.type===0)return l.INSTANCE;if(he.type===6){re.push(...he.expr);continue}re.push(he)}if(re.length===0&&ce)return g.INSTANCE;if(re.length!==0){if(re.length===1)return re[0];re.sort(h);for(let he=1;he<re.length;he++)re[he-1].equals(re[he])&&(re.splice(he,1),he--);if(re.length===1)return re[0];for(;re.length>1;){const he=re[re.length-1];if(he.type!==9)break;re.pop();const pe=re.pop(),ge=re.length===0,X=H.create(he.expr.map(ae=>W.create([ae,pe],null,Z)),null,ge);X&&(re.push(X),re.sort(h))}if(re.length===1)return re[0];if(Z){for(let he=0;he<re.length;he++)for(let pe=he+1;pe<re.length;pe++)if(re[he].negate().equals(re[pe]))return l.INSTANCE;if(re.length===1)return re[0]}return new W(re,P)}}serialize(){return this.expr.map(Y=>Y.serialize()).join(" && ")}keys(){const Y=[];for(const P of this.expr)Y.push(...P.keys());return Y}negate(){if(!this.negated){const Y=[];for(const P of this.expr)Y.push(P.negate());this.negated=H.create(Y,this,!0)}return this.negated}}e.ContextKeyAndExpr=W;class H{static create(Y,P,Z){return H._normalizeArr(Y,P,Z)}constructor(Y,P){this.expr=Y,this.negated=P,this.type=9}cmp(Y){if(Y.type!==this.type)return this.type-Y.type;if(this.expr.length<Y.expr.length)return-1;if(this.expr.length>Y.expr.length)return 1;for(let P=0,Z=this.expr.length;P<Z;P++){const re=h(this.expr[P],Y.expr[P]);if(re!==0)return re}return 0}equals(Y){if(Y.type===this.type){if(this.expr.length!==Y.expr.length)return!1;for(let P=0,Z=this.expr.length;P<Z;P++)if(!this.expr[P].equals(Y.expr[P]))return!1;return!0}return!1}substituteConstants(){const Y=F(this.expr);return Y===this.expr?this:H.create(Y,this.negated,!1)}evaluate(Y){for(let P=0,Z=this.expr.length;P<Z;P++)if(this.expr[P].evaluate(Y))return!0;return!1}static _normalizeArr(Y,P,Z){let re=[],ce=!1;if(Y){for(let he=0,pe=Y.length;he<pe;he++){const ge=Y[he];if(ge){if(ge.type===0){ce=!0;continue}if(ge.type===1)return g.INSTANCE;if(ge.type===9){re=re.concat(ge.expr);continue}re.push(ge)}}if(re.length===0&&ce)return l.INSTANCE;re.sort(h)}if(re.length!==0){if(re.length===1)return re[0];for(let he=1;he<re.length;he++)re[he-1].equals(re[he])&&(re.splice(he,1),he--);if(re.length===1)return re[0];if(Z){for(let he=0;he<re.length;he++)for(let pe=he+1;pe<re.length;pe++)if(re[he].negate().equals(re[pe]))return g.INSTANCE;if(re.length===1)return re[0]}return new H(re,P)}}serialize(){return this.expr.map(Y=>Y.serialize()).join(" || ")}keys(){const Y=[];for(const P of this.expr)Y.push(...P.keys());return Y}negate(){if(!this.negated){const Y=[];for(const P of this.expr)Y.push(P.negate());for(;Y.length>1;){const P=Y.shift(),Z=Y.shift(),re=[];for(const ce of te(P))for(const he of te(Z))re.push(W.create([ce,he],null,!1));Y.unshift(H.create(re,null,!1))}this.negated=H.create(Y,this,!0)}return this.negated}}e.ContextKeyOrExpr=H;class z extends d{static all(){return z._info.values()}constructor(Y,P,Z){super(Y,null),this._defaultValue=P,typeof Z=="object"?z._info.push({...Z,key:Y}):Z!==!0&&z._info.push({key:Y,description:Z,type:P!=null?typeof P:void 0})}bindTo(Y){return Y.createKey(this.key,this._defaultValue)}getValue(Y){return Y.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(Y){return v.create(this.key,Y)}}e.RawContextKey=z,z._info=[],e.IContextKeyService=(0,D.createDecorator)("contextKeyService");function j(ee,Y){return ee<Y?-1:ee>Y?1:0}function K(ee,Y,P,Z){return ee<P?-1:ee>P?1:Y<Z?-1:Y>Z?1:0}function U(ee,Y){if(ee.type===0||Y.type===1)return!0;if(ee.type===9)return Y.type===9?G(ee.expr,Y.expr):!1;if(Y.type===9){for(const P of Y.expr)if(U(ee,P))return!0;return!1}if(ee.type===6){if(Y.type===6)return G(Y.expr,ee.expr);for(const P of ee.expr)if(U(P,Y))return!0;return!1}return ee.equals(Y)}function G(ee,Y){let P=0,Z=0;for(;P<ee.length&&Z<Y.length;){const re=ee[P].cmp(Y[Z]);if(re<0)return!1;re===0&&P++,Z++}return P===ee.length}function te(ee){return ee.type===9?ee.expr:[ee]}}),define(ie[21],ne([1,0,679,14]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorContextKeys=void 0;var E;(function(D){D.editorSimpleInput=new k.RawContextKey("editorSimpleInput",!1,!0),D.editorTextFocus=new k.RawContextKey("editorTextFocus",!1,f.localize(0,null)),D.focus=new k.RawContextKey("editorFocus",!1,f.localize(1,null)),D.textInputFocus=new k.RawContextKey("textInputFocus",!1,f.localize(2,null)),D.readOnly=new k.RawContextKey("editorReadonly",!1,f.localize(3,null)),D.inDiffEditor=new k.RawContextKey("inDiffEditor",!1,f.localize(4,null)),D.isEmbeddedDiffEditor=new k.RawContextKey("isEmbeddedDiffEditor",!1,f.localize(5,null)),D.inMultiDiffEditor=new k.RawContextKey("inMultiDiffEditor",!1,f.localize(6,null)),D.multiDiffEditorAllCollapsed=new k.RawContextKey("multiDiffEditorAllCollapsed",void 0,f.localize(7,null)),D.hasChanges=new k.RawContextKey("diffEditorHasChanges",!1,f.localize(8,null)),D.comparingMovedCode=new k.RawContextKey("comparingMovedCode",!1,f.localize(9,null)),D.accessibleDiffViewerVisible=new k.RawContextKey("accessibleDiffViewerVisible",!1,f.localize(10,null)),D.diffEditorRenderSideBySideInlineBreakpointReached=new k.RawContextKey("diffEditorRenderSideBySideInlineBreakpointReached",!1,f.localize(11,null)),D.diffEditorInlineMode=new k.RawContextKey("diffEditorInlineMode",!1,f.localize(12,null)),D.diffEditorOriginalWritable=new k.RawContextKey("diffEditorOriginalWritable",!1,f.localize(13,null)),D.diffEditorModifiedWritable=new k.RawContextKey("diffEditorModifiedWritable",!1,f.localize(14,null)),D.diffEditorOriginalUri=new k.RawContextKey("diffEditorOriginalUri","",f.localize(15,null)),D.diffEditorModifiedUri=new k.RawContextKey("diffEditorModifiedUri","",f.localize(16,null)),D.columnSelection=new k.RawContextKey("editorColumnSelection",!1,f.localize(17,null)),D.writable=D.readOnly.toNegated(),D.hasNonEmptySelection=new k.RawContextKey("editorHasSelection",!1,f.localize(18,null)),D.hasOnlyEmptySelection=D.hasNonEmptySelection.toNegated(),D.hasMultipleSelections=new k.RawContextKey("editorHasMultipleSelections",!1,f.localize(19,null)),D.hasSingleSelection=D.hasMultipleSelections.toNegated(),D.tabMovesFocus=new k.RawContextKey("editorTabMovesFocus",!1,f.localize(20,null)),D.tabDoesNotMoveFocus=D.tabMovesFocus.toNegated(),D.isInEmbeddedEditor=new k.RawContextKey("isInEmbeddedEditor",!1,!0),D.canUndo=new k.RawContextKey("canUndo",!1,!0),D.canRedo=new k.RawContextKey("canRedo",!1,!0),D.hoverVisible=new k.RawContextKey("editorHoverVisible",!1,f.localize(21,null)),D.hoverFocused=new k.RawContextKey("editorHoverFocused",!1,f.localize(22,null)),D.stickyScrollFocused=new k.RawContextKey("stickyScrollFocused",!1,f.localize(23,null)),D.stickyScrollVisible=new k.RawContextKey("stickyScrollVisible",!1,f.localize(24,null)),D.standaloneColorPickerVisible=new k.RawContextKey("standaloneColorPickerVisible",!1,f.localize(25,null)),D.standaloneColorPickerFocused=new k.RawContextKey("standaloneColorPickerFocused",!1,f.localize(26,null)),D.inCompositeEditor=new k.RawContextKey("inCompositeEditor",void 0,f.localize(27,null)),D.notInCompositeEditor=D.inCompositeEditor.toNegated(),D.languageId=new k.RawContextKey("editorLangId","",f.localize(28,null)),D.hasCompletionItemProvider=new k.RawContextKey("editorHasCompletionItemProvider",!1,f.localize(29,null)),D.hasCodeActionsProvider=new k.RawContextKey("editorHasCodeActionsProvider",!1,f.localize(30,null)),D.hasCodeLensProvider=new k.RawContextKey("editorHasCodeLensProvider",!1,f.localize(31,null)),D.hasDefinitionProvider=new k.RawContextKey("editorHasDefinitionProvider",!1,f.localize(32,null)),D.hasDeclarationProvider=new k.RawContextKey("editorHasDeclarationProvider",!1,f.localize(33,null)),D.hasImplementationProvider=new k.RawContextKey("editorHasImplementationProvider",!1,f.localize(34,null)),D.hasTypeDefinitionProvider=new k.RawContextKey("editorHasTypeDefinitionProvider",!1,f.localize(35,null)),D.hasHoverProvider=new k.RawContextKey("editorHasHoverProvider",!1,f.localize(36,null)),D.hasDocumentHighlightProvider=new k.RawContextKey("editorHasDocumentHighlightProvider",!1,f.localize(37,null)),D.hasDocumentSymbolProvider=new k.RawContextKey("editorHasDocumentSymbolProvider",!1,f.localize(38,null)),D.hasReferenceProvider=new k.RawContextKey("editorHasReferenceProvider",!1,f.localize(39,null)),D.hasRenameProvider=new k.RawContextKey("editorHasRenameProvider",!1,f.localize(40,null)),D.hasSignatureHelpProvider=new k.RawContextKey("editorHasSignatureHelpProvider",!1,f.localize(41,null)),D.hasInlayHintsProvider=new k.RawContextKey("editorHasInlayHintsProvider",!1,f.localize(42,null)),D.hasDocumentFormattingProvider=new k.RawContextKey("editorHasDocumentFormattingProvider",!1,f.localize(43,null)),D.hasDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasDocumentSelectionFormattingProvider",!1,f.localize(44,null)),D.hasMultipleDocumentFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentFormattingProvider",!1,f.localize(45,null)),D.hasMultipleDocumentSelectionFormattingProvider=new k.RawContextKey("editorHasMultipleDocumentSelectionFormattingProvider",!1,f.localize(46,null))})(E||(e.EditorContextKeys=E={}))}),define(ie[261],ne([1,0,30,12,90,14,2,735]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionContextKeys=void 0;class w extends y.Disposable{constructor(C,o){super(),this.contextKeyService=C,this.model=o,this.inlineCompletionVisible=w.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=w.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=w.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService),this.suppressSuggestions=w.suppressSuggestions.bindTo(this.contextKeyService),this._register((0,f.autorun)(s=>{const i=this.model.read(s),t=i?.state.read(s),n=!!t?.inlineCompletion&&t?.primaryGhostText!==void 0&&!t?.primaryGhostText.isEmpty();this.inlineCompletionVisible.set(n),t?.primaryGhostText&&t?.inlineCompletion&&this.suppressSuggestions.set(t.inlineCompletion.inlineCompletion.source.inlineCompletions.suppressSuggestions)})),this._register((0,f.autorun)(s=>{const i=this.model.read(s);let t=!1,n=!0;const c=i?.primaryGhostText.read(s);if(i?.selectedSuggestItem&&c&&c.parts.length>0){const{column:m,lines:u}=c.parts[0],r=u[0],a=i.textModel.getLineIndentColumn(c.lineNumber);if(m<=a){let l=(0,k.firstNonWhitespaceIndex)(r);l===-1&&(l=r.length-1),t=l>0;const g=i.textModel.getOptions().tabSize;n=E.CursorColumns.visibleColumnFromColumn(r,l+1,g)<g}}this.inlineCompletionSuggestsIndentation.set(t),this.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}))}}e.InlineCompletionContextKeys=w,w.inlineSuggestionVisible=new D.RawContextKey("inlineSuggestionVisible",!1,(0,p.localize)(0,null)),w.inlineSuggestionHasIndentation=new D.RawContextKey("inlineSuggestionHasIndentation",!1,(0,p.localize)(1,null)),w.inlineSuggestionHasIndentationLessThanTabSize=new D.RawContextKey("inlineSuggestionHasIndentationLessThanTabSize",!0,(0,p.localize)(2,null)),w.suppressSuggestions=new D.RawContextKey("inlineSuggestionSuppressSuggestions",void 0,(0,p.localize)(3,null))}),define(ie[262],ne([1,0,19,10,20,22,9,28,18,74,25,14]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Context=void 0,e.provideSignatureHelp=s,e.Context={Visible:new o.RawContextKey("parameterHintsVisible",!1),MultipleSignatures:new o.RawContextKey("parameterHintsMultipleSignatures",!1)};async function s(i,t,n,c,m){const u=i.ordered(t);for(const r of u)try{const a=await r.provideSignatureHelp(t,n,m,c);if(a)return a}catch(a){(0,k.onUnexpectedExternalError)(a)}}C.CommandsRegistry.registerCommand("_executeSignatureHelpProvider",async(i,...t)=>{const[n,c,m]=t;(0,E.assertType)(D.URI.isUri(n)),(0,E.assertType)(y.Position.isIPosition(c)),(0,E.assertType)(typeof m=="string"||!m);const u=i.get(w.ILanguageFeaturesService),r=await i.get(b.ITextModelService).createModelReference(n);try{const a=await s(u.signatureHelpProvider,r.object.textEditorModel,y.Position.lift(c),{triggerKind:p.SignatureHelpTriggerKind.Invoke,isRetrigger:!1,triggerCharacter:m},f.CancellationToken.None);return a?(setTimeout(()=>a.dispose(),0),a.value):void 0}finally{r.dispose()}})}),define(ie[815],ne([1,0,15,10,7,2,139,28,262]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsModel=void 0;var b;(function(s){s.Default={type:0};class i{constructor(c,m){this.request=c,this.previouslyActiveHints=m,this.type=2}}s.Pending=i;class t{constructor(c){this.hints=c,this.type=1}}s.Active=t})(b||(b={}));class C extends D.Disposable{constructor(i,t,n=C.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new E.Emitter),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=b.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new D.MutableDisposable),this.triggerChars=new y.CharacterSet,this.retriggerChars=new y.CharacterSet,this.triggerId=0,this.editor=i,this.providers=t,this.throttledDelayer=new f.Delayer(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(c=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(c=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(c=>this.onCursorChange(c))),this._register(this.editor.onDidChangeModelContent(c=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(c=>this.onDidType(c))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(i){this._state.type===2&&this._state.request.cancel(),this._state=i}cancel(i=!1){this.state=b.Default,this.throttledDelayer.cancel(),i||this._onChangedHints.fire(void 0)}trigger(i,t){const n=this.editor.getModel();if(!n||!this.providers.has(n))return;const c=++this.triggerId;this._pendingTriggers.push(i),this.throttledDelayer.trigger(()=>this.doTrigger(c),t).catch(k.onUnexpectedError)}next(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%i===i-1,c=this.editor.getOption(86).cycle;if((i<2||n)&&!c){this.cancel();return}this.updateActiveSignature(n&&c?0:t+1)}previous(){if(this.state.type!==1)return;const i=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t===0,c=this.editor.getOption(86).cycle;if((i<2||n)&&!c){this.cancel();return}this.updateActiveSignature(n&&c?i-1:t-1)}updateActiveSignature(i){this.state.type===1&&(this.state=new b.Active({...this.state.hints,activeSignature:i}),this._onChangedHints.fire(this.state.hints))}async doTrigger(i){const t=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const c=this._pendingTriggers.reduce(o);this._pendingTriggers=[];const m={triggerKind:c.triggerKind,triggerCharacter:c.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const u=this.editor.getModel(),r=this.editor.getPosition();this.state=new b.Pending((0,f.createCancelablePromise)(a=>(0,w.provideSignatureHelp)(this.providers,u,r,m,a)),n);try{const a=await this.state.request;return i!==this.triggerId?(a?.dispose(),!1):!a||!a.value.signatures||a.value.signatures.length===0?(a?.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new b.Active(a.value),this._lastSignatureHelpResult.value=a,this._onChangedHints.fire(this.state.hints),!0)}catch(a){return i===this.triggerId&&(this.state=b.Default),(0,k.onUnexpectedError)(a),!1}}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars.clear(),this.retriggerChars.clear();const i=this.editor.getModel();if(i)for(const t of this.providers.ordered(i)){for(const n of t.signatureHelpTriggerCharacters||[])if(n.length){const c=n.charCodeAt(0);this.triggerChars.add(c),this.retriggerChars.add(c)}for(const n of t.signatureHelpRetriggerCharacters||[])n.length&&this.retriggerChars.add(n.charCodeAt(0))}}onDidType(i){if(!this.triggerOnType)return;const t=i.length-1,n=i.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.TriggerCharacter,triggerCharacter:i.charAt(t)})}onCursorChange(i){i.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:p.SignatureHelpTriggerKind.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(86).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}e.ParameterHintsModel=C,C.DEFAULT_DELAY=120;function o(s,i){switch(i.triggerKind){case p.SignatureHelpTriggerKind.Invoke:return i;case p.SignatureHelpTriggerKind.ContentChange:return s;case p.SignatureHelpTriggerKind.TriggerCharacter:default:return i}}}),define(ie[816],ne([1,0,14]),function(Q,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestAlternatives=void 0;let E=k=class{constructor(y,p){this._editor=y,this._index=0,this._ckOtherSuggestions=k.OtherSuggestions.bindTo(p)}dispose(){this.reset()}reset(){var y;this._ckOtherSuggestions.reset(),(y=this._listener)===null||y===void 0||y.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:y,index:p},w){if(y.items.length===0){this.reset();return}if(k._moveIndex(!0,y,p)===p){this.reset();return}this._acceptNext=w,this._model=y,this._index=p,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(y,p,w){let b=w;for(let C=p.items.length;C>0&&(b=(b+p.items.length+(y?1:-1))%p.items.length,!(b===w||!p.items[b].completion.additionalTextEdits));C--);return b}next(){this._move(!0)}prev(){this._move(!1)}_move(y){if(this._model)try{this._ignore=!0,this._index=k._moveIndex(y,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};e.SuggestAlternatives=E,E.OtherSuggestions=new f.RawContextKey("hasOtherSuggestions",!1),e.SuggestAlternatives=E=k=Ie([ue(1,f.IContextKeyService)],E)}),define(ie[817],ne([1,0,14]),function(Q,e,f){"use strict";var k;Object.defineProperty(e,"__esModule",{value:!0}),e.WordContextKey=void 0;let E=k=class{constructor(y,p){this._editor=y,this._enabled=!1,this._ckAtEnd=k.AtEnd.bindTo(p),this._configListener=this._editor.onDidChangeConfiguration(w=>w.hasChanged(123)&&this._update()),this._update()}dispose(){var y;this._configListener.dispose(),(y=this._selectionListener)===null||y===void 0||y.dispose(),this._ckAtEnd.reset()}_update(){const y=this._editor.getOption(123)==="on";if(this._enabled!==y)if(this._enabled=y,this._enabled){const p=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const w=this._editor.getModel(),b=this._editor.getSelection(),C=w.getWordAtPosition(b.getStartPosition());if(!C){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(C.endColumn===b.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(p),p()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};e.WordContextKey=E,E.AtEnd=new f.RawContextKey("atEndOfWord",!1),e.WordContextKey=E=k=Ie([ue(1,f.IContextKeyService)],E)}),define(ie[66],ne([1,0,14,8]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=e.IAccessibilityService=void 0,e.IAccessibilityService=(0,k.createDecorator)("accessibilityService"),e.CONTEXT_ACCESSIBILITY_MODE_ENABLED=new f.RawContextKey("accessibilityModeEnabled",!1)}),define(ie[818],ne([1,0,63,13,7,2,55,17,349,356,522,223,38,160,256,66,6,246]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComputedEditorOptions=e.EditorConfiguration=void 0;let u=class extends D.Disposable{constructor(_,S,L,I,T){super(),this._accessibilityService=T,this._onDidChange=this._register(new E.Emitter),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new E.Emitter),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._glyphMarginDecorationLaneCount=1,this._computeOptionsMemory=new s.ComputeOptionsMemory,this.isSimpleWidget=_,this.contextMenuId=S,this._containerObserver=this._register(new w.ElementSizeObserver(I,L.dimension)),this._targetWindowId=(0,c.getWindow)(I).vscodeWindowId,this._rawOptions=d(L),this._validatedOptions=g.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(13)&&this._containerObserver.startObserving(),this._register(i.EditorZoom.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(o.TabFocus.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(b.FontMeasurements.onDidChange(()=>this._recomputeOptions())),this._register(m.PixelRatio.getInstance((0,c.getWindow)(I)).onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const _=this._computeOptions(),S=g.checkEquals(this.options,_);S!==null&&(this.options=_,this._onDidChangeFast.fire(S),this._onDidChange.fire(S))}_computeOptions(){const _=this._readEnvConfiguration(),S=t.BareFontInfo.createFromValidatedSettings(this._validatedOptions,_.pixelRatio,this.isSimpleWidget),L=this._readFontInfo(S),I={memory:this._computeOptionsMemory,outerWidth:_.outerWidth,outerHeight:_.outerHeight-this._reservedHeight,fontInfo:L,extraEditorClassName:_.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:_.emptySelectionClipboard,pixelRatio:_.pixelRatio,tabFocusMode:o.TabFocus.getTabFocusMode(),accessibilitySupport:_.accessibilitySupport,glyphMarginDecorationLaneCount:this._glyphMarginDecorationLaneCount};return g.computeOptions(this._validatedOptions,I)}_readEnvConfiguration(){return{extraEditorClassName:a(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:f.isWebKit||f.isFirefox,pixelRatio:m.PixelRatio.getInstance((0,c.getWindowById)(this._targetWindowId,!0).window).value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(_){return b.FontMeasurements.readFontInfo((0,c.getWindowById)(this._targetWindowId,!0).window,_)}getRawOptions(){return this._rawOptions}updateOptions(_){const S=d(_);g.applyUpdate(this._rawOptions,S)&&(this._validatedOptions=g.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(_){this._containerObserver.observe(_)}setIsDominatedByLongLines(_){this._isDominatedByLongLines!==_&&(this._isDominatedByLongLines=_,this._recomputeOptions())}setModelLineCount(_){const S=r(_);this._lineNumbersDigitCount!==S&&(this._lineNumbersDigitCount=S,this._recomputeOptions())}setViewLineCount(_){this._viewLineCount!==_&&(this._viewLineCount=_,this._recomputeOptions())}setReservedHeight(_){this._reservedHeight!==_&&(this._reservedHeight=_,this._recomputeOptions())}setGlyphMarginDecorationLaneCount(_){this._glyphMarginDecorationLaneCount!==_&&(this._glyphMarginDecorationLaneCount=_,this._recomputeOptions())}};e.EditorConfiguration=u,e.EditorConfiguration=u=Ie([ue(4,n.IAccessibilityService)],u);function r(v){let _=0;for(;v;)v=Math.floor(v/10),_++;return _||1}function a(){let v="";return!f.isSafari&&!f.isWebkitWebView&&(v+="no-user-select "),f.isSafari&&(v+="no-minimap-shadow ",v+="enable-user-select "),p.isMacintosh&&(v+="mac "),v}class h{constructor(){this._values=[]}_read(_){return this._values[_]}get(_){return this._values[_]}_write(_,S){this._values[_]=S}}class l{constructor(){this._values=[]}_read(_){if(_>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[_]}get(_){return this._read(_)}_write(_,S){this._values[_]=S}}e.ComputedEditorOptions=l;class g{static validateOptions(_){const S=new h;for(const L of s.editorOptionsRegistry){const I=L.name==="_never_"?void 0:_[L.name];S._write(L.id,L.validate(I))}return S}static computeOptions(_,S){const L=new l;for(const I of s.editorOptionsRegistry)L._write(I.id,I.compute(S,L,_._read(I.id)));return L}static _deepEquals(_,S){if(typeof _!="object"||typeof S!="object"||!_||!S)return _===S;if(Array.isArray(_)||Array.isArray(S))return Array.isArray(_)&&Array.isArray(S)?k.equals(_,S):!1;if(Object.keys(_).length!==Object.keys(S).length)return!1;for(const L in _)if(!g._deepEquals(_[L],S[L]))return!1;return!0}static checkEquals(_,S){const L=[];let I=!1;for(const T of s.editorOptionsRegistry){const N=!g._deepEquals(_._read(T.id),S._read(T.id));L[T.id]=N,N&&(I=!0)}return I?new s.ConfigurationChangedEvent(L):null}static applyUpdate(_,S){let L=!1;for(const I of s.editorOptionsRegistry)if(S.hasOwnProperty(I.name)){const T=I.applyUpdate(_[I.name],S[I.name]);_[I.name]=T.newValue,L=L||T.didChange}return L}}function d(v){const _=y.deepClone(v);return(0,C.migrateOptions)(_),_}}),define(ie[819],ne([1,0,30,300,38,66]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorOptions=void 0;let y=class{get editorOptions(){return this._options}constructor(b,C){this._accessibilityService=C,this._diffEditorWidth=(0,f.observableValue)(this,0),this._screenReaderMode=(0,f.observableFromEvent)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this.couldShowInlineViewBecauseOfSize=(0,f.derived)(this,s=>this._options.read(s).renderSideBySide&&this._diffEditorWidth.read(s)<=this._options.read(s).renderSideBySideInlineBreakpoint),this.renderOverviewRuler=(0,f.derived)(this,s=>this._options.read(s).renderOverviewRuler),this.renderSideBySide=(0,f.derived)(this,s=>this._options.read(s).renderSideBySide&&!(this._options.read(s).useInlineViewWhenSpaceIsLimited&&this.couldShowInlineViewBecauseOfSize.read(s)&&!this._screenReaderMode.read(s))),this.readOnly=(0,f.derived)(this,s=>this._options.read(s).readOnly),this.shouldRenderOldRevertArrows=(0,f.derived)(this,s=>!(!this._options.read(s).renderMarginRevertIcon||!this.renderSideBySide.read(s)||this.readOnly.read(s)||this.shouldRenderGutterMenu.read(s))),this.shouldRenderGutterMenu=(0,f.derived)(this,s=>this._options.read(s).renderGutterMenu),this.renderIndicators=(0,f.derived)(this,s=>this._options.read(s).renderIndicators),this.enableSplitViewResizing=(0,f.derived)(this,s=>this._options.read(s).enableSplitViewResizing),this.splitViewDefaultRatio=(0,f.derived)(this,s=>this._options.read(s).splitViewDefaultRatio),this.ignoreTrimWhitespace=(0,f.derived)(this,s=>this._options.read(s).ignoreTrimWhitespace),this.maxComputationTimeMs=(0,f.derived)(this,s=>this._options.read(s).maxComputationTime),this.showMoves=(0,f.derived)(this,s=>this._options.read(s).experimental.showMoves&&this.renderSideBySide.read(s)),this.isInEmbeddedEditor=(0,f.derived)(this,s=>this._options.read(s).isInEmbeddedEditor),this.diffWordWrap=(0,f.derived)(this,s=>this._options.read(s).diffWordWrap),this.originalEditable=(0,f.derived)(this,s=>this._options.read(s).originalEditable),this.diffCodeLens=(0,f.derived)(this,s=>this._options.read(s).diffCodeLens),this.accessibilityVerbose=(0,f.derived)(this,s=>this._options.read(s).accessibilityVerbose),this.diffAlgorithm=(0,f.derived)(this,s=>this._options.read(s).diffAlgorithm),this.showEmptyDecorations=(0,f.derived)(this,s=>this._options.read(s).experimental.showEmptyDecorations),this.onlyShowAccessibleDiffViewer=(0,f.derived)(this,s=>this._options.read(s).onlyShowAccessibleDiffViewer),this.hideUnchangedRegions=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.enabled),this.hideUnchangedRegionsRevealLineCount=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.revealLineCount),this.hideUnchangedRegionsContextLineCount=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.contextLineCount),this.hideUnchangedRegionsMinimumLineCount=(0,f.derived)(this,s=>this._options.read(s).hideUnchangedRegions.minimumLineCount);const o={...b,...p(b,k.diffEditorDefaultOptions)};this._options=(0,f.observableValue)(this,o)}updateOptions(b){const C=p(b,this._options.get()),o={...this._options.get(),...b,...C};this._options.set(o,void 0,{changedOptions:b})}setWidth(b){this._diffEditorWidth.set(b,void 0)}};e.DiffEditorOptions=y,e.DiffEditorOptions=y=Ie([ue(1,D.IAccessibilityService)],y);function p(w,b){var C,o,s,i,t,n,c,m;return{enableSplitViewResizing:(0,E.boolean)(w.enableSplitViewResizing,b.enableSplitViewResizing),splitViewDefaultRatio:(0,E.clampedFloat)(w.splitViewDefaultRatio,.5,.1,.9),renderSideBySide:(0,E.boolean)(w.renderSideBySide,b.renderSideBySide),renderMarginRevertIcon:(0,E.boolean)(w.renderMarginRevertIcon,b.renderMarginRevertIcon),maxComputationTime:(0,E.clampedInt)(w.maxComputationTime,b.maxComputationTime,0,1073741824),maxFileSize:(0,E.clampedInt)(w.maxFileSize,b.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,E.boolean)(w.ignoreTrimWhitespace,b.ignoreTrimWhitespace),renderIndicators:(0,E.boolean)(w.renderIndicators,b.renderIndicators),originalEditable:(0,E.boolean)(w.originalEditable,b.originalEditable),diffCodeLens:(0,E.boolean)(w.diffCodeLens,b.diffCodeLens),renderOverviewRuler:(0,E.boolean)(w.renderOverviewRuler,b.renderOverviewRuler),diffWordWrap:(0,E.stringSet)(w.diffWordWrap,b.diffWordWrap,["off","on","inherit"]),diffAlgorithm:(0,E.stringSet)(w.diffAlgorithm,b.diffAlgorithm,["legacy","advanced"],{smart:"legacy",experimental:"advanced"}),accessibilityVerbose:(0,E.boolean)(w.accessibilityVerbose,b.accessibilityVerbose),experimental:{showMoves:(0,E.boolean)((C=w.experimental)===null||C===void 0?void 0:C.showMoves,b.experimental.showMoves),showEmptyDecorations:(0,E.boolean)((o=w.experimental)===null||o===void 0?void 0:o.showEmptyDecorations,b.experimental.showEmptyDecorations)},hideUnchangedRegions:{enabled:(0,E.boolean)((i=(s=w.hideUnchangedRegions)===null||s===void 0?void 0:s.enabled)!==null&&i!==void 0?i:(t=w.experimental)===null||t===void 0?void 0:t.collapseUnchangedRegions,b.hideUnchangedRegions.enabled),contextLineCount:(0,E.clampedInt)((n=w.hideUnchangedRegions)===null||n===void 0?void 0:n.contextLineCount,b.hideUnchangedRegions.contextLineCount,0,1073741824),minimumLineCount:(0,E.clampedInt)((c=w.hideUnchangedRegions)===null||c===void 0?void 0:c.minimumLineCount,b.hideUnchangedRegions.minimumLineCount,0,1073741824),revealLineCount:(0,E.clampedInt)((m=w.hideUnchangedRegions)===null||m===void 0?void 0:m.revealLineCount,b.hideUnchangedRegions.revealLineCount,0,1073741824)},isInEmbeddedEditor:(0,E.boolean)(w.isInEmbeddedEditor,b.isInEmbeddedEditor),onlyShowAccessibleDiffViewer:(0,E.boolean)(w.onlyShowAccessibleDiffViewer,b.onlyShowAccessibleDiffViewer),renderSideBySideInlineBreakpoint:(0,E.clampedInt)(w.renderSideBySideInlineBreakpoint,b.renderSideBySideInlineBreakpoint,0,1073741824),useInlineViewWhenSpaceIsLimited:(0,E.boolean)(w.useInlineViewWhenSpaceIsLimited,b.useInlineViewWhenSpaceIsLimited),renderGutterMenu:(0,E.boolean)(w.renderGutterMenu,b.renderGutterMenu)}}}),define(ie[820],ne([1,0,7,54,2,55,218,22,777,25,27,14]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextKeyService=e.AbstractContextKeyService=e.Context=void 0,e.setContext=v;const s="data-keybinding-context";class i{constructor(L,I){this._id=L,this._parent=I,this._value=Object.create(null),this._value._contextId=L}get value(){return{...this._value}}setValue(L,I){return this._value[L]!==I?(this._value[L]=I,!0):!1}removeValue(L){return L in this._value?(delete this._value[L],!0):!1}getValue(L){const I=this._value[L];return typeof I>"u"&&this._parent?this._parent.getValue(L):I}}e.Context=i;class t extends i{constructor(){super(-1,null)}setValue(L,I){return!1}removeValue(L){return!1}getValue(L){}}t.INSTANCE=new t;class n extends i{constructor(L,I,T){super(L,null),this._configurationService=I,this._values=y.TernarySearchTree.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(N=>{if(N.source===7){const A=Array.from(this._values,([O])=>O);this._values.clear(),T.fire(new u(A))}else{const A=[];for(const O of N.affectedKeys){const M=`config.${O}`,R=this._values.findSuperstr(M);R!==void 0&&(A.push(...k.Iterable.map(R,([x])=>x)),this._values.deleteSuperstr(M)),this._values.has(M)&&(A.push(M),this._values.delete(M))}T.fire(new u(A))}})}dispose(){this._listener.dispose()}getValue(L){if(L.indexOf(n._keyPrefix)!==0)return super.getValue(L);if(this._values.has(L))return this._values.get(L);const I=L.substr(n._keyPrefix.length),T=this._configurationService.getValue(I);let N;switch(typeof T){case"number":case"boolean":case"string":N=T;break;default:Array.isArray(T)?N=JSON.stringify(T):N=T}return this._values.set(L,N),N}setValue(L,I){return super.setValue(L,I)}removeValue(L){return super.removeValue(L)}}n._keyPrefix="config.";class c{constructor(L,I,T){this._service=L,this._key=I,this._defaultValue=T,this.reset()}set(L){this._service.setContext(this._key,L)}reset(){typeof this._defaultValue>"u"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class m{constructor(L){this.key=L}affectsSome(L){return L.has(this.key)}allKeysContainedIn(L){return this.affectsSome(L)}}class u{constructor(L){this.keys=L}affectsSome(L){for(const I of this.keys)if(L.has(I))return!0;return!1}allKeysContainedIn(L){return this.keys.every(I=>L.has(I))}}class r{constructor(L){this.events=L}affectsSome(L){for(const I of this.events)if(I.affectsSome(L))return!0;return!1}allKeysContainedIn(L){return this.events.every(I=>I.allKeysContainedIn(L))}}function a(S,L){return S.allKeysContainedIn(new Set(Object.keys(L)))}class h extends E.Disposable{constructor(L){super(),this._onDidChangeContext=this._register(new f.PauseableEmitter({merge:I=>new r(I)})),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=L}createKey(L,I){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new c(this,L,I)}bufferChangeEvents(L){this._onDidChangeContext.pause();try{L()}finally{this._onDidChangeContext.resume()}}createScoped(L){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new g(this,L)}contextMatchesRules(L){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const I=this.getContextValuesContainer(this._myContextId);return L?L.evaluate(I):!0}getContextKeyValue(L){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(L)}setContext(L,I){if(this._isDisposed)return;const T=this.getContextValuesContainer(this._myContextId);T&&T.setValue(L,I)&&this._onDidChangeContext.fire(new m(L))}removeContext(L){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(L)&&this._onDidChangeContext.fire(new m(L))}getContext(L){return this._isDisposed?t.INSTANCE:this.getContextValuesContainer(d(L))}dispose(){super.dispose(),this._isDisposed=!0}}e.AbstractContextKeyService=h;let l=class extends h{constructor(L){super(0),this._contexts=new Map,this._lastContextId=0;const I=this._register(new n(this._myContextId,L,this._onDidChangeContext));this._contexts.set(this._myContextId,I)}getContextValuesContainer(L){return this._isDisposed?t.INSTANCE:this._contexts.get(L)||t.INSTANCE}createChildContext(L=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const I=++this._lastContextId;return this._contexts.set(I,new i(I,this.getContextValuesContainer(L))),I}disposeContext(L){this._isDisposed||this._contexts.delete(L)}};e.ContextKeyService=l,e.ContextKeyService=l=Ie([ue(0,C.IConfigurationService)],l);class g extends h{constructor(L,I){if(super(L.createChildContext()),this._parentChangeListener=this._register(new E.MutableDisposable),this._parent=L,this._updateParentChangeListener(),this._domNode=I,this._domNode.hasAttribute(s)){let T="";this._domNode.classList&&(T=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${T?": "+T:""}`)}this._domNode.setAttribute(s,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(L=>{const T=this._parent.getContextValuesContainer(this._myContextId).value;a(L,T)||this._onDidChangeContext.fire(L)})}dispose(){this._isDisposed||(this._parent.disposeContext(this._myContextId),this._domNode.removeAttribute(s),super.dispose())}getContextValuesContainer(L){return this._isDisposed?t.INSTANCE:this._parent.getContextValuesContainer(L)}createChildContext(L=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(L)}disposeContext(L){this._isDisposed||this._parent.disposeContext(L)}}function d(S){for(;S;){if(S.hasAttribute(s)){const L=S.getAttribute(s);return L?parseInt(L,10):NaN}S=S.parentElement}return 0}function v(S,L,I){S.get(o.IContextKeyService).createKey(String(L),_(I))}function _(S){return(0,D.cloneAndChange)(S,L=>{if(typeof L=="object"&&L.$mid===1)return p.URI.revive(L).toString();if(L instanceof p.URI)return L.toString()})}b.CommandsRegistry.registerCommand("_setContext",v),b.CommandsRegistry.registerCommand({id:"getContextKeyInfo",handler(){return[...o.RawContextKey.all()].sort((S,L)=>S.key.localeCompare(L.key))},metadata:{description:(0,w.localize)(0,null),args:[]}}),b.CommandsRegistry.registerCommand("_generateContextKeyInfo",function(){const S=[],L=new Set;for(const I of o.RawContextKey.all())L.has(I.key)||(L.add(I.key),S.push(I));S.sort((I,T)=>I.key.localeCompare(T.key)),console.log(JSON.stringify(S,void 0,2))})}),define(ie[204],ne([1,0,17,779,14]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InputFocusedContext=e.InputFocusedContextKey=e.ProductQualityContext=e.IsDevelopmentContext=e.IsMobileContext=e.IsIOSContext=e.IsMacNativeContext=e.IsWebContext=e.IsWindowsContext=e.IsLinuxContext=e.IsMacContext=void 0,e.IsMacContext=new E.RawContextKey("isMac",f.isMacintosh,(0,k.localize)(0,null)),e.IsLinuxContext=new E.RawContextKey("isLinux",f.isLinux,(0,k.localize)(1,null)),e.IsWindowsContext=new E.RawContextKey("isWindows",f.isWindows,(0,k.localize)(2,null)),e.IsWebContext=new E.RawContextKey("isWeb",f.isWeb,(0,k.localize)(3,null)),e.IsMacNativeContext=new E.RawContextKey("isMacNative",f.isMacintosh&&!f.isWeb,(0,k.localize)(4,null)),e.IsIOSContext=new E.RawContextKey("isIOS",f.isIOS,(0,k.localize)(5,null)),e.IsMobileContext=new E.RawContextKey("isMobile",f.isMobile,(0,k.localize)(6,null)),e.IsDevelopmentContext=new E.RawContextKey("isDevelopment",!1,!0),e.ProductQualityContext=new E.RawContextKey("productQualityType","",(0,k.localize)(7,null)),e.InputFocusedContextKey="inputFocus",e.InputFocusedContext=new E.RawContextKey(e.InputFocusedContextKey,!1,(0,k.localize)(8,null))}),define(ie[58],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IContextMenuService=e.IContextViewService=void 0,e.IContextViewService=(0,f.createDecorator)("contextViewService"),e.IContextMenuService=(0,f.createDecorator)("contextMenuService")}),define(ie[173],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IDialogService=void 0,e.IDialogService=(0,f.createDecorator)("dialogService")}),define(ie[263],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEnvironmentService=void 0,e.IEnvironmentService=(0,f.createDecorator)("environmentService")}),define(ie[115],ne([1,0,8,2,27,6]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.nativeHoverDelegate=e.WorkbenchHoverDelegate=e.IHoverService=void 0,e.IHoverService=(0,f.createDecorator)("hoverService");let y=class extends k.Disposable{get delay(){return this.isInstantlyHovering()?0:this._delay}constructor(w,b,C={},o,s){super(),this.placement=w,this.instantHover=b,this.overrideOptions=C,this.configurationService=o,this.hoverService=s,this.lastHoverHideTime=0,this.timeLimit=200,this.hoverDisposables=this._register(new k.DisposableStore),this._delay=this.configurationService.getValue("workbench.hover.delay"),this._register(this.configurationService.onDidChangeConfiguration(i=>{i.affectsConfiguration("workbench.hover.delay")&&(this._delay=this.configurationService.getValue("workbench.hover.delay"))}))}showHover(w,b){const C=typeof this.overrideOptions=="function"?this.overrideOptions(w,b):this.overrideOptions;this.hoverDisposables.clear();const o=w.target instanceof HTMLElement?[w.target]:w.target.targetElements;for(const i of o)this.hoverDisposables.add((0,D.addStandardDisposableListener)(i,"keydown",t=>{t.equals(9)&&this.hoverService.hideHover()}));const s=w.content instanceof HTMLElement?void 0:w.content.toString();return this.hoverService.showHover({...w,...C,persistence:{hideOnKeyDown:!0,...C.persistence},id:s,appearance:{...w.appearance,compact:!0,skipFadeInAnimation:this.isInstantlyHovering(),...C.appearance}},b)}isInstantlyHovering(){return this.instantHover&&Date.now()-this.lastHoverHideTime<this.timeLimit}onDidHideHover(){this.hoverDisposables.clear(),this.instantHover&&(this.lastHoverHideTime=Date.now())}};e.WorkbenchHoverDelegate=y,e.WorkbenchHoverDelegate=y=Ie([ue(3,E.IConfigurationService),ue(4,e.IHoverService)],y),e.nativeHoverDelegate={showHover:function(){throw new Error("Native hover function not implemented.")},delay:0,showNativeHover:!0}}),define(ie[174],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ServiceCollection=void 0;class f{constructor(...E){this._entries=new Map;for(const[D,y]of E)this.set(D,y)}set(E,D){const y=this._entries.get(E);return this._entries.set(E,D),y}get(E){return this._entries.get(E)}}e.ServiceCollection=f}),define(ie[821],ne([1,0,15,10,2,257,809,8,174,70]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Trace=e.InstantiationService=void 0;const C=!1;class o extends Error{constructor(n){var c;super("cyclic dependency between services"),this.message=(c=n.findCycleSlow())!==null&&c!==void 0?c:`UNABLE to detect cycle, dumping graph: 
${n.toString()}`}}class s{constructor(n=new w.ServiceCollection,c=!1,m,u=C){var r;this._services=n,this._strict=c,this._parent=m,this._enableTracing=u,this._isDisposed=!1,this._servicesToMaybeDispose=new Set,this._children=new Set,this._activeInstantiations=new Set,this._services.set(p.IInstantiationService,this),this._globalGraph=u?(r=m?._globalGraph)!==null&&r!==void 0?r:new y.Graph(a=>a):void 0}dispose(){if(!this._isDisposed){this._isDisposed=!0,(0,E.dispose)(this._children),this._children.clear();for(const n of this._servicesToMaybeDispose)(0,E.isDisposable)(n)&&n.dispose();this._servicesToMaybeDispose.clear()}}_throwIfDisposed(){if(this._isDisposed)throw new Error("InstantiationService has been disposed")}createChild(n){this._throwIfDisposed();const c=new class extends s{dispose(){this._children.delete(c),super.dispose()}}(n,this._strict,this,this._enableTracing);return this._children.add(c),c}invokeFunction(n,...c){this._throwIfDisposed();const m=i.traceInvocation(this._enableTracing,n);let u=!1;try{return n({get:a=>{if(u)throw(0,k.illegalState)("service accessor is only valid during the invocation of its target method");const h=this._getOrCreateServiceInstance(a,m);if(!h)throw new Error(`[invokeFunction] unknown service '${a}'`);return h}},...c)}finally{u=!0,m.stop()}}createInstance(n,...c){this._throwIfDisposed();let m,u;return n instanceof D.SyncDescriptor?(m=i.traceCreation(this._enableTracing,n.ctor),u=this._createInstance(n.ctor,n.staticArguments.concat(c),m)):(m=i.traceCreation(this._enableTracing,n),u=this._createInstance(n,c,m)),m.stop(),u}_createInstance(n,c=[],m){const u=p._util.getServiceDependencies(n).sort((h,l)=>h.index-l.index),r=[];for(const h of u){const l=this._getOrCreateServiceInstance(h.id,m);l||this._throwIfStrict(`[createInstance] ${n.name} depends on UNKNOWN service ${h.id}.`,!1),r.push(l)}const a=u.length>0?u[0].index:c.length;if(c.length!==a){console.trace(`[createInstance] First service dependency of ${n.name} at position ${a+1} conflicts with ${c.length} static arguments`);const h=a-c.length;h>0?c=c.concat(new Array(h)):c=c.slice(0,a)}return Reflect.construct(n,c.concat(r))}_setCreatedServiceInstance(n,c){if(this._services.get(n)instanceof D.SyncDescriptor)this._services.set(n,c);else if(this._parent)this._parent._setCreatedServiceInstance(n,c);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(n){const c=this._services.get(n);return!c&&this._parent?this._parent._getServiceInstanceOrDescriptor(n):c}_getOrCreateServiceInstance(n,c){this._globalGraph&&this._globalGraphImplicitDependency&&this._globalGraph.insertEdge(this._globalGraphImplicitDependency,String(n));const m=this._getServiceInstanceOrDescriptor(n);return m instanceof D.SyncDescriptor?this._safeCreateAndCacheServiceInstance(n,m,c.branch(n,!0)):(c.branch(n,!1),m)}_safeCreateAndCacheServiceInstance(n,c,m){if(this._activeInstantiations.has(n))throw new Error(`illegal state - RECURSIVELY instantiating service '${n}'`);this._activeInstantiations.add(n);try{return this._createAndCacheServiceInstance(n,c,m)}finally{this._activeInstantiations.delete(n)}}_createAndCacheServiceInstance(n,c,m){var u;const r=new y.Graph(l=>l.id.toString());let a=0;const h=[{id:n,desc:c,_trace:m}];for(;h.length;){const l=h.pop();if(r.lookupOrInsertNode(l),a++>1e3)throw new o(r);for(const g of p._util.getServiceDependencies(l.desc.ctor)){const d=this._getServiceInstanceOrDescriptor(g.id);if(d||this._throwIfStrict(`[createInstance] ${n} depends on ${g.id} which is NOT registered.`,!0),(u=this._globalGraph)===null||u===void 0||u.insertEdge(String(l.id),String(g.id)),d instanceof D.SyncDescriptor){const v={id:g.id,desc:d,_trace:l._trace.branch(g.id,!0)};r.insertEdge(l,v),h.push(v)}}}for(;;){const l=r.roots();if(l.length===0){if(!r.isEmpty())throw new o(r);break}for(const{data:g}of l){if(this._getServiceInstanceOrDescriptor(g.id)instanceof D.SyncDescriptor){const v=this._createServiceInstanceWithOwner(g.id,g.desc.ctor,g.desc.staticArguments,g.desc.supportsDelayedInstantiation,g._trace);this._setCreatedServiceInstance(g.id,v)}r.removeNode(g)}}return this._getServiceInstanceOrDescriptor(n)}_createServiceInstanceWithOwner(n,c,m=[],u,r){if(this._services.get(n)instanceof D.SyncDescriptor)return this._createServiceInstance(n,c,m,u,r,this._servicesToMaybeDispose);if(this._parent)return this._parent._createServiceInstanceWithOwner(n,c,m,u,r);throw new Error(`illegalState - creating UNKNOWN service instance ${c.name}`)}_createServiceInstance(n,c,m=[],u,r,a){if(u){const h=new s(void 0,this._strict,this,this._enableTracing);h._globalGraphImplicitDependency=String(n);const l=new Map,g=new f.GlobalIdleValue(()=>{const d=h._createInstance(c,m,r);for(const[v,_]of l){const S=d[v];if(typeof S=="function")for(const L of _)L.disposable=S.apply(d,L.listener)}return l.clear(),a.add(d),d});return new Proxy(Object.create(null),{get(d,v){if(!g.isInitialized&&typeof v=="string"&&(v.startsWith("onDid")||v.startsWith("onWill"))){let L=l.get(v);return L||(L=new b.LinkedList,l.set(v,L)),(T,N,A)=>{if(g.isInitialized)return g.value[v](T,N,A);{const O={listener:[T,N,A],disposable:void 0},M=L.push(O);return(0,E.toDisposable)(()=>{var x;M(),(x=O.disposable)===null||x===void 0||x.dispose()})}}}if(v in d)return d[v];const _=g.value;let S=_[v];return typeof S!="function"||(S=S.bind(_),d[v]=S),S},set(d,v,_){return g.value[v]=_,!0},getPrototypeOf(d){return c.prototype}})}else{const h=this._createInstance(c,m,r);return a.add(h),h}}_throwIfStrict(n,c){if(c&&console.warn(n),this._strict)throw new Error(n)}}e.InstantiationService=s;class i{static traceInvocation(n,c){return n?new i(2,c.name||new Error().stack.split(`
`).slice(3,4).join(`
`)):i._None}static traceCreation(n,c){return n?new i(1,c.name):i._None}constructor(n,c){this.type=n,this.name=c,this._start=Date.now(),this._dep=[]}branch(n,c){const m=new i(3,n.toString());return this._dep.push([n,c,m]),m}stop(){const n=Date.now()-this._start;i._totals+=n;let c=!1;function m(r,a){const h=[],l=new Array(r+1).join("	");for(const[g,d,v]of a._dep)if(d&&v){c=!0,h.push(`${l}CREATES -> ${g}`);const _=m(r+1,v);_&&h.push(_)}else h.push(`${l}uses -> ${g}`);return h.join(`
`)}const u=[`${this.type===1?"CREATE":"CALL"} ${this.name}`,`${m(1,this)}`,`DONE, took ${n.toFixed(2)}ms (grand total ${i._totals.toFixed(2)}ms)`];(n>2||c)&&i.all.add(u.join(`
`))}}e.Trace=i,i.all=new Set,i._None=new class extends i{constructor(){super(0,null)}stop(){}branch(){return this}},i._totals=0}),define(ie[822],ne([1,0,10,240,135]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BaseResolvedKeybinding=void 0;class D extends E.ResolvedKeybinding{constructor(p,w){if(super(),w.length===0)throw(0,f.illegalArgument)("chords");this._os=p,this._chords=w}getLabel(){return k.UILabelProvider.toLabel(this._os,this._chords,p=>this._getLabel(p))}getAriaLabel(){return k.AriaLabelProvider.toLabel(this._os,this._chords,p=>this._getAriaLabel(p))}getElectronAccelerator(){return this._chords.length>1||this._chords[0].isDuplicateModifierCase()?null:k.ElectronAcceleratorLabelProvider.toLabel(this._os,this._chords,p=>this._getElectronAccelerator(p))}getUserSettingsLabel(){return k.UserSettingsLabelProvider.toLabel(this._os,this._chords,p=>this._getUserSettingsLabel(p))}hasMultipleChords(){return this._chords.length>1}getChords(){return this._chords.map(p=>this._getChord(p))}_getChord(p){return new E.ResolvedChord(p.ctrlKey,p.shiftKey,p.altKey,p.metaKey,this._getLabel(p),this._getAriaLabel(p))}getDispatchChords(){return this._chords.map(p=>this._getChordDispatch(p))}getSingleModifierDispatchChords(){return this._chords.map(p=>this._getSingleModifierChordDispatch(p))}}e.BaseResolvedKeybinding=D}),define(ie[32],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IKeybindingService=void 0,e.IKeybindingService=(0,f.createDecorator)("keybindingService")}),define(ie[370],ne([1,0,6,251,41,7,2,148,260,14,58,8,32,487]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.PostEditWidgetManager=void 0;let t=i=class extends y.Disposable{constructor(m,u,r,a,h,l,g,d,v,_){super(),this.typeId=m,this.editor=u,this.showCommand=a,this.range=h,this.edits=l,this.onSelectNewEdit=g,this._contextMenuService=d,this._keybindingService=_,this.allowEditorOverflow=!0,this.suppressMouseDown=!0,this.create(),this.visibleContext=r.bindTo(v),this.visibleContext.set(!0),this._register((0,y.toDisposable)(()=>this.visibleContext.reset())),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this),this._register((0,y.toDisposable)(()=>this.editor.removeContentWidget(this))),this._register(this.editor.onDidChangeCursorPosition(S=>{h.containsPosition(S.position)||this.dispose()})),this._register(D.Event.runAndSubscribe(_.onDidUpdateKeybindings,()=>{this._updateButtonTitle()}))}_updateButtonTitle(){var m;const u=(m=this._keybindingService.lookupKeybinding(this.showCommand.id))===null||m===void 0?void 0:m.getLabel();this.button.element.title=this.showCommand.label+(u?` (${u})`:"")}create(){this.domNode=f.$(".post-edit-widget"),this.button=this._register(new k.Button(this.domNode,{supportIcons:!0})),this.button.label="$(insert)",this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,()=>this.showSelector()))}getId(){return i.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:this.range.getEndPosition(),preference:[2]}}showSelector(){this._contextMenuService.showContextMenu({getAnchor:()=>{const m=f.getDomNodePagePosition(this.button.element);return{x:m.left+m.width,y:m.top+m.height}},getActions:()=>this.edits.allEdits.map((m,u)=>(0,E.toAction)({id:"",label:m.title,checked:u===this.edits.activeEditIndex,run:()=>{if(u!==this.edits.activeEditIndex)return this.onSelectNewEdit(u)}}))})}};t.baseId="editor.widget.postEditWidget",t=i=Ie([ue(7,C.IContextMenuService),ue(8,b.IContextKeyService),ue(9,s.IKeybindingService)],t);let n=class extends y.Disposable{constructor(m,u,r,a,h,l){super(),this._id=m,this._editor=u,this._visibleContext=r,this._showCommand=a,this._instantiationService=h,this._bulkEditService=l,this._currentWidget=this._register(new y.MutableDisposable),this._register(D.Event.any(u.onDidChangeModel,u.onDidChangeModelContent)(()=>this.clear()))}async applyEditAndShowIfNeeded(m,u,r,a,h){const l=this._editor.getModel();if(!l||!m.length)return;const g=u.allEdits.at(u.activeEditIndex);if(!g)return;const d=await a(g,h);if(h.isCancellationRequested)return;const v=(0,w.createCombinedWorkspaceEdit)(l.uri,m,d),_=m[0],S=l.deltaDecorations([],[{range:_,options:{description:"paste-line-suffix",stickiness:0}}]);this._editor.focus();let L,I;try{L=await this._bulkEditService.apply(v,{editor:this._editor,token:h}),I=l.getDecorationRange(S[0])}finally{l.deltaDecorations(S,[])}h.isCancellationRequested||r&&L.isApplied&&u.allEdits.length>1&&this.show(I??_,u,async T=>{const N=this._editor.getModel();N&&(await N.undo(),this.applyEditAndShowIfNeeded(m,{activeEditIndex:T,allEdits:u.allEdits},r,a,h))})}show(m,u,r){this.clear(),this._editor.hasModel()&&(this._currentWidget.value=this._instantiationService.createInstance(t,this._id,this._editor,this._visibleContext,this._showCommand,m,u,r))}clear(){this._currentWidget.clear()}tryShowSelector(){var m;(m=this._currentWidget.value)===null||m===void 0||m.showSelector()}};e.PostEditWidgetManager=n,e.PostEditWidgetManager=n=Ie([ue(4,o.IInstantiationService),ue(5,p.IBulkEditService)],n)}),define(ie[371],ne([1,0,6,168,2,32]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorHoverStatusBar=void 0;const y=f.$;let p=class extends E.Disposable{get hasContent(){return this._hasContent}constructor(b){super(),this._keybindingService=b,this._hasContent=!1,this.hoverElement=y("div.hover-row.status-bar"),this.hoverElement.tabIndex=0,this.actionsElement=f.append(this.hoverElement,y("div.actions"))}addAction(b){const C=this._keybindingService.lookupKeybinding(b.commandId),o=C?C.getLabel():null;return this._hasContent=!0,this._register(k.HoverAction.render(this.actionsElement,b,o))}append(b){const C=f.append(this.actionsElement,b);return this._hasContent=!0,C}};e.EditorHoverStatusBar=p,e.EditorHoverStatusBar=p=Ie([ue(0,D.IKeybindingService)],p)}),define(ie[372],ne([1,0,6,32,654,14,27,66,21,168]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverWidget=void 0;const o=30,s=6;let i=C=class extends E.ResizableContentWidget{get isColorPickerVisible(){var c;return!!(!((c=this._visibleData)===null||c===void 0)&&c.colorPicker)}get isVisibleFromKeyboard(){var c;return((c=this._visibleData)===null||c===void 0?void 0:c.source)===1}get isVisible(){var c;return(c=this._hoverVisibleKey.get())!==null&&c!==void 0?c:!1}get isFocused(){var c;return(c=this._hoverFocusedKey.get())!==null&&c!==void 0?c:!1}constructor(c,m,u,r,a){const h=c.getOption(67)+8,l=150,g=new f.Dimension(l,h);super(c,g),this._configurationService=u,this._accessibilityService=r,this._keybindingService=a,this._hover=this._register(new b.HoverWidget),this._minimumSize=g,this._hoverVisibleKey=w.EditorContextKeys.hoverVisible.bindTo(m),this._hoverFocusedKey=w.EditorContextKeys.hoverFocused.bindTo(m),f.append(this._resizableNode.domNode,this._hover.containerDomNode),this._resizableNode.domNode.style.zIndex="50",this._register(this._editor.onDidLayoutChange(()=>{this.isVisible&&this._updateMaxDimensions()})),this._register(this._editor.onDidChangeConfiguration(v=>{v.hasChanged(50)&&this._updateFont()}));const d=this._register(f.trackFocus(this._resizableNode.domNode));this._register(d.onDidFocus(()=>{this._hoverFocusedKey.set(!0)})),this._register(d.onDidBlur(()=>{this._hoverFocusedKey.set(!1)})),this._setHoverData(void 0),this._editor.addContentWidget(this)}dispose(){var c;super.dispose(),(c=this._visibleData)===null||c===void 0||c.disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return C.ID}static _applyDimensions(c,m,u){const r=typeof m=="number"?`${m}px`:m,a=typeof u=="number"?`${u}px`:u;c.style.width=r,c.style.height=a}_setContentsDomNodeDimensions(c,m){const u=this._hover.contentsDomNode;return C._applyDimensions(u,c,m)}_setContainerDomNodeDimensions(c,m){const u=this._hover.containerDomNode;return C._applyDimensions(u,c,m)}_setHoverWidgetDimensions(c,m){this._setContentsDomNodeDimensions(c,m),this._setContainerDomNodeDimensions(c,m),this._layoutContentWidget()}static _applyMaxDimensions(c,m,u){const r=typeof m=="number"?`${m}px`:m,a=typeof u=="number"?`${u}px`:u;c.style.maxWidth=r,c.style.maxHeight=a}_setHoverWidgetMaxDimensions(c,m){C._applyMaxDimensions(this._hover.contentsDomNode,c,m),C._applyMaxDimensions(this._hover.containerDomNode,c,m),this._hover.containerDomNode.style.setProperty("--vscode-hover-maxWidth",typeof c=="number"?`${c}px`:c),this._layoutContentWidget()}_setAdjustedHoverWidgetDimensions(c){this._setHoverWidgetMaxDimensions("none","none");const m=c.width,u=c.height;this._setHoverWidgetDimensions(m,u)}_updateResizableNodeMaxDimensions(){var c,m;const u=(c=this._findMaximumRenderingWidth())!==null&&c!==void 0?c:1/0,r=(m=this._findMaximumRenderingHeight())!==null&&m!==void 0?m:1/0;this._resizableNode.maxSize=new f.Dimension(u,r),this._setHoverWidgetMaxDimensions(u,r)}_resize(c){var m,u;C._lastDimensions=new f.Dimension(c.width,c.height),this._setAdjustedHoverWidgetDimensions(c),this._resizableNode.layout(c.height,c.width),this._updateResizableNodeMaxDimensions(),this._hover.scrollbar.scanDomNode(),this._editor.layoutContentWidget(this),(u=(m=this._visibleData)===null||m===void 0?void 0:m.colorPicker)===null||u===void 0||u.layout()}_findAvailableSpaceVertically(){var c;const m=(c=this._visibleData)===null||c===void 0?void 0:c.showAtPosition;if(m)return this._positionPreference===1?this._availableVerticalSpaceAbove(m):this._availableVerticalSpaceBelow(m)}_findMaximumRenderingHeight(){const c=this._findAvailableSpaceVertically();if(!c)return;let m=s;return Array.from(this._hover.contentsDomNode.children).forEach(u=>{m+=u.clientHeight}),Math.min(c,m)}_isHoverTextOverflowing(){this._hover.containerDomNode.style.setProperty("--vscode-hover-whiteSpace","nowrap"),this._hover.containerDomNode.style.setProperty("--vscode-hover-sourceWhiteSpace","nowrap");const c=Array.from(this._hover.contentsDomNode.children).some(m=>m.scrollWidth>m.clientWidth);return this._hover.containerDomNode.style.removeProperty("--vscode-hover-whiteSpace"),this._hover.containerDomNode.style.removeProperty("--vscode-hover-sourceWhiteSpace"),c}_findMaximumRenderingWidth(){if(!this._editor||!this._editor.hasModel())return;const c=this._isHoverTextOverflowing(),m=typeof this._contentWidth>"u"?0:this._contentWidth-2;return c||this._hover.containerDomNode.clientWidth<m?f.getClientArea(this._hover.containerDomNode.ownerDocument.body).width-14:this._hover.containerDomNode.clientWidth+2}isMouseGettingCloser(c,m){if(!this._visibleData)return!1;if(typeof this._visibleData.initialMousePosX>"u"||typeof this._visibleData.initialMousePosY>"u")return this._visibleData.initialMousePosX=c,this._visibleData.initialMousePosY=m,!1;const u=f.getDomNodePagePosition(this.getDomNode());typeof this._visibleData.closestMouseDistance>"u"&&(this._visibleData.closestMouseDistance=t(this._visibleData.initialMousePosX,this._visibleData.initialMousePosY,u.left,u.top,u.width,u.height));const r=t(c,m,u.left,u.top,u.width,u.height);return r>this._visibleData.closestMouseDistance+4?!1:(this._visibleData.closestMouseDistance=Math.min(this._visibleData.closestMouseDistance,r),!0)}_setHoverData(c){var m;(m=this._visibleData)===null||m===void 0||m.disposables.dispose(),this._visibleData=c,this._hoverVisibleKey.set(!!c),this._hover.containerDomNode.classList.toggle("hidden",!c)}_updateFont(){const{fontSize:c,lineHeight:m}=this._editor.getOption(50),u=this._hover.contentsDomNode;u.style.fontSize=`${c}px`,u.style.lineHeight=`${m/c}`,Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(a=>this._editor.applyFontInfo(a))}_updateContent(c){const m=this._hover.contentsDomNode;m.style.paddingBottom="",m.textContent="",m.appendChild(c)}_layoutContentWidget(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged()}_updateMaxDimensions(){const c=Math.max(this._editor.getLayoutInfo().height/4,250,C._lastDimensions.height),m=Math.max(this._editor.getLayoutInfo().width*.66,500,C._lastDimensions.width);this._setHoverWidgetMaxDimensions(m,c)}_render(c,m){this._setHoverData(m),this._updateFont(),this._updateContent(c),this._updateMaxDimensions(),this.onContentsChanged(),this._editor.render()}getPosition(){var c;return this._visibleData?{position:this._visibleData.showAtPosition,secondaryPosition:this._visibleData.showAtSecondaryPosition,positionAffinity:this._visibleData.isBeforeContent?3:void 0,preference:[(c=this._positionPreference)!==null&&c!==void 0?c:1]}:null}showAt(c,m){var u,r,a,h;if(!this._editor||!this._editor.hasModel())return;this._render(c,m);const l=f.getTotalHeight(this._hover.containerDomNode),g=m.showAtPosition;this._positionPreference=(u=this._findPositionPreference(l,g))!==null&&u!==void 0?u:1,this.onContentsChanged(),m.stoleFocus&&this._hover.containerDomNode.focus(),(r=m.colorPicker)===null||r===void 0||r.layout();const v=this._hover.containerDomNode.ownerDocument.activeElement===this._hover.containerDomNode&&(0,b.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(h=(a=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||a===void 0?void 0:a.getAriaLabel())!==null&&h!==void 0?h:"");v&&(this._hover.contentsDomNode.ariaLabel=this._hover.contentsDomNode.textContent+", "+v)}hide(){if(!this._visibleData)return;const c=this._visibleData.stoleFocus||this._hoverFocusedKey.get();this._setHoverData(void 0),this._resizableNode.maxSize=new f.Dimension(1/0,1/0),this._resizableNode.clearSashHoverState(),this._hoverFocusedKey.set(!1),this._editor.layoutContentWidget(this),c&&this._editor.focus()}_removeConstraintsRenderNormally(){const c=this._editor.getLayoutInfo();this._resizableNode.layout(c.height,c.width),this._setHoverWidgetDimensions("auto","auto")}setMinimumDimensions(c){this._minimumSize=new f.Dimension(Math.max(this._minimumSize.width,c.width),Math.max(this._minimumSize.height,c.height)),this._updateMinimumWidth()}_updateMinimumWidth(){const c=typeof this._contentWidth>"u"?this._minimumSize.width:Math.min(this._contentWidth,this._minimumSize.width);this._resizableNode.minSize=new f.Dimension(c,this._minimumSize.height)}onContentsChanged(){var c;this._removeConstraintsRenderNormally();const m=this._hover.containerDomNode;let u=f.getTotalHeight(m),r=f.getTotalWidth(m);if(this._resizableNode.layout(u,r),this._setHoverWidgetDimensions(r,u),u=f.getTotalHeight(m),r=f.getTotalWidth(m),this._contentWidth=r,this._updateMinimumWidth(),this._resizableNode.layout(u,r),!((c=this._visibleData)===null||c===void 0)&&c.showAtPosition){const a=f.getTotalHeight(this._hover.containerDomNode);this._positionPreference=this._findPositionPreference(a,this._visibleData.showAtPosition)}this._layoutContentWidget()}focus(){this._hover.containerDomNode.focus()}scrollUp(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,m=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:c-m.lineHeight})}scrollDown(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,m=this._editor.getOption(50);this._hover.scrollbar.setScrollPosition({scrollTop:c+m.lineHeight})}scrollLeft(){const c=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:c-o})}scrollRight(){const c=this._hover.scrollbar.getScrollPosition().scrollLeft;this._hover.scrollbar.setScrollPosition({scrollLeft:c+o})}pageUp(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,m=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:c-m})}pageDown(){const c=this._hover.scrollbar.getScrollPosition().scrollTop,m=this._hover.scrollbar.getScrollDimensions().height;this._hover.scrollbar.setScrollPosition({scrollTop:c+m})}goToTop(){this._hover.scrollbar.setScrollPosition({scrollTop:0})}goToBottom(){this._hover.scrollbar.setScrollPosition({scrollTop:this._hover.scrollbar.getScrollDimensions().scrollHeight})}};e.ContentHoverWidget=i,i.ID="editor.contrib.resizableContentHoverWidget",i._lastDimensions=new f.Dimension(0,0),e.ContentHoverWidget=i=C=Ie([ue(1,D.IContextKeyService),ue(2,y.IConfigurationService),ue(3,p.IAccessibilityService),ue(4,k.IKeybindingService)],i);function t(n,c,m,u,r,a){const h=m+r/2,l=u+a/2,g=Math.max(Math.abs(n-h)-r/2,0),d=Math.max(Math.abs(c-l)-a/2,0);return Math.sqrt(g*g+d*d)}}),define(ie[373],ne([1,0,14]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KeybindingResolver=e.NoMatchingKb=void 0,e.NoMatchingKb={kind:0};const k={kind:1};function E(w,b,C){return{kind:2,commandId:w,commandArgs:b,isBubble:C}}class D{constructor(b,C,o){var s;this._log=o,this._defaultKeybindings=b,this._defaultBoundCommands=new Map;for(const i of b){const t=i.command;t&&t.charAt(0)!=="-"&&this._defaultBoundCommands.set(t,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=D.handleRemovals([].concat(b).concat(C));for(let i=0,t=this._keybindings.length;i<t;i++){const n=this._keybindings[i];if(n.chords.length===0)continue;const c=(s=n.when)===null||s===void 0?void 0:s.substituteConstants();c&&c.type===0||this._addKeyPress(n.chords[0],n)}}static _isTargetedForRemoval(b,C,o){if(C){for(let s=0;s<C.length;s++)if(C[s]!==b.chords[s])return!1}return!(o&&o.type!==1&&(!b.when||!(0,f.expressionsAreEqualWithConstantSubstitution)(o,b.when)))}static handleRemovals(b){const C=new Map;for(let s=0,i=b.length;s<i;s++){const t=b[s];if(t.command&&t.command.charAt(0)==="-"){const n=t.command.substring(1);C.has(n)?C.get(n).push(t):C.set(n,[t])}}if(C.size===0)return b;const o=[];for(let s=0,i=b.length;s<i;s++){const t=b[s];if(!t.command||t.command.length===0){o.push(t);continue}if(t.command.charAt(0)==="-")continue;const n=C.get(t.command);if(!n||!t.isDefault){o.push(t);continue}let c=!1;for(const m of n){const u=m.when;if(this._isTargetedForRemoval(t,m.chords,u)){c=!0;break}}if(!c){o.push(t);continue}}return o}_addKeyPress(b,C){const o=this._map.get(b);if(typeof o>"u"){this._map.set(b,[C]),this._addToLookupMap(C);return}for(let s=o.length-1;s>=0;s--){const i=o[s];if(i.command===C.command)continue;let t=!0;for(let n=1;n<i.chords.length&&n<C.chords.length;n++)if(i.chords[n]!==C.chords[n]){t=!1;break}t&&D.whenIsEntirelyIncluded(i.when,C.when)&&this._removeFromLookupMap(i)}o.push(C),this._addToLookupMap(C)}_addToLookupMap(b){if(!b.command)return;let C=this._lookupMap.get(b.command);typeof C>"u"?(C=[b],this._lookupMap.set(b.command,C)):C.push(b)}_removeFromLookupMap(b){if(!b.command)return;const C=this._lookupMap.get(b.command);if(!(typeof C>"u")){for(let o=0,s=C.length;o<s;o++)if(C[o]===b){C.splice(o,1);return}}}static whenIsEntirelyIncluded(b,C){return!C||C.type===1?!0:!b||b.type===1?!1:(0,f.implies)(b,C)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(b,C){const o=this._lookupMap.get(b);if(typeof o>"u"||o.length===0)return null;if(o.length===1)return o[0];for(let s=o.length-1;s>=0;s--){const i=o[s];if(C.contextMatchesRules(i.when))return i}return o[o.length-1]}resolve(b,C,o){const s=[...C,o];this._log(`| Resolving ${s}`);const i=this._map.get(s[0]);if(i===void 0)return this._log("\\ No keybinding entries."),e.NoMatchingKb;let t=null;if(s.length<2)t=i;else{t=[];for(let c=0,m=i.length;c<m;c++){const u=i[c];if(s.length>u.chords.length)continue;let r=!0;for(let a=1;a<s.length;a++)if(u.chords[a]!==s[a]){r=!1;break}r&&t.push(u)}}const n=this._findCommand(b,t);return n?s.length<n.chords.length?(this._log(`\\ From ${t.length} keybinding entries, awaiting ${n.chords.length-s.length} more chord(s), when: ${y(n.when)}, source: ${p(n)}.`),k):(this._log(`\\ From ${t.length} keybinding entries, matched ${n.command}, when: ${y(n.when)}, source: ${p(n)}.`),E(n.command,n.commandArgs,n.bubble)):(this._log(`\\ From ${t.length} keybinding entries, no when clauses matched the context.`),e.NoMatchingKb)}_findCommand(b,C){for(let o=C.length-1;o>=0;o--){const s=C[o];if(D._contextMatchesRules(b,s.when))return s}return null}static _contextMatchesRules(b,C){return C?C.evaluate(b):!0}}e.KeybindingResolver=D;function y(w){return w?`${w.serialize()}`:"no when condition"}function p(w){return w.extensionId?w.isBuiltinExtension?`built-in extension ${w.extensionId}`:`user extension ${w.extensionId}`:w.isDefault?"built-in":"user"}}),define(ie[823],ne([1,0,15,10,7,291,2,782,373]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractKeybindingService=void 0;const b=/^(cursor|delete|undo|redo|tab|editor\.action\.clipboard)/;class C extends y.Disposable{get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:E.Event.None}get inChordMode(){return this._currentChords.length>0}constructor(i,t,n,c,m){super(),this._contextKeyService=i,this._commandService=t,this._telemetryService=n,this._notificationService=c,this._logService=m,this._onDidUpdateKeybindings=this._register(new E.Emitter),this._currentChords=[],this._currentChordChecker=new f.IntervalTimer,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new f.TimeoutTimer,this._currentlyDispatchingCommandId=null,this._logging=!1}dispose(){super.dispose()}_log(i){this._logging&&this._logService.info(`[KeybindingService]: ${i}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(i,t){const n=this._getResolver().lookupPrimaryKeybinding(i,t||this._contextKeyService);if(n)return n.resolvedKeybinding}dispatchEvent(i,t){return this._dispatch(i,t)}softDispatch(i,t){this._log("/ Soft dispatching keyboard event");const n=this.resolveKeyboardEvent(i);if(n.hasMultipleChords())return console.warn("keyboard event should not be mapped to multiple chords"),w.NoMatchingKb;const[c]=n.getDispatchChords();if(c===null)return this._log("\\ Keyboard event cannot be dispatched"),w.NoMatchingKb;const m=this._contextKeyService.getContext(t),u=this._currentChords.map(({keypress:r})=>r);return this._getResolver().resolve(m,u,c)}_scheduleLeaveChordMode(){const i=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-i>5e3&&this._leaveChordMode()},500)}_expectAnotherChord(i,t){switch(this._currentChords.push({keypress:i,label:t}),this._currentChords.length){case 0:throw(0,k.illegalState)("impossible");case 1:this._currentChordStatusMessage=this._notificationService.status(p.localize(0,null,t));break;default:{const n=this._currentChords.map(({label:c})=>c).join(", ");this._currentChordStatusMessage=this._notificationService.status(p.localize(1,null,n))}}this._scheduleLeaveChordMode(),D.IME.enabled&&D.IME.disable()}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChords=[],D.IME.enable()}_dispatch(i,t){return this._doDispatch(this.resolveKeyboardEvent(i),t,!1)}_singleModifierDispatch(i,t){const n=this.resolveKeyboardEvent(i),[c]=n.getSingleModifierDispatchChords();if(c)return this._ignoreSingleModifiers.has(c)?(this._log(`+ Ignoring single modifier ${c} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=o.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${c}.`),this._currentSingleModifier=c,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):c===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${c} ${c}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(n,t,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${c}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[m]=n.getChords();return this._ignoreSingleModifiers=new o(m),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(i,t,n=!1){var c;let m=!1;if(i.hasMultipleChords())return console.warn("Unexpected keyboard event mapped to multiple chords"),!1;let u=null,r=null;if(n){const[g]=i.getSingleModifierDispatchChords();u=g,r=g?[g]:[]}else[u]=i.getDispatchChords(),r=this._currentChords.map(({keypress:g})=>g);if(u===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),m;const a=this._contextKeyService.getContext(t),h=i.getLabel(),l=this._getResolver().resolve(a,r,u);switch(l.kind){case 0:{if(this._logService.trace("KeybindingService#dispatch",h,"[ No matching keybinding ]"),this.inChordMode){const g=this._currentChords.map(({label:d})=>d).join(", ");this._log(`+ Leaving multi-chord mode: Nothing bound to "${g}, ${h}".`),this._notificationService.status(p.localize(2,null,g,h),{hideAfter:10*1e3}),this._leaveChordMode(),m=!0}return m}case 1:return this._logService.trace("KeybindingService#dispatch",h,"[ Several keybindings match - more chords needed ]"),m=!0,this._expectAnotherChord(u,h),this._log(this._currentChords.length===1?"+ Entering multi-chord mode...":"+ Continuing multi-chord mode..."),m;case 2:{if(this._logService.trace("KeybindingService#dispatch",h,`[ Will dispatch command ${l.commandId} ]`),l.commandId===null||l.commandId===""){if(this.inChordMode){const g=this._currentChords.map(({label:d})=>d).join(", ");this._log(`+ Leaving chord mode: Nothing bound to "${g}, ${h}".`),this._notificationService.status(p.localize(3,null,g,h),{hideAfter:10*1e3}),this._leaveChordMode(),m=!0}}else{this.inChordMode&&this._leaveChordMode(),l.isBubble||(m=!0),this._log(`+ Invoking command ${l.commandId}.`),this._currentlyDispatchingCommandId=l.commandId;try{typeof l.commandArgs>"u"?this._commandService.executeCommand(l.commandId).then(void 0,g=>this._notificationService.warn(g)):this._commandService.executeCommand(l.commandId,l.commandArgs).then(void 0,g=>this._notificationService.warn(g))}finally{this._currentlyDispatchingCommandId=null}b.test(l.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:l.commandId,from:"keybinding",detail:(c=i.getUserSettingsLabel())!==null&&c!==void 0?c:void 0})}return m}}}mightProducePrintableCharacter(i){return i.ctrlKey||i.metaKey?!1:i.keyCode>=31&&i.keyCode<=56||i.keyCode>=21&&i.keyCode<=30}}e.AbstractKeybindingService=C;class o{constructor(i){this._ctrlKey=i?i.ctrlKey:!1,this._shiftKey=i?i.shiftKey:!1,this._altKey=i?i.altKey:!1,this._metaKey=i?i.metaKey:!1}has(i){switch(i){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}o.EMPTY=new o(null)}),define(ie[374],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedKeybindingItem=void 0,e.toEmptyArrayIfContainsNull=k;class f{constructor(D,y,p,w,b,C,o){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=D,this.chords=D?k(D.getDispatchChords()):[],D&&this.chords.length===0&&(this.chords=k(D.getSingleModifierDispatchChords())),this.bubble=y?y.charCodeAt(0)===94:!1,this.command=this.bubble?y.substr(1):y,this.commandArgs=p,this.when=w,this.isDefault=b,this.extensionId=C,this.isBuiltinExtension=o}}e.ResolvedKeybindingItem=f;function k(E){const D=[];for(let y=0,p=E.length;y<p;y++){const w=E[y];if(!w)return[];D.push(w)}return D}}),define(ie[824],ne([1,0,69,135,822,374]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.USLayoutResolvedKeybinding=void 0;class y extends E.BaseResolvedKeybinding{constructor(w,b){super(b,w)}_keyCodeToUILabel(w){if(this._os===2)switch(w){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return f.KeyCodeUtils.toString(w)}_getLabel(w){return w.isDuplicateModifierCase()?"":this._keyCodeToUILabel(w.keyCode)}_getAriaLabel(w){return w.isDuplicateModifierCase()?"":f.KeyCodeUtils.toString(w.keyCode)}_getElectronAccelerator(w){return f.KeyCodeUtils.toElectronAccelerator(w.keyCode)}_getUserSettingsLabel(w){if(w.isDuplicateModifierCase())return"";const b=f.KeyCodeUtils.toUserSettingsUS(w.keyCode);return b&&b.toLowerCase()}_getChordDispatch(w){return y.getDispatchStr(w)}static getDispatchStr(w){if(w.isModifierKey())return null;let b="";return w.ctrlKey&&(b+="ctrl+"),w.shiftKey&&(b+="shift+"),w.altKey&&(b+="alt+"),w.metaKey&&(b+="meta+"),b+=f.KeyCodeUtils.toString(w.keyCode),b}_getSingleModifierChordDispatch(w){return w.keyCode===5&&!w.shiftKey&&!w.altKey&&!w.metaKey?"ctrl":w.keyCode===4&&!w.ctrlKey&&!w.altKey&&!w.metaKey?"shift":w.keyCode===6&&!w.ctrlKey&&!w.shiftKey&&!w.metaKey?"alt":w.keyCode===57&&!w.ctrlKey&&!w.shiftKey&&!w.altKey?"meta":null}static _scanCodeToKeyCode(w){const b=f.IMMUTABLE_CODE_TO_KEY_CODE[w];if(b!==-1)return b;switch(w){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 88;case 52:return 86;case 53:return 92;case 54:return 94;case 55:return 93;case 56:return 0;case 57:return 85;case 58:return 95;case 59:return 91;case 60:return 87;case 61:return 89;case 62:return 90;case 106:return 97}return 0}static _toKeyCodeChord(w){if(!w)return null;if(w instanceof k.KeyCodeChord)return w;const b=this._scanCodeToKeyCode(w.scanCode);return b===0?null:new k.KeyCodeChord(w.ctrlKey,w.shiftKey,w.altKey,w.metaKey,b)}static resolveKeybinding(w,b){const C=(0,D.toEmptyArrayIfContainsNull)(w.chords.map(o=>this._toKeyCodeChord(o)));return C.length>0?[new y(C,b)]:[]}}e.USLayoutResolvedKeybinding=y}),define(ie[175],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILabelService=void 0,e.ILabelService=(0,f.createDecorator)("labelService")}),define(ie[116],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ILayoutService=void 0,e.ILayoutService=(0,f.createDecorator)("layoutService")}),define(ie[375],ne([1,0,6,52,13,7,36,48,116]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScopedLayoutService=void 0;let b=class{get mainContainer(){var s,i;return(i=(s=(0,E.firstOrDefault)(this._codeEditorService.listCodeEditors()))===null||s===void 0?void 0:s.getContainerDomNode())!==null&&i!==void 0?i:k.mainWindow.document.body}get activeContainer(){var s,i;const t=(s=this._codeEditorService.getFocusedCodeEditor())!==null&&s!==void 0?s:this._codeEditorService.getActiveCodeEditor();return(i=t?.getContainerDomNode())!==null&&i!==void 0?i:this.mainContainer}get mainContainerDimension(){return f.getClientArea(this.mainContainer)}get activeContainerDimension(){return f.getClientArea(this.activeContainer)}get containers(){return(0,E.coalesce)(this._codeEditorService.listCodeEditors().map(s=>s.getContainerDomNode()))}getContainer(){return this.activeContainer}whenContainerStylesLoaded(){}focus(){var s;(s=this._codeEditorService.getFocusedCodeEditor())===null||s===void 0||s.focus()}constructor(s){this._codeEditorService=s,this.onDidLayoutMainContainer=D.Event.None,this.onDidLayoutActiveContainer=D.Event.None,this.onDidLayoutContainer=D.Event.None,this.onDidChangeActiveContainer=D.Event.None,this.onDidAddContainer=D.Event.None,this.mainContainerOffset={top:0,quickPickTop:0},this.activeContainerOffset={top:0,quickPickTop:0}}};b=Ie([ue(0,y.ICodeEditorService)],b);let C=class extends b{get mainContainer(){return this._container}constructor(s,i){super(i),this._container=s}};e.EditorScopedLayoutService=C,e.EditorScopedLayoutService=C=Ie([ue(1,y.ICodeEditorService)],C),(0,p.registerSingleton)(w.ILayoutService,b,1)}),define(ie[825],ne([1,0,6,52,7,2,66,27,14,116]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityService=void 0;let C=class extends D.Disposable{constructor(s,i,t){super(),this._contextKeyService=s,this._layoutService=i,this._configurationService=t,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new E.Emitter,this._onDidChangeReducedMotion=new E.Emitter,this._accessibilityModeEnabledContext=y.CONTEXT_ACCESSIBILITY_MODE_ENABLED.bindTo(this._contextKeyService);const n=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration("editor.accessibilitySupport")&&(n(),this._onDidChangeScreenReaderOptimized.fire()),m.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),n(),this._register(this.onDidChangeScreenReaderOptimized(()=>n()));const c=k.mainWindow.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=c.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(c)}initReducedMotionListeners(s){this._register((0,f.addDisposableListener)(s,"change",()=>{this._systemMotionReduced=s.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const i=()=>{const t=this.isMotionReduced();this._layoutService.mainContainer.classList.toggle("reduce-motion",t),this._layoutService.mainContainer.classList.toggle("enable-motion",!t)};i(),this._register(this.onDidChangeReducedMotion(()=>i()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const s=this._configurationService.getValue("editor.accessibilitySupport");return s==="on"||s==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const s=this._configMotionReduced;return s==="on"||s==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};e.AccessibilityService=C,e.AccessibilityService=C=Ie([ue(0,w.IContextKeyService),ue(1,b.ILayoutService),ue(2,p.IConfigurationService)],C)}),define(ie[376],ne([1,0,340,2,116,6]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextViewService=e.ContextViewHandler=void 0;let y=class extends k.Disposable{constructor(b){super(),this.layoutService=b,this.contextView=this._register(new f.ContextView(this.layoutService.mainContainer,1)),this.layout(),this._register(b.onDidLayoutContainer(()=>this.layout()))}showContextView(b,C,o){let s;C?C===this.layoutService.getContainer((0,D.getWindow)(C))?s=1:o?s=3:s=2:s=1,this.contextView.setContainer(C??this.layoutService.activeContainer,s),this.contextView.show(b);const i={close:()=>{this.openContextView===i&&this.hideContextView()}};return this.openContextView=i,i}layout(){this.contextView.layout()}hideContextView(b){this.contextView.hide(b),this.openContextView=void 0}};e.ContextViewHandler=y,e.ContextViewHandler=y=Ie([ue(0,E.ILayoutService)],y);class p extends y{getContextViewElement(){return this.contextView.getViewElement()}}e.ContextViewService=p}),define(ie[60],ne([1,0,7,2,14,8]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CONTEXT_LOG_LEVEL=e.MultiplexLogger=e.ConsoleLogger=e.AbstractLogger=e.DEFAULT_LOG_LEVEL=e.LogLevel=e.ILogService=void 0,e.LogLevelToString=C,e.ILogService=(0,D.createDecorator)("logService");var y;(function(o){o[o.Off=0]="Off",o[o.Trace=1]="Trace",o[o.Debug=2]="Debug",o[o.Info=3]="Info",o[o.Warning=4]="Warning",o[o.Error=5]="Error"})(y||(e.LogLevel=y={})),e.DEFAULT_LOG_LEVEL=y.Info;class p extends k.Disposable{constructor(){super(...arguments),this.level=e.DEFAULT_LOG_LEVEL,this._onDidChangeLogLevel=this._register(new f.Emitter),this.onDidChangeLogLevel=this._onDidChangeLogLevel.event}setLevel(s){this.level!==s&&(this.level=s,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}checkLogLevel(s){return this.level!==y.Off&&this.level<=s}}e.AbstractLogger=p;class w extends p{constructor(s=e.DEFAULT_LOG_LEVEL,i=!0){super(),this.useColors=i,this.setLevel(s)}trace(s,...i){this.checkLogLevel(y.Trace)&&(this.useColors?console.log("%cTRACE","color: #888",s,...i):console.log(s,...i))}debug(s,...i){this.checkLogLevel(y.Debug)&&(this.useColors?console.log("%cDEBUG","background: #eee; color: #888",s,...i):console.log(s,...i))}info(s,...i){this.checkLogLevel(y.Info)&&(this.useColors?console.log("%c INFO","color: #33f",s,...i):console.log(s,...i))}warn(s,...i){this.checkLogLevel(y.Warning)&&(this.useColors?console.log("%c WARN","color: #993",s,...i):console.log(s,...i))}error(s,...i){this.checkLogLevel(y.Error)&&(this.useColors?console.log("%c  ERR","color: #f33",s,...i):console.error(s,...i))}}e.ConsoleLogger=w;class b extends p{constructor(s){super(),this.loggers=s,s.length&&this.setLevel(s[0].getLevel())}setLevel(s){for(const i of this.loggers)i.setLevel(s);super.setLevel(s)}trace(s,...i){for(const t of this.loggers)t.trace(s,...i)}debug(s,...i){for(const t of this.loggers)t.debug(s,...i)}info(s,...i){for(const t of this.loggers)t.info(s,...i)}warn(s,...i){for(const t of this.loggers)t.warn(s,...i)}error(s,...i){for(const t of this.loggers)t.error(s,...i)}dispose(){for(const s of this.loggers)s.dispose();super.dispose()}}e.MultiplexLogger=b;function C(o){switch(o){case y.Trace:return"trace";case y.Debug:return"debug";case y.Info:return"info";case y.Warning:return"warn";case y.Error:return"error";case y.Off:return"off"}}e.CONTEXT_LOG_LEVEL=new E.RawContextKey("logLevel",C(y.Info))}),define(ie[205],ne([1,0,63,6,89,46,287,15,7,2,123,12,302,24,66,60]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaWrapper=e.ClipboardEventUtils=e.TextAreaInput=e.InMemoryClipboardMetadataManager=e.CopyOptions=e.TextAreaSyntethicEvents=void 0;var c;(function(h){h.Tap="-monaco-textarea-synthetic-tap"})(c||(e.TextAreaSyntethicEvents=c={})),e.CopyOptions={forceCopyWithSyntaxHighlighting:!1};class m{constructor(){this._lastState=null}set(l,g){this._lastState={lastCopiedValue:l,data:g}}get(l){return this._lastState&&this._lastState.lastCopiedValue===l?this._lastState.data:(this._lastState=null,null)}}e.InMemoryClipboardMetadataManager=m,m.INSTANCE=new m;class u{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(l){l=l||"";const g={text:l,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=l.length,g}}let r=class extends b.Disposable{get textAreaState(){return this._textAreaState}constructor(l,g,d,v,_,S){super(),this._host=l,this._textArea=g,this._OS=d,this._browser=v,this._accessibilityService=_,this._logService=S,this._onFocus=this._register(new w.Emitter),this.onFocus=this._onFocus.event,this._onBlur=this._register(new w.Emitter),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new w.Emitter),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new w.Emitter),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new w.Emitter),this.onCut=this._onCut.event,this._onPaste=this._register(new w.Emitter),this.onPaste=this._onPaste.event,this._onType=this._register(new w.Emitter),this.onType=this._onType.event,this._onCompositionStart=this._register(new w.Emitter),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new w.Emitter),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new w.Emitter),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new w.Emitter),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncFocusGainWriteScreenReaderContent=this._register(new b.MutableDisposable),this._asyncTriggerCut=this._register(new p.RunOnceScheduler(()=>this._onCut.fire(),0)),this._textAreaState=s.TextAreaState.EMPTY,this._selectionChangeListener=null,this._accessibilityService.isScreenReaderOptimized()&&this.writeNativeTextAreaContent("ctor"),this._register(w.Event.runAndSubscribe(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>{this._accessibilityService.isScreenReaderOptimized()&&!this._asyncFocusGainWriteScreenReaderContent.value?this._asyncFocusGainWriteScreenReaderContent.value=this._register(new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)):this._asyncFocusGainWriteScreenReaderContent.clear()})),this._hasFocus=!1,this._currentComposition=null;let L=null;this._register(this._textArea.onKeyDown(I=>{const T=new D.StandardKeyboardEvent(I);(T.keyCode===114||this._currentComposition&&T.keyCode===1)&&T.stopPropagation(),T.equals(9)&&T.preventDefault(),L=T,this._onKeyDown.fire(T)})),this._register(this._textArea.onKeyUp(I=>{const T=new D.StandardKeyboardEvent(I);this._onKeyUp.fire(T)})),this._register(this._textArea.onCompositionStart(I=>{s._debugComposition&&console.log("[compositionstart]",I);const T=new u;if(this._currentComposition){this._currentComposition=T;return}if(this._currentComposition=T,this._OS===2&&L&&L.equals(114)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===I.data&&(L.code==="ArrowRight"||L.code==="ArrowLeft")){s._debugComposition&&console.log("[compositionstart] Handling long press case on macOS + arrow key",I),T.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:I.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:I.data});return}this._onCompositionStart.fire({data:I.data})})),this._register(this._textArea.onCompositionUpdate(I=>{s._debugComposition&&console.log("[compositionupdate]",I);const T=this._currentComposition;if(!T)return;if(this._browser.isAndroid){const A=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),O=s.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(O),this._onCompositionUpdate.fire(I);return}const N=T.handleCompositionUpdate(I.data);this._textAreaState=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionUpdate.fire(I)})),this._register(this._textArea.onCompositionEnd(I=>{s._debugComposition&&console.log("[compositionend]",I);const T=this._currentComposition;if(!T)return;if(this._currentComposition=null,this._browser.isAndroid){const A=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),O=s.TextAreaState.deduceAndroidCompositionInput(this._textAreaState,A);this._textAreaState=A,this._onType.fire(O),this._onCompositionEnd.fire();return}const N=T.handleCompositionUpdate(I.data);this._textAreaState=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),this._onType.fire(N),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(I=>{if(s._debugComposition&&console.log("[input]",I),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const T=s.TextAreaState.readFromTextArea(this._textArea,this._textAreaState),N=s.TextAreaState.deduceInput(this._textAreaState,T,this._OS===2);N.replacePrevCharCnt===0&&N.text.length===1&&(o.isHighSurrogate(N.text.charCodeAt(0))||N.text.charCodeAt(0)===127)||(this._textAreaState=T,(N.text!==""||N.replacePrevCharCnt!==0||N.replaceNextCharCnt!==0||N.positionDelta!==0)&&this._onType.fire(N))})),this._register(this._textArea.onCut(I=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(I),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(I=>{this._ensureClipboardGetsEditorSelection(I)})),this._register(this._textArea.onPaste(I=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),I.preventDefault(),!I.clipboardData)return;let[T,N]=e.ClipboardEventUtils.getTextData(I.clipboardData);T&&(N=N||m.INSTANCE.get(T),this._onPaste.fire({text:T,metadata:N}))})),this._register(this._textArea.onFocus(()=>{const I=this._hasFocus;this._setHasFocus(!0),this._accessibilityService.isScreenReaderOptimized()&&this._browser.isSafari&&!I&&this._hasFocus&&(this._asyncFocusGainWriteScreenReaderContent.value||(this._asyncFocusGainWriteScreenReaderContent.value=new p.RunOnceScheduler(()=>this.writeNativeTextAreaContent("asyncFocusGain"),0)),this._asyncFocusGainWriteScreenReaderContent.value.schedule())})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeNativeTextAreaContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let l=0;return k.addDisposableListener(this._textArea.ownerDocument,"selectionchange",g=>{if(y.inputLatency.onSelectionChange(),!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const d=Date.now(),v=d-l;if(l=d,v<5)return;const _=d-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),_<100||!this._textAreaState.selection)return;const S=this._textArea.getValue();if(this._textAreaState.value!==S)return;const L=this._textArea.getSelectionStart(),I=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===L&&this._textAreaState.selectionEnd===I)return;const T=this._textAreaState.deduceEditorPosition(L),N=this._host.deduceModelPosition(T[0],T[1],T[2]),A=this._textAreaState.deduceEditorPosition(I),O=this._host.deduceModelPosition(A[0],A[1],A[2]),M=new i.Selection(N.lineNumber,N.column,O.lineNumber,O.column);this._onSelectionChangeRequest.fire(M)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(l){this._hasFocus!==l&&(this._hasFocus=l,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeNativeTextAreaContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(l,g){this._hasFocus||(g=g.collapseSelection()),g.writeToTextArea(l,this._textArea,this._hasFocus),this._textAreaState=g}writeNativeTextAreaContent(l){!this._accessibilityService.isScreenReaderOptimized()&&l==="render"||this._currentComposition||(this._logService.trace(`writeTextAreaState(reason: ${l})`),this._setAndWriteTextAreaState(l,this._host.getScreenReaderContent()))}_ensureClipboardGetsEditorSelection(l){const g=this._host.getDataToCopy(),d={version:1,isFromEmptySelection:g.isFromEmptySelection,multicursorText:g.multicursorText,mode:g.mode};m.INSTANCE.set(this._browser.isFirefox?g.text.replace(/\r\n/g,`
`):g.text,d),l.preventDefault(),l.clipboardData&&e.ClipboardEventUtils.setTextData(l.clipboardData,g.text,g.html,d)}};e.TextAreaInput=r,e.TextAreaInput=r=Ie([ue(4,t.IAccessibilityService),ue(5,n.ILogService)],r),e.ClipboardEventUtils={getTextData(h){const l=h.getData(C.Mimes.text);let g=null;const d=h.getData("vscode-editor-data");if(typeof d=="string")try{g=JSON.parse(d),g.version!==1&&(g=null)}catch{}return l.length===0&&g===null&&h.files.length>0?[Array.prototype.slice.call(h.files,0).map(_=>_.name).join(`
`),null]:[l,g]},setTextData(h,l,g,d){h.setData(C.Mimes.text,l),typeof g=="string"&&h.setData("text/html",g),h.setData("vscode-editor-data",JSON.stringify(d))}};class a extends b.Disposable{get ownerDocument(){return this._actual.ownerDocument}constructor(l){super(),this._actual=l,this.onKeyDown=this._register(new E.DomEmitter(this._actual,"keydown")).event,this.onKeyUp=this._register(new E.DomEmitter(this._actual,"keyup")).event,this.onCompositionStart=this._register(new E.DomEmitter(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(new E.DomEmitter(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(new E.DomEmitter(this._actual,"compositionend")).event,this.onBeforeInput=this._register(new E.DomEmitter(this._actual,"beforeinput")).event,this.onInput=this._register(new E.DomEmitter(this._actual,"input")).event,this.onCut=this._register(new E.DomEmitter(this._actual,"cut")).event,this.onCopy=this._register(new E.DomEmitter(this._actual,"copy")).event,this.onPaste=this._register(new E.DomEmitter(this._actual,"paste")).event,this.onFocus=this._register(new E.DomEmitter(this._actual,"focus")).event,this.onBlur=this._register(new E.DomEmitter(this._actual,"blur")).event,this._onSyntheticTap=this._register(new w.Emitter),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(this.onKeyDown(()=>y.inputLatency.onKeyDown())),this._register(this.onBeforeInput(()=>y.inputLatency.onBeforeInput())),this._register(this.onInput(()=>y.inputLatency.onInput())),this._register(this.onKeyUp(()=>y.inputLatency.onKeyUp())),this._register(k.addDisposableListener(this._actual,c.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const l=k.getShadowRoot(this._actual);return l?l.activeElement===this._actual:this._actual.isConnected?k.getActiveElement()===this._actual:!1}setIgnoreSelectionChangeTime(l){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(l,g){const d=this._actual;d.value!==g&&(this.setIgnoreSelectionChangeTime("setValue"),d.value=g)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(l,g,d){const v=this._actual;let _=null;const S=k.getShadowRoot(v);S?_=S.activeElement:_=k.getActiveElement();const L=k.getWindow(_),I=_===v,T=v.selectionStart,N=v.selectionEnd;if(I&&T===g&&N===d){f.isFirefox&&L.parent!==L&&v.focus();return}if(I){this.setIgnoreSelectionChangeTime("setSelectionRange"),v.setSelectionRange(g,d),f.isFirefox&&L.parent!==L&&v.focus();return}try{const A=k.saveParentsScrollTop(v);this.setIgnoreSelectionChangeTime("setSelectionRange"),v.focus(),v.setSelectionRange(g,d),k.restoreParentsScrollTop(v,A)}catch{}}}e.TextAreaWrapper=a}),define(ie[84],ne([1,0,125,45,136,263,48,8,60,49]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageFeatureDebounceService=e.ILanguageFeatureDebounceService=void 0,e.ILanguageFeatureDebounceService=(0,p.createDecorator)("ILanguageFeatureDebounceService");var C;(function(t){const n=new WeakMap;let c=0;function m(u){let r=n.get(u);return r===void 0&&(r=++c,n.set(u,r)),r}t.of=m})(C||(C={}));class o{constructor(n){this._default=n}get(n){return this._default}update(n,c){return this._default}default(){return this._default}}class s{constructor(n,c,m,u,r,a){this._logService=n,this._name=c,this._registry=m,this._default=u,this._min=r,this._max=a,this._cache=new k.LRUCache(50,.7)}_key(n){return n.id+this._registry.all(n).reduce((c,m)=>(0,f.doHash)(C.of(m),c),0)}get(n){const c=this._key(n),m=this._cache.get(c);return m?(0,E.clamp)(m.value,this._min,this._max):this.default()}update(n,c){const m=this._key(n);let u=this._cache.get(m);u||(u=new E.SlidingWindowAverage(6),this._cache.set(m,u));const r=(0,E.clamp)(u.update(c),this._min,this._max);return(0,b.matchesScheme)(n.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${n.uri.toString()} is ${r}ms`),r}_overall(){const n=new E.MovingAverage;for(const[,c]of this._cache)n.update(c.value);return n.value}default(){const n=this._overall()|0||this._default;return(0,E.clamp)(n,this._min,this._max)}}let i=class{constructor(n,c){this._logService=n,this._data=new Map,this._isDev=c.isExtensionDevelopment||!c.isBuilt}for(n,c,m){var u,r,a;const h=(u=m?.min)!==null&&u!==void 0?u:50,l=(r=m?.max)!==null&&r!==void 0?r:h**2,g=(a=m?.key)!==null&&a!==void 0?a:void 0,d=`${C.of(n)},${h}${g?","+g:""}`;let v=this._data.get(d);return v||(this._isDev?(this._logService.debug(`[DEBOUNCE: ${c}] is disabled in developed mode`),v=new o(h*1.5)):v=new s(this._logService,c,n,this._overallAverage()|0||h*1.5,h,l),this._data.set(d,v)),v}_overallAverage(){const n=new E.MovingAverage;for(const c of this._data.values())n.update(c.default());return n.value}};e.LanguageFeatureDebounceService=i,e.LanguageFeatureDebounceService=i=Ie([ue(0,w.ILogService),ue(1,D.IEnvironmentService)],i),(0,y.registerSingleton)(e.ILanguageFeatureDebounceService,i,1)}),define(ie[176],ne([1,0,13,19,10,54,45,9,5,84,8,48,53,2,18]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OutlineModelService=e.IOutlineModelService=e.OutlineModel=e.OutlineGroup=e.OutlineElement=e.TreeElement=void 0;class n{remove(){var h;(h=this.parent)===null||h===void 0||h.children.delete(this.id)}static findId(h,l){let g;typeof h=="string"?g=`${l.id}/${h}`:(g=`${l.id}/${h.name}`,l.children.get(g)!==void 0&&(g=`${l.id}/${h.name}_${h.range.startLineNumber}_${h.range.startColumn}`));let d=g;for(let v=0;l.children.get(d)!==void 0;v++)d=`${g}_${v}`;return d}static empty(h){return h.children.size===0}}e.TreeElement=n;class c extends n{constructor(h,l,g){super(),this.id=h,this.parent=l,this.symbol=g,this.children=new Map}}e.OutlineElement=c;class m extends n{constructor(h,l,g,d){super(),this.id=h,this.parent=l,this.label=g,this.order=d,this.children=new Map}}e.OutlineGroup=m;class u extends n{static create(h,l,g){const d=new k.CancellationTokenSource(g),v=new u(l.uri),_=h.ordered(l),S=_.map((I,T)=>{var N;const A=n.findId(`provider_${T}`,v),O=new m(A,v,(N=I.displayName)!==null&&N!==void 0?N:"Unknown Outline Provider",T);return Promise.resolve(I.provideDocumentSymbols(l,d.token)).then(M=>{for(const R of M||[])u._makeOutlineElement(R,O);return O},M=>((0,E.onUnexpectedExternalError)(M),O)).then(M=>{n.empty(M)?M.remove():v._groups.set(A,M)})}),L=h.onDidChange(()=>{const I=h.ordered(l);(0,f.equals)(I,_)||d.cancel()});return Promise.all(S).then(()=>d.token.isCancellationRequested&&!g.isCancellationRequested?u.create(h,l,g):v._compact()).finally(()=>{d.dispose(),L.dispose(),d.dispose()})}static _makeOutlineElement(h,l){const g=n.findId(h,l),d=new c(g,l,h);if(h.children)for(const v of h.children)u._makeOutlineElement(v,d);l.children.set(d.id,d)}constructor(h){super(),this.uri=h,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}_compact(){let h=0;for(const[l,g]of this._groups)g.children.size===0?this._groups.delete(l):h+=1;if(h!==1)this.children=this._groups;else{const l=D.Iterable.first(this._groups.values());for(const[,g]of l.children)g.parent=this,this.children.set(g.id,g)}return this}getTopLevelSymbols(){const h=[];for(const l of this.children.values())l instanceof c?h.push(l.symbol):h.push(...D.Iterable.map(l.children.values(),g=>g.symbol));return h.sort((l,g)=>w.Range.compareRangesUsingStarts(l.range,g.range))}asListOfDocumentSymbols(){const h=this.getTopLevelSymbols(),l=[];return u._flattenDocumentSymbols(l,h,""),l.sort((g,d)=>p.Position.compare(w.Range.getStartPosition(g.range),w.Range.getStartPosition(d.range))||p.Position.compare(w.Range.getEndPosition(d.range),w.Range.getEndPosition(g.range)))}static _flattenDocumentSymbols(h,l,g){for(const d of l)h.push({kind:d.kind,tags:d.tags,name:d.name,detail:d.detail,containerName:d.containerName||g,range:d.range,selectionRange:d.selectionRange,children:void 0}),d.children&&u._flattenDocumentSymbols(h,d.children,d.name)}}e.OutlineModel=u,e.IOutlineModelService=(0,C.createDecorator)("IOutlineModelService");let r=class{constructor(h,l,g){this._languageFeaturesService=h,this._disposables=new i.DisposableStore,this._cache=new y.LRUCache(10,.7),this._debounceInformation=l.for(h.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(g.onModelRemoved(d=>{this._cache.delete(d.id)}))}dispose(){this._disposables.dispose()}async getOrCreate(h,l){const g=this._languageFeaturesService.documentSymbolProvider,d=g.ordered(h);let v=this._cache.get(h.id);if(!v||v.versionId!==h.getVersionId()||!(0,f.equals)(v.provider,d)){const S=new k.CancellationTokenSource;v={versionId:h.getVersionId(),provider:d,promiseCnt:0,source:S,promise:u.create(g,h,S.token),model:void 0},this._cache.set(h.id,v);const L=Date.now();v.promise.then(I=>{v.model=I,this._debounceInformation.update(h,Date.now()-L)}).catch(I=>{this._cache.delete(h.id)})}if(v.model)return v.model;v.promiseCnt+=1;const _=l.onCancellationRequested(()=>{--v.promiseCnt===0&&(v.source.cancel(),this._cache.delete(h.id))});try{return await v.promise}finally{_.dispose()}}};e.OutlineModelService=r,e.OutlineModelService=r=Ie([ue(0,t.ILanguageFeaturesService),ue(1,b.ILanguageFeatureDebounceService),ue(2,s.IModelService)],r),(0,o.registerSingleton)(e.IOutlineModelService,r,1)}),define(ie[826],ne([1,0,13,30,365,83,18,176,2,7]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0});let C=class extends w.Disposable{constructor(s,i,t){super(),this._textModel=s,this._languageFeaturesService=i,this._outlineModelService=t,this._currentModel=(0,k.observableValue)(this,void 0);const n=(0,k.observableSignalFromEvent)("documentSymbolProvider.onDidChange",this._languageFeaturesService.documentSymbolProvider.onDidChange),c=(0,k.observableSignalFromEvent)("_textModel.onDidChangeContent",b.Event.debounce(m=>this._textModel.onDidChangeContent(m),()=>{},100));this._register((0,k.autorunWithStore)(async(m,u)=>{n.read(m),c.read(m);const r=u.add(new D.DisposableCancellationTokenSource),a=await this._outlineModelService.getOrCreate(this._textModel,r.token);u.isDisposed||this._currentModel.set(a,void 0)}))}getBreadcrumbItems(s,i){const t=this._currentModel.read(i);if(!t)return[];const n=t.asListOfDocumentSymbols().filter(c=>s.contains(c.range.startLineNumber)&&!s.contains(c.range.endLineNumber));return n.sort((0,f.reverseOrder)((0,f.compareBy)(c=>c.range.endLineNumber-c.range.startLineNumber,f.numberComparator))),n.map(c=>({name:c.name,kind:c.kind,startLineNumber:c.range.startLineNumber}))}};C=Ie([ue(1,y.ILanguageFeaturesService),ue(2,p.IOutlineModelService)],C),E.HideUnchangedRegionsFeature.setBreadcrumbsSourceFactory((o,s)=>s.createInstance(C,o))}),define(ie[827],ne([1,0,19,20,22,74,176,25]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),p.CommandsRegistry.registerCommand("_executeDocumentSymbolProvider",async function(w,...b){const[C]=b;(0,k.assertType)(E.URI.isUri(C));const o=w.get(y.IOutlineModelService),i=await w.get(D.ITextModelService).createModelReference(C);try{return(await o.getOrCreate(i.object.textEditorModel,f.CancellationToken.None)).getTopLevelSymbols()}finally{i.dispose()}})}),define(ie[828],ne([1,0,63,6,52,15,7,125,2,116,60]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.BrowserClipboardService=void 0;let s=o=class extends w.Disposable{constructor(t,n){super(),this.layoutService=t,this.logService=n,this.mapTextToType=new Map,this.findText="",this.resources=[],this.resourcesStateHash=void 0,(f.isSafari||f.isWebkitWebView)&&this.installWebKitWriteTextWorkaround(),this._register(y.Event.runAndSubscribe(k.onDidRegisterWindow,({window:c,disposables:m})=>{m.add((0,k.addDisposableListener)(c.document,"copy",()=>this.clearResources()))},{window:E.mainWindow,disposables:this._store}))}installWebKitWriteTextWorkaround(){const t=()=>{const n=new D.DeferredPromise;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=n,navigator.clipboard.write([new ClipboardItem({"text/plain":n.p})]).catch(async c=>{(!(c instanceof Error)||c.name!=="NotAllowedError"||!n.isRejected)&&this.logService.error(c)})};this._register(y.Event.runAndSubscribe(this.layoutService.onDidAddContainer,({container:n,disposables:c})=>{c.add((0,k.addDisposableListener)(n,"click",t)),c.add((0,k.addDisposableListener)(n,"keydown",t))},{container:this.layoutService.mainContainer,disposables:this._store}))}async writeText(t,n){if(this.writeResources([]),n){this.mapTextToType.set(n,t);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(t);try{return await navigator.clipboard.writeText(t)}catch(c){console.error(c)}this.fallbackWriteText(t)}fallbackWriteText(t){const n=(0,k.getActiveDocument)(),c=n.activeElement,m=n.body.appendChild((0,k.$)("textarea",{"aria-hidden":!0}));m.style.height="1px",m.style.width="1px",m.style.position="absolute",m.value=t,m.focus(),m.select(),n.execCommand("copy"),c instanceof HTMLElement&&c.focus(),n.body.removeChild(m)}async readText(t){if(t)return this.mapTextToType.get(t)||"";try{return await navigator.clipboard.readText()}catch(n){console.error(n)}return""}async readFindText(){return this.findText}async writeFindText(t){this.findText=t}async writeResources(t){t.length===0?this.clearResources():(this.resources=t,this.resourcesStateHash=await this.computeResourcesStateHash())}async readResources(){const t=await this.computeResourcesStateHash();return this.resourcesStateHash!==t&&this.clearResources(),this.resources}async computeResourcesStateHash(){if(this.resources.length===0)return;const t=await this.readText();return(0,p.hash)(t.substring(0,o.MAX_RESOURCE_STATE_SOURCE_LENGTH))}clearResources(){this.resources=[],this.resourcesStateHash=void 0}};e.BrowserClipboardService=s,s.MAX_RESOURCE_STATE_SOURCE_LENGTH=1e3,e.BrowserClipboardService=s=o=Ie([ue(0,b.ILayoutService),ue(1,C.ILogService)],s)}),define(ie[829],ne([1,0,2,60]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogService=void 0;class E extends f.Disposable{constructor(y,p=[]){super(),this.logger=new k.MultiplexLogger([y,...p]),this._register(y.onDidChangeLogLevel(w=>this.setLevel(w)))}get onDidChangeLogLevel(){return this.logger.onDidChangeLogLevel}setLevel(y){this.logger.setLevel(y)}getLevel(){return this.logger.getLevel()}trace(y,...p){this.logger.trace(y,...p)}debug(y,...p){this.logger.debug(y,...p)}info(y,...p){this.logger.info(y,...p)}warn(y,...p){this.logger.warn(y,...p)}error(y,...p){this.logger.error(y,...p)}}e.LogService=E}),define(ie[104],ne([1,0,107,784,8]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerService=e.IMarkerData=e.MarkerSeverity=void 0;var D;(function(p){p[p.Hint=1]="Hint",p[p.Info=2]="Info",p[p.Warning=4]="Warning",p[p.Error=8]="Error"})(D||(e.MarkerSeverity=D={})),function(p){function w(i,t){return t-i}p.compare=w;const b=Object.create(null);b[p.Error]=(0,k.localize)(0,null),b[p.Warning]=(0,k.localize)(1,null),b[p.Info]=(0,k.localize)(2,null);function C(i){return b[i]||""}p.toString=C;function o(i){switch(i){case f.default.Error:return p.Error;case f.default.Warning:return p.Warning;case f.default.Info:return p.Info;case f.default.Ignore:return p.Hint}}p.fromSeverity=o;function s(i){switch(i){case p.Error:return f.default.Error;case p.Warning:return f.default.Warning;case p.Info:return f.default.Info;case p.Hint:return f.default.Ignore}}p.toSeverity=s}(D||(e.MarkerSeverity=D={}));var y;(function(p){const w="";function b(o){return C(o,!0)}p.makeKey=b;function C(o,s){const i=[w];return o.source?i.push(o.source.replace("\xA6","\\\xA6")):i.push(w),o.code?typeof o.code=="string"?i.push(o.code.replace("\xA6","\\\xA6")):i.push(o.code.value.replace("\xA6","\\\xA6")):i.push(w),o.severity!==void 0&&o.severity!==null?i.push(D.toString(o.severity)):i.push(w),o.message&&s?i.push(o.message.replace("\xA6","\\\xA6")):i.push(w),o.startLineNumber!==void 0&&o.startLineNumber!==null?i.push(o.startLineNumber.toString()):i.push(w),o.startColumn!==void 0&&o.startColumn!==null?i.push(o.startColumn.toString()):i.push(w),o.endLineNumber!==void 0&&o.endLineNumber!==null?i.push(o.endLineNumber.toString()):i.push(w),o.endColumn!==void 0&&o.endColumn!==null?i.push(o.endColumn.toString()):i.push(w),i.push(w),i.join("\xA6")}p.makeKeyOptionalMessage=C})(y||(e.IMarkerData=y={})),e.IMarkerService=(0,E.createDecorator)("markerService")}),define(ie[830],ne([1,0,13,7,2,70,12,22,5,48,8,104,27]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IMarkerNavigationService=e.MarkerList=e.MarkerCoordinate=void 0;class i{constructor(m,u,r){this.marker=m,this.index=u,this.total=r}}e.MarkerCoordinate=i;let t=class{constructor(m,u,r){this._markerService=u,this._configService=r,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._dispoables=new E.DisposableStore,this._markers=[],this._nextIdx=-1,p.URI.isUri(m)?this._resourceFilter=g=>g.toString()===m.toString():m&&(this._resourceFilter=m);const a=this._configService.getValue("problems.sortOrder"),h=(g,d)=>{let v=(0,y.compare)(g.resource.toString(),d.resource.toString());return v===0&&(a==="position"?v=w.Range.compareRangesUsingStarts(g,d)||o.MarkerSeverity.compare(g.severity,d.severity):v=o.MarkerSeverity.compare(g.severity,d.severity)||w.Range.compareRangesUsingStarts(g,d)),v},l=()=>{this._markers=this._markerService.read({resource:p.URI.isUri(m)?m:void 0,severities:o.MarkerSeverity.Error|o.MarkerSeverity.Warning|o.MarkerSeverity.Info}),typeof m=="function"&&(this._markers=this._markers.filter(g=>this._resourceFilter(g.resource))),this._markers.sort(h)};l(),this._dispoables.add(u.onMarkerChanged(g=>{(!this._resourceFilter||g.some(d=>this._resourceFilter(d)))&&(l(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(m){return!this._resourceFilter&&!m?!0:!this._resourceFilter||!m?!1:this._resourceFilter(m)}get selected(){const m=this._markers[this._nextIdx];return m&&new i(m,this._nextIdx+1,this._markers.length)}_initIdx(m,u,r){let a=!1,h=this._markers.findIndex(l=>l.resource.toString()===m.uri.toString());h<0&&(h=(0,f.binarySearch)(this._markers,{resource:m.uri},(l,g)=>(0,y.compare)(l.resource.toString(),g.resource.toString())),h<0&&(h=~h));for(let l=h;l<this._markers.length;l++){let g=w.Range.lift(this._markers[l]);if(g.isEmpty()){const d=m.getWordAtPosition(g.getStartPosition());d&&(g=new w.Range(g.startLineNumber,d.startColumn,g.startLineNumber,d.endColumn))}if(u&&(g.containsPosition(u)||u.isBeforeOrEqual(g.getStartPosition()))){this._nextIdx=l,a=!0;break}if(this._markers[l].resource.toString()!==m.uri.toString())break}a||(this._nextIdx=r?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(m,u,r){if(this._markers.length===0)return!1;const a=this._nextIdx;return this._nextIdx===-1?this._initIdx(u,r,m):m?this._nextIdx=(this._nextIdx+1)%this._markers.length:m||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),a!==this._nextIdx}find(m,u){let r=this._markers.findIndex(a=>a.resource.toString()===m.toString());if(!(r<0)){for(;r<this._markers.length;r++)if(w.Range.containsPosition(this._markers[r],u))return new i(this._markers[r],r+1,this._markers.length)}}};e.MarkerList=t,e.MarkerList=t=Ie([ue(1,o.IMarkerService),ue(2,s.IConfigurationService)],t),e.IMarkerNavigationService=(0,C.createDecorator)("IMarkerNavigationService");let n=class{constructor(m,u){this._markerService=m,this._configService=u,this._provider=new D.LinkedList}getMarkerList(m){for(const u of this._provider){const r=u.getMarkerList(m);if(r)return r}return new t(m,this._markerService,this._configService)}};n=Ie([ue(0,o.IMarkerService),ue(1,s.IConfigurationService)],n),(0,b.registerSingleton)(e.IMarkerNavigationService,n,1)}),define(ie[831],ne([1,0,13,7,54,45,49,22,104]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerService=e.unsupportedSchemas=void 0,e.unsupportedSchemas=new Set([y.Schemas.inMemory,y.Schemas.vscodeSourceControl,y.Schemas.walkThrough,y.Schemas.walkThroughSnippet,y.Schemas.vscodeChatCodeBlock]);class b{constructor(){this._byResource=new D.ResourceMap,this._byOwner=new Map}set(i,t,n){let c=this._byResource.get(i);c||(c=new Map,this._byResource.set(i,c)),c.set(t,n);let m=this._byOwner.get(t);m||(m=new D.ResourceMap,this._byOwner.set(t,m)),m.set(i,n)}get(i,t){const n=this._byResource.get(i);return n?.get(t)}delete(i,t){let n=!1,c=!1;const m=this._byResource.get(i);m&&(n=m.delete(t));const u=this._byOwner.get(t);if(u&&(c=u.delete(i)),n!==c)throw new Error("illegal state");return n&&c}values(i){var t,n,c,m;return typeof i=="string"?(n=(t=this._byOwner.get(i))===null||t===void 0?void 0:t.values())!==null&&n!==void 0?n:E.Iterable.empty():p.URI.isUri(i)?(m=(c=this._byResource.get(i))===null||c===void 0?void 0:c.values())!==null&&m!==void 0?m:E.Iterable.empty():E.Iterable.map(E.Iterable.concat(...this._byOwner.values()),u=>u[1])}}class C{constructor(i){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new D.ResourceMap,this._service=i,this._subscription=i.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(i){for(const t of i){const n=this._data.get(t);n&&this._substract(n);const c=this._resourceStats(t);this._add(c),this._data.set(t,c)}}_resourceStats(i){const t={errors:0,warnings:0,infos:0,unknowns:0};if(e.unsupportedSchemas.has(i.scheme))return t;for(const{severity:n}of this._service.read({resource:i}))n===w.MarkerSeverity.Error?t.errors+=1:n===w.MarkerSeverity.Warning?t.warnings+=1:n===w.MarkerSeverity.Info?t.infos+=1:t.unknowns+=1;return t}_substract(i){this.errors-=i.errors,this.warnings-=i.warnings,this.infos-=i.infos,this.unknowns-=i.unknowns}_add(i){this.errors+=i.errors,this.warnings+=i.warnings,this.infos+=i.infos,this.unknowns+=i.unknowns}}class o{constructor(){this._onMarkerChanged=new k.DebounceEmitter({delay:0,merge:o._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new b,this._stats=new C(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(i,t){for(const n of t||[])this.changeOne(i,n,[])}changeOne(i,t,n){if((0,f.isFalsyOrEmpty)(n))this._data.delete(t,i)&&this._onMarkerChanged.fire([t]);else{const c=[];for(const m of n){const u=o._toMarker(i,t,m);u&&c.push(u)}this._data.set(t,i,c),this._onMarkerChanged.fire([t])}}static _toMarker(i,t,n){let{code:c,severity:m,message:u,source:r,startLineNumber:a,startColumn:h,endLineNumber:l,endColumn:g,relatedInformation:d,tags:v}=n;if(u)return a=a>0?a:1,h=h>0?h:1,l=l>=a?l:a,g=g>0?g:h,{resource:t,owner:i,code:c,severity:m,message:u,source:r,startLineNumber:a,startColumn:h,endLineNumber:l,endColumn:g,relatedInformation:d,tags:v}}changeAll(i,t){const n=[],c=this._data.values(i);if(c)for(const m of c){const u=E.Iterable.first(m);u&&(n.push(u.resource),this._data.delete(u.resource,i))}if((0,f.isNonEmptyArray)(t)){const m=new D.ResourceMap;for(const{resource:u,marker:r}of t){const a=o._toMarker(i,u,r);if(!a)continue;const h=m.get(u);h?h.push(a):(m.set(u,[a]),n.push(u))}for(const[u,r]of m)this._data.set(u,i,r)}n.length>0&&this._onMarkerChanged.fire(n)}read(i=Object.create(null)){let{owner:t,resource:n,severities:c,take:m}=i;if((!m||m<0)&&(m=-1),t&&n){const u=this._data.get(n,t);if(u){const r=[];for(const a of u)if(o._accept(a,c)){const h=r.push(a);if(m>0&&h===m)break}return r}else return[]}else if(!t&&!n){const u=[];for(const r of this._data.values())for(const a of r)if(o._accept(a,c)){const h=u.push(a);if(m>0&&h===m)return u}return u}else{const u=this._data.values(n??t),r=[];for(const a of u)for(const h of a)if(o._accept(h,c)){const l=r.push(h);if(m>0&&l===m)return r}return r}}static _accept(i,t){return t===void 0||(t&i.severity)===i.severity}static _merge(i){const t=new D.ResourceMap;for(const n of i)for(const c of n)t.set(c,!0);return Array.from(t.keys())}}e.MarkerService=o}),define(ie[51],ne([1,0,107,8]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NoOpNotification=e.INotificationService=e.Severity=void 0,e.Severity=f.default,e.INotificationService=(0,k.createDecorator)("notificationService");class E{}e.NoOpNotification=E}),define(ie[61],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IOpenerService=void 0,e.extractSelection=k,e.IOpenerService=(0,f.createDecorator)("openerService");function k(E){let D;const y=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(E.fragment);return y&&(D={startLineNumber:parseInt(y[1]),startColumn:y[2]?parseInt(y[2]):1,endLineNumber:y[4]?parseInt(y[4]):void 0,endColumn:y[4]?y[5]?parseInt(y[5]):1:void 0},E=E.with({fragment:""})),{selection:D,uri:E}}}),define(ie[832],ne([1,0,6,52,19,70,45,245,49,50,22,36,25,806,61]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OpenerService=void 0;let n=class{constructor(r){this._commandService=r}async open(r,a){if(!(0,w.matchesScheme)(r,w.Schemas.command))return!1;if(!a?.allowCommands||(typeof r=="string"&&(r=C.URI.parse(r)),Array.isArray(a.allowCommands)&&!a.allowCommands.includes(r.path)))return!0;let h=[];try{h=(0,p.parse)(decodeURIComponent(r.query))}catch{try{h=(0,p.parse)(r.query)}catch{}}return Array.isArray(h)||(h=[h]),await this._commandService.executeCommand(r.path,...h),!0}};n=Ie([ue(0,s.ICommandService)],n);let c=class{constructor(r){this._editorService=r}async open(r,a){typeof r=="string"&&(r=C.URI.parse(r));const{selection:h,uri:l}=(0,t.extractSelection)(r);return r=l,r.scheme===w.Schemas.file&&(r=(0,b.normalizePath)(r)),await this._editorService.openCodeEditor({resource:r,options:{selection:h,source:a?.fromUserGesture?i.EditorOpenSource.USER:i.EditorOpenSource.API,...a?.editorOptions}},this._editorService.getFocusedCodeEditor(),a?.openToSide),!0}};c=Ie([ue(0,o.ICodeEditorService)],c);let m=class{constructor(r,a){this._openers=new D.LinkedList,this._validators=new D.LinkedList,this._resolvers=new D.LinkedList,this._resolvedUriTargets=new y.ResourceMap(h=>h.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new D.LinkedList,this._defaultExternalOpener={openExternal:async h=>((0,w.matchesSomeScheme)(h,w.Schemas.http,w.Schemas.https)?f.windowOpenNoOpener(h):k.mainWindow.location.href=h,!0)},this._openers.push({open:async(h,l)=>l?.openExternal||(0,w.matchesSomeScheme)(h,w.Schemas.mailto,w.Schemas.http,w.Schemas.https,w.Schemas.vsls)?(await this._doOpenExternal(h,l),!0):!1}),this._openers.push(new n(a)),this._openers.push(new c(r))}registerOpener(r){return{dispose:this._openers.unshift(r)}}async open(r,a){var h;const l=typeof r=="string"?C.URI.parse(r):r,g=(h=this._resolvedUriTargets.get(l))!==null&&h!==void 0?h:r;for(const d of this._validators)if(!await d.shouldOpen(g,a))return!1;for(const d of this._openers)if(await d.open(r,a))return!0;return!1}async resolveExternalUri(r,a){for(const h of this._resolvers)try{const l=await h.resolveExternalUri(r,a);if(l)return this._resolvedUriTargets.has(l.resolved)||this._resolvedUriTargets.set(l.resolved,r),l}catch{}throw new Error("Could not resolve external URI: "+r.toString())}async _doOpenExternal(r,a){const h=typeof r=="string"?C.URI.parse(r):r;let l;try{l=(await this.resolveExternalUri(h,a)).resolved}catch{l=h}let g;if(typeof r=="string"&&h.toString()===l.toString()?g=r:g=encodeURI(l.toString(!0)),a?.allowContributedOpeners){const d=typeof a?.allowContributedOpeners=="string"?a?.allowContributedOpeners:void 0;for(const v of this._externalOpeners)if(await v.openExternal(g,{sourceUri:h,preferredOpenerId:d},E.CancellationToken.None))return!0}return this._defaultExternalOpener.openExternal(g,{sourceUri:h},E.CancellationToken.None)}dispose(){this._validators.clear()}};e.OpenerService=m,e.OpenerService=m=Ie([ue(0,o.ICodeEditorService),ue(1,s.ICommandService)],m)}),define(ie[833],ne([1,0,6,89,46,68,7,2,61,44,115,519]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Link=void 0;let o=class extends p.Disposable{get enabled(){return this._enabled}set enabled(i){i?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=i}constructor(i,t,n={},c,m){var u,r;super(),this._link=t,this._hoverService=c,this._enabled=!0,this.el=(0,f.append)(i,(0,f.$)("a.monaco-link",{tabIndex:(u=t.tabIndex)!==null&&u!==void 0?u:0,href:t.href},t.label)),this.hoverDelegate=(r=n.hoverDelegate)!==null&&r!==void 0?r:(0,b.getDefaultHoverDelegate)("mouse"),this.setTooltip(t.title),this.el.setAttribute("role","button");const a=this._register(new k.DomEmitter(this.el,"click")),h=this._register(new k.DomEmitter(this.el,"keypress")),l=y.Event.chain(h.event,v=>v.map(_=>new E.StandardKeyboardEvent(_)).filter(_=>_.keyCode===3)),g=this._register(new k.DomEmitter(this.el,D.EventType.Tap)).event;this._register(D.Gesture.addTarget(this.el));const d=y.Event.any(a.event,l,g);this._register(d(v=>{this.enabled&&(f.EventHelper.stop(v,!0),n?.opener?n.opener(this._link.href):m.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}setTooltip(i){this.hoverDelegate.showNativeHover?this.el.title=i??"":!this.hover&&i?this.hover=this._register(this._hoverService.setupUpdatableHover(this.hoverDelegate,this.el,i)):this.hover&&this.hover.update(i)}};e.Link=o,e.Link=o=Ie([ue(3,C.IHoverService),ue(4,w.IOpenerService)],o)}),define(ie[92],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IEditorProgressService=e.Progress=e.emptyProgressRunner=e.IProgressService=void 0,e.IProgressService=(0,f.createDecorator)("progressService"),e.emptyProgressRunner=Object.freeze({total(){},worked(){},done(){}});class k{constructor(D){this.callback=D}report(D){this._value=D,this.callback(this._value)}}e.Progress=k,k.None=Object.freeze({report(){}}),e.IEditorProgressService=(0,f.createDecorator)("editorProgressService")}),define(ie[834],ne([1,0,15,19,2,20]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PickerQuickAccessProvider=e.TriggerAction=void 0;var y;(function(C){C[C.NO_ACTION=0]="NO_ACTION",C[C.CLOSE_PICKER=1]="CLOSE_PICKER",C[C.REFRESH_PICKER=2]="REFRESH_PICKER",C[C.REMOVE_ITEM=3]="REMOVE_ITEM"})(y||(e.TriggerAction=y={}));function p(C){const o=C;return Array.isArray(o.items)}function w(C){const o=C;return!!o.picks&&o.additionalPicks instanceof Promise}class b extends E.Disposable{constructor(o,s){super(),this.prefix=o,this.options=s}provide(o,s,i){var t;const n=new E.DisposableStore;o.canAcceptInBackground=!!(!((t=this.options)===null||t===void 0)&&t.canAcceptInBackground),o.matchOnLabel=o.matchOnDescription=o.matchOnDetail=o.sortByLabel=!1;let c;const m=n.add(new E.MutableDisposable),u=async()=>{var a;const h=m.value=new E.DisposableStore;c?.dispose(!0),o.busy=!1,c=new k.CancellationTokenSource(s);const l=c.token;let g=o.value.substring(this.prefix.length);!((a=this.options)===null||a===void 0)&&a.shouldSkipTrimPickFilter||(g=g.trim());const d=this._getPicks(g,h,l,i),v=(S,L)=>{var I;let T,N;if(p(S)?(T=S.items,N=S.active):T=S,T.length===0){if(L)return!1;(g.length>0||o.hideInput)&&(!((I=this.options)===null||I===void 0)&&I.noResultsPick)&&((0,D.isFunction)(this.options.noResultsPick)?T=[this.options.noResultsPick(g)]:T=[this.options.noResultsPick])}return o.items=T,N&&(o.activeItems=[N]),!0},_=async S=>{let L=!1,I=!1;await Promise.all([(async()=>{typeof S.mergeDelay=="number"&&(await(0,f.timeout)(S.mergeDelay),l.isCancellationRequested)||I||(L=v(S.picks,!0))})(),(async()=>{o.busy=!0;try{const T=await S.additionalPicks;if(l.isCancellationRequested)return;let N,A;p(S.picks)?(N=S.picks.items,A=S.picks.active):N=S.picks;let O,M;if(p(T)?(O=T.items,M=T.active):O=T,O.length>0||!L){let R;if(!A&&!M){const x=o.activeItems[0];x&&N.indexOf(x)!==-1&&(R=x)}v({items:[...N,...O],active:A||M||R})}}finally{l.isCancellationRequested||(o.busy=!1),I=!0}})()])};if(d!==null)if(w(d))await _(d);else if(!(d instanceof Promise))v(d);else{o.busy=!0;try{const S=await d;if(l.isCancellationRequested)return;w(S)?await _(S):v(S)}finally{l.isCancellationRequested||(o.busy=!1)}}};n.add(o.onDidChangeValue(()=>u())),u(),n.add(o.onDidAccept(a=>{const[h]=o.selectedItems;typeof h?.accept=="function"&&(a.inBackground||o.hide(),h.accept(o.keyMods,a))}));const r=async(a,h)=>{var l,g;if(typeof h.trigger!="function")return;const d=(g=(l=h.buttons)===null||l===void 0?void 0:l.indexOf(a))!==null&&g!==void 0?g:-1;if(d>=0){const v=h.trigger(d,o.keyMods),_=typeof v=="number"?v:await v;if(s.isCancellationRequested)return;switch(_){case y.NO_ACTION:break;case y.CLOSE_PICKER:o.hide();break;case y.REFRESH_PICKER:u();break;case y.REMOVE_ITEM:{const S=o.items.indexOf(h);if(S!==-1){const L=o.items.slice(),I=L.splice(S,1),T=o.activeItems.filter(A=>A!==I[0]),N=o.keepScrollPosition;o.keepScrollPosition=!0,o.items=L,T&&(o.activeItems=T),o.keepScrollPosition=N}break}}}};return n.add(o.onDidTriggerItemButton(({button:a,item:h})=>r(a,h))),n.add(o.onDidTriggerSeparatorButton(({button:a,separator:h})=>r(a,h))),n}}e.PickerQuickAccessProvider=b}),define(ie[835],ne([1,0,6,253,2,107,222]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputBox=void 0;const y=f.$;class p extends E.Disposable{constructor(b,C,o){super(),this.parent=b,this.onKeyDown=i=>f.addStandardDisposableListener(this.findInput.inputBox.inputElement,f.EventType.KEY_DOWN,i),this.onDidChange=i=>this.findInput.onDidChange(i),this.container=f.append(this.parent,y(".quick-input-box")),this.findInput=this._register(new k.FindInput(this.container,void 0,{label:"",inputBoxStyles:C,toggleStyles:o}));const s=this.findInput.inputBox.inputElement;s.role="combobox",s.ariaHasPopup="menu",s.ariaAutoComplete="list",s.ariaExpanded="true"}get value(){return this.findInput.getValue()}set value(b){this.findInput.setValue(b)}select(b=null){this.findInput.inputBox.select(b)}getSelection(){return this.findInput.inputBox.getSelection()}isSelectionAtEnd(){return this.findInput.inputBox.isSelectionAtEnd()}get placeholder(){return this.findInput.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(b){this.findInput.inputBox.setPlaceHolder(b)}get password(){return this.findInput.inputBox.inputElement.type==="password"}set password(b){this.findInput.inputBox.inputElement.type=b?"password":"text"}set enabled(b){this.findInput.inputBox.inputElement.toggleAttribute("readonly",!b)}set toggles(b){this.findInput.setAdditionalToggles(b)}setAttribute(b,C){this.findInput.inputBox.inputElement.setAttribute(b,C)}showDecoration(b){b===D.default.Ignore?this.findInput.clearMessage():this.findInput.showMessage({type:b===D.default.Info?1:b===D.default.Warning?2:3,content:""})}stylesForType(b){return this.findInput.inputBox.stylesForType(b===D.default.Info?1:b===D.default.Warning?2:3)}setFocus(){this.findInput.focus()}layout(){this.findInput.inputBox.layout()}}e.QuickInputBox=p}),define(ie[377],ne([1,0,6,89,7,46,68,110,181,427,790,222]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputButtonToAction=t,e.renderQuickInputDescription=n;const o={},s=new w.IdGenerator("quick-input-button-icon-");function i(c){if(!c)return;let m;const u=c.dark.toString();return o[u]?m=o[u]:(m=s.nextId(),f.createCSSRule(`.${m}, .hc-light .${m}`,`background-image: ${f.asCSSUrl(c.light||c.dark)}`),f.createCSSRule(`.vs-dark .${m}, .hc-black .${m}`,`background-image: ${f.asCSSUrl(c.dark)}`),o[u]=m),m}function t(c,m,u){let r=c.iconClass||i(c.iconPath);return c.alwaysVisible&&(r=r?`${r} always-visible`:"always-visible"),{id:m,label:"",tooltip:c.tooltip||"",class:r,enabled:!0,run:u}}function n(c,m,u){f.reset(m);const r=(0,b.parseLinkedText)(c);let a=0;for(const h of r.nodes)if(typeof h=="string")m.append(...(0,p.renderLabelWithIcons)(h));else{let l=h.title;!l&&h.href.startsWith("command:")?l=(0,C.localize)(0,null,h.href.substring(8)):l||(l=h.href);const g=f.$("a",{href:h.href,title:l,tabIndex:a++},h.label);g.style.textDecoration="underline";const d=I=>{f.isEventLike(I)&&f.EventHelper.stop(I,!0),u.callback(h.href)},v=u.disposables.add(new k.DomEmitter(g,f.EventType.CLICK)).event,_=u.disposables.add(new k.DomEmitter(g,f.EventType.KEY_DOWN)).event,S=E.Event.chain(_,I=>I.filter(T=>{const N=new D.StandardKeyboardEvent(T);return N.equals(10)||N.equals(3)}));u.disposables.add(y.Gesture.addTarget(g));const L=u.disposables.add(new k.DomEmitter(g,y.EventType.Tap)).event;E.Event.any(v,L,S)(d,null,u.disposables),m.appendChild(g)}}}),define(ie[75],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IQuickInputService=e.quickPickItemScorerAccessor=e.QuickPickItemScorerAccessor=e.ItemActivation=e.QuickInputHideReason=e.NO_KEY_MODS=void 0,e.NO_KEY_MODS={ctrlCmd:!1,alt:!1};var k;(function(y){y[y.Blur=1]="Blur",y[y.Gesture=2]="Gesture",y[y.Other=3]="Other"})(k||(e.QuickInputHideReason=k={}));var E;(function(y){y[y.NONE=0]="NONE",y[y.FIRST=1]="FIRST",y[y.SECOND=2]="SECOND",y[y.LAST=3]="LAST"})(E||(e.ItemActivation=E={}));class D{constructor(p){this.options=p}}e.QuickPickItemScorerAccessor=D,e.quickPickItemScorerAccessor=new D,e.IQuickInputService=(0,f.createDecorator)("quickInputService")}),define(ie[39],ne([1,0,87,20]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Registry=void 0;class E{constructor(){this.data=new Map}add(y,p){f.ok(k.isString(y)),f.ok(k.isObject(p)),f.ok(!this.data.has(y),"There is already an extension with this id"),this.data.set(y,p)}as(y){return this.data.get(y)||null}}e.Registry=new E}),define(ie[378],ne([1,0,39]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LocalSelectionTransfer=e.Extensions=e.CodeDataTransfers=void 0,e.CodeDataTransfers={EDITORS:"CodeEditors",FILES:"CodeFiles"};class k{}e.Extensions={DragAndDropContribution:"workbench.contributions.dragAndDrop"},f.Registry.add(e.Extensions.DragAndDropContribution,new k);class E{constructor(){}static getInstance(){return E.INSTANCE}hasData(y){return y&&y===this.proto}getData(y){if(this.hasData(y))return this.data}}e.LocalSelectionTransfer=E,E.INSTANCE=new E}),define(ie[379],ne([1,0,217,189,123,22,378]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toVSDataTransfer=p,e.toExternalVSDataTransfer=C;function p(o){const s=new k.VSDataTransfer;for(const i of o.items){const t=i.type;if(i.kind==="string"){const n=new Promise(c=>i.getAsString(c));s.append(t,(0,k.createStringDataTransferItem)(n))}else if(i.kind==="file"){const n=i.getAsFile();n&&s.append(t,w(n))}}return s}function w(o){const s=o.path?D.URI.parse(o.path):void 0;return(0,k.createFileDataTransferItem)(o.name,s,async()=>new Uint8Array(await o.arrayBuffer()))}const b=Object.freeze([y.CodeDataTransfers.EDITORS,y.CodeDataTransfers.FILES,f.DataTransfers.RESOURCES,f.DataTransfers.INTERNAL_URI_LIST]);function C(o,s=!1){const i=p(o),t=i.get(f.DataTransfers.INTERNAL_URI_LIST);if(t)i.replace(E.Mimes.uriList,t);else if(s||!i.has(E.Mimes.uriList)){const n=[];for(const c of o.items){const m=c.getAsFile();if(m){const u=m.path;try{u?n.push(D.URI.file(u).toString()):n.push(D.URI.parse(m.name,!0).toString())}catch{}}}n.length&&i.replace(E.Mimes.uriList,(0,k.createStringDataTransferItem)(k.UriList.create(n)))}for(const n of b)i.delete(n);return i}}),define(ie[264],ne([1,0,7,39]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=void 0,e.Extensions={JSONContribution:"base.contributions.json"};function E(p){return p.length>0&&p.charAt(p.length-1)==="#"?p.substring(0,p.length-1):p}class D{constructor(){this._onDidChangeSchema=new f.Emitter,this.schemasById={}}registerSchema(w,b){this.schemasById[E(w)]=b,this._onDidChangeSchema.fire(w)}notifySchemaChanged(w){this._onDidChangeSchema.fire(w)}}const y=new D;k.Registry.add(e.Extensions.JSONContribution,y)}),define(ie[105],ne([1,0,13,7,20,776,27,264,39]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.OVERRIDE_PROPERTY_REGEX=e.OVERRIDE_PROPERTY_PATTERN=e.resourceLanguageSettingsSchemaId=e.resourceSettings=e.windowSettings=e.machineOverridableSettings=e.machineSettings=e.applicationSettings=e.allSettings=e.Extensions=void 0,e.overrideIdentifiersFromKey=i,e.getDefaultValue=t,e.validateProperty=c,e.Extensions={Configuration:"base.contributions.configuration"},e.allSettings={properties:{},patternProperties:{}},e.applicationSettings={properties:{},patternProperties:{}},e.machineSettings={properties:{},patternProperties:{}},e.machineOverridableSettings={properties:{},patternProperties:{}},e.windowSettings={properties:{},patternProperties:{}},e.resourceSettings={properties:{},patternProperties:{}},e.resourceLanguageSettingsSchemaId="vscode://schemas/settings/resourceLanguage";const b=w.Registry.as(p.Extensions.JSONContribution);class C{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new k.Emitter,this._onDidUpdateConfiguration=new k.Emitter,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:D.localize(0,null),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!0,allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},b.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(u,r=!0){this.registerConfigurations([u],r)}registerConfigurations(u,r=!0){const a=new Set;this.doRegisterConfigurations(u,r,a),b.registerSchema(e.resourceLanguageSettingsSchemaId,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:a})}registerDefaultConfigurations(u){const r=new Set;this.doRegisterDefaultConfigurations(u,r),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:r,defaultsOverrides:!0})}doRegisterDefaultConfigurations(u,r){var a;const h=[];for(const{overrides:l,source:g}of u)for(const d in l)if(r.add(d),e.OVERRIDE_PROPERTY_REGEX.test(d)){const v=this.configurationDefaultsOverrides.get(d),_=(a=v?.valuesSources)!==null&&a!==void 0?a:new Map;if(g)for(const T of Object.keys(l[d]))_.set(T,g);const S={...v?.value||{},...l[d]};this.configurationDefaultsOverrides.set(d,{source:g,value:S,valuesSources:_});const L=(0,y.getLanguageTagSettingPlainKey)(d),I={type:"object",default:S,description:D.localize(1,null,L),$ref:e.resourceLanguageSettingsSchemaId,defaultDefaultValue:S,source:E.isString(g)?void 0:g,defaultValueSource:g};h.push(...i(d)),this.configurationProperties[d]=I,this.defaultLanguageConfigurationOverridesNode.properties[d]=I}else{this.configurationDefaultsOverrides.set(d,{value:l[d],source:g});const v=this.configurationProperties[d];v&&(this.updatePropertyDefaultValue(d,v),this.updateSchema(d,v))}this.doRegisterOverrideIdentifiers(h)}registerOverrideIdentifiers(u){this.doRegisterOverrideIdentifiers(u),this._onDidSchemaChange.fire()}doRegisterOverrideIdentifiers(u){for(const r of u)this.overrideIdentifiers.add(r);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(u,r,a){u.forEach(h=>{this.validateAndRegisterProperties(h,r,h.extensionInfo,h.restrictedProperties,void 0,a),this.configurationContributors.push(h),this.registerJSONConfiguration(h)})}validateAndRegisterProperties(u,r=!0,a,h,l=3,g){var d;l=E.isUndefinedOrNull(u.scope)?l:u.scope;const v=u.properties;if(v)for(const S in v){const L=v[S];if(r&&c(S,L)){delete v[S];continue}if(L.source=a,L.defaultDefaultValue=v[S].default,this.updatePropertyDefaultValue(S,L),e.OVERRIDE_PROPERTY_REGEX.test(S)?L.scope=void 0:(L.scope=E.isUndefinedOrNull(L.scope)?l:L.scope,L.restricted=E.isUndefinedOrNull(L.restricted)?!!h?.includes(S):L.restricted),v[S].hasOwnProperty("included")&&!v[S].included){this.excludedConfigurationProperties[S]=v[S],delete v[S];continue}else this.configurationProperties[S]=v[S],!((d=v[S].policy)===null||d===void 0)&&d.name&&this.policyConfigurations.set(v[S].policy.name,S);!v[S].deprecationMessage&&v[S].markdownDeprecationMessage&&(v[S].deprecationMessage=v[S].markdownDeprecationMessage),g.add(S)}const _=u.allOf;if(_)for(const S of _)this.validateAndRegisterProperties(S,r,a,h,l,g)}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(u){const r=a=>{const h=a.properties;if(h)for(const g in h)this.updateSchema(g,h[g]);const l=a.allOf;l?.forEach(r)};r(u)}updateSchema(u,r){switch(e.allSettings.properties[u]=r,r.scope){case 1:e.applicationSettings.properties[u]=r;break;case 2:e.machineSettings.properties[u]=r;break;case 6:e.machineOverridableSettings.properties[u]=r;break;case 3:e.windowSettings.properties[u]=r;break;case 4:e.resourceSettings.properties[u]=r;break;case 5:e.resourceSettings.properties[u]=r,this.resourceLanguageSettingsSchema.properties[u]=r;break}}updateOverridePropertyPatternKey(){for(const u of this.overrideIdentifiers.values()){const r=`[${u}]`,a={type:"object",description:D.localize(2,null),errorMessage:D.localize(3,null),$ref:e.resourceLanguageSettingsSchemaId};this.updatePropertyDefaultValue(r,a),e.allSettings.properties[r]=a,e.applicationSettings.properties[r]=a,e.machineSettings.properties[r]=a,e.machineOverridableSettings.properties[r]=a,e.windowSettings.properties[r]=a,e.resourceSettings.properties[r]=a}}registerOverridePropertyPatternKey(){const u={type:"object",description:D.localize(4,null),errorMessage:D.localize(5,null),$ref:e.resourceLanguageSettingsSchemaId};e.allSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.applicationSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.machineSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.machineOverridableSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.windowSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,e.resourceSettings.patternProperties[e.OVERRIDE_PROPERTY_PATTERN]=u,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(u,r){const a=this.configurationDefaultsOverrides.get(u);let h=a?.value,l=a?.source;E.isUndefined(h)&&(h=r.defaultDefaultValue,l=void 0),E.isUndefined(h)&&(h=t(r.type)),r.default=h,r.defaultValueSource=l}}const o="\\[([^\\]]+)\\]",s=new RegExp(o,"g");e.OVERRIDE_PROPERTY_PATTERN=`^(${o})+$`,e.OVERRIDE_PROPERTY_REGEX=new RegExp(e.OVERRIDE_PROPERTY_PATTERN);function i(m){const u=[];if(e.OVERRIDE_PROPERTY_REGEX.test(m)){let r=s.exec(m);for(;r?.length;){const a=r[1].trim();a&&u.push(a),r=s.exec(m)}}return(0,f.distinct)(u)}function t(m){switch(Array.isArray(m)?m[0]:m){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const n=new C;w.Registry.add(e.Extensions.Configuration,n);function c(m,u){var r,a,h,l;return m.trim()?e.OVERRIDE_PROPERTY_REGEX.test(m)?D.localize(7,null,m):n.getConfigurationProperties()[m]!==void 0?D.localize(8,null,m):!((r=u.policy)===null||r===void 0)&&r.name&&n.getPolicyConfigurations().get((a=u.policy)===null||a===void 0?void 0:a.name)!==void 0?D.localize(9,null,m,(h=u.policy)===null||h===void 0?void 0:h.name,n.getPolicyConfigurations().get((l=u.policy)===null||l===void 0?void 0:l.name)):null:D.localize(6,null)}}),define(ie[265],ne([1,0,300,38,191,675,105,39]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorConfigurationBaseNode=void 0,e.isEditorConfigurationKey=s,e.isDiffEditorConfigurationKey=i,e.editorConfigurationBaseNode=Object.freeze({id:"editor",order:5,type:"object",title:D.localize(0,null),scope:5});const w={...e.editorConfigurationBaseNode,properties:{"editor.tabSize":{type:"number",default:E.EDITOR_MODEL_DEFAULTS.tabSize,minimum:1,markdownDescription:D.localize(1,null,"`#editor.detectIndentation#`")},"editor.indentSize":{anyOf:[{type:"string",enum:["tabSize"]},{type:"number",minimum:1}],default:"tabSize",markdownDescription:D.localize(2,null)},"editor.insertSpaces":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.insertSpaces,markdownDescription:D.localize(3,null,"`#editor.detectIndentation#`")},"editor.detectIndentation":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.detectIndentation,markdownDescription:D.localize(4,null,"`#editor.tabSize#`","`#editor.insertSpaces#`")},"editor.trimAutoWhitespace":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,description:D.localize(5,null)},"editor.largeFileOptimizations":{type:"boolean",default:E.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,description:D.localize(6,null)},"editor.wordBasedSuggestions":{enum:["off","currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[D.localize(7,null),D.localize(8,null),D.localize(9,null),D.localize(10,null)],description:D.localize(11,null)},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[D.localize(12,null),D.localize(13,null),D.localize(14,null)],default:"configuredByTheme",description:D.localize(15,null)},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:D.localize(16,null)},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:D.localize(17,null)},"editor.experimental.asyncTokenization":{type:"boolean",default:!1,description:D.localize(18,null),tags:["experimental"]},"editor.experimental.asyncTokenizationLogging":{type:"boolean",default:!1,description:D.localize(19,null)},"editor.experimental.asyncTokenizationVerification":{type:"boolean",default:!1,description:D.localize(20,null),tags:["experimental"]},"editor.language.brackets":{type:["array","null"],default:null,description:D.localize(21,null),items:{type:"array",items:[{type:"string",description:D.localize(22,null)},{type:"string",description:D.localize(23,null)}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:D.localize(24,null),items:{type:"array",items:[{type:"string",description:D.localize(25,null)},{type:"string",description:D.localize(26,null)}]}},"diffEditor.maxComputationTime":{type:"number",default:f.diffEditorDefaultOptions.maxComputationTime,description:D.localize(27,null)},"diffEditor.maxFileSize":{type:"number",default:f.diffEditorDefaultOptions.maxFileSize,description:D.localize(28,null)},"diffEditor.renderSideBySide":{type:"boolean",default:f.diffEditorDefaultOptions.renderSideBySide,description:D.localize(29,null)},"diffEditor.renderSideBySideInlineBreakpoint":{type:"number",default:f.diffEditorDefaultOptions.renderSideBySideInlineBreakpoint,description:D.localize(30,null)},"diffEditor.useInlineViewWhenSpaceIsLimited":{type:"boolean",default:f.diffEditorDefaultOptions.useInlineViewWhenSpaceIsLimited,description:D.localize(31,null)},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:f.diffEditorDefaultOptions.renderMarginRevertIcon,description:D.localize(32,null)},"diffEditor.renderGutterMenu":{type:"boolean",default:f.diffEditorDefaultOptions.renderGutterMenu,description:D.localize(33,null)},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:f.diffEditorDefaultOptions.ignoreTrimWhitespace,description:D.localize(34,null)},"diffEditor.renderIndicators":{type:"boolean",default:f.diffEditorDefaultOptions.renderIndicators,description:D.localize(35,null)},"diffEditor.codeLens":{type:"boolean",default:f.diffEditorDefaultOptions.diffCodeLens,description:D.localize(36,null)},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:f.diffEditorDefaultOptions.diffWordWrap,markdownEnumDescriptions:[D.localize(37,null),D.localize(38,null),D.localize(39,null,"`#editor.wordWrap#`")]},"diffEditor.diffAlgorithm":{type:"string",enum:["legacy","advanced"],default:f.diffEditorDefaultOptions.diffAlgorithm,markdownEnumDescriptions:[D.localize(40,null),D.localize(41,null)],tags:["experimental"]},"diffEditor.hideUnchangedRegions.enabled":{type:"boolean",default:f.diffEditorDefaultOptions.hideUnchangedRegions.enabled,markdownDescription:D.localize(42,null)},"diffEditor.hideUnchangedRegions.revealLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.revealLineCount,markdownDescription:D.localize(43,null),minimum:1},"diffEditor.hideUnchangedRegions.minimumLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.minimumLineCount,markdownDescription:D.localize(44,null),minimum:1},"diffEditor.hideUnchangedRegions.contextLineCount":{type:"integer",default:f.diffEditorDefaultOptions.hideUnchangedRegions.contextLineCount,markdownDescription:D.localize(45,null),minimum:1},"diffEditor.experimental.showMoves":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showMoves,markdownDescription:D.localize(46,null)},"diffEditor.experimental.showEmptyDecorations":{type:"boolean",default:f.diffEditorDefaultOptions.experimental.showEmptyDecorations,description:D.localize(47,null)}}};function b(n){return typeof n.type<"u"||typeof n.anyOf<"u"}for(const n of k.editorOptionsRegistry){const c=n.schema;if(typeof c<"u")if(b(c))w.properties[`editor.${n.name}`]=c;else for(const m in c)Object.hasOwnProperty.call(c,m)&&(w.properties[m]=c[m])}let C=null;function o(){return C===null&&(C=Object.create(null),Object.keys(w.properties).forEach(n=>{C[n]=!0})),C}function s(n){return o()[`editor.${n}`]||!1}function i(n){return o()[`diffEditor.${n}`]||!1}p.Registry.as(y.Extensions.Configuration).registerConfiguration(w)}),define(ie[85],ne([1,0,684,7,39,123,105]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PLAINTEXT_EXTENSION=e.PLAINTEXT_LANGUAGE_ID=e.ModesRegistry=e.EditorModesRegistry=e.Extensions=void 0,e.Extensions={ModesRegistry:"editor.modesRegistry"};class p{constructor(){this._onDidChangeLanguages=new k.Emitter,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(b){return this._languages.push(b),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let C=0,o=this._languages.length;C<o;C++)if(this._languages[C]===b){this._languages.splice(C,1);return}}}}getLanguages(){return this._languages}}e.EditorModesRegistry=p,e.ModesRegistry=new p,E.Registry.add(e.Extensions.ModesRegistry,e.ModesRegistry),e.PLAINTEXT_LANGUAGE_ID="plaintext",e.PLAINTEXT_EXTENSION=".txt",e.ModesRegistry.registerLanguage({id:e.PLAINTEXT_LANGUAGE_ID,extensions:[e.PLAINTEXT_EXTENSION],aliases:[f.localize(0,null),"text"],mimetypes:[D.Mimes.text]}),E.Registry.as(y.Extensions.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])}),define(ie[117],ne([1,0,201,99,10,7,2,71,43,85,358,61,480]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownRenderer=void 0,e.openLinkFromMarkdown=t;let i=s=class{constructor(m,u,r){this._options=m,this._languageService=u,this._openerService=r,this._onDidRenderAsync=new D.Emitter,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(m,u,r){if(!m)return{element:document.createElement("span"),dispose:()=>{}};const a=new y.DisposableStore,h=a.add((0,f.renderMarkdown)(m,{...this._getRenderOptions(m,a),...u},r));return h.element.classList.add("rendered-markdown"),{element:h.element,dispose:()=>a.dispose()}}_getRenderOptions(m,u){return{codeBlockRenderer:async(r,a)=>{var h,l,g;let d;r?d=this._languageService.getLanguageIdByLanguageName(r):this._options.editor&&(d=(h=this._options.editor.getModel())===null||h===void 0?void 0:h.getLanguageId()),d||(d=b.PLAINTEXT_LANGUAGE_ID);const v=await(0,C.tokenizeToString)(this._languageService,a,d),_=document.createElement("span");if(_.innerHTML=(g=(l=s._ttpTokenizer)===null||l===void 0?void 0:l.createHTML(v))!==null&&g!==void 0?g:v,this._options.editor){const S=this._options.editor.getOption(50);(0,p.applyFontInfo)(_,S)}else this._options.codeBlockFontFamily&&(_.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(_.style.fontSize=this._options.codeBlockFontSize),_},asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:r=>t(this._openerService,r,m.isTrusted),disposables:u}}}};e.MarkdownRenderer=i,i._ttpTokenizer=(0,k.createTrustedTypesPolicy)("tokenizeToString",{createHTML(c){return c}}),e.MarkdownRenderer=i=s=Ie([ue(1,w.ILanguageService),ue(2,o.IOpenerService)],i);async function t(c,m,u){try{return await c.open(m,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:n(u)})}catch(r){return(0,E.onUnexpectedError)(r),!1}}function n(c){return c===!0?!0:c&&Array.isArray(c.enabledCommands)?c.enabledCommands:!1}}),define(ie[836],ne([1,0,2,7,6,32,27,38,168,80,61,8,117,57,659,17,66,47,459]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverWidget=void 0;const u=E.$;let r=class extends b.Widget{get _targetWindow(){return E.getWindow(this._target.targetElements[0])}get _targetDocumentElement(){return E.getWindow(this._target.targetElements[0]).document.documentElement}get isDisposed(){return this._isDisposed}get isMouseIn(){return this._lockMouseTracker.isMouseIn}get domNode(){return this._hover.containerDomNode}get onDispose(){return this._onDispose.event}get onRequestLayout(){return this._onRequestLayout.event}get anchor(){return this._hoverPosition===2?0:1}get x(){return this._x}get y(){return this._y}get isLocked(){return this._isLocked}set isLocked(g){this._isLocked!==g&&(this._isLocked=g,this._hoverContainer.classList.toggle("locked",this._isLocked))}constructor(g,d,v,_,S,L){var I,T,N,A,O,M,R,x;super(),this._keybindingService=d,this._configurationService=v,this._openerService=_,this._instantiationService=S,this._accessibilityService=L,this._messageListeners=new f.DisposableStore,this._isDisposed=!1,this._forcePosition=!1,this._x=0,this._y=0,this._isLocked=!1,this._enableFocusTraps=!1,this._addedFocusTrap=!1,this._onDispose=this._register(new k.Emitter),this._onRequestLayout=this._register(new k.Emitter),this._linkHandler=g.linkHandler||(K=>(0,s.openLinkFromMarkdown)(this._openerService,K,(0,i.isMarkdownString)(g.content)?g.content.isTrusted:void 0)),this._target="targetElements"in g.target?g.target:new h(g.target),this._hoverPointer=!((I=g.appearance)===null||I===void 0)&&I.showPointer?u("div.workbench-hover-pointer"):void 0,this._hover=this._register(new w.HoverWidget),this._hover.containerDomNode.classList.add("workbench-hover","fadeIn"),!((T=g.appearance)===null||T===void 0)&&T.compact&&this._hover.containerDomNode.classList.add("workbench-hover","compact"),!((N=g.appearance)===null||N===void 0)&&N.skipFadeInAnimation&&this._hover.containerDomNode.classList.add("skip-fade-in"),g.additionalClasses&&this._hover.containerDomNode.classList.add(...g.additionalClasses),!((A=g.position)===null||A===void 0)&&A.forcePosition&&(this._forcePosition=!0),g.trapFocus&&(this._enableFocusTraps=!0),this._hoverPosition=(M=(O=g.position)===null||O===void 0?void 0:O.hoverPosition)!==null&&M!==void 0?M:3,this.onmousedown(this._hover.containerDomNode,K=>K.stopPropagation()),this.onkeydown(this._hover.containerDomNode,K=>{K.equals(9)&&this.dispose()}),this._register(E.addDisposableListener(this._targetWindow,"blur",()=>this.dispose()));const F=u("div.hover-row.markdown-hover"),W=u("div.hover-contents");if(typeof g.content=="string")W.textContent=g.content,W.style.whiteSpace="pre-wrap";else if(g.content instanceof HTMLElement)W.appendChild(g.content),W.classList.add("html-hover-contents");else{const K=g.content,U=this._instantiationService.createInstance(s.MarkdownRenderer,{codeBlockFontFamily:this._configurationService.getValue("editor").fontFamily||p.EDITOR_FONT_DEFAULTS.fontFamily}),{element:G}=U.render(K,{actionHandler:{callback:te=>this._linkHandler(te),disposables:this._messageListeners},asyncRenderCallback:()=>{W.classList.add("code-hover-contents"),this.layout(),this._onRequestLayout.fire()}});W.appendChild(G)}if(F.appendChild(W),this._hover.contentsDomNode.appendChild(F),g.actions&&g.actions.length>0){const K=u("div.hover-row.status-bar"),U=u("div.actions");g.actions.forEach(G=>{const te=this._keybindingService.lookupKeybinding(G.commandId),ee=te?te.getLabel():null;w.HoverAction.render(U,{label:G.label,commandId:G.commandId,run:Y=>{G.run(Y),this.dispose()},iconClass:G.iconClass},ee)}),K.appendChild(U),this._hover.containerDomNode.appendChild(K)}this._hoverContainer=u("div.workbench-hover-container"),this._hoverPointer&&this._hoverContainer.appendChild(this._hoverPointer),this._hoverContainer.appendChild(this._hover.containerDomNode);let H;if(g.actions&&g.actions.length>0?H=!1:((R=g.persistence)===null||R===void 0?void 0:R.hideOnHover)===void 0?H=typeof g.content=="string"||(0,i.isMarkdownString)(g.content)&&!g.content.value.includes("](")&&!g.content.value.includes("</a>"):H=g.persistence.hideOnHover,H&&(!((x=g.appearance)===null||x===void 0)&&x.showHoverHint)){const K=u("div.hover-row.status-bar"),U=u("div.info");U.textContent=(0,t.localize)(0,null,n.isMacintosh?"Option":"Alt"),K.appendChild(U),this._hover.containerDomNode.appendChild(K)}const z=[...this._target.targetElements];H||z.push(this._hoverContainer);const j=this._register(new a(z));if(this._register(j.onMouseOut(()=>{this._isLocked||this.dispose()})),H){const K=[...this._target.targetElements,this._hoverContainer];this._lockMouseTracker=this._register(new a(K)),this._register(this._lockMouseTracker.onMouseOut(()=>{this._isLocked||this.dispose()}))}else this._lockMouseTracker=j}addFocusTrap(){if(!this._enableFocusTraps||this._addedFocusTrap)return;this._addedFocusTrap=!0;const g=this._hover.containerDomNode,d=this.findLastFocusableChild(this._hover.containerDomNode);if(d){const v=E.prepend(this._hoverContainer,u("div")),_=E.append(this._hoverContainer,u("div"));v.tabIndex=0,_.tabIndex=0,this._register(E.addDisposableListener(_,"focus",S=>{g.focus(),S.preventDefault()})),this._register(E.addDisposableListener(v,"focus",S=>{d.focus(),S.preventDefault()}))}}findLastFocusableChild(g){if(g.hasChildNodes())for(let d=0;d<g.childNodes.length;d++){const v=g.childNodes.item(g.childNodes.length-d-1);if(v.nodeType===v.ELEMENT_NODE){const S=v;if(typeof S.tabIndex=="number"&&S.tabIndex>=0)return S}const _=this.findLastFocusableChild(v);if(_)return _}}render(g){var d;g.appendChild(this._hoverContainer);const _=this._hoverContainer.contains(this._hoverContainer.ownerDocument.activeElement)&&(0,w.getHoverAccessibleViewHint)(this._configurationService.getValue("accessibility.verbosity.hover")===!0&&this._accessibilityService.isScreenReaderOptimized(),(d=this._keybindingService.lookupKeybinding("editor.action.accessibleView"))===null||d===void 0?void 0:d.getAriaLabel());_&&(0,m.status)(_),this.layout(),this.addFocusTrap()}layout(){this._hover.containerDomNode.classList.remove("right-aligned"),this._hover.contentsDomNode.style.maxHeight="";const g=A=>{const O=E.getDomNodeZoomLevel(A),M=A.getBoundingClientRect();return{top:M.top*O,bottom:M.bottom*O,right:M.right*O,left:M.left*O}},d=this._target.targetElements.map(A=>g(A)),{top:v,right:_,bottom:S,left:L}=d[0],I=_-L,T=S-v,N={top:v,right:_,bottom:S,left:L,width:I,height:T,center:{x:L+I/2,y:v+T/2}};if(this.adjustHorizontalHoverPosition(N),this.adjustVerticalHoverPosition(N),this.adjustHoverMaxHeight(N),this._hoverContainer.style.padding="",this._hoverContainer.style.margin="",this._hoverPointer){switch(this._hoverPosition){case 1:N.left+=3,N.right+=3,this._hoverContainer.style.paddingLeft="3px",this._hoverContainer.style.marginLeft="-3px";break;case 0:N.left-=3,N.right-=3,this._hoverContainer.style.paddingRight="3px",this._hoverContainer.style.marginRight="-3px";break;case 2:N.top+=3,N.bottom+=3,this._hoverContainer.style.paddingTop="3px",this._hoverContainer.style.marginTop="-3px";break;case 3:N.top-=3,N.bottom-=3,this._hoverContainer.style.paddingBottom="3px",this._hoverContainer.style.marginBottom="-3px";break}N.center.x=N.left+I/2,N.center.y=N.top+T/2}this.computeXCordinate(N),this.computeYCordinate(N),this._hoverPointer&&(this._hoverPointer.classList.remove("top"),this._hoverPointer.classList.remove("left"),this._hoverPointer.classList.remove("right"),this._hoverPointer.classList.remove("bottom"),this.setHoverPointerPosition(N)),this._hover.onContentsChanged()}computeXCordinate(g){const d=this._hover.containerDomNode.clientWidth+2;this._target.x!==void 0?this._x=this._target.x:this._hoverPosition===1?this._x=g.right:this._hoverPosition===0?this._x=g.left-d:(this._hoverPointer?this._x=g.center.x-this._hover.containerDomNode.clientWidth/2:this._x=g.left,this._x+d>=this._targetDocumentElement.clientWidth&&(this._hover.containerDomNode.classList.add("right-aligned"),this._x=Math.max(this._targetDocumentElement.clientWidth-d-2,this._targetDocumentElement.clientLeft))),this._x<this._targetDocumentElement.clientLeft&&(this._x=g.left+2)}computeYCordinate(g){this._target.y!==void 0?this._y=this._target.y:this._hoverPosition===3?this._y=g.top:this._hoverPosition===2?this._y=g.bottom-2:this._hoverPointer?this._y=g.center.y+this._hover.containerDomNode.clientHeight/2:this._y=g.bottom,this._y>this._targetWindow.innerHeight&&(this._y=g.bottom)}adjustHorizontalHoverPosition(g){if(this._target.x!==void 0)return;const d=this._hoverPointer?3:0;if(this._forcePosition){const v=d+2;this._hoverPosition===1?this._hover.containerDomNode.style.maxWidth=`${this._targetDocumentElement.clientWidth-g.right-v}px`:this._hoverPosition===0&&(this._hover.containerDomNode.style.maxWidth=`${g.left-v}px`);return}this._hoverPosition===1?this._targetDocumentElement.clientWidth-g.right<this._hover.containerDomNode.clientWidth+d&&(g.left>=this._hover.containerDomNode.clientWidth+d?this._hoverPosition=0:this._hoverPosition=2):this._hoverPosition===0&&(g.left<this._hover.containerDomNode.clientWidth+d&&(this._targetDocumentElement.clientWidth-g.right>=this._hover.containerDomNode.clientWidth+d?this._hoverPosition=1:this._hoverPosition=2),g.left-this._hover.containerDomNode.clientWidth-d<=this._targetDocumentElement.clientLeft&&(this._hoverPosition=1))}adjustVerticalHoverPosition(g){if(this._target.y!==void 0||this._forcePosition)return;const d=this._hoverPointer?3:0;this._hoverPosition===3?g.top-this._hover.containerDomNode.clientHeight-d<0&&(this._hoverPosition=2):this._hoverPosition===2&&g.bottom+this._hover.containerDomNode.clientHeight+d>this._targetWindow.innerHeight&&(this._hoverPosition=3)}adjustHoverMaxHeight(g){let d=this._targetWindow.innerHeight/2;if(this._forcePosition){const v=(this._hoverPointer?3:0)+2;this._hoverPosition===3?d=Math.min(d,g.top-v):this._hoverPosition===2&&(d=Math.min(d,this._targetWindow.innerHeight-g.bottom-v))}if(this._hover.containerDomNode.style.maxHeight=`${d}px`,this._hover.contentsDomNode.clientHeight<this._hover.contentsDomNode.scrollHeight){const v=`${this._hover.scrollbar.options.verticalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingRight!==v&&(this._hover.contentsDomNode.style.paddingRight=v)}}setHoverPointerPosition(g){if(this._hoverPointer)switch(this._hoverPosition){case 0:case 1:{this._hoverPointer.classList.add(this._hoverPosition===0?"right":"left");const d=this._hover.containerDomNode.clientHeight;d>g.height?this._hoverPointer.style.top=`${g.center.y-(this._y-d)-3}px`:this._hoverPointer.style.top=`${Math.round(d/2)-3}px`;break}case 3:case 2:{this._hoverPointer.classList.add(this._hoverPosition===3?"bottom":"top");const d=this._hover.containerDomNode.clientWidth;let v=Math.round(d/2)-3;const _=this._x+v;(_<g.left||_>g.right)&&(v=g.center.x-this._x-3),this._hoverPointer.style.left=`${v}px`;break}}}focus(){this._hover.containerDomNode.focus()}dispose(){this._isDisposed||(this._onDispose.fire(),this._hoverContainer.remove(),this._messageListeners.dispose(),this._target.dispose(),super.dispose()),this._isDisposed=!0}};e.HoverWidget=r,e.HoverWidget=r=Ie([ue(1,D.IKeybindingService),ue(2,y.IConfigurationService),ue(3,C.IOpenerService),ue(4,o.IInstantiationService),ue(5,c.IAccessibilityService)],r);class a extends b.Widget{get onMouseOut(){return this._onMouseOut.event}get isMouseIn(){return this._isMouseIn}constructor(g){super(),this._elements=g,this._isMouseIn=!0,this._onMouseOut=this._register(new k.Emitter),this._elements.forEach(d=>this.onmouseover(d,()=>this._onTargetMouseOver(d))),this._elements.forEach(d=>this.onmouseleave(d,()=>this._onTargetMouseLeave(d)))}_onTargetMouseOver(g){this._isMouseIn=!0,this._clearEvaluateMouseStateTimeout(g)}_onTargetMouseLeave(g){this._isMouseIn=!1,this._evaluateMouseState(g)}_evaluateMouseState(g){this._clearEvaluateMouseStateTimeout(g),this._mouseTimeout=E.getWindow(g).setTimeout(()=>this._fireIfMouseOutside(),0)}_clearEvaluateMouseStateTimeout(g){this._mouseTimeout&&(E.getWindow(g).clearTimeout(this._mouseTimeout),this._mouseTimeout=void 0)}_fireIfMouseOutside(){this._isMouseIn||this._onMouseOut.fire()}}class h{constructor(g){this._element=g,this.targetElements=[this._element]}dispose(){}}}),define(ie[34],ne([1,0,7,2,12,162,126,144,546,648,547,550,255,8,27,43,48,85,549]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ResolvedLanguageConfiguration=e.LanguageConfigurationRegistry=e.LanguageConfigurationChangeEvent=e.LanguageConfigurationService=e.ILanguageConfigurationService=e.LanguageConfigurationServiceChangeEvent=void 0,e.getIndentationAtPosition=v,e.getScopedLineTokens=_;class r{constructor(M){this.languageId=M}affects(M){return this.languageId?this.languageId===M:!0}}e.LanguageConfigurationServiceChangeEvent=r,e.ILanguageConfigurationService=(0,i.createDecorator)("languageConfigurationService");let a=class extends k.Disposable{constructor(M,R){super(),this.configurationService=M,this.languageService=R,this._registry=this._register(new N),this.onDidChangeEmitter=this._register(new f.Emitter),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const x=new Set(Object.values(l));this._register(this.configurationService.onDidChangeConfiguration(F=>{const W=F.change.keys.some(z=>x.has(z)),H=F.change.overrides.filter(([z,j])=>j.some(K=>x.has(K))).map(([z])=>z);if(W)this.configurations.clear(),this.onDidChangeEmitter.fire(new r(void 0));else for(const z of H)this.languageService.isRegisteredLanguageId(z)&&(this.configurations.delete(z),this.onDidChangeEmitter.fire(new r(z)))})),this._register(this._registry.onDidChange(F=>{this.configurations.delete(F.languageId),this.onDidChangeEmitter.fire(new r(F.languageId))}))}register(M,R,x){return this._registry.register(M,R,x)}getLanguageConfiguration(M){let R=this.configurations.get(M);return R||(R=h(M,this._registry,this.configurationService,this.languageService),this.configurations.set(M,R)),R}};e.LanguageConfigurationService=a,e.LanguageConfigurationService=a=Ie([ue(0,t.IConfigurationService),ue(1,n.ILanguageService)],a);function h(O,M,R,x){let F=M.getLanguageConfiguration(O);if(!F){if(!x.isRegisteredLanguageId(O))return new A(O,{});F=new A(O,{})}const W=g(F.languageId,R),H=L([F.underlyingConfig,W]);return new A(F.languageId,H)}const l={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function g(O,M){const R=M.getValue(l.brackets,{overrideIdentifier:O}),x=M.getValue(l.colorizedBracketPairs,{overrideIdentifier:O});return{brackets:d(R),colorizedBracketPairs:d(x)}}function d(O){if(Array.isArray(O))return O.map(M=>{if(!(!Array.isArray(M)||M.length!==2))return[M[0],M[1]]}).filter(M=>!!M)}function v(O,M,R){const x=O.getLineContent(M);let F=E.getLeadingWhitespace(x);return F.length>R-1&&(F=F.substring(0,R-1)),F}function _(O,M,R){O.tokenization.forceTokenization(M);const x=O.tokenization.getLineTokens(M),F=typeof R>"u"?O.getLineMaxColumn(M)-1:R-1;return(0,p.createScopedLineTokens)(x,F)}class S{constructor(M){this.languageId=M,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(M,R){const x=new I(M,R,++this._order);return this._entries.push(x),this._resolved=null,(0,k.toDisposable)(()=>{for(let F=0;F<this._entries.length;F++)if(this._entries[F]===x){this._entries.splice(F,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const M=this._resolve();M&&(this._resolved=new A(this.languageId,M))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(I.cmp),L(this._entries.map(M=>M.configuration)))}}function L(O){let M={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const R of O)M={comments:R.comments||M.comments,brackets:R.brackets||M.brackets,wordPattern:R.wordPattern||M.wordPattern,indentationRules:R.indentationRules||M.indentationRules,onEnterRules:R.onEnterRules||M.onEnterRules,autoClosingPairs:R.autoClosingPairs||M.autoClosingPairs,surroundingPairs:R.surroundingPairs||M.surroundingPairs,autoCloseBefore:R.autoCloseBefore||M.autoCloseBefore,folding:R.folding||M.folding,colorizedBracketPairs:R.colorizedBracketPairs||M.colorizedBracketPairs,__electricCharacterSupport:R.__electricCharacterSupport||M.__electricCharacterSupport};return M}class I{constructor(M,R,x){this.configuration=M,this.priority=R,this.order=x}static cmp(M,R){return M.priority===R.priority?M.order-R.order:M.priority-R.priority}}class T{constructor(M){this.languageId=M}}e.LanguageConfigurationChangeEvent=T;class N extends k.Disposable{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,this._register(this.register(m.PLAINTEXT_LANGUAGE_ID,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(M,R,x=0){let F=this._entries.get(M);F||(F=new S(M),this._entries.set(M,F));const W=F.register(R,x);return this._onDidChange.fire(new T(M)),(0,k.toDisposable)(()=>{W.dispose(),this._onDidChange.fire(new T(M))})}getLanguageConfiguration(M){const R=this._entries.get(M);return R?.getResolvedConfiguration()||null}}e.LanguageConfigurationRegistry=N;class A{constructor(M,R){this.languageId=M,this.underlyingConfig=R,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new o.OnEnterSupport(this.underlyingConfig):null,this.comments=A._handleComments(this.underlyingConfig),this.characterPair=new w.CharacterPairSupport(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||D.DEFAULT_WORD_REGEXP,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new C.IndentRulesSupport(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new u.LanguageBracketsConfiguration(M,this.underlyingConfig)}getWordDefinition(){return(0,D.ensureValidWordDefinition)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new s.RichEditBrackets(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new b.BracketElectricCharacterSupport(this.brackets)),this._electricCharacter}onEnter(M,R,x,F){return this._onEnterSupport?this._onEnterSupport.onEnter(M,R,x,F):null}getAutoClosingPairs(){return new y.AutoClosingPairs(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(M){return this.characterPair.getAutoCloseBeforeSet(M)}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(M){const R=M.comments;if(!R)return null;const x={};if(R.lineComment&&(x.lineCommentToken=R.lineComment),R.blockComment){const[F,W]=R.blockComment;x.blockCommentStartToken=F,x.blockCommentEndToken=W}return x}}e.ResolvedLanguageConfiguration=A,(0,c.registerSingleton)(e.ILanguageConfigurationService,a,1)}),define(ie[266],ne([1,0,15,2,348,638,5,34,683,53,203,13,60,64,10,18,226,100,59,52,6]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorWorkerClient=e.EditorWorkerHost=e.EditorWorkerService=void 0;const h=60*1e3,l=5*60*1e3;function g(N,A){const O=N.getModel(A);return!(!O||O.isTooLargeForSyncing())}let d=class extends k.Disposable{constructor(A,O,M,R,x){super(),this._modelService=A,this._workerManager=this._register(new _(this._modelService,R)),this._logService=M,this._register(x.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(F,W)=>g(this._modelService,F.uri)?this._workerManager.withWorker().then(H=>H.computeLinks(F.uri)).then(H=>H&&{links:H}):Promise.resolve({links:[]})})),this._register(x.completionProvider.register("*",new v(this._workerManager,O,this._modelService,R)))}dispose(){super.dispose()}canComputeUnicodeHighlights(A){return g(this._modelService,A)}computedUnicodeHighlights(A,O,M){return this._workerManager.withWorker().then(R=>R.computedUnicodeHighlights(A,O,M))}async computeDiff(A,O,M,R){const x=await this._workerManager.withWorker().then(H=>H.computeDiff(A,O,M,R));if(!x)return null;return{identical:x.identical,quitEarly:x.quitEarly,changes:W(x.changes),moves:x.moves.map(H=>new c.MovedText(new m.LineRangeMapping(new u.LineRange(H[0],H[1]),new u.LineRange(H[2],H[3])),W(H[4])))};function W(H){return H.map(z=>{var j;return new m.DetailedLineRangeMapping(new u.LineRange(z[0],z[1]),new u.LineRange(z[2],z[3]),(j=z[4])===null||j===void 0?void 0:j.map(K=>new m.RangeMapping(new y.Range(K[0],K[1],K[2],K[3]),new y.Range(K[4],K[5],K[6],K[7]))))})}}computeMoreMinimalEdits(A,O,M=!1){if((0,o.isNonEmptyArray)(O)){if(!g(this._modelService,A))return Promise.resolve(O);const R=i.StopWatch.create(),x=this._workerManager.withWorker().then(F=>F.computeMoreMinimalEdits(A,O,M));return x.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",A.toString(!0),R.elapsed())),Promise.race([x,(0,f.timeout)(1e3).then(()=>O)])}else return Promise.resolve(void 0)}canNavigateValueSet(A){return g(this._modelService,A)}navigateValueSet(A,O,M){return this._workerManager.withWorker().then(R=>R.navigateValueSet(A,O,M))}canComputeWordRanges(A){return g(this._modelService,A)}computeWordRanges(A,O){return this._workerManager.withWorker().then(M=>M.computeWordRanges(A,O))}findSectionHeaders(A,O){return this._workerManager.withWorker().then(M=>M.findSectionHeaders(A,O))}};e.EditorWorkerService=d,e.EditorWorkerService=d=Ie([ue(0,b.IModelService),ue(1,C.ITextResourceConfigurationService),ue(2,s.ILogService),ue(3,p.ILanguageConfigurationService),ue(4,n.ILanguageFeaturesService)],d);class v{constructor(A,O,M,R){this.languageConfigurationService=R,this._debugDisplayName="wordbasedCompletions",this._workerManager=A,this._configurationService=O,this._modelService=M}async provideCompletionItems(A,O){const M=this._configurationService.getValue(A.uri,O,"editor");if(M.wordBasedSuggestions==="off")return;const R=[];if(M.wordBasedSuggestions==="currentDocument")g(this._modelService,A.uri)&&R.push(A.uri);else for(const K of this._modelService.getModels())g(this._modelService,K.uri)&&(K===A?R.unshift(K.uri):(M.wordBasedSuggestions==="allDocuments"||K.getLanguageId()===A.getLanguageId())&&R.push(K.uri));if(R.length===0)return;const x=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition(),F=A.getWordAtPosition(O),W=F?new y.Range(O.lineNumber,F.startColumn,O.lineNumber,F.endColumn):y.Range.fromPositions(O),H=W.setEndPosition(O.lineNumber,O.column),j=await(await this._workerManager.withWorker()).textualSuggest(R,F?.word,x);if(j)return{duration:j.duration,suggestions:j.words.map(K=>({kind:18,label:K,insertText:K,range:{insert:H,replace:W}}))}}}class _ extends k.Disposable{constructor(A,O){super(),this.languageConfigurationService=O,this._modelService=A,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new a.WindowIntervalTimer).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(l/2),r.mainWindow),this._register(this._modelService.onModelRemoved(R=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>l&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new T(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class S extends k.Disposable{constructor(A,O,M){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=A,this._modelService=O,!M){const R=new f.IntervalTimer;R.cancelAndSet(()=>this._checkStopModelSync(),Math.round(h/2)),this._register(R)}}dispose(){for(const A in this._syncedModels)(0,k.dispose)(this._syncedModels[A]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(A,O){for(const M of A){const R=M.toString();this._syncedModels[R]||this._beginModelSync(M,O),this._syncedModels[R]&&(this._syncedModelsLastUsedTime[R]=new Date().getTime())}}_checkStopModelSync(){const A=new Date().getTime(),O=[];for(const M in this._syncedModelsLastUsedTime)A-this._syncedModelsLastUsedTime[M]>h&&O.push(M);for(const M of O)this._stopModelSync(M)}_beginModelSync(A,O){const M=this._modelService.getModel(A);if(!M||!O&&M.isTooLargeForSyncing())return;const R=A.toString();this._proxy.acceptNewModel({url:M.uri.toString(),lines:M.getLinesContent(),EOL:M.getEOL(),versionId:M.getVersionId()});const x=new k.DisposableStore;x.add(M.onDidChangeContent(F=>{this._proxy.acceptModelChanged(R.toString(),F)})),x.add(M.onWillDispose(()=>{this._stopModelSync(R)})),x.add((0,k.toDisposable)(()=>{this._proxy.acceptRemovedModel(R)})),this._syncedModels[R]=x}_stopModelSync(A){const O=this._syncedModels[A];delete this._syncedModels[A],delete this._syncedModelsLastUsedTime[A],(0,k.dispose)(O)}}class L{constructor(A){this._instance=A,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class I{constructor(A){this._workerClient=A}fhr(A,O){return this._workerClient.fhr(A,O)}}e.EditorWorkerHost=I;class T extends k.Disposable{constructor(A,O,M,R){super(),this.languageConfigurationService=R,this._disposed=!1,this._modelService=A,this._keepIdleModels=O,this._workerFactory=new D.DefaultWorkerFactory(M),this._worker=null,this._modelManager=null}fhr(A,O){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new E.SimpleWorkerClient(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new I(this)))}catch(A){(0,E.logOnceWebWorkerWarning)(A),this._worker=new L(new w.EditorSimpleWorker(new I(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,A=>((0,E.logOnceWebWorkerWarning)(A),this._worker=new L(new w.EditorSimpleWorker(new I(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(A){return this._modelManager||(this._modelManager=this._register(new S(A,this._modelService,this._keepIdleModels))),this._modelManager}async _withSyncedResources(A,O=!1){return this._disposed?Promise.reject((0,t.canceled)()):this._getProxy().then(M=>(this._getOrCreateModelManager(M).ensureSyncedResources(A,O),M))}computedUnicodeHighlights(A,O,M){return this._withSyncedResources([A]).then(R=>R.computeUnicodeHighlights(A.toString(),O,M))}computeDiff(A,O,M,R){return this._withSyncedResources([A,O],!0).then(x=>x.computeDiff(A.toString(),O.toString(),M,R))}computeMoreMinimalEdits(A,O,M){return this._withSyncedResources([A]).then(R=>R.computeMoreMinimalEdits(A.toString(),O,M))}computeLinks(A){return this._withSyncedResources([A]).then(O=>O.computeLinks(A.toString()))}computeDefaultDocumentColors(A){return this._withSyncedResources([A]).then(O=>O.computeDefaultDocumentColors(A.toString()))}async textualSuggest(A,O,M){const R=await this._withSyncedResources(A),x=M.source,F=M.flags;return R.textualSuggest(A.map(W=>W.toString()),O,x,F)}computeWordRanges(A,O){return this._withSyncedResources([A]).then(M=>{const R=this._modelService.getModel(A);if(!R)return Promise.resolve(null);const x=this.languageConfigurationService.getLanguageConfiguration(R.getLanguageId()).getWordDefinition(),F=x.source,W=x.flags;return M.computeWordRanges(A.toString(),O,F,W)})}navigateValueSet(A,O,M){return this._withSyncedResources([A]).then(R=>{const x=this._modelService.getModel(A);if(!x)return null;const F=this.languageConfigurationService.getLanguageConfiguration(x.getLanguageId()).getWordDefinition(),W=F.source,H=F.flags;return R.navigateValueSet(A.toString(),O,M,W,H)})}findSectionHeaders(A,O){return this._withSyncedResources([A]).then(M=>M.findSectionHeaders(A.toString(),O))}dispose(){super.dispose(),this._disposed=!0}}e.EditorWorkerClient=T}),define(ie[837],ne([1,0,55,266]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createWebWorker=E;function E(y,p,w){return new D(y,p,w)}class D extends k.EditorWorkerClient{constructor(p,w,b){super(p,b.keepIdleModels||!1,b.label,w),this._foreignModuleId=b.moduleId,this._foreignModuleCreateData=b.createData||null,this._foreignModuleHost=b.host||null,this._foreignProxy=null}fhr(p,w){if(!this._foreignModuleHost||typeof this._foreignModuleHost[p]!="function")return Promise.reject(new Error("Missing method "+p+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[p].apply(this._foreignModuleHost,w))}catch(b){return Promise.reject(b)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(p=>{const w=this._foreignModuleHost?(0,f.getAllMethodNames)(this._foreignModuleHost):[];return p.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,w).then(b=>{this._foreignModuleCreateData=null;const C=(i,t)=>p.fmr(i,t),o=(i,t)=>function(){const n=Array.prototype.slice.call(arguments,0);return t(i,n)},s={};for(const i of b)s[i]=o(i,C);return s})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(p){return this._withSyncedResources(p).then(w=>this.getProxy())}}}),define(ie[267],ne([1,0,12,126,144,34]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getInheritIndentForLine=p,e.getGoodIndentForLine=w,e.getIndentForEnter=b,e.getIndentActionForType=C,e.getIndentMetadata=o;function y(s,i,t){const n=s.tokenization.getLanguageIdAtPosition(i,0);if(i>1){let c,m=-1;for(c=i-1;c>=1;c--){if(s.tokenization.getLanguageIdAtPosition(c,0)!==n)return m;const u=s.getLineContent(c);if(t.shouldIgnore(u)||/^\s+$/.test(u)||u===""){m=c;continue}return c}}return-1}function p(s,i,t,n=!0,c){if(s<4)return null;const m=c.getLanguageConfiguration(i.tokenization.getLanguageId()).indentRulesSupport;if(!m)return null;if(t<=1)return{indentation:"",action:null};for(let a=t-1;a>0&&i.getLineContent(a)==="";a--)if(a===1)return{indentation:"",action:null};const u=y(i,t,m);if(u<0)return null;if(u<1)return{indentation:"",action:null};const r=i.getLineContent(u);if(m.shouldIncrease(r)||m.shouldIndentNextLine(r))return{indentation:f.getLeadingWhitespace(r),action:k.IndentAction.Indent,line:u};if(m.shouldDecrease(r))return{indentation:f.getLeadingWhitespace(r),action:null,line:u};{if(u===1)return{indentation:f.getLeadingWhitespace(i.getLineContent(u)),action:null,line:u};const a=u-1,h=m.getIndentMetadata(i.getLineContent(a));if(!(h&3)&&h&4){let l=0;for(let g=a-1;g>0;g--)if(!m.shouldIndentNextLine(i.getLineContent(g))){l=g;break}return{indentation:f.getLeadingWhitespace(i.getLineContent(l+1)),action:null,line:l+1}}if(n)return{indentation:f.getLeadingWhitespace(i.getLineContent(u)),action:null,line:u};for(let l=u;l>0;l--){const g=i.getLineContent(l);if(m.shouldIncrease(g))return{indentation:f.getLeadingWhitespace(g),action:k.IndentAction.Indent,line:l};if(m.shouldIndentNextLine(g)){let d=0;for(let v=l-1;v>0;v--)if(!m.shouldIndentNextLine(i.getLineContent(l))){d=v;break}return{indentation:f.getLeadingWhitespace(i.getLineContent(d+1)),action:null,line:d+1}}else if(m.shouldDecrease(g))return{indentation:f.getLeadingWhitespace(g),action:null,line:l}}return{indentation:f.getLeadingWhitespace(i.getLineContent(1)),action:null,line:1}}}function w(s,i,t,n,c,m){if(s<4)return null;const u=m.getLanguageConfiguration(t);if(!u)return null;const r=m.getLanguageConfiguration(t).indentRulesSupport;if(!r)return null;const a=p(s,i,n,void 0,m),h=i.getLineContent(n);if(a){const l=a.line;if(l!==void 0){let g=!0;for(let d=l;d<n-1;d++)if(!/^\s*$/.test(i.getLineContent(d))){g=!1;break}if(g){const d=u.onEnter(s,"",i.getLineContent(l),"");if(d){let v=f.getLeadingWhitespace(i.getLineContent(l));return d.removeText&&(v=v.substring(0,v.length-d.removeText)),d.indentAction===k.IndentAction.Indent||d.indentAction===k.IndentAction.IndentOutdent?v=c.shiftIndent(v):d.indentAction===k.IndentAction.Outdent&&(v=c.unshiftIndent(v)),r.shouldDecrease(h)&&(v=c.unshiftIndent(v)),d.appendText&&(v+=d.appendText),f.getLeadingWhitespace(v)}}}return r.shouldDecrease(h)?a.action===k.IndentAction.Indent?a.indentation:c.unshiftIndent(a.indentation):a.action===k.IndentAction.Indent?c.shiftIndent(a.indentation):a.indentation}return null}function b(s,i,t,n,c){if(s<4)return null;i.tokenization.forceTokenization(t.startLineNumber);const m=i.tokenization.getLineTokens(t.startLineNumber),u=(0,E.createScopedLineTokens)(m,t.startColumn-1),r=u.getLineContent();let a=!1,h;u.firstCharOffset>0&&m.getLanguageId(0)!==u.languageId?(a=!0,h=r.substr(0,t.startColumn-1-u.firstCharOffset)):h=m.getLineContent().substring(0,t.startColumn-1);let l;t.isEmpty()?l=r.substr(t.startColumn-1-u.firstCharOffset):l=(0,D.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-u.firstCharOffset);const g=c.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!g)return null;const d=h,v=f.getLeadingWhitespace(h),_={tokenization:{getLineTokens:T=>i.tokenization.getLineTokens(T),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(T,N)=>i.getLanguageIdAtPosition(T,N)},getLineContent:T=>T===t.startLineNumber?d:i.getLineContent(T)},S=f.getLeadingWhitespace(m.getLineContent()),L=p(s,_,t.startLineNumber+1,void 0,c);if(!L){const T=a?S:v;return{beforeEnter:T,afterEnter:T}}let I=a?S:L.indentation;return L.action===k.IndentAction.Indent&&(I=n.shiftIndent(I)),g.shouldDecrease(l)&&(I=n.unshiftIndent(I)),{beforeEnter:a?S:v,afterEnter:I}}function C(s,i,t,n,c,m){if(s<4)return null;const u=(0,D.getScopedLineTokens)(i,t.startLineNumber,t.startColumn);if(u.firstCharOffset)return null;const r=m.getLanguageConfiguration(u.languageId).indentRulesSupport;if(!r)return null;const a=u.getLineContent(),h=a.substr(0,t.startColumn-1-u.firstCharOffset);let l;if(t.isEmpty()?l=a.substr(t.startColumn-1-u.firstCharOffset):l=(0,D.getScopedLineTokens)(i,t.endLineNumber,t.endColumn).getLineContent().substr(t.endColumn-1-u.firstCharOffset),!r.shouldDecrease(h+l)&&r.shouldDecrease(h+n+l)){const g=p(s,i,t.startLineNumber,!1,m);if(!g)return null;let d=g.indentation;return g.action!==k.IndentAction.Indent&&(d=c.unshiftIndent(d)),d}return null}function o(s,i,t){const n=t.getLanguageConfiguration(s.getLanguageId()).indentRulesSupport;return!n||i<1||i>s.getLineCount()?null:n.getIndentMetadata(s.getLineContent(i))}}),define(ie[268],ne([1,0,126,34]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getEnterAction=E;function E(D,y,p,w){const b=(0,k.getScopedLineTokens)(y,p.startLineNumber,p.startColumn),C=w.getLanguageConfiguration(b.languageId);if(!C)return null;const o=b.getLineContent(),s=o.substr(0,p.startColumn-1-b.firstCharOffset);let i;p.isEmpty()?i=o.substr(p.startColumn-1-b.firstCharOffset):i=(0,k.getScopedLineTokens)(y,p.endLineNumber,p.endColumn).getLineContent().substr(p.endColumn-1-b.firstCharOffset);let t="";if(p.startLineNumber>1&&b.firstCharOffset===0){const a=(0,k.getScopedLineTokens)(y,p.startLineNumber-1);a.languageId===b.languageId&&(t=a.getLineContent())}const n=C.onEnter(D,t,s,i);if(!n)return null;const c=n.indentAction;let m=n.appendText;const u=n.removeText||0;m?c===f.IndentAction.Indent&&(m="	"+m):c===f.IndentAction.Indent||c===f.IndentAction.IndentOutdent?m="	":m="";let r=(0,k.getIndentationAtPosition)(y,p.startLineNumber,p.startColumn);return u&&(r=r.substring(0,r.length-u)),{indentAction:c,appendText:m,removeText:u,indentation:r}}}),define(ie[206],ne([1,0,12,90,5,24,268,34]),function(Q,e,f,k,E,D,y,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.ShiftCommand=void 0;const b=Object.create(null);function C(s,i){if(i<=0)return"";b[s]||(b[s]=["",s]);const t=b[s];for(let n=t.length;n<=i;n++)t[n]=t[n-1]+s;return t[i]}let o=w=class{static unshiftIndent(i,t,n,c,m){const u=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(m){const r=C(" ",c),h=k.CursorColumns.prevIndentTabStop(u,c)/c;return C(r,h)}else{const r="	",h=k.CursorColumns.prevRenderTabStop(u,n)/n;return C(r,h)}}static shiftIndent(i,t,n,c,m){const u=k.CursorColumns.visibleColumnFromColumn(i,t,n);if(m){const r=C(" ",c),h=k.CursorColumns.nextIndentTabStop(u,c)/c;return C(r,h)}else{const r="	",h=k.CursorColumns.nextRenderTabStop(u,n)/n;return C(r,h)}}constructor(i,t,n){this._languageConfigurationService=n,this._opts=t,this._selection=i,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}_addEditOperation(i,t,n){this._useLastEditRangeForCursorEndPosition?i.addTrackedEditOperation(t,n):i.addEditOperation(t,n)}getEditOperations(i,t){const n=this._selection.startLineNumber;let c=this._selection.endLineNumber;this._selection.endColumn===1&&n!==c&&(c=c-1);const{tabSize:m,indentSize:u,insertSpaces:r}=this._opts,a=n===c;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(i.getLineContent(n))&&(this._useLastEditRangeForCursorEndPosition=!0);let h=0,l=0;for(let g=n;g<=c;g++,h=l){l=0;const d=i.getLineContent(g);let v=f.firstNonWhitespaceIndex(d);if(this._opts.isUnshift&&(d.length===0||v===0)||!a&&!this._opts.isUnshift&&d.length===0)continue;if(v===-1&&(v=d.length),g>1&&k.CursorColumns.visibleColumnFromColumn(d,v+1,m)%u!==0&&i.tokenization.isCheapToTokenize(g-1)){const L=(0,y.getEnterAction)(this._opts.autoIndent,i,new E.Range(g-1,i.getLineMaxColumn(g-1),g-1,i.getLineMaxColumn(g-1)),this._languageConfigurationService);if(L){if(l=h,L.appendText)for(let I=0,T=L.appendText.length;I<T&&l<u&&L.appendText.charCodeAt(I)===32;I++)l++;L.removeText&&(l=Math.max(0,l-L.removeText));for(let I=0;I<l&&!(v===0||d.charCodeAt(v-1)!==32);I++)v--}}if(this._opts.isUnshift&&v===0)continue;let _;this._opts.isUnshift?_=w.unshiftIndent(d,v+1,m,u,r):_=w.shiftIndent(d,v+1,m,u,r),this._addEditOperation(t,new E.Range(g,1,g,v+1),_),g===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=v+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&i.getLineLength(n)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const h=r?C(" ",u):"	";for(let l=n;l<=c;l++){const g=i.getLineContent(l);let d=f.firstNonWhitespaceIndex(g);if(!(this._opts.isUnshift&&(g.length===0||d===0))&&!(!a&&!this._opts.isUnshift&&g.length===0)&&(d===-1&&(d=g.length),!(this._opts.isUnshift&&d===0)))if(this._opts.isUnshift){d=Math.min(d,u);for(let v=0;v<d;v++)if(g.charCodeAt(v)===9){d=v+1;break}this._addEditOperation(t,new E.Range(l,1,l,d+1),"")}else this._addEditOperation(t,new E.Range(l,1,l,1),h),l===n&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=t.trackSelection(this._selection)}computeCursorState(i,t){if(this._useLastEditRangeForCursorEndPosition){const c=t.getInverseEditOperations()[0];return new D.Selection(c.range.endLineNumber,c.range.endColumn,c.range.endLineNumber,c.range.endColumn)}const n=t.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const c=this._selection.startColumn;return n.startColumn<=c?n:n.getDirection()===0?new D.Selection(n.startLineNumber,c,n.endLineNumber,n.endColumn):new D.Selection(n.endLineNumber,n.endColumn,n.startLineNumber,c)}return n}};e.ShiftCommand=o,e.ShiftCommand=o=w=Ie([ue(2,p.ILanguageConfigurationService)],o)}),define(ie[269],ne([1,0,10,12,141,206,532,79,161,5,9,126,34,144,267,268]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CompositionOutcome=e.TypeWithAutoClosingCommand=e.TypeOperations=void 0;class c{static indent(d,v,_){if(v===null||_===null)return[];const S=[];for(let L=0,I=_.length;L<I;L++)S[L]=new D.ShiftCommand(_[L],{isUnshift:!1,tabSize:d.tabSize,indentSize:d.indentSize,insertSpaces:d.insertSpaces,useTabStops:d.useTabStops,autoIndent:d.autoIndent},d.languageConfigurationService);return S}static outdent(d,v,_){const S=[];for(let L=0,I=_.length;L<I;L++)S[L]=new D.ShiftCommand(_[L],{isUnshift:!0,tabSize:d.tabSize,indentSize:d.indentSize,insertSpaces:d.insertSpaces,useTabStops:d.useTabStops,autoIndent:d.autoIndent},d.languageConfigurationService);return S}static shiftIndent(d,v,_){return _=_||1,D.ShiftCommand.shiftIndent(v,v.length+_,d.tabSize,d.indentSize,d.insertSpaces)}static unshiftIndent(d,v,_){return _=_||1,D.ShiftCommand.unshiftIndent(v,v.length+_,d.tabSize,d.indentSize,d.insertSpaces)}static _distributedPaste(d,v,_,S){const L=[];for(let I=0,T=_.length;I<T;I++)L[I]=new E.ReplaceCommand(_[I],S[I]);return new p.EditOperationResult(0,L,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(d,v,_,S,L){const I=[];for(let T=0,N=_.length;T<N;T++){const A=_[T],O=A.getPosition();if(L&&!A.isEmpty()&&(L=!1),L&&S.indexOf(`
`)!==S.length-1&&(L=!1),L){const M=new b.Range(O.lineNumber,1,O.lineNumber,1);I[T]=new E.ReplaceCommandThatPreservesSelection(M,S,A,!0)}else I[T]=new E.ReplaceCommand(A,S)}return new p.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(d,v,_,S,L){if(S||v.length===1)return null;if(L&&L.length===v.length)return L;if(d.multiCursorPaste==="spread"){_.charCodeAt(_.length-1)===10&&(_=_.substr(0,_.length-1)),_.charCodeAt(_.length-1)===13&&(_=_.substr(0,_.length-1));const I=k.splitLines(_);if(I.length===v.length)return I}return null}static paste(d,v,_,S,L,I){const T=this._distributePasteToCursors(d,_,S,L,I);return T?(_=_.sort(b.Range.compareRangesUsingStarts),this._distributedPaste(d,v,_,T)):this._simplePaste(d,v,_,S,L)}static _goodIndentForLine(d,v,_){let S=null,L="";const I=(0,t.getInheritIndentForLine)(d.autoIndent,v,_,!1,d.languageConfigurationService);if(I)S=I.action,L=I.indentation;else if(_>1){let T;for(T=_-1;T>=1;T--){const O=v.getLineContent(T);if(k.lastNonWhitespaceIndex(O)>=0)break}if(T<1)return null;const N=v.getLineMaxColumn(T),A=(0,n.getEnterAction)(d.autoIndent,v,new b.Range(T,N,T,N),d.languageConfigurationService);A&&(L=A.indentation+A.appendText)}return S&&(S===o.IndentAction.Indent&&(L=c.shiftIndent(d,L)),S===o.IndentAction.Outdent&&(L=c.unshiftIndent(d,L)),L=d.normalizeIndentation(L)),L||null}static _replaceJumpToNextIndent(d,v,_,S){let L="";const I=_.getStartPosition();if(d.insertSpaces){const T=d.visibleColumnFromColumn(v,I),N=d.indentSize,A=N-T%N;for(let O=0;O<A;O++)L+=" "}else L="	";return new E.ReplaceCommand(_,L,S)}static tab(d,v,_){const S=[];for(let L=0,I=_.length;L<I;L++){const T=_[L];if(T.isEmpty()){const N=v.getLineContent(T.startLineNumber);if(/^\s*$/.test(N)&&v.tokenization.isCheapToTokenize(T.startLineNumber)){let A=this._goodIndentForLine(d,v,T.startLineNumber);A=A||"	";const O=d.normalizeIndentation(A);if(!N.startsWith(O)){S[L]=new E.ReplaceCommand(new b.Range(T.startLineNumber,1,T.startLineNumber,N.length+1),O,!0);continue}}S[L]=this._replaceJumpToNextIndent(d,v,T,!0)}else{if(T.startLineNumber===T.endLineNumber){const N=v.getLineMaxColumn(T.startLineNumber);if(T.startColumn!==1||T.endColumn!==N){S[L]=this._replaceJumpToNextIndent(d,v,T,!1);continue}}S[L]=new D.ShiftCommand(T,{isUnshift:!1,tabSize:d.tabSize,indentSize:d.indentSize,insertSpaces:d.insertSpaces,useTabStops:d.useTabStops,autoIndent:d.autoIndent},d.languageConfigurationService)}}return S}static compositionType(d,v,_,S,L,I,T,N){const A=S.map(O=>this._compositionType(_,O,L,I,T,N));return new p.EditOperationResult(4,A,{shouldPushStackElementBefore:a(d,4),shouldPushStackElementAfter:!1})}static _compositionType(d,v,_,S,L,I){if(!v.isEmpty())return null;const T=v.getPosition(),N=Math.max(1,T.column-S),A=Math.min(d.getLineMaxColumn(T.lineNumber),T.column+L),O=new b.Range(T.lineNumber,N,T.lineNumber,A);return d.getValueInRange(O)===_&&I===0?null:new E.ReplaceCommandWithOffsetCursorState(O,_,0,I)}static _typeCommand(d,v,_){return _?new E.ReplaceCommandWithoutChangingPosition(d,v,!0):new E.ReplaceCommand(d,v,!0)}static _enter(d,v,_,S){if(d.autoIndent===0)return c._typeCommand(S,`
`,_);if(!v.tokenization.isCheapToTokenize(S.getStartPosition().lineNumber)||d.autoIndent===1){const N=v.getLineContent(S.startLineNumber),A=k.getLeadingWhitespace(N).substring(0,S.startColumn-1);return c._typeCommand(S,`
`+d.normalizeIndentation(A),_)}const L=(0,n.getEnterAction)(d.autoIndent,v,S,d.languageConfigurationService);if(L){if(L.indentAction===o.IndentAction.None)return c._typeCommand(S,`
`+d.normalizeIndentation(L.indentation+L.appendText),_);if(L.indentAction===o.IndentAction.Indent)return c._typeCommand(S,`
`+d.normalizeIndentation(L.indentation+L.appendText),_);if(L.indentAction===o.IndentAction.IndentOutdent){const N=d.normalizeIndentation(L.indentation),A=d.normalizeIndentation(L.indentation+L.appendText),O=`
`+A+`
`+N;return _?new E.ReplaceCommandWithoutChangingPosition(S,O,!0):new E.ReplaceCommandWithOffsetCursorState(S,O,-1,A.length-N.length,!0)}else if(L.indentAction===o.IndentAction.Outdent){const N=c.unshiftIndent(d,L.indentation);return c._typeCommand(S,`
`+d.normalizeIndentation(N+L.appendText),_)}}const I=v.getLineContent(S.startLineNumber),T=k.getLeadingWhitespace(I).substring(0,S.startColumn-1);if(d.autoIndent>=4){const N=(0,t.getIndentForEnter)(d.autoIndent,v,S,{unshiftIndent:A=>c.unshiftIndent(d,A),shiftIndent:A=>c.shiftIndent(d,A),normalizeIndentation:A=>d.normalizeIndentation(A)},d.languageConfigurationService);if(N){let A=d.visibleColumnFromColumn(v,S.getEndPosition());const O=S.endColumn,M=v.getLineContent(S.endLineNumber),R=k.firstNonWhitespaceIndex(M);if(R>=0?S=S.setEndPosition(S.endLineNumber,Math.max(S.endColumn,R+1)):S=S.setEndPosition(S.endLineNumber,v.getLineMaxColumn(S.endLineNumber)),_)return new E.ReplaceCommandWithoutChangingPosition(S,`
`+d.normalizeIndentation(N.afterEnter),!0);{let x=0;return O<=R+1&&(d.insertSpaces||(A=Math.ceil(A/d.indentSize)),x=Math.min(A+1-d.normalizeIndentation(N.afterEnter).length-1,0)),new E.ReplaceCommandWithOffsetCursorState(S,`
`+d.normalizeIndentation(N.afterEnter),0,x,!0)}}}return c._typeCommand(S,`
`+d.normalizeIndentation(T),_)}static _isAutoIndentType(d,v,_){if(d.autoIndent<4)return!1;for(let S=0,L=_.length;S<L;S++)if(!v.tokenization.isCheapToTokenize(_[S].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(d,v,_,S){const L=(0,s.getIndentationAtPosition)(v,_.startLineNumber,_.startColumn),I=(0,t.getIndentActionForType)(d.autoIndent,v,_,S,{shiftIndent:T=>c.shiftIndent(d,T),unshiftIndent:T=>c.unshiftIndent(d,T)},d.languageConfigurationService);if(I===null)return null;if(I!==d.normalizeIndentation(L)){const T=v.getLineFirstNonWhitespaceColumn(_.startLineNumber);return T===0?c._typeCommand(new b.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),d.normalizeIndentation(I)+S,!1):c._typeCommand(new b.Range(_.startLineNumber,1,_.endLineNumber,_.endColumn),d.normalizeIndentation(I)+v.getLineContent(_.startLineNumber).substring(T-1,_.startColumn-1)+S,!1)}return null}static _isAutoClosingOvertype(d,v,_,S,L){if(d.autoClosingOvertype==="never"||!d.autoClosingPairs.autoClosingPairsCloseSingleChar.has(L))return!1;for(let I=0,T=_.length;I<T;I++){const N=_[I];if(!N.isEmpty())return!1;const A=N.getPosition(),O=v.getLineContent(A.lineNumber);if(O.charAt(A.column-1)!==L)return!1;const R=(0,p.isQuote)(L);if((A.column>2?O.charCodeAt(A.column-2):0)===92&&R)return!1;if(d.autoClosingOvertype==="auto"){let F=!1;for(let W=0,H=S.length;W<H;W++){const z=S[W];if(A.lineNumber===z.startLineNumber&&A.column===z.startColumn){F=!0;break}}if(!F)return!1}}return!0}static _runAutoClosingOvertype(d,v,_,S,L){const I=[];for(let T=0,N=S.length;T<N;T++){const O=S[T].getPosition(),M=new b.Range(O.lineNumber,O.column,O.lineNumber,O.column+1);I[T]=new E.ReplaceCommand(M,L)}return new p.EditOperationResult(4,I,{shouldPushStackElementBefore:a(d,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(d,v){const _=v.charAt(0),S=d.autoClosingPairs.autoClosingPairsOpenByStart.get(_)||[],L=d.autoClosingPairs.autoClosingPairsCloseByStart.get(_)||[],I=S.some(N=>v.startsWith(N.open)),T=L.some(N=>v.startsWith(N.close));return!I&&T}static _findAutoClosingPairOpen(d,v,_,S){const L=d.autoClosingPairs.autoClosingPairsOpenByEnd.get(S);if(!L)return null;let I=null;for(const T of L)if(I===null||T.open.length>I.open.length){let N=!0;for(const A of _)if(v.getValueInRange(new b.Range(A.lineNumber,A.column-T.open.length+1,A.lineNumber,A.column))+S!==T.open){N=!1;break}N&&(I=T)}return I}static _findContainedAutoClosingPair(d,v){if(v.open.length<=1)return null;const _=v.close.charAt(v.close.length-1),S=d.autoClosingPairs.autoClosingPairsCloseByEnd.get(_)||[];let L=null;for(const I of S)I.open!==v.open&&v.open.includes(I.open)&&v.close.endsWith(I.close)&&(!L||I.open.length>L.open.length)&&(L=I);return L}static _getAutoClosingPairClose(d,v,_,S,L){for(const F of _)if(!F.isEmpty())return null;const I=_.map(F=>{const W=F.getPosition();return L?{lineNumber:W.lineNumber,beforeColumn:W.column-S.length,afterColumn:W.column}:{lineNumber:W.lineNumber,beforeColumn:W.column,afterColumn:W.column}}),T=this._findAutoClosingPairOpen(d,v,I.map(F=>new C.Position(F.lineNumber,F.beforeColumn)),S);if(!T)return null;let N,A;if((0,p.isQuote)(S)?(N=d.autoClosingQuotes,A=d.shouldAutoCloseBefore.quote):(d.blockCommentStartToken?T.open.includes(d.blockCommentStartToken):!1)?(N=d.autoClosingComments,A=d.shouldAutoCloseBefore.comment):(N=d.autoClosingBrackets,A=d.shouldAutoCloseBefore.bracket),N==="never")return null;const M=this._findContainedAutoClosingPair(d,T),R=M?M.close:"";let x=!0;for(const F of I){const{lineNumber:W,beforeColumn:H,afterColumn:z}=F,j=v.getLineContent(W),K=j.substring(0,H-1),U=j.substring(z-1);if(U.startsWith(R)||(x=!1),U.length>0){const Y=U.charAt(0);if(!c._isBeforeClosingBrace(d,U)&&!A(Y))return null}if(T.open.length===1&&(S==="'"||S==='"')&&N!=="always"){const Y=(0,w.getMapForWordSeparators)(d.wordSeparators,[]);if(K.length>0){const P=K.charCodeAt(K.length-1);if(Y.get(P)===0)return null}}if(!v.tokenization.isCheapToTokenize(W))return null;v.tokenization.forceTokenization(W);const G=v.tokenization.getLineTokens(W),te=(0,i.createScopedLineTokens)(G,H-1);if(!T.shouldAutoClose(te,H-te.firstCharOffset))return null;const ee=T.findNeutralCharacter();if(ee){const Y=v.tokenization.getTokenTypeIfInsertingCharacter(W,H,ee);if(!T.isOK(Y))return null}}return x?T.close.substring(0,T.close.length-R.length):T.close}static _runAutoClosingOpenCharType(d,v,_,S,L,I,T){const N=[];for(let A=0,O=S.length;A<O;A++){const M=S[A];N[A]=new m(M,L,!I,T)}return new p.EditOperationResult(4,N,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(d,v){return(0,p.isQuote)(v)?d.autoSurround==="quotes"||d.autoSurround==="languageDefined":d.autoSurround==="brackets"||d.autoSurround==="languageDefined"}static _isSurroundSelectionType(d,v,_,S){if(!c._shouldSurroundChar(d,S)||!d.surroundingPairs.hasOwnProperty(S))return!1;const L=(0,p.isQuote)(S);for(const I of _){if(I.isEmpty())return!1;let T=!0;for(let N=I.startLineNumber;N<=I.endLineNumber;N++){const A=v.getLineContent(N),O=N===I.startLineNumber?I.startColumn-1:0,M=N===I.endLineNumber?I.endColumn-1:A.length,R=A.substring(O,M);if(/[^ \t]/.test(R)){T=!1;break}}if(T)return!1;if(L&&I.startLineNumber===I.endLineNumber&&I.startColumn+1===I.endColumn){const N=v.getValueInRange(I);if((0,p.isQuote)(N))return!1}}return!0}static _runSurroundSelectionType(d,v,_,S,L){const I=[];for(let T=0,N=S.length;T<N;T++){const A=S[T],O=v.surroundingPairs[L];I[T]=new y.SurroundSelectionCommand(A,L,O)}return new p.EditOperationResult(0,I,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(d,v,_){return!!(_.length===1&&v.tokenization.isCheapToTokenize(_[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(d,v,_,S,L){if(!v.electricChars.hasOwnProperty(L)||!S.isEmpty())return null;const I=S.getPosition();_.tokenization.forceTokenization(I.lineNumber);const T=_.tokenization.getLineTokens(I.lineNumber);let N;try{N=v.onElectricCharacter(L,T,I.column)}catch(A){return(0,f.onUnexpectedError)(A),null}if(!N)return null;if(N.matchOpenBracket){const A=(T.getLineContent()+L).lastIndexOf(N.matchOpenBracket)+1,O=_.bracketPairs.findMatchingBracketUp(N.matchOpenBracket,{lineNumber:I.lineNumber,column:A},500);if(O){if(O.startLineNumber===I.lineNumber)return null;const M=_.getLineContent(O.startLineNumber),R=k.getLeadingWhitespace(M),x=v.normalizeIndentation(R),F=_.getLineContent(I.lineNumber),W=_.getLineFirstNonWhitespaceColumn(I.lineNumber)||I.column,H=F.substring(W-1,I.column-1),z=x+H+L,j=new b.Range(I.lineNumber,1,I.lineNumber,I.column),K=new E.ReplaceCommand(j,z);return new p.EditOperationResult(r(z,d),[K],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(d,v,_,S,L,I){if(!S)return null;let T=null;for(const M of S)if(T===null)T=M.insertedText;else if(T!==M.insertedText)return null;if(!T||T.length!==1)return null;const N=T;let A=!1;for(const M of S)if(M.deletedText.length!==0){A=!0;break}if(A){if(!c._shouldSurroundChar(v,N)||!v.surroundingPairs.hasOwnProperty(N))return null;const M=(0,p.isQuote)(N);for(const F of S)if(F.deletedSelectionStart!==0||F.deletedSelectionEnd!==F.deletedText.length||/^[ \t]+$/.test(F.deletedText)||M&&(0,p.isQuote)(F.deletedText))return null;const R=[];for(const F of L){if(!F.isEmpty())return null;R.push(F.getPosition())}if(R.length!==S.length)return null;const x=[];for(let F=0,W=R.length;F<W;F++)x.push(new y.CompositionSurroundSelectionCommand(R[F],S[F].deletedText,v.surroundingPairs[N]));return new p.EditOperationResult(4,x,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(v,_,L,I,N)){const M=L.map(R=>new E.ReplaceCommand(new b.Range(R.positionLineNumber,R.positionColumn,R.positionLineNumber,R.positionColumn+1),"",!1));return new p.EditOperationResult(4,M,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const O=this._getAutoClosingPairClose(v,_,L,N,!0);return O!==null?this._runAutoClosingOpenCharType(d,v,_,L,N,!0,O):null}static typeWithInterceptors(d,v,_,S,L,I,T){if(!d&&T===`
`){const O=[];for(let M=0,R=L.length;M<R;M++)O[M]=c._enter(_,S,!1,L[M]);return new p.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!d&&this._isAutoIndentType(_,S,L)){const O=[];let M=!1;for(let R=0,x=L.length;R<x;R++)if(O[R]=this._runAutoIndentType(_,S,L[R],T),!O[R]){M=!0;break}if(!M)return new p.EditOperationResult(4,O,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(_,S,L,I,T))return this._runAutoClosingOvertype(v,_,S,L,T);if(!d){const O=this._getAutoClosingPairClose(_,S,L,T,!1);if(O)return this._runAutoClosingOpenCharType(v,_,S,L,T,!1,O)}if(!d&&this._isSurroundSelectionType(_,S,L,T))return this._runSurroundSelectionType(v,_,S,L,T);if(!d&&this._isTypeInterceptorElectricChar(_,S,L)){const O=this._typeInterceptorElectricChar(v,_,S,L[0],T);if(O)return O}const N=[];for(let O=0,M=L.length;O<M;O++)N[O]=new E.ReplaceCommand(L[O],T);const A=r(T,v);return new p.EditOperationResult(A,N,{shouldPushStackElementBefore:a(v,A),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(d,v,_,S,L){const I=[];for(let N=0,A=S.length;N<A;N++)I[N]=new E.ReplaceCommand(S[N],L);const T=r(L,d);return new p.EditOperationResult(T,I,{shouldPushStackElementBefore:a(d,T),shouldPushStackElementAfter:!1})}static lineInsertBefore(d,v,_){if(v===null||_===null)return[];const S=[];for(let L=0,I=_.length;L<I;L++){let T=_[L].positionLineNumber;if(T===1)S[L]=new E.ReplaceCommandWithoutChangingPosition(new b.Range(1,1,1,1),`
`);else{T--;const N=v.getLineMaxColumn(T);S[L]=this._enter(d,v,!1,new b.Range(T,N,T,N))}}return S}static lineInsertAfter(d,v,_){if(v===null||_===null)return[];const S=[];for(let L=0,I=_.length;L<I;L++){const T=_[L].positionLineNumber,N=v.getLineMaxColumn(T);S[L]=this._enter(d,v,!1,new b.Range(T,N,T,N))}return S}static lineBreakInsert(d,v,_){const S=[];for(let L=0,I=_.length;L<I;L++)S[L]=this._enter(d,v,!0,_[L]);return S}}e.TypeOperations=c;class m extends E.ReplaceCommandWithOffsetCursorState{constructor(d,v,_,S){super(d,(_?v:"")+S,0,-S.length),this._openCharacter=v,this._closeCharacter=S,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(d,v){const S=v.getInverseEditOperations()[0].range;return this.closeCharacterRange=new b.Range(S.startLineNumber,S.endColumn-this._closeCharacter.length,S.endLineNumber,S.endColumn),this.enclosingRange=new b.Range(S.startLineNumber,S.endColumn-this._openCharacter.length-this._closeCharacter.length,S.endLineNumber,S.endColumn),super.computeCursorState(d,v)}}e.TypeWithAutoClosingCommand=m;class u{constructor(d,v,_,S,L,I){this.deletedText=d,this.deletedSelectionStart=v,this.deletedSelectionEnd=_,this.insertedText=S,this.insertedSelectionStart=L,this.insertedSelectionEnd=I}}e.CompositionOutcome=u;function r(g,d){return g===" "?d===5||d===6?6:5:4}function a(g,d){return l(g)&&!l(d)?!0:g===5?!1:h(g)!==h(d)}function h(g){return g===6||g===5?"space":g}function l(g){return g===4||g===5||g===6}}),define(ie[838],ne([1,0,10,12,545,79,534,228,269,5,24,127,235,2,236]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorsController=void 0;class n extends i.Disposable{constructor(l,g,d,v){super(),this._model=l,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=g,this._coordinatesConverter=d,this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,v),this._cursors=new E.CursorCollection(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,i.dispose)(this._autoClosedActions),super.dispose()}updateConfiguration(l){this.context=new y.CursorContext(this._model,this._viewModel,this._coordinatesConverter,l),this._cursors.updateContext(this.context)}onLineMappingChanged(l){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(l,"viewModel",0,this.getCursorStates())}setHasFocus(l){this._hasFocus=l}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const l=this._cursors.getSelections();for(let g=0;g<this._autoClosedActions.length;g++){const d=this._autoClosedActions[g];d.isValid(l)||(d.dispose(),this._autoClosedActions.splice(g,1),g--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(l,g,d,v){let _=!1;const S=this.context.cursorConfig.multiCursorLimit;v!==null&&v.length>S&&(v=v.slice(0,S),_=!0);const L=c.from(this._model,this);return this._cursors.setStates(v),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,g,d,L,_)}setCursorColumnSelectData(l){this._columnSelectData=l}revealAll(l,g,d,v,_,S){const L=this._cursors.getViewPositions();let I=null,T=null;L.length>1?T=this._cursors.getViewSelections():I=b.Range.fromPositions(L[0],L[0]),l.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,d,I,T,v,_,S))}revealPrimary(l,g,d,v,_,S){const I=[this._cursors.getPrimaryCursor().viewState.selection];l.emitViewEvent(new s.ViewRevealRangeRequestEvent(g,d,null,I,v,_,S))}saveState(){const l=[],g=this._cursors.getSelections();for(let d=0,v=g.length;d<v;d++){const _=g[d];l.push({inSelectionMode:!_.isEmpty(),selectionStart:{lineNumber:_.selectionStartLineNumber,column:_.selectionStartColumn},position:{lineNumber:_.positionLineNumber,column:_.positionColumn}})}return l}restoreState(l,g){const d=[];for(let v=0,_=g.length;v<_;v++){const S=g[v];let L=1,I=1;S.position&&S.position.lineNumber&&(L=S.position.lineNumber),S.position&&S.position.column&&(I=S.position.column);let T=L,N=I;S.selectionStart&&S.selectionStart.lineNumber&&(T=S.selectionStart.lineNumber),S.selectionStart&&S.selectionStart.column&&(N=S.selectionStart.column),d.push({selectionStartLineNumber:T,selectionStartColumn:N,positionLineNumber:L,positionColumn:I})}this.setStates(l,"restoreState",0,D.CursorState.fromModelSelections(d)),this.revealAll(l,"restoreState",!1,0,!0,1)}onModelContentChanged(l,g){if(g instanceof o.ModelInjectedTextChangedEvent){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(l,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const d=g.rawContentChangedEvent;if(this._knownModelVersionId=d.versionId,this._isHandling)return;const v=d.containsEvent(1);if(this._prevEditOperationType=0,v)this._cursors.dispose(),this._cursors=new E.CursorCollection(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(l,"model",1,null,!1);else if(this._hasFocus&&d.resultingSelection&&d.resultingSelection.length>0){const _=D.CursorState.fromModelSelections(d.resultingSelection);this.setStates(l,"modelChange",d.isUndoing?5:d.isRedoing?6:2,_)&&this.revealAll(l,"modelChange",!1,0,!0,0)}else{const _=this._cursors.readSelectionFromMarkers();this.setStates(l,"modelChange",2,D.CursorState.fromModelSelections(_))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const l=this._cursors.getPrimaryCursor(),g=l.viewState.selectionStart.getStartPosition(),d=l.viewState.position;return{isReal:!1,fromViewLineNumber:g.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,g),toViewLineNumber:d.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,d)}}getSelections(){return this._cursors.getSelections()}setSelections(l,g,d,v){this.setStates(l,g,v,D.CursorState.fromModelSelections(d))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(l){this._prevEditOperationType=l}_pushAutoClosedAction(l,g){const d=[],v=[];for(let L=0,I=l.length;L<I;L++)d.push({range:l[L],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),v.push({range:g[L],options:{description:"auto-closed-enclosing",stickiness:1}});const _=this._model.deltaDecorations([],d),S=this._model.deltaDecorations([],v);this._autoClosedActions.push(new m(this._model,_,S))}_executeEditOperation(l){if(!l)return;l.shouldPushStackElementBefore&&this._model.pushStackElement();const g=u.executeCommands(this._model,this._cursors.getSelections(),l.commands);if(g){this._interpretCommandResult(g);const d=[],v=[];for(let _=0;_<l.commands.length;_++){const S=l.commands[_];S instanceof w.TypeWithAutoClosingCommand&&S.enclosingRange&&S.closeCharacterRange&&(d.push(S.closeCharacterRange),v.push(S.enclosingRange))}d.length>0&&this._pushAutoClosedAction(d,v),this._prevEditOperationType=l.type}l.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(l){(!l||l.length===0)&&(l=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(l),this._cursors.normalize()}_emitStateChangedIfNecessary(l,g,d,v,_){const S=c.from(this._model,this);if(S.equals(v))return!1;const L=this._cursors.getSelections(),I=this._cursors.getViewSelections();if(l.emitViewEvent(new s.ViewCursorStateChangedEvent(I,L,d)),!v||v.cursorState.length!==S.cursorState.length||S.cursorState.some((T,N)=>!T.modelState.equals(v.cursorState[N].modelState))){const T=v?v.cursorState.map(A=>A.modelState.selection):null,N=v?v.modelVersionId:0;l.emitOutgoingEvent(new t.CursorStateChangedEvent(T,L,N,S.modelVersionId,g||"keyboard",d,_))}return!0}_findAutoClosingPairs(l){if(!l.length)return null;const g=[];for(let d=0,v=l.length;d<v;d++){const _=l[d];if(!_.text||_.text.indexOf(`
`)>=0)return null;const S=_.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!S)return null;const L=S[1],I=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(L);if(!I||I.length!==1)return null;const T=I[0].open,N=_.text.length-S[2].length-1,A=_.text.lastIndexOf(T,N-1);if(A===-1)return null;g.push([A,N])}return g}executeEdits(l,g,d,v){let _=null;g==="snippet"&&(_=this._findAutoClosingPairs(d)),_&&(d[0]._isTracked=!0);const S=[],L=[],I=this._model.pushEditOperations(this.getSelections(),d,T=>{if(_)for(let A=0,O=_.length;A<O;A++){const[M,R]=_[A],x=T[A],F=x.range.startLineNumber,W=x.range.startColumn-1+M,H=x.range.startColumn-1+R;S.push(new b.Range(F,H+1,F,H+2)),L.push(new b.Range(F,W+1,F,H+2))}const N=v(T);return N&&(this._isHandling=!0),N});I&&(this._isHandling=!1,this.setSelections(l,g,I,0)),S.length>0&&this._pushAutoClosedAction(S,L)}_executeEdit(l,g,d,v=0){if(this.context.cursorConfig.readOnly)return;const _=c.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),l()}catch(S){(0,f.onUnexpectedError)(S)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(g,d,v,_,!1)&&this.revealAll(g,d,!1,0,!0,0)}getAutoClosedCharacters(){return m.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(l){this._compositionState=new a(this._model,this.getSelections())}endComposition(l,g){const d=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{g==="keyboard"&&this._executeEditOperation(w.TypeOperations.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,d,this.getSelections(),this.getAutoClosedCharacters()))},l,g)}type(l,g,d){this._executeEdit(()=>{if(d==="keyboard"){const v=g.length;let _=0;for(;_<v;){const S=k.nextCharLength(g,_),L=g.substr(_,S);this._executeEditOperation(w.TypeOperations.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),L)),_+=S}}else this._executeEditOperation(w.TypeOperations.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g))},l,d)}compositionType(l,g,d,v,_,S){if(g.length===0&&d===0&&v===0){if(_!==0){const L=this.getSelections().map(I=>{const T=I.getPosition();return new C.Selection(T.lineNumber,T.column+_,T.lineNumber,T.column+_)});this.setSelections(l,S,L,0)}return}this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),g,d,v,_))},l,S)}paste(l,g,d,v,_){this._executeEdit(()=>{this._executeEditOperation(w.TypeOperations.paste(this.context.cursorConfig,this._model,this.getSelections(),g,d,v||[]))},l,_,4)}cut(l,g){this._executeEdit(()=>{this._executeEditOperation(p.DeleteOperations.cut(this.context.cursorConfig,this._model,this.getSelections()))},l,g)}executeCommand(l,g,d){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new D.EditOperationResult(0,[g],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,d)}executeCommands(l,g,d){this._executeEdit(()=>{this._executeEditOperation(new D.EditOperationResult(0,g,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},l,d)}}e.CursorsController=n;class c{static from(l,g){return new c(l.getVersionId(),g.getCursorStates())}constructor(l,g){this.modelVersionId=l,this.cursorState=g}equals(l){if(!l||this.modelVersionId!==l.modelVersionId||this.cursorState.length!==l.cursorState.length)return!1;for(let g=0,d=this.cursorState.length;g<d;g++)if(!this.cursorState[g].equals(l.cursorState[g]))return!1;return!0}}class m{static getAllAutoClosedCharacters(l){let g=[];for(const d of l)g=g.concat(d.getAutoClosedCharactersRanges());return g}constructor(l,g,d){this._model=l,this._autoClosedCharactersDecorations=g,this._autoClosedEnclosingDecorations=d}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const l=[];for(let g=0;g<this._autoClosedCharactersDecorations.length;g++){const d=this._model.getDecorationRange(this._autoClosedCharactersDecorations[g]);d&&l.push(d)}return l}isValid(l){const g=[];for(let d=0;d<this._autoClosedEnclosingDecorations.length;d++){const v=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[d]);if(v&&(g.push(v),v.startLineNumber!==v.endLineNumber))return!1}g.sort(b.Range.compareRangesUsingStarts),l.sort(b.Range.compareRangesUsingStarts);for(let d=0;d<l.length;d++)if(d>=g.length||!g[d].strictContainsRange(l[d]))return!1;return!0}}class u{static executeCommands(l,g,d){const v={model:l,selectionsBefore:g,trackedRanges:[],trackedRangesDirection:[]},_=this._innerExecuteCommands(v,d);for(let S=0,L=v.trackedRanges.length;S<L;S++)v.model._setTrackedRange(v.trackedRanges[S],null,0);return _}static _innerExecuteCommands(l,g){if(this._arrayIsEmpty(g))return null;const d=this._getEditOperations(l,g);if(d.operations.length===0)return null;const v=d.operations,_=this._getLoserCursorMap(v);if(_.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const S=[];for(let T=0,N=v.length;T<N;T++)_.hasOwnProperty(v[T].identifier.major.toString())||S.push(v[T]);d.hadTrackedEditOperation&&S.length>0&&(S[0]._isTracked=!0);let L=l.model.pushEditOperations(l.selectionsBefore,S,T=>{const N=[];for(let M=0;M<l.selectionsBefore.length;M++)N[M]=[];for(const M of T)M.identifier&&N[M.identifier.major].push(M);const A=(M,R)=>M.identifier.minor-R.identifier.minor,O=[];for(let M=0;M<l.selectionsBefore.length;M++)N[M].length>0?(N[M].sort(A),O[M]=g[M].computeCursorState(l.model,{getInverseEditOperations:()=>N[M],getTrackedSelection:R=>{const x=parseInt(R,10),F=l.model._getTrackedRange(l.trackedRanges[x]);return l.trackedRangesDirection[x]===0?new C.Selection(F.startLineNumber,F.startColumn,F.endLineNumber,F.endColumn):new C.Selection(F.endLineNumber,F.endColumn,F.startLineNumber,F.startColumn)}})):O[M]=l.selectionsBefore[M];return O});L||(L=l.selectionsBefore);const I=[];for(const T in _)_.hasOwnProperty(T)&&I.push(parseInt(T,10));I.sort((T,N)=>N-T);for(const T of I)L.splice(T,1);return L}static _arrayIsEmpty(l){for(let g=0,d=l.length;g<d;g++)if(l[g])return!1;return!0}static _getEditOperations(l,g){let d=[],v=!1;for(let _=0,S=g.length;_<S;_++){const L=g[_];if(L){const I=this._getEditOperationsFromCommand(l,_,L);d=d.concat(I.operations),v=v||I.hadTrackedEditOperation}}return{operations:d,hadTrackedEditOperation:v}}static _getEditOperationsFromCommand(l,g,d){const v=[];let _=0;const S=(A,O,M=!1)=>{b.Range.isEmpty(A)&&O===""||v.push({identifier:{major:g,minor:_++},range:A,text:O,forceMoveMarkers:M,isAutoWhitespaceEdit:d.insertsAutoWhitespace})};let L=!1;const N={addEditOperation:S,addTrackedEditOperation:(A,O,M)=>{L=!0,S(A,O,M)},trackSelection:(A,O)=>{const M=C.Selection.liftSelection(A);let R;if(M.isEmpty())if(typeof O=="boolean")O?R=2:R=3;else{const W=l.model.getLineMaxColumn(M.startLineNumber);M.startColumn===W?R=2:R=3}else R=1;const x=l.trackedRanges.length,F=l.model._setTrackedRange(null,M,R);return l.trackedRanges[x]=F,l.trackedRangesDirection[x]=M.getDirection(),x.toString()}};try{d.getEditOperations(l.model,N)}catch(A){return(0,f.onUnexpectedError)(A),{operations:[],hadTrackedEditOperation:!1}}return{operations:v,hadTrackedEditOperation:L}}static _getLoserCursorMap(l){l=l.slice(0),l.sort((d,v)=>-b.Range.compareRangesUsingEnds(d.range,v.range));const g={};for(let d=1;d<l.length;d++){const v=l[d-1],_=l[d];if(b.Range.getStartPosition(v.range).isBefore(b.Range.getEndPosition(_.range))){let S;v.identifier.major>_.identifier.major?S=v.identifier.major:S=_.identifier.major,g[S.toString()]=!0;for(let L=0;L<l.length;L++)l[L].identifier.major===S&&(l.splice(L,1),L<d&&d--,L--);d>0&&d--}}return g}}class r{constructor(l,g,d){this.text=l,this.startSelection=g,this.endSelection=d}}class a{static _capture(l,g){const d=[];for(const v of g){if(v.startLineNumber!==v.endLineNumber)return null;d.push(new r(l.getLineContent(v.startLineNumber),v.startColumn-1,v.endColumn-1))}return d}constructor(l,g){this._original=a._capture(l,g)}deduceOutcome(l,g){if(!this._original)return null;const d=a._capture(l,g);if(!d||this._original.length!==d.length)return null;const v=[];for(let _=0,S=this._original.length;_<S;_++)v.push(a._deduceOutcome(this._original[_],d[_]));return v}static _deduceOutcome(l,g){const d=Math.min(l.startSelection,g.startSelection,k.commonPrefixLength(l.text,g.text)),v=Math.min(l.text.length-l.endSelection,g.text.length-g.endSelection,k.commonSuffixLength(l.text,g.text)),_=l.text.substring(d,l.text.length-v),S=g.text.substring(d,g.text.length-v);return new w.CompositionOutcome(_,l.startSelection-d,l.endSelection-d,S,g.startSelection-d,g.endSelection-d)}}}),define(ie[839],ne([1,0,49,50,85,364]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getIconClasses=p;const y=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function p(C,o,s,i,t){if(t)return[`codicon-${t.id}`,"predefined-file-icon"];const n=i===D.FileKind.ROOT_FOLDER?["rootfolder-icon"]:i===D.FileKind.FOLDER?["folder-icon"]:["file-icon"];if(s){let c;if(s.scheme===f.Schemas.data)c=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_LABEL);else{const m=s.path.match(y);m?(c=b(m[2].toLowerCase()),m[1]&&n.push(`${b(m[1].toLowerCase())}-name-dir-icon`)):c=b(s.authority.toLowerCase())}if(i===D.FileKind.ROOT_FOLDER)n.push(`${c}-root-name-folder-icon`);else if(i===D.FileKind.FOLDER)n.push(`${c}-name-folder-icon`);else{if(c){if(n.push(`${c}-name-file-icon`),n.push("name-file-icon"),c.length<=255){const u=c.split(".");for(let r=1;r<u.length;r++)n.push(`${u.slice(r).join(".")}-ext-file-icon`)}n.push("ext-file-icon")}const m=w(C,o,s);m&&n.push(`${b(m)}-lang-file-icon`)}}return n}function w(C,o,s){if(!s)return null;let i=null;if(s.scheme===f.Schemas.data){const n=k.DataUri.parseMetaData(s).get(k.DataUri.META_DATA_MIME);n&&(i=o.getLanguageIdByMimeType(n))}else{const t=C.getModel(s);t&&(i=t.getLanguageId())}return i&&i!==E.PLAINTEXT_LANGUAGE_ID?i:o.guessLanguageIdByFilepathOrFirstLine(s)}function b(C){return C.replace(/[\11\12\14\15\40]/g,"/")}}),define(ie[840],ne([1,0,337,123,49,97,50,12,85]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.registerPlatformLanguageAssociation=s,e.clearPlatformLanguageAssociations=n,e.getLanguageIds=c;let b=[],C=[],o=[];function s(a,h=!1){i(a,!1,h)}function i(a,h,l){const g=t(a,h);b.push(g),g.userConfigured?o.push(g):C.push(g),l&&!g.userConfigured&&b.forEach(d=>{d.mime===g.mime||d.userConfigured||(g.extension&&d.extension===g.extension&&console.warn(`Overwriting extension <<${g.extension}>> to now point to mime <<${g.mime}>>`),g.filename&&d.filename===g.filename&&console.warn(`Overwriting filename <<${g.filename}>> to now point to mime <<${g.mime}>>`),g.filepattern&&d.filepattern===g.filepattern&&console.warn(`Overwriting filepattern <<${g.filepattern}>> to now point to mime <<${g.mime}>>`),g.firstline&&d.firstline===g.firstline&&console.warn(`Overwriting firstline <<${g.firstline}>> to now point to mime <<${g.mime}>>`))})}function t(a,h){return{id:a.id,mime:a.mime,filename:a.filename,extension:a.extension,filepattern:a.filepattern,firstline:a.firstline,userConfigured:h,filenameLowercase:a.filename?a.filename.toLowerCase():void 0,extensionLowercase:a.extension?a.extension.toLowerCase():void 0,filepatternLowercase:a.filepattern?(0,f.parse)(a.filepattern.toLowerCase()):void 0,filepatternOnPath:a.filepattern?a.filepattern.indexOf(D.posix.sep)>=0:!1}}function n(){b=b.filter(a=>a.userConfigured),C=[]}function c(a,h){return m(a,h).map(l=>l.id)}function m(a,h){let l;if(a)switch(a.scheme){case E.Schemas.file:l=a.fsPath;break;case E.Schemas.data:{l=y.DataUri.parseMetaData(a).get(y.DataUri.META_DATA_LABEL);break}case E.Schemas.vscodeNotebookCell:l=void 0;break;default:l=a.path}if(!l)return[{id:"unknown",mime:k.Mimes.unknown}];l=l.toLowerCase();const g=(0,D.basename)(l),d=u(l,g,o);if(d)return[d,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];const v=u(l,g,C);if(v)return[v,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}];if(h){const _=r(h);if(_)return[_,{id:w.PLAINTEXT_LANGUAGE_ID,mime:k.Mimes.text}]}return[{id:"unknown",mime:k.Mimes.unknown}]}function u(a,h,l){var g;let d,v,_;for(let S=l.length-1;S>=0;S--){const L=l[S];if(h===L.filenameLowercase){d=L;break}if(L.filepattern&&(!v||L.filepattern.length>v.filepattern.length)){const I=L.filepatternOnPath?a:h;!((g=L.filepatternLowercase)===null||g===void 0)&&g.call(L,I)&&(v=L)}L.extension&&(!_||L.extension.length>_.extension.length)&&h.endsWith(L.extensionLowercase)&&(_=L)}if(d)return d;if(v)return v;if(_)return _}function r(a){if((0,p.startsWithUTF8BOM)(a)&&(a=a.substr(1)),a.length>0)for(let h=b.length-1;h>=0;h--){const l=b[h];if(!l.firstline)continue;const g=a.match(l.firstline);if(g&&g.length>0)return l}}}),define(ie[841],ne([1,0,7,2,12,840,85,105,39]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguagesRegistry=e.LanguageIdCodec=void 0;const b=Object.prototype.hasOwnProperty,C="vs.editor.nullLanguage";class o{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(C,0),this._register(y.PLAINTEXT_LANGUAGE_ID,1),this._nextLanguageId=2}_register(t,n){this._languageIdToLanguage[n]=t,this._languageToLanguageId.set(t,n)}register(t){if(this._languageToLanguageId.has(t))return;const n=this._nextLanguageId++;this._register(t,n)}encodeLanguageId(t){return this._languageToLanguageId.get(t)||0}decodeLanguageId(t){return this._languageIdToLanguage[t]||C}}e.LanguageIdCodec=o;class s extends k.Disposable{constructor(t=!0,n=!1){super(),this._onDidChange=this._register(new f.Emitter),this.onDidChange=this._onDidChange.event,s.instanceCount++,this._warnOnOverwrite=n,this.languageIdCodec=new o,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},t&&(this._initializeFromRegistry(),this._register(y.ModesRegistry.onDidChangeLanguages(c=>{this._initializeFromRegistry()})))}dispose(){s.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},(0,D.clearPlatformLanguageAssociations)();const t=[].concat(y.ModesRegistry.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(t)}_registerLanguages(t){for(const n of t)this._registerLanguage(n);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(n=>{const c=this._languages[n];c.name&&(this._nameMap[c.name]=c.identifier),c.aliases.forEach(m=>{this._lowercaseNameMap[m.toLowerCase()]=c.identifier}),c.mimetypes.forEach(m=>{this._mimeTypesMap[m]=c.identifier})}),w.Registry.as(p.Extensions.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(t){const n=t.id;let c;b.call(this._languages,n)?c=this._languages[n]:(this.languageIdCodec.register(n),c={identifier:n,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[n]=c),this._mergeLanguage(c,t)}_mergeLanguage(t,n){const c=n.id;let m=null;if(Array.isArray(n.mimetypes)&&n.mimetypes.length>0&&(t.mimetypes.push(...n.mimetypes),m=n.mimetypes[0]),m||(m=`text/x-${c}`,t.mimetypes.push(m)),Array.isArray(n.extensions)){n.configuration?t.extensions=n.extensions.concat(t.extensions):t.extensions=t.extensions.concat(n.extensions);for(const a of n.extensions)(0,D.registerPlatformLanguageAssociation)({id:c,mime:m,extension:a},this._warnOnOverwrite)}if(Array.isArray(n.filenames))for(const a of n.filenames)(0,D.registerPlatformLanguageAssociation)({id:c,mime:m,filename:a},this._warnOnOverwrite),t.filenames.push(a);if(Array.isArray(n.filenamePatterns))for(const a of n.filenamePatterns)(0,D.registerPlatformLanguageAssociation)({id:c,mime:m,filepattern:a},this._warnOnOverwrite);if(typeof n.firstLine=="string"&&n.firstLine.length>0){let a=n.firstLine;a.charAt(0)!=="^"&&(a="^"+a);try{const h=new RegExp(a);(0,E.regExpLeadsToEndlessLoop)(h)||(0,D.registerPlatformLanguageAssociation)({id:c,mime:m,firstline:h},this._warnOnOverwrite)}catch(h){console.warn(`[${n.id}]: Invalid regular expression \`${a}\`: `,h)}}t.aliases.push(c);let u=null;if(typeof n.aliases<"u"&&Array.isArray(n.aliases)&&(n.aliases.length===0?u=[null]:u=n.aliases),u!==null)for(const a of u)!a||a.length===0||t.aliases.push(a);const r=u!==null&&u.length>0;if(!(r&&u[0]===null)){const a=(r?u[0]:null)||c;(r||!t.name)&&(t.name=a)}n.configuration&&t.configurationFiles.push(n.configuration),n.icon&&t.icons.push(n.icon)}isRegisteredLanguageId(t){return t?b.call(this._languages,t):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(t){const n=t.toLowerCase();return b.call(this._lowercaseNameMap,n)?this._lowercaseNameMap[n]:null}getLanguageIdByMimeType(t){return t&&b.call(this._mimeTypesMap,t)?this._mimeTypesMap[t]:null}guessLanguageIdByFilepathOrFirstLine(t,n){return!t&&!n?[]:(0,D.getLanguageIds)(t,n)}}e.LanguagesRegistry=s,s.instanceCount=0}),define(ie[842],ne([1,0,7,2,841,13,28,85]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LanguageService=void 0;class w extends k.Disposable{constructor(o=!1){super(),this._onDidRequestBasicLanguageFeatures=this._register(new f.Emitter),this.onDidRequestBasicLanguageFeatures=this._onDidRequestBasicLanguageFeatures.event,this._onDidRequestRichLanguageFeatures=this._register(new f.Emitter),this.onDidRequestRichLanguageFeatures=this._onDidRequestRichLanguageFeatures.event,this._onDidChange=this._register(new f.Emitter({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,this._requestedBasicLanguages=new Set,this._requestedRichLanguages=new Set,w.instanceCount++,this._registry=this._register(new E.LanguagesRegistry(!0,o)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){w.instanceCount--,super.dispose()}isRegisteredLanguageId(o){return this._registry.isRegisteredLanguageId(o)}getLanguageIdByLanguageName(o){return this._registry.getLanguageIdByLanguageName(o)}getLanguageIdByMimeType(o){return this._registry.getLanguageIdByMimeType(o)}guessLanguageIdByFilepathOrFirstLine(o,s){const i=this._registry.guessLanguageIdByFilepathOrFirstLine(o,s);return(0,D.firstOrDefault)(i,null)}createById(o){return new b(this.onDidChange,()=>this._createAndGetLanguageIdentifier(o))}createByFilepathOrFirstLine(o,s){return new b(this.onDidChange,()=>{const i=this.guessLanguageIdByFilepathOrFirstLine(o,s);return this._createAndGetLanguageIdentifier(i)})}_createAndGetLanguageIdentifier(o){return(!o||!this.isRegisteredLanguageId(o))&&(o=p.PLAINTEXT_LANGUAGE_ID),o}requestBasicLanguageFeatures(o){this._requestedBasicLanguages.has(o)||(this._requestedBasicLanguages.add(o),this._onDidRequestBasicLanguageFeatures.fire(o))}requestRichLanguageFeatures(o){this._requestedRichLanguages.has(o)||(this._requestedRichLanguages.add(o),this.requestBasicLanguageFeatures(o),y.TokenizationRegistry.getOrCreate(o),this._onDidRequestRichLanguageFeatures.fire(o))}}e.LanguageService=w,w.instanceCount=0;class b{constructor(o,s){this._onDidChangeLanguages=o,this._selector=s,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new f.Emitter({onDidRemoveLastListener:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var o;const s=this._selector();s!==this.languageId&&(this.languageId=s,(o=this._emitter)===null||o===void 0||o.fire(this.languageId))}}}),define(ie[380],ne([1,0,35,266,53,34,2,18,142]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultDocumentColorProvider=void 0;class b{constructor(s,i){this._editorWorkerClient=new k.EditorWorkerClient(s,!1,"editorWorkerService",i)}async provideDocumentColors(s,i){return this._editorWorkerClient.computeDefaultDocumentColors(s.uri)}provideColorPresentations(s,i,t){const n=i.range,c=i.color,m=c.alpha,u=new f.Color(new f.RGBA(Math.round(255*c.red),Math.round(255*c.green),Math.round(255*c.blue),m)),r=m?f.Color.Format.CSS.formatRGB(u):f.Color.Format.CSS.formatRGBA(u),a=m?f.Color.Format.CSS.formatHSL(u):f.Color.Format.CSS.formatHSLA(u),h=m?f.Color.Format.CSS.formatHex(u):f.Color.Format.CSS.formatHexA(u),l=[];return l.push({label:r,textEdit:{range:n,text:r}}),l.push({label:a,textEdit:{range:n,text:a}}),l.push({label:h,textEdit:{range:n,text:h}}),l}}e.DefaultDocumentColorProvider=b;let C=class extends y.Disposable{constructor(s,i,t){super(),this._register(t.colorProvider.register("*",new b(s,i)))}};C=Ie([ue(0,E.IModelService),ue(1,D.ILanguageConfigurationService),ue(2,p.ILanguageFeaturesService)],C),(0,w.registerEditorFeature)(C)}),define(ie[381],ne([1,0,19,10,22,5,53,25,18,380,27]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getColors=o,e.getColorPresentations=s;async function o(u,r,a,h=!0){return c(new i,u,r,a,h)}function s(u,r,a,h){return Promise.resolve(a.provideColorPresentations(u,r,h))}class i{constructor(){}async compute(r,a,h,l){const g=await r.provideDocumentColors(a,h);if(Array.isArray(g))for(const d of g)l.push({colorInfo:d,provider:r});return Array.isArray(g)}}class t{constructor(){}async compute(r,a,h,l){const g=await r.provideDocumentColors(a,h);if(Array.isArray(g))for(const d of g)l.push({range:d.range,color:[d.color.red,d.color.green,d.color.blue,d.color.alpha]});return Array.isArray(g)}}class n{constructor(r){this.colorInfo=r}async compute(r,a,h,l){const g=await r.provideColorPresentations(a,this.colorInfo,f.CancellationToken.None);return Array.isArray(g)&&l.push(...g),Array.isArray(g)}}async function c(u,r,a,h,l){let g=!1,d;const v=[],_=r.ordered(a);for(let S=_.length-1;S>=0;S--){const L=_[S];if(L instanceof b.DefaultDocumentColorProvider)d=L;else try{await u.compute(L,a,h,v)&&(g=!0)}catch(I){(0,k.onUnexpectedExternalError)(I)}}return g?v:d&&l?(await u.compute(d,a,h,v),v):[]}function m(u,r){const{colorProvider:a}=u.get(w.ILanguageFeaturesService),h=u.get(y.IModelService).getModel(r);if(!h)throw(0,k.illegalArgument)();const l=u.get(C.IConfigurationService).getValue("editor.defaultColorDecorators",{resource:r});return{model:h,colorProviderRegistry:a,isDefaultColorDecoratorsEnabled:l}}p.CommandsRegistry.registerCommand("_executeDocumentColorProvider",function(u,...r){const[a]=r;if(!(a instanceof E.URI))throw(0,k.illegalArgument)();const{model:h,colorProviderRegistry:l,isDefaultColorDecoratorsEnabled:g}=m(u,a);return c(new t,l,h,f.CancellationToken.None,g)}),p.CommandsRegistry.registerCommand("_executeColorPresentationProvider",function(u,...r){const[a,h]=r,{uri:l,range:g}=h;if(!(l instanceof E.URI)||!Array.isArray(a)||a.length!==4||!D.Range.isIRange(g))throw(0,k.illegalArgument)();const{model:d,colorProviderRegistry:v,isDefaultColorDecoratorsEnabled:_}=m(u,l),[S,L,I,T]=a;return c(new n({range:g,color:{red:S,green:L,blue:I,alpha:T}}),v,d,f.CancellationToken.None,_)})}),define(ie[843],ne([1,0,6,2,117,353,168,653]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarginHoverWidget=void 0;const w=f.$;class b extends k.Disposable{constructor(o,s,i){super(),this._renderDisposeables=this._register(new k.DisposableStore),this._editor=o,this._isVisible=!1,this._messages=[],this._hover=this._register(new y.HoverWidget),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new E.MarkdownRenderer({editor:this._editor},s,i)),this._computer=new p.MarginHoverComputer(this._editor),this._hoverOperation=this._register(new D.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(t=>{this._withResult(t.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(t=>{t.hasChanged(50)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(s=>this._editor.applyFontInfo(s))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}showsOrWillShow(o){const s=o.target;return s.type===2&&s.detail.glyphMarginLane?(this._startShowingAt(s.position.lineNumber,s.detail.glyphMarginLane),!0):s.type===3?(this._startShowingAt(s.position.lineNumber,"lineNo"),!0):!1}_startShowingAt(o,s){this._computer.lineNumber===o&&this._computer.lane===s||(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=o,this._computer.lane=s,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(o){this._messages=o,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(o,s){this._renderDisposeables.clear();const i=document.createDocumentFragment();for(const t of s){const n=w("div.hover-row.markdown-hover"),c=f.append(n,w("div.hover-contents")),m=this._renderDisposeables.add(this._markdownRenderer.render(t.value));c.appendChild(m.element),i.appendChild(n)}this._updateContents(i),this._showAt(o)}_updateContents(o){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(o),this._updateFont()}_showAt(o){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const s=this._editor.getLayoutInfo(),i=this._editor.getTopForLineNumber(o),t=this._editor.getScrollTop(),n=this._editor.getOption(67),c=this._hover.containerDomNode.clientHeight,m=i-t-(c-n)/2,u=s.glyphMarginLeft+s.glyphMarginWidth+(this._computer.lane==="lineNo"?s.lineNumbersWidth:0);this._hover.containerDomNode.style.left=`${u}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(m),0)}px`}}e.MarginHoverWidget=b,b.ID="editor.contrib.modesGlyphHoverWidget"}),define(ie[844],ne([1,0,12,206,72,224,24]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReindentEditOperations=p;function p(w,b,C,o,s){if(w.getLineCount()===1&&w.getLineMaxColumn(1)===1)return[];const i=b.getLanguageConfiguration(w.getLanguageId()).indentationRules;if(!i)return[];for(o=Math.min(o,w.getLineCount());C<=o&&i.unIndentedLinePattern;){const d=w.getLineContent(C);if(!i.unIndentedLinePattern.test(d))break;C++}if(C>o-1)return[];const{tabSize:t,indentSize:n,insertSpaces:c}=w.getOptions(),m=(d,v)=>(v=v||1,k.ShiftCommand.shiftIndent(d,d.length+v,t,n,c)),u=(d,v)=>(v=v||1,k.ShiftCommand.unshiftIndent(d,d.length+v,t,n,c)),r=[];let a;const h=w.getLineContent(C);let l=h;if(s!=null){a=s;const d=f.getLeadingWhitespace(h);l=a+h.substring(d.length),i.decreaseIndentPattern&&i.decreaseIndentPattern.test(l)&&(a=u(a),l=a+h.substring(d.length)),h!==l&&r.push(E.EditOperation.replaceMove(new y.Selection(C,1,C,d.length+1),(0,D.normalizeIndentation)(a,n,c)))}else a=f.getLeadingWhitespace(h);let g=a;i.increaseIndentPattern&&i.increaseIndentPattern.test(l)?(g=m(g),a=m(a)):i.indentNextLinePattern&&i.indentNextLinePattern.test(l)&&(g=m(g)),C++;for(let d=C;d<=o;d++){const v=w.getLineContent(d),_=f.getLeadingWhitespace(v),S=g+v.substring(_.length);i.decreaseIndentPattern&&i.decreaseIndentPattern.test(S)&&(g=u(g),a=u(a)),_!==g&&r.push(E.EditOperation.replaceMove(new y.Selection(d,1,d,_.length+1),(0,D.normalizeIndentation)(g,n,c))),!(i.unIndentedLinePattern&&i.unIndentedLinePattern.test(v))&&(i.increaseIndentPattern&&i.increaseIndentPattern.test(S)?(a=m(a),g=a):i.indentNextLinePattern&&i.indentNextLinePattern.test(S)?g=m(g):g=a)}return r}}),define(ie[845],ne([1,0,19,155,78,2,30,5,109,108,28,34,18,655,239]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionWithUpdatedRange=e.UpToDateInlineCompletions=e.InlineCompletionsSource=void 0;let n=class extends D.Disposable{constructor(g,d,v,_,S){super(),this.textModel=g,this.versionId=d,this._debounceValue=v,this.languageFeaturesService=_,this.languageConfigurationService=S,this._updateOperation=this._register(new D.MutableDisposable),this.inlineCompletions=(0,y.disposableObservableValue)("inlineCompletions",void 0),this.suggestWidgetInlineCompletions=(0,y.disposableObservableValue)("suggestWidgetInlineCompletions",void 0),this._register(this.textModel.onDidChangeContent(()=>{this._updateOperation.clear()}))}fetch(g,d,v){var _,S;const L=new m(g,d,this.textModel.getVersionId()),I=d.selectedSuggestionInfo?this.suggestWidgetInlineCompletions:this.inlineCompletions;if(!((_=this._updateOperation.value)===null||_===void 0)&&_.request.satisfies(L))return this._updateOperation.value.promise;if(!((S=I.get())===null||S===void 0)&&S.request.satisfies(L))return Promise.resolve(!0);const T=!!this._updateOperation.value;this._updateOperation.clear();const N=new f.CancellationTokenSource,A=(async()=>{if((T||d.triggerKind===C.InlineCompletionTriggerKind.Automatic)&&await c(this._debounceValue.get(this.textModel),N.token),N.token.isCancellationRequested||this.textModel.getVersionId()!==L.versionId)return!1;const R=new Date,x=await(0,i.provideInlineCompletions)(this.languageFeaturesService.inlineCompletionsProvider,g,this.textModel,d,N.token,this.languageConfigurationService);if(N.token.isCancellationRequested||this.textModel.getVersionId()!==L.versionId)return!1;const F=new Date;this._debounceValue.update(this.textModel,F.getTime()-R.getTime());const W=new r(x,L,this.textModel,this.versionId);if(v){const H=v.toInlineCompletion(void 0);v.canBeReused(this.textModel,g)&&!x.has(H)&&W.prepend(v.inlineCompletion,H.range,!0)}return this._updateOperation.clear(),(0,y.transaction)(H=>{I.set(W,H)}),!0})(),O=new u(L,N,A);return this._updateOperation.value=O,A}clear(g){this._updateOperation.clear(),this.inlineCompletions.set(void 0,g),this.suggestWidgetInlineCompletions.set(void 0,g)}clearSuggestWidgetInlineCompletions(g){var d;!((d=this._updateOperation.value)===null||d===void 0)&&d.request.context.selectedSuggestionInfo&&this._updateOperation.clear(),this.suggestWidgetInlineCompletions.set(void 0,g)}cancelUpdate(){this._updateOperation.clear()}};e.InlineCompletionsSource=n,e.InlineCompletionsSource=n=Ie([ue(3,s.ILanguageFeaturesService),ue(4,o.ILanguageConfigurationService)],n);function c(l,g){return new Promise(d=>{let v;const _=setTimeout(()=>{v&&v.dispose(),d()},l);g&&(v=g.onCancellationRequested(()=>{clearTimeout(_),v&&v.dispose(),d()}))})}class m{constructor(g,d,v){this.position=g,this.context=d,this.versionId=v}satisfies(g){return this.position.equals(g.position)&&(0,k.equalsIfDefined)(this.context.selectedSuggestionInfo,g.context.selectedSuggestionInfo,(0,k.itemEquals)())&&(g.context.triggerKind===C.InlineCompletionTriggerKind.Automatic||this.context.triggerKind===C.InlineCompletionTriggerKind.Explicit)&&this.versionId===g.versionId}}class u{constructor(g,d,v){this.request=g,this.cancellationTokenSource=d,this.promise=v}dispose(){this.cancellationTokenSource.cancel()}}class r{get inlineCompletions(){return this._inlineCompletions}constructor(g,d,v,_){this.inlineCompletionProviderResult=g,this.request=d,this._textModel=v,this._versionId=_,this._refCount=1,this._prependedInlineCompletionItems=[];const S=v.deltaDecorations([],g.completions.map(L=>({range:L.range,options:{description:"inline-completion-tracking-range"}})));this._inlineCompletions=g.completions.map((L,I)=>new a(L,S[I],this._textModel,this._versionId))}clone(){return this._refCount++,this}dispose(){if(this._refCount--,this._refCount===0){setTimeout(()=>{this._textModel.isDisposed()||this._textModel.deltaDecorations(this._inlineCompletions.map(g=>g.decorationId),[])},0),this.inlineCompletionProviderResult.dispose();for(const g of this._prependedInlineCompletionItems)g.source.removeRef()}}prepend(g,d,v){v&&g.source.addRef();const _=this._textModel.deltaDecorations([],[{range:d,options:{description:"inline-completion-tracking-range"}}])[0];this._inlineCompletions.unshift(new a(g,_,this._textModel,this._versionId)),this._prependedInlineCompletionItems.push(g)}}e.UpToDateInlineCompletions=r;class a{get forwardStable(){var g;return(g=this.inlineCompletion.source.inlineCompletions.enableForwardStability)!==null&&g!==void 0?g:!1}constructor(g,d,v,_){this.inlineCompletion=g,this.decorationId=d,this._textModel=v,this._modelVersion=_,this.semanticId=JSON.stringify([this.inlineCompletion.filterText,this.inlineCompletion.insertText,this.inlineCompletion.range.getStartPosition().toString()]),this._updatedRange=(0,y.derivedOpts)({owner:this,equalsFn:p.Range.equalsRange},S=>(this._modelVersion.read(S),this._textModel.getDecorationRange(this.decorationId)))}toInlineCompletion(g){var d;return this.inlineCompletion.withRange((d=this._updatedRange.read(g))!==null&&d!==void 0?d:h)}toSingleTextEdit(g){var d;return new w.SingleTextEdit((d=this._updatedRange.read(g))!==null&&d!==void 0?d:h,this.inlineCompletion.insertText)}isVisible(g,d,v){const _=(0,t.singleTextRemoveCommonPrefix)(this._toFilterTextReplacement(v),g),S=this._updatedRange.read(v);if(!S||!this.inlineCompletion.range.getStartPosition().equals(S.getStartPosition())||d.lineNumber!==_.range.startLineNumber)return!1;const L=g.getValueInRange(_.range,1),I=_.text,T=Math.max(0,d.column-_.range.startColumn);let N=I.substring(0,T),A=I.substring(T),O=L.substring(0,T),M=L.substring(T);const R=g.getLineIndentColumn(_.range.startLineNumber);return _.range.startColumn<=R&&(O=O.trimStart(),O.length===0&&(M=M.trimStart()),N=N.trimStart(),N.length===0&&(A=A.trimStart())),N.startsWith(O)&&!!(0,E.matchesSubString)(M,A)}canBeReused(g,d){const v=this._updatedRange.read(void 0);return!!v&&v.containsPosition(d)&&this.isVisible(g,d,void 0)&&b.TextLength.ofRange(v).isGreaterThanOrEqualTo(b.TextLength.ofRange(this.inlineCompletion.range))}_toFilterTextReplacement(g){var d;return new w.SingleTextEdit((d=this._updatedRange.read(g))!==null&&d!==void 0?d:h,this.inlineCompletion.filterText)}}e.InlineCompletionWithUpdatedRange=a;const h=new p.Range(1,1,1,1)}),define(ie[846],ne([1,0,12,206,5,24,126,34,328,267,268]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MoveLinesCommand=void 0;let o=class{constructor(i,t,n,c){this._languageConfigurationService=c,this._selection=i,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(i,t){const n=i.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let c=this._selection;c.startLineNumber<c.endLineNumber&&c.endColumn===1&&(this._moveEndPositionDown=!0,c=c.setEndPosition(c.endLineNumber-1,i.getLineMaxColumn(c.endLineNumber-1)));const{tabSize:m,indentSize:u,insertSpaces:r}=i.getOptions(),a=this.buildIndentConverter(m,u,r),h={tokenization:{getLineTokens:l=>i.tokenization.getLineTokens(l),getLanguageId:()=>i.getLanguageId(),getLanguageIdAtPosition:(l,g)=>i.getLanguageIdAtPosition(l,g)},getLineContent:null};if(c.startLineNumber===c.endLineNumber&&i.getLineMaxColumn(c.startLineNumber)===1){const l=c.startLineNumber,g=this._isMovingDown?l+1:l-1;i.getLineMaxColumn(g)===1?t.addEditOperation(new E.Range(1,1,1,1),null):(t.addEditOperation(new E.Range(l,1,l,1),i.getLineContent(g)),t.addEditOperation(new E.Range(g,1,g,i.getLineMaxColumn(g)),null)),c=new D.Selection(g,1,g,1)}else{let l,g;if(this._isMovingDown){l=c.endLineNumber+1,g=i.getLineContent(l),t.addEditOperation(new E.Range(l-1,i.getLineMaxColumn(l-1),l,i.getLineMaxColumn(l)),null);let d=g;if(this.shouldAutoIndent(i,c)){const v=this.matchEnterRule(i,a,m,l,c.startLineNumber-1);if(v!==null){const S=f.getLeadingWhitespace(i.getLineContent(l)),L=v+w.getSpaceCnt(S,m);d=w.generateIndent(L,m,r)+this.trimStart(g)}else{h.getLineContent=L=>L===c.startLineNumber?i.getLineContent(l):i.getLineContent(L);const S=(0,b.getGoodIndentForLine)(this._autoIndent,h,i.getLanguageIdAtPosition(l,1),c.startLineNumber,a,this._languageConfigurationService);if(S!==null){const L=f.getLeadingWhitespace(i.getLineContent(l)),I=w.getSpaceCnt(S,m),T=w.getSpaceCnt(L,m);I!==T&&(d=w.generateIndent(I,m,r)+this.trimStart(g))}}t.addEditOperation(new E.Range(c.startLineNumber,1,c.startLineNumber,1),d+`
`);const _=this.matchEnterRuleMovingDown(i,a,m,c.startLineNumber,l,d);if(_!==null)_!==0&&this.getIndentEditsOfMovingBlock(i,t,c,m,r,_);else{h.getLineContent=L=>L===c.startLineNumber?d:L>=c.startLineNumber+1&&L<=c.endLineNumber+1?i.getLineContent(L-1):i.getLineContent(L);const S=(0,b.getGoodIndentForLine)(this._autoIndent,h,i.getLanguageIdAtPosition(l,1),c.startLineNumber+1,a,this._languageConfigurationService);if(S!==null){const L=f.getLeadingWhitespace(i.getLineContent(c.startLineNumber)),I=w.getSpaceCnt(S,m),T=w.getSpaceCnt(L,m);if(I!==T){const N=I-T;this.getIndentEditsOfMovingBlock(i,t,c,m,r,N)}}}}else t.addEditOperation(new E.Range(c.startLineNumber,1,c.startLineNumber,1),d+`
`)}else if(l=c.startLineNumber-1,g=i.getLineContent(l),t.addEditOperation(new E.Range(l,1,l+1,1),null),t.addEditOperation(new E.Range(c.endLineNumber,i.getLineMaxColumn(c.endLineNumber),c.endLineNumber,i.getLineMaxColumn(c.endLineNumber)),`
`+g),this.shouldAutoIndent(i,c)){h.getLineContent=v=>v===l?i.getLineContent(c.startLineNumber):i.getLineContent(v);const d=this.matchEnterRule(i,a,m,c.startLineNumber,c.startLineNumber-2);if(d!==null)d!==0&&this.getIndentEditsOfMovingBlock(i,t,c,m,r,d);else{const v=(0,b.getGoodIndentForLine)(this._autoIndent,h,i.getLanguageIdAtPosition(c.startLineNumber,1),l,a,this._languageConfigurationService);if(v!==null){const _=f.getLeadingWhitespace(i.getLineContent(c.startLineNumber)),S=w.getSpaceCnt(v,m),L=w.getSpaceCnt(_,m);if(S!==L){const I=S-L;this.getIndentEditsOfMovingBlock(i,t,c,m,r,I)}}}}}this._selectionId=t.trackSelection(c)}buildIndentConverter(i,t,n){return{shiftIndent:c=>k.ShiftCommand.shiftIndent(c,c.length+1,i,t,n),unshiftIndent:c=>k.ShiftCommand.unshiftIndent(c,c.length+1,i,t,n)}}parseEnterResult(i,t,n,c,m){if(m){let u=m.indentation;m.indentAction===y.IndentAction.None||m.indentAction===y.IndentAction.Indent?u=m.indentation+m.appendText:m.indentAction===y.IndentAction.IndentOutdent?u=m.indentation:m.indentAction===y.IndentAction.Outdent&&(u=t.unshiftIndent(m.indentation)+m.appendText);const r=i.getLineContent(c);if(this.trimStart(r).indexOf(this.trimStart(u))>=0){const a=f.getLeadingWhitespace(i.getLineContent(c));let h=f.getLeadingWhitespace(u);const l=(0,b.getIndentMetadata)(i,c,this._languageConfigurationService);l!==null&&l&2&&(h=t.unshiftIndent(h));const g=w.getSpaceCnt(h,n),d=w.getSpaceCnt(a,n);return g-d}}return null}matchEnterRuleMovingDown(i,t,n,c,m,u){if(f.lastNonWhitespaceIndex(u)>=0){const r=i.getLineMaxColumn(m),a=(0,C.getEnterAction)(this._autoIndent,i,new E.Range(m,r,m,r),this._languageConfigurationService);return this.parseEnterResult(i,t,n,c,a)}else{let r=c-1;for(;r>=1;){const l=i.getLineContent(r);if(f.lastNonWhitespaceIndex(l)>=0)break;r--}if(r<1||c>i.getLineCount())return null;const a=i.getLineMaxColumn(r),h=(0,C.getEnterAction)(this._autoIndent,i,new E.Range(r,a,r,a),this._languageConfigurationService);return this.parseEnterResult(i,t,n,c,h)}}matchEnterRule(i,t,n,c,m,u){let r=m;for(;r>=1;){let l;if(r===m&&u!==void 0?l=u:l=i.getLineContent(r),f.lastNonWhitespaceIndex(l)>=0)break;r--}if(r<1||c>i.getLineCount())return null;const a=i.getLineMaxColumn(r),h=(0,C.getEnterAction)(this._autoIndent,i,new E.Range(r,a,r,a),this._languageConfigurationService);return this.parseEnterResult(i,t,n,c,h)}trimStart(i){return i.replace(/^\s+/,"")}shouldAutoIndent(i,t){if(this._autoIndent<4||!i.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const n=i.getLanguageIdAtPosition(t.startLineNumber,1),c=i.getLanguageIdAtPosition(t.endLineNumber,1);return!(n!==c||this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport===null)}getIndentEditsOfMovingBlock(i,t,n,c,m,u){for(let r=n.startLineNumber;r<=n.endLineNumber;r++){const a=i.getLineContent(r),h=f.getLeadingWhitespace(a),g=w.getSpaceCnt(h,c)+u,d=w.generateIndent(g,c,m);d!==h&&(t.addEditOperation(new E.Range(r,1,r,h.length+1),d),r===n.endLineNumber&&n.endColumn<=h.length+1&&d===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(i,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}};e.MoveLinesCommand=o,e.MoveLinesCommand=o=Ie([ue(3,p.ILanguageConfigurationService)],o)}),define(ie[382],ne([1,0,6,81,26,31,7,57,2,117,248,758,8]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestDetailsOverlay=e.SuggestDetailsWidget=void 0,e.canExpandCompletionItem=i;function i(c){return!!c&&!!(c.completion.documentation||c.completion.detail&&c.completion.detail!==c.completion.label)}let t=class{constructor(m,u){this._editor=m,this._onDidClose=new y.Emitter,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new y.Emitter,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new w.DisposableStore,this._renderDisposeable=new w.DisposableStore,this._borderWidth=1,this._size=new f.Dimension(330,0),this.domNode=f.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=u.createInstance(b.MarkdownRenderer,{editor:m}),this._body=f.$(".body"),this._scrollbar=new k.DomScrollableElement(this._body,{alwaysConsumeMouseWheel:!0}),f.append(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=f.append(this._body,f.$(".header")),this._close=f.append(this._header,f.$("span"+D.ThemeIcon.asCSSSelector(E.Codicon.close))),this._close.title=o.localize(0,null),this._type=f.append(this._header,f.$("p.type")),this._docs=f.append(this._body,f.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(r=>{r.hasChanged(50)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const m=this._editor.getOptions(),u=m.get(50),r=u.getMassagedFontFamily(),a=m.get(119)||u.fontSize,h=m.get(120)||u.lineHeight,l=u.fontWeight,g=`${a}px`,d=`${h}px`;this.domNode.style.fontSize=g,this.domNode.style.lineHeight=`${h/a}`,this.domNode.style.fontWeight=l,this.domNode.style.fontFeatureSettings=u.fontFeatureSettings,this._type.style.fontFamily=r,this._close.style.height=d,this._close.style.width=d}getLayoutInfo(){const m=this._editor.getOption(120)||this._editor.getOption(50).lineHeight,u=this._borderWidth,r=u*2;return{lineHeight:m,borderWidth:u,borderHeight:r,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=o.localize(1,null),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(m,u){var r,a;this._renderDisposeable.clear();let{detail:h,documentation:l}=m.completion;if(u){let g="";g+=`score: ${m.score[0]}
`,g+=`prefix: ${(r=m.word)!==null&&r!==void 0?r:"(no prefix)"}
`,g+=`word: ${m.completion.filterText?m.completion.filterText+" (filterText)":m.textLabel}
`,g+=`distance: ${m.distance} (localityBonus-setting)
`,g+=`index: ${m.idx}, based on ${m.completion.sortText&&`sortText: "${m.completion.sortText}"`||"label"}
`,g+=`commit_chars: ${(a=m.completion.commitCharacters)===null||a===void 0?void 0:a.join("")}
`,l=new p.MarkdownString().appendCodeblock("empty",g),h=`Provider: ${m.provider._debugDisplayName}`}if(!u&&!i(m)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),h){const g=h.length>1e5?`${h.substr(0,1e5)}\u2026`:h;this._type.textContent=g,this._type.title=g,f.show(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(g))}else f.clearNode(this._type),this._type.title="",f.hide(this._type),this.domNode.classList.add("no-type");if(f.clearNode(this._docs),typeof l=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=l;else if(l){this._docs.classList.add("markdown-docs"),f.clearNode(this._docs);const g=this._markdownRenderer.render(l);this._docs.appendChild(g.element),this._renderDisposeable.add(g),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=g=>{g.preventDefault(),g.stopPropagation()},this._close.onclick=g=>{g.preventDefault(),g.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get isEmpty(){return this.domNode.classList.contains("no-docs")}get size(){return this._size}layout(m,u){const r=new f.Dimension(m,u);f.Dimension.equals(r,this._size)||(this._size=r,f.size(this.domNode,m,u)),this._scrollbar.scanDomNode()}scrollDown(m=8){this._body.scrollTop+=m}scrollUp(m=8){this._body.scrollTop-=m}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(m){this._borderWidth=m}get borderWidth(){return this._borderWidth}};e.SuggestDetailsWidget=t,e.SuggestDetailsWidget=t=Ie([ue(1,s.IInstantiationService)],t);class n{constructor(m,u){this.widget=m,this._editor=u,this.allowEditorOverflow=!0,this._disposables=new w.DisposableStore,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new C.ResizableHTMLElement,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(m.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let r,a,h=0,l=0;this._disposables.add(this._resizable.onDidWillResize(()=>{r=this._topLeft,a=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(g=>{if(r&&a){this.widget.layout(g.dimension.width,g.dimension.height);let d=!1;g.west&&(l=a.width-g.dimension.width,d=!0),g.north&&(h=a.height-g.dimension.height,d=!0),d&&this._applyTopLeft({top:r.top+h,left:r.left+l})}g.done&&(r=void 0,a=void 0,h=0,l=0,this._userSize=g.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var g;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(g=this._userSize)!==null&&g!==void 0?g:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return this._topLeft?{preference:this._topLeft}:null}show(){this._added||(this._editor.addOverlayWidget(this),this._added=!0)}hide(m=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),m&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(m,u){var r;const a=m.getBoundingClientRect();this._anchorBox=a,this._preferAlignAtTop=u,this._placeAtAnchor(this._anchorBox,(r=this._userSize)!==null&&r!==void 0?r:this.widget.size,u)}_placeAtAnchor(m,u,r){var a;const h=f.getClientArea(this.getDomNode().ownerDocument.body),l=this.widget.getLayoutInfo(),g=new f.Dimension(220,2*l.lineHeight),d=m.top,v=function(){const W=h.width-(m.left+m.width+l.borderWidth+l.horizontalPadding),H=-l.borderWidth+m.left+m.width,z=new f.Dimension(W,h.height-m.top-l.borderHeight-l.verticalPadding),j=z.with(void 0,m.top+m.height-l.borderHeight-l.verticalPadding);return{top:d,left:H,fit:W-u.width,maxSizeTop:z,maxSizeBottom:j,minSize:g.with(Math.min(W,g.width))}}(),_=function(){const W=m.left-l.borderWidth-l.horizontalPadding,H=Math.max(l.horizontalPadding,m.left-u.width-l.borderWidth),z=new f.Dimension(W,h.height-m.top-l.borderHeight-l.verticalPadding),j=z.with(void 0,m.top+m.height-l.borderHeight-l.verticalPadding);return{top:d,left:H,fit:W-u.width,maxSizeTop:z,maxSizeBottom:j,minSize:g.with(Math.min(W,g.width))}}(),S=function(){const W=m.left,H=-l.borderWidth+m.top+m.height,z=new f.Dimension(m.width-l.borderHeight,h.height-m.top-m.height-l.verticalPadding);return{top:H,left:W,fit:z.height-u.height,maxSizeBottom:z,maxSizeTop:z,minSize:g.with(z.width)}}(),L=[v,_,S],I=(a=L.find(W=>W.fit>=0))!==null&&a!==void 0?a:L.sort((W,H)=>H.fit-W.fit)[0],T=m.top+m.height-l.borderHeight;let N,A=u.height;const O=Math.max(I.maxSizeTop.height,I.maxSizeBottom.height);A>O&&(A=O);let M;r?A<=I.maxSizeTop.height?(N=!0,M=I.maxSizeTop):(N=!1,M=I.maxSizeBottom):A<=I.maxSizeBottom.height?(N=!1,M=I.maxSizeBottom):(N=!0,M=I.maxSizeTop);let{top:R,left:x}=I;!N&&A>m.height&&(R=T-A);const F=this._editor.getDomNode();if(F){const W=F.getBoundingClientRect();R-=W.top,x-=W.left}this._applyTopLeft({left:x,top:R}),this._resizable.enableSashes(!N,I===v,N,I!==v),this._resizable.minSize=I.minSize,this._resizable.maxSize=M,this._resizable.layout(A,Math.min(M.width,u.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(m){this._topLeft=m,this._editor.layoutOverlayWidget(this)}}e.SuggestDetailsOverlay=n}),define(ie[383],ne([1,0,13,45,55,20,22,27,105,39]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConfigurationChangeEvent=e.Configuration=e.ConfigurationModelParser=e.ConfigurationModel=void 0;function C(c){return Object.isFrozen(c)?c:E.deepFreeze(c)}class o{static createEmptyModel(m){return new o({},[],[],void 0,m)}constructor(m,u,r,a,h){this._contents=m,this._keys=u,this._overrides=r,this.raw=a,this.logService=h,this.overrideConfigurations=new Map}get rawConfiguration(){var m;if(!this._rawConfiguration)if(!((m=this.raw)===null||m===void 0)&&m.length){const u=this.raw.map(r=>{if(r instanceof o)return r;const a=new s("",this.logService);return a.parseRaw(r),a.configurationModel});this._rawConfiguration=u.reduce((r,a)=>a===r?a:r.merge(a),u[0])}else this._rawConfiguration=this;return this._rawConfiguration}get contents(){return this._contents}get overrides(){return this._overrides}get keys(){return this._keys}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(m){return m?(0,p.getConfigurationValue)(this.contents,m):this.contents}inspect(m,u){const r=this;return{get value(){return C(r.rawConfiguration.getValue(m))},get override(){return u?C(r.rawConfiguration.getOverrideValue(m,u)):void 0},get merged(){return C(u?r.rawConfiguration.override(u).getValue(m):r.rawConfiguration.getValue(m))},get overrides(){const a=[];for(const{contents:h,identifiers:l,keys:g}of r.rawConfiguration.overrides){const d=new o(h,g,[],void 0,r.logService).getValue(m);d!==void 0&&a.push({identifiers:l,value:d})}return a.length?C(a):void 0}}}getOverrideValue(m,u){const r=this.getContentsForOverrideIdentifer(u);return r?m?(0,p.getConfigurationValue)(r,m):r:void 0}override(m){let u=this.overrideConfigurations.get(m);return u||(u=this.createOverrideConfigurationModel(m),this.overrideConfigurations.set(m,u)),u}merge(...m){var u,r;const a=E.deepClone(this.contents),h=E.deepClone(this.overrides),l=[...this.keys],g=!((u=this.raw)===null||u===void 0)&&u.length?[...this.raw]:[this];for(const d of m)if(g.push(...!((r=d.raw)===null||r===void 0)&&r.length?d.raw:[d]),!d.isEmpty()){this.mergeContents(a,d.contents);for(const v of d.overrides){const[_]=h.filter(S=>f.equals(S.identifiers,v.identifiers));_?(this.mergeContents(_.contents,v.contents),_.keys.push(...v.keys),_.keys=f.distinct(_.keys)):h.push(E.deepClone(v))}for(const v of d.keys)l.indexOf(v)===-1&&l.push(v)}return new o(a,l,h,g.every(d=>d instanceof o)?void 0:g,this.logService)}createOverrideConfigurationModel(m){const u=this.getContentsForOverrideIdentifer(m);if(!u||typeof u!="object"||!Object.keys(u).length)return this;const r={};for(const a of f.distinct([...Object.keys(this.contents),...Object.keys(u)])){let h=this.contents[a];const l=u[a];l&&(typeof h=="object"&&typeof l=="object"?(h=E.deepClone(h),this.mergeContents(h,l)):h=l),r[a]=h}return new o(r,this.keys,this.overrides,void 0,this.logService)}mergeContents(m,u){for(const r of Object.keys(u)){if(r in m&&D.isObject(m[r])&&D.isObject(u[r])){this.mergeContents(m[r],u[r]);continue}m[r]=E.deepClone(u[r])}}getContentsForOverrideIdentifer(m){let u=null,r=null;const a=h=>{h&&(r?this.mergeContents(r,h):r=E.deepClone(h))};for(const h of this.overrides)h.identifiers.length===1&&h.identifiers[0]===m?u=h.contents:h.identifiers.includes(m)&&a(h.contents);return a(u),r}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}addValue(m,u){this.updateValue(m,u,!0)}setValue(m,u){this.updateValue(m,u,!1)}removeValue(m){const u=this.keys.indexOf(m);u!==-1&&(this.keys.splice(u,1),(0,p.removeFromValueTree)(this.contents,m),w.OVERRIDE_PROPERTY_REGEX.test(m)&&this.overrides.splice(this.overrides.findIndex(r=>f.equals(r.identifiers,(0,w.overrideIdentifiersFromKey)(m))),1))}updateValue(m,u,r){(0,p.addToValueTree)(this.contents,m,u,a=>this.logService.error(a)),r=r||this.keys.indexOf(m)===-1,r&&this.keys.push(m),w.OVERRIDE_PROPERTY_REGEX.test(m)&&this.overrides.push({identifiers:(0,w.overrideIdentifiersFromKey)(m),keys:Object.keys(this.contents[m]),contents:(0,p.toValuesTree)(this.contents[m],a=>this.logService.error(a))})}}e.ConfigurationModel=o;class s{constructor(m,u){this._name=m,this.logService=u,this._raw=null,this._configurationModel=null,this._restrictedConfigurations=[]}get configurationModel(){return this._configurationModel||o.createEmptyModel(this.logService)}parseRaw(m,u){this._raw=m;const{contents:r,keys:a,overrides:h,restricted:l,hasExcludedProperties:g}=this.doParseRaw(m,u);this._configurationModel=new o(r,a,h,g?[m]:void 0,this.logService),this._restrictedConfigurations=l||[]}doParseRaw(m,u){const r=b.Registry.as(w.Extensions.Configuration).getConfigurationProperties(),a=this.filter(m,r,!0,u);m=a.raw;const h=(0,p.toValuesTree)(m,d=>this.logService.error(`Conflict in settings file ${this._name}: ${d}`)),l=Object.keys(m),g=this.toOverrides(m,d=>this.logService.error(`Conflict in settings file ${this._name}: ${d}`));return{contents:h,keys:l,overrides:g,restricted:a.restricted,hasExcludedProperties:a.hasExcludedProperties}}filter(m,u,r,a){var h,l,g;let d=!1;if(!a?.scopes&&!a?.skipRestricted&&!(!((h=a?.exclude)===null||h===void 0)&&h.length))return{raw:m,restricted:[],hasExcludedProperties:d};const v={},_=[];for(const S in m)if(w.OVERRIDE_PROPERTY_REGEX.test(S)&&r){const L=this.filter(m[S],u,!1,a);v[S]=L.raw,d=d||L.hasExcludedProperties,_.push(...L.restricted)}else{const L=u[S],I=L?typeof L.scope<"u"?L.scope:3:void 0;L?.restricted&&_.push(S),!(!((l=a.exclude)===null||l===void 0)&&l.includes(S))&&(!((g=a.include)===null||g===void 0)&&g.includes(S)||(I===void 0||a.scopes===void 0||a.scopes.includes(I))&&!(a.skipRestricted&&L?.restricted))?v[S]=m[S]:d=!0}return{raw:v,restricted:_,hasExcludedProperties:d}}toOverrides(m,u){const r=[];for(const a of Object.keys(m))if(w.OVERRIDE_PROPERTY_REGEX.test(a)){const h={};for(const l in m[a])h[l]=m[a][l];r.push({identifiers:(0,w.overrideIdentifiersFromKey)(a),keys:Object.keys(h),contents:(0,p.toValuesTree)(h,u)})}return r}}e.ConfigurationModelParser=s;class i{constructor(m,u,r,a,h,l,g,d,v,_,S,L,I){this.key=m,this.overrides=u,this._value=r,this.overrideIdentifiers=a,this.defaultConfiguration=h,this.policyConfiguration=l,this.applicationConfiguration=g,this.userConfiguration=d,this.localUserConfiguration=v,this.remoteUserConfiguration=_,this.workspaceConfiguration=S,this.folderConfigurationModel=L,this.memoryConfigurationModel=I}toInspectValue(m){return m?.value!==void 0||m?.override!==void 0||m?.overrides!==void 0?m:void 0}get userInspectValue(){return this._userInspectValue||(this._userInspectValue=this.userConfiguration.inspect(this.key,this.overrides.overrideIdentifier)),this._userInspectValue}get user(){return this.toInspectValue(this.userInspectValue)}}class t{constructor(m,u,r,a,h,l,g,d,v,_){this._defaultConfiguration=m,this._policyConfiguration=u,this._applicationConfiguration=r,this._localUserConfiguration=a,this._remoteUserConfiguration=h,this._workspaceConfiguration=l,this._folderConfigurations=g,this._memoryConfiguration=d,this._memoryConfigurationByResource=v,this.logService=_,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new k.ResourceMap,this._userConfiguration=null}getValue(m,u,r){return this.getConsolidatedConfigurationModel(m,u,r).getValue(m)}updateValue(m,u,r={}){let a;r.resource?(a=this._memoryConfigurationByResource.get(r.resource),a||(a=o.createEmptyModel(this.logService),this._memoryConfigurationByResource.set(r.resource,a))):a=this._memoryConfiguration,u===void 0?a.removeValue(m):a.setValue(m,u),r.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(m,u,r){const a=this.getConsolidatedConfigurationModel(m,u,r),h=this.getFolderConfigurationModelForResource(u.resource,r),l=u.resource?this._memoryConfigurationByResource.get(u.resource)||this._memoryConfiguration:this._memoryConfiguration,g=new Set;for(const d of a.overrides)for(const v of d.identifiers)a.getOverrideValue(m,v)!==void 0&&g.add(v);return new i(m,u,a.getValue(m),g.size?[...g]:void 0,this._defaultConfiguration,this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration,this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration,this.userConfiguration,this.localUserConfiguration,this.remoteUserConfiguration,r?this._workspaceConfiguration:void 0,h||void 0,l)}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration)),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(m,u,r){let a=this.getConsolidatedConfigurationModelForResource(u,r);return u.overrideIdentifier&&(a=a.override(u.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(m)!==void 0&&(a=a.merge(this._policyConfiguration)),a}getConsolidatedConfigurationModelForResource({resource:m},u){let r=this.getWorkspaceConsolidatedConfiguration();if(u&&m){const a=u.getFolder(m);a&&(r=this.getFolderConsolidatedConfiguration(a.uri)||r);const h=this._memoryConfigurationByResource.get(m);h&&(r=r.merge(h))}return r}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration)),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(m){let u=this._foldersConsolidatedConfigurations.get(m);if(!u){const r=this.getWorkspaceConsolidatedConfiguration(),a=this._folderConfigurations.get(m);a?(u=r.merge(a),this._foldersConsolidatedConfigurations.set(m,u)):u=r}return u}getFolderConfigurationModelForResource(m,u){if(u&&m){const r=u.getFolder(m);if(r)return this._folderConfigurations.get(r.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((m,u)=>{const{contents:r,overrides:a,keys:h}=this._folderConfigurations.get(u);return m.push([u,{contents:r,overrides:a,keys:h}]),m},[])}}static parse(m,u){const r=this.parseConfigurationModel(m.defaults,u),a=this.parseConfigurationModel(m.policy,u),h=this.parseConfigurationModel(m.application,u),l=this.parseConfigurationModel(m.user,u),g=this.parseConfigurationModel(m.workspace,u),d=m.folders.reduce((v,_)=>(v.set(y.URI.revive(_[0]),this.parseConfigurationModel(_[1],u)),v),new k.ResourceMap);return new t(r,a,h,l,o.createEmptyModel(u),g,d,o.createEmptyModel(u),new k.ResourceMap,u)}static parseConfigurationModel(m,u){return new o(m.contents,m.keys,m.overrides,void 0,u)}}e.Configuration=t;class n{constructor(m,u,r,a,h){this.change=m,this.previous=u,this.currentConfiguraiton=r,this.currentWorkspace=a,this.logService=h,this._marker=`
`,this._markerCode1=this._marker.charCodeAt(0),this._markerCode2=46,this.affectedKeys=new Set,this._previousConfiguration=void 0;for(const l of m.keys)this.affectedKeys.add(l);for(const[,l]of m.overrides)for(const g of l)this.affectedKeys.add(g);this._affectsConfigStr=this._marker;for(const l of this.affectedKeys)this._affectsConfigStr+=l+this._marker}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=t.parse(this.previous.data,this.logService)),this._previousConfiguration}affectsConfiguration(m,u){var r;const a=this._marker+m,h=this._affectsConfigStr.indexOf(a);if(h<0)return!1;const l=h+a.length;if(l>=this._affectsConfigStr.length)return!1;const g=this._affectsConfigStr.charCodeAt(l);if(g!==this._markerCode1&&g!==this._markerCode2)return!1;if(u){const d=this.previousConfiguration?this.previousConfiguration.getValue(m,u,(r=this.previous)===null||r===void 0?void 0:r.workspace):void 0,v=this.currentConfiguraiton.getValue(m,u,this.currentWorkspace);return!E.equals(d,v)}return!0}}e.ConfigurationChangeEvent=n}),define(ie[847],ne([1,0,2,383,105,39]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultConfiguration=void 0;class y extends f.Disposable{get configurationModel(){return this._configurationModel}constructor(w){super(),this.logService=w,this._configurationModel=k.ConfigurationModel.createEmptyModel(this.logService)}reload(){return this.resetConfigurationModel(),this.configurationModel}getConfigurationDefaultOverrides(){return{}}resetConfigurationModel(){this._configurationModel=k.ConfigurationModel.createEmptyModel(this.logService);const w=D.Registry.as(E.Extensions.Configuration).getConfigurationProperties();this.updateConfigurationModel(Object.keys(w),w)}updateConfigurationModel(w,b){const C=this.getConfigurationDefaultOverrides();for(const o of w){const s=C[o],i=b[o];s!==void 0?this._configurationModel.addValue(o,s):i?this._configurationModel.addValue(o,i.default):this._configurationModel.removeValue(o)}}}e.DefaultConfiguration=y}),define(ie[133],ne([1,0,135,17,25,39,2,70]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Extensions=e.KeybindingsRegistry=void 0;class w{constructor(){this._coreKeybindings=new p.LinkedList,this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(o){if(k.OS===1){if(o&&o.win)return o.win}else if(k.OS===2){if(o&&o.mac)return o.mac}else if(o&&o.linux)return o.linux;return o}registerKeybindingRule(o){const s=w.bindToCurrentPlatform(o),i=new y.DisposableStore;if(s&&s.primary){const t=(0,f.decodeKeybinding)(s.primary,k.OS);t&&i.add(this._registerDefaultKeybinding(t,o.id,o.args,o.weight,0,o.when))}if(s&&Array.isArray(s.secondary))for(let t=0,n=s.secondary.length;t<n;t++){const c=s.secondary[t],m=(0,f.decodeKeybinding)(c,k.OS);m&&i.add(this._registerDefaultKeybinding(m,o.id,o.args,o.weight,-t-1,o.when))}return i}registerCommandAndKeybindingRule(o){return(0,y.combinedDisposable)(this.registerKeybindingRule(o),E.CommandsRegistry.registerCommand(o))}_registerDefaultKeybinding(o,s,i,t,n,c){const m=this._coreKeybindings.push({keybinding:o,command:s,commandArgs:i,when:c,weight1:t,weight2:n,extensionId:null,isBuiltinExtension:!1});return this._cachedMergedKeybindings=null,(0,y.toDisposable)(()=>{m(),this._cachedMergedKeybindings=null})}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=Array.from(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(b)),this._cachedMergedKeybindings.slice(0)}}e.KeybindingsRegistry=new w,e.Extensions={EditorModes:"platform.keybindingsRegistry"},D.Registry.add(e.Extensions.EditorModes,e.KeybindingsRegistry);function b(C,o){if(C.weight1!==o.weight1)return C.weight1-o.weight1;if(C.command&&o.command){if(C.command<o.command)return-1;if(C.command>o.command)return 1}return C.weight2-o.weight2}}),define(ie[29],ne([1,0,41,31,7,2,70,25,14,8,133]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.Action2=e.MenuItemAction=e.SubmenuItemAction=e.MenuRegistry=e.IMenuService=e.MenuId=void 0,e.isIMenuItem=s,e.isISubmenuItem=i,e.registerAction2=r;function s(a){return a.command!==void 0}function i(a){return a.submenu!==void 0}class t{constructor(h){if(t._instances.has(h))throw new TypeError(`MenuId with identifier '${h}' already exists. Use MenuId.for(ident) or a unique identifier`);t._instances.set(h,this),this.id=h}}e.MenuId=t,t._instances=new Map,t.CommandPalette=new t("CommandPalette"),t.DebugBreakpointsContext=new t("DebugBreakpointsContext"),t.DebugCallStackContext=new t("DebugCallStackContext"),t.DebugConsoleContext=new t("DebugConsoleContext"),t.DebugVariablesContext=new t("DebugVariablesContext"),t.NotebookVariablesContext=new t("NotebookVariablesContext"),t.DebugHoverContext=new t("DebugHoverContext"),t.DebugWatchContext=new t("DebugWatchContext"),t.DebugToolBar=new t("DebugToolBar"),t.DebugToolBarStop=new t("DebugToolBarStop"),t.EditorContext=new t("EditorContext"),t.SimpleEditorContext=new t("SimpleEditorContext"),t.EditorContent=new t("EditorContent"),t.EditorLineNumberContext=new t("EditorLineNumberContext"),t.EditorContextCopy=new t("EditorContextCopy"),t.EditorContextPeek=new t("EditorContextPeek"),t.EditorContextShare=new t("EditorContextShare"),t.EditorTitle=new t("EditorTitle"),t.EditorTitleRun=new t("EditorTitleRun"),t.EditorTitleContext=new t("EditorTitleContext"),t.EditorTitleContextShare=new t("EditorTitleContextShare"),t.EmptyEditorGroup=new t("EmptyEditorGroup"),t.EmptyEditorGroupContext=new t("EmptyEditorGroupContext"),t.EditorTabsBarContext=new t("EditorTabsBarContext"),t.EditorTabsBarShowTabsSubmenu=new t("EditorTabsBarShowTabsSubmenu"),t.EditorTabsBarShowTabsZenModeSubmenu=new t("EditorTabsBarShowTabsZenModeSubmenu"),t.EditorActionsPositionSubmenu=new t("EditorActionsPositionSubmenu"),t.ExplorerContext=new t("ExplorerContext"),t.ExplorerContextShare=new t("ExplorerContextShare"),t.ExtensionContext=new t("ExtensionContext"),t.GlobalActivity=new t("GlobalActivity"),t.CommandCenter=new t("CommandCenter"),t.CommandCenterCenter=new t("CommandCenterCenter"),t.LayoutControlMenuSubmenu=new t("LayoutControlMenuSubmenu"),t.LayoutControlMenu=new t("LayoutControlMenu"),t.MenubarMainMenu=new t("MenubarMainMenu"),t.MenubarAppearanceMenu=new t("MenubarAppearanceMenu"),t.MenubarDebugMenu=new t("MenubarDebugMenu"),t.MenubarEditMenu=new t("MenubarEditMenu"),t.MenubarCopy=new t("MenubarCopy"),t.MenubarFileMenu=new t("MenubarFileMenu"),t.MenubarGoMenu=new t("MenubarGoMenu"),t.MenubarHelpMenu=new t("MenubarHelpMenu"),t.MenubarLayoutMenu=new t("MenubarLayoutMenu"),t.MenubarNewBreakpointMenu=new t("MenubarNewBreakpointMenu"),t.PanelAlignmentMenu=new t("PanelAlignmentMenu"),t.PanelPositionMenu=new t("PanelPositionMenu"),t.ActivityBarPositionMenu=new t("ActivityBarPositionMenu"),t.MenubarPreferencesMenu=new t("MenubarPreferencesMenu"),t.MenubarRecentMenu=new t("MenubarRecentMenu"),t.MenubarSelectionMenu=new t("MenubarSelectionMenu"),t.MenubarShare=new t("MenubarShare"),t.MenubarSwitchEditorMenu=new t("MenubarSwitchEditorMenu"),t.MenubarSwitchGroupMenu=new t("MenubarSwitchGroupMenu"),t.MenubarTerminalMenu=new t("MenubarTerminalMenu"),t.MenubarViewMenu=new t("MenubarViewMenu"),t.MenubarHomeMenu=new t("MenubarHomeMenu"),t.OpenEditorsContext=new t("OpenEditorsContext"),t.OpenEditorsContextShare=new t("OpenEditorsContextShare"),t.ProblemsPanelContext=new t("ProblemsPanelContext"),t.SCMInputBox=new t("SCMInputBox"),t.SCMChangesSeparator=new t("SCMChangesSeparator"),t.SCMIncomingChanges=new t("SCMIncomingChanges"),t.SCMIncomingChangesContext=new t("SCMIncomingChangesContext"),t.SCMIncomingChangesSetting=new t("SCMIncomingChangesSetting"),t.SCMOutgoingChanges=new t("SCMOutgoingChanges"),t.SCMOutgoingChangesContext=new t("SCMOutgoingChangesContext"),t.SCMOutgoingChangesSetting=new t("SCMOutgoingChangesSetting"),t.SCMIncomingChangesAllChangesContext=new t("SCMIncomingChangesAllChangesContext"),t.SCMIncomingChangesHistoryItemContext=new t("SCMIncomingChangesHistoryItemContext"),t.SCMOutgoingChangesAllChangesContext=new t("SCMOutgoingChangesAllChangesContext"),t.SCMOutgoingChangesHistoryItemContext=new t("SCMOutgoingChangesHistoryItemContext"),t.SCMChangeContext=new t("SCMChangeContext"),t.SCMResourceContext=new t("SCMResourceContext"),t.SCMResourceContextShare=new t("SCMResourceContextShare"),t.SCMResourceFolderContext=new t("SCMResourceFolderContext"),t.SCMResourceGroupContext=new t("SCMResourceGroupContext"),t.SCMSourceControl=new t("SCMSourceControl"),t.SCMSourceControlInline=new t("SCMSourceControlInline"),t.SCMSourceControlTitle=new t("SCMSourceControlTitle"),t.SCMTitle=new t("SCMTitle"),t.SearchContext=new t("SearchContext"),t.SearchActionMenu=new t("SearchActionContext"),t.StatusBarWindowIndicatorMenu=new t("StatusBarWindowIndicatorMenu"),t.StatusBarRemoteIndicatorMenu=new t("StatusBarRemoteIndicatorMenu"),t.StickyScrollContext=new t("StickyScrollContext"),t.TestItem=new t("TestItem"),t.TestItemGutter=new t("TestItemGutter"),t.TestMessageContext=new t("TestMessageContext"),t.TestMessageContent=new t("TestMessageContent"),t.TestPeekElement=new t("TestPeekElement"),t.TestPeekTitle=new t("TestPeekTitle"),t.TouchBarContext=new t("TouchBarContext"),t.TitleBarContext=new t("TitleBarContext"),t.TitleBarTitleContext=new t("TitleBarTitleContext"),t.TunnelContext=new t("TunnelContext"),t.TunnelPrivacy=new t("TunnelPrivacy"),t.TunnelProtocol=new t("TunnelProtocol"),t.TunnelPortInline=new t("TunnelInline"),t.TunnelTitle=new t("TunnelTitle"),t.TunnelLocalAddressInline=new t("TunnelLocalAddressInline"),t.TunnelOriginInline=new t("TunnelOriginInline"),t.ViewItemContext=new t("ViewItemContext"),t.ViewContainerTitle=new t("ViewContainerTitle"),t.ViewContainerTitleContext=new t("ViewContainerTitleContext"),t.ViewTitle=new t("ViewTitle"),t.ViewTitleContext=new t("ViewTitleContext"),t.CommentEditorActions=new t("CommentEditorActions"),t.CommentThreadTitle=new t("CommentThreadTitle"),t.CommentThreadActions=new t("CommentThreadActions"),t.CommentThreadAdditionalActions=new t("CommentThreadAdditionalActions"),t.CommentThreadTitleContext=new t("CommentThreadTitleContext"),t.CommentThreadCommentContext=new t("CommentThreadCommentContext"),t.CommentTitle=new t("CommentTitle"),t.CommentActions=new t("CommentActions"),t.CommentsViewThreadActions=new t("CommentsViewThreadActions"),t.InteractiveToolbar=new t("InteractiveToolbar"),t.InteractiveCellTitle=new t("InteractiveCellTitle"),t.InteractiveCellDelete=new t("InteractiveCellDelete"),t.InteractiveCellExecute=new t("InteractiveCellExecute"),t.InteractiveInputExecute=new t("InteractiveInputExecute"),t.IssueReporter=new t("IssueReporter"),t.NotebookToolbar=new t("NotebookToolbar"),t.NotebookStickyScrollContext=new t("NotebookStickyScrollContext"),t.NotebookCellTitle=new t("NotebookCellTitle"),t.NotebookCellDelete=new t("NotebookCellDelete"),t.NotebookCellInsert=new t("NotebookCellInsert"),t.NotebookCellBetween=new t("NotebookCellBetween"),t.NotebookCellListTop=new t("NotebookCellTop"),t.NotebookCellExecute=new t("NotebookCellExecute"),t.NotebookCellExecuteGoTo=new t("NotebookCellExecuteGoTo"),t.NotebookCellExecutePrimary=new t("NotebookCellExecutePrimary"),t.NotebookDiffCellInputTitle=new t("NotebookDiffCellInputTitle"),t.NotebookDiffCellMetadataTitle=new t("NotebookDiffCellMetadataTitle"),t.NotebookDiffCellOutputsTitle=new t("NotebookDiffCellOutputsTitle"),t.NotebookOutputToolbar=new t("NotebookOutputToolbar"),t.NotebookOutlineFilter=new t("NotebookOutlineFilter"),t.NotebookOutlineActionMenu=new t("NotebookOutlineActionMenu"),t.NotebookEditorLayoutConfigure=new t("NotebookEditorLayoutConfigure"),t.NotebookKernelSource=new t("NotebookKernelSource"),t.BulkEditTitle=new t("BulkEditTitle"),t.BulkEditContext=new t("BulkEditContext"),t.TimelineItemContext=new t("TimelineItemContext"),t.TimelineTitle=new t("TimelineTitle"),t.TimelineTitleContext=new t("TimelineTitleContext"),t.TimelineFilterSubMenu=new t("TimelineFilterSubMenu"),t.AccountsContext=new t("AccountsContext"),t.SidebarTitle=new t("SidebarTitle"),t.PanelTitle=new t("PanelTitle"),t.AuxiliaryBarTitle=new t("AuxiliaryBarTitle"),t.AuxiliaryBarHeader=new t("AuxiliaryBarHeader"),t.TerminalInstanceContext=new t("TerminalInstanceContext"),t.TerminalEditorInstanceContext=new t("TerminalEditorInstanceContext"),t.TerminalNewDropdownContext=new t("TerminalNewDropdownContext"),t.TerminalTabContext=new t("TerminalTabContext"),t.TerminalTabEmptyAreaContext=new t("TerminalTabEmptyAreaContext"),t.TerminalStickyScrollContext=new t("TerminalStickyScrollContext"),t.WebviewContext=new t("WebviewContext"),t.InlineCompletionsActions=new t("InlineCompletionsActions"),t.InlineEditActions=new t("InlineEditActions"),t.NewFile=new t("NewFile"),t.MergeInput1Toolbar=new t("MergeToolbar1Toolbar"),t.MergeInput2Toolbar=new t("MergeToolbar2Toolbar"),t.MergeBaseToolbar=new t("MergeBaseToolbar"),t.MergeInputResultToolbar=new t("MergeToolbarResultToolbar"),t.InlineSuggestionToolbar=new t("InlineSuggestionToolbar"),t.InlineEditToolbar=new t("InlineEditToolbar"),t.ChatContext=new t("ChatContext"),t.ChatCodeBlock=new t("ChatCodeblock"),t.ChatCompareBlock=new t("ChatCompareBlock"),t.ChatMessageTitle=new t("ChatMessageTitle"),t.ChatExecute=new t("ChatExecute"),t.ChatExecuteSecondary=new t("ChatExecuteSecondary"),t.ChatInputSide=new t("ChatInputSide"),t.AccessibleView=new t("AccessibleView"),t.MultiDiffEditorFileToolbar=new t("MultiDiffEditorFileToolbar"),t.DiffEditorHunkToolbar=new t("DiffEditorHunkToolbar"),t.DiffEditorSelectionToolbar=new t("DiffEditorSelectionToolbar"),e.IMenuService=(0,b.createDecorator)("menuService");class n{static for(h){let l=this._all.get(h);return l||(l=new n(h),this._all.set(h,l)),l}static merge(h){const l=new Set;for(const g of h)g instanceof n&&l.add(g.id);return l}constructor(h){this.id=h,this.has=l=>l===h}}n._all=new Map,e.MenuRegistry=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new E.MicrotaskEmitter({merge:n.merge}),this.onDidChangeMenu=this._onDidChangeMenu.event}addCommand(a){return this._commands.set(a.id,a),this._onDidChangeMenu.fire(n.for(t.CommandPalette)),(0,D.toDisposable)(()=>{this._commands.delete(a.id)&&this._onDidChangeMenu.fire(n.for(t.CommandPalette))})}getCommand(a){return this._commands.get(a)}getCommands(){const a=new Map;return this._commands.forEach((h,l)=>a.set(l,h)),a}appendMenuItem(a,h){let l=this._menuItems.get(a);l||(l=new y.LinkedList,this._menuItems.set(a,l));const g=l.push(h);return this._onDidChangeMenu.fire(n.for(a)),(0,D.toDisposable)(()=>{g(),this._onDidChangeMenu.fire(n.for(a))})}appendMenuItems(a){const h=new D.DisposableStore;for(const{id:l,item:g}of a)h.add(this.appendMenuItem(l,g));return h}getMenuItems(a){let h;return this._menuItems.has(a)?h=[...this._menuItems.get(a)]:h=[],a===t.CommandPalette&&this._appendImplicitItems(h),h}_appendImplicitItems(a){const h=new Set;for(const l of a)s(l)&&(h.add(l.command.id),l.alt&&h.add(l.alt.id));this._commands.forEach((l,g)=>{h.has(g)||a.push({command:l})})}};class c extends f.SubmenuAction{constructor(h,l,g){super(`submenuitem.${h.submenu.id}`,typeof h.title=="string"?h.title:h.title.value,g,"submenu"),this.item=h,this.hideActions=l}}e.SubmenuItemAction=c;let m=o=class{static label(h,l){return l?.renderShortTitle&&h.shortTitle?typeof h.shortTitle=="string"?h.shortTitle:h.shortTitle.value:typeof h.title=="string"?h.title:h.title.value}constructor(h,l,g,d,v,_,S){var L,I;this.hideActions=d,this.menuKeybinding=v,this._commandService=S,this.id=h.id,this.label=o.label(h,g),this.tooltip=(I=typeof h.tooltip=="string"?h.tooltip:(L=h.tooltip)===null||L===void 0?void 0:L.value)!==null&&I!==void 0?I:"",this.enabled=!h.precondition||_.contextMatchesRules(h.precondition),this.checked=void 0;let T;if(h.toggled){const N=h.toggled.condition?h.toggled:{condition:h.toggled};this.checked=_.contextMatchesRules(N.condition),this.checked&&N.tooltip&&(this.tooltip=typeof N.tooltip=="string"?N.tooltip:N.tooltip.value),this.checked&&k.ThemeIcon.isThemeIcon(N.icon)&&(T=N.icon),this.checked&&N.title&&(this.label=typeof N.title=="string"?N.title:N.title.value)}T||(T=k.ThemeIcon.isThemeIcon(h.icon)?h.icon:void 0),this.item=h,this.alt=l?new o(l,void 0,g,d,void 0,_,S):void 0,this._options=g,this.class=T&&k.ThemeIcon.asClassName(T)}run(...h){var l,g;let d=[];return!((l=this._options)===null||l===void 0)&&l.arg&&(d=[...d,this._options.arg]),!((g=this._options)===null||g===void 0)&&g.shouldForwardArgs&&(d=[...d,...h]),this._commandService.executeCommand(this.id,...d)}};e.MenuItemAction=m,e.MenuItemAction=m=o=Ie([ue(5,w.IContextKeyService),ue(6,p.ICommandService)],m);class u{constructor(h){this.desc=h}}e.Action2=u;function r(a){const h=new D.DisposableStore,l=new a,{f1:g,menu:d,keybinding:v,..._}=l.desc;if(p.CommandsRegistry.getCommand(_.id))throw new Error(`Cannot register two commands with the same id: ${_.id}`);if(h.add(p.CommandsRegistry.registerCommand({id:_.id,handler:(S,...L)=>l.run(S,...L),metadata:_.metadata})),Array.isArray(d))for(const S of d)h.add(e.MenuRegistry.appendMenuItem(S.id,{command:{..._,precondition:S.precondition===null?void 0:_.precondition},...S}));else d&&h.add(e.MenuRegistry.appendMenuItem(d.id,{command:{..._,precondition:d.precondition===null?void 0:_.precondition},...d}));if(g&&(h.add(e.MenuRegistry.appendMenuItem(t.CommandPalette,{command:_,when:_.precondition})),h.add(e.MenuRegistry.addCommand(_))),Array.isArray(v))for(const S of v)h.add(C.KeybindingsRegistry.registerKeybindingRule({...S,id:_.id,when:_.precondition?w.ContextKeyExpr.and(_.precondition,S.when):S.when}));else v&&h.add(C.KeybindingsRegistry.registerKeybindingRule({...v,id:_.id,when:_.precondition?w.ContextKeyExpr.and(_.precondition,v.when):v.when}));return h}}),define(ie[848],ne([1,0,47,223,762,29]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleTabFocusModeAction=void 0;class y extends D.Action2{constructor(){super({id:y.ID,title:E.localize2(2,"Toggle Tab Key Moves Focus"),precondition:void 0,keybinding:{primary:2091,mac:{primary:1323},weight:100},metadata:{description:E.localize2(3,"Determines whether the tab key moves focus around the workbench or inserts the tab character in the current editor. This is also called tab trapping, tab navigation, or tab focus mode.")},f1:!0})}run(){const b=!k.TabFocus.getTabFocusMode();k.TabFocus.setTabFocusMode(b),b?(0,f.alert)(E.localize(0,null)):(0,f.alert)(E.localize(1,null))}}e.ToggleTabFocusModeAction=y,y.ID="editor.action.toggleTabFocusMode",(0,D.registerAction2)(y)}),define(ie[384],ne([1,0,253,633,14,133,781,2,6]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextScopedReplaceInput=e.ContextScopedFindInput=e.historyNavigationVisible=void 0,e.registerAndCreateHistoryNavigationContext=t,e.historyNavigationVisible=new E.RawContextKey("suggestWidgetVisible",!1,(0,y.localize)(0,null));const b="historyNavigationWidgetFocus",C="historyNavigationForwardsEnabled",o="historyNavigationBackwardsEnabled";let s;const i=[];function t(m,u){if(i.includes(u))throw new Error("Cannot register the same widget multiple times");i.push(u);const r=new p.DisposableStore,a=new E.RawContextKey(b,!1).bindTo(m),h=new E.RawContextKey(C,!0).bindTo(m),l=new E.RawContextKey(o,!0).bindTo(m),g=()=>{a.set(!0),s=u},d=()=>{a.set(!1),s===u&&(s=void 0)};return(0,w.isActiveElement)(u.element)&&g(),r.add(u.onDidFocus(()=>g())),r.add(u.onDidBlur(()=>d())),r.add((0,p.toDisposable)(()=>{i.splice(i.indexOf(u),1),d()})),{historyNavigationForwardsEnablement:h,historyNavigationBackwardsEnablement:l,dispose(){r.dispose()}}}let n=class extends f.FindInput{constructor(u,r,a,h){super(u,r,a);const l=this._register(h.createScoped(this.inputBox.element));this._register(t(l,this.inputBox))}};e.ContextScopedFindInput=n,e.ContextScopedFindInput=n=Ie([ue(3,E.IContextKeyService)],n);let c=class extends k.ReplaceInput{constructor(u,r,a,h,l=!1){super(u,r,l,a);const g=this._register(h.createScoped(this.inputBox.element));this._register(t(g,this.inputBox))}};e.ContextScopedReplaceInput=c,e.ContextScopedReplaceInput=c=Ie([ue(3,E.IContextKeyService)],c),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(b),E.ContextKeyExpr.equals(o,!0),E.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:16,secondary:[528],handler:m=>{s?.showPreviousValue()}}),D.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:E.ContextKeyExpr.and(E.ContextKeyExpr.has(b),E.ContextKeyExpr.equals(C,!0),E.ContextKeyExpr.not("isComposing"),e.historyNavigationVisible.isEqualTo(!1)),primary:18,secondary:[530],handler:m=>{s?.showNextValue()}})}),define(ie[150],ne([1,0,19,10,78,2,64,20,22,9,5,74,130,755,29,25,14,18,384]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickSuggestionsOptions=e.CompletionItemModel=e.CompletionOptions=e.CompletionItem=e.suggestWidgetStatusbarMenu=e.Context=void 0,e.getSnippetSuggestSupport=l,e.provideSuggestionItems=d,e.getSuggestionComparator=I,e.showSimpleSuggestions=T,e.Context={Visible:u.historyNavigationVisible,HasFocusedSuggestion:new c.RawContextKey("suggestWidgetHasFocusedSuggestion",!1,(0,i.localize)(0,null)),DetailsVisible:new c.RawContextKey("suggestWidgetDetailsVisible",!1,(0,i.localize)(1,null)),MultipleSuggestions:new c.RawContextKey("suggestWidgetMultipleSuggestions",!1,(0,i.localize)(2,null)),MakesTextEdit:new c.RawContextKey("suggestionMakesTextEdit",!0,(0,i.localize)(3,null)),AcceptSuggestionsOnEnter:new c.RawContextKey("acceptSuggestionOnEnter",!0,(0,i.localize)(4,null)),HasInsertAndReplaceRange:new c.RawContextKey("suggestionHasInsertAndReplaceRange",!1,(0,i.localize)(5,null)),InsertMode:new c.RawContextKey("suggestionInsertMode",void 0,{type:"string",description:(0,i.localize)(6,null)}),CanResolve:new c.RawContextKey("suggestionCanResolve",!1,(0,i.localize)(7,null))},e.suggestWidgetStatusbarMenu=new t.MenuId("suggestWidgetStatusBar");class r{constructor(O,M,R,x){var F;this.position=O,this.completion=M,this.container=R,this.provider=x,this.isInvalid=!1,this.score=E.FuzzyScore.Default,this.distance=0,this.textLabel=typeof M.label=="string"?M.label:(F=M.label)===null||F===void 0?void 0:F.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=M.sortText&&M.sortText.toLowerCase(),this.filterTextLow=M.filterText&&M.filterText.toLowerCase(),this.extensionId=M.extensionId,C.Range.isIRange(M.range)?(this.editStart=new b.Position(M.range.startLineNumber,M.range.startColumn),this.editInsertEnd=new b.Position(M.range.endLineNumber,M.range.endColumn),this.editReplaceEnd=new b.Position(M.range.endLineNumber,M.range.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(M.range)||M.range.startLineNumber!==O.lineNumber):(this.editStart=new b.Position(M.range.insert.startLineNumber,M.range.insert.startColumn),this.editInsertEnd=new b.Position(M.range.insert.endLineNumber,M.range.insert.endColumn),this.editReplaceEnd=new b.Position(M.range.replace.endLineNumber,M.range.replace.endColumn),this.isInvalid=this.isInvalid||C.Range.spansMultipleLines(M.range.insert)||C.Range.spansMultipleLines(M.range.replace)||M.range.insert.startLineNumber!==O.lineNumber||M.range.replace.startLineNumber!==O.lineNumber||M.range.insert.startColumn!==M.range.replace.startColumn),typeof x.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._resolveDuration=0)}get isResolved(){return this._resolveDuration!==void 0}get resolveDuration(){return this._resolveDuration!==void 0?this._resolveDuration:-1}async resolve(O){if(!this._resolveCache){const M=O.onCancellationRequested(()=>{this._resolveCache=void 0,this._resolveDuration=void 0}),R=new y.StopWatch(!0);this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,O)).then(x=>{Object.assign(this.completion,x),this._resolveDuration=R.elapsed()},x=>{(0,k.isCancellationError)(x)&&(this._resolveCache=void 0,this._resolveDuration=void 0)}).finally(()=>{M.dispose()})}return this._resolveCache}}e.CompletionItem=r;class a{constructor(O=2,M=new Set,R=new Set,x=new Map,F=!0){this.snippetSortOrder=O,this.kindFilter=M,this.providerFilter=R,this.providerItemsToReuse=x,this.showDeprecated=F}}e.CompletionOptions=a,a.default=new a;let h;function l(){return h}class g{constructor(O,M,R,x){this.items=O,this.needsClipboard=M,this.durations=R,this.disposable=x}}e.CompletionItemModel=g;async function d(A,O,M,R=a.default,x={triggerKind:0},F=f.CancellationToken.None){const W=new y.StopWatch;M=M.clone();const H=O.getWordAtPosition(M),z=H?new C.Range(M.lineNumber,H.startColumn,M.lineNumber,H.endColumn):C.Range.fromPositions(M),j={replace:z,insert:z.setEndPosition(M.lineNumber,M.column)},K=[],U=new D.DisposableStore,G=[];let te=!1;const ee=(P,Z,re)=>{var ce,he,pe;let ge=!1;if(!Z)return ge;for(const X of Z.suggestions)if(!R.kindFilter.has(X.kind)){if(!R.showDeprecated&&(!((ce=X?.tags)===null||ce===void 0)&&ce.includes(1)))continue;X.range||(X.range=j),X.sortText||(X.sortText=typeof X.label=="string"?X.label:X.label.label),!te&&X.insertTextRules&&X.insertTextRules&4&&(te=s.SnippetParser.guessNeedsClipboard(X.insertText)),K.push(new r(M,X,Z,P)),ge=!0}return(0,D.isDisposable)(Z)&&U.add(Z),G.push({providerName:(he=P._debugDisplayName)!==null&&he!==void 0?he:"unknown_provider",elapsedProvider:(pe=Z.duration)!==null&&pe!==void 0?pe:-1,elapsedOverall:re.elapsed()}),ge},Y=(async()=>{if(!h||R.kindFilter.has(27))return;const P=R.providerItemsToReuse.get(h);if(P){P.forEach(ce=>K.push(ce));return}if(R.providerFilter.size>0&&!R.providerFilter.has(h))return;const Z=new y.StopWatch,re=await h.provideCompletionItems(O,M,x,F);ee(h,re,Z)})();for(const P of A.orderedGroups(O)){let Z=!1;if(await Promise.all(P.map(async re=>{if(R.providerItemsToReuse.has(re)){const ce=R.providerItemsToReuse.get(re);ce.forEach(he=>K.push(he)),Z=Z||ce.length>0;return}if(!(R.providerFilter.size>0&&!R.providerFilter.has(re)))try{const ce=new y.StopWatch,he=await re.provideCompletionItems(O,M,x,F);Z=ee(re,he,ce)||Z}catch(ce){(0,k.onUnexpectedExternalError)(ce)}})),Z||F.isCancellationRequested)break}return await Y,F.isCancellationRequested?(U.dispose(),Promise.reject(new k.CancellationError)):new g(K.sort(I(R.snippetSortOrder)),te,{entries:G,elapsed:W.elapsed()},U)}function v(A,O){if(A.sortTextLow&&O.sortTextLow){if(A.sortTextLow<O.sortTextLow)return-1;if(A.sortTextLow>O.sortTextLow)return 1}return A.textLabel<O.textLabel?-1:A.textLabel>O.textLabel?1:A.completion.kind-O.completion.kind}function _(A,O){if(A.completion.kind!==O.completion.kind){if(A.completion.kind===27)return-1;if(O.completion.kind===27)return 1}return v(A,O)}function S(A,O){if(A.completion.kind!==O.completion.kind){if(A.completion.kind===27)return 1;if(O.completion.kind===27)return-1}return v(A,O)}const L=new Map;L.set(0,_),L.set(2,S),L.set(1,v);function I(A){return L.get(A)}n.CommandsRegistry.registerCommand("_executeCompletionItemProvider",async(A,...O)=>{const[M,R,x,F]=O;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(b.Position.isIPosition(R)),(0,p.assertType)(typeof x=="string"||!x),(0,p.assertType)(typeof F=="number"||!F);const{completionProvider:W}=A.get(m.ILanguageFeaturesService),H=await A.get(o.ITextModelService).createModelReference(M);try{const z={incomplete:!1,suggestions:[]},j=[],K=H.object.textEditorModel.validatePosition(R),U=await d(W,H.object.textEditorModel,K,void 0,{triggerCharacter:x??void 0,triggerKind:x?1:0});for(const G of U.items)j.length<(F??0)&&j.push(G.resolve(f.CancellationToken.None)),z.incomplete=z.incomplete||G.container.incomplete,z.suggestions.push(G.completion);try{return await Promise.all(j),z}finally{setTimeout(()=>U.disposable.dispose(),100)}}finally{H.dispose()}});function T(A,O){var M;(M=A.getContribution("editor.contrib.suggestController"))===null||M===void 0||M.triggerSuggest(new Set().add(O),void 0,!0)}class N{static isAllOff(O){return O.other==="off"&&O.comments==="off"&&O.strings==="off"}static isAllOn(O){return O.other==="on"&&O.comments==="on"&&O.strings==="on"}static valueFor(O,M){switch(M){case 1:return O.comments;case 2:return O.strings;default:return O.other}}}e.QuickSuggestionsOptions=N}),define(ie[151],ne([1,0,13,2,39]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessRegistry=e.Extensions=e.DefaultQuickAccessFilterValue=void 0;var D;(function(p){p[p.PRESERVE=0]="PRESERVE",p[p.LAST=1]="LAST"})(D||(e.DefaultQuickAccessFilterValue=D={})),e.Extensions={Quickaccess:"workbench.contributions.quickaccess"};class y{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(w){return w.prefix.length===0?this.defaultProvider=w:this.providers.push(w),this.providers.sort((b,C)=>C.prefix.length-b.prefix.length),(0,k.toDisposable)(()=>{this.providers.splice(this.providers.indexOf(w),1),this.defaultProvider===w&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,f.coalesce)([this.defaultProvider,...this.providers])}getQuickAccessProvider(w){return w&&this.providers.find(C=>w.startsWith(C.prefix))||void 0||this.defaultProvider}}e.QuickAccessRegistry=y,E.Registry.add(e.Extensions.Quickaccess,new y)}),define(ie[849],ne([1,0,786,39,2,32,151,75]),function(Q,e,f,k,E,D,y,p){"use strict";var w;Object.defineProperty(e,"__esModule",{value:!0}),e.HelpQuickAccessProvider=void 0;let b=w=class{constructor(o,s){this.quickInputService=o,this.keybindingService=s,this.registry=k.Registry.as(y.Extensions.Quickaccess)}provide(o){const s=new E.DisposableStore;return s.add(o.onDidAccept(()=>{const[i]=o.selectedItems;i&&this.quickInputService.quickAccess.show(i.prefix,{preserveValue:!0})})),s.add(o.onDidChangeValue(i=>{const t=this.registry.getQuickAccessProvider(i.substr(w.PREFIX.length));t&&t.prefix&&t.prefix!==w.PREFIX&&this.quickInputService.quickAccess.show(t.prefix,{preserveValue:!0})})),o.items=this.getQuickAccessProviders().filter(i=>i.prefix!==w.PREFIX),s}getQuickAccessProviders(){return this.registry.getQuickAccessProviders().sort((s,i)=>s.prefix.localeCompare(i.prefix)).flatMap(s=>this.createPicks(s))}createPicks(o){return o.helpEntries.map(s=>{const i=s.prefix||o.prefix,t=i||"\u2026";return{prefix:i,label:t,keybinding:s.commandId?this.keybindingService.lookupKeybinding(s.commandId):void 0,ariaLabel:(0,f.localize)(0,null,t,s.description),description:s.description}})}};e.HelpQuickAccessProvider=b,b.PREFIX="?",e.HelpQuickAccessProvider=b=w=Ie([ue(0,p.IQuickInputService),ue(1,D.IKeybindingService)],b)}),define(ie[850],ne([1,0,39,151,103,849]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:D.HelpQuickAccessProvider,prefix:"",helpEntries:[{description:E.QuickHelpNLS.helpQuickAccessActionLabel}]})}),define(ie[851],ne([1,0,15,19,7,2,8,151,75,39]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickAccessController=void 0;let C=class extends D.Disposable{constructor(s,i){super(),this.quickInputService=s,this.instantiationService=i,this.registry=b.Registry.as(p.Extensions.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(s="",i){this.doShowOrPick(s,!1,i)}doShowOrPick(s,i,t){var n,c,m;const[u,r]=this.getOrInstantiateProvider(s),a=this.visibleQuickAccess,h=a?.descriptor;if(a&&r&&h===r){s!==r.prefix&&!t?.preserveValue&&(a.picker.value=s),this.adjustValueSelection(a.picker,r,t);return}if(r&&!t?.preserveValue){let L;if(a&&h&&h!==r){const I=a.value.substr(h.prefix.length);I&&(L=`${r.prefix}${I}`)}if(!L){const I=u?.defaultFilterValue;I===p.DefaultQuickAccessFilterValue.LAST?L=this.lastAcceptedPickerValues.get(r):typeof I=="string"&&(L=`${r.prefix}${I}`)}typeof L=="string"&&(s=L)}const l=(n=a?.picker)===null||n===void 0?void 0:n.valueSelection,g=(c=a?.picker)===null||c===void 0?void 0:c.value,d=new D.DisposableStore,v=d.add(this.quickInputService.createQuickPick());v.value=s,this.adjustValueSelection(v,r,t),v.placeholder=r?.placeholder,v.quickNavigate=t?.quickNavigateConfiguration,v.hideInput=!!v.quickNavigate&&!a,(typeof t?.itemActivation=="number"||t?.quickNavigateConfiguration)&&(v.itemActivation=(m=t?.itemActivation)!==null&&m!==void 0?m:w.ItemActivation.SECOND),v.contextKey=r?.contextKey,v.filterValue=L=>L.substring(r?r.prefix.length:0);let _;i&&(_=new f.DeferredPromise,d.add(E.Event.once(v.onWillAccept)(L=>{L.veto(),v.hide()}))),d.add(this.registerPickerListeners(v,u,r,s,t?.providerOptions));const S=d.add(new k.CancellationTokenSource);if(u&&d.add(u.provide(v,S.token,t?.providerOptions)),E.Event.once(v.onDidHide)(()=>{v.selectedItems.length===0&&S.cancel(),d.dispose(),_?.complete(v.selectedItems.slice(0))}),v.show(),l&&g===s&&(v.valueSelection=l),i)return _?.p}adjustValueSelection(s,i,t){var n;let c;t?.preserveValue?c=[s.value.length,s.value.length]:c=[(n=i?.prefix.length)!==null&&n!==void 0?n:0,s.value.length],s.valueSelection=c}registerPickerListeners(s,i,t,n,c){const m=new D.DisposableStore,u=this.visibleQuickAccess={picker:s,descriptor:t,value:n};return m.add((0,D.toDisposable)(()=>{u===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),m.add(s.onDidChangeValue(r=>{const[a]=this.getOrInstantiateProvider(r);a!==i?this.show(r,{preserveValue:!0,providerOptions:c}):u.value=r})),t&&m.add(s.onDidAccept(()=>{this.lastAcceptedPickerValues.set(t,s.value)})),m}getOrInstantiateProvider(s){const i=this.registry.getQuickAccessProvider(s);if(!i)return[void 0,void 0];let t=this.mapProviderToDescriptor.get(i);return t||(t=this.instantiationService.createInstance(i.ctor),this.mapProviderToDescriptor.set(i,t)),[t,i]}};e.QuickAccessController=C,e.QuickAccessController=C=Ie([ue(0,w.IQuickInputService),ue(1,y.IInstantiationService)],C)}),define(ie[852],ne([1,0,26,31,107,520]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SeverityIcon=void 0;var D;(function(y){function p(w){switch(w){case E.default.Ignore:return"severity-ignore "+k.ThemeIcon.asClassName(f.Codicon.info);case E.default.Info:return k.ThemeIcon.asClassName(f.Codicon.info);case E.default.Warning:return k.ThemeIcon.asClassName(f.Codicon.warning);case E.default.Error:return k.ThemeIcon.asClassName(f.Codicon.error);default:return""}}y.className=p})(D||(e.SeverityIcon=D={}))}),define(ie[98],ne([1,0,7,2,20,639,8]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InMemoryStorageService=e.AbstractStorageService=e.WillSaveStateReason=e.IStorageService=e.TARGET_KEY=void 0,e.loadKeyTargets=w,e.TARGET_KEY="__$__targetStorageMarker",e.IStorageService=(0,y.createDecorator)("storageService");var p;(function(o){o[o.NONE=0]="NONE",o[o.SHUTDOWN=1]="SHUTDOWN"})(p||(e.WillSaveStateReason=p={}));function w(o){const s=o.get(e.TARGET_KEY);if(s)try{return JSON.parse(s)}catch{}return Object.create(null)}class b extends k.Disposable{constructor(s={flushInterval:b.DEFAULT_FLUSH_INTERVAL}){super(),this.options=s,this._onDidChangeValue=this._register(new f.PauseableEmitter),this._onDidChangeTarget=this._register(new f.PauseableEmitter),this._onWillSaveState=this._register(new f.Emitter),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}onDidChangeValue(s,i,t){return f.Event.filter(this._onDidChangeValue.event,n=>n.scope===s&&(i===void 0||n.key===i),t)}emitDidChangeValue(s,i){const{key:t,external:n}=i;if(t===e.TARGET_KEY){switch(s){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:s})}else this._onDidChangeValue.fire({scope:s,key:t,target:this.getKeyTargets(s)[t],external:n})}get(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.get(s,t)}getBoolean(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.getBoolean(s,t)}getNumber(s,i,t){var n;return(n=this.getStorage(i))===null||n===void 0?void 0:n.getNumber(s,t)}store(s,i,t,n,c=!1){if((0,E.isUndefinedOrNull)(i)){this.remove(s,t,c);return}this.withPausedEmitters(()=>{var m;this.updateKeyTarget(s,t,n),(m=this.getStorage(t))===null||m===void 0||m.set(s,i,c)})}remove(s,i,t=!1){this.withPausedEmitters(()=>{var n;this.updateKeyTarget(s,i,void 0),(n=this.getStorage(i))===null||n===void 0||n.delete(s,t)})}withPausedEmitters(s){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{s()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(s,i,t,n=!1){var c,m;const u=this.getKeyTargets(i);typeof t=="number"?u[s]!==t&&(u[s]=t,(c=this.getStorage(i))===null||c===void 0||c.set(e.TARGET_KEY,JSON.stringify(u),n)):typeof u[s]=="number"&&(delete u[s],(m=this.getStorage(i))===null||m===void 0||m.set(e.TARGET_KEY,JSON.stringify(u),n))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(s){switch(s){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(s){const i=this.getStorage(s);return i?w(i):Object.create(null)}}e.AbstractStorageService=b,b.DEFAULT_FLUSH_INTERVAL=60*1e3;class C extends b{constructor(){super(),this.applicationStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.profileStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this.workspaceStorage=this._register(new D.Storage(new D.InMemoryStorageDatabase,{hint:D.StorageHint.STORAGE_IN_MEMORY})),this._register(this.workspaceStorage.onDidChangeStorage(s=>this.emitDidChangeValue(1,s))),this._register(this.profileStorage.onDidChangeStorage(s=>this.emitDidChangeValue(0,s))),this._register(this.applicationStorage.onDidChangeStorage(s=>this.emitDidChangeValue(-1,s)))}getStorage(s){switch(s){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}e.InMemoryStorageService=C}),define(ie[853],ne([1,0,7,45,5,367,48,8,98,52,6]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensCache=e.ICodeLensCache=void 0,e.ICodeLensCache=(0,p.createDecorator)("ICodeLensCache");class o{constructor(t,n){this.lineCount=t,this.data=n}}let s=class{constructor(t){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new k.LRUCache(20,.75);const n="codelens/cache";(0,C.runWhenWindowIdle)(b.mainWindow,()=>t.remove(n,1));const c="codelens/cache2",m=t.get(c,1,"{}");this._deserialize(m),f.Event.once(t.onWillSaveState)(u=>{u.reason===w.WillSaveStateReason.SHUTDOWN&&t.store(c,this._serialize(),1,1)})}put(t,n){const c=n.lenses.map(r=>{var a;return{range:r.symbol.range,command:r.symbol.command&&{id:"",title:(a=r.symbol.command)===null||a===void 0?void 0:a.title}}}),m=new D.CodeLensModel;m.add({lenses:c,dispose:()=>{}},this._fakeProvider);const u=new o(t.getLineCount(),m);this._cache.set(t.uri.toString(),u)}get(t){const n=this._cache.get(t.uri.toString());return n&&n.lineCount===t.getLineCount()?n.data:void 0}delete(t){this._cache.delete(t.uri.toString())}_serialize(){const t=Object.create(null);for(const[n,c]of this._cache){const m=new Set;for(const u of c.data.lenses)m.add(u.symbol.range.startLineNumber);t[n]={lineCount:c.lineCount,lines:[...m.values()]}}return JSON.stringify(t)}_deserialize(t){try{const n=JSON.parse(t);for(const c in n){const m=n[c],u=[];for(const a of m.lines)u.push({range:new E.Range(a,1,a,11)});const r=new D.CodeLensModel;r.add({lenses:u,dispose(){}},this._fakeProvider),this._cache.set(c,new o(m.lineCount,r))}}catch{}}};e.CodeLensCache=s,e.CodeLensCache=s=Ie([ue(0,w.IStorageService)],s),(0,y.registerSingleton)(e.ICodeLensCache,s,1)}),define(ie[385],ne([1,0,15,2,45,218,28,27,48,8,98]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.ISuggestMemoryService=e.SuggestMemoryService=e.PrefixMemory=e.LRUMemory=e.NoMemory=e.Memory=void 0;class s{constructor(u){this.name=u}select(u,r,a){if(a.length===0)return 0;const h=a[0].score[0];for(let l=0;l<a.length;l++){const{score:g,completion:d}=a[l];if(g[0]!==h)break;if(d.preselect)return l}return 0}}e.Memory=s;class i extends s{constructor(){super("first")}memorize(u,r,a){}toJSON(){}fromJSON(){}}e.NoMemory=i;class t extends s{constructor(){super("recentlyUsed"),this._cache=new E.LRUCache(300,.66),this._seq=0}memorize(u,r,a){const h=`${u.getLanguageId()}/${a.textLabel}`;this._cache.set(h,{touch:this._seq++,type:a.completion.kind,insertText:a.completion.insertText})}select(u,r,a){if(a.length===0)return 0;const h=u.getLineContent(r.lineNumber).substr(r.column-10,r.column-1);if(/\s$/.test(h))return super.select(u,r,a);const l=a[0].score[0];let g=-1,d=-1,v=-1;for(let _=0;_<a.length&&a[_].score[0]===l;_++){const S=`${u.getLanguageId()}/${a[_].textLabel}`,L=this._cache.peek(S);if(L&&L.touch>v&&L.type===a[_].completion.kind&&L.insertText===a[_].completion.insertText&&(v=L.touch,d=_),a[_].completion.preselect&&g===-1)return g=_}return d!==-1?d:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(u){this._cache.clear();const r=0;for(const[a,h]of u)h.touch=r,h.type=typeof h.type=="number"?h.type:y.CompletionItemKinds.fromString(h.type),this._cache.set(a,h);this._seq=this._cache.size}}e.LRUMemory=t;class n extends s{constructor(){super("recentlyUsedByPrefix"),this._trie=D.TernarySearchTree.forStrings(),this._seq=0}memorize(u,r,a){const{word:h}=u.getWordUntilPosition(r),l=`${u.getLanguageId()}/${h}`;this._trie.set(l,{type:a.completion.kind,insertText:a.completion.insertText,touch:this._seq++})}select(u,r,a){const{word:h}=u.getWordUntilPosition(r);if(!h)return super.select(u,r,a);const l=`${u.getLanguageId()}/${h}`;let g=this._trie.get(l);if(g||(g=this._trie.findSubstr(l)),g)for(let d=0;d<a.length;d++){const{kind:v,insertText:_}=a[d].completion;if(v===g.type&&_===g.insertText)return d}return super.select(u,r,a)}toJSON(){const u=[];return this._trie.forEach((r,a)=>u.push([a,r])),u.sort((r,a)=>-(r[1].touch-a[1].touch)).forEach((r,a)=>r[1].touch=a),u.slice(0,200)}fromJSON(u){if(this._trie.clear(),u.length>0){this._seq=u[0][1].touch+1;for(const[r,a]of u)a.type=typeof a.type=="number"?a.type:y.CompletionItemKinds.fromString(a.type),this._trie.set(r,a)}}}e.PrefixMemory=n;let c=o=class{constructor(u,r){this._storageService=u,this._configService=r,this._disposables=new k.DisposableStore,this._persistSoon=new f.RunOnceScheduler(()=>this._saveState(),500),this._disposables.add(u.onWillSaveState(a=>{a.reason===C.WillSaveStateReason.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(u,r,a){this._withStrategy(u,r).memorize(u,r,a),this._persistSoon.schedule()}select(u,r,a){return this._withStrategy(u,r).select(u,r,a)}_withStrategy(u,r){var a;const h=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:u.getLanguageIdAtPosition(r.lineNumber,r.column),resource:u.uri});if(((a=this._strategy)===null||a===void 0?void 0:a.name)!==h){this._saveState();const l=o._strategyCtors.get(h)||i;this._strategy=new l;try{const d=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,v=this._storageService.get(`${o._storagePrefix}/${h}`,d);v&&this._strategy.fromJSON(JSON.parse(v))}catch{}}return this._strategy}_saveState(){if(this._strategy){const r=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,a=JSON.stringify(this._strategy);this._storageService.store(`${o._storagePrefix}/${this._strategy.name}`,a,r,1)}}};e.SuggestMemoryService=c,c._strategyCtors=new Map([["recentlyUsedByPrefix",n],["recentlyUsed",t],["first",i]]),c._storagePrefix="suggest/memories",e.SuggestMemoryService=c=o=Ie([ue(0,C.IStorageService),ue(1,p.IConfigurationService)],c),e.ISuggestMemoryService=(0,b.createDecorator)("ISuggestMemories"),(0,w.registerSingleton)(e.ISuggestMemoryService,c,1)}),define(ie[386],ne([1,0,15,7,2,29,25,14,41,98,13,775,32]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";var i,t;Object.defineProperty(e,"__esModule",{value:!0}),e.MenuService=void 0,e.createConfigureKeybindingAction=a;let n=class{constructor(l,g,d){this._commandService=l,this._keybindingService=g,this._hiddenStates=new c(d)}createMenu(l,g,d){return new u(l,this._hiddenStates,{emitEventsForSubmenuChanges:!1,eventDebounceDelay:50,...d},this._commandService,this._keybindingService,g)}resetHiddenStates(l){this._hiddenStates.reset(l)}};e.MenuService=n,e.MenuService=n=Ie([ue(0,y.ICommandService),ue(1,s.IKeybindingService),ue(2,b.IStorageService)],n);let c=i=class{constructor(l){this._storageService=l,this._disposables=new E.DisposableStore,this._onDidChange=new k.Emitter,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1,this._hiddenByDefaultCache=new Map;try{const g=l.get(i._key,0,"{}");this._data=JSON.parse(g)}catch{this._data=Object.create(null)}this._disposables.add(l.onDidChangeValue(0,i._key,this._disposables)(()=>{if(!this._ignoreChangeEvent)try{const g=l.get(i._key,0,"{}");this._data=JSON.parse(g)}catch(g){console.log("FAILED to read storage after UPDATE",g)}this._onDidChange.fire()}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}_isHiddenByDefault(l,g){var d;return(d=this._hiddenByDefaultCache.get(`${l.id}/${g}`))!==null&&d!==void 0?d:!1}setDefaultState(l,g,d){this._hiddenByDefaultCache.set(`${l.id}/${g}`,d)}isHidden(l,g){var d,v;const _=this._isHiddenByDefault(l,g),S=(v=(d=this._data[l.id])===null||d===void 0?void 0:d.includes(g))!==null&&v!==void 0?v:!1;return _?!S:S}updateHidden(l,g,d){this._isHiddenByDefault(l,g)&&(d=!d);const _=this._data[l.id];if(d)_?_.indexOf(g)<0&&_.push(g):this._data[l.id]=[g];else if(_){const S=_.indexOf(g);S>=0&&(0,C.removeFastWithoutKeepingOrder)(_,S),_.length===0&&delete this._data[l.id]}this._persist()}reset(l){if(l===void 0)this._data=Object.create(null),this._persist();else{for(const{id:g}of l)this._data[g]&&delete this._data[g];this._persist()}}_persist(){try{this._ignoreChangeEvent=!0;const l=JSON.stringify(this._data);this._storageService.store(i._key,l,0,0)}finally{this._ignoreChangeEvent=!1}}};c._key="menu.hiddenCommands",c=i=Ie([ue(0,b.IStorageService)],c);let m=t=class{constructor(l,g,d,v,_,S){this._id=l,this._hiddenStates=g,this._collectContextKeysForSubmenus=d,this._commandService=v,this._keybindingService=_,this._contextKeyService=S,this._menuGroups=[],this._structureContextKeys=new Set,this._preconditionContextKeys=new Set,this._toggledContextKeys=new Set,this.refresh()}get structureContextKeys(){return this._structureContextKeys}get preconditionContextKeys(){return this._preconditionContextKeys}get toggledContextKeys(){return this._toggledContextKeys}refresh(){this._menuGroups.length=0,this._structureContextKeys.clear(),this._preconditionContextKeys.clear(),this._toggledContextKeys.clear();const l=D.MenuRegistry.getMenuItems(this._id);let g;l.sort(t._compareMenuItems);for(const d of l){const v=d.group||"";(!g||g[0]!==v)&&(g=[v,[]],this._menuGroups.push(g)),g[1].push(d),this._collectContextKeys(d)}}_collectContextKeys(l){if(t._fillInKbExprKeys(l.when,this._structureContextKeys),(0,D.isIMenuItem)(l)){if(l.command.precondition&&t._fillInKbExprKeys(l.command.precondition,this._preconditionContextKeys),l.command.toggled){const g=l.command.toggled.condition||l.command.toggled;t._fillInKbExprKeys(g,this._toggledContextKeys)}}else this._collectContextKeysForSubmenus&&D.MenuRegistry.getMenuItems(l.submenu).forEach(this._collectContextKeys,this)}createActionGroups(l){const g=[];for(const d of this._menuGroups){const[v,_]=d,S=[];for(const L of _)if(this._contextKeyService.contextMatchesRules(L.when)){const I=(0,D.isIMenuItem)(L);I&&this._hiddenStates.setDefaultState(this._id,L.command.id,!!L.isHiddenByDefault);const T=r(this._id,I?L.command:L,this._hiddenStates);if(I){const N=a(L.command.id,L.when,this._commandService,this._keybindingService);S.push(new D.MenuItemAction(L.command,L.alt,l,T,N,this._contextKeyService,this._commandService))}else{const N=new t(L.submenu,this._hiddenStates,this._collectContextKeysForSubmenus,this._commandService,this._keybindingService,this._contextKeyService).createActionGroups(l),A=w.Separator.join(...N.map(O=>O[1]));A.length>0&&S.push(new D.SubmenuItemAction(L,T,A))}}S.length>0&&g.push([v,S])}return g}static _fillInKbExprKeys(l,g){if(l)for(const d of l.keys())g.add(d)}static _compareMenuItems(l,g){const d=l.group,v=g.group;if(d!==v){if(d){if(!v)return-1}else return 1;if(d==="navigation")return-1;if(v==="navigation")return 1;const L=d.localeCompare(v);if(L!==0)return L}const _=l.order||0,S=g.order||0;return _<S?-1:_>S?1:t._compareTitles((0,D.isIMenuItem)(l)?l.command.title:l.title,(0,D.isIMenuItem)(g)?g.command.title:g.title)}static _compareTitles(l,g){const d=typeof l=="string"?l:l.original,v=typeof g=="string"?g:g.original;return d.localeCompare(v)}};m=t=Ie([ue(3,y.ICommandService),ue(4,s.IKeybindingService),ue(5,p.IContextKeyService)],m);let u=class{constructor(l,g,d,v,_,S){this._disposables=new E.DisposableStore,this._menuInfo=new m(l,g,d.emitEventsForSubmenuChanges,v,_,S);const L=new f.RunOnceScheduler(()=>{this._menuInfo.refresh(),this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!0,isToggleChange:!0})},d.eventDebounceDelay);this._disposables.add(L),this._disposables.add(D.MenuRegistry.onDidChangeMenu(A=>{A.has(l)&&L.schedule()}));const I=this._disposables.add(new E.DisposableStore),T=A=>{let O=!1,M=!1,R=!1;for(const x of A)if(O=O||x.isStructuralChange,M=M||x.isEnablementChange,R=R||x.isToggleChange,O&&M&&R)break;return{menu:this,isStructuralChange:O,isEnablementChange:M,isToggleChange:R}},N=()=>{I.add(S.onDidChangeContext(A=>{const O=A.affectsSome(this._menuInfo.structureContextKeys),M=A.affectsSome(this._menuInfo.preconditionContextKeys),R=A.affectsSome(this._menuInfo.toggledContextKeys);(O||M||R)&&this._onDidChange.fire({menu:this,isStructuralChange:O,isEnablementChange:M,isToggleChange:R})})),I.add(g.onDidChange(A=>{this._onDidChange.fire({menu:this,isStructuralChange:!0,isEnablementChange:!1,isToggleChange:!1})}))};this._onDidChange=new k.DebounceEmitter({onWillAddFirstListener:N,onDidRemoveLastListener:I.clear.bind(I),delay:d.eventDebounceDelay,merge:T}),this.onDidChange=this._onDidChange.event}getActions(l){return this._menuInfo.createActionGroups(l)}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}};u=Ie([ue(3,y.ICommandService),ue(4,s.IKeybindingService),ue(5,p.IContextKeyService)],u);function r(h,l,g){const d=(0,D.isISubmenuItem)(l)?l.submenu.id:l.id,v=typeof l.title=="string"?l.title:l.title.value,_=(0,w.toAction)({id:`hide/${h.id}/${d}`,label:(0,o.localize)(0,null,v),run(){g.updateHidden(h,d,!0)}}),S=(0,w.toAction)({id:`toggle/${h.id}/${d}`,label:v,get checked(){return!g.isHidden(h,d)},run(){g.updateHidden(h,d,!!this.checked)}});return{hide:_,toggle:S,get isHidden(){return!S.checked}}}function a(h,l=void 0,g,d){return(0,w.toAction)({id:`configureKeybinding/${h}`,label:(0,o.localize)(1,null),run(){const _=!!!d.lookupKeybinding(h)&&l?l.serialize():void 0;g.executeCommand("workbench.action.openGlobalKeybindings",`@command:${h}`+(_?` +when:${_}`:""))}})}}),define(ie[62],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ITelemetryService=void 0,e.ITelemetryService=(0,f.createDecorator)("telemetryService")}),define(ie[16],ne([1,0,658,22,36,9,53,74,29,25,14,8,133,39,62,20,60,6]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectAllCommand=e.RedoCommand=e.UndoCommand=e.EditorExtensionsRegistry=e.EditorAction2=e.MultiEditorAction=e.EditorAction=e.EditorCommand=e.ProxyCommand=e.MultiCommand=e.Command=void 0,e.registerModelAndPositionCommand=v,e.registerEditorCommand=_,e.registerEditorAction=S,e.registerMultiEditorAction=L,e.registerInstantiatedEditorAction=I,e.registerEditorContribution=T;class u{constructor(x){this.id=x.id,this.precondition=x.precondition,this._kbOpts=x.kbOpts,this._menuOpts=x.menuOpts,this.metadata=x.metadata}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const x=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const F of x){let W=F.kbExpr;this.precondition&&(W?W=C.ContextKeyExpr.and(W,this.precondition):W=this.precondition);const H={id:this.id,weight:F.weight,args:F.args,when:W,primary:F.primary,secondary:F.secondary,win:F.win,linux:F.linux,mac:F.mac};s.KeybindingsRegistry.registerKeybindingRule(H)}}b.CommandsRegistry.registerCommand({id:this.id,handler:(x,F)=>this.runCommand(x,F),metadata:this.metadata})}_registerMenuItem(x){w.MenuRegistry.appendMenuItem(x.menuId,{group:x.group,command:{id:this.id,title:x.title,icon:x.icon,precondition:this.precondition},when:x.when,order:x.order})}}e.Command=u;class r extends u{constructor(){super(...arguments),this._implementations=[]}addImplementation(x,F,W,H){return this._implementations.push({priority:x,name:F,implementation:W,when:H}),this._implementations.sort((z,j)=>j.priority-z.priority),{dispose:()=>{for(let z=0;z<this._implementations.length;z++)if(this._implementations[z].implementation===W){this._implementations.splice(z,1);return}}}}runCommand(x,F){const W=x.get(c.ILogService),H=x.get(C.IContextKeyService);W.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const z of this._implementations){if(z.when){const K=H.getContext((0,m.getActiveElement)());if(!z.when.evaluate(K))continue}const j=z.implementation(x,F);if(j)return W.trace(`Command '${this.id}' was handled by '${z.name}'.`),typeof j=="boolean"?void 0:j}W.trace(`The Command '${this.id}' was not handled by any implementation.`)}}e.MultiCommand=r;class a extends u{constructor(x,F){super(F),this.command=x}runCommand(x,F){return this.command.runCommand(x,F)}}e.ProxyCommand=a;class h extends u{static bindToContribution(x){return class extends h{constructor(W){super(W),this._callback=W.handler}runEditorCommand(W,H,z){const j=x(H);j&&this._callback(j,z)}}}static runEditorCommand(x,F,W,H){const z=x.get(E.ICodeEditorService),j=z.getFocusedCodeEditor()||z.getActiveCodeEditor();if(j)return j.invokeWithinContext(K=>{if(K.get(C.IContextKeyService).contextMatchesRules(W??void 0))return H(K,j,F)})}runCommand(x,F){return h.runEditorCommand(x,F,this.precondition,(W,H,z)=>this.runEditorCommand(W,H,z))}}e.EditorCommand=h;class l extends h{static convertOptions(x){let F;Array.isArray(x.menuOpts)?F=x.menuOpts:x.menuOpts?F=[x.menuOpts]:F=[];function W(H){return H.menuId||(H.menuId=w.MenuId.EditorContext),H.title||(H.title=x.label),H.when=C.ContextKeyExpr.and(x.precondition,H.when),H}return Array.isArray(x.contextMenuOpts)?F.push(...x.contextMenuOpts.map(W)):x.contextMenuOpts&&F.push(W(x.contextMenuOpts)),x.menuOpts=F,x}constructor(x){super(l.convertOptions(x)),this.label=x.label,this.alias=x.alias}runEditorCommand(x,F,W){return this.reportTelemetry(x,F),this.run(x,F,W||{})}reportTelemetry(x,F){x.get(t.ITelemetryService).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}e.EditorAction=l;class g extends l{constructor(){super(...arguments),this._implementations=[]}addImplementation(x,F){return this._implementations.push([x,F]),this._implementations.sort((W,H)=>H[0]-W[0]),{dispose:()=>{for(let W=0;W<this._implementations.length;W++)if(this._implementations[W][1]===F){this._implementations.splice(W,1);return}}}}run(x,F,W){for(const H of this._implementations){const z=H[1](x,F,W);if(z)return typeof z=="boolean"?void 0:z}}}e.MultiEditorAction=g;class d extends w.Action2{run(x,...F){const W=x.get(E.ICodeEditorService),H=W.getFocusedCodeEditor()||W.getActiveCodeEditor();if(H)return H.invokeWithinContext(z=>{var j,K;const U=z.get(C.IContextKeyService),G=z.get(c.ILogService);if(!U.contextMatchesRules((j=this.desc.precondition)!==null&&j!==void 0?j:void 0)){G.debug("[EditorAction2] NOT running command because its precondition is FALSE",this.desc.id,(K=this.desc.precondition)===null||K===void 0?void 0:K.serialize());return}return this.runEditorCommand(z,H,...F)})}}e.EditorAction2=d;function v(R,x){b.CommandsRegistry.registerCommand(R,function(F,...W){const H=F.get(o.IInstantiationService),[z,j]=W;(0,n.assertType)(k.URI.isUri(z)),(0,n.assertType)(D.Position.isIPosition(j));const K=F.get(y.IModelService).getModel(z);if(K){const U=D.Position.lift(j);return H.invokeFunction(x,K,U,...W.slice(2))}return F.get(p.ITextModelService).createModelReference(z).then(U=>new Promise((G,te)=>{try{const ee=H.invokeFunction(x,U.object.textEditorModel,D.Position.lift(j),W.slice(2));G(ee)}catch(ee){te(ee)}}).finally(()=>{U.dispose()}))})}function _(R){return O.INSTANCE.registerEditorCommand(R),R}function S(R){const x=new R;return O.INSTANCE.registerEditorAction(x),x}function L(R){return O.INSTANCE.registerEditorAction(R),R}function I(R){O.INSTANCE.registerEditorAction(R)}function T(R,x,F){O.INSTANCE.registerEditorContribution(R,x,F)}var N;(function(R){function x(j){return O.INSTANCE.getEditorCommand(j)}R.getEditorCommand=x;function F(){return O.INSTANCE.getEditorActions()}R.getEditorActions=F;function W(){return O.INSTANCE.getEditorContributions()}R.getEditorContributions=W;function H(j){return O.INSTANCE.getEditorContributions().filter(K=>j.indexOf(K.id)>=0)}R.getSomeEditorContributions=H;function z(){return O.INSTANCE.getDiffEditorContributions()}R.getDiffEditorContributions=z})(N||(e.EditorExtensionsRegistry=N={}));const A={EditorCommonContributions:"editor.contributions"};class O{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(x,F,W){this.editorContributions.push({id:x,ctor:F,instantiation:W})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(x){x.register(),this.editorActions.push(x)}getEditorActions(){return this.editorActions}registerEditorCommand(x){x.register(),this.editorCommands[x.id]=x}getEditorCommand(x){return this.editorCommands[x]||null}}O.INSTANCE=new O,i.Registry.add(A.EditorCommonContributions,O.INSTANCE);function M(R){return R.register(),R}e.UndoCommand=M(new r({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(0,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(1,null),order:1}]})),M(new a(e.UndoCommand,{id:"default:undo",precondition:void 0})),e.RedoCommand=M(new r({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:w.MenuId.MenubarEditMenu,group:"1_do",title:f.localize(2,null),order:2},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(3,null),order:1}]})),M(new a(e.RedoCommand,{id:"default:redo",precondition:void 0})),e.SelectAllCommand=M(new r({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:w.MenuId.MenubarSelectionMenu,group:"1_basic",title:f.localize(4,null),order:1},{menuId:w.MenuId.CommandPalette,group:"",title:f.localize(5,null),order:1}]}))}),define(ie[207],ne([1,0,657,63,20,47,16,36,543,79,228,229,269,9,5,21,14,133,6]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CoreEditingCommands=e.CoreNavigationCommands=e.RevealLine_=e.EditorScroll_=e.CoreEditorCommand=void 0;const r=0;class a extends y.EditorCommand{runEditorCommand(A,O,M){const R=O._getViewModel();R&&this.runCoreEditorCommand(R,M||{})}}e.CoreEditorCommand=a;var h;(function(N){const A=function(M){if(!E.isObject(M))return!1;const R=M;return!(!E.isString(R.to)||!E.isUndefined(R.by)&&!E.isString(R.by)||!E.isUndefined(R.value)&&!E.isNumber(R.value)||!E.isUndefined(R.revealCursor)&&!E.isBoolean(R.revealCursor))};N.metadata={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:A,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},N.RawDirection={Up:"up",Right:"right",Down:"down",Left:"left"},N.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor",Column:"column"};function O(M){let R;switch(M.to){case N.RawDirection.Up:R=1;break;case N.RawDirection.Right:R=2;break;case N.RawDirection.Down:R=3;break;case N.RawDirection.Left:R=4;break;default:return null}let x;switch(M.by){case N.RawUnit.Line:x=1;break;case N.RawUnit.WrappedLine:x=2;break;case N.RawUnit.Page:x=3;break;case N.RawUnit.HalfPage:x=4;break;case N.RawUnit.Editor:x=5;break;case N.RawUnit.Column:x=6;break;default:x=2}const F=Math.floor(M.value||1),W=!!M.revealCursor;return{direction:R,unit:x,value:F,revealCursor:W,select:!!M.select}}N.parse=O})(h||(e.EditorScroll_=h={}));var l;(function(N){const A=function(O){if(!E.isObject(O))return!1;const M=O;return!(!E.isNumber(M.lineNumber)&&!E.isString(M.lineNumber)||!E.isUndefined(M.at)&&!E.isString(M.at))};N.metadata={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:A,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},N.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(l||(e.RevealLine_=l={}));class g{constructor(A){A.addImplementation(1e4,"code-editor",(O,M)=>{const R=O.get(p.ICodeEditorService).getFocusedCodeEditor();return R&&R.hasTextFocus()?this._runEditorCommand(O,R,M):!1}),A.addImplementation(1e3,"generic-dom-input-textarea",(O,M)=>{const R=(0,u.getActiveElement)();return R&&["input","textarea"].indexOf(R.tagName.toLowerCase())>=0?(this.runDOMCommand(R),!0):!1}),A.addImplementation(0,"generic-dom",(O,M)=>{const R=O.get(p.ICodeEditorService).getActiveCodeEditor();return R?(R.focus(),this._runEditorCommand(O,R,M)):!1})}_runEditorCommand(A,O,M){const R=this.runEditorCommand(A,O,M);return R||!0}}var d;(function(N){class A extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){if(!re.position)return;Z.model.pushStackElement(),Z.setCursorStates(re.source,3,[o.CursorMoveCommands.moveTo(Z,Z.getPrimaryCursorState(),this._inSelectionMode,re.position,re.viewPosition)])&&re.revealType!==2&&Z.revealAllCursors(re.source,!0,!0)}}N.MoveTo=(0,y.registerEditorCommand)(new A({id:"_moveTo",inSelectionMode:!1,precondition:void 0})),N.MoveToSelect=(0,y.registerEditorCommand)(new A({id:"_moveToSelect",inSelectionMode:!0,precondition:void 0}));class O extends a{runCoreEditorCommand(Z,re){Z.model.pushStackElement();const ce=this._getColumnSelectResult(Z,Z.getPrimaryCursorState(),Z.getCursorColumnSelectData(),re);ce!==null&&(Z.setCursorStates(re.source,3,ce.viewStates.map(he=>b.CursorState.fromViewState(he))),Z.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ce.fromLineNumber,fromViewVisualColumn:ce.fromVisualColumn,toViewLineNumber:ce.toLineNumber,toViewVisualColumn:ce.toVisualColumn}),ce.reversed?Z.revealTopMostCursor(re.source):Z.revealBottomMostCursor(re.source))}}N.ColumnSelect=(0,y.registerEditorCommand)(new class extends O{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(P,Z,re,ce){if(typeof ce.position>"u"||typeof ce.viewPosition>"u"||typeof ce.mouseColumn>"u")return null;const he=P.model.validatePosition(ce.position),pe=P.coordinatesConverter.validateViewPosition(new i.Position(ce.viewPosition.lineNumber,ce.viewPosition.column),he),ge=ce.doColumnSelect?re.fromViewLineNumber:pe.lineNumber,X=ce.doColumnSelect?re.fromViewVisualColumn:ce.mouseColumn-1;return w.ColumnSelection.columnSelect(P.cursorConfig,P,ge,X,pe.lineNumber,ce.mouseColumn-1)}}),N.CursorColumnSelectLeft=(0,y.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(P,Z,re,ce){return w.ColumnSelection.columnSelectLeft(P.cursorConfig,P,re)}}),N.CursorColumnSelectRight=(0,y.registerEditorCommand)(new class extends O{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(P,Z,re,ce){return w.ColumnSelection.columnSelectRight(P.cursorConfig,P,re)}});class M extends O{constructor(Z){super(Z),this._isPaged=Z.isPaged}_getColumnSelectResult(Z,re,ce,he){return w.ColumnSelection.columnSelectUp(Z.cursorConfig,Z,ce,this._isPaged)}}N.CursorColumnSelectUp=(0,y.registerEditorCommand)(new M({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3600,linux:{primary:0}}})),N.CursorColumnSelectPageUp=(0,y.registerEditorCommand)(new M({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3595,linux:{primary:0}}}));class R extends O{constructor(Z){super(Z),this._isPaged=Z.isPaged}_getColumnSelectResult(Z,re,ce,he){return w.ColumnSelection.columnSelectDown(Z.cursorConfig,Z,ce,this._isPaged)}}N.CursorColumnSelectDown=(0,y.registerEditorCommand)(new R({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3602,linux:{primary:0}}})),N.CursorColumnSelectPageDown=(0,y.registerEditorCommand)(new R({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3596,linux:{primary:0}}}));class x extends a{constructor(){super({id:"cursorMove",precondition:void 0,metadata:o.CursorMove.metadata})}runCoreEditorCommand(Z,re){const ce=o.CursorMove.parse(re);ce&&this._runCursorMove(Z,re.source,ce)}_runCursorMove(Z,re,ce){Z.model.pushStackElement(),Z.setCursorStates(re,3,x._move(Z,Z.getCursorStates(),ce)),Z.revealAllCursors(re,!0)}static _move(Z,re,ce){const he=ce.select,pe=ce.value;switch(ce.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return o.CursorMoveCommands.simpleMove(Z,re,ce.direction,he,pe,ce.unit);case 11:case 13:case 12:case 14:return o.CursorMoveCommands.viewportMove(Z,re,ce.direction,he,pe);default:return null}}}N.CursorMoveImpl=x,N.CursorMove=(0,y.registerEditorCommand)(new x);class F extends a{constructor(Z){super(Z),this._staticArgs=Z.args}runCoreEditorCommand(Z,re){let ce=this._staticArgs;this._staticArgs.value===-1&&(ce={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:re.pageSize||Z.cursorConfig.pageSize}),Z.model.pushStackElement(),Z.setCursorStates(re.source,3,o.CursorMoveCommands.simpleMove(Z,Z.getCursorStates(),ce.direction,ce.select,ce.value,ce.unit)),Z.revealAllCursors(re.source,!0)}}N.CursorLeft=(0,y.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),N.CursorLeftSelect=(0,y.registerEditorCommand)(new F({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1039}})),N.CursorRight=(0,y.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),N.CursorRightSelect=(0,y.registerEditorCommand)(new F({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1041}})),N.CursorUp=(0,y.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),N.CursorUpSelect=(0,y.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),N.CursorPageUp=(0,y.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:11}})),N.CursorPageUpSelect=(0,y.registerEditorCommand)(new F({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1035}})),N.CursorDown=(0,y.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),N.CursorDownSelect=(0,y.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),N.CursorPageDown=(0,y.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:12}})),N.CursorPageDownSelect=(0,y.registerEditorCommand)(new F({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1036}})),N.CreateCursor=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(P,Z){if(!Z.position)return;let re;Z.wholeLine?re=o.CursorMoveCommands.line(P,P.getPrimaryCursorState(),!1,Z.position,Z.viewPosition):re=o.CursorMoveCommands.moveTo(P,P.getPrimaryCursorState(),!1,Z.position,Z.viewPosition);const ce=P.getCursorStates();if(ce.length>1){const he=re.modelState?re.modelState.position:null,pe=re.viewState?re.viewState.position:null;for(let ge=0,X=ce.length;ge<X;ge++){const ae=ce[ge];if(!(he&&!ae.modelState.selection.containsPosition(he))&&!(pe&&!ae.viewState.selection.containsPosition(pe))){ce.splice(ge,1),P.model.pushStackElement(),P.setCursorStates(Z.source,3,ce);return}}}ce.push(re),P.model.pushStackElement(),P.setCursorStates(Z.source,3,ce)}}),N.LastCursorMoveToSelect=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(P,Z){if(!Z.position)return;const re=P.getLastAddedCursorIndex(),ce=P.getCursorStates(),he=ce.slice(0);he[re]=o.CursorMoveCommands.moveTo(P,ce[re],!0,Z.position,Z.viewPosition),P.model.pushStackElement(),P.setCursorStates(Z.source,3,he)}});class W extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){Z.model.pushStackElement(),Z.setCursorStates(re.source,3,o.CursorMoveCommands.moveToBeginningOfLine(Z,Z.getCursorStates(),this._inSelectionMode)),Z.revealAllCursors(re.source,!0)}}N.CursorHome=(0,y.registerEditorCommand)(new W({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),N.CursorHomeSelect=(0,y.registerEditorCommand)(new W({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class H extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){Z.model.pushStackElement(),Z.setCursorStates(re.source,3,this._exec(Z.getCursorStates())),Z.revealAllCursors(re.source,!0)}_exec(Z){const re=[];for(let ce=0,he=Z.length;ce<he;ce++){const pe=Z[ce],ge=pe.modelState.position.lineNumber;re[ce]=b.CursorState.fromModelState(pe.modelState.move(this._inSelectionMode,ge,1,0))}return re}}N.CursorLineStart=(0,y.registerEditorCommand)(new H({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:287}}})),N.CursorLineStartSelect=(0,y.registerEditorCommand)(new H({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1311}}}));class z extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){Z.model.pushStackElement(),Z.setCursorStates(re.source,3,o.CursorMoveCommands.moveToEndOfLine(Z,Z.getCursorStates(),this._inSelectionMode,re.sticky||!1)),Z.revealAllCursors(re.source,!0)}}N.CursorEnd=(0,y.registerEditorCommand)(new z({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},metadata:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(0,null),type:"boolean",default:!1}}}}]}})),N.CursorEndSelect=(0,y.registerEditorCommand)(new z({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},metadata:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:f.localize(1,null),type:"boolean",default:!1}}}}]}}));class j extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){Z.model.pushStackElement(),Z.setCursorStates(re.source,3,this._exec(Z,Z.getCursorStates())),Z.revealAllCursors(re.source,!0)}_exec(Z,re){const ce=[];for(let he=0,pe=re.length;he<pe;he++){const ge=re[he],X=ge.modelState.position.lineNumber,ae=Z.model.getLineMaxColumn(X);ce[he]=b.CursorState.fromModelState(ge.modelState.move(this._inSelectionMode,X,ae,0))}return ce}}N.CursorLineEnd=(0,y.registerEditorCommand)(new j({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:291}}})),N.CursorLineEndSelect=(0,y.registerEditorCommand)(new j({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1315}}}));class K extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){Z.model.pushStackElement(),Z.setCursorStates(re.source,3,o.CursorMoveCommands.moveToBeginningOfBuffer(Z,Z.getCursorStates(),this._inSelectionMode)),Z.revealAllCursors(re.source,!0)}}N.CursorTop=(0,y.registerEditorCommand)(new K({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:2062,mac:{primary:2064}}})),N.CursorTopSelect=(0,y.registerEditorCommand)(new K({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3086,mac:{primary:3088}}}));class U extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){Z.model.pushStackElement(),Z.setCursorStates(re.source,3,o.CursorMoveCommands.moveToEndOfBuffer(Z,Z.getCursorStates(),this._inSelectionMode)),Z.revealAllCursors(re.source,!0)}}N.CursorBottom=(0,y.registerEditorCommand)(new U({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:2061,mac:{primary:2066}}})),N.CursorBottomSelect=(0,y.registerEditorCommand)(new U({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:3085,mac:{primary:3090}}}));class G extends a{constructor(){super({id:"editorScroll",precondition:void 0,metadata:h.metadata})}determineScrollMethod(Z){const re=[6],ce=[1,2,3,4,5,6],he=[4,2],pe=[1,3];return re.includes(Z.unit)&&he.includes(Z.direction)?this._runHorizontalEditorScroll.bind(this):ce.includes(Z.unit)&&pe.includes(Z.direction)?this._runVerticalEditorScroll.bind(this):null}runCoreEditorCommand(Z,re){const ce=h.parse(re);if(!ce)return;const he=this.determineScrollMethod(ce);he&&he(Z,re.source,ce)}_runVerticalEditorScroll(Z,re,ce){const he=this._computeDesiredScrollTop(Z,ce);if(ce.revealCursor){const pe=Z.getCompletelyVisibleViewRangeAtScrollTop(he);Z.setCursorStates(re,3,[o.CursorMoveCommands.findPositionInViewportIfOutside(Z,Z.getPrimaryCursorState(),pe,ce.select)])}Z.viewLayout.setScrollPosition({scrollTop:he},0)}_computeDesiredScrollTop(Z,re){if(re.unit===1){const pe=Z.viewLayout.getFutureViewport(),ge=Z.getCompletelyVisibleViewRangeAtScrollTop(pe.top),X=Z.coordinatesConverter.convertViewRangeToModelRange(ge);let ae;re.direction===1?ae=Math.max(1,X.startLineNumber-re.value):ae=Math.min(Z.model.getLineCount(),X.startLineNumber+re.value);const oe=Z.coordinatesConverter.convertModelPositionToViewPosition(new i.Position(ae,1));return Z.viewLayout.getVerticalOffsetForLineNumber(oe.lineNumber)}if(re.unit===5){let pe=0;return re.direction===3&&(pe=Z.model.getLineCount()-Z.cursorConfig.pageSize),Z.viewLayout.getVerticalOffsetForLineNumber(pe)}let ce;re.unit===3?ce=Z.cursorConfig.pageSize*re.value:re.unit===4?ce=Math.round(Z.cursorConfig.pageSize/2)*re.value:ce=re.value;const he=(re.direction===1?-1:1)*ce;return Z.viewLayout.getCurrentScrollTop()+he*Z.cursorConfig.lineHeight}_runHorizontalEditorScroll(Z,re,ce){const he=this._computeDesiredScrollLeft(Z,ce);Z.viewLayout.setScrollPosition({scrollLeft:he},0)}_computeDesiredScrollLeft(Z,re){const ce=(re.direction===4?-1:1)*re.value;return Z.viewLayout.getCurrentScrollLeft()+ce*Z.cursorConfig.typicalHalfwidthCharacterWidth}}N.EditorScrollImpl=G,N.EditorScroll=(0,y.registerEditorCommand)(new G),N.ScrollLineUp=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Up,by:h.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollPageUp=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Up,by:h.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollEditorTop=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Up,by:h.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollLineDown=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Down,by:h.RawUnit.WrappedLine,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollPageDown=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Down,by:h.RawUnit.Page,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollEditorBottom=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Down,by:h.RawUnit.Editor,value:1,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollLeft=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Left,by:h.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Z.source})}}),N.ScrollRight=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"scrollRight",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus}})}runCoreEditorCommand(P,Z){N.EditorScroll.runCoreEditorCommand(P,{to:h.RawDirection.Right,by:h.RawUnit.Column,value:2,revealCursor:!1,select:!1,source:Z.source})}});class te extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){re.position&&(Z.model.pushStackElement(),Z.setCursorStates(re.source,3,[o.CursorMoveCommands.word(Z,Z.getPrimaryCursorState(),this._inSelectionMode,re.position)]),re.revealType!==2&&Z.revealAllCursors(re.source,!0,!0))}}N.WordSelect=(0,y.registerEditorCommand)(new te({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),N.WordSelectDrag=(0,y.registerEditorCommand)(new te({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),N.LastCursorWordSelect=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(P,Z){if(!Z.position)return;const re=P.getLastAddedCursorIndex(),ce=P.getCursorStates(),he=ce.slice(0),pe=ce[re];he[re]=o.CursorMoveCommands.word(P,pe,pe.modelState.hasSelection(),Z.position),P.model.pushStackElement(),P.setCursorStates(Z.source,3,he)}});class ee extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){re.position&&(Z.model.pushStackElement(),Z.setCursorStates(re.source,3,[o.CursorMoveCommands.line(Z,Z.getPrimaryCursorState(),this._inSelectionMode,re.position,re.viewPosition)]),re.revealType!==2&&Z.revealAllCursors(re.source,!1,!0))}}N.LineSelect=(0,y.registerEditorCommand)(new ee({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),N.LineSelectDrag=(0,y.registerEditorCommand)(new ee({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Y extends a{constructor(Z){super(Z),this._inSelectionMode=Z.inSelectionMode}runCoreEditorCommand(Z,re){if(!re.position)return;const ce=Z.getLastAddedCursorIndex(),he=Z.getCursorStates(),pe=he.slice(0);pe[ce]=o.CursorMoveCommands.line(Z,he[ce],this._inSelectionMode,re.position,re.viewPosition),Z.model.pushStackElement(),Z.setCursorStates(re.source,3,pe)}}N.LastCursorLineSelect=(0,y.registerEditorCommand)(new Y({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),N.LastCursorLineSelectDrag=(0,y.registerEditorCommand)(new Y({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),N.CancelSelection=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"cancelSelection",precondition:n.EditorContextKeys.hasNonEmptySelection,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(P,Z){P.model.pushStackElement(),P.setCursorStates(Z.source,3,[o.CursorMoveCommands.cancelSelection(P,P.getPrimaryCursorState())]),P.revealAllCursors(Z.source,!0)}}),N.RemoveSecondaryCursors=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"removeSecondaryCursors",precondition:n.EditorContextKeys.hasMultipleSelections,kbOpts:{weight:r+1,kbExpr:n.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(P,Z){P.model.pushStackElement(),P.setCursorStates(Z.source,3,[P.getPrimaryCursorState()]),P.revealAllCursors(Z.source,!0),(0,D.status)(f.localize(2,null))}}),N.RevealLine=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"revealLine",precondition:void 0,metadata:l.metadata})}runCoreEditorCommand(P,Z){const re=Z,ce=re.lineNumber||0;let he=typeof ce=="number"?ce+1:parseInt(ce)+1;he<1&&(he=1);const pe=P.model.getLineCount();he>pe&&(he=pe);const ge=new t.Range(he,1,he,P.model.getLineMaxColumn(he));let X=0;if(re.at)switch(re.at){case l.RawAtArgument.Top:X=3;break;case l.RawAtArgument.Center:X=1;break;case l.RawAtArgument.Bottom:X=4;break;default:break}const ae=P.coordinatesConverter.convertModelRangeToViewRange(ge);P.revealRange(Z.source,!1,ae,X,0)}}),N.SelectAll=new class extends g{constructor(){super(y.SelectAllCommand)}runDOMCommand(P){k.isFirefox&&(P.focus(),P.select()),P.ownerDocument.execCommand("selectAll")}runEditorCommand(P,Z,re){const ce=Z._getViewModel();ce&&this.runCoreEditorCommand(ce,re)}runCoreEditorCommand(P,Z){P.model.pushStackElement(),P.setCursorStates("keyboard",3,[o.CursorMoveCommands.selectAll(P,P.getPrimaryCursorState())])}},N.SetSelection=(0,y.registerEditorCommand)(new class extends a{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(P,Z){Z.selection&&(P.model.pushStackElement(),P.setCursorStates(Z.source,3,[b.CursorState.fromModelSelection(Z.selection)]))}})})(d||(e.CoreNavigationCommands=d={}));const v=c.ContextKeyExpr.and(n.EditorContextKeys.textInputFocus,n.EditorContextKeys.columnSelection);function _(N,A){m.KeybindingsRegistry.registerKeybindingRule({id:N,primary:A,when:v,weight:r+1})}_(d.CursorColumnSelectLeft.id,1039),_(d.CursorColumnSelectRight.id,1041),_(d.CursorColumnSelectUp.id,1040),_(d.CursorColumnSelectPageUp.id,1035),_(d.CursorColumnSelectDown.id,1042),_(d.CursorColumnSelectPageDown.id,1036);function S(N){return N.register(),N}var L;(function(N){class A extends y.EditorCommand{runEditorCommand(M,R,x){const F=R._getViewModel();F&&this.runCoreEditingCommand(R,F,x||{})}}N.CoreEditingCommand=A,N.LineBreakInsert=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"lineBreakInsert",precondition:n.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(O,M,R){O.pushUndoStop(),O.executeCommands(this.id,s.TypeOperations.lineBreakInsert(M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection)))}}),N.Outdent=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"outdent",precondition:n.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:c.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(O,M,R){O.pushUndoStop(),O.executeCommands(this.id,s.TypeOperations.outdent(M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection))),O.pushUndoStop()}}),N.Tab=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"tab",precondition:n.EditorContextKeys.writable,kbOpts:{weight:r,kbExpr:c.ContextKeyExpr.and(n.EditorContextKeys.editorTextFocus,n.EditorContextKeys.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(O,M,R){O.pushUndoStop(),O.executeCommands(this.id,s.TypeOperations.tab(M.cursorConfig,M.model,M.getCursorStates().map(x=>x.modelState.selection))),O.pushUndoStop()}}),N.DeleteLeft=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(O,M,R){const[x,F]=C.DeleteOperations.deleteLeft(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(W=>W.modelState.selection),M.getCursorAutoClosedCharacters());x&&O.pushUndoStop(),O.executeCommands(this.id,F),M.setPrevEditOperationType(2)}}),N.DeleteRight=(0,y.registerEditorCommand)(new class extends A{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:r,kbExpr:n.EditorContextKeys.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(O,M,R){const[x,F]=C.DeleteOperations.deleteRight(M.getPrevEditOperationType(),M.cursorConfig,M.model,M.getCursorStates().map(W=>W.modelState.selection));x&&O.pushUndoStop(),O.executeCommands(this.id,F),M.setPrevEditOperationType(3)}}),N.Undo=new class extends g{constructor(){super(y.UndoCommand)}runDOMCommand(O){O.ownerDocument.execCommand("undo")}runEditorCommand(O,M,R){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().undo()}},N.Redo=new class extends g{constructor(){super(y.RedoCommand)}runDOMCommand(O){O.ownerDocument.execCommand("redo")}runEditorCommand(O,M,R){if(!(!M.hasModel()||M.getOption(91)===!0))return M.getModel().redo()}}})(L||(e.CoreEditingCommands=L={}));class I extends y.Command{constructor(A,O,M){super({id:A,precondition:void 0,metadata:M}),this._handlerId=O}runCommand(A,O){const M=A.get(p.ICodeEditorService).getFocusedCodeEditor();M&&M.trigger("keyboard",this._handlerId,O)}}function T(N,A){S(new I("default:"+N,N)),S(new I(N,N,A))}T("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),T("replacePreviousChar"),T("compositionType"),T("compositionStart"),T("compositionEnd"),T("paste"),T("cut")}),define(ie[854],ne([1,0,258,16]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsContribution=void 0;let E=class{constructor(y,p){}dispose(){}};e.MarkerDecorationsContribution=E,E.ID="editor.contrib.markerDecorations",e.MarkerDecorationsContribution=E=Ie([ue(1,f.IMarkerDecorationsService)],E),(0,k.registerEditorContribution)(E.ID,E,0)}),define(ie[855],ne([1,0,207,9,17]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewController=void 0;class D{constructor(p,w,b,C){this.configuration=p,this.viewModel=w,this.userInputEvents=b,this.commandDelegate=C}paste(p,w,b,C){this.commandDelegate.paste(p,w,b,C)}type(p){this.commandDelegate.type(p)}compositionType(p,w,b,C){this.commandDelegate.compositionType(p,w,b,C)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(p){f.CoreNavigationCommands.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:p})}_validateViewColumn(p){const w=this.viewModel.getLineMinColumn(p.lineNumber);return p.column<w?new k.Position(p.lineNumber,w):p}_hasMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.altKey;case"ctrlKey":return p.ctrlKey;case"metaKey":return p.metaKey;default:return!1}}_hasNonMulticursorModifier(p){switch(this.configuration.options.get(78)){case"altKey":return p.ctrlKey||p.metaKey;case"ctrlKey":return p.altKey||p.metaKey;case"metaKey":return p.ctrlKey||p.altKey;default:return!1}}dispatchMouse(p){const w=this.configuration.options,b=E.isLinux&&w.get(107),C=w.get(22);p.middleButton&&!b?this._columnSelect(p.position,p.mouseColumn,p.inSelectionMode):p.startedOnLineNumbers?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelect(p.position,p.revealType):this._createCursor(p.position,!0):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount>=4?this._selectAll():p.mouseDownCount===3?this._hasMulticursorModifier(p)?p.inSelectionMode?this._lastCursorLineSelectDrag(p.position,p.revealType):this._lastCursorLineSelect(p.position,p.revealType):p.inSelectionMode?this._lineSelectDrag(p.position,p.revealType):this._lineSelect(p.position,p.revealType):p.mouseDownCount===2?p.onInjectedText||(this._hasMulticursorModifier(p)?this._lastCursorWordSelect(p.position,p.revealType):p.inSelectionMode?this._wordSelectDrag(p.position,p.revealType):this._wordSelect(p.position,p.revealType)):this._hasMulticursorModifier(p)?this._hasNonMulticursorModifier(p)||(p.shiftKey?this._columnSelect(p.position,p.mouseColumn,!0):p.inSelectionMode?this._lastCursorMoveToSelect(p.position,p.revealType):this._createCursor(p.position,!1)):p.inSelectionMode?p.altKey?this._columnSelect(p.position,p.mouseColumn,!0):C?this._columnSelect(p.position,p.mouseColumn,!0):this._moveToSelect(p.position,p.revealType):this.moveTo(p.position,p.revealType)}_usualArgs(p,w){return p=this._validateViewColumn(p),{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,revealType:w}}moveTo(p,w){f.CoreNavigationCommands.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_moveToSelect(p,w){f.CoreNavigationCommands.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_columnSelect(p,w,b){p=this._validateViewColumn(p),f.CoreNavigationCommands.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,mouseColumn:w,doColumnSelect:b})}_createCursor(p,w){p=this._validateViewColumn(p),f.CoreNavigationCommands.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(p),viewPosition:p,wholeLine:w})}_lastCursorMoveToSelect(p,w){f.CoreNavigationCommands.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelect(p,w){f.CoreNavigationCommands.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_wordSelectDrag(p,w){f.CoreNavigationCommands.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorWordSelect(p,w){f.CoreNavigationCommands.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelect(p,w){f.CoreNavigationCommands.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lineSelectDrag(p,w){f.CoreNavigationCommands.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelect(p,w){f.CoreNavigationCommands.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_lastCursorLineSelectDrag(p,w){f.CoreNavigationCommands.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(p,w))}_selectAll(){f.CoreNavigationCommands.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(p){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(p)}emitKeyDown(p){this.userInputEvents.emitKeyDown(p)}emitKeyUp(p){this.userInputEvents.emitKeyUp(p)}emitContextMenu(p){this.userInputEvents.emitContextMenu(p)}emitMouseMove(p){this.userInputEvents.emitMouseMove(p)}emitMouseLeave(p){this.userInputEvents.emitMouseLeave(p)}emitMouseUp(p){this.userInputEvents.emitMouseUp(p)}emitMouseDown(p){this.userInputEvents.emitMouseDown(p)}emitMouseDrag(p){this.userInputEvents.emitMouseDrag(p)}emitMouseDrop(p){this.userInputEvents.emitMouseDrop(p)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(p){this.userInputEvents.emitMouseWheel(p)}}e.ViewController=D}),define(ie[856],ne([1,0,48,8,7,64,59,100,113,62]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.WorkerBasedDocumentDiffProvider=e.WorkerBasedDiffProviderFactoryService=e.IDiffProviderFactoryService=void 0,e.IDiffProviderFactoryService=(0,k.createDecorator)("diffProviderFactoryService");let o=class{constructor(t){this.instantiationService=t}createDiffProvider(t){return this.instantiationService.createInstance(s,t)}};e.WorkerBasedDiffProviderFactoryService=o,e.WorkerBasedDiffProviderFactoryService=o=Ie([ue(0,k.IInstantiationService)],o),(0,f.registerSingleton)(e.IDiffProviderFactoryService,o,1);let s=C=class{constructor(t,n,c){this.editorWorkerService=n,this.telemetryService=c,this.onDidChangeEventEmitter=new E.Emitter,this.onDidChange=this.onDidChangeEventEmitter.event,this.diffAlgorithm="advanced",this.diffAlgorithmOnDidChangeSubscription=void 0,this.setOptions(t)}dispose(){var t;(t=this.diffAlgorithmOnDidChangeSubscription)===null||t===void 0||t.dispose()}async computeDiff(t,n,c,m){var u,r;if(typeof this.diffAlgorithm!="string")return this.diffAlgorithm.computeDiff(t,n,c,m);if(t.isDisposed()||n.isDisposed())return{changes:[],identical:!0,quitEarly:!1,moves:[]};if(t.getLineCount()===1&&t.getLineMaxColumn(1)===1)return n.getLineCount()===1&&n.getLineMaxColumn(1)===1?{changes:[],identical:!0,quitEarly:!1,moves:[]}:{changes:[new p.DetailedLineRangeMapping(new y.LineRange(1,2),new y.LineRange(1,n.getLineCount()+1),[new p.RangeMapping(t.getFullModelRange(),n.getFullModelRange())])],identical:!1,quitEarly:!1,moves:[]};const a=JSON.stringify([t.uri.toString(),n.uri.toString()]),h=JSON.stringify([t.id,n.id,t.getAlternativeVersionId(),n.getAlternativeVersionId(),JSON.stringify(c)]),l=C.diffCache.get(a);if(l&&l.context===h)return l.result;const g=D.StopWatch.create(),d=await this.editorWorkerService.computeDiff(t.uri,n.uri,c,this.diffAlgorithm),v=g.elapsed();if(this.telemetryService.publicLog2("diffEditor.computeDiff",{timeMs:v,timedOut:(u=d?.quitEarly)!==null&&u!==void 0?u:!0,detectedMoves:c.computeMoves?(r=d?.moves.length)!==null&&r!==void 0?r:0:-1}),m.isCancellationRequested)return{changes:[],identical:!1,quitEarly:!0,moves:[]};if(!d)throw new Error("no diff result available");return C.diffCache.size>10&&C.diffCache.delete(C.diffCache.keys().next().value),C.diffCache.set(a,{result:d,context:h}),d}setOptions(t){var n;let c=!1;t.diffAlgorithm&&this.diffAlgorithm!==t.diffAlgorithm&&((n=this.diffAlgorithmOnDidChangeSubscription)===null||n===void 0||n.dispose(),this.diffAlgorithmOnDidChangeSubscription=void 0,this.diffAlgorithm=t.diffAlgorithm,typeof t.diffAlgorithm!="string"&&(this.diffAlgorithmOnDidChangeSubscription=t.diffAlgorithm.onDidChange(()=>this.onDidChangeEventEmitter.fire())),c=!0),c&&this.onDidChangeEventEmitter.fire()}};e.WorkerBasedDocumentDiffProvider=s,s.diffCache=new Map,e.WorkerBasedDocumentDiffProvider=s=C=Ie([ue(1,w.IEditorWorkerService),ue(2,b.ITelemetryService)],s)}),define(ie[387],ne([1,0,15,19,2,30,856,83,59,308,100,194,310,306,20,13,87]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnchangedRegion=e.DiffMapping=e.DiffState=e.DiffEditorViewModel=void 0;let m=class extends E.Disposable{setActiveMovedText(_){this._activeMovedText.set(_,void 0)}constructor(_,S,L){super(),this.model=_,this._options=S,this._diffProviderFactoryService=L,this._isDiffUpToDate=(0,D.observableValue)(this,!1),this.isDiffUpToDate=this._isDiffUpToDate,this._diff=(0,D.observableValue)(this,void 0),this.diff=this._diff,this._unchangedRegions=(0,D.observableValue)(this,void 0),this.unchangedRegions=(0,D.derived)(this,A=>{var O,M;return this._options.hideUnchangedRegions.read(A)?(M=(O=this._unchangedRegions.read(A))===null||O===void 0?void 0:O.regions)!==null&&M!==void 0?M:[]:((0,D.transaction)(R=>{var x;for(const F of((x=this._unchangedRegions.get())===null||x===void 0?void 0:x.regions)||[])F.collapseAll(R)}),[])}),this.movedTextToCompare=(0,D.observableValue)(this,void 0),this._activeMovedText=(0,D.observableValue)(this,void 0),this._hoveredMovedText=(0,D.observableValue)(this,void 0),this.activeMovedText=(0,D.derived)(this,A=>{var O,M;return(M=(O=this.movedTextToCompare.read(A))!==null&&O!==void 0?O:this._hoveredMovedText.read(A))!==null&&M!==void 0?M:this._activeMovedText.read(A)}),this._cancellationTokenSource=new k.CancellationTokenSource,this._diffProvider=(0,D.derived)(this,A=>{const O=this._diffProviderFactoryService.createDiffProvider({diffAlgorithm:this._options.diffAlgorithm.read(A)}),M=(0,D.observableSignalFromEvent)("onDidChange",O.onDidChange);return{diffProvider:O,onChangeSignal:M}}),this._register((0,E.toDisposable)(()=>this._cancellationTokenSource.cancel()));const I=(0,D.observableSignal)("contentChangedSignal"),T=this._register(new f.RunOnceScheduler(()=>I.trigger(void 0),200));this._register((0,D.autorun)(A=>{const O=this._unchangedRegions.read(A);if(!O||O.regions.some(H=>H.isDragged.read(A)))return;const M=O.originalDecorationIds.map(H=>_.original.getDecorationRange(H)).map(H=>H?w.LineRange.fromRangeInclusive(H):void 0),R=O.modifiedDecorationIds.map(H=>_.modified.getDecorationRange(H)).map(H=>H?w.LineRange.fromRangeInclusive(H):void 0),x=O.regions.map((H,z)=>!M[z]||!R[z]?void 0:new l(M[z].startLineNumber,R[z].startLineNumber,M[z].length,H.visibleLineCountTop.read(A),H.visibleLineCountBottom.read(A))).filter(t.isDefined),F=[];let W=!1;for(const H of(0,n.groupAdjacentBy)(x,(z,j)=>z.getHiddenModifiedRange(A).endLineNumberExclusive===j.getHiddenModifiedRange(A).startLineNumber))if(H.length>1){W=!0;const z=H.reduce((K,U)=>K+U.lineCount,0),j=new l(H[0].originalLineNumber,H[0].modifiedLineNumber,z,H[0].visibleLineCountTop.get(),H[H.length-1].visibleLineCountBottom.get());F.push(j)}else F.push(H[0]);if(W){const H=_.original.deltaDecorations(O.originalDecorationIds,F.map(j=>({range:j.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),z=_.modified.deltaDecorations(O.modifiedDecorationIds,F.map(j=>({range:j.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));(0,D.transaction)(j=>{this._unchangedRegions.set({regions:F,originalDecorationIds:H,modifiedDecorationIds:z},j)})}}));const N=(A,O,M)=>{const R=l.fromDiffs(A.changes,_.original.getLineCount(),_.modified.getLineCount(),this._options.hideUnchangedRegionsMinimumLineCount.read(M),this._options.hideUnchangedRegionsContextLineCount.read(M));let x;const F=this._unchangedRegions.get();if(F){const j=F.originalDecorationIds.map(te=>_.original.getDecorationRange(te)).map(te=>te?w.LineRange.fromRangeInclusive(te):void 0),K=F.modifiedDecorationIds.map(te=>_.modified.getDecorationRange(te)).map(te=>te?w.LineRange.fromRangeInclusive(te):void 0);let G=(0,p.filterWithPrevious)(F.regions.map((te,ee)=>{if(!j[ee]||!K[ee])return;const Y=j[ee].length;return new l(j[ee].startLineNumber,K[ee].startLineNumber,Y,Math.min(te.visibleLineCountTop.get(),Y),Math.min(te.visibleLineCountBottom.get(),Y-te.visibleLineCountTop.get()))}).filter(t.isDefined),(te,ee)=>!ee||te.modifiedLineNumber>=ee.modifiedLineNumber+ee.lineCount&&te.originalLineNumber>=ee.originalLineNumber+ee.lineCount).map(te=>new C.LineRangeMapping(te.getHiddenOriginalRange(M),te.getHiddenModifiedRange(M)));G=C.LineRangeMapping.clip(G,w.LineRange.ofLength(1,_.original.getLineCount()),w.LineRange.ofLength(1,_.modified.getLineCount())),x=C.LineRangeMapping.inverse(G,_.original.getLineCount(),_.modified.getLineCount())}const W=[];if(x)for(const j of R){const K=x.filter(U=>U.original.intersectsStrict(j.originalUnchangedRange)&&U.modified.intersectsStrict(j.modifiedUnchangedRange));W.push(...j.setVisibleRanges(K,O))}else W.push(...R);const H=_.original.deltaDecorations(F?.originalDecorationIds||[],W.map(j=>({range:j.originalUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}}))),z=_.modified.deltaDecorations(F?.modifiedDecorationIds||[],W.map(j=>({range:j.modifiedUnchangedRange.toInclusiveRange(),options:{description:"unchanged"}})));this._unchangedRegions.set({regions:W,originalDecorationIds:H,modifiedDecorationIds:z},O)};this._register(_.modified.onDidChangeContent(A=>{if(this._diff.get()){const M=o.TextEditInfo.fromModelContentChanges(A.changes),R=(this._lastDiff,_.original,_.modified,void 0);R&&(this._lastDiff=R,(0,D.transaction)(x=>{this._diff.set(a.fromDiffResult(this._lastDiff),x),N(R,x);const F=this.movedTextToCompare.get();this.movedTextToCompare.set(F?this._lastDiff.moves.find(W=>W.lineRangeMapping.modified.intersect(F.lineRangeMapping.modified)):void 0,x)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register(_.original.onDidChangeContent(A=>{if(this._diff.get()){const M=o.TextEditInfo.fromModelContentChanges(A.changes),R=(this._lastDiff,_.original,_.modified,void 0);R&&(this._lastDiff=R,(0,D.transaction)(x=>{this._diff.set(a.fromDiffResult(this._lastDiff),x),N(R,x);const F=this.movedTextToCompare.get();this.movedTextToCompare.set(F?this._lastDiff.moves.find(W=>W.lineRangeMapping.modified.intersect(F.lineRangeMapping.modified)):void 0,x)}))}this._isDiffUpToDate.set(!1,void 0),T.schedule()})),this._register((0,D.autorunWithStore)(async(A,O)=>{var M,R;this._options.hideUnchangedRegionsMinimumLineCount.read(A),this._options.hideUnchangedRegionsContextLineCount.read(A),T.cancel(),I.read(A);const x=this._diffProvider.read(A);x.onChangeSignal.read(A),(0,p.readHotReloadableExport)(b.DefaultLinesDiffComputer,A),(0,p.readHotReloadableExport)(i.optimizeSequenceDiffs,A),this._isDiffUpToDate.set(!1,void 0);let F=[];O.add(_.original.onDidChangeContent(z=>{const j=o.TextEditInfo.fromModelContentChanges(z.changes);F=(0,s.combineTextEditInfos)(F,j)}));let W=[];O.add(_.modified.onDidChangeContent(z=>{const j=o.TextEditInfo.fromModelContentChanges(z.changes);W=(0,s.combineTextEditInfos)(W,j)}));let H=await x.diffProvider.computeDiff(_.original,_.modified,{ignoreTrimWhitespace:this._options.ignoreTrimWhitespace.read(A),maxComputationTimeMs:this._options.maxComputationTimeMs.read(A),computeMoves:this._options.showMoves.read(A)},this._cancellationTokenSource.token);this._cancellationTokenSource.token.isCancellationRequested||_.original.isDisposed()||_.modified.isDisposed()||(H=u(H,_.original,_.modified),H=(M=(_.original,_.modified,void 0))!==null&&M!==void 0?M:H,H=(R=(_.original,_.modified,void 0))!==null&&R!==void 0?R:H,(0,D.transaction)(z=>{N(H,z),this._lastDiff=H;const j=a.fromDiffResult(H);this._diff.set(j,z),this._isDiffUpToDate.set(!0,z);const K=this.movedTextToCompare.get();this.movedTextToCompare.set(K?this._lastDiff.moves.find(U=>U.lineRangeMapping.modified.intersect(K.lineRangeMapping.modified)):void 0,z)}))}))}ensureModifiedLineIsVisible(_,S,L){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenModifiedRange(void 0).contains(_)){A.showModifiedLine(_,S,L);return}}ensureOriginalLineIsVisible(_,S,L){var I,T;if(((I=this.diff.get())===null||I===void 0?void 0:I.mappings.length)===0)return;const N=((T=this._unchangedRegions.get())===null||T===void 0?void 0:T.regions)||[];for(const A of N)if(A.getHiddenOriginalRange(void 0).contains(_)){A.showOriginalLine(_,S,L);return}}async waitForDiff(){await(0,D.waitForState)(this.isDiffUpToDate,_=>_)}serializeState(){const _=this._unchangedRegions.get();return{collapsedRegions:_?.regions.map(S=>({range:S.getHiddenModifiedRange(void 0).serialize()}))}}restoreSerializedState(_){var S;const L=(S=_.collapsedRegions)===null||S===void 0?void 0:S.map(T=>w.LineRange.deserialize(T.range)),I=this._unchangedRegions.get();!I||!L||(0,D.transaction)(T=>{for(const N of I.regions)for(const A of L)if(N.modifiedUnchangedRange.intersect(A)){N.setHiddenModifiedRange(A,T);break}})}};e.DiffEditorViewModel=m,e.DiffEditorViewModel=m=Ie([ue(2,y.IDiffProviderFactoryService)],m);function u(v,_,S){return{changes:v.changes.map(L=>new C.DetailedLineRangeMapping(L.original,L.modified,L.innerChanges?L.innerChanges.map(I=>r(I,_,S)):void 0)),moves:v.moves,identical:v.identical,quitEarly:v.quitEarly}}function r(v,_,S){let L=v.originalRange,I=v.modifiedRange;return(L.endColumn!==1||I.endColumn!==1)&&L.endColumn===_.getLineMaxColumn(L.endLineNumber)&&I.endColumn===S.getLineMaxColumn(I.endLineNumber)&&L.endLineNumber<_.getLineCount()&&I.endLineNumber<S.getLineCount()&&(L=L.setEndPosition(L.endLineNumber+1,1),I=I.setEndPosition(I.endLineNumber+1,1)),new C.RangeMapping(L,I)}class a{static fromDiffResult(_){return new a(_.changes.map(S=>new h(S)),_.moves||[],_.identical,_.quitEarly)}constructor(_,S,L,I){this.mappings=_,this.movedTexts=S,this.identical=L,this.quitEarly=I}}e.DiffState=a;class h{constructor(_){this.lineRangeMapping=_}}e.DiffMapping=h;class l{static fromDiffs(_,S,L,I,T){const N=C.DetailedLineRangeMapping.inverse(_,S,L),A=[];for(const O of N){let M=O.original.startLineNumber,R=O.modified.startLineNumber,x=O.original.length;const F=M===1&&R===1,W=M+x===S+1&&R+x===L+1;(F||W)&&x>=T+I?(F&&!W&&(x-=T),W&&!F&&(M+=T,R+=T,x-=T),A.push(new l(M,R,x,0,0))):x>=T*2+I&&(M+=T,R+=T,x-=T*2,A.push(new l(M,R,x,0,0)))}return A}get originalUnchangedRange(){return w.LineRange.ofLength(this.originalLineNumber,this.lineCount)}get modifiedUnchangedRange(){return w.LineRange.ofLength(this.modifiedLineNumber,this.lineCount)}constructor(_,S,L,I,T){this.originalLineNumber=_,this.modifiedLineNumber=S,this.lineCount=L,this._visibleLineCountTop=(0,D.observableValue)(this,0),this.visibleLineCountTop=this._visibleLineCountTop,this._visibleLineCountBottom=(0,D.observableValue)(this,0),this.visibleLineCountBottom=this._visibleLineCountBottom,this._shouldHideControls=(0,D.derived)(this,O=>this.visibleLineCountTop.read(O)+this.visibleLineCountBottom.read(O)===this.lineCount&&!this.isDragged.read(O)),this.isDragged=(0,D.observableValue)(this,void 0);const N=Math.max(Math.min(I,this.lineCount),0),A=Math.max(Math.min(T,this.lineCount-I),0);(0,c.softAssert)(I===N),(0,c.softAssert)(T===A),this._visibleLineCountTop.set(N,void 0),this._visibleLineCountBottom.set(A,void 0)}setVisibleRanges(_,S){const L=[],I=new w.LineRangeSet(_.map(O=>O.modified)).subtractFrom(this.modifiedUnchangedRange);let T=this.originalLineNumber,N=this.modifiedLineNumber;const A=this.modifiedLineNumber+this.lineCount;if(I.ranges.length===0)this.showAll(S),L.push(this);else{let O=0;for(const M of I.ranges){const R=O===I.ranges.length-1;O++;const x=(R?A:M.endLineNumberExclusive)-N,F=new l(T,N,x,0,0);F.setHiddenModifiedRange(M,S),L.push(F),T=F.originalUnchangedRange.endLineNumberExclusive,N=F.modifiedUnchangedRange.endLineNumberExclusive}}return L}shouldHideControls(_){return this._shouldHideControls.read(_)}getHiddenOriginalRange(_){return w.LineRange.ofLength(this.originalLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}getHiddenModifiedRange(_){return w.LineRange.ofLength(this.modifiedLineNumber+this._visibleLineCountTop.read(_),this.lineCount-this._visibleLineCountTop.read(_)-this._visibleLineCountBottom.read(_))}setHiddenModifiedRange(_,S){const L=_.startLineNumber-this.modifiedLineNumber,I=this.modifiedLineNumber+this.lineCount-_.endLineNumberExclusive;this.setState(L,I,S)}getMaxVisibleLineCountTop(){return this.lineCount-this._visibleLineCountBottom.get()}getMaxVisibleLineCountBottom(){return this.lineCount-this._visibleLineCountTop.get()}showMoreAbove(_=10,S){const L=this.getMaxVisibleLineCountTop();this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+_,L),S)}showMoreBelow(_=10,S){const L=this.lineCount-this._visibleLineCountTop.get();this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+_,L),S)}showAll(_){this._visibleLineCountBottom.set(this.lineCount-this._visibleLineCountTop.get(),_)}showModifiedLine(_,S,L){const I=_+1-(this.modifiedLineNumber+this._visibleLineCountTop.get()),T=this.modifiedLineNumber-this._visibleLineCountBottom.get()+this.lineCount-_;S===0&&I<T||S===1?this._visibleLineCountTop.set(this._visibleLineCountTop.get()+I,L):this._visibleLineCountBottom.set(this._visibleLineCountBottom.get()+T,L)}showOriginalLine(_,S,L){const I=_-this.originalLineNumber,T=this.originalLineNumber+this.lineCount-_;S===0&&I<T||S===1?this._visibleLineCountTop.set(Math.min(this._visibleLineCountTop.get()+T-I,this.getMaxVisibleLineCountTop()),L):this._visibleLineCountBottom.set(Math.min(this._visibleLineCountBottom.get()+I-T,this.getMaxVisibleLineCountBottom()),L)}collapseAll(_){this._visibleLineCountTop.set(0,_),this._visibleLineCountBottom.set(0,_)}setState(_,S,L){_=Math.max(Math.min(_,this.lineCount),0),S=Math.max(Math.min(S,this.lineCount-_),0),this._visibleLineCountTop.set(_,L),this._visibleLineCountBottom.set(S,L)}}e.UnchangedRegion=l;function g(v,_,S,L){}function d(v,_,S,L){}}),define(ie[857],ne([1,0,47,57,69,16,24,21,689,14,482]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";var C;Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionAnchorSet=void 0,e.SelectionAnchorSet=new b.RawContextKey("selectionAnchorSet",!1);let o=C=class{static get(m){return m.getContribution(C.ID)}constructor(m,u){this.editor=m,this.selectionAnchorSetContextKey=e.SelectionAnchorSet.bindTo(u),this.modelChangeListener=m.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}setSelectionAnchor(){if(this.editor.hasModel()){const m=this.editor.getPosition();this.editor.changeDecorations(u=>{this.decorationId&&u.removeDecoration(this.decorationId),this.decorationId=u.addDecoration(y.Selection.fromPositions(m,m),{description:"selection-anchor",stickiness:1,hoverMessage:new k.MarkdownString().appendText((0,w.localize)(0,null)),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,f.alert)((0,w.localize)(1,null,m.lineNumber,m.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const m=this.editor.getModel().getDecorationRange(this.decorationId);m&&this.editor.setPosition(m.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const m=this.editor.getModel().getDecorationRange(this.decorationId);if(m){const u=this.editor.getPosition();this.editor.setSelection(y.Selection.fromPositions(m.getStartPosition(),u)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const m=this.decorationId;this.editor.changeDecorations(u=>{u.removeDecoration(m),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};o.ID="editor.contrib.selectionAnchorController",o=C=Ie([ue(1,b.IContextKeyService)],o);class s extends D.EditorAction{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,w.localize)(2,null),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2080),weight:100}})}async run(m,u){var r;(r=o.get(u))===null||r===void 0||r.setSelectionAnchor()}}class i extends D.EditorAction{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,w.localize)(3,null),alias:"Go to Selection Anchor",precondition:e.SelectionAnchorSet})}async run(m,u){var r;(r=o.get(u))===null||r===void 0||r.goToSelectionAnchor()}}class t extends D.EditorAction{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,w.localize)(4,null),alias:"Select from Anchor to Cursor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,2089),weight:100}})}async run(m,u){var r;(r=o.get(u))===null||r===void 0||r.selectFromAnchorToCursor()}}class n extends D.EditorAction{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,w.localize)(5,null),alias:"Cancel Selection Anchor",precondition:e.SelectionAnchorSet,kbOpts:{kbExpr:p.EditorContextKeys.editorTextFocus,primary:9,weight:100}})}async run(m,u){var r;(r=o.get(u))===null||r===void 0||r.cancelSelectionAnchor()}}(0,D.registerEditorContribution)(o.ID,o,4),(0,D.registerEditorAction)(s),(0,D.registerEditorAction)(i),(0,D.registerEditorAction)(t),(0,D.registerEditorAction)(n)}),define(ie[858],ne([1,0,16,21,586,691]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class y extends f.EditorAction{constructor(C,o){super(o),this.left=C}run(C,o){if(!o.hasModel())return;const s=[],i=o.getSelections();for(const t of i)s.push(new E.MoveCaretCommand(t,this.left));o.pushUndoStop(),o.executeCommands(this.id,s),o.pushUndoStop()}}class p extends y{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:D.localize(0,null),alias:"Move Selected Text Left",precondition:k.EditorContextKeys.writable})}}class w extends y{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:D.localize(1,null),alias:"Move Selected Text Right",precondition:k.EditorContextKeys.writable})}}(0,f.registerEditorAction)(p),(0,f.registerEditorAction)(w)}),define(ie[859],ne([1,0,16,141,227,5,21,692]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class w extends f.EditorAction{constructor(){super({id:"editor.action.transposeLetters",label:p.localize(0,null),alias:"Transpose Letters",precondition:y.EditorContextKeys.writable,kbOpts:{kbExpr:y.EditorContextKeys.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(C,o){if(!o.hasModel())return;const s=o.getModel(),i=[],t=o.getSelections();for(const n of t){if(!n.isEmpty())continue;const c=n.startLineNumber,m=n.startColumn,u=s.getLineMaxColumn(c);if(c===1&&(m===1||m===2&&u===2))continue;const r=m===u?n.getPosition():E.MoveOperations.rightPosition(s,n.getPosition().lineNumber,n.getPosition().column),a=E.MoveOperations.leftPosition(s,r),h=E.MoveOperations.leftPosition(s,a),l=s.getValueInRange(D.Range.fromPositions(h,a)),g=s.getValueInRange(D.Range.fromPositions(a,r)),d=D.Range.fromPositions(h,r);i.push(new k.ReplaceCommand(d,g+l))}i.length>0&&(o.pushUndoStop(),o.executeCommands(this.id,i),o.pushUndoStop())}}(0,f.registerEditorAction)(w)}),define(ie[860],ne([1,0,69,16,5,21,34,323,588,703,29]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class o extends k.EditorAction{constructor(m,u){super(u),this._type=m}run(m,u){const r=m.get(y.ILanguageConfigurationService);if(!u.hasModel())return;const a=u.getModel(),h=[],l=a.getOptions(),g=u.getOption(23),d=u.getSelections().map((_,S)=>({selection:_,index:S,ignoreFirstLine:!1}));d.sort((_,S)=>E.Range.compareRangesUsingStarts(_.selection,S.selection));let v=d[0];for(let _=1;_<d.length;_++){const S=d[_];v.selection.endLineNumber===S.selection.startLineNumber&&(v.index<S.index?S.ignoreFirstLine=!0:(v.ignoreFirstLine=!0,v=S))}for(const _ of d)h.push(new w.LineCommentCommand(r,_.selection,l.indentSize,this._type,g.insertSpace,g.ignoreEmptyLines,_.ignoreFirstLine));u.pushUndoStop(),u.executeCommands(this.id,h),u.pushUndoStop()}}class s extends o{constructor(){super(0,{id:"editor.action.commentLine",label:b.localize(0,null),alias:"Toggle Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:2138,weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(1,null),order:1}})}}class i extends o{constructor(){super(1,{id:"editor.action.addCommentLine",label:b.localize(2,null),alias:"Add Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2081),weight:100}})}}class t extends o{constructor(){super(2,{id:"editor.action.removeCommentLine",label:b.localize(3,null),alias:"Remove Line Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2099),weight:100}})}}class n extends k.EditorAction{constructor(){super({id:"editor.action.blockComment",label:b.localize(4,null),alias:"Toggle Block Comment",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:C.MenuId.MenubarEditMenu,group:"5_insert",title:b.localize(5,null),order:2}})}run(m,u){const r=m.get(y.ILanguageConfigurationService);if(!u.hasModel())return;const a=u.getOption(23),h=[],l=u.getSelections();for(const g of l)h.push(new p.BlockCommentCommand(g,a.insertSpace,r));u.pushUndoStop(),u.executeCommands(this.id,h),u.pushUndoStop()}}(0,k.registerEditorAction)(s),(0,k.registerEditorAction)(i),(0,k.registerEditorAction)(t),(0,k.registerEditorAction)(n)}),define(ie[861],ne([1,0,2,16,21,705]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorRedo=e.CursorUndo=e.CursorUndoRedoController=void 0;class y{constructor(s){this.selections=s}equals(s){const i=this.selections.length,t=s.selections.length;if(i!==t)return!1;for(let n=0;n<i;n++)if(!this.selections[n].equalsSelection(s.selections[n]))return!1;return!0}}class p{constructor(s,i,t){this.cursorState=s,this.scrollTop=i,this.scrollLeft=t}}class w extends f.Disposable{static get(s){return s.getContribution(w.ID)}constructor(s){super(),this._editor=s,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(s.onDidChangeModel(i=>{this._undoStack=[],this._redoStack=[]})),this._register(s.onDidChangeModelContent(i=>{this._undoStack=[],this._redoStack=[]})),this._register(s.onDidChangeCursorSelection(i=>{if(this._isCursorUndoRedo||!i.oldSelections||i.oldModelVersionId!==i.modelVersionId)return;const t=new y(i.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(t)||(this._undoStack.push(new p(t,s.getScrollTop(),s.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new p(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new p(new y(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(s){this._isCursorUndoRedo=!0,this._editor.setSelections(s.cursorState.selections),this._editor.setScrollPosition({scrollTop:s.scrollTop,scrollLeft:s.scrollLeft}),this._isCursorUndoRedo=!1}}e.CursorUndoRedoController=w,w.ID="editor.contrib.cursorUndoRedoController";class b extends k.EditorAction{constructor(){super({id:"cursorUndo",label:D.localize(0,null),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:E.EditorContextKeys.textInputFocus,primary:2099,weight:100}})}run(s,i,t){var n;(n=w.get(i))===null||n===void 0||n.cursorUndo()}}e.CursorUndo=b;class C extends k.EditorAction{constructor(){super({id:"cursorRedo",label:D.localize(1,null),alias:"Cursor Redo",precondition:void 0})}run(s,i,t){var n;(n=w.get(i))===null||n===void 0||n.cursorRedo()}}e.CursorRedo=C,(0,k.registerEditorContribution)(w.ID,w,0),(0,k.registerEditorAction)(b),(0,k.registerEditorAction)(C)}),define(ie[862],ne([1,0,16,14,19,70,8,48,711]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorKeybindingCancellationTokenSource=void 0;const b=(0,y.createDecorator)("IEditorCancelService"),C=new k.RawContextKey("cancellableOperation",!1,(0,w.localize)(0,null));(0,p.registerSingleton)(b,class{constructor(){this._tokens=new WeakMap}add(s,i){let t=this._tokens.get(s);t||(t=s.invokeWithinContext(c=>{const m=C.bindTo(c.get(k.IContextKeyService)),u=new D.LinkedList;return{key:m,tokens:u}}),this._tokens.set(s,t));let n;return t.key.set(!0),n=t.tokens.push(i),()=>{n&&(n(),t.key.set(!t.tokens.isEmpty()),n=void 0)}}cancel(s){const i=this._tokens.get(s);if(!i)return;const t=i.tokens.pop();t&&(t.cancel(),i.key.set(!i.tokens.isEmpty()))}},1);class o extends E.CancellationTokenSource{constructor(i,t){super(t),this.editor=i,this._unregister=i.invokeWithinContext(n=>n.get(b).add(i,this))}dispose(){this._unregister(),super.dispose()}}e.EditorKeybindingCancellationTokenSource=o,(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:C})}runEditorCommand(s,i){s.get(b).cancel(i)}})}),define(ie[118],ne([1,0,12,5,19,2,862]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextModelCancellationTokenSource=e.EditorStateCancellationTokenSource=e.EditorState=void 0;class p{constructor(o,s){if(this.flags=s,this.flags&1){const i=o.getModel();this.modelVersionId=i?f.format("{0}#{1}",i.uri.toString(),i.getVersionId()):null}else this.modelVersionId=null;this.flags&4?this.position=o.getPosition():this.position=null,this.flags&2?this.selection=o.getSelection():this.selection=null,this.flags&8?(this.scrollLeft=o.getScrollLeft(),this.scrollTop=o.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(o){if(!(o instanceof p))return!1;const s=o;return!(this.modelVersionId!==s.modelVersionId||this.scrollLeft!==s.scrollLeft||this.scrollTop!==s.scrollTop||!this.position&&s.position||this.position&&!s.position||this.position&&s.position&&!this.position.equals(s.position)||!this.selection&&s.selection||this.selection&&!s.selection||this.selection&&s.selection&&!this.selection.equalsRange(s.selection))}validate(o){return this._equals(new p(o,this.flags))}}e.EditorState=p;class w extends y.EditorKeybindingCancellationTokenSource{constructor(o,s,i,t){super(o,t),this._listener=new D.DisposableStore,s&4&&this._listener.add(o.onDidChangeCursorPosition(n=>{(!i||!k.Range.containsPosition(i,n.position))&&this.cancel()})),s&2&&this._listener.add(o.onDidChangeCursorSelection(n=>{(!i||!k.Range.containsRange(i,n.selection))&&this.cancel()})),s&8&&this._listener.add(o.onDidScrollChange(n=>this.cancel())),s&1&&(this._listener.add(o.onDidChangeModel(n=>this.cancel())),this._listener.add(o.onDidChangeModelContent(n=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}e.EditorStateCancellationTokenSource=w;class b extends E.CancellationTokenSource{constructor(o,s){super(s),this._listener=o.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}e.TextModelCancellationTokenSource=b}),define(ie[152],ne([1,0,13,19,10,2,22,148,5,24,18,53,118,694,25,51,92,62,129,88]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ApplyCodeActionReason=e.fixAllCommandId=e.organizeImportsCommandId=e.sourceActionCommandId=e.refactorCommandId=e.autoFixCommandId=e.quickFixCommandId=e.codeActionCommandId=void 0,e.getCodeActions=l,e.applyCodeAction=S,e.codeActionCommandId="editor.action.codeAction",e.quickFixCommandId="editor.action.quickFix",e.autoFixCommandId="editor.action.autoFix",e.refactorCommandId="editor.action.refactor",e.sourceActionCommandId="editor.action.sourceAction",e.organizeImportsCommandId="editor.action.organizeImports",e.fixAllCommandId="editor.action.fixAll";class a extends D.Disposable{static codeActionsPreferredComparator(T,N){return T.isPreferred&&!N.isPreferred?-1:!T.isPreferred&&N.isPreferred?1:0}static codeActionsComparator({action:T},{action:N}){return T.isAI&&!N.isAI?1:!T.isAI&&N.isAI?-1:(0,f.isNonEmptyArray)(T.diagnostics)?(0,f.isNonEmptyArray)(N.diagnostics)?a.codeActionsPreferredComparator(T,N):-1:(0,f.isNonEmptyArray)(N.diagnostics)?1:a.codeActionsPreferredComparator(T,N)}constructor(T,N,A){super(),this.documentation=N,this._register(A),this.allActions=[...T].sort(a.codeActionsComparator),this.validActions=this.allActions.filter(({action:O})=>!O.disabled)}get hasAutoFix(){return this.validActions.some(({action:T})=>!!T.kind&&u.CodeActionKind.QuickFix.contains(new r.HierarchicalKind(T.kind))&&!!T.isPreferred)}get hasAIFix(){return this.validActions.some(({action:T})=>!!T.isAI)}get allAIFixes(){return this.validActions.every(({action:T})=>!!T.isAI)}}const h={actions:[],documentation:void 0};async function l(I,T,N,A,O,M){var R;const x=A.filter||{},F={...x,excludes:[...x.excludes||[],u.CodeActionKind.Notebook]},W={only:(R=x.include)===null||R===void 0?void 0:R.value,trigger:A.type},H=new s.TextModelCancellationTokenSource(T,M),z=A.type===2,j=g(I,T,z?F:x),K=new D.DisposableStore,U=j.map(async te=>{try{O.report(te);const ee=await te.provideCodeActions(T,N,W,H.token);if(ee&&K.add(ee),H.token.isCancellationRequested)return h;const Y=(ee?.actions||[]).filter(Z=>Z&&(0,u.filtersAction)(x,Z)),P=v(te,Y,x.include);return{actions:Y.map(Z=>new u.CodeActionItem(Z,te)),documentation:P}}catch(ee){if((0,E.isCancellationError)(ee))throw ee;return(0,E.onUnexpectedExternalError)(ee),h}}),G=I.onDidChange(()=>{const te=I.all(T);(0,f.equals)(te,j)||H.cancel()});try{const te=await Promise.all(U),ee=te.map(P=>P.actions).flat(),Y=[...(0,f.coalesce)(te.map(P=>P.documentation)),...d(I,T,A,ee)];return new a(ee,Y,K)}finally{G.dispose(),H.dispose()}}function g(I,T,N){return I.all(T).filter(A=>A.providedCodeActionKinds?A.providedCodeActionKinds.some(O=>(0,u.mayIncludeActionsOfKind)(N,new r.HierarchicalKind(O))):!0)}function*d(I,T,N,A){var O,M,R;if(T&&A.length)for(const x of I.all(T))x._getAdditionalMenuItems&&(yield*(O=x._getAdditionalMenuItems)===null||O===void 0?void 0:O.call(x,{trigger:N.type,only:(R=(M=N.filter)===null||M===void 0?void 0:M.include)===null||R===void 0?void 0:R.value},A.map(F=>F.action)))}function v(I,T,N){if(!I.documentation)return;const A=I.documentation.map(O=>({kind:new r.HierarchicalKind(O.kind),command:O.command}));if(N){let O;for(const M of A)M.kind.contains(N)&&(O?O.kind.contains(M.kind)&&(O=M):O=M);if(O)return O?.command}for(const O of T)if(O.kind){for(const M of A)if(M.kind.contains(new r.HierarchicalKind(O.kind)))return M.command}}var _;(function(I){I.OnSave="onSave",I.FromProblemsView="fromProblemsView",I.FromCodeActions="fromCodeActions",I.FromAILightbulb="fromAILightbulb"})(_||(e.ApplyCodeActionReason=_={}));async function S(I,T,N,A,O=k.CancellationToken.None){var M;const R=I.get(p.IBulkEditService),x=I.get(t.ICommandService),F=I.get(m.ITelemetryService),W=I.get(n.INotificationService);if(F.publicLog2("codeAction.applyCodeAction",{codeActionTitle:T.action.title,codeActionKind:T.action.kind,codeActionIsPreferred:!!T.action.isPreferred,reason:N}),await T.resolve(O),!O.isCancellationRequested&&!(!((M=T.action.edit)===null||M===void 0)&&M.edits.length&&!(await R.apply(T.action.edit,{editor:A?.editor,label:T.action.title,quotableLabel:T.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:N!==_.OnSave,showPreview:A?.preview})).isApplied)&&T.action.command)try{await x.executeCommand(T.action.command.id,...T.action.command.arguments||[])}catch(H){const z=L(H);W.error(typeof z=="string"?z:i.localize(0,null))}}function L(I){return typeof I=="string"?I:I instanceof Error&&typeof I.message=="string"?I.message:void 0}t.CommandsRegistry.registerCommand("_executeCodeActionProvider",async function(I,T,N,A,O){if(!(T instanceof y.URI))throw(0,E.illegalArgument)();const{codeActionProvider:M}=I.get(C.ILanguageFeaturesService),R=I.get(o.IModelService).getModel(T);if(!R)throw(0,E.illegalArgument)();const x=b.Selection.isISelection(N)?b.Selection.liftSelection(N):w.Range.isIRange(N)?R.validateRange(N):void 0;if(!x)throw(0,E.illegalArgument)();const F=typeof A=="string"?new r.HierarchicalKind(A):void 0,W=await l(M,R,x,{type:1,triggerAction:u.CodeActionTriggerSource.Default,filter:{includeSourceActions:!0,include:F}},c.Progress.None,k.CancellationToken.None),H=[],z=Math.min(W.validActions.length,typeof O=="number"?O:0);for(let j=0;j<z;j++)H.push(W.validActions[j].resolve(k.CancellationToken.None));try{return await Promise.all(H),W.validActions.map(j=>j.action)}finally{setTimeout(()=>W.dispose(),100)}})}),define(ie[863],ne([1,0,88,95,152,129,32]),function(Q,e,f,k,E,D,y){"use strict";var p;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionKeybindingResolver=void 0;let w=p=class{constructor(C){this.keybindingService=C}getResolver(){const C=new k.Lazy(()=>this.keybindingService.getKeybindings().filter(o=>p.codeActionCommands.indexOf(o.command)>=0).filter(o=>o.resolvedKeybinding).map(o=>{let s=o.commandArgs;return o.command===E.organizeImportsCommandId?s={kind:D.CodeActionKind.SourceOrganizeImports.value}:o.command===E.fixAllCommandId&&(s={kind:D.CodeActionKind.SourceFixAll.value}),{resolvedKeybinding:o.resolvedKeybinding,...D.CodeActionCommandArgs.fromUser(s,{kind:f.HierarchicalKind.None,apply:"never"})}}));return o=>{if(o.kind){const s=this.bestKeybindingForCodeAction(o,C.value);return s?.resolvedKeybinding}}}bestKeybindingForCodeAction(C,o){if(!C.kind)return;const s=new f.HierarchicalKind(C.kind);return o.filter(i=>i.kind.contains(s)).filter(i=>i.preferred?C.isPreferred:!0).reduceRight((i,t)=>i?i.kind.contains(t.kind)?t:i:t,void 0)}};e.CodeActionKeybindingResolver=w,w.codeActionCommands=[E.refactorCommandId,E.codeActionCommandId,E.sourceActionCommandId,E.organizeImportsCommandId,E.fixAllCommandId],e.CodeActionKeybindingResolver=w=p=Ie([ue(0,y.IKeybindingService)],w)}),define(ie[388],ne([1,0,15,10,7,2,50,38,9,24,14,92,129,152,88]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionModel=e.CodeActionsState=e.APPLY_FIX_ALL_COMMAND_ID=e.SUPPORTED_CODE_ACTIONS=void 0,e.SUPPORTED_CODE_ACTIONS=new C.RawContextKey("supportedCodeAction",""),e.APPLY_FIX_ALL_COMMAND_ID="_typescript.applyFixAllCodeAction";class n extends D.Disposable{constructor(a,h,l,g=250){super(),this._editor=a,this._markerService=h,this._signalChange=l,this._delay=g,this._autoTriggerTimer=this._register(new f.TimeoutTimer),this._register(this._markerService.onMarkerChanged(d=>this._onMarkerChanges(d))),this._register(this._editor.onDidChangeCursorPosition(()=>this._tryAutoTrigger()))}trigger(a){const h=this._getRangeOfSelectionUnlessWhitespaceEnclosed(a);this._signalChange(h?{trigger:a,selection:h}:void 0)}_onMarkerChanges(a){const h=this._editor.getModel();h&&a.some(l=>(0,y.isEqual)(l,h.uri))&&this._tryAutoTrigger()}_tryAutoTrigger(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})},this._delay)}_getRangeOfSelectionUnlessWhitespaceEnclosed(a){if(!this._editor.hasModel())return;const h=this._editor.getSelection();if(a.type===1)return h;const l=this._editor.getOption(65).enabled;if(l!==p.ShowLightbulbIconMode.Off){{if(l===p.ShowLightbulbIconMode.On)return h;if(l===p.ShowLightbulbIconMode.OnCode){if(!h.isEmpty())return h;const d=this._editor.getModel(),{lineNumber:v,column:_}=h.getPosition(),S=d.getLineContent(v);if(S.length===0)return;if(_===1){if(/\s/.test(S[0]))return}else if(_===d.getLineMaxColumn(v)){if(/\s/.test(S[S.length-1]))return}else if(/\s/.test(S[_-2])&&/\s/.test(S[_-1]))return}}return h}}}var c;(function(r){r.Empty={type:0};class a{constructor(l,g,d){this.trigger=l,this.position=g,this._cancellablePromise=d,this.type=1,this.actions=d.catch(v=>{if((0,k.isCancellationError)(v))return m;throw v})}cancel(){this._cancellablePromise.cancel()}}r.Triggered=a})(c||(e.CodeActionsState=c={}));const m=Object.freeze({allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1,hasAIFix:!1,allAIFixes:!1});class u extends D.Disposable{constructor(a,h,l,g,d,v){super(),this._editor=a,this._registry=h,this._markerService=l,this._progressService=d,this._configurationService=v,this._codeActionOracle=this._register(new D.MutableDisposable),this._state=c.Empty,this._onDidChangeState=this._register(new E.Emitter),this.onDidChangeState=this._onDidChangeState.event,this._disposed=!1,this._supportedCodeActions=e.SUPPORTED_CODE_ACTIONS.bindTo(g),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(65)&&this._update()})),this._update()}dispose(){this._disposed||(this._disposed=!0,super.dispose(),this.setState(c.Empty,!0))}_settingEnabledNearbyQuickfixes(){var a;const h=(a=this._editor)===null||a===void 0?void 0:a.getModel();return this._configurationService?this._configurationService.getValue("editor.codeActionWidget.includeNearbyQuickFixes",{resource:h?.uri}):!1}_update(){if(this._disposed)return;this._codeActionOracle.value=void 0,this.setState(c.Empty);const a=this._editor.getModel();if(a&&this._registry.has(a)&&!this._editor.getOption(91)){const h=this._registry.all(a).flatMap(l=>{var g;return(g=l.providedCodeActionKinds)!==null&&g!==void 0?g:[]});this._supportedCodeActions.set(h.join(" ")),this._codeActionOracle.value=new n(this._editor,this._markerService,l=>{var g;if(!l){this.setState(c.Empty);return}const d=l.selection.getStartPosition(),v=(0,f.createCancelablePromise)(async L=>{var I,T,N,A,O,M,R,x,F,W;if(this._settingEnabledNearbyQuickfixes()&&l.trigger.type===1&&(l.trigger.triggerAction===s.CodeActionTriggerSource.QuickFix||!((T=(I=l.trigger.filter)===null||I===void 0?void 0:I.include)===null||T===void 0)&&T.contains(s.CodeActionKind.QuickFix))){const H=await(0,i.getCodeActions)(this._registry,a,l.selection,l.trigger,o.Progress.None,L),z=[...H.allActions];if(L.isCancellationRequested)return m;const j=(N=H.validActions)===null||N===void 0?void 0:N.some(U=>U.action.kind?s.CodeActionKind.QuickFix.contains(new t.HierarchicalKind(U.action.kind)):!1),K=this._markerService.read({resource:a.uri});if(j){for(const U of H.validActions)!((O=(A=U.action.command)===null||A===void 0?void 0:A.arguments)===null||O===void 0)&&O.some(G=>typeof G=="string"&&G.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(U.action.diagnostics=[...K.filter(G=>G.relatedInformation)]);return{validActions:H.validActions,allActions:z,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}else if(!j&&K.length>0){const U=l.selection.getPosition();let G=U,te=Number.MAX_VALUE;const ee=[...H.validActions];for(const P of K){const Z=P.endColumn,re=P.endLineNumber,ce=P.startLineNumber;if(re===U.lineNumber||ce===U.lineNumber){G=new w.Position(re,Z);const he={type:l.trigger.type,triggerAction:l.trigger.triggerAction,filter:{include:!((M=l.trigger.filter)===null||M===void 0)&&M.include?(R=l.trigger.filter)===null||R===void 0?void 0:R.include:s.CodeActionKind.QuickFix},autoApply:l.trigger.autoApply,context:{notAvailableMessage:((x=l.trigger.context)===null||x===void 0?void 0:x.notAvailableMessage)||"",position:G}},pe=new b.Selection(G.lineNumber,G.column,G.lineNumber,G.column),ge=await(0,i.getCodeActions)(this._registry,a,pe,he,o.Progress.None,L);if(ge.validActions.length!==0){for(const X of ge.validActions)!((W=(F=X.action.command)===null||F===void 0?void 0:F.arguments)===null||W===void 0)&&W.some(ae=>typeof ae=="string"&&ae.includes(e.APPLY_FIX_ALL_COMMAND_ID))&&(X.action.diagnostics=[...K.filter(ae=>ae.relatedInformation)]);H.allActions.length===0&&z.push(...ge.allActions),Math.abs(U.column-Z)<te?ee.unshift(...ge.validActions):ee.push(...ge.validActions)}te=Math.abs(U.column-Z)}}const Y=ee.filter((P,Z,re)=>re.findIndex(ce=>ce.action.title===P.action.title)===Z);return Y.sort((P,Z)=>P.action.isPreferred&&!Z.action.isPreferred?-1:!P.action.isPreferred&&Z.action.isPreferred||P.action.isAI&&!Z.action.isAI?1:!P.action.isAI&&Z.action.isAI?-1:0),{validActions:Y,allActions:z,documentation:H.documentation,hasAutoFix:H.hasAutoFix,hasAIFix:H.hasAIFix,allAIFixes:H.allAIFixes,dispose:()=>{H.dispose()}}}}return(0,i.getCodeActions)(this._registry,a,l.selection,l.trigger,o.Progress.None,L)});l.trigger.type===1&&((g=this._progressService)===null||g===void 0||g.showWhile(v,250));const _=new c.Triggered(l.trigger,d,v);let S=!1;this._state.type===1&&(S=this._state.trigger.type===1&&_.type===1&&_.trigger.type===2&&this._state.position!==_.position),S?setTimeout(()=>{this.setState(_)},500):this.setState(_)},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:s.CodeActionTriggerSource.Default})}else this._supportedCodeActions.reset()}trigger(a){var h;(h=this._codeActionOracle.value)===null||h===void 0||h.trigger(a)}setState(a,h){a!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=a,!h&&!this._disposed&&this._onDidChangeState.fire(a))}}e.CodeActionModel=u}),define(ie[389],ne([1,0,6,68,26,7,2,31,231,152,699,25,32,484]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.LightBulbWidget=void 0;var t;(function(c){c.Hidden={type:0};class m{constructor(r,a,h,l){this.actions=r,this.trigger=a,this.editorPosition=h,this.widgetPosition=l,this.type=1}}c.Showing=m})(t||(t={}));let n=i=class extends y.Disposable{constructor(m,u,r){super(),this._editor=m,this._keybindingService=u,this._onClick=this._register(new D.Emitter),this.onClick=this._onClick.event,this._state=t.Hidden,this._iconClasses=[],this._domNode=f.$("div.lightBulbWidget"),this._domNode.role="listbox",this._register(k.Gesture.ignoreTarget(this._domNode)),this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(a=>{const h=this._editor.getModel();(this.state.type!==1||!h||this.state.editorPosition.lineNumber>=h.getLineCount())&&this.hide()})),this._register(f.addStandardDisposableGenericMouseDownListener(this._domNode,a=>{if(this.state.type!==1)return;this._editor.focus(),a.preventDefault();const{top:h,height:l}=f.getDomNodePagePosition(this._domNode),g=this._editor.getOption(67);let d=Math.floor(g/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(d+=g),this._onClick.fire({x:a.posx,y:h+l+d,actions:this.state.actions,trigger:this.state.trigger})})),this._register(f.addDisposableListener(this._domNode,"mouseenter",a=>{(a.buttons&1)===1&&this.hide()})),this._register(D.Event.runAndSubscribe(this._keybindingService.onDidUpdateKeybindings,()=>{var a,h,l,g;this._preferredKbLabel=(h=(a=this._keybindingService.lookupKeybinding(b.autoFixCommandId))===null||a===void 0?void 0:a.getLabel())!==null&&h!==void 0?h:void 0,this._quickFixKbLabel=(g=(l=this._keybindingService.lookupKeybinding(b.quickFixCommandId))===null||l===void 0?void 0:l.getLabel())!==null&&g!==void 0?g:void 0,this._updateLightBulbTitleAndIcon()}))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(m,u,r){if(m.validActions.length<=0)return this.hide();if(!this._editor.getOptions().get(65).enabled)return this.hide();const h=this._editor.getModel();if(!h)return this.hide();const{lineNumber:l,column:g}=h.validatePosition(r),d=h.getOptions().tabSize,v=this._editor.getOptions().get(50),_=h.getLineContent(l),S=(0,w.computeIndentLevel)(_,d),L=v.spaceWidth*S>22,I=A=>A>2&&this._editor.getTopForLineNumber(A)===this._editor.getTopForLineNumber(A-1);let T=l,N=1;if(!L){if(l>1&&!I(l-1))T-=1;else if(l<h.getLineCount()&&!I(l+1))T+=1;else if(g*v.spaceWidth<22)return this.hide();N=/^\S\s*$/.test(h.getLineContent(T))?2:1}this.state=new t.Showing(m,u,r,{position:{lineNumber:T,column:N},preference:i._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state!==t.Hidden&&(this.state=t.Hidden,this._editor.layoutContentWidget(this))}get state(){return this._state}set state(m){this._state=m,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this._domNode.classList.remove(...this._iconClasses),this._iconClasses=[],this.state.type!==1)return;let m,u=!1;this.state.actions.allAIFixes?(m=E.Codicon.sparkleFilled,this.state.actions.validActions.length===1&&(u=!0)):this.state.actions.hasAutoFix?this.state.actions.hasAIFix?m=E.Codicon.lightbulbSparkleAutofix:m=E.Codicon.lightbulbAutofix:this.state.actions.hasAIFix?m=E.Codicon.lightbulbSparkle:m=E.Codicon.lightBulb,this._updateLightbulbTitle(this.state.actions.hasAutoFix,u),this._iconClasses=p.ThemeIcon.asClassNameArray(m),this._domNode.classList.add(...this._iconClasses)}_updateLightbulbTitle(m,u){this.state.type===1&&(u?this.title=C.localize(0,null,this.state.actions.validActions[0].action.title):m&&this._preferredKbLabel?this.title=C.localize(1,null,this._preferredKbLabel):!m&&this._quickFixKbLabel?this.title=C.localize(2,null,this._quickFixKbLabel):m||(this.title=C.localize(3,null)))}set title(m){this._domNode.title=m}};e.LightBulbWidget=n,n.ID="editor.contrib.lightbulbWidget",n._posPref=[0],e.LightBulbWidget=n=i=Ie([ue(1,s.IKeybindingService),ue(2,o.ICommandService)],n)}),define(ie[864],ne([1,0,16,160,716]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomIn",label:E.localize(0,null),alias:"Increase Editor Font Size",precondition:void 0})}run(b,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()+1)}}class y extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomOut",label:E.localize(1,null),alias:"Decrease Editor Font Size",precondition:void 0})}run(b,C){k.EditorZoom.setZoomLevel(k.EditorZoom.getZoomLevel()-1)}}class p extends f.EditorAction{constructor(){super({id:"editor.action.fontZoomReset",label:E.localize(2,null),alias:"Reset Editor Font Size",precondition:void 0})}run(b,C){k.EditorZoom.setZoomLevel(0)}}(0,f.registerEditorAction)(D),(0,f.registerEditorAction)(y),(0,f.registerEditorAction)(p)}),define(ie[390],ne([1,0,13,19,10,54,70,20,22,118,164,9,5,24,113,74,327,25,807,8,18,60,132]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormattingConflicts=void 0,e.getRealAndSyntheticDocumentFormattersOrdered=g,e.formatDocumentRangesWithSelectedProvider=v,e.formatDocumentRangesWithProvider=_,e.formatDocumentWithSelectedProvider=S,e.formatDocumentWithProvider=L,e.getDocumentRangeFormattingEditsUntilResult=I,e.getDocumentFormattingEditsUntilResult=T,e.getOnTypeFormattingEdits=N;function g(A,O,M){const R=[],x=new u.ExtensionIdentifierSet,F=A.ordered(M);for(const H of F)R.push(H),H.extensionId&&x.add(H.extensionId);const W=O.ordered(M);for(const H of W){if(H.extensionId){if(x.has(H.extensionId))continue;x.add(H.extensionId)}R.push({displayName:H.displayName,extensionId:H.extensionId,provideDocumentFormattingEdits(z,j,K){return H.provideDocumentRangeFormattingEdits(z,z.getFullModelRange(),j,K)}})}return R}class d{static setFormatterSelector(O){return{dispose:d._selectors.unshift(O)}}static async select(O,M,R,x){if(O.length===0)return;const F=D.Iterable.first(d._selectors);if(F)return await F(O,M,R,x)}}e.FormattingConflicts=d,d._selectors=new y.LinkedList;async function v(A,O,M,R,x,F,W){const H=A.get(r.IInstantiationService),{documentRangeFormattingEditProvider:z}=A.get(a.ILanguageFeaturesService),j=(0,C.isCodeEditor)(O)?O.getModel():O,K=z.ordered(j),U=await d.select(K,j,R,2);U&&(x.report(U),await H.invokeFunction(_,U,O,M,F,W))}async function _(A,O,M,R,x,F){var W,H;const z=A.get(t.IEditorWorkerService),j=A.get(h.ILogService),K=A.get(l.IAccessibilitySignalService);let U,G;(0,C.isCodeEditor)(M)?(U=M.getModel(),G=new b.EditorStateCancellationTokenSource(M,5,void 0,x)):(U=M,G=new b.TextModelCancellationTokenSource(M,x));const te=[];let ee=0;for(const ce of(0,f.asArray)(R).sort(s.Range.compareRangesUsingStarts))ee>0&&s.Range.areIntersectingOrTouching(te[ee-1],ce)?te[ee-1]=s.Range.fromPositions(te[ee-1].getStartPosition(),ce.getEndPosition()):ee=te.push(ce);const Y=async ce=>{var he,pe;j.trace("[format][provideDocumentRangeFormattingEdits] (request)",(he=O.extensionId)===null||he===void 0?void 0:he.value,ce);const ge=await O.provideDocumentRangeFormattingEdits(U,ce,U.getFormattingOptions(),G.token)||[];return j.trace("[format][provideDocumentRangeFormattingEdits] (response)",(pe=O.extensionId)===null||pe===void 0?void 0:pe.value,ge),ge},P=(ce,he)=>{if(!ce.length||!he.length)return!1;const pe=ce.reduce((ge,X)=>s.Range.plusRange(ge,X.range),ce[0].range);if(!he.some(ge=>s.Range.intersectRanges(pe,ge.range)))return!1;for(const ge of ce)for(const X of he)if(s.Range.intersectRanges(ge.range,X.range))return!0;return!1},Z=[],re=[];try{if(typeof O.provideDocumentRangesFormattingEdits=="function"){j.trace("[format][provideDocumentRangeFormattingEdits] (request)",(W=O.extensionId)===null||W===void 0?void 0:W.value,te);const ce=await O.provideDocumentRangesFormattingEdits(U,te,U.getFormattingOptions(),G.token)||[];j.trace("[format][provideDocumentRangeFormattingEdits] (response)",(H=O.extensionId)===null||H===void 0?void 0:H.value,ce),re.push(ce)}else{for(const ce of te){if(G.token.isCancellationRequested)return!0;re.push(await Y(ce))}for(let ce=0;ce<te.length;++ce)for(let he=ce+1;he<te.length;++he){if(G.token.isCancellationRequested)return!0;if(P(re[ce],re[he])){const pe=s.Range.plusRange(te[ce],te[he]),ge=await Y(pe);te.splice(he,1),te.splice(ce,1),te.push(pe),re.splice(he,1),re.splice(ce,1),re.push(ge),ce=0,he=0}}}for(const ce of re){if(G.token.isCancellationRequested)return!0;const he=await z.computeMoreMinimalEdits(U.uri,ce);he&&Z.push(...he)}}finally{G.dispose()}if(Z.length===0)return!1;if((0,C.isCodeEditor)(M))c.FormattingEdit.execute(M,Z,!0),M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:ce}]=Z,he=new i.Selection(ce.startLineNumber,ce.startColumn,ce.endLineNumber,ce.endColumn);U.pushEditOperations([he],Z.map(pe=>({text:pe.text,range:s.Range.lift(pe.range),forceMoveMarkers:!0})),pe=>{for(const{range:ge}of pe)if(s.Range.areIntersectingOrTouching(ge,he))return[new i.Selection(ge.startLineNumber,ge.startColumn,ge.endLineNumber,ge.endColumn)];return null})}return K.playSignal(l.AccessibilitySignal.format,{userGesture:F}),!0}async function S(A,O,M,R,x,F){const W=A.get(r.IInstantiationService),H=A.get(a.ILanguageFeaturesService),z=(0,C.isCodeEditor)(O)?O.getModel():O,j=g(H.documentFormattingEditProvider,H.documentRangeFormattingEditProvider,z),K=await d.select(j,z,M,1);K&&(R.report(K),await W.invokeFunction(L,K,O,M,x,F))}async function L(A,O,M,R,x,F){const W=A.get(t.IEditorWorkerService),H=A.get(l.IAccessibilitySignalService);let z,j;(0,C.isCodeEditor)(M)?(z=M.getModel(),j=new b.EditorStateCancellationTokenSource(M,5,void 0,x)):(z=M,j=new b.TextModelCancellationTokenSource(M,x));let K;try{const U=await O.provideDocumentFormattingEdits(z,z.getFormattingOptions(),j.token);if(K=await W.computeMoreMinimalEdits(z.uri,U),j.token.isCancellationRequested)return!0}finally{j.dispose()}if(!K||K.length===0)return!1;if((0,C.isCodeEditor)(M))c.FormattingEdit.execute(M,K,R!==2),R!==2&&M.revealPositionInCenterIfOutsideViewport(M.getPosition(),1);else{const[{range:U}]=K,G=new i.Selection(U.startLineNumber,U.startColumn,U.endLineNumber,U.endColumn);z.pushEditOperations([G],K.map(te=>({text:te.text,range:s.Range.lift(te.range),forceMoveMarkers:!0})),te=>{for(const{range:ee}of te)if(s.Range.areIntersectingOrTouching(ee,G))return[new i.Selection(ee.startLineNumber,ee.startColumn,ee.endLineNumber,ee.endColumn)];return null})}return H.playSignal(l.AccessibilitySignal.format,{userGesture:F}),!0}async function I(A,O,M,R,x,F){const W=O.documentRangeFormattingEditProvider.ordered(M);for(const H of W){const z=await Promise.resolve(H.provideDocumentRangeFormattingEdits(M,R,x,F)).catch(E.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(z))return await A.computeMoreMinimalEdits(M.uri,z)}}async function T(A,O,M,R,x){const F=g(O.documentFormattingEditProvider,O.documentRangeFormattingEditProvider,M);for(const W of F){const H=await Promise.resolve(W.provideDocumentFormattingEdits(M,R,x)).catch(E.onUnexpectedExternalError);if((0,f.isNonEmptyArray)(H))return await A.computeMoreMinimalEdits(M.uri,H)}}function N(A,O,M,R,x,F,W){const H=O.onTypeFormattingEditProvider.ordered(M);return H.length===0||H[0].autoFormatTriggerCharacters.indexOf(x)<0?Promise.resolve(void 0):Promise.resolve(H[0].provideOnTypeFormattingEdits(M,R,x,F,W)).catch(E.onUnexpectedExternalError).then(z=>A.computeMoreMinimalEdits(M.uri,z))}m.CommandsRegistry.registerCommand("_executeFormatRangeProvider",async function(A,...O){const[M,R,x]=O;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(s.Range.isIRange(R));const F=A.get(n.ITextModelService),W=A.get(t.IEditorWorkerService),H=A.get(a.ILanguageFeaturesService),z=await F.createModelReference(M);try{return I(W,H,z.object.textEditorModel,s.Range.lift(R),x,k.CancellationToken.None)}finally{z.dispose()}}),m.CommandsRegistry.registerCommand("_executeFormatDocumentProvider",async function(A,...O){const[M,R]=O;(0,p.assertType)(w.URI.isUri(M));const x=A.get(n.ITextModelService),F=A.get(t.IEditorWorkerService),W=A.get(a.ILanguageFeaturesService),H=await x.createModelReference(M);try{return T(F,W,H.object.textEditorModel,R,k.CancellationToken.None)}finally{H.dispose()}}),m.CommandsRegistry.registerCommand("_executeFormatOnTypeProvider",async function(A,...O){const[M,R,x,F]=O;(0,p.assertType)(w.URI.isUri(M)),(0,p.assertType)(o.Position.isIPosition(R)),(0,p.assertType)(typeof x=="string");const W=A.get(n.ITextModelService),H=A.get(t.IEditorWorkerService),z=A.get(a.ILanguageFeaturesService),j=await W.createModelReference(M);try{return N(H,z,j.object.textEditorModel,o.Position.lift(R),x,F,k.CancellationToken.None)}finally{j.dispose()}})}),define(ie[865],ne([1,0,13,19,10,69,2,16,36,139,5,21,113,18,390,327,717,132,25,14,8,92]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FormatOnType=void 0;let l=class{constructor(S,L,I,T){this._editor=S,this._languageFeaturesService=L,this._workerService=I,this._accessibilitySignalService=T,this._disposables=new y.DisposableStore,this._sessionDisposables=new y.DisposableStore,this._disposables.add(L.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(S.onDidChangeModel(()=>this._update())),this._disposables.add(S.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(S.onDidChangeConfiguration(N=>{N.hasChanged(56)&&this._update()})),this._update()}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(56)||!this._editor.hasModel())return;const S=this._editor.getModel(),[L]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(S);if(!L||!L.autoFormatTriggerCharacters)return;const I=new b.CharacterSet;for(const T of L.autoFormatTriggerCharacters)I.add(T.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(T=>{const N=T.charCodeAt(T.length-1);I.has(N)&&this._trigger(String.fromCharCode(N))}))}_trigger(S){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const L=this._editor.getModel(),I=this._editor.getPosition(),T=new k.CancellationTokenSource,N=this._editor.onDidChangeModelContent(A=>{if(A.isFlush){T.cancel(),N.dispose();return}for(let O=0,M=A.changes.length;O<M;O++)if(A.changes[O].range.endLineNumber<=I.lineNumber){T.cancel(),N.dispose();return}});(0,t.getOnTypeFormattingEdits)(this._workerService,this._languageFeaturesService,L,I,S,L.getFormattingOptions(),T.token).then(A=>{T.token.isCancellationRequested||(0,f.isNonEmptyArray)(A)&&(this._accessibilitySignalService.playSignal(m.AccessibilitySignal.format,{userGesture:!1}),n.FormattingEdit.execute(this._editor,A,!0))}).finally(()=>{N.dispose()})}};e.FormatOnType=l,l.ID="editor.contrib.autoFormat",e.FormatOnType=l=Ie([ue(1,i.ILanguageFeaturesService),ue(2,s.IEditorWorkerService),ue(3,m.IAccessibilitySignalService)],l);let g=class{constructor(S,L,I){this.editor=S,this._languageFeaturesService=L,this._instantiationService=I,this._callOnDispose=new y.DisposableStore,this._callOnModel=new y.DisposableStore,this._callOnDispose.add(S.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(S.onDidChangeModel(()=>this._update())),this._callOnDispose.add(S.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(L.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(55)&&this.editor.hasModel()&&this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())&&this._callOnModel.add(this.editor.onDidPaste(({range:S})=>this._trigger(S)))}_trigger(S){this.editor.hasModel()&&(this.editor.getSelections().length>1||this._instantiationService.invokeFunction(t.formatDocumentRangesWithSelectedProvider,this.editor,S,2,h.Progress.None,k.CancellationToken.None,!1).catch(E.onUnexpectedError))}};g.ID="editor.contrib.formatOnPaste",g=Ie([ue(1,i.ILanguageFeaturesService),ue(2,a.IInstantiationService)],g);class d extends p.EditorAction{constructor(){super({id:"editor.action.formatDocument",label:c.localize(0,null),alias:"Format Document",precondition:r.ContextKeyExpr.and(o.EditorContextKeys.notInCompositeEditor,o.EditorContextKeys.writable,o.EditorContextKeys.hasDocumentFormattingProvider),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}async run(S,L){if(L.hasModel()){const I=S.get(a.IInstantiationService);await S.get(h.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentWithSelectedProvider,L,1,h.Progress.None,k.CancellationToken.None,!0),250)}}}class v extends p.EditorAction{constructor(){super({id:"editor.action.formatSelection",label:c.localize(1,null),alias:"Format Selection",precondition:r.ContextKeyExpr.and(o.EditorContextKeys.writable,o.EditorContextKeys.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2084),weight:100},contextMenuOpts:{when:o.EditorContextKeys.hasNonEmptySelection,group:"1_modification",order:1.31}})}async run(S,L){if(!L.hasModel())return;const I=S.get(a.IInstantiationService),T=L.getModel(),N=L.getSelections().map(O=>O.isEmpty()?new C.Range(O.startLineNumber,1,O.startLineNumber,T.getLineMaxColumn(O.startLineNumber)):O);await S.get(h.IEditorProgressService).showWhile(I.invokeFunction(t.formatDocumentRangesWithSelectedProvider,L,N,1,h.Progress.None,k.CancellationToken.None,!0),250)}}(0,p.registerEditorContribution)(l.ID,l,2),(0,p.registerEditorContribution)(g.ID,g,2),(0,p.registerEditorAction)(d),(0,p.registerEditorAction)(v),u.CommandsRegistry.registerCommand("editor.action.format",async _=>{const S=_.get(w.ICodeEditorService).getFocusedCodeEditor();if(!S||!S.hasModel())return;const L=_.get(u.ICommandService);S.getSelection().isEmpty()?await L.executeCommand("editor.action.formatDocument"):await L.executeCommand("editor.action.formatSelection")})}),define(ie[270],ne([1,0,13,19,10,16,18,172]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getDefinitionsAtPosition=b,e.getDeclarationsAtPosition=C,e.getImplementationsAtPosition=o,e.getTypeDefinitionsAtPosition=s,e.getReferencesAtPosition=i;async function w(n,c,m,u){const a=m.ordered(n).map(l=>Promise.resolve(u(l,n,c)).then(void 0,g=>{(0,E.onUnexpectedExternalError)(g)})),h=await Promise.all(a);return(0,f.coalesce)(h.flat())}function b(n,c,m,u){return w(c,m,n,(r,a,h)=>r.provideDefinition(a,h,u))}function C(n,c,m,u){return w(c,m,n,(r,a,h)=>r.provideDeclaration(a,h,u))}function o(n,c,m,u){return w(c,m,n,(r,a,h)=>r.provideImplementation(a,h,u))}function s(n,c,m,u){return w(c,m,n,(r,a,h)=>r.provideTypeDefinition(a,h,u))}function i(n,c,m,u,r){return w(c,m,n,async(a,h,l)=>{const g=await a.provideReferences(h,l,{includeDeclaration:!0},r);if(!u||!g||g.length!==2)return g;const d=await a.provideReferences(h,l,{includeDeclaration:!1},r);return d&&d.length===1?d:g})}async function t(n){const c=await n(),m=new p.ReferencesModel(c,""),u=m.references.map(r=>r.link);return m.dispose(),u}(0,D.registerModelAndPositionCommand)("_executeDefinitionProvider",(n,c,m)=>{const u=n.get(y.ILanguageFeaturesService),r=b(u.definitionProvider,c,m,k.CancellationToken.None);return t(()=>r)}),(0,D.registerModelAndPositionCommand)("_executeTypeDefinitionProvider",(n,c,m)=>{const u=n.get(y.ILanguageFeaturesService),r=s(u.typeDefinitionProvider,c,m,k.CancellationToken.None);return t(()=>r)}),(0,D.registerModelAndPositionCommand)("_executeDeclarationProvider",(n,c,m)=>{const u=n.get(y.ILanguageFeaturesService),r=C(u.declarationProvider,c,m,k.CancellationToken.None);return t(()=>r)}),(0,D.registerModelAndPositionCommand)("_executeReferenceProvider",(n,c,m)=>{const u=n.get(y.ILanguageFeaturesService),r=i(u.referenceProvider,c,m,!1,k.CancellationToken.None);return t(()=>r)}),(0,D.registerModelAndPositionCommand)("_executeImplementationProvider",(n,c,m)=>{const u=n.get(y.ILanguageFeaturesService),r=o(u.implementationProvider,c,m,k.CancellationToken.None);return t(()=>r)})}),define(ie[866],ne([1,0,7,2,50,16,36,5,726,14,48,8,32,133,51]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ISymbolNavigationService=e.ctxHasSymbols=void 0,e.ctxHasSymbols=new b.RawContextKey("hasSymbols",!1,(0,w.localize)(0,null)),e.ISymbolNavigationService=(0,o.createDecorator)("ISymbolNavigationService");let n=class{constructor(u,r,a,h){this._editorService=r,this._notificationService=a,this._keybindingService=h,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=e.ctxHasSymbols.bindTo(u)}reset(){var u,r;this._ctxHasSymbols.reset(),(u=this._currentState)===null||u===void 0||u.dispose(),(r=this._currentMessage)===null||r===void 0||r.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(u){const r=u.parent.parent;if(r.references.length<=1){this.reset();return}this._currentModel=r,this._currentIdx=r.references.indexOf(u),this._ctxHasSymbols.set(!0),this._showMessage();const a=new c(this._editorService),h=a.onDidChange(l=>{if(this._ignoreEditorChange)return;const g=this._editorService.getActiveCodeEditor();if(!g)return;const d=g.getModel(),v=g.getPosition();if(!d||!v)return;let _=!1,S=!1;for(const L of r.references)if((0,E.isEqual)(L.uri,d.uri))_=!0,S=S||p.Range.containsPosition(L.range,v);else if(_)break;(!_||!S)&&this.reset()});this._currentState=(0,k.combinedDisposable)(a,h)}revealNext(u){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const r=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:r.uri,options:{selection:p.Range.collapseToStart(r.range),selectionRevealType:3}},u).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var u;(u=this._currentMessage)===null||u===void 0||u.dispose();const r=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),a=r?(0,w.localize)(1,null,this._currentIdx+1,this._currentModel.references.length,r.getLabel()):(0,w.localize)(2,null,this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(a)}};n=Ie([ue(0,b.IContextKeyService),ue(1,y.ICodeEditorService),ue(2,t.INotificationService),ue(3,s.IKeybindingService)],n),(0,C.registerSingleton)(e.ISymbolNavigationService,n,1),(0,D.registerEditorCommand)(new class extends D.EditorCommand{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:e.ctxHasSymbols,kbOpts:{weight:100,primary:70}})}runEditorCommand(m,u){return m.get(e.ISymbolNavigationService).revealNext(u)}}),i.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:e.ctxHasSymbols,primary:9,handler(m){m.get(e.ISymbolNavigationService).reset()}});let c=class{constructor(u){this._listener=new Map,this._disposables=new k.DisposableStore,this._onDidChange=new f.Emitter,this.onDidChange=this._onDidChange.event,this._disposables.add(u.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(u.onCodeEditorAdd(this._onDidAddEditor,this)),u.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,k.dispose)(this._listener.values())}_onDidAddEditor(u){this._listener.set(u,(0,k.combinedDisposable)(u.onDidChangeCursorPosition(r=>this._onDidChange.fire({editor:u})),u.onDidChangeModelContent(r=>this._onDidChange.fire({editor:u}))))}_onDidRemoveEditor(u){var r;(r=this._listener.get(u))===null||r===void 0||r.dispose(),this._listener.delete(u)}};c=Ie([ue(0,y.ICodeEditorService)],c)}),define(ie[391],ne([1,0,15,19,10,16,18]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverProviderResult=void 0,e.getHoverProviderResultsAsAsyncIterable=b,e.getHoversPromise=C;class p{constructor(i,t,n){this.provider=i,this.hover=t,this.ordinal=n}}e.HoverProviderResult=p;async function w(s,i,t,n,c){const m=await Promise.resolve(s.provideHover(t,n,c)).catch(E.onUnexpectedExternalError);if(!(!m||!o(m)))return new p(s,m,i)}function b(s,i,t,n){const m=s.ordered(i).map((u,r)=>w(u,r,i,t,n));return f.AsyncIterableObject.fromPromises(m).coalesce()}function C(s,i,t,n){return b(s,i,t,n).map(c=>c.hover).toPromise()}(0,D.registerModelAndPositionCommand)("_executeHoverProvider",(s,i,t)=>{const n=s.get(y.ILanguageFeaturesService);return C(n.hoverProvider,i,t,k.CancellationToken.None)});function o(s){const i=typeof s.range<"u",t=typeof s.contents<"u"&&s.contents&&s.contents.length>0;return i&&t}}),define(ie[867],ne([1,0,2,12,16,206,5,21,34,53,328,731,75,267,844]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentationToTabsCommand=e.IndentationToSpacesCommand=e.AutoIndentOnPaste=e.AutoIndentOnPasteCommand=e.ReindentSelectedLinesAction=e.ReindentLinesAction=e.DetectIndentation=e.ChangeTabDisplaySize=e.IndentUsingSpaces=e.IndentUsingTabs=e.ChangeIndentationSizeAction=e.IndentationToTabsAction=e.IndentationToSpacesAction=void 0;class n extends E.EditorAction{constructor(){super({id:n.ID,label:o.localize(0,null),alias:"Convert Indentation to Spaces",precondition:p.EditorContextKeys.writable,metadata:{description:o.localize2(12,"Convert the tab indentation to spaces.")}})}run(T,N){const A=N.getModel();if(!A)return;const O=A.getOptions(),M=N.getSelection();if(!M)return;const R=new S(M,O.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[R]),N.pushUndoStop(),A.updateOptions({insertSpaces:!0})}}e.IndentationToSpacesAction=n,n.ID="editor.action.indentationToSpaces";class c extends E.EditorAction{constructor(){super({id:c.ID,label:o.localize(1,null),alias:"Convert Indentation to Tabs",precondition:p.EditorContextKeys.writable,metadata:{description:o.localize2(13,"Convert the spaces indentation to tabs.")}})}run(T,N){const A=N.getModel();if(!A)return;const O=A.getOptions(),M=N.getSelection();if(!M)return;const R=new L(M,O.tabSize);N.pushUndoStop(),N.executeCommands(this.id,[R]),N.pushUndoStop(),A.updateOptions({insertSpaces:!1})}}e.IndentationToTabsAction=c,c.ID="editor.action.indentationToTabs";class m extends E.EditorAction{constructor(T,N,A){super(A),this.insertSpaces=T,this.displaySizeOnly=N}run(T,N){const A=T.get(s.IQuickInputService),O=T.get(b.IModelService),M=N.getModel();if(!M)return;const R=O.getCreationOptions(M.getLanguageId(),M.uri,M.isForSimpleWidget),x=M.getOptions(),F=[1,2,3,4,5,6,7,8].map(H=>({id:H.toString(),label:H.toString(),description:H===R.tabSize&&H===x.tabSize?o.localize(2,null):H===R.tabSize?o.localize(3,null):H===x.tabSize?o.localize(4,null):void 0})),W=Math.min(M.getOptions().tabSize-1,7);setTimeout(()=>{A.pick(F,{placeHolder:o.localize(5,null),activeItem:F[W]}).then(H=>{if(H&&M&&!M.isDisposed()){const z=parseInt(H.label,10);this.displaySizeOnly?M.updateOptions({tabSize:z}):M.updateOptions({tabSize:z,indentSize:z,insertSpaces:this.insertSpaces})}})},50)}}e.ChangeIndentationSizeAction=m;class u extends m{constructor(){super(!1,!1,{id:u.ID,label:o.localize(6,null),alias:"Indent Using Tabs",precondition:void 0,metadata:{description:o.localize2(14,"Use indentation with tabs.")}})}}e.IndentUsingTabs=u,u.ID="editor.action.indentUsingTabs";class r extends m{constructor(){super(!0,!1,{id:r.ID,label:o.localize(7,null),alias:"Indent Using Spaces",precondition:void 0,metadata:{description:o.localize2(15,"Use indentation with spaces.")}})}}e.IndentUsingSpaces=r,r.ID="editor.action.indentUsingSpaces";class a extends m{constructor(){super(!0,!0,{id:a.ID,label:o.localize(8,null),alias:"Change Tab Display Size",precondition:void 0,metadata:{description:o.localize2(16,"Change the space size equivalent of the tab.")}})}}e.ChangeTabDisplaySize=a,a.ID="editor.action.changeTabDisplaySize";class h extends E.EditorAction{constructor(){super({id:h.ID,label:o.localize(9,null),alias:"Detect Indentation from Content",precondition:void 0,metadata:{description:o.localize2(17,"Detect the indentation from content.")}})}run(T,N){const A=T.get(b.IModelService),O=N.getModel();if(!O)return;const M=A.getCreationOptions(O.getLanguageId(),O.uri,O.isForSimpleWidget);O.detectIndentation(M.insertSpaces,M.tabSize)}}e.DetectIndentation=h,h.ID="editor.action.detectIndentation";class l extends E.EditorAction{constructor(){super({id:"editor.action.reindentlines",label:o.localize(10,null),alias:"Reindent Lines",precondition:p.EditorContextKeys.writable,metadata:{description:o.localize2(18,"Reindent the lines of the editor.")}})}run(T,N){const A=T.get(w.ILanguageConfigurationService),O=N.getModel();if(!O)return;const M=(0,t.getReindentEditOperations)(O,A,1,O.getLineCount());M.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,M),N.pushUndoStop())}}e.ReindentLinesAction=l;class g extends E.EditorAction{constructor(){super({id:"editor.action.reindentselectedlines",label:o.localize(11,null),alias:"Reindent Selected Lines",precondition:p.EditorContextKeys.writable,metadata:{description:o.localize2(19,"Reindent the selected lines of the editor.")}})}run(T,N){const A=T.get(w.ILanguageConfigurationService),O=N.getModel();if(!O)return;const M=N.getSelections();if(M===null)return;const R=[];for(const x of M){let F=x.startLineNumber,W=x.endLineNumber;if(F!==W&&x.endColumn===1&&W--,F===1){if(F===W)continue}else F--;const H=(0,t.getReindentEditOperations)(O,A,F,W);R.push(...H)}R.length>0&&(N.pushUndoStop(),N.executeEdits(this.id,R),N.pushUndoStop())}}e.ReindentSelectedLinesAction=g;class d{constructor(T,N){this._initialSelection=N,this._edits=[],this._selectionId=null;for(const A of T)A.range&&typeof A.text=="string"&&this._edits.push(A)}getEditOperations(T,N){for(const O of this._edits)N.addEditOperation(y.Range.lift(O.range),O.text);let A=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(A=!0,this._selectionId=N.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(A=!0,this._selectionId=N.trackSelection(this._initialSelection,!1))),A||(this._selectionId=N.trackSelection(this._initialSelection))}computeCursorState(T,N){return N.getTrackedSelection(this._selectionId)}}e.AutoIndentOnPasteCommand=d;let v=class{constructor(T,N){this.editor=T,this._languageConfigurationService=N,this.callOnDispose=new f.DisposableStore,this.callOnModel=new f.DisposableStore,this.callOnDispose.add(T.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(T.onDidChangeModel(()=>this.update())),this.callOnDispose.add(T.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(12)<4||this.editor.getOption(55))&&this.editor.hasModel()&&this.callOnModel.add(this.editor.onDidPaste(({range:T})=>{this.trigger(T)}))}trigger(T){const N=this.editor.getSelections();if(N===null||N.length>1)return;const A=this.editor.getModel();if(!A||!A.tokenization.isCheapToTokenize(T.getStartPosition().lineNumber))return;const O=this.editor.getOption(12),{tabSize:M,indentSize:R,insertSpaces:x}=A.getOptions(),F=[],W={shiftIndent:K=>D.ShiftCommand.shiftIndent(K,K.length+1,M,R,x),unshiftIndent:K=>D.ShiftCommand.unshiftIndent(K,K.length+1,M,R,x)};let H=T.startLineNumber;for(;H<=T.endLineNumber;){if(this.shouldIgnoreLine(A,H)){H++;continue}break}if(H>T.endLineNumber)return;let z=A.getLineContent(H);if(!/\S/.test(z.substring(0,T.startColumn-1))){const K=(0,i.getGoodIndentForLine)(O,A,A.getLanguageId(),H,W,this._languageConfigurationService);if(K!==null){const U=k.getLeadingWhitespace(z),G=C.getSpaceCnt(K,M),te=C.getSpaceCnt(U,M);if(G!==te){const ee=C.generateIndent(G,M,x);F.push({range:new y.Range(H,1,H,U.length+1),text:ee}),z=ee+z.substr(U.length)}else{const ee=(0,i.getIndentMetadata)(A,H,this._languageConfigurationService);if(ee===0||ee===8)return}}}const j=H;for(;H<T.endLineNumber;){if(!/\S/.test(A.getLineContent(H+1))){H++;continue}break}if(H!==T.endLineNumber){const K={tokenization:{getLineTokens:G=>A.tokenization.getLineTokens(G),getLanguageId:()=>A.getLanguageId(),getLanguageIdAtPosition:(G,te)=>A.getLanguageIdAtPosition(G,te)},getLineContent:G=>G===j?z:A.getLineContent(G)},U=(0,i.getGoodIndentForLine)(O,K,A.getLanguageId(),H+1,W,this._languageConfigurationService);if(U!==null){const G=C.getSpaceCnt(U,M),te=C.getSpaceCnt(k.getLeadingWhitespace(A.getLineContent(H+1)),M);if(G!==te){const ee=G-te;for(let Y=H+1;Y<=T.endLineNumber;Y++){const P=A.getLineContent(Y),Z=k.getLeadingWhitespace(P),ce=C.getSpaceCnt(Z,M)+ee,he=C.generateIndent(ce,M,x);he!==Z&&F.push({range:new y.Range(Y,1,Y,Z.length+1),text:he})}}}}if(F.length>0){this.editor.pushUndoStop();const K=new d(F,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",K),this.editor.pushUndoStop()}}shouldIgnoreLine(T,N){T.tokenization.forceTokenization(N);const A=T.getLineFirstNonWhitespaceColumn(N);if(A===0)return!0;const O=T.tokenization.getLineTokens(N);if(O.getCount()>0){const M=O.findTokenIndexAtOffset(A);if(M>=0&&O.getStandardTokenType(M)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};e.AutoIndentOnPaste=v,v.ID="editor.contrib.autoIndentOnPaste",e.AutoIndentOnPaste=v=Ie([ue(1,w.ILanguageConfigurationService)],v);function _(I,T,N,A){if(I.getLineCount()===1&&I.getLineMaxColumn(1)===1)return;let O="";for(let R=0;R<N;R++)O+=" ";const M=new RegExp(O,"gi");for(let R=1,x=I.getLineCount();R<=x;R++){let F=I.getLineFirstNonWhitespaceColumn(R);if(F===0&&(F=I.getLineMaxColumn(R)),F===1)continue;const W=new y.Range(R,1,R,F),H=I.getValueInRange(W),z=A?H.replace(/\t/ig,O):H.replace(M,"	");T.addEditOperation(W,z)}}class S{constructor(T,N){this.selection=T,this.tabSize=N,this.selectionId=null}getEditOperations(T,N){this.selectionId=N.trackSelection(this.selection),_(T,N,this.tabSize,!0)}computeCursorState(T,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToSpacesCommand=S;class L{constructor(T,N){this.selection=T,this.tabSize=N,this.selectionId=null}getEditOperations(T,N){this.selectionId=N.trackSelection(this.selection),_(T,N,this.tabSize,!1)}computeCursorState(T,N){return N.getTrackedSelection(this.selectionId)}}e.IndentationToTabsCommand=L,(0,E.registerEditorContribution)(v.ID,v,2),(0,E.registerEditorAction)(n),(0,E.registerEditorAction)(c),(0,E.registerEditorAction)(u),(0,E.registerEditorAction)(r),(0,E.registerEditorAction)(a),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(g)}),define(ie[868],ne([1,0,16,229,21,738]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ExpandLineSelectionAction=void 0;class y extends f.EditorAction{constructor(){super({id:"expandLineSelection",label:D.localize(0,null),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:E.EditorContextKeys.textInputFocus,primary:2090}})}run(w,b,C){if(C=C||{},!b.hasModel())return;const o=b._getViewModel();o.model.pushStackElement(),o.setCursorStates(C.source,3,k.CursorMoveCommands.expandLineSelection(o,o.getCursorStates())),o.revealAllCursors(C.source,!0)}}e.ExpandLineSelectionAction=y,(0,f.registerEditorAction)(y)}),define(ie[869],ne([1,0,69,207,16,141,531,269,72,9,5,24,21,596,846,597,739,29,34,27]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.KebabCaseAction=e.PascalCaseAction=e.CamelCaseAction=e.SnakeCaseAction=e.TitleCaseAction=e.LowerCaseAction=e.UpperCaseAction=e.AbstractCaseAction=e.TransposeAction=e.JoinLinesAction=e.DeleteAllRightAction=e.DeleteAllLeftAction=e.AbstractDeleteAllToBoundaryAction=e.InsertLineAfterAction=e.InsertLineBeforeAction=e.IndentLinesAction=e.DeleteLinesAction=e.TrimTrailingWhitespaceAction=e.DeleteDuplicateLinesAction=e.SortLinesDescendingAction=e.SortLinesAscendingAction=e.AbstractSortLinesAction=e.DuplicateSelectionAction=void 0;class a extends E.EditorAction{constructor(he,pe){super(pe),this.down=he}run(he,pe){if(!pe.hasModel())return;const ge=pe.getSelections().map((oe,B)=>({selection:oe,index:B,ignore:!1}));ge.sort((oe,B)=>C.Range.compareRangesUsingStarts(oe.selection,B.selection));let X=ge[0];for(let oe=1;oe<ge.length;oe++){const B=ge[oe];X.selection.endLineNumber===B.selection.startLineNumber&&(X.index<B.index?B.ignore=!0:(X.ignore=!0,X=B))}const ae=[];for(const oe of ge)ae.push(new i.CopyLinesCommand(oe.selection,this.down,oe.ignore));pe.pushUndoStop(),pe.executeCommands(this.id,ae),pe.pushUndoStop()}}class h extends a{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:c.localize(0,null),alias:"Copy Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(1,null),order:1}})}}class l extends a{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:c.localize(2,null),alias:"Copy Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(3,null),order:2}})}}class g extends E.EditorAction{constructor(){super({id:"editor.action.duplicateSelection",label:c.localize(4,null),alias:"Duplicate Selection",precondition:s.EditorContextKeys.writable,menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(5,null),order:5}})}run(he,pe,ge){if(!pe.hasModel())return;const X=[],ae=pe.getSelections(),oe=pe.getModel();for(const B of ae)if(B.isEmpty())X.push(new i.CopyLinesCommand(B,!0));else{const q=new o.Selection(B.endLineNumber,B.endColumn,B.endLineNumber,B.endColumn);X.push(new D.ReplaceCommandThatSelectsText(q,oe.getValueInRange(B)))}pe.pushUndoStop(),pe.executeCommands(this.id,X),pe.pushUndoStop()}}e.DuplicateSelectionAction=g;class d extends E.EditorAction{constructor(he,pe){super(pe),this.down=he}run(he,pe){const ge=he.get(u.ILanguageConfigurationService),X=[],ae=pe.getSelections()||[],oe=pe.getOption(12);for(const B of ae)X.push(new t.MoveLinesCommand(B,this.down,oe,ge));pe.pushUndoStop(),pe.executeCommands(this.id,X),pe.pushUndoStop()}}class v extends d{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:c.localize(6,null),alias:"Move Line Up",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(7,null),order:3}})}}class _ extends d{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:c.localize(8,null),alias:"Move Line Down",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:m.MenuId.MenubarSelectionMenu,group:"2_line",title:c.localize(9,null),order:4}})}}class S extends E.EditorAction{constructor(he,pe){super(pe),this.descending=he}run(he,pe){if(!pe.hasModel())return;const ge=pe.getModel();let X=pe.getSelections();X.length===1&&X[0].isEmpty()&&(X=[new o.Selection(1,1,ge.getLineCount(),ge.getLineMaxColumn(ge.getLineCount()))]);for(const oe of X)if(!n.SortLinesCommand.canRun(pe.getModel(),oe,this.descending))return;const ae=[];for(let oe=0,B=X.length;oe<B;oe++)ae[oe]=new n.SortLinesCommand(X[oe],this.descending);pe.pushUndoStop(),pe.executeCommands(this.id,ae),pe.pushUndoStop()}}e.AbstractSortLinesAction=S;class L extends S{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:c.localize(10,null),alias:"Sort Lines Ascending",precondition:s.EditorContextKeys.writable})}}e.SortLinesAscendingAction=L;class I extends S{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:c.localize(11,null),alias:"Sort Lines Descending",precondition:s.EditorContextKeys.writable})}}e.SortLinesDescendingAction=I;class T extends E.EditorAction{constructor(){super({id:"editor.action.removeDuplicateLines",label:c.localize(12,null),alias:"Delete Duplicate Lines",precondition:s.EditorContextKeys.writable})}run(he,pe){if(!pe.hasModel())return;const ge=pe.getModel();if(ge.getLineCount()===1&&ge.getLineMaxColumn(1)===1)return;const X=[],ae=[];let oe=0,B=!0,q=pe.getSelections();q.length===1&&q[0].isEmpty()&&(q=[new o.Selection(1,1,ge.getLineCount(),ge.getLineMaxColumn(ge.getLineCount()))],B=!1);for(const V of q){const $=new Set,J=[];for(let fe=V.startLineNumber;fe<=V.endLineNumber;fe++){const ve=ge.getLineContent(fe);$.has(ve)||(J.push(ve),$.add(ve))}const se=new o.Selection(V.startLineNumber,1,V.endLineNumber,ge.getLineMaxColumn(V.endLineNumber)),de=V.startLineNumber-oe,le=new o.Selection(de,1,de+J.length-1,J[J.length-1].length);X.push(w.EditOperation.replace(se,J.join(`
`))),ae.push(le),oe+=V.endLineNumber-V.startLineNumber+1-J.length}pe.pushUndoStop(),pe.executeEdits(this.id,X,B?ae:void 0),pe.pushUndoStop()}}e.DeleteDuplicateLinesAction=T;class N extends E.EditorAction{constructor(){super({id:N.ID,label:c.localize(13,null),alias:"Trim Trailing Whitespace",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:(0,f.KeyChord)(2089,2102),weight:100}})}run(he,pe,ge){let X=[];ge.reason==="auto-save"&&(X=(pe.getSelections()||[]).map($=>new b.Position($.positionLineNumber,$.positionColumn)));const ae=pe.getSelection();if(ae===null)return;const oe=he.get(r.IConfigurationService),B=pe.getModel(),q=oe.getValue("files.trimTrailingWhitespaceInRegexAndStrings",{overrideIdentifier:B?.getLanguageId(),resource:B?.uri}),V=new y.TrimTrailingWhitespaceCommand(ae,X,q);pe.pushUndoStop(),pe.executeCommands(this.id,[V]),pe.pushUndoStop()}}e.TrimTrailingWhitespaceAction=N,N.ID="editor.action.trimTrailingWhitespace";class A extends E.EditorAction{constructor(){super({id:"editor.action.deleteLines",label:c.localize(14,null),alias:"Delete Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:3113,weight:100}})}run(he,pe){if(!pe.hasModel())return;const ge=this._getLinesToRemove(pe),X=pe.getModel();if(X.getLineCount()===1&&X.getLineMaxColumn(1)===1)return;let ae=0;const oe=[],B=[];for(let q=0,V=ge.length;q<V;q++){const $=ge[q];let J=$.startLineNumber,se=$.endLineNumber,de=1,le=X.getLineMaxColumn(se);se<X.getLineCount()?(se+=1,le=1):J>1&&(J-=1,de=X.getLineMaxColumn(J)),oe.push(w.EditOperation.replace(new o.Selection(J,de,se,le),"")),B.push(new o.Selection(J-ae,$.positionColumn,J-ae,$.positionColumn)),ae+=$.endLineNumber-$.startLineNumber+1}pe.pushUndoStop(),pe.executeEdits(this.id,oe,B),pe.pushUndoStop()}_getLinesToRemove(he){const pe=he.getSelections().map(ae=>{let oe=ae.endLineNumber;return ae.startLineNumber<ae.endLineNumber&&ae.endColumn===1&&(oe-=1),{startLineNumber:ae.startLineNumber,selectionStartColumn:ae.selectionStartColumn,endLineNumber:oe,positionColumn:ae.positionColumn}});pe.sort((ae,oe)=>ae.startLineNumber===oe.startLineNumber?ae.endLineNumber-oe.endLineNumber:ae.startLineNumber-oe.startLineNumber);const ge=[];let X=pe[0];for(let ae=1;ae<pe.length;ae++)X.endLineNumber+1>=pe[ae].startLineNumber?X.endLineNumber=pe[ae].endLineNumber:(ge.push(X),X=pe[ae]);return ge.push(X),ge}}e.DeleteLinesAction=A;class O extends E.EditorAction{constructor(){super({id:"editor.action.indentLines",label:c.localize(15,null),alias:"Indent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2142,weight:100}})}run(he,pe){const ge=pe._getViewModel();ge&&(pe.pushUndoStop(),pe.executeCommands(this.id,p.TypeOperations.indent(ge.cursorConfig,pe.getModel(),pe.getSelections())),pe.pushUndoStop())}}e.IndentLinesAction=O;class M extends E.EditorAction{constructor(){super({id:"editor.action.outdentLines",label:c.localize(16,null),alias:"Outdent Line",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2140,weight:100}})}run(he,pe){k.CoreEditingCommands.Outdent.runEditorCommand(he,pe,null)}}class R extends E.EditorAction{constructor(){super({id:"editor.action.insertLineBefore",label:c.localize(17,null),alias:"Insert Line Above",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:3075,weight:100}})}run(he,pe){const ge=pe._getViewModel();ge&&(pe.pushUndoStop(),pe.executeCommands(this.id,p.TypeOperations.lineInsertBefore(ge.cursorConfig,pe.getModel(),pe.getSelections())))}}e.InsertLineBeforeAction=R;class x extends E.EditorAction{constructor(){super({id:"editor.action.insertLineAfter",label:c.localize(18,null),alias:"Insert Line Below",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:2051,weight:100}})}run(he,pe){const ge=pe._getViewModel();ge&&(pe.pushUndoStop(),pe.executeCommands(this.id,p.TypeOperations.lineInsertAfter(ge.cursorConfig,pe.getModel(),pe.getSelections())))}}e.InsertLineAfterAction=x;class F extends E.EditorAction{run(he,pe){if(!pe.hasModel())return;const ge=pe.getSelection(),X=this._getRangesToDelete(pe),ae=[];for(let q=0,V=X.length-1;q<V;q++){const $=X[q],J=X[q+1];C.Range.intersectRanges($,J)===null?ae.push($):X[q+1]=C.Range.plusRange($,J)}ae.push(X[X.length-1]);const oe=this._getEndCursorState(ge,ae),B=ae.map(q=>w.EditOperation.replace(q,""));pe.pushUndoStop(),pe.executeEdits(this.id,B,oe),pe.pushUndoStop()}}e.AbstractDeleteAllToBoundaryAction=F;class W extends F{constructor(){super({id:"deleteAllLeft",label:c.localize(19,null),alias:"Delete All Left",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(he,pe){let ge=null;const X=[];let ae=0;return pe.forEach(oe=>{let B;if(oe.endColumn===1&&ae>0){const q=oe.startLineNumber-ae;B=new o.Selection(q,oe.startColumn,q,oe.startColumn)}else B=new o.Selection(oe.startLineNumber,oe.startColumn,oe.startLineNumber,oe.startColumn);ae+=oe.endLineNumber-oe.startLineNumber,oe.intersectRanges(he)?ge=B:X.push(B)}),ge&&X.unshift(ge),X}_getRangesToDelete(he){const pe=he.getSelections();if(pe===null)return[];let ge=pe;const X=he.getModel();return X===null?[]:(ge.sort(C.Range.compareRangesUsingStarts),ge=ge.map(ae=>{if(ae.isEmpty())if(ae.startColumn===1){const oe=Math.max(1,ae.startLineNumber-1),B=ae.startLineNumber===1?1:X.getLineLength(oe)+1;return new C.Range(oe,B,ae.startLineNumber,1)}else return new C.Range(ae.startLineNumber,1,ae.startLineNumber,ae.startColumn);else return new C.Range(ae.startLineNumber,1,ae.endLineNumber,ae.endColumn)}),ge)}}e.DeleteAllLeftAction=W;class H extends F{constructor(){super({id:"deleteAllRight",label:c.localize(20,null),alias:"Delete All Right",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(he,pe){let ge=null;const X=[];for(let ae=0,oe=pe.length,B=0;ae<oe;ae++){const q=pe[ae],V=new o.Selection(q.startLineNumber-B,q.startColumn,q.startLineNumber-B,q.startColumn);q.intersectRanges(he)?ge=V:X.push(V)}return ge&&X.unshift(ge),X}_getRangesToDelete(he){const pe=he.getModel();if(pe===null)return[];const ge=he.getSelections();if(ge===null)return[];const X=ge.map(ae=>{if(ae.isEmpty()){const oe=pe.getLineMaxColumn(ae.startLineNumber);return ae.startColumn===oe?new C.Range(ae.startLineNumber,ae.startColumn,ae.startLineNumber+1,1):new C.Range(ae.startLineNumber,ae.startColumn,ae.startLineNumber,oe)}return ae});return X.sort(C.Range.compareRangesUsingStarts),X}}e.DeleteAllRightAction=H;class z extends E.EditorAction{constructor(){super({id:"editor.action.joinLines",label:c.localize(21,null),alias:"Join Lines",precondition:s.EditorContextKeys.writable,kbOpts:{kbExpr:s.EditorContextKeys.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(he,pe){const ge=pe.getSelections();if(ge===null)return;let X=pe.getSelection();if(X===null)return;ge.sort(C.Range.compareRangesUsingStarts);const ae=[],oe=ge.reduce((se,de)=>se.isEmpty()?se.endLineNumber===de.startLineNumber?(X.equalsSelection(se)&&(X=de),de):de.startLineNumber>se.endLineNumber+1?(ae.push(se),de):new o.Selection(se.startLineNumber,se.startColumn,de.endLineNumber,de.endColumn):de.startLineNumber>se.endLineNumber?(ae.push(se),de):new o.Selection(se.startLineNumber,se.startColumn,de.endLineNumber,de.endColumn));ae.push(oe);const B=pe.getModel();if(B===null)return;const q=[],V=[];let $=X,J=0;for(let se=0,de=ae.length;se<de;se++){const le=ae[se],fe=le.startLineNumber,ve=1;let Ce=0,Se,_e;const ke=B.getLineLength(le.endLineNumber)-le.endColumn;if(le.isEmpty()||le.startLineNumber===le.endLineNumber){const xe=le.getStartPosition();xe.lineNumber<B.getLineCount()?(Se=fe+1,_e=B.getLineMaxColumn(Se)):(Se=xe.lineNumber,_e=B.getLineMaxColumn(xe.lineNumber))}else Se=le.endLineNumber,_e=B.getLineMaxColumn(Se);let Ee=B.getLineContent(fe);for(let xe=fe+1;xe<=Se;xe++){const We=B.getLineContent(xe),Be=B.getLineFirstNonWhitespaceColumn(xe);if(Be>=1){let De=!0;Ee===""&&(De=!1),De&&(Ee.charAt(Ee.length-1)===" "||Ee.charAt(Ee.length-1)==="	")&&(De=!1,Ee=Ee.replace(/[\s\uFEFF\xA0]+$/g," "));const Ne=We.substr(Be-1);Ee+=(De?" ":"")+Ne,De?Ce=Ne.length+1:Ce=Ne.length}else Ce=0}const Ae=new C.Range(fe,ve,Se,_e);if(!Ae.isEmpty()){let xe;le.isEmpty()?(q.push(w.EditOperation.replace(Ae,Ee)),xe=new o.Selection(Ae.startLineNumber-J,Ee.length-Ce+1,fe-J,Ee.length-Ce+1)):le.startLineNumber===le.endLineNumber?(q.push(w.EditOperation.replace(Ae,Ee)),xe=new o.Selection(le.startLineNumber-J,le.startColumn,le.endLineNumber-J,le.endColumn)):(q.push(w.EditOperation.replace(Ae,Ee)),xe=new o.Selection(le.startLineNumber-J,le.startColumn,le.startLineNumber-J,Ee.length-ke)),C.Range.intersectRanges(Ae,X)!==null?$=xe:V.push(xe)}J+=Ae.endLineNumber-Ae.startLineNumber}V.unshift($),pe.pushUndoStop(),pe.executeEdits(this.id,q,V),pe.pushUndoStop()}}e.JoinLinesAction=z;class j extends E.EditorAction{constructor(){super({id:"editor.action.transpose",label:c.localize(22,null),alias:"Transpose Characters around the Cursor",precondition:s.EditorContextKeys.writable})}run(he,pe){const ge=pe.getSelections();if(ge===null)return;const X=pe.getModel();if(X===null)return;const ae=[];for(let oe=0,B=ge.length;oe<B;oe++){const q=ge[oe];if(!q.isEmpty())continue;const V=q.getStartPosition(),$=X.getLineMaxColumn(V.lineNumber);if(V.column>=$){if(V.lineNumber===X.getLineCount())continue;const J=new C.Range(V.lineNumber,Math.max(1,V.column-1),V.lineNumber+1,1),se=X.getValueInRange(J).split("").reverse().join("");ae.push(new D.ReplaceCommand(new o.Selection(V.lineNumber,Math.max(1,V.column-1),V.lineNumber+1,1),se))}else{const J=new C.Range(V.lineNumber,Math.max(1,V.column-1),V.lineNumber,V.column+1),se=X.getValueInRange(J).split("").reverse().join("");ae.push(new D.ReplaceCommandThatPreservesSelection(J,se,new o.Selection(V.lineNumber,V.column+1,V.lineNumber,V.column+1)))}}pe.pushUndoStop(),pe.executeCommands(this.id,ae),pe.pushUndoStop()}}e.TransposeAction=j;class K extends E.EditorAction{run(he,pe){const ge=pe.getSelections();if(ge===null)return;const X=pe.getModel();if(X===null)return;const ae=pe.getOption(131),oe=[];for(const B of ge)if(B.isEmpty()){const q=B.getStartPosition(),V=pe.getConfiguredWordAtPosition(q);if(!V)continue;const $=new C.Range(q.lineNumber,V.startColumn,q.lineNumber,V.endColumn),J=X.getValueInRange($);oe.push(w.EditOperation.replace($,this._modifyText(J,ae)))}else{const q=X.getValueInRange(B);oe.push(w.EditOperation.replace(B,this._modifyText(q,ae)))}pe.pushUndoStop(),pe.executeEdits(this.id,oe),pe.pushUndoStop()}}e.AbstractCaseAction=K;class U extends K{constructor(){super({id:"editor.action.transformToUppercase",label:c.localize(23,null),alias:"Transform to Uppercase",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){return he.toLocaleUpperCase()}}e.UpperCaseAction=U;class G extends K{constructor(){super({id:"editor.action.transformToLowercase",label:c.localize(24,null),alias:"Transform to Lowercase",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){return he.toLocaleLowerCase()}}e.LowerCaseAction=G;class te{constructor(he,pe){this._pattern=he,this._flags=pe,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch{}}return this._actual}isSupported(){return this.get()!==null}}class ee extends K{constructor(){super({id:"editor.action.transformToTitlecase",label:c.localize(25,null),alias:"Transform to Title Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const ge=ee.titleBoundary.get();return ge?he.toLocaleLowerCase().replace(ge,X=>X.toLocaleUpperCase()):he}}e.TitleCaseAction=ee,ee.titleBoundary=new te("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Y extends K{constructor(){super({id:"editor.action.transformToSnakecase",label:c.localize(26,null),alias:"Transform to Snake Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const ge=Y.caseBoundary.get(),X=Y.singleLetters.get();return!ge||!X?he:he.replace(ge,"$1_$2").replace(X,"$1_$2$3").toLocaleLowerCase()}}e.SnakeCaseAction=Y,Y.caseBoundary=new te("(\\p{Ll})(\\p{Lu})","gmu"),Y.singleLetters=new te("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class P extends K{constructor(){super({id:"editor.action.transformToCamelcase",label:c.localize(27,null),alias:"Transform to Camel Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const ge=P.wordBoundary.get();if(!ge)return he;const X=he.split(ge);return X.shift()+X.map(oe=>oe.substring(0,1).toLocaleUpperCase()+oe.substring(1)).join("")}}e.CamelCaseAction=P,P.wordBoundary=new te("[_\\s-]","gm");class Z extends K{constructor(){super({id:"editor.action.transformToPascalcase",label:c.localize(28,null),alias:"Transform to Pascal Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const ge=Z.wordBoundary.get(),X=Z.wordBoundaryToMaintain.get();return!ge||!X?he:he.split(X).map(B=>B.split(ge)).flat().map(B=>B.substring(0,1).toLocaleUpperCase()+B.substring(1)).join("")}}e.PascalCaseAction=Z,Z.wordBoundary=new te("[_\\s-]","gm"),Z.wordBoundaryToMaintain=new te("(?<=\\.)","gm");class re extends K{static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(pe=>pe.isSupported())}constructor(){super({id:"editor.action.transformToKebabcase",label:c.localize(29,null),alias:"Transform to Kebab Case",precondition:s.EditorContextKeys.writable})}_modifyText(he,pe){const ge=re.caseBoundary.get(),X=re.singleLetters.get(),ae=re.underscoreBoundary.get();return!ge||!X||!ae?he:he.replace(ae,"$1-$3").replace(ge,"$1-$2").replace(X,"$1-$2").toLocaleLowerCase()}}e.KebabCaseAction=re,re.caseBoundary=new te("(\\p{Ll})(\\p{Lu})","gmu"),re.singleLetters=new te("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),re.underscoreBoundary=new te("(\\S)(_)(\\S)","gm"),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(l),(0,E.registerEditorAction)(g),(0,E.registerEditorAction)(v),(0,E.registerEditorAction)(_),(0,E.registerEditorAction)(L),(0,E.registerEditorAction)(I),(0,E.registerEditorAction)(T),(0,E.registerEditorAction)(N),(0,E.registerEditorAction)(A),(0,E.registerEditorAction)(O),(0,E.registerEditorAction)(M),(0,E.registerEditorAction)(R),(0,E.registerEditorAction)(x),(0,E.registerEditorAction)(W),(0,E.registerEditorAction)(H),(0,E.registerEditorAction)(z),(0,E.registerEditorAction)(j),(0,E.registerEditorAction)(U),(0,E.registerEditorAction)(G),Y.caseBoundary.isSupported()&&Y.singleLetters.isSupported()&&(0,E.registerEditorAction)(Y),P.wordBoundary.isSupported()&&(0,E.registerEditorAction)(P),Z.wordBoundary.isSupported()&&(0,E.registerEditorAction)(Z),ee.titleBoundary.isSupported()&&(0,E.registerEditorAction)(ee),re.isSupported()&&(0,E.registerEditorAction)(re)}),define(ie[870],ne([1,0,2,16]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class E extends f.Disposable{constructor(y){super(),this._editor=y,this._register(this._editor.onMouseDown(p=>{const w=this._editor.getOption(117);w>=0&&p.target.type===6&&p.target.position.column>=w&&this._editor.updateOptions({stopRenderingLineAfter:-1})}))}}E.ID="editor.contrib.longLinesHelper",(0,k.registerEditorContribution)(E.ID,E,2)}),define(ie[177],ne([1,0,201,47,7,57,2,16,5,117,742,14,61,6,502]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.MessageController=void 0;let n=t=class{static get(r){return r.getContribution(t.ID)}constructor(r,a,h){this._openerService=h,this._messageWidget=new y.MutableDisposable,this._messageListeners=new y.DisposableStore,this._mouseOverMessage=!1,this._editor=r,this._visible=t.MESSAGE_VISIBLE.bindTo(a)}dispose(){var r;(r=this._message)===null||r===void 0||r.dispose(),this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(r,a){(0,k.alert)((0,D.isMarkdownString)(r)?r.value:r),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._message=(0,D.isMarkdownString)(r)?(0,f.renderMarkdown)(r,{actionHandler:{callback:l=>{this.closeMessage(),(0,b.openLinkFromMarkdown)(this._openerService,l,(0,D.isMarkdownString)(r)?r.isTrusted:void 0)},disposables:this._messageListeners}}):void 0,this._messageWidget.value=new m(this._editor,a,typeof r=="string"?r:this._message.element),this._messageListeners.add(E.Event.debounce(this._editor.onDidBlurEditorText,(l,g)=>g,0)(()=>{this._mouseOverMessage||this._messageWidget.value&&i.isAncestor(i.getActiveElement(),this._messageWidget.value.getDomNode())||this.closeMessage()})),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_ENTER,()=>this._mouseOverMessage=!0,!0)),this._messageListeners.add(i.addDisposableListener(this._messageWidget.value.getDomNode(),i.EventType.MOUSE_LEAVE,()=>this._mouseOverMessage=!1,!0));let h;this._messageListeners.add(this._editor.onMouseMove(l=>{l.target.position&&(h?h.containsPosition(l.target.position)||this.closeMessage():h=new w.Range(a.lineNumber-3,1,l.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(m.fadeOut(this._messageWidget.value))}};e.MessageController=n,n.ID="editor.contrib.messageController",n.MESSAGE_VISIBLE=new o.RawContextKey("messageVisible",!1,C.localize(0,null)),e.MessageController=n=t=Ie([ue(1,o.IContextKeyService),ue(2,s.IOpenerService)],n);const c=p.EditorCommand.bindToContribution(n.get);(0,p.registerEditorCommand)(new c({id:"leaveEditorMessage",precondition:n.MESSAGE_VISIBLE,handler:u=>u.closeMessage(),kbOpts:{weight:130,primary:9}}));class m{static fadeOut(r){const a=()=>{r.dispose(),clearTimeout(h),r.getDomNode().removeEventListener("animationend",a)},h=setTimeout(a,110);return r.getDomNode().addEventListener("animationend",a),r.getDomNode().classList.add("fadeOut"),{dispose:a}}constructor(r,{lineNumber:a,column:h},l){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=r,this._editor.revealLinesInCenterIfOutsideViewport(a,a,0),this._position={lineNumber:a,column:h},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const g=document.createElement("div");g.classList.add("anchor","top"),this._domNode.appendChild(g);const d=document.createElement("div");typeof l=="string"?(d.classList.add("message"),d.textContent=l):(l.classList.add("message"),d.appendChild(l)),this._domNode.appendChild(d);const v=document.createElement("div");v.classList.add("anchor","below"),this._domNode.appendChild(v),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(r){this._domNode.classList.toggle("below",r===2)}}(0,p.registerEditorContribution)(n.ID,n,4)}),define(ie[871],ne([1,0,57,2,16,177,749]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReadOnlyMessageController=void 0;class p extends k.Disposable{constructor(b){super(),this.editor=b,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const b=D.MessageController.get(this.editor);if(b&&this.editor.hasModel()){let C=this.editor.getOptions().get(92);C||(this.editor.isSimpleWidget?C=new f.MarkdownString(y.localize(0,null)):C=new f.MarkdownString(y.localize(1,null))),b.showMessage(C,this.editor.getPosition())}}}e.ReadOnlyMessageController=p,p.ID="editor.contrib.readOnlyMessageController",(0,E.registerEditorContribution)(p.ID,p,2)}),define(ie[872],ne([1,0,13,19,10,16,9,5,24,21,330,598,751,29,25,18,74,20,22]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.SmartSelectController=void 0,e.provideSelectionRanges=v;class a{constructor(S,L){this.index=S,this.ranges=L}mov(S){const L=this.index+(S?1:-1);if(L<0||L>=this.ranges.length)return this;const I=new a(L,this.ranges);return I.ranges[L].equalsRange(this.ranges[this.index])?I.mov(S):I}}let h=r=class{static get(S){return S.getContribution(r.ID)}constructor(S,L){this._editor=S,this._languageFeaturesService=L,this._ignoreSelection=!1}dispose(){var S;(S=this._selectionListener)===null||S===void 0||S.dispose()}async run(S){if(!this._editor.hasModel())return;const L=this._editor.getSelections(),I=this._editor.getModel();if(this._state||await v(this._languageFeaturesService.selectionRangeProvider,I,L.map(N=>N.getPosition()),this._editor.getOption(113),k.CancellationToken.None).then(N=>{var A;if(!(!f.isNonEmptyArray(N)||N.length!==L.length)&&!(!this._editor.hasModel()||!f.equals(this._editor.getSelections(),L,(O,M)=>O.equalsSelection(M)))){for(let O=0;O<N.length;O++)N[O]=N[O].filter(M=>M.containsPosition(L[O].getStartPosition())&&M.containsPosition(L[O].getEndPosition())),N[O].unshift(L[O]);this._state=N.map(O=>new a(0,O)),(A=this._selectionListener)===null||A===void 0||A.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var O;this._ignoreSelection||((O=this._selectionListener)===null||O===void 0||O.dispose(),this._state=void 0)})}}),!this._state)return;this._state=this._state.map(N=>N.mov(S));const T=this._state.map(N=>w.Selection.fromPositions(N.ranges[N.index].getStartPosition(),N.ranges[N.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(T)}finally{this._ignoreSelection=!1}}};e.SmartSelectController=h,h.ID="editor.contrib.smartSelectController",e.SmartSelectController=h=r=Ie([ue(1,n.ILanguageFeaturesService)],h);class l extends D.EditorAction{constructor(S,L){super(L),this._forward=S}async run(S,L){const I=h.get(L);I&&await I.run(this._forward)}}class g extends l{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:s.localize(0,null),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:s.localize(1,null),order:2}})}}t.CommandsRegistry.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class d extends l{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:s.localize(2,null),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"1_basic",title:s.localize(3,null),order:3}})}}(0,D.registerEditorContribution)(h.ID,h,4),(0,D.registerEditorAction)(g),(0,D.registerEditorAction)(d);async function v(_,S,L,I,T){const N=_.all(S).concat(new o.WordSelectionRangeProvider(I.selectSubwords));N.length===1&&N.unshift(new C.BracketSelectionRangeProvider);const A=[],O=[];for(const M of N)A.push(Promise.resolve(M.provideSelectionRanges(S,L,T)).then(R=>{if(f.isNonEmptyArray(R)&&R.length===L.length)for(let x=0;x<L.length;x++){O[x]||(O[x]=[]);for(const F of R[x])p.Range.isIRange(F.range)&&p.Range.containsPosition(F.range,L[x])&&O[x].push(p.Range.lift(F.range))}},E.onUnexpectedExternalError));return await Promise.all(A),O.map(M=>{if(M.length===0)return[];M.sort((W,H)=>y.Position.isBefore(W.getStartPosition(),H.getStartPosition())?1:y.Position.isBefore(H.getStartPosition(),W.getStartPosition())||y.Position.isBefore(W.getEndPosition(),H.getEndPosition())?-1:y.Position.isBefore(H.getEndPosition(),W.getEndPosition())?1:0);const R=[];let x;for(const W of M)(!x||p.Range.containsRange(W,x)&&!p.Range.equalsRange(W,x))&&(R.push(W),x=W);if(!I.selectLeadingAndTrailingWhitespace)return R;const F=[R[0]];for(let W=1;W<R.length;W++){const H=R[W-1],z=R[W];if(z.startLineNumber!==H.startLineNumber||z.endLineNumber!==H.endLineNumber){const j=new p.Range(H.startLineNumber,S.getLineFirstNonWhitespaceColumn(H.startLineNumber),H.endLineNumber,S.getLineLastNonWhitespaceColumn(H.endLineNumber));j.containsRange(H)&&!j.equalsRange(H)&&z.containsRange(j)&&!z.equalsRange(j)&&F.push(j);const K=new p.Range(H.startLineNumber,1,H.endLineNumber,S.getLineMaxColumn(H.endLineNumber));K.containsRange(H)&&!K.equalsRange(j)&&z.containsRange(K)&&!z.equalsRange(K)&&F.push(K)}F.push(z)}return F})}t.CommandsRegistry.registerCommand("_executeSelectionRangeProvider",async function(_,...S){const[L,I]=S;(0,m.assertType)(u.URI.isUri(L));const T=_.get(n.ILanguageFeaturesService).selectionRangeProvider,N=await _.get(c.ITextModelService).createModelReference(L);try{return v(T,N.object.textEditorModel,I,{selectLeadingAndTrailingWhitespace:!0,selectSubwords:!0},k.CancellationToken.None)}finally{N.dispose()}})}),define(ie[873],ne([1,0,64,16,763]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class D extends k.EditorAction{constructor(){super({id:"editor.action.forceRetokenize",label:E.localize(0,null),alias:"Developer: Force Retokenize",precondition:void 0})}run(p,w){if(!w.hasModel())return;const b=w.getModel();b.tokenization.resetTokenization();const C=new f.StopWatch;b.tokenization.forceTokenization(b.getLineCount()),C.stop(),console.log(`tokenization took ${C.elapsed()}`)}}(0,k.registerEditorAction)(D)}),define(ie[874],ne([1,0,2,50,16,36,765,173]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnusualLineTerminatorsDetector=void 0;const w="ignoreUnusualLineTerminators";function b(s,i,t){s.setModelProperty(i.uri,w,t)}function C(s,i){return s.getModelProperty(i.uri,w)}let o=class extends f.Disposable{constructor(i,t,n){super(),this._editor=i,this._dialogService=t,this._codeEditorService=n,this._isPresentingDialog=!1,this._config=this._editor.getOption(126),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(126)&&(this._config=this._editor.getOption(126),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(c=>{c.isUndoing||this._checkForUnusualLineTerminators()})),this._checkForUnusualLineTerminators()}async _checkForUnusualLineTerminators(){if(this._config==="off"||!this._editor.hasModel())return;const i=this._editor.getModel();if(!i.mightContainUnusualLineTerminators()||C(this._codeEditorService,i)===!0||this._editor.getOption(91))return;if(this._config==="auto"){i.removeUnusualLineTerminators(this._editor.getSelections());return}if(this._isPresentingDialog)return;let n;try{this._isPresentingDialog=!0,n=await this._dialogService.confirm({title:y.localize(0,null),message:y.localize(1,null),detail:y.localize(2,null,(0,k.basename)(i.uri)),primaryButton:y.localize(3,null),cancelButton:y.localize(4,null)})}finally{this._isPresentingDialog=!1}if(!n.confirmed){b(this._codeEditorService,i,!0);return}i.removeUnusualLineTerminators(this._editor.getSelections())}};e.UnusualLineTerminatorsDetector=o,o.ID="editor.contrib.unusualLineTerminatorsDetector",e.UnusualLineTerminatorsDetector=o=Ie([ue(1,p.IDialogService),ue(2,D.ICodeEditorService)],o),(0,E.registerEditorContribution)(o.ID,o,1)}),define(ie[392],ne([1,0,16,141,38,79,193,161,9,5,24,21,34,768,66,14,204]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DeleteInsideWord=e.DeleteWordRight=e.DeleteWordEndRight=e.DeleteWordStartRight=e.DeleteWordLeft=e.DeleteWordEndLeft=e.DeleteWordStartLeft=e.DeleteWordRightCommand=e.DeleteWordLeftCommand=e.DeleteWordCommand=e.CursorWordAccessibilityRightSelect=e.CursorWordAccessibilityRight=e.CursorWordRightSelect=e.CursorWordEndRightSelect=e.CursorWordStartRightSelect=e.CursorWordRight=e.CursorWordEndRight=e.CursorWordStartRight=e.CursorWordAccessibilityLeftSelect=e.CursorWordAccessibilityLeft=e.CursorWordLeftSelect=e.CursorWordEndLeftSelect=e.CursorWordStartLeftSelect=e.CursorWordLeft=e.CursorWordEndLeft=e.CursorWordStartLeft=e.WordRightCommand=e.WordLeftCommand=e.MoveWordCommand=void 0;class m extends f.EditorCommand{constructor(Y){super(Y),this._inSelectionMode=Y.inSelectionMode,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,P,Z){if(!P.hasModel())return;const re=(0,p.getMapForWordSeparators)(P.getOption(131),P.getOption(130)),ce=P.getModel(),pe=P.getSelections().map(ge=>{const X=new w.Position(ge.positionLineNumber,ge.positionColumn),ae=this._move(re,ce,X,this._wordNavigationType);return this._moveTo(ge,ae,this._inSelectionMode)});if(ce.pushStackElement(),P._getViewModel().setCursorStates("moveWordCommand",3,pe.map(ge=>D.CursorState.fromModelSelection(ge))),pe.length===1){const ge=new w.Position(pe[0].positionLineNumber,pe[0].positionColumn);P.revealPosition(ge,0)}}_moveTo(Y,P,Z){return Z?new C.Selection(Y.selectionStartLineNumber,Y.selectionStartColumn,P.lineNumber,P.column):new C.Selection(P.lineNumber,P.column,P.lineNumber,P.column)}}e.MoveWordCommand=m;class u extends m{_move(Y,P,Z,re){return y.WordOperations.moveWordLeft(Y,P,Z,re)}}e.WordLeftCommand=u;class r extends m{_move(Y,P,Z,re){return y.WordOperations.moveWordRight(Y,P,Z,re)}}e.WordRightCommand=r;class a extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}e.CursorWordStartLeft=a;class h extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}e.CursorWordEndLeft=h;class l extends u{constructor(){var Y;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Y=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2063,mac:{primary:527},weight:100}})}}e.CursorWordLeft=l;class g extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}e.CursorWordStartLeftSelect=g;class d extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}e.CursorWordEndLeftSelect=d;class v extends u{constructor(){var Y;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Y=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:3087,mac:{primary:1551},weight:100}})}}e.CursorWordLeftSelect=v;class _ extends u{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(Y,P,Z,re){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Y.intlSegmenterLocales),P,Z,re)}}e.CursorWordAccessibilityLeft=_;class S extends u{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(Y,P,Z,re){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Y.intlSegmenterLocales),P,Z,re)}}e.CursorWordAccessibilityLeftSelect=S;class L extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}e.CursorWordStartRight=L;class I extends r{constructor(){var Y;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Y=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:2065,mac:{primary:529},weight:100}})}}e.CursorWordEndRight=I;class T extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}e.CursorWordRight=T;class N extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}e.CursorWordStartRightSelect=N;class A extends r{constructor(){var Y;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:n.ContextKeyExpr.and(o.EditorContextKeys.textInputFocus,(Y=n.ContextKeyExpr.and(t.CONTEXT_ACCESSIBILITY_MODE_ENABLED,c.IsWindowsContext))===null||Y===void 0?void 0:Y.negate()),primary:3089,mac:{primary:1553},weight:100}})}}e.CursorWordEndRightSelect=A;class O extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}e.CursorWordRightSelect=O;class M extends r{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(Y,P,Z,re){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Y.intlSegmenterLocales),P,Z,re)}}e.CursorWordAccessibilityRight=M;class R extends r{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(Y,P,Z,re){return super._move((0,p.getMapForWordSeparators)(E.EditorOptions.wordSeparators.defaultValue,Y.intlSegmenterLocales),P,Z,re)}}e.CursorWordAccessibilityRightSelect=R;class x extends f.EditorCommand{constructor(Y){super(Y),this._whitespaceHeuristics=Y.whitespaceHeuristics,this._wordNavigationType=Y.wordNavigationType}runEditorCommand(Y,P,Z){const re=Y.get(s.ILanguageConfigurationService);if(!P.hasModel())return;const ce=(0,p.getMapForWordSeparators)(P.getOption(131),P.getOption(130)),he=P.getModel(),pe=P.getSelections(),ge=P.getOption(6),X=P.getOption(11),ae=re.getLanguageConfiguration(he.getLanguageId()).getAutoClosingPairs(),oe=P._getViewModel(),B=pe.map(q=>{const V=this._delete({wordSeparators:ce,model:he,selection:q,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:P.getOption(9),autoClosingBrackets:ge,autoClosingQuotes:X,autoClosingPairs:ae,autoClosedCharacters:oe.getCursorAutoClosedCharacters()},this._wordNavigationType);return new k.ReplaceCommand(V,"")});P.pushUndoStop(),P.executeCommands(this.id,B),P.pushUndoStop()}}e.DeleteWordCommand=x;class F extends x{_delete(Y,P){const Z=y.WordOperations.deleteWordLeft(Y,P);return Z||new b.Range(1,1,1,1)}}e.DeleteWordLeftCommand=F;class W extends x{_delete(Y,P){const Z=y.WordOperations.deleteWordRight(Y,P);if(Z)return Z;const re=Y.model.getLineCount(),ce=Y.model.getLineMaxColumn(re);return new b.Range(re,ce,re,ce)}}e.DeleteWordRightCommand=W;class H extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartLeft=H;class z extends F{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndLeft=z;class j extends F{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}e.DeleteWordLeft=j;class K extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordStartRight=K;class U extends W{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:o.EditorContextKeys.writable})}}e.DeleteWordEndRight=U;class G extends W{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:o.EditorContextKeys.writable,kbOpts:{kbExpr:o.EditorContextKeys.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}e.DeleteWordRight=G;class te extends f.EditorAction{constructor(){super({id:"deleteInsideWord",precondition:o.EditorContextKeys.writable,label:i.localize(0,null),alias:"Delete Word"})}run(Y,P,Z){if(!P.hasModel())return;const re=(0,p.getMapForWordSeparators)(P.getOption(131),P.getOption(130)),ce=P.getModel(),pe=P.getSelections().map(ge=>{const X=y.WordOperations.deleteInsideWord(re,ce,ge);return new k.ReplaceCommand(X,"")});P.pushUndoStop(),P.executeCommands(this.id,pe),P.pushUndoStop()}}e.DeleteInsideWord=te,(0,f.registerEditorCommand)(new a),(0,f.registerEditorCommand)(new h),(0,f.registerEditorCommand)(new l),(0,f.registerEditorCommand)(new g),(0,f.registerEditorCommand)(new d),(0,f.registerEditorCommand)(new v),(0,f.registerEditorCommand)(new L),(0,f.registerEditorCommand)(new I),(0,f.registerEditorCommand)(new T),(0,f.registerEditorCommand)(new N),(0,f.registerEditorCommand)(new A),(0,f.registerEditorCommand)(new O),(0,f.registerEditorCommand)(new _),(0,f.registerEditorCommand)(new S),(0,f.registerEditorCommand)(new M),(0,f.registerEditorCommand)(new R),(0,f.registerEditorCommand)(new H),(0,f.registerEditorCommand)(new z),(0,f.registerEditorCommand)(new j),(0,f.registerEditorCommand)(new K),(0,f.registerEditorCommand)(new U),(0,f.registerEditorCommand)(new G),(0,f.registerEditorAction)(te)}),define(ie[875],ne([1,0,16,193,5,21,392,25]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CursorWordPartRightSelect=e.CursorWordPartRight=e.WordPartRightCommand=e.CursorWordPartLeftSelect=e.CursorWordPartLeft=e.WordPartLeftCommand=e.DeleteWordPartRight=e.DeleteWordPartLeft=void 0;class w extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(m,u){const r=k.WordPartOperations.deleteWordPartLeft(m);return r||new E.Range(1,1,1,1)}}e.DeleteWordPartLeft=w;class b extends y.DeleteWordCommand{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:D.EditorContextKeys.writable,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(m,u){const r=k.WordPartOperations.deleteWordPartRight(m);if(r)return r;const a=m.model.getLineCount(),h=m.model.getLineMaxColumn(a);return new E.Range(a,h,a,h)}}e.DeleteWordPartRight=b;class C extends y.MoveWordCommand{_move(m,u,r,a){return k.WordPartOperations.moveWordPartLeft(m,u,r)}}e.WordPartLeftCommand=C;class o extends C{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}e.CursorWordPartLeft=o,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class s extends C{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}e.CursorWordPartLeftSelect=s,p.CommandsRegistry.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class i extends y.MoveWordCommand{_move(m,u,r,a){return k.WordPartOperations.moveWordPartRight(m,u,r)}}e.WordPartRightCommand=i;class t extends i{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}e.CursorWordPartRight=t;class n extends i{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}e.CursorWordPartRightSelect=n,(0,f.registerEditorCommand)(new w),(0,f.registerEditorCommand)(new b),(0,f.registerEditorCommand)(new o),(0,f.registerEditorCommand)(new s),(0,f.registerEditorCommand)(new t),(0,f.registerEditorCommand)(new n)}),define(ie[876],ne([1,0,6,2,16,17,514]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IPadShowKeyboard=void 0;class y extends k.Disposable{constructor(b){super(),this.editor=b,this.widget=null,D.isIOS&&(this._register(b.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const b=!this.editor.getOption(91);!this.widget&&b?this.widget=new p(this.editor):this.widget&&!b&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}e.IPadShowKeyboard=y,y.ID="editor.contrib.iPadShowKeyboard";class p extends k.Disposable{constructor(b){super(),this.editor=b,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(f.addDisposableListener(this._domNode,"touchstart",C=>{this.editor.focus()})),this._register(f.addDisposableListener(this._domNode,"focus",C=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return p.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}p.ID="editor.contrib.ShowKeyboardWidget",(0,E.registerEditorContribution)(y.ID,y,3)}),define(ie[877],ne([1,0,6,35,2,16,28,143,171,43,149,103,515]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0});let i=s=class extends E.Disposable{static get(r){return r.getContribution(s.ID)}constructor(r,a,h){super(),this._editor=r,this._languageService=h,this._widget=null,this._register(this._editor.onDidChangeModel(l=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(l=>this.stop())),this._register(y.TokenizationRegistry.onDidChange(l=>this.stop())),this._register(this._editor.onKeyUp(l=>l.keyCode===9&&this.stop()))}dispose(){this.stop(),super.dispose()}launch(){this._widget||this._editor.hasModel()&&(this._widget=new m(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};i.ID="editor.contrib.inspectTokens",i=s=Ie([ue(1,C.IStandaloneThemeService),ue(2,b.ILanguageService)],i);class t extends D.EditorAction{constructor(){super({id:"editor.action.inspectTokens",label:o.InspectTokensNLS.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(r,a){const h=i.get(a);h?.launch()}}function n(u){let r="";for(let a=0,h=u.length;a<h;a++){const l=u.charCodeAt(a);switch(l){case 9:r+="\u2192";break;case 32:r+="\xB7";break;default:r+=String.fromCharCode(l)}}return r}function c(u,r){const a=y.TokenizationRegistry.get(r);if(a)return a;const h=u.encodeLanguageId(r);return{getInitialState:()=>w.NullState,tokenize:(l,g,d)=>(0,w.nullTokenize)(r,d),tokenizeEncoded:(l,g,d)=>(0,w.nullTokenizeEncoded)(h,d)}}class m extends E.Disposable{constructor(r,a){super(),this.allowEditorOverflow=!0,this._editor=r,this._languageService=a,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=c(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(h=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return m._ID}_compute(r){const a=this._getTokensAtLine(r.lineNumber);let h=0;for(let _=a.tokens1.length-1;_>=0;_--){const S=a.tokens1[_];if(r.column-1>=S.offset){h=_;break}}let l=0;for(let _=a.tokens2.length>>>1;_>=0;_--)if(r.column-1>=a.tokens2[_<<1]){l=_;break}const g=this._model.getLineContent(r.lineNumber);let d="";if(h<a.tokens1.length){const _=a.tokens1[h].offset,S=h+1<a.tokens1.length?a.tokens1[h+1].offset:g.length;d=g.substring(_,S)}(0,f.reset)(this._domNode,(0,f.$)("h2.tm-token",void 0,n(d),(0,f.$)("span.tm-token-length",void 0,`${d.length} ${d.length===1?"char":"chars"}`))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const v=(l<<1)+1<a.tokens2.length?this._decodeMetadata(a.tokens2[(l<<1)+1]):null;(0,f.append)(this._domNode,(0,f.$)("table.tm-metadata-table",void 0,(0,f.$)("tbody",void 0,(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"language"),(0,f.$)("td.tm-metadata-value",void 0,`${v?v.languageId:"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"token type"),(0,f.$)("td.tm-metadata-value",void 0,`${v?this._tokenTypeToString(v.tokenType):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"font style"),(0,f.$)("td.tm-metadata-value",void 0,`${v?this._fontStyleToString(v.fontStyle):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"foreground"),(0,f.$)("td.tm-metadata-value",void 0,`${v?k.Color.Format.CSS.formatHex(v.foreground):"-?-"}`)),(0,f.$)("tr",void 0,(0,f.$)("td.tm-metadata-key",void 0,"background"),(0,f.$)("td.tm-metadata-value",void 0,`${v?k.Color.Format.CSS.formatHex(v.background):"-?-"}`))))),(0,f.append)(this._domNode,(0,f.$)("hr.tokens-inspect-separator")),h<a.tokens1.length&&(0,f.append)(this._domNode,(0,f.$)("span.tm-token-type",void 0,a.tokens1[h].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(r){const a=y.TokenizationRegistry.getColorMap(),h=p.TokenMetadata.getLanguageId(r),l=p.TokenMetadata.getTokenType(r),g=p.TokenMetadata.getFontStyle(r),d=p.TokenMetadata.getForeground(r),v=p.TokenMetadata.getBackground(r);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(h),tokenType:l,fontStyle:g,foreground:a[d],background:a[v]}}_tokenTypeToString(r){switch(r){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(r){let a="";return r&1&&(a+="italic "),r&2&&(a+="bold "),r&4&&(a+="underline "),r&8&&(a+="strikethrough "),a.length===0&&(a="---"),a}_getTokensAtLine(r){const a=this._getStateBeforeLine(r),h=this._tokenizationSupport.tokenize(this._model.getLineContent(r),!0,a),l=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(r),!0,a);return{startState:a,tokens1:h.tokens,tokens2:l.tokens,endState:h.endState}}_getStateBeforeLine(r){let a=this._tokenizationSupport.getInitialState();for(let h=1;h<r;h++)a=this._tokenizationSupport.tokenize(this._model.getLineContent(h),!0,a).endState;return a}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}m._ID="editor.contrib.inspectTokensWidget",(0,D.registerEditorContribution)(i.ID,i,4),(0,D.registerEditorAction)(t)}),define(ie[878],ne([1,0,614,10,78,122,2,45,435,785,25,27,173,8,32,60,834,98,62]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r,a;Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsHistory=e.AbstractCommandsQuickAccessProvider=void 0;let h=r=class extends c.PickerQuickAccessProvider{constructor(d,v,_,S,L,I){super(r.PREFIX,d),this.instantiationService=v,this.keybindingService=_,this.commandService=S,this.telemetryService=L,this.dialogService=I,this.commandsHistory=this._register(this.instantiationService.createInstance(l)),this.options=d}async _getPicks(d,v,_,S){var L,I,T,N;const A=await this.getCommandPicks(_);if(_.isCancellationRequested)return[];const O=(0,D.createSingleCallFunction)(()=>{const z=new w.TfIdfCalculator;z.updateDocuments(A.map(K=>({key:K.commandId,textChunks:[this.getTfIdfChunk(K)]})));const j=z.calculateScores(d,_);return(0,w.normalizeTfIdfScores)(j).filter(K=>K.score>r.TFIDF_THRESHOLD).slice(0,r.TFIDF_MAX_RESULTS)}),M=[];for(const z of A){const j=(L=r.WORD_FILTER(d,z.label))!==null&&L!==void 0?L:void 0,K=z.commandAlias&&(I=r.WORD_FILTER(d,z.commandAlias))!==null&&I!==void 0?I:void 0;if(j||K)z.highlights={label:j,detail:this.options.showAlias?K:void 0},M.push(z);else if(d===z.commandId)M.push(z);else if(d.length>=3){const U=O();if(_.isCancellationRequested)return[];const G=U.find(te=>te.key===z.commandId);G&&(z.tfIdfScore=G.score,M.push(z))}}const R=new Map;for(const z of M){const j=R.get(z.label);j?(z.description=z.commandId,j.description=j.commandId):R.set(z.label,z)}M.sort((z,j)=>{if(z.tfIdfScore&&j.tfIdfScore)return z.tfIdfScore===j.tfIdfScore?z.label.localeCompare(j.label):j.tfIdfScore-z.tfIdfScore;if(z.tfIdfScore)return 1;if(j.tfIdfScore)return-1;const K=this.commandsHistory.peek(z.commandId),U=this.commandsHistory.peek(j.commandId);if(K&&U)return K>U?-1:1;if(K)return-1;if(U)return 1;if(this.options.suggestedCommandIds){const G=this.options.suggestedCommandIds.has(z.commandId),te=this.options.suggestedCommandIds.has(j.commandId);if(G&&te)return 0;if(G)return-1;if(te)return 1}return z.label.localeCompare(j.label)});const x=[];let F=!1,W=!0,H=!!this.options.suggestedCommandIds;for(let z=0;z<M.length;z++){const j=M[z];z===0&&this.commandsHistory.peek(j.commandId)&&(x.push({type:"separator",label:(0,b.localize)(0,null)}),F=!0),W&&j.tfIdfScore!==void 0&&(x.push({type:"separator",label:(0,b.localize)(1,null)}),W=!1),H&&j.tfIdfScore===void 0&&!this.commandsHistory.peek(j.commandId)&&(!((T=this.options.suggestedCommandIds)===null||T===void 0)&&T.has(j.commandId))&&(x.push({type:"separator",label:(0,b.localize)(2,null)}),F=!0,H=!1),F&&j.tfIdfScore===void 0&&!this.commandsHistory.peek(j.commandId)&&!(!((N=this.options.suggestedCommandIds)===null||N===void 0)&&N.has(j.commandId))&&(x.push({type:"separator",label:(0,b.localize)(3,null)}),F=!1),x.push(this.toCommandPick(j,S))}return this.hasAdditionalCommandPicks(d,_)?{picks:x,additionalPicks:(async()=>{var z;const j=await this.getAdditionalCommandPicks(A,M,d,_);if(_.isCancellationRequested)return[];const K=j.map(U=>this.toCommandPick(U,S));return W&&((z=K[0])===null||z===void 0?void 0:z.type)!=="separator"&&K.unshift({type:"separator",label:(0,b.localize)(4,null)}),K})()}:x}toCommandPick(d,v){if(d.type==="separator")return d;const _=this.keybindingService.lookupKeybinding(d.commandId),S=_?(0,b.localize)(5,null,d.label,_.getAriaLabel()):d.label;return{...d,ariaLabel:S,detail:this.options.showAlias&&d.commandAlias!==d.label?d.commandAlias:void 0,keybinding:_,accept:async()=>{var L,I;this.commandsHistory.push(d.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:d.commandId,from:(L=v?.from)!==null&&L!==void 0?L:"quick open"});try{!((I=d.args)===null||I===void 0)&&I.length?await this.commandService.executeCommand(d.commandId,...d.args):await this.commandService.executeCommand(d.commandId)}catch(T){(0,k.isCancellationError)(T)||this.dialogService.error((0,b.localize)(6,null,d.label),(0,f.toErrorMessage)(T))}}}}getTfIdfChunk({label:d,commandAlias:v,commandDescription:_}){let S=d;return v&&v!==d&&(S+=` - ${v}`),_&&_.value!==d&&(S+=` - ${_.value===_.original?_.value:`${_.value} (${_.original})`}`),S}};e.AbstractCommandsQuickAccessProvider=h,h.PREFIX=">",h.TFIDF_THRESHOLD=.5,h.TFIDF_MAX_RESULTS=5,h.WORD_FILTER=(0,E.or)(E.matchesPrefix,E.matchesWords,E.matchesContiguousSubString),e.AbstractCommandsQuickAccessProvider=h=r=Ie([ue(1,i.IInstantiationService),ue(2,t.IKeybindingService),ue(3,C.ICommandService),ue(4,u.ITelemetryService),ue(5,s.IDialogService)],h);let l=a=class extends y.Disposable{constructor(d,v,_){super(),this.storageService=d,this.configurationService=v,this.logService=_,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(d=>this.updateConfiguration(d))),this._register(this.storageService.onWillSaveState(d=>{d.reason===m.WillSaveStateReason.SHUTDOWN&&this.saveState()}))}updateConfiguration(d){d&&!d.affectsConfiguration("workbench.commandPalette.history")||(this.configuredCommandsHistoryLength=a.getConfiguredCommandHistoryLength(this.configurationService),a.cache&&a.cache.limit!==this.configuredCommandsHistoryLength&&(a.cache.limit=this.configuredCommandsHistoryLength,a.hasChanges=!0))}load(){const d=this.storageService.get(a.PREF_KEY_CACHE,0);let v;if(d)try{v=JSON.parse(d)}catch(S){this.logService.error(`[CommandsHistory] invalid data: ${S}`)}const _=a.cache=new p.LRUCache(this.configuredCommandsHistoryLength,1);if(v){let S;v.usesLRU?S=v.entries:S=v.entries.sort((L,I)=>L.value-I.value),S.forEach(L=>_.set(L.key,L.value))}a.counter=this.storageService.getNumber(a.PREF_KEY_COUNTER,0,a.counter)}push(d){a.cache&&(a.cache.set(d,a.counter++),a.hasChanges=!0)}peek(d){var v;return(v=a.cache)===null||v===void 0?void 0:v.peek(d)}saveState(){if(!a.cache||!a.hasChanges)return;const d={usesLRU:!0,entries:[]};a.cache.forEach((v,_)=>d.entries.push({key:_,value:v})),this.storageService.store(a.PREF_KEY_CACHE,JSON.stringify(d),0,0),this.storageService.store(a.PREF_KEY_COUNTER,a.counter,0,0),a.hasChanges=!1}static getConfiguredCommandHistoryLength(d){var v,_;const L=(_=(v=d.getValue().workbench)===null||v===void 0?void 0:v.commandPalette)===null||_===void 0?void 0:_.history;return typeof L=="number"?L:a.DEFAULT_COMMANDS_HISTORY_LENGTH}};e.CommandsHistory=l,l.DEFAULT_COMMANDS_HISTORY_LENGTH=50,l.PREF_KEY_CACHE="commandPalette.mru.cache",l.PREF_KEY_COUNTER="commandPalette.mru.counter",l.counter=1,l.hasChanges=!1,e.CommandsHistory=l=a=Ie([ue(0,m.IStorageService),ue(1,o.IConfigurationService),ue(2,n.ILogService)],l)}),define(ie[879],ne([1,0,137,363,878]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorCommandsQuickAccessProvider=void 0;class D extends E.AbstractCommandsQuickAccessProvider{constructor(p,w,b,C,o,s){super(p,w,b,C,o,s)}getCodeEditorCommandPicks(){var p;const w=this.activeTextEditorControl;if(!w)return[];const b=[];for(const C of w.getSupportedActions()){let o;!((p=C.metadata)===null||p===void 0)&&p.description&&((0,k.isLocalizedString)(C.metadata.description)?o=C.metadata.description:o={original:C.metadata.description,value:C.metadata.description}),b.push({commandId:C.id,commandAlias:C.alias,commandDescription:o,label:(0,f.stripIcons)(C.label)||C.id})}return b}}e.AbstractEditorCommandsQuickAccessProvider=D}),define(ie[880],ne([1,0,39,151,103,36,879,8,32,25,62,173,16,21,75]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneCommandsQuickAccessProvider=void 0;let n=class extends y.AbstractEditorCommandsQuickAccessProvider{get activeTextEditorControl(){var u;return(u=this.codeEditorService.getFocusedCodeEditor())!==null&&u!==void 0?u:void 0}constructor(u,r,a,h,l,g){super({showAlias:!1},u,a,h,l,g),this.codeEditorService=r}async getCommandPicks(){return this.getCodeEditorCommandPicks()}hasAdditionalCommandPicks(){return!1}async getAdditionalCommandPicks(){return[]}};e.StandaloneCommandsQuickAccessProvider=n,e.StandaloneCommandsQuickAccessProvider=n=Ie([ue(0,p.IInstantiationService),ue(1,D.ICodeEditorService),ue(2,w.IKeybindingService),ue(3,b.ICommandService),ue(4,C.ITelemetryService),ue(5,o.IDialogService)],n);class c extends s.EditorAction{constructor(){super({id:c.ID,label:E.QuickCommandNLS.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:i.EditorContextKeys.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(u){u.get(t.IQuickInputService).quickAccess.show(n.PREFIX)}}e.GotoLineAction=c,c.ID="editor.action.quickCommand",(0,s.registerEditorAction)(c),f.Registry.as(k.Extensions.Quickaccess).registerQuickAccessProvider({ctor:n,prefix:n.PREFIX,helpEntries:[{description:E.QuickCommandNLS.quickCommandHelp,commandId:c.ID}]})}),define(ie[93],ne([1,0,87,15,35,7,264,39]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.workbenchColorsSchemaId=e.Extensions=void 0,e.asCssVariableName=w,e.asCssVariable=b,e.asCssVariableWithDefault=C,e.registerColor=i,e.executeTransform=t,e.darken=n,e.lighten=c,e.transparent=m,e.oneOf=u,e.ifDefinedThenElse=r,e.lessProminent=a,e.resolveColorValue=h;function w(d){return`--vscode-${d.replace(/\./g,"-")}`}function b(d){return`var(${w(d)})`}function C(d,v){return`var(${w(d)}, ${v})`}e.Extensions={ColorContribution:"base.contributions.colors"};class o{constructor(){this._onDidChangeSchema=new D.Emitter,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(v,_,S,L=!1,I){const T={id:v,description:S,defaults:_,needsTransparency:L,deprecationMessage:I};this.colorsById[v]=T;const N={type:"string",description:S,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return I&&(N.deprecationMessage=I),L&&(N.pattern="^#(?:(?<rgba>[0-9a-fA-f]{3}[0-9a-eA-E])|(?:[0-9a-fA-F]{6}(?:(?![fF]{2})(?:[0-9a-fA-F]{2}))))?$",N.patternErrorMessage="This color must be transparent or it will obscure content"),this.colorSchema.properties[v]=N,this.colorReferenceSchema.enum.push(v),this.colorReferenceSchema.enumDescriptions.push(S),this._onDidChangeSchema.fire(),v}getColors(){return Object.keys(this.colorsById).map(v=>this.colorsById[v])}resolveDefaultColor(v,_){const S=this.colorsById[v];if(S&&S.defaults){const L=S.defaults[_.type];return h(L,_)}}getColorSchema(){return this.colorSchema}toString(){const v=(_,S)=>{const L=_.indexOf(".")===-1?0:1,I=S.indexOf(".")===-1?0:1;return L!==I?L-I:_.localeCompare(S)};return Object.keys(this.colorsById).sort(v).map(_=>`- \`${_}\`: ${this.colorsById[_].description}`).join(`
`)}}const s=new o;p.Registry.add(e.Extensions.ColorContribution,s);function i(d,v,_,S,L){return s.registerColor(d,v,_,S,L)}function t(d,v){var _,S,L,I;switch(d.op){case 0:return(_=h(d.value,v))===null||_===void 0?void 0:_.darken(d.factor);case 1:return(S=h(d.value,v))===null||S===void 0?void 0:S.lighten(d.factor);case 2:return(L=h(d.value,v))===null||L===void 0?void 0:L.transparent(d.factor);case 3:{const T=h(d.background,v);return T?(I=h(d.value,v))===null||I===void 0?void 0:I.makeOpaque(T):h(d.value,v)}case 4:for(const T of d.values){const N=h(T,v);if(N)return N}return;case 6:return h(v.defines(d.if)?d.then:d.else,v);case 5:{const T=h(d.value,v);if(!T)return;const N=h(d.background,v);return N?T.isDarkerThan(N)?E.Color.getLighterColor(T,N,d.factor).transparent(d.transparency):E.Color.getDarkerColor(T,N,d.factor).transparent(d.transparency):T.transparent(d.factor*d.transparency)}default:throw(0,f.assertNever)(d)}}function n(d,v){return{op:0,value:d,factor:v}}function c(d,v){return{op:1,value:d,factor:v}}function m(d,v){return{op:2,value:d,factor:v}}function u(...d){return{op:4,values:d}}function r(d,v,_){return{op:6,if:d,then:v,else:_}}function a(d,v,_,S){return{op:5,value:d,background:v,factor:_,transparency:S}}function h(d,v){if(d!==null){if(typeof d=="string")return d[0]==="#"?E.Color.fromHex(d):v.getColor(d);if(d instanceof E.Color)return d;if(typeof d=="object")return t(d,v)}}e.workbenchColorsSchemaId="vscode://schemas/workbench-colors";const l=p.Registry.as(y.Extensions.JSONContribution);l.registerSchema(e.workbenchColorsSchemaId,s.getColorSchema());const g=new k.RunOnceScheduler(()=>l.notifySchemaChanged(e.workbenchColorsSchemaId),200);s.onDidChangeSchema(()=>{g.isScheduled()||g.schedule()})}),define(ie[119],ne([1,0,791,35,93]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.textCodeBlockBackground=e.textBlockQuoteBorder=e.textBlockQuoteBackground=e.textPreformatBackground=e.textPreformatForeground=e.textSeparatorForeground=e.textLinkActiveForeground=e.textLinkForeground=e.selectionBackground=e.activeContrastBorder=e.contrastBorder=e.focusBorder=e.iconForeground=e.descriptionForeground=e.errorForeground=e.disabledForeground=e.foreground=void 0,e.foreground=(0,E.registerColor)("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(0,null)),e.disabledForeground=(0,E.registerColor)("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},f.localize(1,null)),e.errorForeground=(0,E.registerColor)("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(2,null)),e.descriptionForeground=(0,E.registerColor)("descriptionForeground",{light:"#717171",dark:(0,E.transparent)(e.foreground,.7),hcDark:(0,E.transparent)(e.foreground,.7),hcLight:(0,E.transparent)(e.foreground,.7)},f.localize(3,null)),e.iconForeground=(0,E.registerColor)("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},f.localize(4,null)),e.focusBorder=(0,E.registerColor)("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#006BBD"},f.localize(5,null)),e.contrastBorder=(0,E.registerColor)("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},f.localize(6,null)),e.activeContrastBorder=(0,E.registerColor)("contrastActiveBorder",{light:null,dark:null,hcDark:e.focusBorder,hcLight:e.focusBorder},f.localize(7,null)),e.selectionBackground=(0,E.registerColor)("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(8,null)),e.textLinkForeground=(0,E.registerColor)("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(9,null)),e.textLinkActiveForeground=(0,E.registerColor)("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#21A6FF",hcLight:"#0F4A85"},f.localize(10,null)),e.textSeparatorForeground=(0,E.registerColor)("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:k.Color.black,hcLight:"#292929"},f.localize(11,null)),e.textPreformatForeground=(0,E.registerColor)("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#000000",hcLight:"#FFFFFF"},f.localize(12,null)),e.textPreformatBackground=(0,E.registerColor)("textPreformat.background",{light:"#0000001A",dark:"#FFFFFF1A",hcDark:"#FFFFFF",hcLight:"#09345f"},f.localize(13,null)),e.textBlockQuoteBackground=(0,E.registerColor)("textBlockQuote.background",{light:"#f2f2f2",dark:"#222222",hcDark:null,hcLight:"#F2F2F2"},f.localize(14,null)),e.textBlockQuoteBorder=(0,E.registerColor)("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:k.Color.white,hcLight:"#292929"},f.localize(15,null)),e.textCodeBlockBackground=(0,E.registerColor)("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:k.Color.black,hcLight:"#F2F2F2"},f.localize(16,null))}),define(ie[271],ne([1,0,798,35,93,119]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.progressBarBackground=e.scrollbarSliderActiveBackground=e.scrollbarSliderHoverBackground=e.scrollbarSliderBackground=e.scrollbarShadow=e.badgeForeground=e.badgeBackground=e.sashHoverBorder=void 0,e.sashHoverBorder=(0,E.registerColor)("sash.hoverBorder",{dark:D.focusBorder,light:D.focusBorder,hcDark:D.focusBorder,hcLight:D.focusBorder},f.localize(0,null)),e.badgeBackground=(0,E.registerColor)("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:k.Color.black,hcLight:"#0F4A85"},f.localize(1,null)),e.badgeForeground=(0,E.registerColor)("badge.foreground",{dark:k.Color.white,light:"#333",hcDark:k.Color.white,hcLight:k.Color.white},f.localize(2,null)),e.scrollbarShadow=(0,E.registerColor)("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},f.localize(3,null)),e.scrollbarSliderBackground=(0,E.registerColor)("scrollbarSlider.background",{dark:k.Color.fromHex("#797979").transparent(.4),light:k.Color.fromHex("#646464").transparent(.4),hcDark:(0,E.transparent)(D.contrastBorder,.6),hcLight:(0,E.transparent)(D.contrastBorder,.4)},f.localize(4,null)),e.scrollbarSliderHoverBackground=(0,E.registerColor)("scrollbarSlider.hoverBackground",{dark:k.Color.fromHex("#646464").transparent(.7),light:k.Color.fromHex("#646464").transparent(.7),hcDark:(0,E.transparent)(D.contrastBorder,.8),hcLight:(0,E.transparent)(D.contrastBorder,.8)},f.localize(5,null)),e.scrollbarSliderActiveBackground=(0,E.registerColor)("scrollbarSlider.activeBackground",{dark:k.Color.fromHex("#BFBFBF").transparent(.4),light:k.Color.fromHex("#000000").transparent(.6),hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(6,null)),e.progressBarBackground=(0,E.registerColor)("progressBar.background",{dark:k.Color.fromHex("#0E70C0"),light:k.Color.fromHex("#0E70C0"),hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(7,null))}),define(ie[134],ne([1,0,793,35,93,119,271]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.problemsInfoIconForeground=e.problemsWarningIconForeground=e.problemsErrorIconForeground=e.overviewRulerSelectionHighlightForeground=e.overviewRulerFindMatchForeground=e.overviewRulerCommonContentForeground=e.overviewRulerIncomingContentForeground=e.overviewRulerCurrentContentForeground=e.mergeBorder=e.mergeCommonContentBackground=e.mergeCommonHeaderBackground=e.mergeIncomingContentBackground=e.mergeIncomingHeaderBackground=e.mergeCurrentContentBackground=e.mergeCurrentHeaderBackground=e.breadcrumbsPickerBackground=e.breadcrumbsActiveSelectionForeground=e.breadcrumbsFocusForeground=e.breadcrumbsBackground=e.breadcrumbsForeground=e.toolbarActiveBackground=e.toolbarHoverOutline=e.toolbarHoverBackground=e.widgetBorder=e.widgetShadow=e.diffUnchangedTextBackground=e.diffUnchangedRegionForeground=e.diffUnchangedRegionBackground=e.diffDiagonalFill=e.diffBorder=e.diffRemovedOutline=e.diffInsertedOutline=e.diffOverviewRulerRemoved=e.diffOverviewRulerInserted=e.diffRemovedLineGutter=e.diffInsertedLineGutter=e.diffRemovedLine=e.diffInsertedLine=e.diffRemoved=e.diffInserted=e.defaultRemoveColor=e.defaultInsertColor=e.snippetFinalTabstopHighlightBorder=e.snippetFinalTabstopHighlightBackground=e.snippetTabstopHighlightBorder=e.snippetTabstopHighlightBackground=e.editorLightBulbAiForeground=e.editorLightBulbAutoFixForeground=e.editorLightBulbForeground=e.editorInlayHintParameterBackground=e.editorInlayHintParameterForeground=e.editorInlayHintTypeBackground=e.editorInlayHintTypeForeground=e.editorInlayHintBackground=e.editorInlayHintForeground=e.editorHoverStatusBarBackground=e.editorHoverBorder=e.editorHoverForeground=e.editorHoverBackground=e.editorHoverHighlight=e.editorFindRangeHighlightBorder=e.editorFindMatchHighlightBorder=e.editorFindMatchBorder=e.editorFindRangeHighlight=e.editorFindMatchHighlight=e.editorFindMatch=e.editorSelectionHighlightBorder=e.editorSelectionHighlight=e.editorInactiveSelection=e.editorSelectionForeground=e.editorSelectionBackground=e.editorActiveLinkForeground=e.editorHintBorder=e.editorHintForeground=e.editorInfoBorder=e.editorInfoForeground=e.editorInfoBackground=e.editorWarningBorder=e.editorWarningForeground=e.editorWarningBackground=e.editorErrorBorder=e.editorErrorForeground=e.editorErrorBackground=e.editorWidgetResizeBorder=e.editorWidgetBorder=e.editorWidgetForeground=e.editorWidgetBackground=e.editorStickyScrollShadow=e.editorStickyScrollBorder=e.editorStickyScrollHoverBackground=e.editorStickyScrollBackground=e.editorForeground=e.editorBackground=void 0,e.editorBackground=(0,E.registerColor)("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(0,null)),e.editorForeground=(0,E.registerColor)("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:k.Color.white,hcLight:D.foreground},f.localize(1,null)),e.editorStickyScrollBackground=(0,E.registerColor)("editorStickyScroll.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},f.localize(2,null)),e.editorStickyScrollHoverBackground=(0,E.registerColor)("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(3,null)),e.editorStickyScrollBorder=(0,E.registerColor)("editorStickyScroll.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(4,null)),e.editorStickyScrollShadow=(0,E.registerColor)("editorStickyScroll.shadow",{dark:y.scrollbarShadow,light:y.scrollbarShadow,hcDark:y.scrollbarShadow,hcLight:y.scrollbarShadow},f.localize(5,null)),e.editorWidgetBackground=(0,E.registerColor)("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:k.Color.white},f.localize(6,null)),e.editorWidgetForeground=(0,E.registerColor)("editorWidget.foreground",{dark:D.foreground,light:D.foreground,hcDark:D.foreground,hcLight:D.foreground},f.localize(7,null)),e.editorWidgetBorder=(0,E.registerColor)("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(8,null)),e.editorWidgetResizeBorder=(0,E.registerColor)("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},f.localize(9,null)),e.editorErrorBackground=(0,E.registerColor)("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(10,null),!0),e.editorErrorForeground=(0,E.registerColor)("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},f.localize(11,null)),e.editorErrorBorder=(0,E.registerColor)("editorError.border",{dark:null,light:null,hcDark:k.Color.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},f.localize(12,null)),e.editorWarningBackground=(0,E.registerColor)("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(13,null),!0),e.editorWarningForeground=(0,E.registerColor)("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD370",hcLight:"#895503"},f.localize(14,null)),e.editorWarningBorder=(0,E.registerColor)("editorWarning.border",{dark:null,light:null,hcDark:k.Color.fromHex("#FFCC00").transparent(.8),hcLight:k.Color.fromHex("#FFCC00").transparent(.8)},f.localize(15,null)),e.editorInfoBackground=(0,E.registerColor)("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(16,null),!0),e.editorInfoForeground=(0,E.registerColor)("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},f.localize(17,null)),e.editorInfoBorder=(0,E.registerColor)("editorInfo.border",{dark:null,light:null,hcDark:k.Color.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},f.localize(18,null)),e.editorHintForeground=(0,E.registerColor)("editorHint.foreground",{dark:k.Color.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},f.localize(19,null)),e.editorHintBorder=(0,E.registerColor)("editorHint.border",{dark:null,light:null,hcDark:k.Color.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},f.localize(20,null)),e.editorActiveLinkForeground=(0,E.registerColor)("editorLink.activeForeground",{dark:"#4E94CE",light:k.Color.blue,hcDark:k.Color.cyan,hcLight:"#292929"},f.localize(21,null)),e.editorSelectionBackground=(0,E.registerColor)("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},f.localize(22,null)),e.editorSelectionForeground=(0,E.registerColor)("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:k.Color.white},f.localize(23,null)),e.editorInactiveSelection=(0,E.registerColor)("editor.inactiveSelectionBackground",{light:(0,E.transparent)(e.editorSelectionBackground,.5),dark:(0,E.transparent)(e.editorSelectionBackground,.5),hcDark:(0,E.transparent)(e.editorSelectionBackground,.7),hcLight:(0,E.transparent)(e.editorSelectionBackground,.5)},f.localize(24,null),!0),e.editorSelectionHighlight=(0,E.registerColor)("editor.selectionHighlightBackground",{light:(0,E.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),dark:(0,E.lessProminent)(e.editorSelectionBackground,e.editorBackground,.3,.6),hcDark:null,hcLight:null},f.localize(25,null),!0),e.editorSelectionHighlightBorder=(0,E.registerColor)("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(26,null)),e.editorFindMatch=(0,E.registerColor)("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},f.localize(27,null)),e.editorFindMatchHighlight=(0,E.registerColor)("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},f.localize(28,null),!0),e.editorFindRangeHighlight=(0,E.registerColor)("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},f.localize(29,null),!0),e.editorFindMatchBorder=(0,E.registerColor)("editor.findMatchBorder",{light:null,dark:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(30,null)),e.editorFindMatchHighlightBorder=(0,E.registerColor)("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(31,null)),e.editorFindRangeHighlightBorder=(0,E.registerColor)("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:(0,E.transparent)(D.activeContrastBorder,.4),hcLight:(0,E.transparent)(D.activeContrastBorder,.4)},f.localize(32,null),!0),e.editorHoverHighlight=(0,E.registerColor)("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},f.localize(33,null),!0),e.editorHoverBackground=(0,E.registerColor)("editorHoverWidget.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(34,null)),e.editorHoverForeground=(0,E.registerColor)("editorHoverWidget.foreground",{light:e.editorWidgetForeground,dark:e.editorWidgetForeground,hcDark:e.editorWidgetForeground,hcLight:e.editorWidgetForeground},f.localize(35,null)),e.editorHoverBorder=(0,E.registerColor)("editorHoverWidget.border",{light:e.editorWidgetBorder,dark:e.editorWidgetBorder,hcDark:e.editorWidgetBorder,hcLight:e.editorWidgetBorder},f.localize(36,null)),e.editorHoverStatusBarBackground=(0,E.registerColor)("editorHoverWidget.statusBarBackground",{dark:(0,E.lighten)(e.editorHoverBackground,.2),light:(0,E.darken)(e.editorHoverBackground,.05),hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(37,null)),e.editorInlayHintForeground=(0,E.registerColor)("editorInlayHint.foreground",{dark:"#969696",light:"#969696",hcDark:k.Color.white,hcLight:k.Color.black},f.localize(38,null)),e.editorInlayHintBackground=(0,E.registerColor)("editorInlayHint.background",{dark:(0,E.transparent)(y.badgeBackground,.1),light:(0,E.transparent)(y.badgeBackground,.1),hcDark:(0,E.transparent)(k.Color.white,.1),hcLight:(0,E.transparent)(y.badgeBackground,.1)},f.localize(39,null)),e.editorInlayHintTypeForeground=(0,E.registerColor)("editorInlayHint.typeForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},f.localize(40,null)),e.editorInlayHintTypeBackground=(0,E.registerColor)("editorInlayHint.typeBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},f.localize(41,null)),e.editorInlayHintParameterForeground=(0,E.registerColor)("editorInlayHint.parameterForeground",{dark:e.editorInlayHintForeground,light:e.editorInlayHintForeground,hcDark:e.editorInlayHintForeground,hcLight:e.editorInlayHintForeground},f.localize(42,null)),e.editorInlayHintParameterBackground=(0,E.registerColor)("editorInlayHint.parameterBackground",{dark:e.editorInlayHintBackground,light:e.editorInlayHintBackground,hcDark:e.editorInlayHintBackground,hcLight:e.editorInlayHintBackground},f.localize(43,null)),e.editorLightBulbForeground=(0,E.registerColor)("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},f.localize(44,null)),e.editorLightBulbAutoFixForeground=(0,E.registerColor)("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},f.localize(45,null)),e.editorLightBulbAiForeground=(0,E.registerColor)("editorLightBulbAi.foreground",{dark:e.editorLightBulbForeground,light:e.editorLightBulbForeground,hcDark:e.editorLightBulbForeground,hcLight:e.editorLightBulbForeground},f.localize(46,null)),e.snippetTabstopHighlightBackground=(0,E.registerColor)("editor.snippetTabstopHighlightBackground",{dark:new k.Color(new k.RGBA(124,124,124,.3)),light:new k.Color(new k.RGBA(10,50,100,.2)),hcDark:new k.Color(new k.RGBA(124,124,124,.3)),hcLight:new k.Color(new k.RGBA(10,50,100,.2))},f.localize(47,null)),e.snippetTabstopHighlightBorder=(0,E.registerColor)("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(48,null)),e.snippetFinalTabstopHighlightBackground=(0,E.registerColor)("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(49,null)),e.snippetFinalTabstopHighlightBorder=(0,E.registerColor)("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new k.Color(new k.RGBA(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},f.localize(50,null)),e.defaultInsertColor=new k.Color(new k.RGBA(155,185,85,.2)),e.defaultRemoveColor=new k.Color(new k.RGBA(255,0,0,.2)),e.diffInserted=(0,E.registerColor)("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c40",hcDark:null,hcLight:null},f.localize(51,null),!0),e.diffRemoved=(0,E.registerColor)("diffEditor.removedTextBackground",{dark:"#ff000033",light:"#ff000033",hcDark:null,hcLight:null},f.localize(52,null),!0),e.diffInsertedLine=(0,E.registerColor)("diffEditor.insertedLineBackground",{dark:e.defaultInsertColor,light:e.defaultInsertColor,hcDark:null,hcLight:null},f.localize(53,null),!0),e.diffRemovedLine=(0,E.registerColor)("diffEditor.removedLineBackground",{dark:e.defaultRemoveColor,light:e.defaultRemoveColor,hcDark:null,hcLight:null},f.localize(54,null),!0),e.diffInsertedLineGutter=(0,E.registerColor)("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(55,null)),e.diffRemovedLineGutter=(0,E.registerColor)("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(56,null)),e.diffOverviewRulerInserted=(0,E.registerColor)("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(57,null)),e.diffOverviewRulerRemoved=(0,E.registerColor)("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(58,null)),e.diffInsertedOutline=(0,E.registerColor)("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},f.localize(59,null)),e.diffRemovedOutline=(0,E.registerColor)("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},f.localize(60,null)),e.diffBorder=(0,E.registerColor)("diffEditor.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(61,null)),e.diffDiagonalFill=(0,E.registerColor)("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},f.localize(62,null)),e.diffUnchangedRegionBackground=(0,E.registerColor)("diffEditor.unchangedRegionBackground",{dark:"sideBar.background",light:"sideBar.background",hcDark:"sideBar.background",hcLight:"sideBar.background"},f.localize(63,null)),e.diffUnchangedRegionForeground=(0,E.registerColor)("diffEditor.unchangedRegionForeground",{dark:"foreground",light:"foreground",hcDark:"foreground",hcLight:"foreground"},f.localize(64,null)),e.diffUnchangedTextBackground=(0,E.registerColor)("diffEditor.unchangedCodeBackground",{dark:"#74747429",light:"#b8b8b829",hcDark:null,hcLight:null},f.localize(65,null)),e.widgetShadow=(0,E.registerColor)("widget.shadow",{dark:(0,E.transparent)(k.Color.black,.36),light:(0,E.transparent)(k.Color.black,.16),hcDark:null,hcLight:null},f.localize(66,null)),e.widgetBorder=(0,E.registerColor)("widget.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(67,null)),e.toolbarHoverBackground=(0,E.registerColor)("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(68,null)),e.toolbarHoverOutline=(0,E.registerColor)("toolbar.hoverOutline",{dark:null,light:null,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(69,null)),e.toolbarActiveBackground=(0,E.registerColor)("toolbar.activeBackground",{dark:(0,E.lighten)(e.toolbarHoverBackground,.1),light:(0,E.darken)(e.toolbarHoverBackground,.1),hcDark:null,hcLight:null},f.localize(70,null)),e.breadcrumbsForeground=(0,E.registerColor)("breadcrumb.foreground",{light:(0,E.transparent)(D.foreground,.8),dark:(0,E.transparent)(D.foreground,.8),hcDark:(0,E.transparent)(D.foreground,.8),hcLight:(0,E.transparent)(D.foreground,.8)},f.localize(71,null)),e.breadcrumbsBackground=(0,E.registerColor)("breadcrumb.background",{light:e.editorBackground,dark:e.editorBackground,hcDark:e.editorBackground,hcLight:e.editorBackground},f.localize(72,null)),e.breadcrumbsFocusForeground=(0,E.registerColor)("breadcrumb.focusForeground",{light:(0,E.darken)(D.foreground,.2),dark:(0,E.lighten)(D.foreground,.1),hcDark:(0,E.lighten)(D.foreground,.1),hcLight:(0,E.lighten)(D.foreground,.1)},f.localize(73,null)),e.breadcrumbsActiveSelectionForeground=(0,E.registerColor)("breadcrumb.activeSelectionForeground",{light:(0,E.darken)(D.foreground,.2),dark:(0,E.lighten)(D.foreground,.1),hcDark:(0,E.lighten)(D.foreground,.1),hcLight:(0,E.lighten)(D.foreground,.1)},f.localize(74,null)),e.breadcrumbsPickerBackground=(0,E.registerColor)("breadcrumbPicker.background",{light:e.editorWidgetBackground,dark:e.editorWidgetBackground,hcDark:e.editorWidgetBackground,hcLight:e.editorWidgetBackground},f.localize(75,null));const p=.5,w=k.Color.fromHex("#40C8AE").transparent(p),b=k.Color.fromHex("#40A6FF").transparent(p),C=k.Color.fromHex("#606060").transparent(.4),o=.4,s=1;e.mergeCurrentHeaderBackground=(0,E.registerColor)("merge.currentHeaderBackground",{dark:w,light:w,hcDark:null,hcLight:null},f.localize(76,null),!0),e.mergeCurrentContentBackground=(0,E.registerColor)("merge.currentContentBackground",{dark:(0,E.transparent)(e.mergeCurrentHeaderBackground,o),light:(0,E.transparent)(e.mergeCurrentHeaderBackground,o),hcDark:(0,E.transparent)(e.mergeCurrentHeaderBackground,o),hcLight:(0,E.transparent)(e.mergeCurrentHeaderBackground,o)},f.localize(77,null),!0),e.mergeIncomingHeaderBackground=(0,E.registerColor)("merge.incomingHeaderBackground",{dark:b,light:b,hcDark:null,hcLight:null},f.localize(78,null),!0),e.mergeIncomingContentBackground=(0,E.registerColor)("merge.incomingContentBackground",{dark:(0,E.transparent)(e.mergeIncomingHeaderBackground,o),light:(0,E.transparent)(e.mergeIncomingHeaderBackground,o),hcDark:(0,E.transparent)(e.mergeIncomingHeaderBackground,o),hcLight:(0,E.transparent)(e.mergeIncomingHeaderBackground,o)},f.localize(79,null),!0),e.mergeCommonHeaderBackground=(0,E.registerColor)("merge.commonHeaderBackground",{dark:C,light:C,hcDark:null,hcLight:null},f.localize(80,null),!0),e.mergeCommonContentBackground=(0,E.registerColor)("merge.commonContentBackground",{dark:(0,E.transparent)(e.mergeCommonHeaderBackground,o),light:(0,E.transparent)(e.mergeCommonHeaderBackground,o),hcDark:(0,E.transparent)(e.mergeCommonHeaderBackground,o),hcLight:(0,E.transparent)(e.mergeCommonHeaderBackground,o)},f.localize(81,null),!0),e.mergeBorder=(0,E.registerColor)("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},f.localize(82,null)),e.overviewRulerCurrentContentForeground=(0,E.registerColor)("editorOverviewRuler.currentContentForeground",{dark:(0,E.transparent)(e.mergeCurrentHeaderBackground,s),light:(0,E.transparent)(e.mergeCurrentHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(83,null)),e.overviewRulerIncomingContentForeground=(0,E.registerColor)("editorOverviewRuler.incomingContentForeground",{dark:(0,E.transparent)(e.mergeIncomingHeaderBackground,s),light:(0,E.transparent)(e.mergeIncomingHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(84,null)),e.overviewRulerCommonContentForeground=(0,E.registerColor)("editorOverviewRuler.commonContentForeground",{dark:(0,E.transparent)(e.mergeCommonHeaderBackground,s),light:(0,E.transparent)(e.mergeCommonHeaderBackground,s),hcDark:e.mergeBorder,hcLight:e.mergeBorder},f.localize(85,null)),e.overviewRulerFindMatchForeground=(0,E.registerColor)("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},f.localize(86,null),!0),e.overviewRulerSelectionHighlightForeground=(0,E.registerColor)("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},f.localize(87,null),!0),e.problemsErrorIconForeground=(0,E.registerColor)("problemsErrorIcon.foreground",{dark:e.editorErrorForeground,light:e.editorErrorForeground,hcDark:e.editorErrorForeground,hcLight:e.editorErrorForeground},f.localize(88,null)),e.problemsWarningIconForeground=(0,E.registerColor)("problemsWarningIcon.foreground",{dark:e.editorWarningForeground,light:e.editorWarningForeground,hcDark:e.editorWarningForeground,hcLight:e.editorWarningForeground},f.localize(89,null)),e.problemsInfoIconForeground=(0,E.registerColor)("problemsInfoIcon.foreground",{dark:e.editorInfoForeground,light:e.editorInfoForeground,hcDark:e.editorInfoForeground,hcLight:e.editorInfoForeground},f.localize(90,null))}),define(ie[393],ne([1,0,794,35,93,119,134]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.keybindingLabelBottomBorder=e.keybindingLabelBorder=e.keybindingLabelForeground=e.keybindingLabelBackground=e.checkboxSelectBorder=e.checkboxBorder=e.checkboxForeground=e.checkboxSelectBackground=e.checkboxBackground=e.buttonSecondaryHoverBackground=e.buttonSecondaryBackground=e.buttonSecondaryForeground=e.buttonBorder=e.buttonHoverBackground=e.buttonBackground=e.buttonSeparator=e.buttonForeground=e.selectBorder=e.selectForeground=e.selectListBackground=e.selectBackground=e.inputValidationErrorBorder=e.inputValidationErrorForeground=e.inputValidationErrorBackground=e.inputValidationWarningBorder=e.inputValidationWarningForeground=e.inputValidationWarningBackground=e.inputValidationInfoBorder=e.inputValidationInfoForeground=e.inputValidationInfoBackground=e.inputPlaceholderForeground=e.inputActiveOptionForeground=e.inputActiveOptionBackground=e.inputActiveOptionHoverBackground=e.inputActiveOptionBorder=e.inputBorder=e.inputForeground=e.inputBackground=void 0,e.inputBackground=(0,E.registerColor)("input.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(0,null)),e.inputForeground=(0,E.registerColor)("input.foreground",{dark:D.foreground,light:D.foreground,hcDark:D.foreground,hcLight:D.foreground},f.localize(1,null)),e.inputBorder=(0,E.registerColor)("input.border",{dark:null,light:null,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(2,null)),e.inputActiveOptionBorder=(0,E.registerColor)("inputOption.activeBorder",{dark:"#007ACC",light:"#007ACC",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(3,null)),e.inputActiveOptionHoverBackground=(0,E.registerColor)("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},f.localize(4,null)),e.inputActiveOptionBackground=(0,E.registerColor)("inputOption.activeBackground",{dark:(0,E.transparent)(D.focusBorder,.4),light:(0,E.transparent)(D.focusBorder,.2),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(5,null)),e.inputActiveOptionForeground=(0,E.registerColor)("inputOption.activeForeground",{dark:k.Color.white,light:k.Color.black,hcDark:D.foreground,hcLight:D.foreground},f.localize(6,null)),e.inputPlaceholderForeground=(0,E.registerColor)("input.placeholderForeground",{light:(0,E.transparent)(D.foreground,.5),dark:(0,E.transparent)(D.foreground,.5),hcDark:(0,E.transparent)(D.foreground,.7),hcLight:(0,E.transparent)(D.foreground,.7)},f.localize(7,null)),e.inputValidationInfoBackground=(0,E.registerColor)("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(8,null)),e.inputValidationInfoForeground=(0,E.registerColor)("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:D.foreground},f.localize(9,null)),e.inputValidationInfoBorder=(0,E.registerColor)("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(10,null)),e.inputValidationWarningBackground=(0,E.registerColor)("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(11,null)),e.inputValidationWarningForeground=(0,E.registerColor)("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:D.foreground},f.localize(12,null)),e.inputValidationWarningBorder=(0,E.registerColor)("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(13,null)),e.inputValidationErrorBackground=(0,E.registerColor)("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:k.Color.black,hcLight:k.Color.white},f.localize(14,null)),e.inputValidationErrorForeground=(0,E.registerColor)("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:D.foreground},f.localize(15,null)),e.inputValidationErrorBorder=(0,E.registerColor)("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(16,null)),e.selectBackground=(0,E.registerColor)("dropdown.background",{dark:"#3C3C3C",light:k.Color.white,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(17,null)),e.selectListBackground=(0,E.registerColor)("dropdown.listBackground",{dark:null,light:null,hcDark:k.Color.black,hcLight:k.Color.white},f.localize(18,null)),e.selectForeground=(0,E.registerColor)("dropdown.foreground",{dark:"#F0F0F0",light:D.foreground,hcDark:k.Color.white,hcLight:D.foreground},f.localize(19,null)),e.selectBorder=(0,E.registerColor)("dropdown.border",{dark:e.selectBackground,light:"#CECECE",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(20,null)),e.buttonForeground=(0,E.registerColor)("button.foreground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:k.Color.white},f.localize(21,null)),e.buttonSeparator=(0,E.registerColor)("button.separator",{dark:(0,E.transparent)(e.buttonForeground,.4),light:(0,E.transparent)(e.buttonForeground,.4),hcDark:(0,E.transparent)(e.buttonForeground,.4),hcLight:(0,E.transparent)(e.buttonForeground,.4)},f.localize(22,null)),e.buttonBackground=(0,E.registerColor)("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},f.localize(23,null)),e.buttonHoverBackground=(0,E.registerColor)("button.hoverBackground",{dark:(0,E.lighten)(e.buttonBackground,.2),light:(0,E.darken)(e.buttonBackground,.2),hcDark:e.buttonBackground,hcLight:e.buttonBackground},f.localize(24,null)),e.buttonBorder=(0,E.registerColor)("button.border",{dark:D.contrastBorder,light:D.contrastBorder,hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(25,null)),e.buttonSecondaryForeground=(0,E.registerColor)("button.secondaryForeground",{dark:k.Color.white,light:k.Color.white,hcDark:k.Color.white,hcLight:D.foreground},f.localize(26,null)),e.buttonSecondaryBackground=(0,E.registerColor)("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:k.Color.white},f.localize(27,null)),e.buttonSecondaryHoverBackground=(0,E.registerColor)("button.secondaryHoverBackground",{dark:(0,E.lighten)(e.buttonSecondaryBackground,.2),light:(0,E.darken)(e.buttonSecondaryBackground,.2),hcDark:null,hcLight:null},f.localize(28,null)),e.checkboxBackground=(0,E.registerColor)("checkbox.background",{dark:e.selectBackground,light:e.selectBackground,hcDark:e.selectBackground,hcLight:e.selectBackground},f.localize(29,null)),e.checkboxSelectBackground=(0,E.registerColor)("checkbox.selectBackground",{dark:y.editorWidgetBackground,light:y.editorWidgetBackground,hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},f.localize(30,null)),e.checkboxForeground=(0,E.registerColor)("checkbox.foreground",{dark:e.selectForeground,light:e.selectForeground,hcDark:e.selectForeground,hcLight:e.selectForeground},f.localize(31,null)),e.checkboxBorder=(0,E.registerColor)("checkbox.border",{dark:e.selectBorder,light:e.selectBorder,hcDark:e.selectBorder,hcLight:e.selectBorder},f.localize(32,null)),e.checkboxSelectBorder=(0,E.registerColor)("checkbox.selectBorder",{dark:D.iconForeground,light:D.iconForeground,hcDark:D.iconForeground,hcLight:D.iconForeground},f.localize(33,null)),e.keybindingLabelBackground=(0,E.registerColor)("keybindingLabel.background",{dark:new k.Color(new k.RGBA(128,128,128,.17)),light:new k.Color(new k.RGBA(221,221,221,.4)),hcDark:k.Color.transparent,hcLight:k.Color.transparent},f.localize(34,null)),e.keybindingLabelForeground=(0,E.registerColor)("keybindingLabel.foreground",{dark:k.Color.fromHex("#CCCCCC"),light:k.Color.fromHex("#555555"),hcDark:k.Color.white,hcLight:D.foreground},f.localize(35,null)),e.keybindingLabelBorder=(0,E.registerColor)("keybindingLabel.border",{dark:new k.Color(new k.RGBA(51,51,51,.6)),light:new k.Color(new k.RGBA(204,204,204,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:D.contrastBorder},f.localize(36,null)),e.keybindingLabelBottomBorder=(0,E.registerColor)("keybindingLabel.bottomBorder",{dark:new k.Color(new k.RGBA(68,68,68,.6)),light:new k.Color(new k.RGBA(187,187,187,.4)),hcDark:new k.Color(new k.RGBA(111,195,223)),hcLight:D.foreground},f.localize(37,null))}),define(ie[272],ne([1,0,795,35,93,119,134]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.tableOddRowsBackgroundColor=e.tableColumnsBorder=e.treeInactiveIndentGuidesStroke=e.treeIndentGuidesStroke=e.listDeemphasizedForeground=e.listFilterMatchHighlightBorder=e.listFilterMatchHighlight=e.listFilterWidgetShadow=e.listFilterWidgetNoMatchesOutline=e.listFilterWidgetOutline=e.listFilterWidgetBackground=e.listWarningForeground=e.listErrorForeground=e.listInvalidItemForeground=e.listFocusHighlightForeground=e.listHighlightForeground=e.listDropBetweenBackground=e.listDropOverBackground=e.listHoverForeground=e.listHoverBackground=e.listInactiveFocusOutline=e.listInactiveFocusBackground=e.listInactiveSelectionIconForeground=e.listInactiveSelectionForeground=e.listInactiveSelectionBackground=e.listActiveSelectionIconForeground=e.listActiveSelectionForeground=e.listActiveSelectionBackground=e.listFocusAndSelectionOutline=e.listFocusOutline=e.listFocusForeground=e.listFocusBackground=void 0,e.listFocusBackground=(0,E.registerColor)("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(0,null)),e.listFocusForeground=(0,E.registerColor)("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(1,null)),e.listFocusOutline=(0,E.registerColor)("list.focusOutline",{dark:D.focusBorder,light:D.focusBorder,hcDark:D.activeContrastBorder,hcLight:D.activeContrastBorder},f.localize(2,null)),e.listFocusAndSelectionOutline=(0,E.registerColor)("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(3,null)),e.listActiveSelectionBackground=(0,E.registerColor)("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(4,null)),e.listActiveSelectionForeground=(0,E.registerColor)("list.activeSelectionForeground",{dark:k.Color.white,light:k.Color.white,hcDark:null,hcLight:null},f.localize(5,null)),e.listActiveSelectionIconForeground=(0,E.registerColor)("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(6,null)),e.listInactiveSelectionBackground=(0,E.registerColor)("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(7,null)),e.listInactiveSelectionForeground=(0,E.registerColor)("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(8,null)),e.listInactiveSelectionIconForeground=(0,E.registerColor)("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(9,null)),e.listInactiveFocusBackground=(0,E.registerColor)("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(10,null)),e.listInactiveFocusOutline=(0,E.registerColor)("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(11,null)),e.listHoverBackground=(0,E.registerColor)("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:k.Color.white.transparent(.1),hcLight:k.Color.fromHex("#0F4A85").transparent(.1)},f.localize(12,null)),e.listHoverForeground=(0,E.registerColor)("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(13,null)),e.listDropOverBackground=(0,E.registerColor)("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},f.localize(14,null)),e.listDropBetweenBackground=(0,E.registerColor)("list.dropBetweenBackground",{dark:D.iconForeground,light:D.iconForeground,hcDark:null,hcLight:null},f.localize(15,null)),e.listHighlightForeground=(0,E.registerColor)("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:D.focusBorder,hcLight:D.focusBorder},f.localize(16,null)),e.listFocusHighlightForeground=(0,E.registerColor)("list.focusHighlightForeground",{dark:e.listHighlightForeground,light:(0,E.ifDefinedThenElse)(e.listActiveSelectionBackground,e.listHighlightForeground,"#BBE7FF"),hcDark:e.listHighlightForeground,hcLight:e.listHighlightForeground},f.localize(17,null)),e.listInvalidItemForeground=(0,E.registerColor)("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},f.localize(18,null)),e.listErrorForeground=(0,E.registerColor)("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},f.localize(19,null)),e.listWarningForeground=(0,E.registerColor)("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},f.localize(20,null)),e.listFilterWidgetBackground=(0,E.registerColor)("listFilterWidget.background",{light:(0,E.darken)(y.editorWidgetBackground,0),dark:(0,E.lighten)(y.editorWidgetBackground,0),hcDark:y.editorWidgetBackground,hcLight:y.editorWidgetBackground},f.localize(21,null)),e.listFilterWidgetOutline=(0,E.registerColor)("listFilterWidget.outline",{dark:k.Color.transparent,light:k.Color.transparent,hcDark:"#f38518",hcLight:"#007ACC"},f.localize(22,null)),e.listFilterWidgetNoMatchesOutline=(0,E.registerColor)("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:D.contrastBorder,hcLight:D.contrastBorder},f.localize(23,null)),e.listFilterWidgetShadow=(0,E.registerColor)("listFilterWidget.shadow",{dark:y.widgetShadow,light:y.widgetShadow,hcDark:y.widgetShadow,hcLight:y.widgetShadow},f.localize(24,null)),e.listFilterMatchHighlight=(0,E.registerColor)("list.filterMatchBackground",{dark:y.editorFindMatchHighlight,light:y.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(25,null)),e.listFilterMatchHighlightBorder=(0,E.registerColor)("list.filterMatchBorder",{dark:y.editorFindMatchHighlightBorder,light:y.editorFindMatchHighlightBorder,hcDark:D.contrastBorder,hcLight:D.activeContrastBorder},f.localize(26,null)),e.listDeemphasizedForeground=(0,E.registerColor)("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},f.localize(27,null)),e.treeIndentGuidesStroke=(0,E.registerColor)("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},f.localize(28,null)),e.treeInactiveIndentGuidesStroke=(0,E.registerColor)("tree.inactiveIndentGuidesStroke",{dark:(0,E.transparent)(e.treeIndentGuidesStroke,.4),light:(0,E.transparent)(e.treeIndentGuidesStroke,.4),hcDark:(0,E.transparent)(e.treeIndentGuidesStroke,.4),hcLight:(0,E.transparent)(e.treeIndentGuidesStroke,.4)},f.localize(29,null)),e.tableColumnsBorder=(0,E.registerColor)("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},f.localize(30,null)),e.tableOddRowsBackgroundColor=(0,E.registerColor)("tree.tableOddRowsBackground",{dark:(0,E.transparent)(D.foreground,.04),light:(0,E.transparent)(D.foreground,.04),hcDark:null,hcLight:null},f.localize(31,null))}),define(ie[881],ne([1,0,796,93,119,393,272]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.menuSeparatorBackground=e.menuSelectionBorder=e.menuSelectionBackground=e.menuSelectionForeground=e.menuBackground=e.menuForeground=e.menuBorder=void 0,e.menuBorder=(0,k.registerColor)("menu.border",{dark:null,light:null,hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(0,null)),e.menuForeground=(0,k.registerColor)("menu.foreground",{dark:D.selectForeground,light:D.selectForeground,hcDark:D.selectForeground,hcLight:D.selectForeground},f.localize(1,null)),e.menuBackground=(0,k.registerColor)("menu.background",{dark:D.selectBackground,light:D.selectBackground,hcDark:D.selectBackground,hcLight:D.selectBackground},f.localize(2,null)),e.menuSelectionForeground=(0,k.registerColor)("menu.selectionForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},f.localize(3,null)),e.menuSelectionBackground=(0,k.registerColor)("menu.selectionBackground",{dark:y.listActiveSelectionBackground,light:y.listActiveSelectionBackground,hcDark:y.listActiveSelectionBackground,hcLight:y.listActiveSelectionBackground},f.localize(4,null)),e.menuSelectionBorder=(0,k.registerColor)("menu.selectionBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(5,null)),e.menuSeparatorBackground=(0,k.registerColor)("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(6,null))}),define(ie[394],ne([1,0,797,35,93,134,271]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.minimapSliderActiveBackground=e.minimapSliderHoverBackground=e.minimapSliderBackground=e.minimapForegroundOpacity=e.minimapBackground=e.minimapError=e.minimapWarning=e.minimapInfo=e.minimapSelection=e.minimapSelectionOccurrenceHighlight=e.minimapFindMatch=void 0,e.minimapFindMatch=(0,E.registerColor)("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},f.localize(0,null),!0),e.minimapSelectionOccurrenceHighlight=(0,E.registerColor)("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(1,null),!0),e.minimapSelection=(0,E.registerColor)("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},f.localize(2,null),!0),e.minimapInfo=(0,E.registerColor)("minimap.infoHighlight",{dark:D.editorInfoForeground,light:D.editorInfoForeground,hcDark:D.editorInfoBorder,hcLight:D.editorInfoBorder},f.localize(3,null)),e.minimapWarning=(0,E.registerColor)("minimap.warningHighlight",{dark:D.editorWarningForeground,light:D.editorWarningForeground,hcDark:D.editorWarningBorder,hcLight:D.editorWarningBorder},f.localize(4,null)),e.minimapError=(0,E.registerColor)("minimap.errorHighlight",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(5,null)),e.minimapBackground=(0,E.registerColor)("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(6,null)),e.minimapForegroundOpacity=(0,E.registerColor)("minimap.foregroundOpacity",{dark:k.Color.fromHex("#000f"),light:k.Color.fromHex("#000f"),hcDark:k.Color.fromHex("#000f"),hcLight:k.Color.fromHex("#000f")},f.localize(7,null)),e.minimapSliderBackground=(0,E.registerColor)("minimapSlider.background",{light:(0,E.transparent)(y.scrollbarSliderBackground,.5),dark:(0,E.transparent)(y.scrollbarSliderBackground,.5),hcDark:(0,E.transparent)(y.scrollbarSliderBackground,.5),hcLight:(0,E.transparent)(y.scrollbarSliderBackground,.5)},f.localize(8,null)),e.minimapSliderHoverBackground=(0,E.registerColor)("minimapSlider.hoverBackground",{light:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5),dark:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5),hcDark:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5),hcLight:(0,E.transparent)(y.scrollbarSliderHoverBackground,.5)},f.localize(9,null)),e.minimapSliderActiveBackground=(0,E.registerColor)("minimapSlider.activeBackground",{light:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5),dark:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5),hcDark:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5),hcLight:(0,E.transparent)(y.scrollbarSliderActiveBackground,.5)},f.localize(10,null))}),define(ie[882],ne([1,0,792,93,119,134,394]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.chartsPurple=e.chartsGreen=e.chartsOrange=e.chartsYellow=e.chartsBlue=e.chartsRed=e.chartsLines=e.chartsForeground=void 0,e.chartsForeground=(0,k.registerColor)("charts.foreground",{dark:E.foreground,light:E.foreground,hcDark:E.foreground,hcLight:E.foreground},f.localize(0,null)),e.chartsLines=(0,k.registerColor)("charts.lines",{dark:(0,k.transparent)(E.foreground,.5),light:(0,k.transparent)(E.foreground,.5),hcDark:(0,k.transparent)(E.foreground,.5),hcLight:(0,k.transparent)(E.foreground,.5)},f.localize(1,null)),e.chartsRed=(0,k.registerColor)("charts.red",{dark:D.editorErrorForeground,light:D.editorErrorForeground,hcDark:D.editorErrorForeground,hcLight:D.editorErrorForeground},f.localize(2,null)),e.chartsBlue=(0,k.registerColor)("charts.blue",{dark:D.editorInfoForeground,light:D.editorInfoForeground,hcDark:D.editorInfoForeground,hcLight:D.editorInfoForeground},f.localize(3,null)),e.chartsYellow=(0,k.registerColor)("charts.yellow",{dark:D.editorWarningForeground,light:D.editorWarningForeground,hcDark:D.editorWarningForeground,hcLight:D.editorWarningForeground},f.localize(4,null)),e.chartsOrange=(0,k.registerColor)("charts.orange",{dark:y.minimapFindMatch,light:y.minimapFindMatch,hcDark:y.minimapFindMatch,hcLight:y.minimapFindMatch},f.localize(5,null)),e.chartsGreen=(0,k.registerColor)("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},f.localize(6,null)),e.chartsPurple=(0,k.registerColor)("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},f.localize(7,null))}),define(ie[883],ne([1,0,799,35,93,134,272]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.quickInputListFocusBackground=e.quickInputListFocusIconForeground=e.quickInputListFocusForeground=e._deprecatedQuickInputListFocusBackground=e.pickerGroupBorder=e.pickerGroupForeground=e.quickInputTitleBackground=e.quickInputForeground=e.quickInputBackground=void 0,e.quickInputBackground=(0,E.registerColor)("quickInput.background",{dark:D.editorWidgetBackground,light:D.editorWidgetBackground,hcDark:D.editorWidgetBackground,hcLight:D.editorWidgetBackground},f.localize(0,null)),e.quickInputForeground=(0,E.registerColor)("quickInput.foreground",{dark:D.editorWidgetForeground,light:D.editorWidgetForeground,hcDark:D.editorWidgetForeground,hcLight:D.editorWidgetForeground},f.localize(1,null)),e.quickInputTitleBackground=(0,E.registerColor)("quickInputTitle.background",{dark:new k.Color(new k.RGBA(255,255,255,.105)),light:new k.Color(new k.RGBA(0,0,0,.06)),hcDark:"#000000",hcLight:k.Color.white},f.localize(2,null)),e.pickerGroupForeground=(0,E.registerColor)("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(3,null)),e.pickerGroupBorder=(0,E.registerColor)("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(4,null)),e._deprecatedQuickInputListFocusBackground=(0,E.registerColor)("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,f.localize(5,null)),e.quickInputListFocusForeground=(0,E.registerColor)("quickInputList.focusForeground",{dark:y.listActiveSelectionForeground,light:y.listActiveSelectionForeground,hcDark:y.listActiveSelectionForeground,hcLight:y.listActiveSelectionForeground},f.localize(6,null)),e.quickInputListFocusIconForeground=(0,E.registerColor)("quickInputList.focusIconForeground",{dark:y.listActiveSelectionIconForeground,light:y.listActiveSelectionIconForeground,hcDark:y.listActiveSelectionIconForeground,hcLight:y.listActiveSelectionIconForeground},f.localize(7,null)),e.quickInputListFocusBackground=(0,E.registerColor)("quickInputList.focusBackground",{dark:(0,E.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),light:(0,E.oneOf)(e._deprecatedQuickInputListFocusBackground,y.listActiveSelectionBackground),hcDark:null,hcLight:null},f.localize(8,null))}),define(ie[884],ne([1,0,800,93,119,134]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.searchEditorFindMatchBorder=e.searchEditorFindMatch=e.searchResultsInfoForeground=void 0,e.searchResultsInfoForeground=(0,k.registerColor)("search.resultsInfoForeground",{light:E.foreground,dark:(0,k.transparent)(E.foreground,.65),hcDark:E.foreground,hcLight:E.foreground},f.localize(0,null)),e.searchEditorFindMatch=(0,k.registerColor)("searchEditor.findMatchBackground",{light:(0,k.transparent)(D.editorFindMatchHighlight,.66),dark:(0,k.transparent)(D.editorFindMatchHighlight,.66),hcDark:D.editorFindMatchHighlight,hcLight:D.editorFindMatchHighlight},f.localize(1,null)),e.searchEditorFindMatchBorder=(0,k.registerColor)("searchEditor.findMatchBorder",{light:(0,k.transparent)(D.editorFindMatchHighlightBorder,.66),dark:(0,k.transparent)(D.editorFindMatchHighlightBorder,.66),hcDark:D.editorFindMatchHighlightBorder,hcLight:D.editorFindMatchHighlightBorder},f.localize(2,null))});var Ht=this&&this.__createBinding||(Object.create?function(Q,e,f,k){k===void 0&&(k=f);var E=Object.getOwnPropertyDescriptor(e,f);(!E||("get"in E?!e.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return e[f]}}),Object.defineProperty(Q,k,E)}:function(Q,e,f,k){k===void 0&&(k=f),Q[k]=e[f]}),Ct=this&&this.__exportStar||function(Q,e){for(var f in Q)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Ht(e,Q,f)};define(ie[33],ne([1,0,93,119,882,134,393,272,881,394,271,883,884]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(f,e),Ct(k,e),Ct(E,e),Ct(D,e),Ct(y,e),Ct(p,e),Ct(w,e),Ct(b,e),Ct(C,e),Ct(o,e),Ct(s,e)}),define(ie[178],ne([1,0,6,166,73,15,2,33]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DynamicCssRules=e.GlobalEditorPointerMoveMonitor=e.EditorPointerEventFactory=e.EditorMouseEventFactory=e.EditorMouseEvent=e.CoordinatesRelativeToEditor=e.EditorPagePosition=e.ClientCoordinates=e.PageCoordinates=void 0,e.createEditorPagePosition=s,e.createCoordinatesRelativeToEditor=i;class w{constructor(l,g){this.x=l,this.y=g,this._pageCoordinatesBrand=void 0}toClientCoordinates(l){return new b(this.x-l.scrollX,this.y-l.scrollY)}}e.PageCoordinates=w;class b{constructor(l,g){this.clientX=l,this.clientY=g,this._clientCoordinatesBrand=void 0}toPageCoordinates(l){return new w(this.clientX+l.scrollX,this.clientY+l.scrollY)}}e.ClientCoordinates=b;class C{constructor(l,g,d,v){this.x=l,this.y=g,this.width=d,this.height=v,this._editorPagePositionBrand=void 0}}e.EditorPagePosition=C;class o{constructor(l,g){this.x=l,this.y=g,this._positionRelativeToEditorBrand=void 0}}e.CoordinatesRelativeToEditor=o;function s(h){const l=f.getDomNodePagePosition(h);return new C(l.left,l.top,l.width,l.height)}function i(h,l,g){const d=l.width/h.offsetWidth,v=l.height/h.offsetHeight,_=(g.x-l.x)/d,S=(g.y-l.y)/v;return new o(_,S)}class t extends E.StandardMouseEvent{constructor(l,g,d){super(f.getWindow(d),l),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=g,this.pos=new w(this.posx,this.posy),this.editorPos=s(d),this.relativePos=i(d,this.editorPos,this.pos)}}e.EditorMouseEvent=t;class n{constructor(l){this._editorViewDomNode=l}_create(l){return new t(l,!1,this._editorViewDomNode)}onContextMenu(l,g){return f.addDisposableListener(l,"contextmenu",d=>{g(this._create(d))})}onMouseUp(l,g){return f.addDisposableListener(l,"mouseup",d=>{g(this._create(d))})}onMouseDown(l,g){return f.addDisposableListener(l,f.EventType.MOUSE_DOWN,d=>{g(this._create(d))})}onPointerDown(l,g){return f.addDisposableListener(l,f.EventType.POINTER_DOWN,d=>{g(this._create(d),d.pointerId)})}onMouseLeave(l,g){return f.addDisposableListener(l,f.EventType.MOUSE_LEAVE,d=>{g(this._create(d))})}onMouseMove(l,g){return f.addDisposableListener(l,"mousemove",d=>g(this._create(d)))}}e.EditorMouseEventFactory=n;class c{constructor(l){this._editorViewDomNode=l}_create(l){return new t(l,!1,this._editorViewDomNode)}onPointerUp(l,g){return f.addDisposableListener(l,"pointerup",d=>{g(this._create(d))})}onPointerDown(l,g){return f.addDisposableListener(l,f.EventType.POINTER_DOWN,d=>{g(this._create(d),d.pointerId)})}onPointerLeave(l,g){return f.addDisposableListener(l,f.EventType.POINTER_LEAVE,d=>{g(this._create(d))})}onPointerMove(l,g){return f.addDisposableListener(l,"pointermove",d=>g(this._create(d)))}}e.EditorPointerEventFactory=c;class m extends y.Disposable{constructor(l){super(),this._editorViewDomNode=l,this._globalPointerMoveMonitor=this._register(new k.GlobalPointerMoveMonitor),this._keydownListener=null}startMonitoring(l,g,d,v,_){this._keydownListener=f.addStandardDisposableListener(l.ownerDocument,"keydown",S=>{S.toKeyCodeChord().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,S.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(l,g,d,S=>{v(new t(S,!0,this._editorViewDomNode))},S=>{this._keydownListener.dispose(),_(S)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}e.GlobalEditorPointerMoveMonitor=m;class u{constructor(l){this._editor=l,this._instanceId=++u._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new D.RunOnceScheduler(()=>this.garbageCollect(),1e3)}createClassNameRef(l){const g=this.getOrCreateRule(l);return g.increaseRefCount(),{className:g.className,dispose:()=>{g.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(l){const g=this.computeUniqueKey(l);let d=this._rules.get(g);if(!d){const v=this._counter++;d=new r(g,`dyn-rule-${this._instanceId}-${v}`,f.isInShadowDOM(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,l),this._rules.set(g,d)}return d}computeUniqueKey(l){return JSON.stringify(l)}garbageCollect(){for(const l of this._rules.values())l.hasReferences()||(this._rules.delete(l.key),l.dispose())}}e.DynamicCssRules=u,u._idPool=0;class r{constructor(l,g,d,v){this.key=l,this.className=g,this.properties=v,this._referenceCount=0,this._styleElementDisposables=new y.DisposableStore,this._styleElement=f.createStyleSheet(d,void 0,this._styleElementDisposables),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(l,g){let d=`.${l} {`;for(const v in g){const _=g[v];let S;typeof _=="object"?S=(0,p.asCssVariable)(_.id):S=_;const L=a(v);d+=`
	${L}: ${S};`}return d+=`
}`,d}dispose(){this._styleElementDisposables.dispose(),this._styleElement=void 0}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function a(h){return h.replace(/(^[A-Z])/,([l])=>l.toLowerCase()).replace(/([A-Z])/g,([l])=>`-${l.toLowerCase()}`)}}),define(ie[885],ne([1,0,6,40,166,2,17,12,254,56,38,5,303,360,91,33,24,68,528,122,45,617,470]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Minimap=void 0;const l=140,g=2;class d{constructor(M,R,x){const F=M.options,W=F.get(143),H=F.get(145),z=H.minimap,j=F.get(50),K=F.get(73);this.renderMinimap=z.renderMinimap,this.size=K.size,this.minimapHeightIsEditorHeight=z.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=F.get(105),this.paddingTop=F.get(84).top,this.paddingBottom=F.get(84).bottom,this.showSlider=K.showSlider,this.autohide=K.autohide,this.pixelRatio=W,this.typicalHalfwidthCharacterWidth=j.typicalHalfwidthCharacterWidth,this.lineHeight=F.get(67),this.minimapLeft=z.minimapLeft,this.minimapWidth=z.minimapWidth,this.minimapHeight=H.height,this.canvasInnerWidth=z.minimapCanvasInnerWidth,this.canvasInnerHeight=z.minimapCanvasInnerHeight,this.canvasOuterWidth=z.minimapCanvasOuterWidth,this.canvasOuterHeight=z.minimapCanvasOuterHeight,this.isSampling=z.minimapIsSampling,this.editorHeight=H.height,this.fontScale=z.minimapScale,this.minimapLineHeight=z.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.sectionHeaderFontFamily=h.DEFAULT_FONT_FAMILY,this.sectionHeaderFontSize=K.sectionHeaderFontSize*W,this.sectionHeaderFontColor=d._getSectionHeaderColor(R,x.getColor(1)),this.charRenderer=(0,r.createSingleCallFunction)(()=>u.MinimapCharRendererFactory.create(this.fontScale,j.fontFamily)),this.defaultBackgroundColor=x.getColor(2),this.backgroundColor=d._getMinimapBackground(R,this.defaultBackgroundColor),this.foregroundAlpha=d._getMinimapForegroundOpacity(R)}static _getMinimapBackground(M,R){const x=M.getColor(n.minimapBackground);return x?new s.RGBA8(x.rgba.r,x.rgba.g,x.rgba.b,Math.round(255*x.rgba.a)):R}static _getMinimapForegroundOpacity(M){const R=M.getColor(n.minimapForegroundOpacity);return R?s.RGBA8._clamp(Math.round(255*R.rgba.a)):255}static _getSectionHeaderColor(M,R){const x=M.getColor(n.editorForeground);return x?new s.RGBA8(x.rgba.r,x.rgba.g,x.rgba.b,Math.round(255*x.rgba.a)):R}equals(M){return this.renderMinimap===M.renderMinimap&&this.size===M.size&&this.minimapHeightIsEditorHeight===M.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===M.scrollBeyondLastLine&&this.paddingTop===M.paddingTop&&this.paddingBottom===M.paddingBottom&&this.showSlider===M.showSlider&&this.autohide===M.autohide&&this.pixelRatio===M.pixelRatio&&this.typicalHalfwidthCharacterWidth===M.typicalHalfwidthCharacterWidth&&this.lineHeight===M.lineHeight&&this.minimapLeft===M.minimapLeft&&this.minimapWidth===M.minimapWidth&&this.minimapHeight===M.minimapHeight&&this.canvasInnerWidth===M.canvasInnerWidth&&this.canvasInnerHeight===M.canvasInnerHeight&&this.canvasOuterWidth===M.canvasOuterWidth&&this.canvasOuterHeight===M.canvasOuterHeight&&this.isSampling===M.isSampling&&this.editorHeight===M.editorHeight&&this.fontScale===M.fontScale&&this.minimapLineHeight===M.minimapLineHeight&&this.minimapCharWidth===M.minimapCharWidth&&this.sectionHeaderFontSize===M.sectionHeaderFontSize&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(M.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(M.backgroundColor)&&this.foregroundAlpha===M.foregroundAlpha}}class v{constructor(M,R,x,F,W,H,z,j,K){this.scrollTop=M,this.scrollHeight=R,this.sliderNeeded=x,this._computedSliderRatio=F,this.sliderTop=W,this.sliderHeight=H,this.topPaddingLineCount=z,this.startLineNumber=j,this.endLineNumber=K}getDesiredScrollTopFromDelta(M){return Math.round(this.scrollTop+M/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(M){return Math.round((M-this.sliderHeight/2)/this._computedSliderRatio)}intersectWithViewport(M){const R=Math.max(this.startLineNumber,M.startLineNumber),x=Math.min(this.endLineNumber,M.endLineNumber);return R>x?null:[R,x]}getYForLineNumber(M,R){return+(M-this.startLineNumber+this.topPaddingLineCount)*R}static create(M,R,x,F,W,H,z,j,K,U,G){const te=M.pixelRatio,ee=M.minimapLineHeight,Y=Math.floor(M.canvasInnerHeight/ee),P=M.lineHeight;if(M.minimapHeightIsEditorHeight){let X=j*M.lineHeight+M.paddingTop+M.paddingBottom;M.scrollBeyondLastLine&&(X+=Math.max(0,W-M.lineHeight-M.paddingBottom));const ae=Math.max(1,Math.floor(W*W/X)),oe=Math.max(0,M.minimapHeight-ae),B=oe/(U-W),q=K*B,V=oe>0,$=Math.floor(M.canvasInnerHeight/M.minimapLineHeight),J=Math.floor(M.paddingTop/M.lineHeight);return new v(K,U,V,B,q,ae,J,1,Math.min(z,$))}let Z;if(H&&x!==z){const X=x-R+1;Z=Math.floor(X*ee/te)}else{const X=W/P;Z=Math.floor(X*ee/te)}const re=Math.floor(M.paddingTop/P);let ce=Math.floor(M.paddingBottom/P);if(M.scrollBeyondLastLine){const X=W/P;ce=Math.max(ce,X-1)}let he;if(ce>0){const X=W/P;he=(re+z+ce-X-1)*ee/te}else he=Math.max(0,(re+z)*ee/te-Z);he=Math.min(M.minimapHeight-Z,he);const pe=he/(U-W),ge=K*pe;if(Y>=re+z+ce){const X=he>0;return new v(K,U,X,pe,ge,Z,re,1,z)}else{let X;R>1?X=R+re:X=Math.max(1,K/P);let ae,oe=Math.max(1,Math.floor(X-ge*te/ee));oe<re?(ae=re-oe+1,oe=1):(ae=0,oe=Math.max(1,oe-re)),G&&G.scrollHeight===U&&(G.scrollTop>K&&(oe=Math.min(oe,G.startLineNumber),ae=Math.max(ae,G.topPaddingLineCount)),G.scrollTop<K&&(oe=Math.max(oe,G.startLineNumber),ae=Math.min(ae,G.topPaddingLineCount)));const B=Math.min(z,oe-ae+Y-1),q=(K-F)/P;let V;return K>=M.paddingTop?V=(R-oe+ae+q)*ee/te:V=K/M.paddingTop*(ae+q)*ee/te,new v(K,U,!0,pe,V,Z,ae,oe,B)}}}class _{constructor(M){this.dy=M}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}_.INVALID=new _(-1);class S{constructor(M,R,x){this.renderedLayout=M,this._imageData=R,this._renderedLines=new w.RenderedLinesCollection(()=>_.INVALID),this._renderedLines._set(M.startLineNumber,x)}linesEquals(M){if(!this.scrollEquals(M))return!1;const x=this._renderedLines._get().lines;for(let F=0,W=x.length;F<W;F++)if(x[F].dy===-1)return!1;return!0}scrollEquals(M){return this.renderedLayout.startLineNumber===M.startLineNumber&&this.renderedLayout.endLineNumber===M.endLineNumber}_get(){const M=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:M.rendLineNumberStart,lines:M.lines}}onLinesChanged(M,R){return this._renderedLines.onLinesChanged(M,R)}onLinesDeleted(M,R){this._renderedLines.onLinesDeleted(M,R)}onLinesInserted(M,R){this._renderedLines.onLinesInserted(M,R)}onTokensChanged(M){return this._renderedLines.onTokensChanged(M)}}class L{constructor(M,R,x,F){this._backgroundFillData=L._createBackgroundFillData(R,x,F),this._buffers=[M.createImageData(R,x),M.createImageData(R,x)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const M=this._buffers[this._lastUsedBuffer];return M.data.set(this._backgroundFillData),M}static _createBackgroundFillData(M,R,x){const F=x.r,W=x.g,H=x.b,z=x.a,j=new Uint8ClampedArray(M*R*4);let K=0;for(let U=0;U<R;U++)for(let G=0;G<M;G++)j[K]=F,j[K+1]=W,j[K+2]=H,j[K+3]=z,K+=4;return j}}class I{static compute(M,R,x){if(M.renderMinimap===0||!M.isSampling)return[null,[]];const{minimapLineCount:F}=C.EditorLayoutInfoComputer.computeContainedMinimapLineCount({viewLineCount:R,scrollBeyondLastLine:M.scrollBeyondLastLine,paddingTop:M.paddingTop,paddingBottom:M.paddingBottom,height:M.editorHeight,lineHeight:M.lineHeight,pixelRatio:M.pixelRatio}),W=R/F,H=W/2;if(!x||x.minimapLines.length===0){const Z=[];if(Z[0]=1,F>1){for(let re=0,ce=F-1;re<ce;re++)Z[re]=Math.round(re*W+H);Z[F-1]=R}return[new I(W,Z),[]]}const z=x.minimapLines,j=z.length,K=[];let U=0,G=0,te=1;const ee=10;let Y=[],P=null;for(let Z=0;Z<F;Z++){const re=Math.max(te,Math.round(Z*W)),ce=Math.max(re,Math.round((Z+1)*W));for(;U<j&&z[U]<re;){if(Y.length<ee){const pe=U+1+G;P&&P.type==="deleted"&&P._oldIndex===U-1?P.deleteToLineNumber++:(P={type:"deleted",_oldIndex:U,deleteFromLineNumber:pe,deleteToLineNumber:pe},Y.push(P)),G--}U++}let he;if(U<j&&z[U]<=ce)he=z[U],U++;else if(Z===0?he=1:Z+1===F?he=R:he=Math.round(Z*W+H),Y.length<ee){const pe=U+1+G;P&&P.type==="inserted"&&P._i===Z-1?P.insertToLineNumber++:(P={type:"inserted",_i:Z,insertFromLineNumber:pe,insertToLineNumber:pe},Y.push(P)),G++}K[Z]=he,te=he}if(Y.length<ee)for(;U<j;){const Z=U+1+G;P&&P.type==="deleted"&&P._oldIndex===U-1?P.deleteToLineNumber++:(P={type:"deleted",_oldIndex:U,deleteFromLineNumber:Z,deleteToLineNumber:Z},Y.push(P)),G--,U++}else Y=[{type:"flush"}];return[new I(W,K),Y]}constructor(M,R){this.samplingRatio=M,this.minimapLines=R}modelLineToMinimapLine(M){return Math.min(this.minimapLines.length,Math.max(1,Math.round(M/this.samplingRatio)))}modelLineRangeToMinimapLineRange(M,R){let x=this.modelLineToMinimapLine(M)-1;for(;x>0&&this.minimapLines[x-1]>=M;)x--;let F=this.modelLineToMinimapLine(R)-1;for(;F+1<this.minimapLines.length&&this.minimapLines[F+1]<=R;)F++;if(x===F){const W=this.minimapLines[x];if(W<M||W>R)return null}return[x+1,F+1]}decorationLineRangeToMinimapLineRange(M,R){let x=this.modelLineToMinimapLine(M),F=this.modelLineToMinimapLine(R);return M!==R&&F===x&&(F===this.minimapLines.length?x>1&&x--:F++),[x,F]}onLinesDeleted(M){const R=M.toLineNumber-M.fromLineNumber+1;let x=this.minimapLines.length,F=0;for(let W=this.minimapLines.length-1;W>=0&&!(this.minimapLines[W]<M.fromLineNumber);W--)this.minimapLines[W]<=M.toLineNumber?(this.minimapLines[W]=Math.max(1,M.fromLineNumber-1),x=Math.min(x,W),F=Math.max(F,W)):this.minimapLines[W]-=R;return[x,F]}onLinesInserted(M){const R=M.toLineNumber-M.fromLineNumber+1;for(let x=this.minimapLines.length-1;x>=0&&!(this.minimapLines[x]<M.fromLineNumber);x--)this.minimapLines[x]+=R}}class T extends b.ViewPart{constructor(M){super(M),this._sectionHeaderCache=new a.LRUCache(10,1.5),this.tokensColorTracker=i.MinimapTokensColorTracker.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new d(this._context.configuration,this._context.theme,this.tokensColorTracker);const[R]=I.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=R,this._shouldCheckSampling=!1,this._actual=new N(M.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const M=new d(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(M)?!1:(this.options=M,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(M){return this._onOptionsMaybeChanged()}onCursorStateChanged(M){return this._selections=M.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(M){return M.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(M){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(M){if(this._samplingState){const R=this._samplingState.modelLineRangeToMinimapLineRange(M.fromLineNumber,M.fromLineNumber+M.count-1);return R?this._actual.onLinesChanged(R[0],R[1]-R[0]+1):!1}else return this._actual.onLinesChanged(M.fromLineNumber,M.count)}onLinesDeleted(M){if(this._samplingState){const[R,x]=this._samplingState.onLinesDeleted(M);return R<=x&&this._actual.onLinesChanged(R+1,x-R+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(M.fromLineNumber,M.toLineNumber)}onLinesInserted(M){return this._samplingState?(this._samplingState.onLinesInserted(M),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(M.fromLineNumber,M.toLineNumber)}onScrollChanged(M){return this._actual.onScrollChanged()}onThemeChanged(M){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(M){if(this._samplingState){const R=[];for(const x of M.ranges){const F=this._samplingState.modelLineRangeToMinimapLineRange(x.fromLineNumber,x.toLineNumber);F&&R.push({fromLineNumber:F[0],toLineNumber:F[1]})}return R.length?this._actual.onTokensChanged(R):!1}else return this._actual.onTokensChanged(M.ranges)}onTokensColorsChanged(M){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(M){return this._actual.onZonesChanged()}prepareRender(M){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(M){let R=M.visibleRange.startLineNumber,x=M.visibleRange.endLineNumber;this._samplingState&&(R=this._samplingState.modelLineToMinimapLine(R),x=this._samplingState.modelLineToMinimapLine(x));const F={viewportContainsWhitespaceGaps:M.viewportData.whitespaceViewportData.length>0,scrollWidth:M.scrollWidth,scrollHeight:M.scrollHeight,viewportStartLineNumber:R,viewportEndLineNumber:x,viewportStartLineNumberVerticalOffset:M.getVerticalOffsetForLineNumber(R),scrollTop:M.scrollTop,scrollLeft:M.scrollLeft,viewportWidth:M.viewportWidth,viewportHeight:M.viewportHeight};this._actual.render(F)}_recreateLineSampling(){this._minimapSelections=null;const M=!!this._samplingState,[R,x]=I.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=R,M&&this._samplingState)for(const F of x)switch(F.type){case"deleted":this._actual.onLinesDeleted(F.deleteFromLineNumber,F.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(F.insertFromLineNumber,F.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(M){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineContent(M)}getLineMaxColumn(M){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[M-1]):this._context.viewModel.getLineMaxColumn(M)}getMinimapLinesRenderingData(M,R,x){if(this._samplingState){const F=[];for(let W=0,H=R-M+1;W<H;W++)x[W]?F[W]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[M+W-1]):F[W]=null;return F}return this._context.viewModel.getMinimapLinesRenderingData(M,R,x).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const M of this._selections){const[R,x]=this._samplingState.decorationLineRangeToMinimapLineRange(M.startLineNumber,M.endLineNumber);this._minimapSelections.push(new c.Selection(R,M.startColumn,x,M.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(M,R){const x=this._getMinimapDecorationsInViewport(M,R).filter(F=>{var W;return!(!((W=F.options.minimap)===null||W===void 0)&&W.sectionHeaderStyle)});if(this._samplingState){const F=[];for(const W of x){if(!W.options.minimap)continue;const H=W.range,z=this._samplingState.modelLineToMinimapLine(H.startLineNumber),j=this._samplingState.modelLineToMinimapLine(H.endLineNumber);F.push(new t.ViewModelDecoration(new o.Range(z,H.startColumn,j,H.endColumn),W.options))}return F}return x}getSectionHeaderDecorationsInViewport(M,R){const x=this.options.minimapLineHeight,W=this.options.sectionHeaderFontSize/x;return M=Math.floor(Math.max(1,M-W)),this._getMinimapDecorationsInViewport(M,R).filter(H=>{var z;return!!(!((z=H.options.minimap)===null||z===void 0)&&z.sectionHeaderStyle)})}_getMinimapDecorationsInViewport(M,R){let x;if(this._samplingState){const F=this._samplingState.minimapLines[M-1],W=this._samplingState.minimapLines[R-1];x=new o.Range(F,1,W,this._context.viewModel.getLineMaxColumn(W))}else x=new o.Range(M,1,R,this._context.viewModel.getLineMaxColumn(R));return this._context.viewModel.getMinimapDecorationsInRange(x)}getSectionHeaderText(M,R){var x;const F=(x=M.options.minimap)===null||x===void 0?void 0:x.sectionHeaderText;if(!F)return null;const W=this._sectionHeaderCache.get(F);if(W)return W;const H=R(F);return this._sectionHeaderCache.set(F,H),H}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(M){this._samplingState&&(M=this._samplingState.minimapLines[M-1]),this._context.viewModel.revealRange("mouse",!1,new o.Range(M,1,M,1),1,0)}setScrollTop(M){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:M},1)}}e.Minimap=T;class N extends D.Disposable{constructor(M,R){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=M,this._model=R,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(n.minimapSelection),this._domNode=(0,k.createFastDomNode)(document.createElement("div")),b.PartFingerprints.write(this._domNode,9),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,k.createFastDomNode)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,k.createFastDomNode)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,k.createFastDomNode)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,k.createFastDomNode)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=f.addStandardDisposableListener(this._domNode.domNode,f.EventType.POINTER_DOWN,x=>{if(x.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(x.button===0&&this._lastRenderData){const K=f.getDomNodePagePosition(this._slider.domNode),U=K.top+K.height/2;this._startSliderDragging(x,U,this._lastRenderData.renderedLayout)}return}const W=this._model.options.minimapLineHeight,H=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*x.offsetY;let j=Math.floor(H/W)+this._lastRenderData.renderedLayout.startLineNumber-this._lastRenderData.renderedLayout.topPaddingLineCount;j=Math.min(j,this._model.getLineCount()),this._model.revealLineNumber(j)}),this._sliderPointerMoveMonitor=new E.GlobalPointerMoveMonitor,this._sliderPointerDownListener=f.addStandardDisposableListener(this._slider.domNode,f.EventType.POINTER_DOWN,x=>{x.preventDefault(),x.stopPropagation(),x.button===0&&this._lastRenderData&&this._startSliderDragging(x,x.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=m.Gesture.addTarget(this._domNode.domNode),this._sliderTouchStartListener=f.addDisposableListener(this._domNode.domNode,m.EventType.Start,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(x))},{passive:!1}),this._sliderTouchMoveListener=f.addDisposableListener(this._domNode.domNode,m.EventType.Change,x=>{x.preventDefault(),x.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(x)},{passive:!1}),this._sliderTouchEndListener=f.addStandardDisposableListener(this._domNode.domNode,m.EventType.End,x=>{x.preventDefault(),x.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(M,R,x){if(!M.target||!(M.target instanceof Element))return;const F=M.pageX;this._slider.toggleClassName("active",!0);const W=(H,z)=>{const j=f.getDomNodePagePosition(this._domNode.domNode),K=Math.min(Math.abs(z-F),Math.abs(z-j.left),Math.abs(z-j.left-j.width));if(y.isWindows&&K>l){this._model.setScrollTop(x.scrollTop);return}const U=H-R;this._model.setScrollTop(x.getDesiredScrollTopFromDelta(U))};M.pageY!==R&&W(M.pageY,F),this._sliderPointerMoveMonitor.startMonitoring(M.target,M.pointerId,M.buttons,H=>W(H.pageY,H.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(M){const R=this._domNode.domNode.getBoundingClientRect().top,x=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(M.pageY-R);this._model.setScrollTop(x)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const M=["minimap"];return this._model.options.showSlider==="always"?M.push("slider-always"):M.push("slider-mouseover"),this._model.options.autohide&&M.push("autohide"),M.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new L(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(M,R){return this._lastRenderData?this._lastRenderData.onLinesChanged(M,R):!1}onLinesDeleted(M,R){var x;return(x=this._lastRenderData)===null||x===void 0||x.onLinesDeleted(M,R),!0}onLinesInserted(M,R){var x;return(x=this._lastRenderData)===null||x===void 0||x.onLinesInserted(M,R),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(n.minimapSelection),this._renderDecorations=!0,!0}onTokensChanged(M){return this._lastRenderData?this._lastRenderData.onTokensChanged(M):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(M){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}M.scrollLeft+M.viewportWidth>=M.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const x=v.create(this._model.options,M.viewportStartLineNumber,M.viewportEndLineNumber,M.viewportStartLineNumberVerticalOffset,M.viewportHeight,M.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),M.scrollTop,M.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(x.sliderNeeded?"block":"none"),this._slider.setTop(x.sliderTop),this._slider.setHeight(x.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(x.sliderHeight),this.renderDecorations(x),this._lastRenderData=this.renderLines(x)}renderDecorations(M){if(this._renderDecorations){this._renderDecorations=!1;const R=this._model.getSelections();R.sort(o.Range.compareRangesUsingStarts);const x=this._model.getMinimapDecorationsInViewport(M.startLineNumber,M.endLineNumber);x.sort((te,ee)=>(te.options.zIndex||0)-(ee.options.zIndex||0));const{canvasInnerWidth:F,canvasInnerHeight:W}=this._model.options,H=this._model.options.minimapLineHeight,z=this._model.options.minimapCharWidth,j=this._model.getOptions().tabSize,K=this._decorationsCanvas.domNode.getContext("2d");K.clearRect(0,0,F,W);const U=new A(M.startLineNumber,M.endLineNumber,!1);this._renderSelectionLineHighlights(K,R,U,M,H),this._renderDecorationsLineHighlights(K,x,U,M,H);const G=new A(M.startLineNumber,M.endLineNumber,null);this._renderSelectionsHighlights(K,R,G,M,H,j,z,F),this._renderDecorationsHighlights(K,x,G,M,H,j,z,F),this._renderSectionHeaders(M)}}_renderSelectionLineHighlights(M,R,x,F,W){if(!this._selectionColor||this._selectionColor.isTransparent())return;M.fillStyle=this._selectionColor.transparent(.5).toString();let H=0,z=0;for(const j of R){const K=F.intersectWithViewport(j);if(!K)continue;const[U,G]=K;for(let Y=U;Y<=G;Y++)x.set(Y,!0);const te=F.getYForLineNumber(U,W),ee=F.getYForLineNumber(G,W);z>=te||(z>H&&M.fillRect(C.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,z-H),H=te),z=ee}z>H&&M.fillRect(C.MINIMAP_GUTTER_WIDTH,H,M.canvas.width,z-H)}_renderDecorationsLineHighlights(M,R,x,F,W){const H=new Map;for(let z=R.length-1;z>=0;z--){const j=R[z],K=j.options.minimap;if(!K||K.position!==1)continue;const U=F.intersectWithViewport(j.range);if(!U)continue;const[G,te]=U,ee=K.getColor(this._theme.value);if(!ee||ee.isTransparent())continue;let Y=H.get(ee.toString());Y||(Y=ee.transparent(.5).toString(),H.set(ee.toString(),Y)),M.fillStyle=Y;for(let P=G;P<=te;P++){if(x.has(P))continue;x.set(P,!0);const Z=F.getYForLineNumber(G,W);M.fillRect(C.MINIMAP_GUTTER_WIDTH,Z,M.canvas.width,W)}}}_renderSelectionsHighlights(M,R,x,F,W,H,z,j){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const K of R){const U=F.intersectWithViewport(K);if(!U)continue;const[G,te]=U;for(let ee=G;ee<=te;ee++)this.renderDecorationOnLine(M,x,K,this._selectionColor,F,ee,W,W,H,z,j)}}_renderDecorationsHighlights(M,R,x,F,W,H,z,j){for(const K of R){const U=K.options.minimap;if(!U)continue;const G=F.intersectWithViewport(K.range);if(!G)continue;const[te,ee]=G,Y=U.getColor(this._theme.value);if(!(!Y||Y.isTransparent()))for(let P=te;P<=ee;P++)switch(U.position){case 1:this.renderDecorationOnLine(M,x,K.range,Y,F,P,W,W,H,z,j);continue;case 2:{const Z=F.getYForLineNumber(P,W);this.renderDecoration(M,Y,2,Z,g,W);continue}}}}renderDecorationOnLine(M,R,x,F,W,H,z,j,K,U,G){const te=W.getYForLineNumber(H,j);if(te+z<0||te>this._model.options.canvasInnerHeight)return;const{startLineNumber:ee,endLineNumber:Y}=x,P=ee===H?x.startColumn:1,Z=Y===H?x.endColumn:this._model.getLineMaxColumn(H),re=this.getXOffsetForPosition(R,H,P,K,U,G),ce=this.getXOffsetForPosition(R,H,Z,K,U,G);this.renderDecoration(M,F,re,te,ce-re,z)}getXOffsetForPosition(M,R,x,F,W,H){if(x===1)return C.MINIMAP_GUTTER_WIDTH;if((x-1)*W>=H)return H;let j=M.get(R);if(!j){const K=this._model.getLineContent(R);j=[C.MINIMAP_GUTTER_WIDTH];let U=C.MINIMAP_GUTTER_WIDTH;for(let G=1;G<K.length+1;G++){const te=K.charCodeAt(G-1),ee=te===9?F*W:p.isFullWidthCharacter(te)?2*W:W,Y=U+ee;if(Y>=H){j[G]=H;break}j[G]=Y,U=Y}M.set(R,j)}return x-1<j.length?j[x-1]:H}renderDecoration(M,R,x,F,W,H){M.fillStyle=R&&R.toString()||"",M.fillRect(x,F,W,H)}_renderSectionHeaders(M){var R;const x=this._model.options.minimapLineHeight,F=this._model.options.sectionHeaderFontSize,W=F*1.5,{canvasInnerWidth:H}=this._model.options,z=this._model.options.backgroundColor,j=`rgb(${z.r} ${z.g} ${z.b} / .7)`,K=this._model.options.sectionHeaderFontColor,U=`rgb(${K.r} ${K.g} ${K.b})`,G=U,te=this._decorationsCanvas.domNode.getContext("2d");te.font=F+"px "+this._model.options.sectionHeaderFontFamily,te.strokeStyle=G,te.lineWidth=.2;const ee=this._model.getSectionHeaderDecorationsInViewport(M.startLineNumber,M.endLineNumber);ee.sort((P,Z)=>P.range.startLineNumber-Z.range.startLineNumber);const Y=N._fitSectionHeader.bind(null,te,H-C.MINIMAP_GUTTER_WIDTH);for(const P of ee){const Z=M.getYForLineNumber(P.range.startLineNumber,x)+F,re=Z-F,ce=re+2,he=this._model.getSectionHeaderText(P,Y);N._renderSectionLabel(te,he,((R=P.options.minimap)===null||R===void 0?void 0:R.sectionHeaderStyle)===2,j,U,H,re,W,Z,ce)}}static _fitSectionHeader(M,R,x){if(!x)return x;const F="\u2026",W=M.measureText(x).width,H=M.measureText(F).width;if(W<=R||W<=H)return x;const z=x.length,j=W/x.length,K=Math.floor((R-H)/j)-1;let U=Math.ceil(K/2);for(;U>0&&/\s/.test(x[U-1]);)--U;return x.substring(0,U)+F+x.substring(z-(K-U))}static _renderSectionLabel(M,R,x,F,W,H,z,j,K,U){R&&(M.fillStyle=F,M.fillRect(0,z,H,j),M.fillStyle=W,M.fillText(R,C.MINIMAP_GUTTER_WIDTH,K)),x&&(M.beginPath(),M.moveTo(0,U),M.lineTo(H,U),M.closePath(),M.stroke())}renderLines(M){const R=M.startLineNumber,x=M.endLineNumber,F=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(M)){const de=this._lastRenderData._get();return new S(M,de.imageData,de.lines)}const W=this._getBuffer();if(!W)return null;const[H,z,j]=N._renderUntouchedLines(W,M.topPaddingLineCount,R,x,F,this._lastRenderData),K=this._model.getMinimapLinesRenderingData(R,x,j),U=this._model.getOptions().tabSize,G=this._model.options.defaultBackgroundColor,te=this._model.options.backgroundColor,ee=this._model.options.foregroundAlpha,Y=this._model.tokensColorTracker,P=Y.backgroundIsLight(),Z=this._model.options.renderMinimap,re=this._model.options.charRenderer(),ce=this._model.options.fontScale,he=this._model.options.minimapCharWidth,ge=(Z===1?2:3)*ce,X=F>ge?Math.floor((F-ge)/2):0,ae=te.a/255,oe=new s.RGBA8(Math.round((te.r-G.r)*ae+G.r),Math.round((te.g-G.g)*ae+G.g),Math.round((te.b-G.b)*ae+G.b),255);let B=M.topPaddingLineCount*F;const q=[];for(let de=0,le=x-R+1;de<le;de++)j[de]&&N._renderLine(W,oe,te.a,P,Z,he,Y,ee,re,B,X,U,K[de],ce,F),q[de]=new _(B),B+=F;const V=H===-1?0:H,J=(z===-1?W.height:z)-V;return this._canvas.domNode.getContext("2d").putImageData(W,0,0,0,V,W.width,J),new S(M,W,q)}static _renderUntouchedLines(M,R,x,F,W,H){const z=[];if(!H){for(let B=0,q=F-x+1;B<q;B++)z[B]=!0;return[-1,-1,z]}const j=H._get(),K=j.imageData.data,U=j.rendLineNumberStart,G=j.lines,te=G.length,ee=M.width,Y=M.data,P=(F-x+1)*W*ee*4;let Z=-1,re=-1,ce=-1,he=-1,pe=-1,ge=-1,X=R*W;for(let B=x;B<=F;B++){const q=B-x,V=B-U,$=V>=0&&V<te?G[V].dy:-1;if($===-1){z[q]=!0,X+=W;continue}const J=$*ee*4,se=($+W)*ee*4,de=X*ee*4,le=(X+W)*ee*4;he===J&&ge===de?(he=se,ge=le):(ce!==-1&&(Y.set(K.subarray(ce,he),pe),Z===-1&&ce===0&&ce===pe&&(Z=he),re===-1&&he===P&&ce===pe&&(re=ce)),ce=J,he=se,pe=de,ge=le),z[q]=!1,X+=W}ce!==-1&&(Y.set(K.subarray(ce,he),pe),Z===-1&&ce===0&&ce===pe&&(Z=he),re===-1&&he===P&&ce===pe&&(re=ce));const ae=Z===-1?-1:Z/(ee*4),oe=re===-1?-1:re/(ee*4);return[ae,oe,z]}static _renderLine(M,R,x,F,W,H,z,j,K,U,G,te,ee,Y,P){const Z=ee.content,re=ee.tokens,ce=M.width-H,he=P===1;let pe=C.MINIMAP_GUTTER_WIDTH,ge=0,X=0;for(let ae=0,oe=re.getCount();ae<oe;ae++){const B=re.getEndOffset(ae),q=re.getForeground(ae),V=z.getColor(q);for(;ge<B;ge++){if(pe>ce)return;const $=Z.charCodeAt(ge);if($===9){const J=te-(ge+X)%te;X+=J-1,pe+=J*H}else if($===32)pe+=H;else{const J=p.isFullWidthCharacter($)?2:1;for(let se=0;se<J;se++)if(W===2?K.blockRenderChar(M,pe,U+G,V,j,R,x,he):K.renderChar(M,pe,U+G,$,V,j,R,x,Y,F,he),pe+=H,pe>ce)return}}}}}class A{constructor(M,R,x){this._startLineNumber=M,this._endLineNumber=R,this._defaultValue=x,this._values=[];for(let F=0,W=this._endLineNumber-this._startLineNumber+1;F<W;F++)this._values[F]=x}has(M){return this.get(M)!==this._defaultValue}set(M,R){M<this._startLineNumber||M>this._endLineNumber||(this._values[M-this._startLineNumber]=R)}get(M){return M<this._startLineNumber||M>this._endLineNumber?this._defaultValue:this._values[M-this._startLineNumber]}}}),define(ie[886],ne([1,0,674,33]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.multiDiffEditorBorder=e.multiDiffEditorBackground=e.multiDiffEditorHeaderBackground=void 0,e.multiDiffEditorHeaderBackground=(0,k.registerColor)("multiDiffEditor.headerBackground",{dark:"#262626",light:"tab.inactiveBackground",hcDark:"tab.inactiveBackground",hcLight:"tab.inactiveBackground"},(0,f.localize)(0,null)),e.multiDiffEditorBackground=(0,k.registerColor)("multiDiffEditor.background",{dark:"editorBackground",light:"editorBackground",hcDark:"editorBackground",hcLight:"editorBackground"},(0,f.localize)(1,null)),e.multiDiffEditorBorder=(0,k.registerColor)("multiDiffEditor.border",{dark:"sideBarSectionHeader.border",light:"#cccccc",hcDark:"sideBarSectionHeader.border",hcLight:"#cccccc"},(0,f.localize)(2,null))}),define(ie[273],ne([1,0,761,33,509]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SYMBOL_ICON_VARIABLE_FOREGROUND=e.SYMBOL_ICON_UNIT_FOREGROUND=e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=e.SYMBOL_ICON_TEXT_FOREGROUND=e.SYMBOL_ICON_STRUCT_FOREGROUND=e.SYMBOL_ICON_STRING_FOREGROUND=e.SYMBOL_ICON_SNIPPET_FOREGROUND=e.SYMBOL_ICON_REFERENCE_FOREGROUND=e.SYMBOL_ICON_PROPERTY_FOREGROUND=e.SYMBOL_ICON_PACKAGE_FOREGROUND=e.SYMBOL_ICON_OPERATOR_FOREGROUND=e.SYMBOL_ICON_OBJECT_FOREGROUND=e.SYMBOL_ICON_NUMBER_FOREGROUND=e.SYMBOL_ICON_NULL_FOREGROUND=e.SYMBOL_ICON_NAMESPACE_FOREGROUND=e.SYMBOL_ICON_MODULE_FOREGROUND=e.SYMBOL_ICON_METHOD_FOREGROUND=e.SYMBOL_ICON_KEYWORD_FOREGROUND=e.SYMBOL_ICON_KEY_FOREGROUND=e.SYMBOL_ICON_INTERFACE_FOREGROUND=e.SYMBOL_ICON_FUNCTION_FOREGROUND=e.SYMBOL_ICON_FOLDER_FOREGROUND=e.SYMBOL_ICON_FILE_FOREGROUND=e.SYMBOL_ICON_FIELD_FOREGROUND=e.SYMBOL_ICON_EVENT_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=e.SYMBOL_ICON_CONSTANT_FOREGROUND=e.SYMBOL_ICON_COLOR_FOREGROUND=e.SYMBOL_ICON_CLASS_FOREGROUND=e.SYMBOL_ICON_BOOLEAN_FOREGROUND=e.SYMBOL_ICON_ARRAY_FOREGROUND=void 0,e.SYMBOL_ICON_ARRAY_FOREGROUND=(0,k.registerColor)("symbolIcon.arrayForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(0,null)),e.SYMBOL_ICON_BOOLEAN_FOREGROUND=(0,k.registerColor)("symbolIcon.booleanForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(1,null)),e.SYMBOL_ICON_CLASS_FOREGROUND=(0,k.registerColor)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(2,null)),e.SYMBOL_ICON_COLOR_FOREGROUND=(0,k.registerColor)("symbolIcon.colorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(3,null)),e.SYMBOL_ICON_CONSTANT_FOREGROUND=(0,k.registerColor)("symbolIcon.constantForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(4,null)),e.SYMBOL_ICON_CONSTRUCTOR_FOREGROUND=(0,k.registerColor)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(5,null)),e.SYMBOL_ICON_ENUMERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(6,null)),e.SYMBOL_ICON_ENUMERATOR_MEMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(7,null)),e.SYMBOL_ICON_EVENT_FOREGROUND=(0,k.registerColor)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,f.localize)(8,null)),e.SYMBOL_ICON_FIELD_FOREGROUND=(0,k.registerColor)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(9,null)),e.SYMBOL_ICON_FILE_FOREGROUND=(0,k.registerColor)("symbolIcon.fileForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(10,null)),e.SYMBOL_ICON_FOLDER_FOREGROUND=(0,k.registerColor)("symbolIcon.folderForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(11,null)),e.SYMBOL_ICON_FUNCTION_FOREGROUND=(0,k.registerColor)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(12,null)),e.SYMBOL_ICON_INTERFACE_FOREGROUND=(0,k.registerColor)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(13,null)),e.SYMBOL_ICON_KEY_FOREGROUND=(0,k.registerColor)("symbolIcon.keyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(14,null)),e.SYMBOL_ICON_KEYWORD_FOREGROUND=(0,k.registerColor)("symbolIcon.keywordForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(15,null)),e.SYMBOL_ICON_METHOD_FOREGROUND=(0,k.registerColor)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,f.localize)(16,null)),e.SYMBOL_ICON_MODULE_FOREGROUND=(0,k.registerColor)("symbolIcon.moduleForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(17,null)),e.SYMBOL_ICON_NAMESPACE_FOREGROUND=(0,k.registerColor)("symbolIcon.namespaceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(18,null)),e.SYMBOL_ICON_NULL_FOREGROUND=(0,k.registerColor)("symbolIcon.nullForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(19,null)),e.SYMBOL_ICON_NUMBER_FOREGROUND=(0,k.registerColor)("symbolIcon.numberForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(20,null)),e.SYMBOL_ICON_OBJECT_FOREGROUND=(0,k.registerColor)("symbolIcon.objectForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(21,null)),e.SYMBOL_ICON_OPERATOR_FOREGROUND=(0,k.registerColor)("symbolIcon.operatorForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(22,null)),e.SYMBOL_ICON_PACKAGE_FOREGROUND=(0,k.registerColor)("symbolIcon.packageForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(23,null)),e.SYMBOL_ICON_PROPERTY_FOREGROUND=(0,k.registerColor)("symbolIcon.propertyForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(24,null)),e.SYMBOL_ICON_REFERENCE_FOREGROUND=(0,k.registerColor)("symbolIcon.referenceForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(25,null)),e.SYMBOL_ICON_SNIPPET_FOREGROUND=(0,k.registerColor)("symbolIcon.snippetForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(26,null)),e.SYMBOL_ICON_STRING_FOREGROUND=(0,k.registerColor)("symbolIcon.stringForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(27,null)),e.SYMBOL_ICON_STRUCT_FOREGROUND=(0,k.registerColor)("symbolIcon.structForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(28,null)),e.SYMBOL_ICON_TEXT_FOREGROUND=(0,k.registerColor)("symbolIcon.textForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(29,null)),e.SYMBOL_ICON_TYPEPARAMETER_FOREGROUND=(0,k.registerColor)("symbolIcon.typeParameterForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(30,null)),e.SYMBOL_ICON_UNIT_FOREGROUND=(0,k.registerColor)("symbolIcon.unitForeground",{dark:k.foreground,light:k.foreground,hcDark:k.foreground,hcLight:k.foreground},(0,f.localize)(31,null)),e.SYMBOL_ICON_VARIABLE_FOREGROUND=(0,k.registerColor)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,f.localize)(32,null))}),define(ie[887],ne([1,0,26,129,698,88,190,273]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toMenuItems=w;const y=Object.freeze({kind:D.HierarchicalKind.Empty,title:(0,E.localize)(0,null)}),p=Object.freeze([{kind:k.CodeActionKind.QuickFix,title:(0,E.localize)(1,null)},{kind:k.CodeActionKind.RefactorExtract,title:(0,E.localize)(2,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorInline,title:(0,E.localize)(3,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorRewrite,title:(0,E.localize)(4,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.RefactorMove,title:(0,E.localize)(5,null),icon:f.Codicon.wrench},{kind:k.CodeActionKind.SurroundWith,title:(0,E.localize)(6,null),icon:f.Codicon.surroundWith},{kind:k.CodeActionKind.Source,title:(0,E.localize)(7,null),icon:f.Codicon.symbolFile},y]);function w(b,C,o){if(!C)return b.map(t=>{var n;return{kind:"action",item:t,group:y,disabled:!!t.action.disabled,label:t.action.disabled||t.action.title,canPreview:!!(!((n=t.action.edit)===null||n===void 0)&&n.edits.length)}});const s=p.map(t=>({group:t,actions:[]}));for(const t of b){const n=t.action.kind?new D.HierarchicalKind(t.action.kind):D.HierarchicalKind.None;for(const c of s)if(c.group.kind.contains(n)){c.actions.push(t);break}}const i=[];for(const t of s)if(t.actions.length){i.push({kind:"header",group:t.group});for(const n of t.actions){const c=t.group;i.push({kind:"action",item:n,group:n.action.isAI?{title:c.title,kind:c.kind,icon:f.Codicon.sparkle}:c,label:n.action.title,disabled:!!n.action.disabled,keybinding:o(n.action)})}}return i}}),define(ie[106],ne([1,0,33,35]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultMenuStyles=e.defaultSelectBoxStyles=e.defaultListStyles=e.defaultBreadcrumbsWidgetStyles=e.defaultCountBadgeStyles=e.defaultFindWidgetStyles=e.defaultInputBoxStyles=e.defaultDialogStyles=e.defaultCheckboxStyles=e.defaultToggleStyles=e.defaultProgressBarStyles=e.defaultButtonStyles=e.defaultKeybindingLabelStyles=void 0,e.getListStyles=D;function E(y,p){const w={...p};for(const b in y){const C=y[b];w[b]=C!==void 0?(0,f.asCssVariable)(C):void 0}return w}e.defaultKeybindingLabelStyles={keybindingLabelBackground:(0,f.asCssVariable)(f.keybindingLabelBackground),keybindingLabelForeground:(0,f.asCssVariable)(f.keybindingLabelForeground),keybindingLabelBorder:(0,f.asCssVariable)(f.keybindingLabelBorder),keybindingLabelBottomBorder:(0,f.asCssVariable)(f.keybindingLabelBottomBorder),keybindingLabelShadow:(0,f.asCssVariable)(f.widgetShadow)},e.defaultButtonStyles={buttonForeground:(0,f.asCssVariable)(f.buttonForeground),buttonSeparator:(0,f.asCssVariable)(f.buttonSeparator),buttonBackground:(0,f.asCssVariable)(f.buttonBackground),buttonHoverBackground:(0,f.asCssVariable)(f.buttonHoverBackground),buttonSecondaryForeground:(0,f.asCssVariable)(f.buttonSecondaryForeground),buttonSecondaryBackground:(0,f.asCssVariable)(f.buttonSecondaryBackground),buttonSecondaryHoverBackground:(0,f.asCssVariable)(f.buttonSecondaryHoverBackground),buttonBorder:(0,f.asCssVariable)(f.buttonBorder)},e.defaultProgressBarStyles={progressBarBackground:(0,f.asCssVariable)(f.progressBarBackground)},e.defaultToggleStyles={inputActiveOptionBorder:(0,f.asCssVariable)(f.inputActiveOptionBorder),inputActiveOptionForeground:(0,f.asCssVariable)(f.inputActiveOptionForeground),inputActiveOptionBackground:(0,f.asCssVariable)(f.inputActiveOptionBackground)},e.defaultCheckboxStyles={checkboxBackground:(0,f.asCssVariable)(f.checkboxBackground),checkboxBorder:(0,f.asCssVariable)(f.checkboxBorder),checkboxForeground:(0,f.asCssVariable)(f.checkboxForeground)},e.defaultDialogStyles={dialogBackground:(0,f.asCssVariable)(f.editorWidgetBackground),dialogForeground:(0,f.asCssVariable)(f.editorWidgetForeground),dialogShadow:(0,f.asCssVariable)(f.widgetShadow),dialogBorder:(0,f.asCssVariable)(f.contrastBorder),errorIconForeground:(0,f.asCssVariable)(f.problemsErrorIconForeground),warningIconForeground:(0,f.asCssVariable)(f.problemsWarningIconForeground),infoIconForeground:(0,f.asCssVariable)(f.problemsInfoIconForeground),textLinkForeground:(0,f.asCssVariable)(f.textLinkForeground)},e.defaultInputBoxStyles={inputBackground:(0,f.asCssVariable)(f.inputBackground),inputForeground:(0,f.asCssVariable)(f.inputForeground),inputBorder:(0,f.asCssVariable)(f.inputBorder),inputValidationInfoBorder:(0,f.asCssVariable)(f.inputValidationInfoBorder),inputValidationInfoBackground:(0,f.asCssVariable)(f.inputValidationInfoBackground),inputValidationInfoForeground:(0,f.asCssVariable)(f.inputValidationInfoForeground),inputValidationWarningBorder:(0,f.asCssVariable)(f.inputValidationWarningBorder),inputValidationWarningBackground:(0,f.asCssVariable)(f.inputValidationWarningBackground),inputValidationWarningForeground:(0,f.asCssVariable)(f.inputValidationWarningForeground),inputValidationErrorBorder:(0,f.asCssVariable)(f.inputValidationErrorBorder),inputValidationErrorBackground:(0,f.asCssVariable)(f.inputValidationErrorBackground),inputValidationErrorForeground:(0,f.asCssVariable)(f.inputValidationErrorForeground)},e.defaultFindWidgetStyles={listFilterWidgetBackground:(0,f.asCssVariable)(f.listFilterWidgetBackground),listFilterWidgetOutline:(0,f.asCssVariable)(f.listFilterWidgetOutline),listFilterWidgetNoMatchesOutline:(0,f.asCssVariable)(f.listFilterWidgetNoMatchesOutline),listFilterWidgetShadow:(0,f.asCssVariable)(f.listFilterWidgetShadow),inputBoxStyles:e.defaultInputBoxStyles,toggleStyles:e.defaultToggleStyles},e.defaultCountBadgeStyles={badgeBackground:(0,f.asCssVariable)(f.badgeBackground),badgeForeground:(0,f.asCssVariable)(f.badgeForeground),badgeBorder:(0,f.asCssVariable)(f.contrastBorder)},e.defaultBreadcrumbsWidgetStyles={breadcrumbsBackground:(0,f.asCssVariable)(f.breadcrumbsBackground),breadcrumbsForeground:(0,f.asCssVariable)(f.breadcrumbsForeground),breadcrumbsHoverForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusForeground:(0,f.asCssVariable)(f.breadcrumbsFocusForeground),breadcrumbsFocusAndSelectionForeground:(0,f.asCssVariable)(f.breadcrumbsActiveSelectionForeground)},e.defaultListStyles={listBackground:void 0,listInactiveFocusForeground:void 0,listFocusBackground:(0,f.asCssVariable)(f.listFocusBackground),listFocusForeground:(0,f.asCssVariable)(f.listFocusForeground),listFocusOutline:(0,f.asCssVariable)(f.listFocusOutline),listActiveSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listActiveSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listActiveSelectionIconForeground:(0,f.asCssVariable)(f.listActiveSelectionIconForeground),listFocusAndSelectionOutline:(0,f.asCssVariable)(f.listFocusAndSelectionOutline),listFocusAndSelectionBackground:(0,f.asCssVariable)(f.listActiveSelectionBackground),listFocusAndSelectionForeground:(0,f.asCssVariable)(f.listActiveSelectionForeground),listInactiveSelectionBackground:(0,f.asCssVariable)(f.listInactiveSelectionBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.listInactiveSelectionIconForeground),listInactiveSelectionForeground:(0,f.asCssVariable)(f.listInactiveSelectionForeground),listInactiveFocusBackground:(0,f.asCssVariable)(f.listInactiveFocusBackground),listInactiveFocusOutline:(0,f.asCssVariable)(f.listInactiveFocusOutline),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listDropOverBackground:(0,f.asCssVariable)(f.listDropOverBackground),listDropBetweenBackground:(0,f.asCssVariable)(f.listDropBetweenBackground),listSelectionOutline:(0,f.asCssVariable)(f.activeContrastBorder),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),treeIndentGuidesStroke:(0,f.asCssVariable)(f.treeIndentGuidesStroke),treeInactiveIndentGuidesStroke:(0,f.asCssVariable)(f.treeInactiveIndentGuidesStroke),treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0,tableColumnsBorder:(0,f.asCssVariable)(f.tableColumnsBorder),tableOddRowsBackgroundColor:(0,f.asCssVariable)(f.tableOddRowsBackgroundColor)};function D(y){return E(y,e.defaultListStyles)}e.defaultSelectBoxStyles={selectBackground:(0,f.asCssVariable)(f.selectBackground),selectListBackground:(0,f.asCssVariable)(f.selectListBackground),selectForeground:(0,f.asCssVariable)(f.selectForeground),decoratorRightForeground:(0,f.asCssVariable)(f.pickerGroupForeground),selectBorder:(0,f.asCssVariable)(f.selectBorder),focusBorder:(0,f.asCssVariable)(f.focusBorder),listFocusBackground:(0,f.asCssVariable)(f.quickInputListFocusBackground),listInactiveSelectionIconForeground:(0,f.asCssVariable)(f.quickInputListFocusIconForeground),listFocusForeground:(0,f.asCssVariable)(f.quickInputListFocusForeground),listFocusOutline:(0,f.asCssVariableWithDefault)(f.activeContrastBorder,k.Color.transparent.toString()),listHoverBackground:(0,f.asCssVariable)(f.listHoverBackground),listHoverForeground:(0,f.asCssVariable)(f.listHoverForeground),listHoverOutline:(0,f.asCssVariable)(f.activeContrastBorder),selectListBorder:(0,f.asCssVariable)(f.editorWidgetBorder),listBackground:void 0,listActiveSelectionBackground:void 0,listActiveSelectionForeground:void 0,listActiveSelectionIconForeground:void 0,listFocusAndSelectionBackground:void 0,listDropOverBackground:void 0,listDropBetweenBackground:void 0,listInactiveSelectionBackground:void 0,listInactiveSelectionForeground:void 0,listInactiveFocusBackground:void 0,listInactiveFocusOutline:void 0,listSelectionOutline:void 0,listFocusAndSelectionForeground:void 0,listFocusAndSelectionOutline:void 0,listInactiveFocusForeground:void 0,tableColumnsBorder:void 0,tableOddRowsBackgroundColor:void 0,treeIndentGuidesStroke:void 0,treeInactiveIndentGuidesStroke:void 0,treeStickyScrollBackground:void 0,treeStickyScrollBorder:void 0,treeStickyScrollShadow:void 0},e.defaultMenuStyles={shadowColor:(0,f.asCssVariable)(f.widgetShadow),borderColor:(0,f.asCssVariable)(f.menuBorder),foregroundColor:(0,f.asCssVariable)(f.menuForeground),backgroundColor:(0,f.asCssVariable)(f.menuBackground),selectionForegroundColor:(0,f.asCssVariable)(f.menuSelectionForeground),selectionBackgroundColor:(0,f.asCssVariable)(f.menuSelectionBackground),selectionBorderColor:(0,f.asCssVariable)(f.menuSelectionBorder),separatorColor:(0,f.asCssVariable)(f.menuSeparatorBackground),scrollbarShadow:(0,f.asCssVariable)(f.scrollbarShadow),scrollbarSliderBackground:(0,f.asCssVariable)(f.scrollbarSliderBackground),scrollbarSliderHoverBackground:(0,f.asCssVariable)(f.scrollbarSliderHoverBackground),scrollbarSliderActiveBackground:(0,f.asCssVariable)(f.scrollbarSliderActiveBackground)}}),define(ie[888],ne([1,0,6,341,342,247,78,2,50,74,723,8,32,175,106,172]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibilityProvider=e.OneReferenceRenderer=e.FileReferencesRenderer=e.IdentityProvider=e.StringRepresentationProvider=e.Delegate=e.DataSource=void 0;let m=class{constructor(S){this._resolverService=S}hasChildren(S){return S instanceof n.ReferencesModel||S instanceof n.FileReferences}getChildren(S){if(S instanceof n.ReferencesModel)return S.groups;if(S instanceof n.FileReferences)return S.resolve(this._resolverService).then(L=>L.children);throw new Error("bad tree")}};e.DataSource=m,e.DataSource=m=Ie([ue(0,b.ITextModelService)],m);class u{getHeight(){return 23}getTemplateId(S){return S instanceof n.FileReferences?l.id:d.id}}e.Delegate=u;let r=class{constructor(S){this._keybindingService=S}getKeyboardNavigationLabel(S){var L;if(S instanceof n.OneReference){const I=(L=S.parent.getPreview(S))===null||L===void 0?void 0:L.preview(S.range);if(I)return I.value}return(0,w.basename)(S.uri)}};e.StringRepresentationProvider=r,e.StringRepresentationProvider=r=Ie([ue(0,s.IKeybindingService)],r);class a{getId(S){return S instanceof n.OneReference?S.id:S.uri}}e.IdentityProvider=a;let h=class extends p.Disposable{constructor(S,L){super(),this._labelService=L;const I=document.createElement("div");I.classList.add("reference-file"),this.file=this._register(new D.IconLabel(I,{supportHighlights:!0})),this.badge=new k.CountBadge(f.append(I,f.$(".count")),{},t.defaultCountBadgeStyles),S.appendChild(I)}set(S,L){const I=(0,w.dirname)(S.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(S.uri),this._labelService.getUriLabel(I,{relative:!0}),{title:this._labelService.getUriLabel(S.uri),matches:L});const T=S.children.length;this.badge.setCount(T),T>1?this.badge.setTitleFormat((0,C.localize)(0,null,T)):this.badge.setTitleFormat((0,C.localize)(1,null,T))}};h=Ie([ue(1,i.ILabelService)],h);let l=c=class{constructor(S){this._instantiationService=S,this.templateId=c.id}renderTemplate(S){return this._instantiationService.createInstance(h,S)}renderElement(S,L,I){I.set(S.element,(0,y.createMatches)(S.filterData))}disposeTemplate(S){S.dispose()}};e.FileReferencesRenderer=l,l.id="FileReferencesRenderer",e.FileReferencesRenderer=l=c=Ie([ue(0,o.IInstantiationService)],l);class g extends p.Disposable{constructor(S){super(),this.label=this._register(new E.HighlightedLabel(S))}set(S,L){var I;const T=(I=S.parent.getPreview(S))===null||I===void 0?void 0:I.preview(S.range);if(!T||!T.value)this.label.set(`${(0,w.basename)(S.uri)}:${S.range.startLineNumber+1}:${S.range.startColumn+1}`);else{const{value:N,highlight:A}=T;L&&!y.FuzzyScore.isDefault(L)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(N,(0,y.createMatches)(L))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(N,[A]))}}}class d{constructor(){this.templateId=d.id}renderTemplate(S){return new g(S)}renderElement(S,L,I){I.set(S.element,S.filterData)}disposeTemplate(S){S.dispose()}}e.OneReferenceRenderer=d,d.id="OneReferenceRenderer";class v{getWidgetAriaLabel(){return(0,C.localize)(2,null)}getAriaLabel(S){return S.ariaMessage}}e.AccessibilityProvider=v}),define(ie[889],ne([1,0,6,200,111,19,26,2,17,31,771,58,32,106,33,298]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ActionList=e.previewSelectedActionCommand=e.acceptSelectedActionCommand=void 0,e.acceptSelectedActionCommand="acceptSelectedCodeAction",e.previewSelectedActionCommand="previewSelectedCodeAction";class n{get templateId(){return"header"}renderTemplate(g){g.classList.add("group-header");const d=document.createElement("span");return g.append(d),{container:g,text:d}}renderElement(g,d,v){var _,S;v.text.textContent=(S=(_=g.group)===null||_===void 0?void 0:_.title)!==null&&S!==void 0?S:""}disposeTemplate(g){}}let c=class{get templateId(){return"action"}constructor(g,d){this._supportsPreview=g,this._keybindingService=d}renderTemplate(g){g.classList.add(this.templateId);const d=document.createElement("div");d.className="icon",g.append(d);const v=document.createElement("span");v.className="title",g.append(v);const _=new k.KeybindingLabel(g,w.OS);return{container:g,icon:d,text:v,keybinding:_}}renderElement(g,d,v){var _,S,L;if(!((_=g.group)===null||_===void 0)&&_.icon?(v.icon.className=b.ThemeIcon.asClassName(g.group.icon),g.group.icon.color&&(v.icon.style.color=(0,t.asCssVariable)(g.group.icon.color.id))):(v.icon.className=b.ThemeIcon.asClassName(y.Codicon.lightBulb),v.icon.style.color="var(--vscode-editorLightBulb-foreground)"),!g.item||!g.label)return;v.text.textContent=h(g.label),v.keybinding.set(g.keybinding),f.setVisibility(!!g.keybinding,v.keybinding.element);const I=(S=this._keybindingService.lookupKeybinding(e.acceptSelectedActionCommand))===null||S===void 0?void 0:S.getLabel(),T=(L=this._keybindingService.lookupKeybinding(e.previewSelectedActionCommand))===null||L===void 0?void 0:L.getLabel();v.container.classList.toggle("option-disabled",g.disabled),g.disabled?v.container.title=g.label:I&&T?this._supportsPreview&&g.canPreview?v.container.title=(0,C.localize)(0,null,I,T):v.container.title=(0,C.localize)(1,null,I):v.container.title=""}disposeTemplate(g){g.keybinding.dispose()}};c=Ie([ue(1,s.IKeybindingService)],c);class m extends UIEvent{constructor(){super("acceptSelectedAction")}}class u extends UIEvent{constructor(){super("previewSelectedAction")}}function r(l){if(l.kind==="action")return l.label}let a=class extends p.Disposable{constructor(g,d,v,_,S,L){super(),this._delegate=_,this._contextViewService=S,this._keybindingService=L,this._actionLineHeight=24,this._headerLineHeight=26,this.cts=this._register(new D.CancellationTokenSource),this.domNode=document.createElement("div"),this.domNode.classList.add("actionList");const I={getHeight:T=>T.kind==="header"?this._headerLineHeight:this._actionLineHeight,getTemplateId:T=>T.kind};this._list=this._register(new E.List(g,this.domNode,I,[new c(d,this._keybindingService),new n],{keyboardSupport:!1,typeNavigationEnabled:!0,keyboardNavigationLabelProvider:{getKeyboardNavigationLabel:r},accessibilityProvider:{getAriaLabel:T=>{if(T.kind==="action"){let N=T.label?h(T?.label):"";return T.disabled&&(N=(0,C.localize)(2,null,N,T.disabled)),N}return null},getWidgetAriaLabel:()=>(0,C.localize)(3,null),getRole:T=>T.kind==="action"?"option":"separator",getWidgetRole:()=>"listbox"}})),this._list.style(i.defaultListStyles),this._register(this._list.onMouseClick(T=>this.onListClick(T))),this._register(this._list.onMouseOver(T=>this.onListHover(T))),this._register(this._list.onDidChangeFocus(()=>this.onFocus())),this._register(this._list.onDidChangeSelection(T=>this.onListSelection(T))),this._allMenuItems=v,this._list.splice(0,this._list.length,this._allMenuItems),this._list.length&&this.focusNext()}focusCondition(g){return!g.disabled&&g.kind==="action"}hide(g){this._delegate.onHide(g),this.cts.cancel(),this._contextViewService.hideContextView()}layout(g){const d=this._allMenuItems.filter(T=>T.kind==="header").length,_=this._allMenuItems.length*this._actionLineHeight+d*this._headerLineHeight-d*this._actionLineHeight;this._list.layout(_);let S=g;if(this._allMenuItems.length>=50)S=380;else{const T=this._allMenuItems.map((N,A)=>{const O=this.domNode.ownerDocument.getElementById(this._list.getElementID(A));if(O){O.style.width="auto";const M=O.getBoundingClientRect().width;return O.style.width="",M}return 0});S=Math.max(...T,g)}const I=Math.min(_,this.domNode.ownerDocument.body.clientHeight*.7);return this._list.layout(I,S),this.domNode.style.height=`${I}px`,this._list.domFocus(),S}focusPrevious(){this._list.focusPrevious(1,!0,void 0,this.focusCondition)}focusNext(){this._list.focusNext(1,!0,void 0,this.focusCondition)}acceptSelected(g){const d=this._list.getFocus();if(d.length===0)return;const v=d[0],_=this._list.element(v);if(!this.focusCondition(_))return;const S=g?new u:new m;this._list.setSelection([v],S)}onListSelection(g){if(!g.elements.length)return;const d=g.elements[0];d.item&&this.focusCondition(d)?this._delegate.onSelect(d.item,g.browserEvent instanceof u):this._list.setSelection([])}onFocus(){var g,d;const v=this._list.getFocus();if(v.length===0)return;const _=v[0],S=this._list.element(_);(d=(g=this._delegate).onFocus)===null||d===void 0||d.call(g,S.item)}async onListHover(g){const d=g.element;if(d&&d.item&&this.focusCondition(d)){if(this._delegate.onHover&&!d.disabled&&d.kind==="action"){const v=await this._delegate.onHover(d.item,this.cts.token);d.canPreview=v?v.canPreview:void 0}g.index&&this._list.splice(g.index,1,[d])}this._list.setFocus(typeof g.index=="number"?[g.index]:[])}onListClick(g){g.element&&this.focusCondition(g.element)&&this._list.setFocus([])}};e.ActionList=a,e.ActionList=a=Ie([ue(4,o.IContextViewService),ue(5,s.IKeybindingService)],a);function h(l){return l.replace(/\r\n|\r|\n/g," ")}}),define(ie[890],ne([1,0,6,82,2,772,889,29,14,58,48,8,33,298]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IActionWidgetService=void 0,(0,s.registerColor)("actionBar.toggledBackground",{dark:s.inputActiveOptionBackground,light:s.inputActiveOptionBackground,hcDark:s.inputActiveOptionBackground,hcLight:s.inputActiveOptionBackground},(0,D.localize)(0,null));const i={Visible:new w.RawContextKey("codeActionMenuVisible",!1,(0,D.localize)(1,null))};e.IActionWidgetService=(0,o.createDecorator)("actionWidgetService");let t=class extends E.Disposable{get isVisible(){return i.Visible.getValue(this._contextKeyService)||!1}constructor(m,u,r){super(),this._contextViewService=m,this._contextKeyService=u,this._instantiationService=r,this._list=this._register(new E.MutableDisposable)}show(m,u,r,a,h,l,g){const d=i.Visible.bindTo(this._contextKeyService),v=this._instantiationService.createInstance(y.ActionList,m,u,r,a);this._contextViewService.showContextView({getAnchor:()=>h,render:_=>(d.set(!0),this._renderWidget(_,v,g??[])),onHide:_=>{d.reset(),this._onWidgetClosed(_)}},l,!1)}acceptSelected(m){var u;(u=this._list.value)===null||u===void 0||u.acceptSelected(m)}focusPrevious(){var m,u;(u=(m=this._list)===null||m===void 0?void 0:m.value)===null||u===void 0||u.focusPrevious()}focusNext(){var m,u;(u=(m=this._list)===null||m===void 0?void 0:m.value)===null||u===void 0||u.focusNext()}hide(m){var u;(u=this._list.value)===null||u===void 0||u.hide(m),this._list.clear()}_renderWidget(m,u,r){var a;const h=document.createElement("div");if(h.classList.add("action-widget"),m.appendChild(h),this._list.value=u,this._list.value)h.appendChild(this._list.value.domNode);else throw new Error("List has no value");const l=new E.DisposableStore,g=document.createElement("div"),d=m.appendChild(g);d.classList.add("context-view-block"),l.add(f.addDisposableListener(d,f.EventType.MOUSE_DOWN,T=>T.stopPropagation()));const v=document.createElement("div"),_=m.appendChild(v);_.classList.add("context-view-pointerBlock"),l.add(f.addDisposableListener(_,f.EventType.POINTER_MOVE,()=>_.remove())),l.add(f.addDisposableListener(_,f.EventType.MOUSE_DOWN,()=>_.remove()));let S=0;if(r.length){const T=this._createActionBar(".action-widget-action-bar",r);T&&(h.appendChild(T.getContainer().parentElement),l.add(T),S=T.getContainer().offsetWidth)}const L=(a=this._list.value)===null||a===void 0?void 0:a.layout(S);h.style.width=`${L}px`;const I=l.add(f.trackFocus(m));return l.add(I.onDidBlur(()=>this.hide(!0))),l}_createActionBar(m,u){if(!u.length)return;const r=f.$(m),a=new k.ActionBar(r);return a.push(u,{icon:!1,label:!0}),a}_onWidgetClosed(m){var u;(u=this._list.value)===null||u===void 0||u.hide(m)}};t=Ie([ue(0,b.IContextViewService),ue(1,w.IContextKeyService),ue(2,o.IInstantiationService)],t),(0,C.registerSingleton)(e.IActionWidgetService,t,1);const n=1100;(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"hideCodeActionWidget",title:(0,D.localize2)(2,"Hide action widget"),precondition:i.Visible,keybinding:{weight:n,primary:9,secondary:[1033]}})}run(c){c.get(e.IActionWidgetService).hide(!0)}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectPrevCodeAction",title:(0,D.localize2)(3,"Select previous action"),precondition:i.Visible,keybinding:{weight:n,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})}run(c){const m=c.get(e.IActionWidgetService);m instanceof t&&m.focusPrevious()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:"selectNextCodeAction",title:(0,D.localize2)(4,"Select next action"),precondition:i.Visible,keybinding:{weight:n,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})}run(c){const m=c.get(e.IActionWidgetService);m instanceof t&&m.focusNext()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:y.acceptSelectedActionCommand,title:(0,D.localize2)(5,"Accept selected action"),precondition:i.Visible,keybinding:{weight:n,primary:3,secondary:[2137]}})}run(c){const m=c.get(e.IActionWidgetService);m instanceof t&&m.acceptSelected()}}),(0,p.registerAction2)(class extends p.Action2{constructor(){super({id:y.previewSelectedActionCommand,title:(0,D.localize2)(6,"Preview selected action"),precondition:i.Visible,keybinding:{weight:n,primary:2051}})}run(c){const m=c.get(e.IActionWidgetService);m instanceof t&&m.acceptSelected(!0)}})}),define(ie[891],ne([1,0,6,73,634,41,10,2,106]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuHandler=void 0;class b{constructor(o,s,i,t){this.contextViewService=o,this.telemetryService=s,this.notificationService=i,this.keybindingService=t,this.focusToReturn=null,this.lastContainer=null,this.block=null,this.blockDisposable=null,this.options={blockMouse:!0}}configure(o){this.options=o}showContextMenu(o){const s=o.getActions();if(!s.length)return;this.focusToReturn=(0,f.getActiveElement)();let i;const t=o.domForShadowRoot instanceof HTMLElement?o.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>o.getAnchor(),canRelayout:!1,anchorAlignment:o.anchorAlignment,anchorAxisAlignment:o.anchorAxisAlignment,render:n=>{var c;this.lastContainer=n;const m=o.getMenuClassName?o.getMenuClassName():"";m&&(n.className+=" "+m),this.options.blockMouse&&(this.block=n.appendChild((0,f.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(c=this.blockDisposable)===null||c===void 0||c.dispose(),this.blockDisposable=(0,f.addDisposableListener)(this.block,f.EventType.MOUSE_DOWN,h=>h.stopPropagation()));const u=new p.DisposableStore,r=o.actionRunner||new D.ActionRunner;r.onWillRun(h=>this.onActionRun(h,!o.skipTelemetry),this,u),r.onDidRun(this.onDidActionRun,this,u),i=new E.Menu(n,s,{actionViewItemProvider:o.getActionViewItem,context:o.getActionsContext?o.getActionsContext():null,actionRunner:r,getKeyBinding:o.getKeyBinding?o.getKeyBinding:h=>this.keybindingService.lookupKeybinding(h.id)},w.defaultMenuStyles),i.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,u),i.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,u);const a=(0,f.getWindow)(n);return u.add((0,f.addDisposableListener)(a,f.EventType.BLUR,()=>this.contextViewService.hideContextView(!0))),u.add((0,f.addDisposableListener)(a,f.EventType.MOUSE_DOWN,h=>{if(h.defaultPrevented)return;const l=new k.StandardMouseEvent(a,h);let g=l.target;if(!l.rightButton){for(;g;){if(g===n)return;g=g.parentElement}this.contextViewService.hideContextView(!0)}})),(0,p.combinedDisposable)(u,i)},focus:()=>{i?.focus(!!o.autoSelectFirstItem)},onHide:n=>{var c,m,u;(c=o.onHide)===null||c===void 0||c.call(o,!!n),this.block&&(this.block.remove(),this.block=null),(m=this.blockDisposable)===null||m===void 0||m.dispose(),this.blockDisposable=null,this.lastContainer&&((0,f.getActiveElement)()===this.lastContainer||(0,f.isAncestor)((0,f.getActiveElement)(),this.lastContainer))&&((u=this.focusToReturn)===null||u===void 0||u.focus()),this.lastContainer=null}},t,!!t)}onActionRun(o,s){s&&this.telemetryService.publicLog2("workbenchActionExecuted",{id:o.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1)}onDidActionRun(o){o.error&&!(0,y.isCancellationError)(o.error)&&this.notificationService.error(o.error)}}e.ContextMenuHandler=b}),define(ie[208],ne([1,0,6,629,111,630,170,637,636,347,7,2,783,27,105,14,204,58,8,32,39,106]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WorkbenchCompressibleAsyncDataTree=e.WorkbenchAsyncDataTree=e.WorkbenchDataTree=e.WorkbenchCompressibleObjectTree=e.WorkbenchObjectTree=e.WorkbenchTable=e.WorkbenchPagedList=e.WorkbenchList=e.WorkbenchTreeFindOpen=e.WorkbenchTreeElementHasChild=e.WorkbenchTreeElementCanExpand=e.WorkbenchTreeElementHasParent=e.WorkbenchTreeElementCanCollapse=e.WorkbenchListSupportsFind=e.WorkbenchListSelectionNavigation=e.WorkbenchListMultiSelection=e.WorkbenchListDoubleSelection=e.WorkbenchListHasSelectionOrFocus=e.WorkbenchListFocusContextKey=e.WorkbenchListSupportsMultiSelectContextKey=e.WorkbenchTreeStickyScrollFocused=e.RawWorkbenchListFocusContextKey=e.WorkbenchListScrollAtBottomContextKey=e.WorkbenchListScrollAtTopContextKey=e.RawWorkbenchListScrollAtBoundaryContextKey=e.ListService=e.IListService=void 0,e.IListService=(0,u.createDecorator)("listService");class l{get lastFocusedList(){return this._lastFocusedWidget}constructor(){this.disposables=new o.DisposableStore,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}setLastFocusedList(le){var fe,ve;le!==this._lastFocusedWidget&&((fe=this._lastFocusedWidget)===null||fe===void 0||fe.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=le,(ve=this._lastFocusedWidget)===null||ve===void 0||ve.getHTMLElement().classList.add("last-focused"))}register(le,fe){if(this._hasCreatedStyleController||(this._hasCreatedStyleController=!0,new E.DefaultStyleController((0,f.createStyleSheet)(),"").style(h.defaultListStyles)),this.lists.some(Ce=>Ce.widget===le))throw new Error("Cannot register the same widget multiple times");const ve={widget:le,extraContextKeys:fe};return this.lists.push(ve),(0,f.isActiveElement)(le.getHTMLElement())&&this.setLastFocusedList(le),(0,o.combinedDisposable)(le.onDidFocus(()=>this.setLastFocusedList(le)),(0,o.toDisposable)(()=>this.lists.splice(this.lists.indexOf(ve),1)),le.onDidDispose(()=>{this.lists=this.lists.filter(Ce=>Ce!==ve),this._lastFocusedWidget===le&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}}e.ListService=l,e.RawWorkbenchListScrollAtBoundaryContextKey=new n.RawContextKey("listScrollAtBoundary","none"),e.WorkbenchListScrollAtTopContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("top"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.WorkbenchListScrollAtBottomContextKey=n.ContextKeyExpr.or(e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("bottom"),e.RawWorkbenchListScrollAtBoundaryContextKey.isEqualTo("both")),e.RawWorkbenchListFocusContextKey=new n.RawContextKey("listFocus",!0),e.WorkbenchTreeStickyScrollFocused=new n.RawContextKey("treestickyScrollFocused",!1),e.WorkbenchListSupportsMultiSelectContextKey=new n.RawContextKey("listSupportsMultiselect",!0),e.WorkbenchListFocusContextKey=n.ContextKeyExpr.and(e.RawWorkbenchListFocusContextKey,n.ContextKeyExpr.not(c.InputFocusedContextKey),e.WorkbenchTreeStickyScrollFocused.negate()),e.WorkbenchListHasSelectionOrFocus=new n.RawContextKey("listHasSelectionOrFocus",!1),e.WorkbenchListDoubleSelection=new n.RawContextKey("listDoubleSelection",!1),e.WorkbenchListMultiSelection=new n.RawContextKey("listMultiSelection",!1),e.WorkbenchListSelectionNavigation=new n.RawContextKey("listSelectionNavigation",!1),e.WorkbenchListSupportsFind=new n.RawContextKey("listSupportsFind",!0),e.WorkbenchTreeElementCanCollapse=new n.RawContextKey("treeElementCanCollapse",!1),e.WorkbenchTreeElementHasParent=new n.RawContextKey("treeElementHasParent",!1),e.WorkbenchTreeElementCanExpand=new n.RawContextKey("treeElementCanExpand",!1),e.WorkbenchTreeElementHasChild=new n.RawContextKey("treeElementHasChild",!1),e.WorkbenchTreeFindOpen=new n.RawContextKey("treeFindOpen",!1);const g="listTypeNavigationMode",d="listAutomaticKeyboardNavigation";function v(de,le){const fe=de.createScoped(le.getHTMLElement());return e.RawWorkbenchListFocusContextKey.bindTo(fe),fe}function _(de,le){const fe=e.RawWorkbenchListScrollAtBoundaryContextKey.bindTo(de),ve=()=>{const Ce=le.scrollTop===0,Se=le.scrollHeight-le.renderHeight-le.scrollTop<1;Ce&&Se?fe.set("both"):Ce?fe.set("top"):Se?fe.set("bottom"):fe.set("none")};return ve(),le.onDidScroll(ve)}const S="workbench.list.multiSelectModifier",L="workbench.list.openMode",I="workbench.list.horizontalScrolling",T="workbench.list.defaultFindMode",N="workbench.list.typeNavigationMode",A="workbench.list.keyboardNavigation",O="workbench.list.scrollByPage",M="workbench.list.defaultFindMatchType",R="workbench.tree.indent",x="workbench.tree.renderIndentGuides",F="workbench.list.smoothScrolling",W="workbench.list.mouseWheelScrollSensitivity",H="workbench.list.fastScrollSensitivity",z="workbench.tree.expandMode",j="workbench.tree.enableStickyScroll",K="workbench.tree.stickyScrollMaxItemCount";function U(de){return de.getValue(S)==="alt"}class G extends o.Disposable{constructor(le){super(),this.configurationService=le,this.useAltAsMultipleSelectionModifier=U(le),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(le=>{le.affectsConfiguration(S)&&(this.useAltAsMultipleSelectionModifier=U(this.configurationService))}))}isSelectionSingleChangeEvent(le){return this.useAltAsMultipleSelectionModifier?le.browserEvent.altKey:(0,E.isSelectionSingleChangeEvent)(le)}isSelectionRangeChangeEvent(le){return(0,E.isSelectionRangeChangeEvent)(le)}}function te(de,le){var fe;const ve=de.get(i.IConfigurationService),Ce=de.get(r.IKeybindingService),Se=new o.DisposableStore;return[{...le,keyboardNavigationDelegate:{mightProducePrintableCharacter(ke){return Ce.mightProducePrintableCharacter(ke)}},smoothScrolling:!!ve.getValue(F),mouseWheelScrollSensitivity:ve.getValue(W),fastScrollSensitivity:ve.getValue(H),multipleSelectionController:(fe=le.multipleSelectionController)!==null&&fe!==void 0?fe:Se.add(new G(ve)),keyboardNavigationEventFilter:pe(Ce),scrollByPage:!!ve.getValue(O)},Se]}let ee=class extends E.List{constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae){const xe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!Ee.getValue(I),[We,Be]=Ae.invokeFunction(te,Se);super(le,fe,ve,Ce,{keyboardSupport:!1,...We,horizontalScrolling:xe}),this.disposables.add(Be),this.contextKeyService=v(_e,this),this.disposables.add(_(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=Se.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(ke.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Ne=this.getSelection(),me=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Ne.length>0||me.length>0),this.listMultiSelection.set(Ne.length>1),this.listDoubleSelection.set(Ne.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Ne=this.getSelection(),me=this.getFocus();this.listHasSelectionOrFocus.set(Ne.length>0||me.length>0)})),this.disposables.add(Ee.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Ee));let me={};if(Ne.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const be=!!Ee.getValue(I);me={...me,horizontalScrolling:be}}if(Ne.affectsConfiguration(O)){const be=!!Ee.getValue(O);me={...me,scrollByPage:be}}if(Ne.affectsConfiguration(F)){const be=!!Ee.getValue(F);me={...me,smoothScrolling:be}}if(Ne.affectsConfiguration(W)){const be=Ee.getValue(W);me={...me,mouseWheelScrollSensitivity:be}}if(Ne.affectsConfiguration(H)){const be=Ee.getValue(H);me={...me,fastScrollSensitivity:be}}Object.keys(me).length>0&&this.updateOptions(me)})),this.navigator=new re(this,{configurationService:Ee,...Se}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,h.getListStyles)(le):h.defaultListStyles)}};e.WorkbenchList=ee,e.WorkbenchList=ee=Ie([ue(5,n.IContextKeyService),ue(6,e.IListService),ue(7,i.IConfigurationService),ue(8,u.IInstantiationService)],ee);let Y=class extends k.PagedList{constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae){const xe=typeof Se.horizontalScrolling<"u"?Se.horizontalScrolling:!!Ee.getValue(I),[We,Be]=Ae.invokeFunction(te,Se);super(le,fe,ve,Ce,{keyboardSupport:!1,...We,horizontalScrolling:xe}),this.disposables=new o.DisposableStore,this.disposables.add(Be),this.contextKeyService=v(_e,this),this.disposables.add(_(this.contextKeyService,this.widget)),this.horizontalScrolling=Se.horizontalScrolling,this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Se.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!Se.selectionNavigation),this._useAltAsMultipleSelectionModifier=U(Ee),this.disposables.add(this.contextKeyService),this.disposables.add(ke.register(this)),this.updateStyles(Se.overrideStyles),this.disposables.add(Ee.onDidChangeConfiguration(Ne=>{Ne.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Ee));let me={};if(Ne.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const be=!!Ee.getValue(I);me={...me,horizontalScrolling:be}}if(Ne.affectsConfiguration(O)){const be=!!Ee.getValue(O);me={...me,scrollByPage:be}}if(Ne.affectsConfiguration(F)){const be=!!Ee.getValue(F);me={...me,smoothScrolling:be}}if(Ne.affectsConfiguration(W)){const be=Ee.getValue(W);me={...me,mouseWheelScrollSensitivity:be}}if(Ne.affectsConfiguration(H)){const be=Ee.getValue(H);me={...me,fastScrollSensitivity:be}}Object.keys(me).length>0&&this.updateOptions(me)})),this.navigator=new re(this,{configurationService:Ee,...Se}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,h.getListStyles)(le):h.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchPagedList=Y,e.WorkbenchPagedList=Y=Ie([ue(5,n.IContextKeyService),ue(6,e.IListService),ue(7,i.IConfigurationService),ue(8,u.IInstantiationService)],Y);let P=class extends D.Table{constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae,xe){const We=typeof _e.horizontalScrolling<"u"?_e.horizontalScrolling:!!Ae.getValue(I),[Be,De]=xe.invokeFunction(te,_e);super(le,fe,ve,Ce,Se,{keyboardSupport:!1,...Be,horizontalScrolling:We}),this.disposables.add(De),this.contextKeyService=v(ke,this),this.disposables.add(_(this.contextKeyService,this)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(_e.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!_e.selectionNavigation),this.listHasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.listDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.listMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.horizontalScrolling=_e.horizontalScrolling,this._useAltAsMultipleSelectionModifier=U(Ae),this.disposables.add(this.contextKeyService),this.disposables.add(Ee.register(this)),this.updateStyles(_e.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const me=this.getSelection(),be=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(me.length>0||be.length>0),this.listMultiSelection.set(me.length>1),this.listDoubleSelection.set(me.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const me=this.getSelection(),be=this.getFocus();this.listHasSelectionOrFocus.set(me.length>0||be.length>0)})),this.disposables.add(Ae.onDidChangeConfiguration(me=>{me.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(Ae));let be={};if(me.affectsConfiguration(I)&&this.horizontalScrolling===void 0){const Re=!!Ae.getValue(I);be={...be,horizontalScrolling:Re}}if(me.affectsConfiguration(O)){const Re=!!Ae.getValue(O);be={...be,scrollByPage:Re}}if(me.affectsConfiguration(F)){const Re=!!Ae.getValue(F);be={...be,smoothScrolling:Re}}if(me.affectsConfiguration(W)){const Re=Ae.getValue(W);be={...be,mouseWheelScrollSensitivity:Re}}if(me.affectsConfiguration(H)){const Re=Ae.getValue(H);be={...be,fastScrollSensitivity:Re}}Object.keys(be).length>0&&this.updateOptions(be)})),this.navigator=new ce(this,{configurationService:Ae,..._e}),this.disposables.add(this.navigator)}updateOptions(le){super.updateOptions(le),le.overrideStyles!==void 0&&this.updateStyles(le.overrideStyles),le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyles(le){this.style(le?(0,h.getListStyles)(le):h.defaultListStyles)}dispose(){this.disposables.dispose(),super.dispose()}};e.WorkbenchTable=P,e.WorkbenchTable=P=Ie([ue(6,n.IContextKeyService),ue(7,e.IListService),ue(8,i.IConfigurationService),ue(9,u.IInstantiationService)],P);class Z extends o.Disposable{constructor(le,fe){var ve;super(),this.widget=le,this._onDidOpen=this._register(new C.Emitter),this.onDidOpen=this._onDidOpen.event,this._register(C.Event.filter(this.widget.onDidChangeSelection,Ce=>(0,f.isKeyboardEvent)(Ce.browserEvent))(Ce=>this.onSelectionFromKeyboard(Ce))),this._register(this.widget.onPointer(Ce=>this.onPointer(Ce.element,Ce.browserEvent))),this._register(this.widget.onMouseDblClick(Ce=>this.onMouseDblClick(Ce.element,Ce.browserEvent))),typeof fe?.openOnSingleClick!="boolean"&&fe?.configurationService?(this.openOnSingleClick=fe?.configurationService.getValue(L)!=="doubleClick",this._register(fe?.configurationService.onDidChangeConfiguration(Ce=>{Ce.affectsConfiguration(L)&&(this.openOnSingleClick=fe?.configurationService.getValue(L)!=="doubleClick")}))):this.openOnSingleClick=(ve=fe?.openOnSingleClick)!==null&&ve!==void 0?ve:!0}onSelectionFromKeyboard(le){if(le.elements.length!==1)return;const fe=le.browserEvent,ve=typeof fe.preserveFocus=="boolean"?fe.preserveFocus:!0,Ce=typeof fe.pinned=="boolean"?fe.pinned:!ve;this._open(this.getSelectedElement(),ve,Ce,!1,le.browserEvent)}onPointer(le,fe){if(!this.openOnSingleClick||fe.detail===2)return;const Ce=fe.button===1,Se=!0,_e=Ce,ke=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(le,Se,_e,ke,fe)}onMouseDblClick(le,fe){if(!fe)return;const ve=fe.target;if(ve.classList.contains("monaco-tl-twistie")||ve.classList.contains("monaco-icon-label")&&ve.classList.contains("folder-icon")&&fe.offsetX<16)return;const Se=!1,_e=!0,ke=fe.ctrlKey||fe.metaKey||fe.altKey;this._open(le,Se,_e,ke,fe)}_open(le,fe,ve,Ce,Se){le&&this._onDidOpen.fire({editorOptions:{preserveFocus:fe,pinned:ve,revealIfVisible:!0},sideBySide:Ce,element:le,browserEvent:Se})}}class re extends Z{constructor(le,fe){super(le,fe),this.widget=le}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class ce extends Z{constructor(le,fe){super(le,fe)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class he extends Z{constructor(le,fe){super(le,fe)}getSelectedElement(){var le;return(le=this.widget.getSelection()[0])!==null&&le!==void 0?le:void 0}}function pe(de){let le=!1;return fe=>{if(fe.toKeyCodeChord().isModifierKey())return!1;if(le)return le=!1,!1;const ve=de.softDispatch(fe,fe.target);return ve.kind===1?(le=!0,!1):(le=!1,ve.kind===0)}}let ge=class extends b.ObjectTree{constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae){const{options:xe,getTypeNavigationMode:We,disposable:Be}=_e.invokeFunction($,Se);super(le,fe,ve,Ce,xe),this.disposables.add(Be),this.internals=new J(this,Se,We,Se.overrideStyles,ke,Ee,Ae),this.disposables.add(this.internals)}updateOptions(le){super.updateOptions(le),this.internals.updateOptions(le)}};e.WorkbenchObjectTree=ge,e.WorkbenchObjectTree=ge=Ie([ue(5,u.IInstantiationService),ue(6,n.IContextKeyService),ue(7,e.IListService),ue(8,i.IConfigurationService)],ge);let X=class extends b.CompressibleObjectTree{constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae){const{options:xe,getTypeNavigationMode:We,disposable:Be}=_e.invokeFunction($,Se);super(le,fe,ve,Ce,xe),this.disposables.add(Be),this.internals=new J(this,Se,We,Se.overrideStyles,ke,Ee,Ae),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchCompressibleObjectTree=X,e.WorkbenchCompressibleObjectTree=X=Ie([ue(5,u.IInstantiationService),ue(6,n.IContextKeyService),ue(7,e.IListService),ue(8,i.IConfigurationService)],X);let ae=class extends w.DataTree{constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae,xe){const{options:We,getTypeNavigationMode:Be,disposable:De}=ke.invokeFunction($,_e);super(le,fe,ve,Ce,Se,We),this.disposables.add(De),this.internals=new J(this,_e,Be,_e.overrideStyles,Ee,Ae,xe),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles!==void 0&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchDataTree=ae,e.WorkbenchDataTree=ae=Ie([ue(6,u.IInstantiationService),ue(7,n.IContextKeyService),ue(8,e.IListService),ue(9,i.IConfigurationService)],ae);let oe=class extends p.AsyncDataTree{get onDidOpen(){return this.internals.onDidOpen}constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae,xe){const{options:We,getTypeNavigationMode:Be,disposable:De}=ke.invokeFunction($,_e);super(le,fe,ve,Ce,Se,We),this.disposables.add(De),this.internals=new J(this,_e,Be,_e.overrideStyles,Ee,Ae,xe),this.disposables.add(this.internals)}updateOptions(le={}){super.updateOptions(le),le.overrideStyles&&this.internals.updateStyleOverrides(le.overrideStyles),this.internals.updateOptions(le)}};e.WorkbenchAsyncDataTree=oe,e.WorkbenchAsyncDataTree=oe=Ie([ue(6,u.IInstantiationService),ue(7,n.IContextKeyService),ue(8,e.IListService),ue(9,i.IConfigurationService)],oe);let B=class extends p.CompressibleAsyncDataTree{constructor(le,fe,ve,Ce,Se,_e,ke,Ee,Ae,xe,We){const{options:Be,getTypeNavigationMode:De,disposable:Ne}=Ee.invokeFunction($,ke);super(le,fe,ve,Ce,Se,_e,Be),this.disposables.add(Ne),this.internals=new J(this,ke,De,ke.overrideStyles,Ae,xe,We),this.disposables.add(this.internals)}updateOptions(le){super.updateOptions(le),this.internals.updateOptions(le)}};e.WorkbenchCompressibleAsyncDataTree=B,e.WorkbenchCompressibleAsyncDataTree=B=Ie([ue(7,u.IInstantiationService),ue(8,n.IContextKeyService),ue(9,e.IListService),ue(10,i.IConfigurationService)],B);function q(de){const le=de.getValue(T);if(le==="highlight")return y.TreeFindMode.Highlight;if(le==="filter")return y.TreeFindMode.Filter;const fe=de.getValue(A);if(fe==="simple"||fe==="highlight")return y.TreeFindMode.Highlight;if(fe==="filter")return y.TreeFindMode.Filter}function V(de){const le=de.getValue(M);if(le==="fuzzy")return y.TreeFindMatchType.Fuzzy;if(le==="contiguous")return y.TreeFindMatchType.Contiguous}function $(de,le){var fe;const ve=de.get(i.IConfigurationService),Ce=de.get(m.IContextViewService),Se=de.get(n.IContextKeyService),_e=de.get(u.IInstantiationService),ke=()=>{const De=Se.getContextKeyValue(g);if(De==="automatic")return E.TypeNavigationMode.Automatic;if(De==="trigger"||Se.getContextKeyValue(d)===!1)return E.TypeNavigationMode.Trigger;const me=ve.getValue(N);if(me==="automatic")return E.TypeNavigationMode.Automatic;if(me==="trigger")return E.TypeNavigationMode.Trigger},Ee=le.horizontalScrolling!==void 0?le.horizontalScrolling:!!ve.getValue(I),[Ae,xe]=_e.invokeFunction(te,le),We=le.paddingBottom,Be=le.renderIndentGuides!==void 0?le.renderIndentGuides:ve.getValue(x);return{getTypeNavigationMode:ke,disposable:xe,options:{keyboardSupport:!1,...Ae,indent:typeof ve.getValue(R)=="number"?ve.getValue(R):void 0,renderIndentGuides:Be,smoothScrolling:!!ve.getValue(F),defaultFindMode:q(ve),defaultFindMatchType:V(ve),horizontalScrolling:Ee,scrollByPage:!!ve.getValue(O),paddingBottom:We,hideTwistiesOfChildlessElements:le.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(fe=le.expandOnlyOnTwistieClick)!==null&&fe!==void 0?fe:ve.getValue(z)==="doubleClick",contextViewProvider:Ce,findWidgetStyles:h.defaultFindWidgetStyles,enableStickyScroll:!!ve.getValue(j),stickyScrollMaxItemCount:Number(ve.getValue(K))}}}let J=class{get onDidOpen(){return this.navigator.onDidOpen}constructor(le,fe,ve,Ce,Se,_e,ke){var Ee;this.tree=le,this.disposables=[],this.contextKeyService=v(Se,le),this.disposables.push(_(this.contextKeyService,le)),this.listSupportsMultiSelect=e.WorkbenchListSupportsMultiSelectContextKey.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(fe.multipleSelectionSupport!==!1),e.WorkbenchListSelectionNavigation.bindTo(this.contextKeyService).set(!!fe.selectionNavigation),this.listSupportFindWidget=e.WorkbenchListSupportsFind.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ee=fe.findWidgetEnabled)!==null&&Ee!==void 0?Ee:!0),this.hasSelectionOrFocus=e.WorkbenchListHasSelectionOrFocus.bindTo(this.contextKeyService),this.hasDoubleSelection=e.WorkbenchListDoubleSelection.bindTo(this.contextKeyService),this.hasMultiSelection=e.WorkbenchListMultiSelection.bindTo(this.contextKeyService),this.treeElementCanCollapse=e.WorkbenchTreeElementCanCollapse.bindTo(this.contextKeyService),this.treeElementHasParent=e.WorkbenchTreeElementHasParent.bindTo(this.contextKeyService),this.treeElementCanExpand=e.WorkbenchTreeElementCanExpand.bindTo(this.contextKeyService),this.treeElementHasChild=e.WorkbenchTreeElementHasChild.bindTo(this.contextKeyService),this.treeFindOpen=e.WorkbenchTreeFindOpen.bindTo(this.contextKeyService),this.treeStickyScrollFocused=e.WorkbenchTreeStickyScrollFocused.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=U(ke),this.updateStyleOverrides(Ce);const xe=()=>{const Be=le.getFocus()[0];if(!Be)return;const De=le.getNode(Be);this.treeElementCanCollapse.set(De.collapsible&&!De.collapsed),this.treeElementHasParent.set(!!le.getParentElement(Be)),this.treeElementCanExpand.set(De.collapsible&&De.collapsed),this.treeElementHasChild.set(!!le.getFirstElementChild(Be))},We=new Set;We.add(g),We.add(d),this.disposables.push(this.contextKeyService,_e.register(le),le.onDidChangeSelection(()=>{const Be=le.getSelection(),De=le.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(Be.length>0||De.length>0),this.hasMultiSelection.set(Be.length>1),this.hasDoubleSelection.set(Be.length===2)})}),le.onDidChangeFocus(()=>{const Be=le.getSelection(),De=le.getFocus();this.hasSelectionOrFocus.set(Be.length>0||De.length>0),xe()}),le.onDidChangeCollapseState(xe),le.onDidChangeModel(xe),le.onDidChangeFindOpenState(Be=>this.treeFindOpen.set(Be)),le.onDidChangeStickyScrollFocused(Be=>this.treeStickyScrollFocused.set(Be)),ke.onDidChangeConfiguration(Be=>{let De={};if(Be.affectsConfiguration(S)&&(this._useAltAsMultipleSelectionModifier=U(ke)),Be.affectsConfiguration(R)){const Ne=ke.getValue(R);De={...De,indent:Ne}}if(Be.affectsConfiguration(x)&&fe.renderIndentGuides===void 0){const Ne=ke.getValue(x);De={...De,renderIndentGuides:Ne}}if(Be.affectsConfiguration(F)){const Ne=!!ke.getValue(F);De={...De,smoothScrolling:Ne}}if(Be.affectsConfiguration(T)||Be.affectsConfiguration(A)){const Ne=q(ke);De={...De,defaultFindMode:Ne}}if(Be.affectsConfiguration(N)||Be.affectsConfiguration(A)){const Ne=ve();De={...De,typeNavigationMode:Ne}}if(Be.affectsConfiguration(M)){const Ne=V(ke);De={...De,defaultFindMatchType:Ne}}if(Be.affectsConfiguration(I)&&fe.horizontalScrolling===void 0){const Ne=!!ke.getValue(I);De={...De,horizontalScrolling:Ne}}if(Be.affectsConfiguration(O)){const Ne=!!ke.getValue(O);De={...De,scrollByPage:Ne}}if(Be.affectsConfiguration(z)&&fe.expandOnlyOnTwistieClick===void 0&&(De={...De,expandOnlyOnTwistieClick:ke.getValue(z)==="doubleClick"}),Be.affectsConfiguration(j)){const Ne=ke.getValue(j);De={...De,enableStickyScroll:Ne}}if(Be.affectsConfiguration(K)){const Ne=Math.max(1,ke.getValue(K));De={...De,stickyScrollMaxItemCount:Ne}}if(Be.affectsConfiguration(W)){const Ne=ke.getValue(W);De={...De,mouseWheelScrollSensitivity:Ne}}if(Be.affectsConfiguration(H)){const Ne=ke.getValue(H);De={...De,fastScrollSensitivity:Ne}}Object.keys(De).length>0&&le.updateOptions(De)}),this.contextKeyService.onDidChangeContext(Be=>{Be.affectsSome(We)&&le.updateOptions({typeNavigationMode:ve()})})),this.navigator=new he(le,{configurationService:ke,...fe}),this.disposables.push(this.navigator)}updateOptions(le){le.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!le.multipleSelectionSupport)}updateStyleOverrides(le){this.tree.style(le?(0,h.getListStyles)(le):h.defaultListStyles)}dispose(){this.disposables=(0,o.dispose)(this.disposables)}};J=Ie([ue(4,n.IContextKeyService),ue(5,e.IListService),ue(6,i.IConfigurationService)],J),a.Registry.as(t.Extensions.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,s.localize)(0,null),type:"object",properties:{[S]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,s.localize)(1,null),(0,s.localize)(2,null)],default:"ctrlCmd",description:(0,s.localize)(3,null)},[L]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(4,null)},[I]:{type:"boolean",default:!1,description:(0,s.localize)(5,null)},[O]:{type:"boolean",default:!1,description:(0,s.localize)(6,null)},[R]:{type:"number",default:8,minimum:4,maximum:40,description:(0,s.localize)(7,null)},[x]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,s.localize)(8,null)},[F]:{type:"boolean",default:!1,description:(0,s.localize)(9,null)},[W]:{type:"number",default:1,markdownDescription:(0,s.localize)(10,null)},[H]:{type:"number",default:5,markdownDescription:(0,s.localize)(11,null)},[T]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,s.localize)(12,null),(0,s.localize)(13,null)],default:"highlight",description:(0,s.localize)(14,null)},[A]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,s.localize)(15,null),(0,s.localize)(16,null),(0,s.localize)(17,null)],default:"highlight",description:(0,s.localize)(18,null),deprecated:!0,deprecationMessage:(0,s.localize)(19,null)},[M]:{type:"string",enum:["fuzzy","contiguous"],enumDescriptions:[(0,s.localize)(20,null),(0,s.localize)(21,null)],default:"fuzzy",description:(0,s.localize)(22,null)},[z]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,s.localize)(23,null)},[j]:{type:"boolean",default:!0,description:(0,s.localize)(24,null)},[K]:{type:"number",minimum:1,default:7,markdownDescription:(0,s.localize)(25,null)},[N]:{type:"string",enum:["automatic","trigger"],default:"automatic",markdownDescription:(0,s.localize)(26,null)}}})}),define(ie[76],ne([1,0,15,26,186,31,7,20,22,801,264,39]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.spinningLoading=e.syncing=e.gotoNextLocation=e.gotoPreviousLocation=e.widgetClose=e.iconsSchemaId=e.IconFontDefinition=e.IconContribution=e.Extensions=void 0,e.registerIcon=c,e.getIconRegistry=m,e.Extensions={IconContribution:"base.contributions.icons"};var s;(function(h){function l(g,d){let v=g.defaults;for(;D.ThemeIcon.isThemeIcon(v);){const _=n.getIcon(v.id);if(!_)return;v=_.defaults}return v}h.getDefinition=l})(s||(e.IconContribution=s={}));var i;(function(h){function l(d){return{weight:d.weight,style:d.style,src:d.src.map(v=>({format:v.format,location:v.location.toString()}))}}h.toJSONObject=l;function g(d){const v=_=>(0,p.isString)(_)?_:void 0;if(d&&Array.isArray(d.src)&&d.src.every(_=>(0,p.isString)(_.format)&&(0,p.isString)(_.location)))return{weight:v(d.weight),style:v(d.style),src:d.src.map(_=>({format:_.format,location:w.URI.parse(_.location)}))}}h.fromJSONObject=g})(i||(e.IconFontDefinition=i={}));class t{constructor(){this._onDidChange=new y.Emitter,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,b.localize)(0,null)},fontCharacter:{type:"string",description:(0,b.localize)(1,null)}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${D.ThemeIcon.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(l,g,d,v){const _=this.iconsById[l];if(_){if(d&&!_.description){_.description=d,this.iconSchema.properties[l].markdownDescription=`${d} $(${l})`;const I=this.iconReferenceSchema.enum.indexOf(l);I!==-1&&(this.iconReferenceSchema.enumDescriptions[I]=d),this._onDidChange.fire()}return _}const S={id:l,description:d,defaults:g,deprecationMessage:v};this.iconsById[l]=S;const L={$ref:"#/definitions/icons"};return v&&(L.deprecationMessage=v),d&&(L.markdownDescription=`${d}: $(${l})`),this.iconSchema.properties[l]=L,this.iconReferenceSchema.enum.push(l),this.iconReferenceSchema.enumDescriptions.push(d||""),this._onDidChange.fire(),{id:l}}getIcons(){return Object.keys(this.iconsById).map(l=>this.iconsById[l])}getIcon(l){return this.iconsById[l]}getIconSchema(){return this.iconSchema}toString(){const l=(_,S)=>_.id.localeCompare(S.id),g=_=>{for(;D.ThemeIcon.isThemeIcon(_.defaults);)_=this.iconsById[_.defaults.id];return`codicon codicon-${_?_.id:""}`},d=[];d.push("| preview     | identifier                        | default codicon ID                | description"),d.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const v=Object.keys(this.iconsById).map(_=>this.iconsById[_]);for(const _ of v.filter(S=>!!S.description).sort(l))d.push(`|<i class="${g(_)}"></i>|${_.id}|${D.ThemeIcon.isThemeIcon(_.defaults)?_.defaults.id:_.id}|${_.description||""}|`);d.push("| preview     | identifier                        "),d.push("| ----------- | --------------------------------- |");for(const _ of v.filter(S=>!D.ThemeIcon.isThemeIcon(S.defaults)).sort(l))d.push(`|<i class="${g(_)}"></i>|${_.id}|`);return d.join(`
`)}}const n=new t;o.Registry.add(e.Extensions.IconContribution,n);function c(h,l,g,d){return n.registerIcon(h,l,g,d)}function m(){return n}function u(){const h=(0,E.getCodiconFontCharacters)();for(const l in h){const g="\\"+h[l].toString(16);n.registerIcon(l,{fontCharacter:g})}}u(),e.iconsSchemaId="vscode://schemas/icons";const r=o.Registry.as(C.Extensions.JSONContribution);r.registerSchema(e.iconsSchemaId,n.getIconSchema());const a=new f.RunOnceScheduler(()=>r.notifySchemaChanged(e.iconsSchemaId),200);n.onDidChange(()=>{a.isScheduled()||a.schedule()}),e.widgetClose=c("widget-close",k.Codicon.close,(0,b.localize)(2,null)),e.gotoPreviousLocation=c("goto-previous-location",k.Codicon.arrowUp,(0,b.localize)(3,null)),e.gotoNextLocation=c("goto-next-location",k.Codicon.arrowDown,(0,b.localize)(4,null)),e.syncing=D.ThemeIcon.modify(k.Codicon.sync,"spin"),e.spinningLoading=D.ThemeIcon.modify(k.Codicon.loading,"spin")}),define(ie[892],ne([1,0,6,99,82,81,41,13,26,2,30,31,71,83,38,59,65,9,5,100,43,102,131,91,664,132,8,76,478]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerModelFromEditors=e.AccessibleDiffViewer=void 0;const L=(0,S.registerIcon)("diff-review-insert",w.Codicon.add,(0,d.localize)(0,null)),I=(0,S.registerIcon)("diff-review-remove",w.Codicon.remove,(0,d.localize)(1,null)),T=(0,S.registerIcon)("diff-review-close",w.Codicon.close,(0,d.localize)(2,null));let N=class extends b.Disposable{constructor(G,te,ee,Y,P,Z,re,ce,he){super(),this._parentNode=G,this._visible=te,this._setVisible=ee,this._canClose=Y,this._width=P,this._height=Z,this._diffs=re,this._models=ce,this._instantiationService=he,this._state=(0,C.derivedWithStore)(this,(pe,ge)=>{const X=this._visible.read(pe);if(this._parentNode.style.visibility=X?"visible":"hidden",!X)return null;const ae=ge.add(this._instantiationService.createInstance(A,this._diffs,this._models,this._setVisible,this._canClose)),oe=ge.add(this._instantiationService.createInstance(j,this._parentNode,ae,this._width,this._height,this._models));return{model:ae,view:oe}}).recomputeInitiallyAndOnChange(this._store)}next(){(0,C.transaction)(G=>{const te=this._visible.get();this._setVisible(!0,G),te&&this._state.get().model.nextGroup(G)})}prev(){(0,C.transaction)(G=>{this._setVisible(!0,G),this._state.get().model.previousGroup(G)})}close(){(0,C.transaction)(G=>{this._setVisible(!1,G)})}};e.AccessibleDiffViewer=N,N._ttPolicy=(0,k.createTrustedTypesPolicy)("diffReview",{createHTML:U=>U}),e.AccessibleDiffViewer=N=Ie([ue(8,_.IInstantiationService)],N);let A=class extends b.Disposable{constructor(G,te,ee,Y,P){super(),this._diffs=G,this._models=te,this._setVisible=ee,this.canClose=Y,this._accessibilitySignalService=P,this._groups=(0,C.observableValue)(this,[]),this._currentGroupIdx=(0,C.observableValue)(this,0),this._currentElementIdx=(0,C.observableValue)(this,0),this.groups=this._groups,this.currentGroup=this._currentGroupIdx.map((Z,re)=>this._groups.read(re)[Z]),this.currentGroupIndex=this._currentGroupIdx,this.currentElement=this._currentElementIdx.map((Z,re)=>{var ce;return(ce=this.currentGroup.read(re))===null||ce===void 0?void 0:ce.lines[Z]}),this._register((0,C.autorun)(Z=>{const re=this._diffs.read(Z);if(!re){this._groups.set([],void 0);return}const ce=M(re,this._models.getOriginalModel().getLineCount(),this._models.getModifiedModel().getLineCount());(0,C.transaction)(he=>{const pe=this._models.getModifiedPosition();if(pe){const ge=ce.findIndex(X=>pe?.lineNumber<X.range.modified.endLineNumberExclusive);ge!==-1&&this._currentGroupIdx.set(ge,he)}this._groups.set(ce,he)})})),this._register((0,C.autorun)(Z=>{const re=this.currentElement.read(Z);re?.type===R.Deleted?this._accessibilitySignalService.playSignal(v.AccessibilitySignal.diffLineDeleted,{source:"accessibleDiffViewer.currentElementChanged"}):re?.type===R.Added&&this._accessibilitySignalService.playSignal(v.AccessibilitySignal.diffLineInserted,{source:"accessibleDiffViewer.currentElementChanged"})})),this._register((0,C.autorun)(Z=>{var re;const ce=this.currentElement.read(Z);if(ce&&ce.type!==R.Header){const he=(re=ce.modifiedLineNumber)!==null&&re!==void 0?re:ce.diff.modified.startLineNumber;this._models.modifiedSetSelection(u.Range.fromPositions(new m.Position(he,1)))}}))}_goToGroupDelta(G,te){const ee=this.groups.get();!ee||ee.length<=1||(0,C.subtransaction)(te,Y=>{this._currentGroupIdx.set(c.OffsetRange.ofLength(ee.length).clipCyclic(this._currentGroupIdx.get()+G),Y),this._currentElementIdx.set(0,Y)})}nextGroup(G){this._goToGroupDelta(1,G)}previousGroup(G){this._goToGroupDelta(-1,G)}_goToLineDelta(G){const te=this.currentGroup.get();!te||te.lines.length<=1||(0,C.transaction)(ee=>{this._currentElementIdx.set(c.OffsetRange.ofLength(te.lines.length).clip(this._currentElementIdx.get()+G),ee)})}goToNextLine(){this._goToLineDelta(1)}goToPreviousLine(){this._goToLineDelta(-1)}goToLine(G){const te=this.currentGroup.get();if(!te)return;const ee=te.lines.indexOf(G);ee!==-1&&(0,C.transaction)(Y=>{this._currentElementIdx.set(ee,Y)})}revealCurrentElementInEditor(){if(!this.canClose.get())return;this._setVisible(!1,void 0);const G=this.currentElement.get();G&&(G.type===R.Deleted?this._models.originalReveal(u.Range.fromPositions(new m.Position(G.originalLineNumber,1))):this._models.modifiedReveal(G.type!==R.Header?u.Range.fromPositions(new m.Position(G.modifiedLineNumber,1)):void 0))}close(){this.canClose.get()&&(this._setVisible(!1,void 0),this._models.modifiedFocus())}};A=Ie([ue(4,v.IAccessibilitySignalService)],A);const O=3;function M(U,G,te){const ee=[];for(const Y of(0,p.groupAdjacentBy)(U,(P,Z)=>Z.modified.startLineNumber-P.modified.endLineNumberExclusive<2*O)){const P=[];P.push(new F);const Z=new n.LineRange(Math.max(1,Y[0].original.startLineNumber-O),Math.min(Y[Y.length-1].original.endLineNumberExclusive+O,G+1)),re=new n.LineRange(Math.max(1,Y[0].modified.startLineNumber-O),Math.min(Y[Y.length-1].modified.endLineNumberExclusive+O,te+1));(0,p.forEachAdjacent)(Y,(pe,ge)=>{const X=new n.LineRange(pe?pe.original.endLineNumberExclusive:Z.startLineNumber,ge?ge.original.startLineNumber:Z.endLineNumberExclusive),ae=new n.LineRange(pe?pe.modified.endLineNumberExclusive:re.startLineNumber,ge?ge.modified.startLineNumber:re.endLineNumberExclusive);X.forEach(oe=>{P.push(new z(oe,ae.startLineNumber+(oe-X.startLineNumber)))}),ge&&(ge.original.forEach(oe=>{P.push(new W(ge,oe))}),ge.modified.forEach(oe=>{P.push(new H(ge,oe))}))});const ce=Y[0].modified.join(Y[Y.length-1].modified),he=Y[0].original.join(Y[Y.length-1].original);ee.push(new x(new r.LineRangeMapping(ce,he),P))}return ee}var R;(function(U){U[U.Header=0]="Header",U[U.Unchanged=1]="Unchanged",U[U.Deleted=2]="Deleted",U[U.Added=3]="Added"})(R||(R={}));class x{constructor(G,te){this.range=G,this.lines=te}}class F{constructor(){this.type=R.Header}}class W{constructor(G,te){this.diff=G,this.originalLineNumber=te,this.type=R.Deleted,this.modifiedLineNumber=void 0}}class H{constructor(G,te){this.diff=G,this.modifiedLineNumber=te,this.type=R.Added,this.originalLineNumber=void 0}}class z{constructor(G,te){this.originalLineNumber=G,this.modifiedLineNumber=te,this.type=R.Unchanged}}let j=class extends b.Disposable{constructor(G,te,ee,Y,P,Z){super(),this._element=G,this._model=te,this._width=ee,this._height=Y,this._models=P,this._languageService=Z,this.domNode=this._element,this.domNode.className="monaco-component diff-review monaco-editor-background";const re=document.createElement("div");re.className="diff-review-actions",this._actionBar=this._register(new E.ActionBar(re)),this._register((0,C.autorun)(ce=>{this._actionBar.clear(),this._model.canClose.read(ce)&&this._actionBar.push(new y.Action("diffreview.close",(0,d.localize)(3,null),"close-diff-review "+o.ThemeIcon.asClassName(T),!0,async()=>te.close()),{label:!1,icon:!0})})),this._content=document.createElement("div"),this._content.className="diff-review-content",this._content.setAttribute("role","code"),this._scrollbar=this._register(new D.DomScrollableElement(this._content,{})),(0,f.reset)(this.domNode,this._scrollbar.getDomNode(),re),this._register((0,C.autorun)(ce=>{this._height.read(ce),this._width.read(ce),this._scrollbar.scanDomNode()})),this._register((0,b.toDisposable)(()=>{(0,f.reset)(this.domNode)})),this._register((0,i.applyStyle)(this.domNode,{width:this._width,height:this._height})),this._register((0,i.applyStyle)(this._content,{width:this._width,height:this._height})),this._register((0,C.autorunWithStore)((ce,he)=>{this._model.currentGroup.read(ce),this._render(he)})),this._register((0,f.addStandardDisposableListener)(this.domNode,"keydown",ce=>{(ce.equals(18)||ce.equals(2066)||ce.equals(530))&&(ce.preventDefault(),this._model.goToNextLine()),(ce.equals(16)||ce.equals(2064)||ce.equals(528))&&(ce.preventDefault(),this._model.goToPreviousLine()),(ce.equals(9)||ce.equals(2057)||ce.equals(521)||ce.equals(1033))&&(ce.preventDefault(),this._model.close()),(ce.equals(10)||ce.equals(3))&&(ce.preventDefault(),this._model.revealCurrentElementInEditor())}))}_render(G){const te=this._models.getOriginalOptions(),ee=this._models.getModifiedOptions(),Y=document.createElement("div");Y.className="diff-review-table",Y.setAttribute("role","list"),Y.setAttribute("aria-label",(0,d.localize)(4,null)),(0,s.applyFontInfo)(Y,ee.get(50)),(0,f.reset)(this._content,Y);const P=this._models.getOriginalModel(),Z=this._models.getModifiedModel();if(!P||!Z)return;const re=P.getOptions(),ce=Z.getOptions(),he=ee.get(67),pe=this._model.currentGroup.get();for(const ge of pe?.lines||[]){if(!pe)break;let X;if(ge.type===R.Header){const oe=document.createElement("div");oe.className="diff-review-row",oe.setAttribute("role","listitem");const B=pe.range,q=this._model.currentGroupIndex.get(),V=this._model.groups.get().length,$=le=>le===0?(0,d.localize)(5,null):le===1?(0,d.localize)(6,null):(0,d.localize)(7,null,le),J=$(B.original.length),se=$(B.modified.length);oe.setAttribute("aria-label",(0,d.localize)(8,null,q+1,V,B.original.startLineNumber,J,B.modified.startLineNumber,se));const de=document.createElement("div");de.className="diff-review-cell diff-review-summary",de.appendChild(document.createTextNode(`${q+1}/${V}: @@ -${B.original.startLineNumber},${B.original.length} +${B.modified.startLineNumber},${B.modified.length} @@`)),oe.appendChild(de),X=oe}else X=this._createRow(ge,he,this._width.get(),te,P,re,ee,Z,ce);Y.appendChild(X);const ae=(0,C.derived)(oe=>this._model.currentElement.read(oe)===ge);G.add((0,C.autorun)(oe=>{const B=ae.read(oe);X.tabIndex=B?0:-1,B&&X.focus()})),G.add((0,f.addDisposableListener)(X,"focus",()=>{this._model.goToLine(ge)}))}this._scrollbar.scanDomNode()}_createRow(G,te,ee,Y,P,Z,re,ce,he){const pe=Y.get(145),ge=pe.glyphMarginWidth+pe.lineNumbersWidth,X=re.get(145),ae=10+X.glyphMarginWidth+X.lineNumbersWidth;let oe="diff-review-row",B="";const q="diff-review-spacer";let V=null;switch(G.type){case R.Added:oe="diff-review-row line-insert",B=" char-insert",V=L;break;case R.Deleted:oe="diff-review-row line-delete",B=" char-delete",V=I;break}const $=document.createElement("div");$.style.minWidth=ee+"px",$.className=oe,$.setAttribute("role","listitem"),$.ariaLevel="";const J=document.createElement("div");J.className="diff-review-cell",J.style.height=`${te}px`,$.appendChild(J);const se=document.createElement("span");se.style.width=ge+"px",se.style.minWidth=ge+"px",se.className="diff-review-line-number"+B,G.originalLineNumber!==void 0?se.appendChild(document.createTextNode(String(G.originalLineNumber))):se.innerText="\xA0",J.appendChild(se);const de=document.createElement("span");de.style.width=ae+"px",de.style.minWidth=ae+"px",de.style.paddingRight="10px",de.className="diff-review-line-number"+B,G.modifiedLineNumber!==void 0?de.appendChild(document.createTextNode(String(G.modifiedLineNumber))):de.innerText="\xA0",J.appendChild(de);const le=document.createElement("span");if(le.className=q,V){const Ce=document.createElement("span");Ce.className=o.ThemeIcon.asClassName(V),Ce.innerText="\xA0\xA0",le.appendChild(Ce)}else le.innerText="\xA0\xA0";J.appendChild(le);let fe;if(G.modifiedLineNumber!==void 0){let Ce=this._getLineHtml(ce,re,he.tabSize,G.modifiedLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),J.insertAdjacentHTML("beforeend",Ce),fe=ce.getLineContent(G.modifiedLineNumber)}else{let Ce=this._getLineHtml(P,Y,Z.tabSize,G.originalLineNumber,this._languageService.languageIdCodec);N._ttPolicy&&(Ce=N._ttPolicy.createHTML(Ce)),J.insertAdjacentHTML("beforeend",Ce),fe=P.getLineContent(G.originalLineNumber)}fe.length===0&&(fe=(0,d.localize)(9,null));let ve="";switch(G.type){case R.Unchanged:G.originalLineNumber===G.modifiedLineNumber?ve=(0,d.localize)(10,null,fe,G.originalLineNumber):ve=(0,d.localize)(11,null,fe,G.originalLineNumber,G.modifiedLineNumber);break;case R.Added:ve=(0,d.localize)(12,null,fe,G.modifiedLineNumber);break;case R.Deleted:ve=(0,d.localize)(13,null,fe,G.originalLineNumber);break}return $.setAttribute("aria-label",ve),$}_getLineHtml(G,te,ee,Y,P){const Z=G.getLineContent(Y),re=te.get(50),ce=h.LineTokens.createEmpty(Z,P),he=g.ViewLineRenderingData.isBasicASCII(Z,G.mightContainNonBasicASCII()),pe=g.ViewLineRenderingData.containsRTL(Z,he,G.mightContainRTL());return(0,l.renderViewLine2)(new l.RenderLineInput(re.isMonospace&&!te.get(33),re.canUseHalfwidthRightwardsArrow,Z,!1,he,pe,0,ce,[],ee,0,re.spaceWidth,re.middotWidth,re.wsmiddotWidth,te.get(117),te.get(99),te.get(94),te.get(51)!==t.EditorFontLigatures.OFF,null)).html}};j=Ie([ue(5,a.ILanguageService)],j);class K{constructor(G){this.editors=G}getOriginalModel(){return this.editors.original.getModel()}getOriginalOptions(){return this.editors.original.getOptions()}originalReveal(G){this.editors.original.revealRange(G),this.editors.original.setSelection(G),this.editors.original.focus()}getModifiedModel(){return this.editors.modified.getModel()}getModifiedOptions(){return this.editors.modified.getOptions()}modifiedReveal(G){G&&(this.editors.modified.revealRange(G),this.editors.modified.setSelection(G)),this.editors.modified.focus()}modifiedSetSelection(G){this.editors.modified.setSelection(G)}modifiedFocus(){this.editors.modified.focus()}getModifiedPosition(){var G;return(G=this.editors.modified.getPosition())!==null&&G!==void 0?G:void 0}}e.AccessibleDiffViewerModelFromEditors=K}),define(ie[893],ne([1,0,246,6,166,80,26,35,7,2,31,701,33,76,220]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorPickerWidget=e.InsertButton=e.ColorPickerBody=e.ColorPickerHeader=void 0;const t=k.$;class n extends b.Disposable{constructor(v,_,S,L=!1){super(),this.model=_,this.showingStandaloneColorPicker=L,this._closeButton=null,this._domNode=t(".colorpicker-header"),k.append(v,this._domNode),this._pickedColorNode=k.append(this._domNode,t(".picked-color")),k.append(this._pickedColorNode,t("span.codicon.codicon-color-mode")),this._pickedColorPresentation=k.append(this._pickedColorNode,document.createElement("span")),this._pickedColorPresentation.classList.add("picked-color-presentation");const I=(0,o.localize)(0,null);this._pickedColorNode.setAttribute("title",I),this._originalColorNode=k.append(this._domNode,t(".original-color")),this._originalColorNode.style.backgroundColor=p.Color.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=S.getColorTheme().getColor(s.editorHoverBackground)||p.Color.white,this._register(S.onDidColorThemeChange(T=>{this.backgroundColor=T.getColor(s.editorHoverBackground)||p.Color.white})),this._register(k.addDisposableListener(this._pickedColorNode,k.EventType.CLICK,()=>this.model.selectNextColorPresentation())),this._register(k.addDisposableListener(this._originalColorNode,k.EventType.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(_.onDidChangeColor(this.onDidChangeColor,this)),this._register(_.onDidChangePresentation(this.onDidChangePresentation,this)),this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(_.color)||"",this._pickedColorNode.classList.toggle("light",_.color.rgba.a<.5?this.backgroundColor.isLighter():_.color.isLighter()),this.onDidChangeColor(this.model.color),this.showingStandaloneColorPicker&&(this._domNode.classList.add("standalone-colorpicker"),this._closeButton=this._register(new c(this._domNode)))}get closeButton(){return this._closeButton}get pickedColorNode(){return this._pickedColorNode}get originalColorNode(){return this._originalColorNode}onDidChangeColor(v){this._pickedColorNode.style.backgroundColor=p.Color.Format.CSS.format(v)||"",this._pickedColorNode.classList.toggle("light",v.rgba.a<.5?this.backgroundColor.isLighter():v.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this._pickedColorPresentation.textContent=this.model.presentation?this.model.presentation.label:""}}e.ColorPickerHeader=n;class c extends b.Disposable{constructor(v){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=document.createElement("div"),this._button.classList.add("close-button"),k.append(v,this._button);const _=document.createElement("div");_.classList.add("close-button-inner-div"),k.append(this._button,_),k.append(_,t(".button"+C.ThemeIcon.asCSSSelector((0,i.registerIcon)("color-picker-close",y.Codicon.close,(0,o.localize)(1,null))))).classList.add("close-icon"),this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}}class m extends b.Disposable{constructor(v,_,S,L=!1){super(),this.model=_,this.pixelRatio=S,this._insertButton=null,this._domNode=t(".colorpicker-body"),k.append(v,this._domNode),this._saturationBox=new u(this._domNode,this.model,this.pixelRatio),this._register(this._saturationBox),this._register(this._saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this._saturationBox.onColorFlushed(this.flushColor,this)),this._opacityStrip=new a(this._domNode,this.model,L),this._register(this._opacityStrip),this._register(this._opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this._opacityStrip.onColorFlushed(this.flushColor,this)),this._hueStrip=new h(this._domNode,this.model,L),this._register(this._hueStrip),this._register(this._hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this._hueStrip.onColorFlushed(this.flushColor,this)),L&&(this._insertButton=this._register(new l(this._domNode)),this._domNode.classList.add("standalone-colorpicker"))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:v,v:_}){const S=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(S.h,v,_,S.a))}onDidOpacityChange(v){const _=this.model.color.hsva;this.model.color=new p.Color(new p.HSVA(_.h,_.s,_.v,v))}onDidHueChange(v){const _=this.model.color.hsva,S=(1-v)*360;this.model.color=new p.Color(new p.HSVA(S===360?0:S,_.s,_.v,_.a))}get domNode(){return this._domNode}get saturationBox(){return this._saturationBox}get enterButton(){return this._insertButton}layout(){this._saturationBox.layout(),this._opacityStrip.layout(),this._hueStrip.layout()}}e.ColorPickerBody=m;class u extends b.Disposable{constructor(v,_,S){super(),this.model=_,this.pixelRatio=S,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,this._domNode=t(".saturation-wrap"),k.append(v,this._domNode),this._canvas=document.createElement("canvas"),this._canvas.className="saturation-box",k.append(this._domNode,this._canvas),this.selection=t(".saturation-selection"),k.append(this._domNode,this.selection),this.layout(),this._register(k.addDisposableListener(this._domNode,k.EventType.POINTER_DOWN,L=>this.onPointerDown(L))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}get domNode(){return this._domNode}onPointerDown(v){if(!v.target||!(v.target instanceof Element))return;this.monitor=this._register(new E.GlobalPointerMoveMonitor);const _=k.getDomNodePagePosition(this._domNode);v.target!==this.selection&&this.onDidChangePosition(v.offsetX,v.offsetY),this.monitor.startMonitoring(v.target,v.pointerId,v.buttons,L=>this.onDidChangePosition(L.pageX-_.left,L.pageY-_.top),()=>null);const S=k.addDisposableListener(v.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),S.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(v,_){const S=Math.max(0,Math.min(1,v/this.width)),L=Math.max(0,Math.min(1,1-_/this.height));this.paintSelection(S,L),this._onDidChange.fire({s:S,v:L})}layout(){this.width=this._domNode.offsetWidth,this.height=this._domNode.offsetHeight,this._canvas.width=this.width*this.pixelRatio,this._canvas.height=this.height*this.pixelRatio,this.paint();const v=this.model.color.hsva;this.paintSelection(v.s,v.v)}paint(){const v=this.model.color.hsva,_=new p.Color(new p.HSVA(v.h,1,1,1)),S=this._canvas.getContext("2d"),L=S.createLinearGradient(0,0,this._canvas.width,0);L.addColorStop(0,"rgba(255, 255, 255, 1)"),L.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),L.addColorStop(1,"rgba(255, 255, 255, 0)");const I=S.createLinearGradient(0,0,0,this._canvas.height);I.addColorStop(0,"rgba(0, 0, 0, 0)"),I.addColorStop(1,"rgba(0, 0, 0, 1)"),S.rect(0,0,this._canvas.width,this._canvas.height),S.fillStyle=p.Color.Format.CSS.format(_),S.fill(),S.fillStyle=L,S.fill(),S.fillStyle=I,S.fill()}paintSelection(v,_){this.selection.style.left=`${v*this.width}px`,this.selection.style.top=`${this.height-_*this.height}px`}onDidChangeColor(v){if(this.monitor&&this.monitor.isMonitoring())return;this.paint();const _=v.hsva;this.paintSelection(_.s,_.v)}}class r extends b.Disposable{constructor(v,_,S=!1){super(),this.model=_,this._onDidChange=new w.Emitter,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new w.Emitter,this.onColorFlushed=this._onColorFlushed.event,S?(this.domNode=k.append(v,t(".standalone-strip")),this.overlay=k.append(this.domNode,t(".standalone-overlay"))):(this.domNode=k.append(v,t(".strip")),this.overlay=k.append(this.domNode,t(".overlay"))),this.slider=k.append(this.domNode,t(".slider")),this.slider.style.top="0px",this._register(k.addDisposableListener(this.domNode,k.EventType.POINTER_DOWN,L=>this.onPointerDown(L))),this._register(_.onDidChangeColor(this.onDidChangeColor,this)),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const v=this.getValue(this.model.color);this.updateSliderPosition(v)}onDidChangeColor(v){const _=this.getValue(v);this.updateSliderPosition(_)}onPointerDown(v){if(!v.target||!(v.target instanceof Element))return;const _=this._register(new E.GlobalPointerMoveMonitor),S=k.getDomNodePagePosition(this.domNode);this.domNode.classList.add("grabbing"),v.target!==this.slider&&this.onDidChangeTop(v.offsetY),_.startMonitoring(v.target,v.pointerId,v.buttons,I=>this.onDidChangeTop(I.pageY-S.top),()=>null);const L=k.addDisposableListener(v.target.ownerDocument,k.EventType.POINTER_UP,()=>{this._onColorFlushed.fire(),L.dispose(),_.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(v){const _=Math.max(0,Math.min(1,1-v/this.height));this.updateSliderPosition(_),this._onDidChange.fire(_)}updateSliderPosition(v){this.slider.style.top=`${(1-v)*this.height}px`}}class a extends r{constructor(v,_,S=!1){super(v,_,S),this.domNode.classList.add("opacity-strip"),this.onDidChangeColor(this.model.color)}onDidChangeColor(v){super.onDidChangeColor(v);const{r:_,g:S,b:L}=v.rgba,I=new p.Color(new p.RGBA(_,S,L,1)),T=new p.Color(new p.RGBA(_,S,L,0));this.overlay.style.background=`linear-gradient(to bottom, ${I} 0%, ${T} 100%)`}getValue(v){return v.hsva.a}}class h extends r{constructor(v,_,S=!1){super(v,_,S),this.domNode.classList.add("hue-strip")}getValue(v){return 1-v.hsva.h/360}}class l extends b.Disposable{constructor(v){super(),this._onClicked=this._register(new w.Emitter),this.onClicked=this._onClicked.event,this._button=k.append(v,document.createElement("button")),this._button.classList.add("insert-button"),this._button.textContent="Insert",this._register(k.addDisposableListener(this._button,k.EventType.CLICK,()=>{this._onClicked.fire()}))}get button(){return this._button}}e.InsertButton=l;class g extends D.Widget{constructor(v,_,S,L,I=!1){super(),this.model=_,this.pixelRatio=S,this._register(f.PixelRatio.getInstance(k.getWindow(v)).onDidChange(()=>this.layout()));const T=t(".colorpicker-widget");v.appendChild(T),this.header=this._register(new n(T,this.model,L,I)),this.body=this._register(new m(T,this.model,this.pixelRatio,I))}layout(){this.body.layout()}}e.ColorPickerWidget=g}),define(ie[209],ne([1,0,6,13,19,57,2,117,237,5,43,728,27,61,18,28,76,26,31,10,32,168,115,15,391]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkdownHoverParticipant=e.MarkdownHover=void 0,e.renderMarkdownHovers=A;const v=f.$,_=(0,c.registerIcon)("hover-increase-verbosity",m.Codicon.add,o.localize(0,null)),S=(0,c.registerIcon)("hover-decrease-verbosity",m.Codicon.remove,o.localize(1,null));class L{constructor(R,x,F,W,H,z=void 0){this.owner=R,this.range=x,this.contents=F,this.isBeforeContent=W,this.ordinal=H,this.source=z}isValidForHoverAnchor(R){return R.type===1&&this.range.startColumn<=R.range.startColumn&&this.range.endColumn>=R.range.endColumn}}e.MarkdownHover=L;class I{constructor(R,x,F){this.hover=R,this.hoverProvider=x,this.hoverPosition=F}supportsVerbosityAction(R){var x,F;switch(R){case n.HoverVerbosityAction.Increase:return(x=this.hover.canIncreaseVerbosity)!==null&&x!==void 0?x:!1;case n.HoverVerbosityAction.Decrease:return(F=this.hover.canDecreaseVerbosity)!==null&&F!==void 0?F:!1}}}let T=class{constructor(R,x,F,W,H,z,j){this._editor=R,this._languageService=x,this._openerService=F,this._configurationService=W,this._languageFeaturesService=H,this._keybindingService=z,this._hoverService=j,this.hoverOrdinal=3}createLoadingMessage(R){return new L(this,R.range,[new D.MarkdownString().appendText(o.localize(2,null))],!1,2e3)}computeSync(R,x){if(!this._editor.hasModel()||R.type!==1)return[];const F=this._editor.getModel(),W=R.range.startLineNumber,H=F.getLineMaxColumn(W),z=[];let j=1e3;const K=F.getLineLength(W),U=F.getLanguageIdAtPosition(R.range.startLineNumber,R.range.startColumn),G=this._editor.getOption(117),te=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:U});let ee=!1;G>=0&&K>G&&R.range.startColumn>=G&&(ee=!0,z.push(new L(this,R.range,[{value:o.localize(3,null)}],!1,j++))),!ee&&typeof te=="number"&&K>=te&&z.push(new L(this,R.range,[{value:o.localize(4,null)}],!1,j++));let Y=!1;for(const P of x){const Z=P.range.startLineNumber===W?P.range.startColumn:1,re=P.range.endLineNumber===W?P.range.endColumn:H,ce=P.options.hoverMessage;if(!ce||(0,D.isEmptyMarkdownString)(ce))continue;P.options.beforeContentClassName&&(Y=!0);const he=new b.Range(R.range.startLineNumber,Z,R.range.startLineNumber,re);z.push(new L(this,he,(0,k.asArray)(ce),Y,j++))}return z}computeAsync(R,x,F){if(!this._editor.hasModel()||R.type!==1)return g.AsyncIterableObject.EMPTY;const W=this._editor.getModel(),H=this._languageFeaturesService.hoverProvider;return H.has(W)?this._getMarkdownHovers(H,W,R,F):g.AsyncIterableObject.EMPTY}_getMarkdownHovers(R,x,F,W){const H=F.range.getStartPosition();return(0,d.getHoverProviderResultsAsAsyncIterable)(R,x,H,W).filter(K=>!(0,D.isEmptyMarkdownString)(K.hover.contents)).map(K=>{const U=K.hover.range?b.Range.lift(K.hover.range):F.range,G=new I(K.hover,K.provider,H);return new L(this,U,K.hover.contents,!1,K.ordinal,G)})}renderHoverParts(R,x){return this._renderedHoverParts=new N(x,R.fragment,this._editor,this._languageService,this._openerService,this._keybindingService,this._hoverService,this._configurationService,R.onContentsChanged),this._renderedHoverParts}updateFocusedMarkdownHoverPartVerbosityLevel(R){var x;(x=this._renderedHoverParts)===null||x===void 0||x.updateFocusedHoverPartVerbosityLevel(R)}};e.MarkdownHoverParticipant=T,e.MarkdownHoverParticipant=T=Ie([ue(1,C.ILanguageService),ue(2,i.IOpenerService),ue(3,s.IConfigurationService),ue(4,t.ILanguageFeaturesService),ue(5,a.IKeybindingService),ue(6,l.IHoverService)],T);class N extends y.Disposable{constructor(R,x,F,W,H,z,j,K,U){super(),this._editor=F,this._languageService=W,this._openerService=H,this._keybindingService=z,this._hoverService=j,this._configurationService=K,this._onFinishedRendering=U,this._hoverFocusInfo={hoverPartIndex:-1,focusRemains:!1},this._renderedHoverParts=this._renderHoverParts(R,x,this._onFinishedRendering),this._register((0,y.toDisposable)(()=>{this._renderedHoverParts.forEach(G=>{G.disposables.dispose()})}))}_renderHoverParts(R,x,F){return R.sort((0,k.compareBy)(W=>W.ordinal,k.numberComparator)),R.map((W,H)=>{const z=this._renderHoverPart(H,W.contents,W.source,F);return x.appendChild(z.renderedMarkdown),z})}_renderHoverPart(R,x,F,W){const{renderedMarkdown:H,disposables:z}=this._renderMarkdownContent(x,W);if(!F)return{renderedMarkdown:H,disposables:z};const j=F.supportsVerbosityAction(n.HoverVerbosityAction.Increase),K=F.supportsVerbosityAction(n.HoverVerbosityAction.Decrease);if(!j&&!K)return{renderedMarkdown:H,disposables:z,hoverSource:F};const U=v("div.verbosity-actions");H.prepend(U),z.add(this._renderHoverExpansionAction(U,n.HoverVerbosityAction.Increase,j)),z.add(this._renderHoverExpansionAction(U,n.HoverVerbosityAction.Decrease,K));const G=z.add(f.trackFocus(H));return z.add(G.onDidFocus(()=>{this._hoverFocusInfo={hoverPartIndex:R,focusRemains:!0}})),z.add(G.onDidBlur(()=>{var te;if(!((te=this._hoverFocusInfo)===null||te===void 0)&&te.focusRemains){this._hoverFocusInfo.focusRemains=!1;return}})),{renderedMarkdown:H,disposables:z,hoverSource:F}}_renderMarkdownContent(R,x){const F=v("div.hover-row");F.tabIndex=0;const W=v("div.hover-row-contents");F.appendChild(W);const H=new y.DisposableStore;return H.add(O(this._editor,W,R,this._languageService,this._openerService,x)),{renderedMarkdown:F,disposables:H}}_renderHoverExpansionAction(R,x,F){const W=new y.DisposableStore,H=x===n.HoverVerbosityAction.Increase,z=f.append(R,v(u.ThemeIcon.asCSSSelector(H?_:S)));z.tabIndex=0;const j=new l.WorkbenchHoverDelegate("mouse",!1,{target:R,position:{hoverPosition:0}},this._configurationService,this._hoverService);if(H){const U=this._keybindingService.lookupKeybinding(w.INCREASE_HOVER_VERBOSITY_ACTION_ID);W.add(this._hoverService.setupUpdatableHover(j,z,U?o.localize(5,null,U.getLabel()):o.localize(6,null)))}else{const U=this._keybindingService.lookupKeybinding(w.DECREASE_HOVER_VERBOSITY_ACTION_ID);W.add(this._hoverService.setupUpdatableHover(j,z,U?o.localize(7,null,U.getLabel()):o.localize(8,null)))}if(!F)return z.classList.add("disabled"),W;z.classList.add("enabled");const K=()=>this.updateFocusedHoverPartVerbosityLevel(x);return W.add(new h.ClickAction(z,K)),W.add(new h.KeyDownAction(z,K,[3,10])),W}async updateFocusedHoverPartVerbosityLevel(R){var x;const F=this._editor.getModel();if(!F)return;const W=this._hoverFocusInfo.hoverPartIndex,H=this._getRenderedHoverPartAtIndex(W);if(!H||!(!((x=H.hoverSource)===null||x===void 0)&&x.supportsVerbosityAction(R)))return;const z=H.hoverSource.hoverPosition,j=H.hoverSource.hoverProvider,K=H.hoverSource.hover,U={verbosityRequest:{action:R,previousHover:K}};let G;try{G=await Promise.resolve(j.provideHover(F,z,E.CancellationToken.None,U))}catch(Y){(0,r.onUnexpectedExternalError)(Y)}if(!G)return;const te=new I(G,j,z),ee=this._renderHoverPart(W,G.contents,te,this._onFinishedRendering);this._replaceRenderedHoverPartAtIndex(W,ee),this._focusOnHoverPartWithIndex(W),this._onFinishedRendering()}_replaceRenderedHoverPartAtIndex(R,x){if(R>=this._renderHoverParts.length||R<0)return;const F=this._renderedHoverParts[R];F.renderedMarkdown.replaceWith(x.renderedMarkdown),F.disposables.dispose(),this._renderedHoverParts[R]=x}_focusOnHoverPartWithIndex(R){this._renderedHoverParts[R].renderedMarkdown.focus(),this._hoverFocusInfo.focusRemains=!0}_getRenderedHoverPartAtIndex(R){return this._renderedHoverParts[R]}}function A(M,R,x,F,W){R.sort((0,k.compareBy)(z=>z.ordinal,k.numberComparator));const H=new y.DisposableStore;for(const z of R)H.add(O(x,M.fragment,z.contents,F,W,M.onContentsChanged));return H}function O(M,R,x,F,W,H){const z=new y.DisposableStore;for(const j of x){if((0,D.isEmptyMarkdownString)(j))continue;const K=v("div.markdown-hover"),U=f.append(K,v("div.hover-contents")),G=z.add(new p.MarkdownRenderer({editor:M},F,W));z.add(G.onDidRenderAsync(()=>{U.className="hover-contents code-hover-contents",H()}));const te=z.add(G.render(j));U.appendChild(te.element),R.appendChild(K)}return z}}),define(ie[894],ne([1,0,6,47,81,26,7,2,12,20,43,117,262,745,14,61,33,76,31,503]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ParameterHintsWidget=void 0;const a=f.$,h=(0,m.registerIcon)("parameter-hints-next",D.Codicon.chevronDown,i.localize(0,null)),l=(0,m.registerIcon)("parameter-hints-previous",D.Codicon.chevronUp,i.localize(1,null));let g=r=class extends p.Disposable{constructor(v,_,S,L,I){super(),this.editor=v,this.model=_,this.renderDisposeables=this._register(new p.DisposableStore),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new o.MarkdownRenderer({editor:v},I,L)),this.keyVisible=s.Context.Visible.bindTo(S),this.keyMultipleSignatures=s.Context.MultipleSignatures.bindTo(S)}createParameterHintDOMNodes(){const v=a(".editor-widget.parameter-hints-widget"),_=f.append(v,a(".phwrapper"));_.tabIndex=-1;const S=f.append(_,a(".controls")),L=f.append(S,a(".button"+u.ThemeIcon.asCSSSelector(l))),I=f.append(S,a(".overloads")),T=f.append(S,a(".button"+u.ThemeIcon.asCSSSelector(h)));this._register(f.addDisposableListener(L,"click",x=>{f.EventHelper.stop(x),this.previous()})),this._register(f.addDisposableListener(T,"click",x=>{f.EventHelper.stop(x),this.next()}));const N=a(".body"),A=new E.DomScrollableElement(N,{alwaysConsumeMouseWheel:!0});this._register(A),_.appendChild(A.getDomNode());const O=f.append(N,a(".signature")),M=f.append(N,a(".docs"));v.style.userSelect="text",this.domNodes={element:v,signature:O,overloads:I,docs:M,scrollbar:A},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(x=>{this.visible&&this.editor.layoutContentWidget(this)}));const R=()=>{if(!this.domNodes)return;const x=this.editor.getOption(50);this.domNodes.element.style.fontSize=`${x.fontSize}px`,this.domNodes.element.style.lineHeight=`${x.lineHeight/x.fontSize}`};R(),this._register(y.Event.chain(this.editor.onDidChangeConfiguration.bind(this.editor),x=>x.filter(F=>F.hasChanged(50)))(R)),this._register(this.editor.onDidLayoutChange(x=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var v;(v=this.domNodes)===null||v===void 0||v.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var v;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(v=this.domNodes)===null||v===void 0||v.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(v){var _;if(this.renderDisposeables.clear(),!this.domNodes)return;const S=v.signatures.length>1;this.domNodes.element.classList.toggle("multiple",S),this.keyMultipleSignatures.set(S),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const L=v.signatures[v.activeSignature];if(!L)return;const I=f.append(this.domNodes.signature,a(".code")),T=this.editor.getOption(50);I.style.fontSize=`${T.fontSize}px`,I.style.fontFamily=T.fontFamily;const N=L.parameters.length>0,A=(_=L.activeParameter)!==null&&_!==void 0?_:v.activeParameter;if(N)this.renderParameters(I,L,A);else{const R=f.append(I,a("span"));R.textContent=L.label}const O=L.parameters[A];if(O?.documentation){const R=a("span.documentation");if(typeof O.documentation=="string")R.textContent=O.documentation;else{const x=this.renderMarkdownDocs(O.documentation);R.appendChild(x.element)}f.append(this.domNodes.docs,a("p",{},R))}if(L.documentation!==void 0)if(typeof L.documentation=="string")f.append(this.domNodes.docs,a("p",{},L.documentation));else{const R=this.renderMarkdownDocs(L.documentation);f.append(this.domNodes.docs,R.element)}const M=this.hasDocs(L,O);if(this.domNodes.signature.classList.toggle("has-docs",M),this.domNodes.docs.classList.toggle("empty",!M),this.domNodes.overloads.textContent=String(v.activeSignature+1).padStart(v.signatures.length.toString().length,"0")+"/"+v.signatures.length,O){let R="";const x=L.parameters[A];Array.isArray(x.label)?R=L.label.substring(x.label[0],x.label[1]):R=x.label,x.documentation&&(R+=typeof x.documentation=="string"?`, ${x.documentation}`:`, ${x.documentation.value}`),L.documentation&&(R+=typeof L.documentation=="string"?`, ${L.documentation}`:`, ${L.documentation.value}`),this.announcedLabel!==R&&(k.alert(i.localize(2,null,R)),this.announcedLabel=R)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(v){const _=this.renderDisposeables.add(this.markdownRenderer.render(v,{asyncRenderCallback:()=>{var S;(S=this.domNodes)===null||S===void 0||S.scrollbar.scanDomNode()}}));return _.element.classList.add("markdown-docs"),_}hasDocs(v,_){return!!(_&&typeof _.documentation=="string"&&(0,b.assertIsDefined)(_.documentation).length>0||_&&typeof _.documentation=="object"&&(0,b.assertIsDefined)(_.documentation).value.length>0||v.documentation&&typeof v.documentation=="string"&&(0,b.assertIsDefined)(v.documentation).length>0||v.documentation&&typeof v.documentation=="object"&&(0,b.assertIsDefined)(v.documentation.value).length>0)}renderParameters(v,_,S){const[L,I]=this.getParameterLabelOffsets(_,S),T=document.createElement("span");T.textContent=_.label.substring(0,L);const N=document.createElement("span");N.textContent=_.label.substring(L,I),N.className="parameter active";const A=document.createElement("span");A.textContent=_.label.substring(I),f.append(v,T,N,A)}getParameterLabelOffsets(v,_){const S=v.parameters[_];if(S){if(Array.isArray(S.label))return S.label;if(S.label.length){const L=new RegExp(`(\\W|^)${(0,w.escapeRegExpCharacters)(S.label)}(?=\\W|$)`,"g");L.test(v.label);const I=L.lastIndex-S.label.length;return I>=0?[I,L.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return r.ID}updateMaxHeight(){if(!this.domNodes)return;const _=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=_;const S=this.domNodes.element.getElementsByClassName("phwrapper");S.length&&(S[0].style.maxHeight=_)}};e.ParameterHintsWidget=g,g.ID="editor.widget.parameterHintsWidget",e.ParameterHintsWidget=g=r=Ie([ue(2,t.IContextKeyService),ue(3,n.IOpenerService),ue(4,C.ILanguageService)],g),(0,c.registerColor)("editorHoverWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},i.localize(3,null))}),define(ie[895],ne([1,0,95,2,16,21,28,18,815,262,744,14,8,894]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerParameterHintsAction=e.ParameterHintsController=void 0;let n=t=class extends k.Disposable{static get(a){return a.getContribution(t.ID)}constructor(a,h,l){super(),this.editor=a,this.model=this._register(new w.ParameterHintsModel(a,l.signatureHelpProvider)),this._register(this.model.onChangedHints(g=>{var d;g?(this.widget.value.show(),this.widget.value.render(g)):(d=this.widget.rawValue)===null||d===void 0||d.hide()})),this.widget=new f.Lazy(()=>this._register(h.createInstance(i.ParameterHintsWidget,this.editor,this.model)))}cancel(){this.model.cancel()}previous(){var a;(a=this.widget.rawValue)===null||a===void 0||a.previous()}next(){var a;(a=this.widget.rawValue)===null||a===void 0||a.next()}trigger(a){this.model.trigger(a,0)}};e.ParameterHintsController=n,n.ID="editor.controller.parameterHints",e.ParameterHintsController=n=t=Ie([ue(1,s.IInstantiationService),ue(2,p.ILanguageFeaturesService)],n);class c extends E.EditorAction{constructor(){super({id:"editor.action.triggerParameterHints",label:C.localize(0,null),alias:"Trigger Parameter Hints",precondition:D.EditorContextKeys.hasSignatureHelpProvider,kbOpts:{kbExpr:D.EditorContextKeys.editorTextFocus,primary:3082,weight:100}})}run(a,h){const l=n.get(h);l?.trigger({triggerKind:y.SignatureHelpTriggerKind.Invoke})}}e.TriggerParameterHintsAction=c,(0,E.registerEditorContribution)(n.ID,n,2),(0,E.registerEditorAction)(c);const m=175,u=E.EditorCommand.bindToContribution(n.get);(0,E.registerEditorCommand)(new u({id:"closeParameterHints",precondition:b.Context.Visible,handler:r=>r.cancel(),kbOpts:{weight:m,kbExpr:D.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new u({id:"showPrevParameterHint",precondition:o.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:r=>r.previous(),kbOpts:{weight:m,kbExpr:D.EditorContextKeys.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,E.registerEditorCommand)(new u({id:"showNextParameterHint",precondition:o.ContextKeyExpr.and(b.Context.Visible,b.Context.MultipleSignatures),handler:r=>r.next(),kbOpts:{weight:m,kbExpr:D.EditorContextKeys.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}))}),define(ie[896],ne([1,0,6,82,41,2,117,8,833,76,31,510]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BannerController=void 0;const o=26;let s=class extends D.Disposable{constructor(n,c){super(),this._editor=n,this.instantiationService=c,this.banner=this._register(this.instantiationService.createInstance(i))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(n){this.banner.show({...n,onClose:()=>{var c;this.hide(),(c=n.onClose)===null||c===void 0||c.call(n)}}),this._editor.setBanner(this.banner.element,o)}};e.BannerController=s,e.BannerController=s=Ie([ue(1,p.IInstantiationService)],s);let i=class extends D.Disposable{constructor(n){super(),this.instantiationService=n,this.markdownRenderer=this.instantiationService.createInstance(y.MarkdownRenderer,{}),this.element=(0,f.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(n){if(n.ariaLabel)return n.ariaLabel;if(typeof n.message=="string")return n.message}getBannerMessage(n){if(typeof n=="string"){const c=(0,f.$)("span");return c.innerText=n,c}return this.markdownRenderer.render(n).element}clear(){(0,f.clearNode)(this.element)}show(n){(0,f.clearNode)(this.element);const c=this.getAriaLabel(n);c&&this.element.setAttribute("aria-label",c);const m=(0,f.append)(this.element,(0,f.$)("div.icon-container"));m.setAttribute("aria-hidden","true"),n.icon&&m.appendChild((0,f.$)(`div${C.ThemeIcon.asCSSSelector(n.icon)}`));const u=(0,f.append)(this.element,(0,f.$)("div.message-container"));if(u.setAttribute("aria-hidden","true"),u.appendChild(this.getBannerMessage(n.message)),this.messageActionsContainer=(0,f.append)(this.element,(0,f.$)("div.message-actions-container")),n.actions)for(const a of n.actions)this._register(this.instantiationService.createInstance(w.Link,this.messageActionsContainer,{...a,tabIndex:-1},{}));const r=(0,f.append)(this.element,(0,f.$)("div.action-container"));this.actionBar=this._register(new k.ActionBar(r)),this.actionBar.push(this._register(new E.Action("banner.close","Close Banner",C.ThemeIcon.asClassName(b.widgetClose),!0,()=>{typeof n.onClose=="function"&&n.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};i=Ie([ue(0,p.IInstantiationService)],i)}),define(ie[897],ne([1,0,6,7,2,31,76]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UnthemedProductIconTheme=void 0,e.getIconsStyleSheet=p;function p(b){const C=new E.DisposableStore,o=C.add(new k.Emitter),s=(0,y.getIconRegistry)();return C.add(s.onDidChange(()=>o.fire())),b&&C.add(b.onDidProductIconThemeChange(()=>o.fire())),{dispose:()=>C.dispose(),onDidChange:o.event,getCSS(){const i=b?b.getProductIconTheme():new w,t={},n=[],c=[];for(const m of s.getIcons()){const u=i.getIcon(m);if(!u)continue;const r=u.font,a=`--vscode-icon-${m.id}-font-family`,h=`--vscode-icon-${m.id}-content`;r?(t[r.id]=r.definition,c.push(`${a}: ${(0,f.asCSSPropertyValue)(r.id)};`,`${h}: '${u.fontCharacter}';`),n.push(`.codicon-${m.id}:before { content: '${u.fontCharacter}'; font-family: ${(0,f.asCSSPropertyValue)(r.id)}; }`)):(c.push(`${h}: '${u.fontCharacter}'; ${a}: 'codicon';`),n.push(`.codicon-${m.id}:before { content: '${u.fontCharacter}'; }`))}for(const m in t){const u=t[m],r=u.weight?`font-weight: ${u.weight};`:"",a=u.style?`font-style: ${u.style};`:"",h=u.src.map(l=>`${(0,f.asCSSUrl)(l.location)} format('${l.format}')`).join(", ");n.push(`@font-face { src: ${h}; font-family: ${(0,f.asCSSPropertyValue)(m)};${r}${a} font-display: block; }`)}return n.push(`:root { ${c.join(" ")} }`),n.join(`
`)}}}class w{getIcon(C){const o=(0,y.getIconRegistry)();let s=C.defaults;for(;D.ThemeIcon.isThemeIcon(s);){const i=o.getIcon(s.id);if(!i)return;s=i.defaults}return s}}e.UnthemedProductIconTheme=w}),define(ie[94],ne([1,0]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorScheme=void 0,e.isHighContrast=k,e.isDark=E;var f;(function(D){D.DARK="dark",D.LIGHT="light",D.HIGH_CONTRAST_DARK="hcDark",D.HIGH_CONTRAST_LIGHT="hcLight"})(f||(e.ColorScheme=f={}));function k(D){return D===f.HIGH_CONTRAST_DARK||D===f.HIGH_CONTRAST_LIGHT}function E(D){return D===f.DARK||D===f.HIGH_CONTRAST_DARK}}),define(ie[274],ne([1,0,63,40,17,525,159,146,131,94,38]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLine=e.ViewLineOptions=void 0,e.getColumnOfNodeOffset=h;const o=function(){return E.isNative?!0:!(E.isLinux||f.isFirefox||f.isSafari)}();let s=!0;class i{constructor(g,d){this.themeType=d;const v=g.options,_=v.get(50);v.get(38)==="off"?this.renderWhitespace=v.get(99):this.renderWhitespace="none",this.renderControlCharacters=v.get(94),this.spaceWidth=_.spaceWidth,this.middotWidth=_.middotWidth,this.wsmiddotWidth=_.wsmiddotWidth,this.useMonospaceOptimizations=_.isMonospace&&!v.get(33),this.canUseHalfwidthRightwardsArrow=_.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(67),this.stopRenderingLineAfter=v.get(117),this.fontLigatures=v.get(51)}equals(g){return this.themeType===g.themeType&&this.renderWhitespace===g.renderWhitespace&&this.renderControlCharacters===g.renderControlCharacters&&this.spaceWidth===g.spaceWidth&&this.middotWidth===g.middotWidth&&this.wsmiddotWidth===g.wsmiddotWidth&&this.useMonospaceOptimizations===g.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===g.canUseHalfwidthRightwardsArrow&&this.lineHeight===g.lineHeight&&this.stopRenderingLineAfter===g.stopRenderingLineAfter&&this.fontLigatures===g.fontLigatures}}e.ViewLineOptions=i;class t{constructor(g){this._options=g,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(g){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,k.createFastDomNode)(g);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(g){this._isMaybeInvalid=!0,this._options=g}onSelectionChanged(){return(0,b.isHighContrast)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(g,d,v,_,S){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const L=_.getViewLineRenderingData(g),I=this._options,T=p.LineDecoration.filter(L.inlineDecorations,g,L.minColumn,L.maxColumn);let N=null;if((0,b.isHighContrast)(I.themeType)||this._options.renderWhitespace==="selection"){const R=_.selections;for(const x of R){if(x.endLineNumber<g||x.startLineNumber>g)continue;const F=x.startLineNumber===g?x.startColumn:L.minColumn,W=x.endLineNumber===g?x.endColumn:L.maxColumn;F<W&&((0,b.isHighContrast)(I.themeType)&&T.push(new p.LineDecoration(F,W,"inline-selected-text",0)),this._options.renderWhitespace==="selection"&&(N||(N=[]),N.push(new w.LineRange(F-1,W-1))))}}const A=new w.RenderLineInput(I.useMonospaceOptimizations,I.canUseHalfwidthRightwardsArrow,L.content,L.continuesWithWrappedLine,L.isBasicASCII,L.containsRTL,L.minColumn-1,L.tokens,T,L.tabSize,L.startVisibleColumn,I.spaceWidth,I.middotWidth,I.wsmiddotWidth,I.stopRenderingLineAfter,I.renderWhitespace,I.renderControlCharacters,I.fontLigatures!==C.EditorFontLigatures.OFF,N);if(this._renderedViewLine&&this._renderedViewLine.input.equals(A))return!1;S.appendString('<div style="top:'),S.appendString(String(d)),S.appendString("px;height:"),S.appendString(String(v)),S.appendString('px;" class="'),S.appendString(t.CLASS_NAME),S.appendString('">');const O=(0,w.renderViewLine)(A,S);S.appendString("</div>");let M=null;return s&&o&&L.isBasicASCII&&I.useMonospaceOptimizations&&O.containsForeignElements===0&&(M=new n(this._renderedViewLine?this._renderedViewLine.domNode:null,A,O.characterMapping)),M||(M=u(this._renderedViewLine?this._renderedViewLine.domNode:null,A,O.characterMapping,O.containsRTL,O.containsForeignElements)),this._renderedViewLine=M,!0}layoutLine(g,d,v){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(d),this._renderedViewLine.domNode.setHeight(v))}getWidth(g){return this._renderedViewLine?this._renderedViewLine.getWidth(g):0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof n:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof n?this._renderedViewLine.monospaceAssumptionsAreValid():s}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof n&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(g,d,v,_){if(!this._renderedViewLine)return null;d=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,d)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const S=this._renderedViewLine.input.stopRenderingLineAfter;if(S!==-1&&d>S+1&&v>S+1)return new y.VisibleRanges(!0,[new y.FloatHorizontalRange(this.getWidth(_),0)]);S!==-1&&d>S+1&&(d=S+1),S!==-1&&v>S+1&&(v=S+1);const L=this._renderedViewLine.getVisibleRangesForRange(g,d,v,_);return L&&L.length>0?new y.VisibleRanges(!1,L):null}getColumnOfNodeOffset(g,d){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(g,d):1}}e.ViewLine=t,t.CLASS_NAME="view-line";class n{constructor(g,d,v){this._cachedWidth=-1,this.domNode=g,this.input=d;const _=Math.floor(d.lineContent.length/300);if(_>0){this._keyColumnPixelOffsetCache=new Float32Array(_);for(let S=0;S<_;S++)this._keyColumnPixelOffsetCache[S]=-1}else this._keyColumnPixelOffsetCache=null;this._characterMapping=v,this._charWidth=d.spaceWidth}getWidth(g){if(!this.domNode||this.input.lineContent.length<300){const d=this._characterMapping.getHorizontalOffset(this._characterMapping.length);return Math.round(this._charWidth*d)}return this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth}getWidthIsFast(){return this.input.lineContent.length<300||this._cachedWidth!==-1}monospaceAssumptionsAreValid(){if(!this.domNode)return s;if(this.input.lineContent.length<300){const g=this.getWidth(null),d=this.domNode.domNode.firstChild.offsetWidth;Math.abs(g-d)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),s=!1)}return s}toSlowRenderedLine(){return u(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(g,d,v,_){const S=this._getColumnPixelOffset(g,d,_),L=this._getColumnPixelOffset(g,v,_);return[new y.FloatHorizontalRange(S,L-S)]}_getColumnPixelOffset(g,d,v){if(d<=300){const N=this._characterMapping.getHorizontalOffset(d);return this._charWidth*N}const _=Math.floor((d-1)/300)-1,S=(_+1)*300+1;let L=-1;if(this._keyColumnPixelOffsetCache&&(L=this._keyColumnPixelOffsetCache[_],L===-1&&(L=this._actualReadPixelOffset(g,S,v),this._keyColumnPixelOffsetCache[_]=L)),L===-1){const N=this._characterMapping.getHorizontalOffset(d);return this._charWidth*N}const I=this._characterMapping.getHorizontalOffset(S),T=this._characterMapping.getHorizontalOffset(d);return L+this._charWidth*(T-I)}_getReadingTarget(g){return g.domNode.firstChild}_actualReadPixelOffset(g,d,v){if(!this.domNode)return-1;const _=this._characterMapping.getDomPosition(d),S=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(this.domNode),_.partIndex,_.charIndex,_.partIndex,_.charIndex,v);return!S||S.length===0?-1:S[0].left}getColumnOfNodeOffset(g,d){return h(this._characterMapping,g,d)}}class c{constructor(g,d,v,_,S){if(this.domNode=g,this.input=d,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(d.lineContent),this._containsForeignElements=S,this._cachedWidth=-1,this._pixelOffsetCache=null,!_||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let L=0,I=this._characterMapping.length;L<=I;L++)this._pixelOffsetCache[L]=-1}}_getReadingTarget(g){return g.domNode.firstChild}getWidth(g){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth,g?.markDidDomLayout()),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(g,d,v,_){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const S=this._readPixelOffset(this.domNode,g,d,_);if(S===-1)return null;const L=this._readPixelOffset(this.domNode,g,v,_);return L===-1?null:[new y.FloatHorizontalRange(S,L-S)]}return this._readVisibleRangesForRange(this.domNode,g,d,v,_)}_readVisibleRangesForRange(g,d,v,_,S){if(v===_){const L=this._readPixelOffset(g,d,v,S);return L===-1?null:[new y.FloatHorizontalRange(L,0)]}else return this._readRawVisibleRangesForRange(g,v,_,S)}_readPixelOffset(g,d,v,_){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth(_);const S=this._getReadingTarget(g);return S.firstChild?(_.markDidDomLayout(),S.firstChild.offsetWidth):0}if(this._pixelOffsetCache!==null){const S=this._pixelOffsetCache[v];if(S!==-1)return S;const L=this._actualReadPixelOffset(g,d,v,_);return this._pixelOffsetCache[v]=L,L}return this._actualReadPixelOffset(g,d,v,_)}_actualReadPixelOffset(g,d,v,_){if(this._characterMapping.length===0){const T=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),0,0,0,0,_);return!T||T.length===0?-1:T[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth(_);const S=this._characterMapping.getDomPosition(v),L=D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),S.partIndex,S.charIndex,S.partIndex,S.charIndex,_);if(!L||L.length===0)return-1;const I=L[0].left;if(this.input.isBasicASCII){const T=this._characterMapping.getHorizontalOffset(v),N=Math.round(this.input.spaceWidth*T);if(Math.abs(N-I)<=1)return N}return I}_readRawVisibleRangesForRange(g,d,v,_){if(d===1&&v===this._characterMapping.length)return[new y.FloatHorizontalRange(0,this.getWidth(_))];const S=this._characterMapping.getDomPosition(d),L=this._characterMapping.getDomPosition(v);return D.RangeUtil.readHorizontalRanges(this._getReadingTarget(g),S.partIndex,S.charIndex,L.partIndex,L.charIndex,_)}getColumnOfNodeOffset(g,d){return h(this._characterMapping,g,d)}}class m extends c{_readVisibleRangesForRange(g,d,v,_,S){const L=super._readVisibleRangesForRange(g,d,v,_,S);if(!L||L.length===0||v===_||v===1&&_===this._characterMapping.length)return L;if(!this.input.containsRTL){const I=this._readPixelOffset(g,d,_,S);if(I!==-1){const T=L[L.length-1];T.left<I&&(T.width=I-T.left)}}return L}}const u=function(){return f.isWebKit?r:a}();function r(l,g,d,v,_){return new m(l,g,d,v,_)}function a(l,g,d,v,_){return new c(l,g,d,v,_)}function h(l,g,d){const v=g.textContent.length;let _=-1;for(;g;)g=g.previousSibling,_++;return l.getColumn(new w.DomPosition(_,d),v)}}),define(ie[395],ne([1,0,178,56,274,9,5,90,6,304,95]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseTargetFactory=e.HitTestContext=e.MouseTarget=e.PointerHandlerLastRenderData=void 0;class o{constructor(_=null){this.hitTarget=_,this.type=0}}class s{get hitTarget(){return this.spanNode}constructor(_,S,L){this.position=_,this.spanNode=S,this.injectedText=L,this.type=1}}var i;(function(v){function _(S,L,I){const T=S.getPositionFromDOMInfo(L,I);return T?new s(T,L,null):new o(L)}v.createFromDOMInfo=_})(i||(i={}));class t{constructor(_,S){this.lastViewCursorsRenderData=_,this.lastTextareaPosition=S}}e.PointerHandlerLastRenderData=t;class n{static _deduceRage(_,S=null){return!S&&_?new y.Range(_.lineNumber,_.column,_.lineNumber,_.column):S??null}static createUnknown(_,S,L){return{type:0,element:_,mouseColumn:S,position:L,range:this._deduceRage(L)}}static createTextarea(_,S){return{type:1,element:_,mouseColumn:S,position:null,range:null}}static createMargin(_,S,L,I,T,N){return{type:_,element:S,mouseColumn:L,position:I,range:T,detail:N}}static createViewZone(_,S,L,I,T){return{type:_,element:S,mouseColumn:L,position:I,range:this._deduceRage(I),detail:T}}static createContentText(_,S,L,I,T){return{type:6,element:_,mouseColumn:S,position:L,range:this._deduceRage(L,I),detail:T}}static createContentEmpty(_,S,L,I){return{type:7,element:_,mouseColumn:S,position:L,range:this._deduceRage(L),detail:I}}static createContentWidget(_,S,L){return{type:9,element:_,mouseColumn:S,position:null,range:null,detail:L}}static createScrollbar(_,S,L){return{type:11,element:_,mouseColumn:S,position:L,range:this._deduceRage(L)}}static createOverlayWidget(_,S,L){return{type:12,element:_,mouseColumn:S,position:null,range:null,detail:L}}static createOutsideEditor(_,S,L,I){return{type:13,element:null,mouseColumn:_,position:S,range:this._deduceRage(S),outsidePosition:L,outsideDistance:I}}static _typeToString(_){return _===1?"TEXTAREA":_===2?"GUTTER_GLYPH_MARGIN":_===3?"GUTTER_LINE_NUMBERS":_===4?"GUTTER_LINE_DECORATIONS":_===5?"GUTTER_VIEW_ZONE":_===6?"CONTENT_TEXT":_===7?"CONTENT_EMPTY":_===8?"CONTENT_VIEW_ZONE":_===9?"CONTENT_WIDGET":_===10?"OVERVIEW_RULER":_===11?"SCROLLBAR":_===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(_){return this._typeToString(_.type)+": "+_.position+" - "+_.range+" - "+JSON.stringify(_.detail)}}e.MouseTarget=n;class c{static isTextArea(_){return _.length===2&&_[0]===3&&_[1]===7}static isChildOfViewLines(_){return _.length>=4&&_[0]===3&&_[3]===8}static isStrictChildOfViewLines(_){return _.length>4&&_[0]===3&&_[3]===8}static isChildOfScrollableElement(_){return _.length>=2&&_[0]===3&&_[1]===6}static isChildOfMinimap(_){return _.length>=2&&_[0]===3&&_[1]===9}static isChildOfContentWidgets(_){return _.length>=4&&_[0]===3&&_[3]===1}static isChildOfOverflowGuard(_){return _.length>=1&&_[0]===3}static isChildOfOverflowingContentWidgets(_){return _.length>=1&&_[0]===2}static isChildOfOverlayWidgets(_){return _.length>=2&&_[0]===3&&_[1]===4}static isChildOfOverflowingOverlayWidgets(_){return _.length>=1&&_[0]===5}}class m{constructor(_,S,L){this.viewModel=_.viewModel;const I=_.configuration.options;this.layoutInfo=I.get(145),this.viewDomNode=S.viewDomNode,this.lineHeight=I.get(67),this.stickyTabStops=I.get(116),this.typicalHalfwidthCharacterWidth=I.get(50).typicalHalfwidthCharacterWidth,this.lastRenderData=L,this._context=_,this._viewHelper=S}getZoneAtCoord(_){return m.getZoneAtCoord(this._context,_)}static getZoneAtCoord(_,S){const L=_.viewLayout.getWhitespaceAtVerticalOffset(S);if(L){const I=L.verticalOffset+L.height/2,T=_.viewModel.getLineCount();let N=null,A,O=null;return L.afterLineNumber!==T&&(O=new D.Position(L.afterLineNumber+1,1)),L.afterLineNumber>0&&(N=new D.Position(L.afterLineNumber,_.viewModel.getLineMaxColumn(L.afterLineNumber))),O===null?A=N:N===null?A=O:S<I?A=N:A=O,{viewZoneId:L.id,afterLineNumber:L.afterLineNumber,positionBefore:N,positionAfter:O,position:A}}return null}getFullLineRangeAtCoord(_){if(this._context.viewLayout.isAfterLines(_)){const I=this._context.viewModel.getLineCount(),T=this._context.viewModel.getLineMaxColumn(I);return{range:new y.Range(I,T,I,T),isAfterLines:!0}}const S=this._context.viewLayout.getLineNumberAtVerticalOffset(_),L=this._context.viewModel.getLineMaxColumn(S);return{range:new y.Range(S,1,S,L),isAfterLines:!1}}getLineNumberAtVerticalOffset(_){return this._context.viewLayout.getLineNumberAtVerticalOffset(_)}isAfterLines(_){return this._context.viewLayout.isAfterLines(_)}isInTopPadding(_){return this._context.viewLayout.isInTopPadding(_)}isInBottomPadding(_){return this._context.viewLayout.isInBottomPadding(_)}getVerticalOffsetForLineNumber(_){return this._context.viewLayout.getVerticalOffsetForLineNumber(_)}findAttribute(_,S){return m._findAttribute(_,S,this._viewHelper.viewDomNode)}static _findAttribute(_,S,L){for(;_&&_!==_.ownerDocument.body;){if(_.hasAttribute&&_.hasAttribute(S))return _.getAttribute(S);if(_===L)return null;_=_.parentNode}return null}getLineWidth(_){return this._viewHelper.getLineWidth(_)}visibleRangeForPosition(_,S){return this._viewHelper.visibleRangeForPosition(_,S)}getPositionFromDOMInfo(_,S){return this._viewHelper.getPositionFromDOMInfo(_,S)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}e.HitTestContext=m;class u{constructor(_,S,L,I){this.editorPos=S,this.pos=L,this.relativePos=I,this.mouseVerticalOffset=Math.max(0,_.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=_.getCurrentScrollLeft()+this.relativePos.x-_.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<_.layoutInfo.contentLeft&&this.relativePos.x>=_.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,l._getMouseColumn(this.mouseContentHorizontalOffset,_.typicalHalfwidthCharacterWidth))}}class r extends u{get target(){return this._useHitTestTarget?this.hitTestResult.value.hitTarget:this._eventTarget}get targetPath(){return this._targetPathCacheElement!==this.target&&(this._targetPathCacheElement=this.target,this._targetPathCacheValue=k.PartFingerprints.collect(this.target,this._ctx.viewDomNode)),this._targetPathCacheValue}constructor(_,S,L,I,T){super(_,S,L,I),this.hitTestResult=new C.Lazy(()=>l.doHitTest(this._ctx,this)),this._targetPathCacheElement=null,this._targetPathCacheValue=new Uint8Array(0),this._ctx=_,this._eventTarget=T;const N=!!this._eventTarget;this._useHitTestTarget=!N}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}get wouldBenefitFromHitTestTargetSwitch(){return!this._useHitTestTarget&&this.hitTestResult.value.hitTarget!==null&&this.target!==this.hitTestResult.value.hitTarget}switchToHitTestTarget(){this._useHitTestTarget=!0}_getMouseColumn(_=null){return _&&_.column<this._ctx.viewModel.getLineMaxColumn(_.lineNumber)?p.CursorColumns.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(_.lineNumber),_.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(_=null){return n.createUnknown(this.target,this._getMouseColumn(_),_)}fulfillTextarea(){return n.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(_,S,L,I){return n.createMargin(_,this.target,this._getMouseColumn(S),S,L,I)}fulfillViewZone(_,S,L){return n.createViewZone(_,this.target,this._getMouseColumn(S),S,L)}fulfillContentText(_,S,L){return n.createContentText(this.target,this._getMouseColumn(_),_,S,L)}fulfillContentEmpty(_,S){return n.createContentEmpty(this.target,this._getMouseColumn(_),_,S)}fulfillContentWidget(_){return n.createContentWidget(this.target,this._getMouseColumn(),_)}fulfillScrollbar(_){return n.createScrollbar(this.target,this._getMouseColumn(_),_)}fulfillOverlayWidget(_){return n.createOverlayWidget(this.target,this._getMouseColumn(),_)}}const a={isAfterLines:!0};function h(v){return{isAfterLines:!1,horizontalDistanceToText:v}}class l{constructor(_,S){this._context=_,this._viewHelper=S}mouseTargetIsWidget(_){const S=_.target,L=k.PartFingerprints.collect(S,this._viewHelper.viewDomNode);return!!(c.isChildOfContentWidgets(L)||c.isChildOfOverflowingContentWidgets(L)||c.isChildOfOverlayWidgets(L)||c.isChildOfOverflowingOverlayWidgets(L))}createMouseTarget(_,S,L,I,T){const N=new m(this._context,this._viewHelper,_),A=new r(N,S,L,I,T);try{const O=l._createMouseTarget(N,A);if(O.type===6&&N.stickyTabStops&&O.position!==null){const M=l._snapToSoftTabBoundary(O.position,N.viewModel),R=y.Range.fromPositions(M,M).plusRange(O.range);return A.fulfillContentText(M,R,O.detail)}return O}catch{return A.fulfillUnknown()}}static _createMouseTarget(_,S){if(S.target===null)return S.fulfillUnknown();const L=S;let I=null;return!c.isChildOfOverflowGuard(S.targetPath)&&!c.isChildOfOverflowingContentWidgets(S.targetPath)&&!c.isChildOfOverflowingOverlayWidgets(S.targetPath)&&(I=I||S.fulfillUnknown()),I=I||l._hitTestContentWidget(_,L),I=I||l._hitTestOverlayWidget(_,L),I=I||l._hitTestMinimap(_,L),I=I||l._hitTestScrollbarSlider(_,L),I=I||l._hitTestViewZone(_,L),I=I||l._hitTestMargin(_,L),I=I||l._hitTestViewCursor(_,L),I=I||l._hitTestTextArea(_,L),I=I||l._hitTestViewLines(_,L),I=I||l._hitTestScrollbar(_,L),I||S.fulfillUnknown()}static _hitTestContentWidget(_,S){if(c.isChildOfContentWidgets(S.targetPath)||c.isChildOfOverflowingContentWidgets(S.targetPath)){const L=_.findAttribute(S.target,"widgetId");return L?S.fulfillContentWidget(L):S.fulfillUnknown()}return null}static _hitTestOverlayWidget(_,S){if(c.isChildOfOverlayWidgets(S.targetPath)||c.isChildOfOverflowingOverlayWidgets(S.targetPath)){const L=_.findAttribute(S.target,"widgetId");return L?S.fulfillOverlayWidget(L):S.fulfillUnknown()}return null}static _hitTestViewCursor(_,S){if(S.target){const L=_.lastRenderData.lastViewCursorsRenderData;for(const I of L)if(S.target===I.domNode)return S.fulfillContentText(I.position,null,{mightBeForeignElement:!1,injectedText:null})}if(S.isInContentArea){const L=_.lastRenderData.lastViewCursorsRenderData,I=S.mouseContentHorizontalOffset,T=S.mouseVerticalOffset;for(const N of L){if(I<N.contentLeft||I>N.contentLeft+N.width)continue;const A=_.getVerticalOffsetForLineNumber(N.position.lineNumber);if(A<=T&&T<=A+N.height)return S.fulfillContentText(N.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(_,S){const L=_.getZoneAtCoord(S.mouseVerticalOffset);if(L){const I=S.isInContentArea?8:5;return S.fulfillViewZone(I,L.position,L)}return null}static _hitTestTextArea(_,S){return c.isTextArea(S.targetPath)?_.lastRenderData.lastTextareaPosition?S.fulfillContentText(_.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):S.fulfillTextarea():null}static _hitTestMargin(_,S){if(S.isInMarginArea){const L=_.getFullLineRangeAtCoord(S.mouseVerticalOffset),I=L.range.getStartPosition();let T=Math.abs(S.relativePos.x);const N={isAfterLines:L.isAfterLines,glyphMarginLeft:_.layoutInfo.glyphMarginLeft,glyphMarginWidth:_.layoutInfo.glyphMarginWidth,lineNumbersWidth:_.layoutInfo.lineNumbersWidth,offsetX:T};if(T-=_.layoutInfo.glyphMarginLeft,T<=_.layoutInfo.glyphMarginWidth){const A=_.viewModel.coordinatesConverter.convertViewPositionToModelPosition(L.range.getStartPosition()),O=_.viewModel.glyphLanes.getLanesAtLine(A.lineNumber);return N.glyphMarginLane=O[Math.floor(T/_.lineHeight)],S.fulfillMargin(2,I,L.range,N)}return T-=_.layoutInfo.glyphMarginWidth,T<=_.layoutInfo.lineNumbersWidth?S.fulfillMargin(3,I,L.range,N):(T-=_.layoutInfo.lineNumbersWidth,S.fulfillMargin(4,I,L.range,N))}return null}static _hitTestViewLines(_,S){if(!c.isChildOfViewLines(S.targetPath))return null;if(_.isInTopPadding(S.mouseVerticalOffset))return S.fulfillContentEmpty(new D.Position(1,1),a);if(_.isAfterLines(S.mouseVerticalOffset)||_.isInBottomPadding(S.mouseVerticalOffset)){const I=_.viewModel.getLineCount(),T=_.viewModel.getLineMaxColumn(I);return S.fulfillContentEmpty(new D.Position(I,T),a)}if(c.isStrictChildOfViewLines(S.targetPath)){const I=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset);if(_.viewModel.getLineLength(I)===0){const N=_.getLineWidth(I),A=h(S.mouseContentHorizontalOffset-N);return S.fulfillContentEmpty(new D.Position(I,1),A)}const T=_.getLineWidth(I);if(S.mouseContentHorizontalOffset>=T){const N=h(S.mouseContentHorizontalOffset-T),A=new D.Position(I,_.viewModel.getLineMaxColumn(I));return S.fulfillContentEmpty(A,N)}}const L=S.hitTestResult.value;return L.type===1?l.createMouseTargetFromHitTestPosition(_,S,L.spanNode,L.position,L.injectedText):S.wouldBenefitFromHitTestTargetSwitch?(S.switchToHitTestTarget(),this._createMouseTarget(_,S)):S.fulfillUnknown()}static _hitTestMinimap(_,S){if(c.isChildOfMinimap(S.targetPath)){const L=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=_.viewModel.getLineMaxColumn(L);return S.fulfillScrollbar(new D.Position(L,I))}return null}static _hitTestScrollbarSlider(_,S){if(c.isChildOfScrollableElement(S.targetPath)&&S.target&&S.target.nodeType===1){const L=S.target.className;if(L&&/\b(slider|scrollbar)\b/.test(L)){const I=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),T=_.viewModel.getLineMaxColumn(I);return S.fulfillScrollbar(new D.Position(I,T))}}return null}static _hitTestScrollbar(_,S){if(c.isChildOfScrollableElement(S.targetPath)){const L=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=_.viewModel.getLineMaxColumn(L);return S.fulfillScrollbar(new D.Position(L,I))}return null}getMouseColumn(_){const S=this._context.configuration.options,L=S.get(145),I=this._context.viewLayout.getCurrentScrollLeft()+_.x-L.contentLeft;return l._getMouseColumn(I,S.get(50).typicalHalfwidthCharacterWidth)}static _getMouseColumn(_,S){return _<0?1:Math.round(_/S)+1}static createMouseTargetFromHitTestPosition(_,S,L,I,T){const N=I.lineNumber,A=I.column,O=_.getLineWidth(N);if(S.mouseContentHorizontalOffset>O){const K=h(S.mouseContentHorizontalOffset-O);return S.fulfillContentEmpty(I,K)}const M=_.visibleRangeForPosition(N,A);if(!M)return S.fulfillUnknown(I);const R=M.left;if(Math.abs(S.mouseContentHorizontalOffset-R)<1)return S.fulfillContentText(I,null,{mightBeForeignElement:!!T,injectedText:T});const x=[];if(x.push({offset:M.left,column:A}),A>1){const K=_.visibleRangeForPosition(N,A-1);K&&x.push({offset:K.left,column:A-1})}const F=_.viewModel.getLineMaxColumn(N);if(A<F){const K=_.visibleRangeForPosition(N,A+1);K&&x.push({offset:K.left,column:A+1})}x.sort((K,U)=>K.offset-U.offset);const W=S.pos.toClientCoordinates(w.getWindow(_.viewDomNode)),H=L.getBoundingClientRect(),z=H.left<=W.clientX&&W.clientX<=H.right;let j=null;for(let K=1;K<x.length;K++){const U=x[K-1],G=x[K];if(U.offset<=S.mouseContentHorizontalOffset&&S.mouseContentHorizontalOffset<=G.offset){j=new y.Range(N,U.column,N,G.column);const te=Math.abs(U.offset-S.mouseContentHorizontalOffset),ee=Math.abs(G.offset-S.mouseContentHorizontalOffset);I=te<ee?new D.Position(N,U.column):new D.Position(N,G.column);break}}return S.fulfillContentText(I,j,{mightBeForeignElement:!z||!!T,injectedText:T})}static _doHitTestWithCaretRangeFromPoint(_,S){const L=_.getLineNumberAtVerticalOffset(S.mouseVerticalOffset),I=_.getVerticalOffsetForLineNumber(L),T=I+_.lineHeight;if(!(L===_.viewModel.getLineCount()&&S.mouseVerticalOffset>T)){const A=Math.floor((I+T)/2);let O=S.pos.y+(A-S.mouseVerticalOffset);O<=S.editorPos.y&&(O=S.editorPos.y+1),O>=S.editorPos.y+S.editorPos.height&&(O=S.editorPos.y+S.editorPos.height-1);const M=new f.PageCoordinates(S.pos.x,O),R=this._actualDoHitTestWithCaretRangeFromPoint(_,M.toClientCoordinates(w.getWindow(_.viewDomNode)));if(R.type===1)return R}return this._actualDoHitTestWithCaretRangeFromPoint(_,S.pos.toClientCoordinates(w.getWindow(_.viewDomNode)))}static _actualDoHitTestWithCaretRangeFromPoint(_,S){const L=w.getShadowRoot(_.viewDomNode);let I;if(L?typeof L.caretRangeFromPoint>"u"?I=g(L,S.clientX,S.clientY):I=L.caretRangeFromPoint(S.clientX,S.clientY):I=_.viewDomNode.ownerDocument.caretRangeFromPoint(S.clientX,S.clientY),!I||!I.startContainer)return new o;const T=I.startContainer;if(T.nodeType===T.TEXT_NODE){const N=T.parentNode,A=N?N.parentNode:null,O=A?A.parentNode:null;return(O&&O.nodeType===O.ELEMENT_NODE?O.className:null)===E.ViewLine.CLASS_NAME?i.createFromDOMInfo(_,N,I.startOffset):new o(T.parentNode)}else if(T.nodeType===T.ELEMENT_NODE){const N=T.parentNode,A=N?N.parentNode:null;return(A&&A.nodeType===A.ELEMENT_NODE?A.className:null)===E.ViewLine.CLASS_NAME?i.createFromDOMInfo(_,T,T.textContent.length):new o(T)}return new o}static _doHitTestWithCaretPositionFromPoint(_,S){const L=_.viewDomNode.ownerDocument.caretPositionFromPoint(S.clientX,S.clientY);if(L.offsetNode.nodeType===L.offsetNode.TEXT_NODE){const I=L.offsetNode.parentNode,T=I?I.parentNode:null,N=T?T.parentNode:null;return(N&&N.nodeType===N.ELEMENT_NODE?N.className:null)===E.ViewLine.CLASS_NAME?i.createFromDOMInfo(_,L.offsetNode.parentNode,L.offset):new o(L.offsetNode.parentNode)}if(L.offsetNode.nodeType===L.offsetNode.ELEMENT_NODE){const I=L.offsetNode.parentNode,T=I&&I.nodeType===I.ELEMENT_NODE?I.className:null,N=I?I.parentNode:null,A=N&&N.nodeType===N.ELEMENT_NODE?N.className:null;if(T===E.ViewLine.CLASS_NAME){const O=L.offsetNode.childNodes[Math.min(L.offset,L.offsetNode.childNodes.length-1)];if(O)return i.createFromDOMInfo(_,O,0)}else if(A===E.ViewLine.CLASS_NAME)return i.createFromDOMInfo(_,L.offsetNode,0)}return new o(L.offsetNode)}static _snapToSoftTabBoundary(_,S){const L=S.getLineContent(_.lineNumber),{tabSize:I}=S.model.getOptions(),T=b.AtomicTabMoveOperations.atomicPosition(L,_.column-1,I,2);return T!==-1?new D.Position(_.lineNumber,T+1):_}static doHitTest(_,S){let L=new o;if(typeof _.viewDomNode.ownerDocument.caretRangeFromPoint=="function"?L=this._doHitTestWithCaretRangeFromPoint(_,S):_.viewDomNode.ownerDocument.caretPositionFromPoint&&(L=this._doHitTestWithCaretPositionFromPoint(_,S.pos.toClientCoordinates(w.getWindow(_.viewDomNode)))),L.type===1){const I=_.viewModel.getInjectedTextAt(L.position),T=_.viewModel.normalizePosition(L.position,2);(I||!T.equals(L.position))&&(L=new s(T,L.spanNode,I))}return L}}e.MouseTargetFactory=l;function g(v,_,S){const L=document.createRange();let I=v.elementFromPoint(_,S);if(I!==null){for(;I&&I.firstChild&&I.firstChild.nodeType!==I.firstChild.TEXT_NODE&&I.lastChild&&I.lastChild.firstChild;)I=I.lastChild;const T=I.getBoundingClientRect(),N=w.getWindow(I),A=N.getComputedStyle(I,null).getPropertyValue("font-style"),O=N.getComputedStyle(I,null).getPropertyValue("font-variant"),M=N.getComputedStyle(I,null).getPropertyValue("font-weight"),R=N.getComputedStyle(I,null).getPropertyValue("font-size"),x=N.getComputedStyle(I,null).getPropertyValue("line-height"),F=N.getComputedStyle(I,null).getPropertyValue("font-family"),W=`${A} ${O} ${M} ${R}/${x} ${F}`,H=I.innerText;let z=T.left,j=0,K;if(_>T.left+T.width)j=H.length;else{const U=d.getInstance();for(let G=0;G<H.length+1;G++){if(K=U.getCharWidth(H.charAt(G),W)/2,z+=K,_<z){j=G;break}z+=K}}L.setStart(I.firstChild,j),L.setEnd(I.firstChild,j)}return L}class d{static getInstance(){return d._INSTANCE||(d._INSTANCE=new d),d._INSTANCE}constructor(){this._cache={},this._canvas=document.createElement("canvas")}getCharWidth(_,S){const L=_+S;if(this._cache[L])return this._cache[L];const I=this._canvas.getContext("2d");I.font=S;const N=I.measureText(_).width;return this._cache[L]=N,N}}d._INSTANCE=null}),define(ie[898],ne([1,0,6,73,2,17,395,178,160,9,24,165,81]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MouseHandler=void 0;class i extends o.ViewEventHandler{constructor(r,a,h){super(),this._mouseLeaveMonitor=null,this._context=r,this.viewController=a,this.viewHelper=h,this.mouseTargetFactory=new y.MouseTargetFactory(this._context,h),this._mouseDownOperation=this._register(new t(this._context,this.viewController,this.viewHelper,this.mouseTargetFactory,(d,v)=>this._createMouseTarget(d,v),d=>this._getMouseColumn(d))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(145).height;const l=new p.EditorMouseEventFactory(this.viewHelper.viewDomNode);this._register(l.onContextMenu(this.viewHelper.viewDomNode,d=>this._onContextMenu(d,!0))),this._register(l.onMouseMove(this.viewHelper.viewDomNode,d=>{this._onMouseMove(d),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=f.addDisposableListener(this.viewHelper.viewDomNode.ownerDocument,"mousemove",v=>{this.viewHelper.viewDomNode.contains(v.target)||this._onMouseLeave(new p.EditorMouseEvent(v,!1,this.viewHelper.viewDomNode))}))})),this._register(l.onMouseUp(this.viewHelper.viewDomNode,d=>this._onMouseUp(d))),this._register(l.onMouseLeave(this.viewHelper.viewDomNode,d=>this._onMouseLeave(d)));let g=0;this._register(l.onPointerDown(this.viewHelper.viewDomNode,(d,v)=>{g=v})),this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.POINTER_UP,d=>{this._mouseDownOperation.onPointerUp()})),this._register(l.onMouseDown(this.viewHelper.viewDomNode,d=>this._onMouseDown(d,g))),this._setupMouseWheelZoomListener(),this._context.addEventHandler(this)}_setupMouseWheelZoomListener(){const r=s.MouseWheelClassifier.INSTANCE;let a=0,h=w.EditorZoom.getZoomLevel(),l=!1,g=0;const d=_=>{if(this.viewController.emitMouseWheel(_),!this._context.configuration.options.get(76))return;const S=new k.StandardWheelEvent(_);if(r.acceptStandardWheelEvent(S),r.isPhysicalMouseWheel()){if(v(_)){const L=w.EditorZoom.getZoomLevel(),I=S.deltaY>0?1:-1;w.EditorZoom.setZoomLevel(L+I),S.preventDefault(),S.stopPropagation()}}else Date.now()-a>50&&(h=w.EditorZoom.getZoomLevel(),l=v(_),g=0),a=Date.now(),g+=S.deltaY,l&&(w.EditorZoom.setZoomLevel(h+g/5),S.preventDefault(),S.stopPropagation())};this._register(f.addDisposableListener(this.viewHelper.viewDomNode,f.EventType.MOUSE_WHEEL,d,{capture:!0,passive:!1}));function v(_){return D.isMacintosh?(_.metaKey||_.ctrlKey)&&!_.shiftKey&&!_.altKey:_.ctrlKey&&!_.metaKey&&!_.shiftKey&&!_.altKey}}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(r){if(r.hasChanged(145)){const a=this._context.configuration.options.get(145).height;this._height!==a&&(this._height=a,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(r){return this._mouseDownOperation.onCursorStateChanged(r),!1}onFocusChanged(r){return!1}getTargetAtClientPoint(r,a){const l=new p.ClientCoordinates(r,a).toPageCoordinates(f.getWindow(this.viewHelper.viewDomNode)),g=(0,p.createEditorPagePosition)(this.viewHelper.viewDomNode);if(l.y<g.y||l.y>g.y+g.height||l.x<g.x||l.x>g.x+g.width)return null;const d=(0,p.createCoordinatesRelativeToEditor)(this.viewHelper.viewDomNode,g,l);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),g,l,d,null)}_createMouseTarget(r,a){let h=r.target;if(!this.viewHelper.viewDomNode.contains(h)){const l=f.getShadowRoot(this.viewHelper.viewDomNode);l&&(h=l.elementsFromPoint(r.posx,r.posy).find(g=>this.viewHelper.viewDomNode.contains(g)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),r.editorPos,r.pos,r.relativePos,a?h:null)}_getMouseColumn(r){return this.mouseTargetFactory.getMouseColumn(r.relativePos)}_onContextMenu(r,a){this.viewController.emitContextMenu({event:r,target:this._createMouseTarget(r,a)})}_onMouseMove(r){this.mouseTargetFactory.mouseTargetIsWidget(r)||r.preventDefault(),!(this._mouseDownOperation.isActive()||r.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:r,target:this._createMouseTarget(r,!0)})}_onMouseLeave(r){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:r,target:null})}_onMouseUp(r){this.viewController.emitMouseUp({event:r,target:this._createMouseTarget(r,!0)})}_onMouseDown(r,a){const h=this._createMouseTarget(r,!0),l=h.type===6||h.type===7,g=h.type===2||h.type===3||h.type===4,d=h.type===3,v=this._context.configuration.options.get(109),_=h.type===8||h.type===5,S=h.type===9;let L=r.leftButton||r.middleButton;D.isMacintosh&&r.leftButton&&r.ctrlKey&&(L=!1);const I=()=>{r.preventDefault(),this.viewHelper.focusTextArea()};if(L&&(l||d&&v))I(),this._mouseDownOperation.start(h.type,r,a);else if(g)r.preventDefault();else if(_){const T=h.detail;L&&this.viewHelper.shouldSuppressMouseDownOnViewZone(T.viewZoneId)&&(I(),this._mouseDownOperation.start(h.type,r,a),r.preventDefault())}else S&&this.viewHelper.shouldSuppressMouseDownOnWidget(h.detail)&&(I(),r.preventDefault());this.viewController.emitMouseDown({event:r,target:h})}}e.MouseHandler=i;class t extends E.Disposable{constructor(r,a,h,l,g,d){super(),this._context=r,this._viewController=a,this._viewHelper=h,this._mouseTargetFactory=l,this._createMouseTarget=g,this._getMouseColumn=d,this._mouseMoveMonitor=this._register(new p.GlobalEditorPointerMoveMonitor(this._viewHelper.viewDomNode)),this._topBottomDragScrolling=this._register(new n(this._context,this._viewHelper,this._mouseTargetFactory,(v,_,S)=>this._dispatchMouse(v,_,S))),this._mouseState=new m,this._currentSelection=new C.Selection(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(r){this._lastMouseEvent=r,this._mouseState.setModifiers(r);const a=this._findMousePosition(r,!1);a&&(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:r,target:a}):a.type===13&&(a.outsidePosition==="above"||a.outsidePosition==="below")?this._topBottomDragScrolling.start(a,r):(this._topBottomDragScrolling.stop(),this._dispatchMouse(a,!0,1)))}start(r,a,h){this._lastMouseEvent=a,this._mouseState.setStartedOnLineNumbers(r===3),this._mouseState.setStartButtons(a),this._mouseState.setModifiers(a);const l=this._findMousePosition(a,!0);if(!l||!l.position)return;this._mouseState.trySetCount(a.detail,l.position),a.detail=this._mouseState.count;const g=this._context.configuration.options;if(!g.get(91)&&g.get(35)&&!g.get(22)&&!this._mouseState.altKey&&a.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&l.type===6&&l.position&&this._currentSelection.containsPosition(l.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,h,a.buttons,d=>this._onMouseDownThenMove(d),d=>{const v=this._findMousePosition(this._lastMouseEvent,!1);f.isKeyboardEvent(d)?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:v?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(l,a.shiftKey,1),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,h,a.buttons,d=>this._onMouseDownThenMove(d),()=>this._stop()))}_stop(){this._isActive=!1,this._topBottomDragScrolling.stop()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onCursorStateChanged(r){this._currentSelection=r.selections[0]}_getPositionOutsideEditor(r){const a=r.editorPos,h=this._context.viewModel,l=this._context.viewLayout,g=this._getMouseColumn(r);if(r.posy<a.y){const v=a.y-r.posy,_=Math.max(l.getCurrentScrollTop()-v,0),S=y.HitTestContext.getZoneAtCoord(this._context,_);if(S){const I=this._helpPositionJumpOverViewZone(S);if(I)return y.MouseTarget.createOutsideEditor(g,I,"above",v)}const L=l.getLineNumberAtVerticalOffset(_);return y.MouseTarget.createOutsideEditor(g,new b.Position(L,1),"above",v)}if(r.posy>a.y+a.height){const v=r.posy-a.y-a.height,_=l.getCurrentScrollTop()+r.relativePos.y,S=y.HitTestContext.getZoneAtCoord(this._context,_);if(S){const I=this._helpPositionJumpOverViewZone(S);if(I)return y.MouseTarget.createOutsideEditor(g,I,"below",v)}const L=l.getLineNumberAtVerticalOffset(_);return y.MouseTarget.createOutsideEditor(g,new b.Position(L,h.getLineMaxColumn(L)),"below",v)}const d=l.getLineNumberAtVerticalOffset(l.getCurrentScrollTop()+r.relativePos.y);if(r.posx<a.x){const v=a.x-r.posx;return y.MouseTarget.createOutsideEditor(g,new b.Position(d,1),"left",v)}if(r.posx>a.x+a.width){const v=r.posx-a.x-a.width;return y.MouseTarget.createOutsideEditor(g,new b.Position(d,h.getLineMaxColumn(d)),"right",v)}return null}_findMousePosition(r,a){const h=this._getPositionOutsideEditor(r);if(h)return h;const l=this._createMouseTarget(r,a);if(!l.position)return null;if(l.type===8||l.type===5){const d=this._helpPositionJumpOverViewZone(l.detail);if(d)return y.MouseTarget.createViewZone(l.type,l.element,l.mouseColumn,d,l.detail)}return l}_helpPositionJumpOverViewZone(r){const a=new b.Position(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),h=r.positionBefore,l=r.positionAfter;return h&&l?h.isBefore(a)?h:l:null}_dispatchMouse(r,a,h){r.position&&this._viewController.dispatchMouse({position:r.position,mouseColumn:r.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,revealType:h,inSelectionMode:a,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:r.type===6&&r.detail.injectedText!==null})}}class n extends E.Disposable{constructor(r,a,h,l){super(),this._context=r,this._viewHelper=a,this._mouseTargetFactory=h,this._dispatchMouse=l,this._operation=null}dispose(){super.dispose(),this.stop()}start(r,a){this._operation?this._operation.setPosition(r,a):this._operation=new c(this._context,this._viewHelper,this._mouseTargetFactory,this._dispatchMouse,r,a)}stop(){this._operation&&(this._operation.dispose(),this._operation=null)}}class c extends E.Disposable{constructor(r,a,h,l,g,d){super(),this._context=r,this._viewHelper=a,this._mouseTargetFactory=h,this._dispatchMouse=l,this._position=g,this._mouseEvent=d,this._lastTime=Date.now(),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(d.browserEvent),()=>this._execute())}dispose(){this._animationFrameDisposable.dispose(),super.dispose()}setPosition(r,a){this._position=r,this._mouseEvent=a}_tick(){const r=Date.now(),a=r-this._lastTime;return this._lastTime=r,a}_getScrollSpeed(){const r=this._context.configuration.options.get(67),a=this._context.configuration.options.get(145).height/r,h=this._position.outsideDistance/r;return h<=1.5?Math.max(30,a*(1+h)):h<=3?Math.max(60,a*(2+h)):Math.max(200,a*(7+h))}_execute(){const r=this._context.configuration.options.get(67),a=this._getScrollSpeed(),h=this._tick(),l=a*(h/1e3)*r,g=this._position.outsidePosition==="above"?-l:l;this._context.viewModel.viewLayout.deltaScrollNow(0,g),this._viewHelper.renderNow();const d=this._context.viewLayout.getLinesViewportData(),v=this._position.outsidePosition==="above"?d.startLineNumber:d.endLineNumber;let _;{const S=(0,p.createEditorPagePosition)(this._viewHelper.viewDomNode),L=this._context.configuration.options.get(145).horizontalScrollbarHeight,I=new p.PageCoordinates(this._mouseEvent.pos.x,S.y+S.height-L-.1),T=(0,p.createCoordinatesRelativeToEditor)(this._viewHelper.viewDomNode,S,I);_=this._mouseTargetFactory.createMouseTarget(this._viewHelper.getLastRenderData(),S,I,T,null)}(!_.position||_.position.lineNumber!==v)&&(this._position.outsidePosition==="above"?_=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new b.Position(v,1),"above",this._position.outsideDistance):_=y.MouseTarget.createOutsideEditor(this._position.mouseColumn,new b.Position(v,this._context.viewModel.getLineMaxColumn(v)),"below",this._position.outsideDistance)),this._dispatchMouse(_,!0,2),this._animationFrameDisposable=f.scheduleAtNextAnimationFrame(f.getWindow(_.element),()=>this._execute())}}class m{get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get count(){return this._lastMouseDownCount}setModifiers(r){this._altKey=r.altKey,this._ctrlKey=r.ctrlKey,this._metaKey=r.metaKey,this._shiftKey=r.shiftKey}setStartButtons(r){this._leftButton=r.leftButton,this._middleButton=r.middleButton}setStartedOnLineNumbers(r){this._startedOnLineNumbers=r}trySetCount(r,a){const h=new Date().getTime();h-this._lastSetMouseDownCountTime>m.CLEAR_MOUSE_DOWN_COUNT_TIME&&(r=1),this._lastSetMouseDownCountTime=h,r>this._lastMouseDownCount+1&&(r=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(a)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=a,this._lastMouseDownCount=Math.min(r,this._lastMouseDownPositionEqualCount)}}m.CLEAR_MOUSE_DOWN_COUNT_TIME=400}),define(ie[899],ne([1,0,241,6,68,52,2,17,898,205,178]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PointerHandler=e.PointerEventHandler=void 0;class o extends w.MouseHandler{constructor(n,c,m){super(n,c,m),this._register(E.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Tap,r=>this.onTap(r))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Change,r=>this.onChange(r))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Contextmenu,r=>this._onContextMenu(new C.EditorMouseEvent(r,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,"pointerdown",r=>{const a=r.pointerType;if(a==="mouse"){this._lastPointerType="mouse";return}else a==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const u=new C.EditorPointerEventFactory(this.viewHelper.viewDomNode);this._register(u.onPointerMove(this.viewHelper.viewDomNode,r=>this._onMouseMove(r))),this._register(u.onPointerUp(this.viewHelper.viewDomNode,r=>this._onMouseUp(r))),this._register(u.onPointerLeave(this.viewHelper.viewDomNode,r=>this._onMouseLeave(r))),this._register(u.onPointerDown(this.viewHelper.viewDomNode,(r,a)=>this._onMouseDown(r,a)))}onTap(n){!n.initialTarget||!this.viewHelper.linesContentDomNode.contains(n.initialTarget)||(n.preventDefault(),this.viewHelper.focusTextArea(),this._dispatchGesture(n,!1))}onChange(n){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY),this._lastPointerType==="pen"&&this._dispatchGesture(n,!0)}_dispatchGesture(n,c){const m=this._createMouseTarget(new C.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);m.position&&this.viewController.dispatchMouse({position:m.position,mouseColumn:m.position.column,startedOnLineNumbers:!1,revealType:1,mouseDownCount:n.tapCount,inSelectionMode:c,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:m.type===6&&m.detail.injectedText!==null})}_onMouseDown(n,c){n.browserEvent.pointerType!=="touch"&&super._onMouseDown(n,c)}}e.PointerEventHandler=o;class s extends w.MouseHandler{constructor(n,c,m){super(n,c,m),this._register(E.Gesture.addTarget(this.viewHelper.linesContentDomNode)),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Tap,u=>this.onTap(u))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Change,u=>this.onChange(u))),this._register(k.addDisposableListener(this.viewHelper.linesContentDomNode,E.EventType.Contextmenu,u=>this._onContextMenu(new C.EditorMouseEvent(u,!1,this.viewHelper.viewDomNode),!1)))}onTap(n){n.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new C.EditorMouseEvent(n,!1,this.viewHelper.viewDomNode),!1);if(c.position){const m=document.createEvent("CustomEvent");m.initEvent(b.TextAreaSyntethicEvents.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(m),this.viewController.moveTo(c.position,1)}}onChange(n){this._context.viewModel.viewLayout.deltaScrollNow(-n.translationX,-n.translationY)}}class i extends y.Disposable{constructor(n,c,m){super(),(p.isIOS||p.isAndroid&&p.isMobile)&&f.BrowserFeatures.pointerEvents?this.handler=this._register(new o(n,c,m)):D.mainWindow.TouchEvent?this.handler=this._register(new s(n,c,m)):this.handler=this._register(new w.MouseHandler(n,c,m))}getTargetAtClientPoint(n,c){return this.handler.getTargetAtClientPoint(n,c)}}e.PointerHandler=i}),define(ie[900],ne([1,0,219,15,17,71,159,254,56,524,274,9,5,466]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewLines=void 0;class i{constructor(){this._currentVisibleRange=new s.Range(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(u){this._currentVisibleRange=u}}class t{constructor(u,r,a,h,l,g,d){this.minimalReveal=u,this.lineNumber=r,this.startColumn=a,this.endColumn=h,this.startScrollTop=l,this.stopScrollTop=g,this.scrollType=d,this.type="range",this.minLineNumber=r,this.maxLineNumber=r}}class n{constructor(u,r,a,h,l){this.minimalReveal=u,this.selections=r,this.startScrollTop=a,this.stopScrollTop=h,this.scrollType=l,this.type="selections";let g=r[0].startLineNumber,d=r[0].endLineNumber;for(let v=1,_=r.length;v<_;v++){const S=r[v];g=Math.min(g,S.startLineNumber),d=Math.max(d,S.endLineNumber)}this.minLineNumber=g,this.maxLineNumber=d}}class c extends w.ViewPart{constructor(u,r){super(u),this._linesContent=r,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new p.VisibleLinesCollection(this),this.domNode=this._visibleLines.domNode;const a=this._context.configuration,h=this._context.configuration.options,l=h.get(50),g=h.get(146);this._lineHeight=h.get(67),this._typicalHalfwidthCharacterWidth=l.typicalHalfwidthCharacterWidth,this._isViewportWrapping=g.isViewportWrapping,this._revealHorizontalRightPadding=h.get(100),this._cursorSurroundingLines=h.get(29),this._cursorSurroundingLinesStyle=h.get(30),this._canUseLayerHinting=!h.get(32),this._viewLineOptions=new C.ViewLineOptions(a,this._context.theme.type),w.PartFingerprints.write(this.domNode,8),this.domNode.setClassName(`view-lines ${f.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),(0,D.applyFontInfo)(this.domNode,l),this._maxLineWidth=0,this._asyncUpdateLineWidths=new k.RunOnceScheduler(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new k.RunOnceScheduler(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new i,this._horizontalRevealRequest=null,this._stickyScrollEnabled=h.get(115).enabled,this._maxNumberStickyLines=h.get(115).maxLineCount}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new C.ViewLine(this._viewLineOptions)}onConfigurationChanged(u){this._visibleLines.onConfigurationChanged(u),u.hasChanged(146)&&(this._maxLineWidth=0);const r=this._context.configuration.options,a=r.get(50),h=r.get(146);return this._lineHeight=r.get(67),this._typicalHalfwidthCharacterWidth=a.typicalHalfwidthCharacterWidth,this._isViewportWrapping=h.isViewportWrapping,this._revealHorizontalRightPadding=r.get(100),this._cursorSurroundingLines=r.get(29),this._cursorSurroundingLinesStyle=r.get(30),this._canUseLayerHinting=!r.get(32),this._stickyScrollEnabled=r.get(115).enabled,this._maxNumberStickyLines=r.get(115).maxLineCount,(0,D.applyFontInfo)(this.domNode,a),this._onOptionsMaybeChanged(),u.hasChanged(145)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const u=this._context.configuration,r=new C.ViewLineOptions(u,this._context.theme.type);if(!this._viewLineOptions.equals(r)){this._viewLineOptions=r;const a=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();for(let l=a;l<=h;l++)this._visibleLines.getVisibleLine(l).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(u){const r=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let h=!1;for(let l=r;l<=a;l++)h=this._visibleLines.getVisibleLine(l).onSelectionChanged()||h;return h}onDecorationsChanged(u){{const r=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let h=r;h<=a;h++)this._visibleLines.getVisibleLine(h).onDecorationsChanged()}return!0}onFlushed(u){const r=this._visibleLines.onFlushed(u);return this._maxLineWidth=0,r}onLinesChanged(u){return this._visibleLines.onLinesChanged(u)}onLinesDeleted(u){return this._visibleLines.onLinesDeleted(u)}onLinesInserted(u){return this._visibleLines.onLinesInserted(u)}onRevealRangeRequest(u){const r=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),u.source,u.minimalReveal,u.range,u.selections,u.verticalType);if(r===-1)return!1;let a=this._context.viewLayout.validateScrollPosition({scrollTop:r});u.revealHorizontal?u.range&&u.range.startLineNumber!==u.range.endLineNumber?a={scrollTop:a.scrollTop,scrollLeft:0}:u.range?this._horizontalRevealRequest=new t(u.minimalReveal,u.range.startLineNumber,u.range.startColumn,u.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,u.scrollType):u.selections&&u.selections.length>0&&(this._horizontalRevealRequest=new n(u.minimalReveal,u.selections,this._context.viewLayout.getCurrentScrollTop(),a.scrollTop,u.scrollType)):this._horizontalRevealRequest=null;const l=Math.abs(this._context.viewLayout.getCurrentScrollTop()-a.scrollTop)<=this._lineHeight?1:u.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(a,l),!0}onScrollChanged(u){if(this._horizontalRevealRequest&&u.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&u.scrollTopChanged){const r=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),a=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(u.scrollTop<r||u.scrollTop>a)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(u.scrollWidth),this._visibleLines.onScrollChanged(u)||!0}onTokensChanged(u){return this._visibleLines.onTokensChanged(u)}onZonesChanged(u){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(u)}onThemeChanged(u){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(u,r){const a=this._getViewLineDomNode(u);if(a===null)return null;const h=this._getLineNumberFor(a);if(h===-1||h<1||h>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(h)===1)return new o.Position(h,1);const l=this._visibleLines.getStartLineNumber(),g=this._visibleLines.getEndLineNumber();if(h<l||h>g)return null;let d=this._visibleLines.getVisibleLine(h).getColumnOfNodeOffset(u,r);const v=this._context.viewModel.getLineMinColumn(h);return d<v&&(d=v),new o.Position(h,d)}_getViewLineDomNode(u){for(;u&&u.nodeType===1;){if(u.className===C.ViewLine.CLASS_NAME)return u;u=u.parentElement}return null}_getLineNumberFor(u){const r=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();for(let h=r;h<=a;h++){const l=this._visibleLines.getVisibleLine(h);if(u===l.getDomNode())return h}return-1}getLineWidth(u){const r=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();if(u<r||u>a)return-1;const h=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),l=this._visibleLines.getVisibleLine(u).getWidth(h);return this._updateLineWidthsSlowIfDomDidLayout(h),l}linesVisibleRangesForRange(u,r){if(this.shouldRender())return null;const a=u.endLineNumber,h=s.Range.intersectRanges(u,this._lastRenderedData.getCurrentVisibleRange());if(!h)return null;const l=[];let g=0;const d=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot);let v=0;r&&(v=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(h.startLineNumber,1)).lineNumber);const _=this._visibleLines.getStartLineNumber(),S=this._visibleLines.getEndLineNumber();for(let L=h.startLineNumber;L<=h.endLineNumber;L++){if(L<_||L>S)continue;const I=L===h.startLineNumber?h.startColumn:1,T=L!==h.endLineNumber,N=T?this._context.viewModel.getLineMaxColumn(L):h.endColumn,A=this._visibleLines.getVisibleLine(L).getVisibleRangesForRange(L,I,N,d);if(A){if(r&&L<a){const O=v;v=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(L+1,1)).lineNumber,O!==v&&(A.ranges[A.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}l[g++]=new y.LineVisibleRanges(A.outsideRenderedLine,L,y.HorizontalRange.from(A.ranges),T)}}return this._updateLineWidthsSlowIfDomDidLayout(d),g===0?null:l}_visibleRangesForLineRange(u,r,a){if(this.shouldRender()||u<this._visibleLines.getStartLineNumber()||u>this._visibleLines.getEndLineNumber())return null;const h=new b.DomReadingContext(this.domNode.domNode,this._textRangeRestingSpot),l=this._visibleLines.getVisibleLine(u).getVisibleRangesForRange(u,r,a,h);return this._updateLineWidthsSlowIfDomDidLayout(h),l}visibleRangeForPosition(u){const r=this._visibleRangesForLineRange(u.lineNumber,u.column,u.column);return r?new y.HorizontalPosition(r.outsideRenderedLine,r.ranges[0].left):null}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidthsSlowIfDomDidLayout(u){u.didDomLayout&&(this._asyncUpdateLineWidths.isScheduled()||(this._asyncUpdateLineWidths.cancel(),this._updateLineWidthsSlow()))}_updateLineWidths(u){const r=this._visibleLines.getStartLineNumber(),a=this._visibleLines.getEndLineNumber();let h=1,l=!0;for(let g=r;g<=a;g++){const d=this._visibleLines.getVisibleLine(g);if(u&&!d.getWidthIsFast()){l=!1;continue}h=Math.max(h,d.getWidth(null))}return l&&r===1&&a===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(h),l}_checkMonospaceFontAssumptions(){let u=-1,r=-1;const a=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();for(let l=a;l<=h;l++){const g=this._visibleLines.getVisibleLine(l);if(g.needsMonospaceFontCheck()){const d=g.getWidth(null);d>r&&(r=d,u=l)}}if(u!==-1&&!this._visibleLines.getVisibleLine(u).monospaceAssumptionsAreValid())for(let l=a;l<=h;l++)this._visibleLines.getVisibleLine(l).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(u){if(this._visibleLines.renderLines(u),this._lastRenderedData.setCurrentVisibleRange(u.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const a=this._horizontalRevealRequest;if(u.startLineNumber<=a.minLineNumber&&a.maxLineNumber<=u.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const h=this._computeScrollLeftToReveal(a);h&&(this._isViewportWrapping||this._ensureMaxLineWidth(h.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:h.scrollLeft},a.scrollType))}}if(this._updateLineWidthsFast()?this._asyncUpdateLineWidths.cancel():this._asyncUpdateLineWidths.schedule(),E.isLinux&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const a=this._visibleLines.getStartLineNumber(),h=this._visibleLines.getEndLineNumber();for(let l=a;l<=h;l++)if(this._visibleLines.getVisibleLine(l).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const r=this._context.viewLayout.getCurrentScrollTop()-u.bigNumbersDelta;this._linesContent.setTop(-r),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(u){const r=Math.ceil(u);this._maxLineWidth<r&&(this._maxLineWidth=r,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(u,r,a,h,l,g){const d=u.top,v=u.height,_=d+v;let S,L,I;if(l&&l.length>0){let M=l[0].startLineNumber,R=l[0].endLineNumber;for(let x=1,F=l.length;x<F;x++){const W=l[x];M=Math.min(M,W.startLineNumber),R=Math.max(R,W.endLineNumber)}S=!1,L=this._context.viewLayout.getVerticalOffsetForLineNumber(M),I=this._context.viewLayout.getVerticalOffsetForLineNumber(R)+this._lineHeight}else if(h)S=!0,L=this._context.viewLayout.getVerticalOffsetForLineNumber(h.startLineNumber),I=this._context.viewLayout.getVerticalOffsetForLineNumber(h.endLineNumber)+this._lineHeight;else return-1;const T=(r==="mouse"||a)&&this._cursorSurroundingLinesStyle==="default";let N=0,A=0;if(T)a||(N=this._lineHeight);else{const M=Math.min(v/this._lineHeight/2,this._cursorSurroundingLines);this._stickyScrollEnabled?N=Math.max(M,this._maxNumberStickyLines)*this._lineHeight:N=M*this._lineHeight,A=Math.max(0,M-1)*this._lineHeight}a||(g===0||g===4)&&(A+=this._lineHeight),L-=N,I+=A;let O;if(I-L>v){if(!S)return-1;O=L}else if(g===5||g===6)if(g===6&&d<=L&&I<=_)O=d;else{const M=Math.max(5*this._lineHeight,v*.2),R=L-M,x=I-v;O=Math.max(x,R)}else if(g===1||g===2)if(g===2&&d<=L&&I<=_)O=d;else{const M=(L+I)/2;O=Math.max(0,M-v/2)}else O=this._computeMinimumScrolling(d,_,L,I,g===3,g===4);return O}_computeScrollLeftToReveal(u){const r=this._context.viewLayout.getCurrentViewport(),a=this._context.configuration.options.get(145),h=r.left,l=h+r.width-a.verticalScrollbarWidth;let g=1073741824,d=0;if(u.type==="range"){const _=this._visibleRangesForLineRange(u.lineNumber,u.startColumn,u.endColumn);if(!_)return null;for(const S of _.ranges)g=Math.min(g,Math.round(S.left)),d=Math.max(d,Math.round(S.left+S.width))}else for(const _ of u.selections){if(_.startLineNumber!==_.endLineNumber)return null;const S=this._visibleRangesForLineRange(_.startLineNumber,_.startColumn,_.endColumn);if(!S)return null;for(const L of S.ranges)g=Math.min(g,Math.round(L.left)),d=Math.max(d,Math.round(L.left+L.width))}return u.minimalReveal||(g=Math.max(0,g-c.HORIZONTAL_EXTRA_PX),d+=this._revealHorizontalRightPadding),u.type==="selections"&&d-g>r.width?null:{scrollLeft:this._computeMinimumScrolling(h,l,g,d),maxHorizontalOffset:d}}_computeMinimumScrolling(u,r,a,h,l,g){u=u|0,r=r|0,a=a|0,h=h|0,l=!!l,g=!!g;const d=r-u;if(h-a<d){if(l)return a;if(g)return Math.max(0,h-d);if(a<u)return a;if(h>r)return Math.max(0,h-d)}else return a;return u}}e.ViewLines=c,c.HORIZONTAL_EXTRA_PX=30}),define(ie[23],ne([1,0,7,2,8,39,94]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Themable=e.Extensions=e.IThemeService=void 0,e.themeColorFromId=p,e.getThemeTypeSelector=w,e.registerThemingParticipant=o,e.IThemeService=(0,E.createDecorator)("themeService");function p(i){return{id:i}}function w(i){switch(i){case y.ColorScheme.DARK:return"vs-dark";case y.ColorScheme.HIGH_CONTRAST_DARK:return"hc-black";case y.ColorScheme.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}e.Extensions={ThemingContribution:"base.contributions.theming"};class b{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new f.Emitter}onColorThemeChange(t){return this.themingParticipants.push(t),this.onThemingParticipantAddedEmitter.fire(t),(0,k.toDisposable)(()=>{const n=this.themingParticipants.indexOf(t);this.themingParticipants.splice(n,1)})}getThemingParticipants(){return this.themingParticipants}}const C=new b;D.Registry.add(e.Extensions.ThemingContribution,C);function o(i){return C.onColorThemeChange(i)}class s extends k.Disposable{constructor(t){super(),this.themeService=t,this.theme=t.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(n=>this.onThemeChange(n)))}onThemeChange(t){this.theme=t,this.updateStyles()}updateStyles(){}}e.Themable=s}),define(ie[901],ne([1,0,7,2,70,23]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalStyleSheet=e.AbstractCodeEditorService=void 0;let y=class extends k.Disposable{constructor(b){super(),this._themeService=b,this._onWillCreateCodeEditor=this._register(new f.Emitter),this._onCodeEditorAdd=this._register(new f.Emitter),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new f.Emitter),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onWillCreateDiffEditor=this._register(new f.Emitter),this._onDiffEditorAdd=this._register(new f.Emitter),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new f.Emitter),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new E.LinkedList,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}willCreateCodeEditor(){this._onWillCreateCodeEditor.fire()}addCodeEditor(b){this._codeEditors[b.getId()]=b,this._onCodeEditorAdd.fire(b)}removeCodeEditor(b){delete this._codeEditors[b.getId()]&&this._onCodeEditorRemove.fire(b)}listCodeEditors(){return Object.keys(this._codeEditors).map(b=>this._codeEditors[b])}willCreateDiffEditor(){this._onWillCreateDiffEditor.fire()}addDiffEditor(b){this._diffEditors[b.getId()]=b,this._onDiffEditorAdd.fire(b)}listDiffEditors(){return Object.keys(this._diffEditors).map(b=>this._diffEditors[b])}getFocusedCodeEditor(){let b=null;const C=this.listCodeEditors();for(const o of C){if(o.hasTextFocus())return o;o.hasWidgetFocus()&&(b=o)}return b}removeDecorationType(b){const C=this._decorationOptionProviders.get(b);C&&(C.refCount--,C.refCount<=0&&(this._decorationOptionProviders.delete(b),C.dispose(),this.listCodeEditors().forEach(o=>o.removeDecorationsByType(b))))}setModelProperty(b,C,o){const s=b.toString();let i;this._modelProperties.has(s)?i=this._modelProperties.get(s):(i=new Map,this._modelProperties.set(s,i)),i.set(C,o)}getModelProperty(b,C){const o=b.toString();if(this._modelProperties.has(o))return this._modelProperties.get(o).get(C)}async openCodeEditor(b,C,o){for(const s of this._codeEditorOpenHandlers){const i=await s(b,C,o);if(i!==null)return i}return null}registerCodeEditorOpenHandler(b){const C=this._codeEditorOpenHandlers.unshift(b);return(0,k.toDisposable)(C)}};e.AbstractCodeEditorService=y,e.AbstractCodeEditorService=y=Ie([ue(0,D.IThemeService)],y);class p{constructor(b){this._styleSheet=b}}e.GlobalStyleSheet=p}),define(ie[902],ne([1,0,48,23,33,115,58,8,836,2,6,32,46,66,116,52,376,661,15]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.HoverService=void 0;let r=class extends b.Disposable{constructor(d,v,_,S,L){super(),this._instantiationService=d,this._keybindingService=_,this._layoutService=S,this._accessibilityService=L,v.onDidShowContextMenu(()=>this.hideHover()),this._contextViewHandler=this._register(new c.ContextViewHandler(this._layoutService))}showHover(d,v,_){var S,L,I,T;if(a(this._currentHoverOptions)===a(d)||this._currentHover&&(!((L=(S=this._currentHoverOptions)===null||S===void 0?void 0:S.persistence)===null||L===void 0)&&L.sticky))return;this._currentHoverOptions=d,this._lastHoverOptions=d;const N=d.trapFocus||this._accessibilityService.isScreenReaderOptimized(),A=(0,C.getActiveElement)();_||(N&&A?this._lastFocusedElementBeforeOpen=A:this._lastFocusedElementBeforeOpen=void 0);const O=new b.DisposableStore,M=this._instantiationService.createInstance(w.HoverWidget,d);if(!((I=d.persistence)===null||I===void 0)&&I.sticky&&(M.isLocked=!0),M.onDispose(()=>{var R,x;((R=this._currentHover)===null||R===void 0?void 0:R.domNode)&&(0,C.isAncestorOfActiveElement)(this._currentHover.domNode)&&((x=this._lastFocusedElementBeforeOpen)===null||x===void 0||x.focus()),this._currentHoverOptions===d&&(this._currentHoverOptions=void 0),O.dispose()},void 0,O),!d.container){const R=d.target instanceof HTMLElement?d.target:d.target.targetElements[0];d.container=this._layoutService.getContainer((0,C.getWindow)(R))}if(this._contextViewHandler.showContextView(new h(M,v),d.container),M.onRequestLayout(()=>this._contextViewHandler.layout(),void 0,O),!((T=d.persistence)===null||T===void 0)&&T.sticky)O.add((0,C.addDisposableListener)((0,C.getWindow)(d.container).document,C.EventType.MOUSE_DOWN,R=>{(0,C.isAncestor)(R.target,M.domNode)||this.doHideHover()}));else{if("targetElements"in d.target)for(const x of d.target.targetElements)O.add((0,C.addDisposableListener)(x,C.EventType.CLICK,()=>this.hideHover()));else O.add((0,C.addDisposableListener)(d.target,C.EventType.CLICK,()=>this.hideHover()));const R=(0,C.getActiveElement)();if(R){const x=(0,C.getWindow)(R).document;O.add((0,C.addDisposableListener)(R,C.EventType.KEY_DOWN,F=>{var W;return this._keyDown(F,M,!!(!((W=d.persistence)===null||W===void 0)&&W.hideOnKeyDown))})),O.add((0,C.addDisposableListener)(x,C.EventType.KEY_DOWN,F=>{var W;return this._keyDown(F,M,!!(!((W=d.persistence)===null||W===void 0)&&W.hideOnKeyDown))})),O.add((0,C.addDisposableListener)(R,C.EventType.KEY_UP,F=>this._keyUp(F,M))),O.add((0,C.addDisposableListener)(x,C.EventType.KEY_UP,F=>this._keyUp(F,M)))}}if("IntersectionObserver"in n.mainWindow){const R=new IntersectionObserver(F=>this._intersectionChange(F,M),{threshold:0}),x="targetElements"in d.target?d.target.targetElements[0]:d.target;R.observe(x),O.add((0,b.toDisposable)(()=>R.disconnect()))}return this._currentHover=M,M}hideHover(){var d;!((d=this._currentHover)===null||d===void 0)&&d.isLocked||!this._currentHoverOptions||this.doHideHover()}doHideHover(){this._currentHover=void 0,this._currentHoverOptions=void 0,this._contextViewHandler.hideContextView()}_intersectionChange(d,v){d[d.length-1].isIntersecting||v.dispose()}showAndFocusLastHover(){this._lastHoverOptions&&this.showHover(this._lastHoverOptions,!0,!0)}_keyDown(d,v,_){var S,L;if(d.key==="Alt"){v.isLocked=!0;return}const I=new s.StandardKeyboardEvent(d);this._keybindingService.resolveKeyboardEvent(I).getSingleModifierDispatchChords().some(N=>!!N)||this._keybindingService.softDispatch(I,I.target).kind!==0||_&&(!(!((S=this._currentHoverOptions)===null||S===void 0)&&S.trapFocus)||d.key!=="Tab")&&(this.hideHover(),(L=this._lastFocusedElementBeforeOpen)===null||L===void 0||L.focus())}_keyUp(d,v){var _;d.key==="Alt"&&(v.isLocked=!1,v.isMouseIn||(this.hideHover(),(_=this._lastFocusedElementBeforeOpen)===null||_===void 0||_.focus()))}setupUpdatableHover(d,v,_,S){v.setAttribute("custom-hover","true"),v.title!==""&&(console.warn("HTML element already has a title attribute, which will conflict with the custom hover. Please remove the title attribute."),console.trace("Stack trace:",v.title),v.title="");let L,I;const T=(K,U)=>{var G;const te=I!==void 0;K&&(I?.dispose(),I=void 0),U&&(L?.dispose(),L=void 0),te&&((G=d.onDidHideHover)===null||G===void 0||G.call(d),I=void 0)},N=(K,U,G)=>new u.TimeoutTimer(async()=>{(!I||I.isDisposed)&&(I=new m.UpdatableHoverWidget(d,G||v,K>0),await I.update(typeof _=="function"?_():_,U,S))},K);let A=!1;const O=(0,C.addDisposableListener)(v,C.EventType.MOUSE_DOWN,()=>{A=!0,T(!0,!0)},!0),M=(0,C.addDisposableListener)(v,C.EventType.MOUSE_UP,()=>{A=!1},!0),R=(0,C.addDisposableListener)(v,C.EventType.MOUSE_LEAVE,K=>{A=!1,T(!1,K.fromElement===v)},!0),x=K=>{if(L)return;const U=new b.DisposableStore,G={targetElements:[v],dispose:()=>{}};if(d.placement===void 0||d.placement==="mouse"){const te=ee=>{G.x=ee.x+10,ee.target instanceof HTMLElement&&l(ee.target,v)!==v&&T(!0,!0)};U.add((0,C.addDisposableListener)(v,C.EventType.MOUSE_MOVE,te,!0))}L=U,!(K.target instanceof HTMLElement&&l(K.target,v)!==v)&&U.add(N(d.delay,!1,G))},F=(0,C.addDisposableListener)(v,C.EventType.MOUSE_OVER,x,!0),W=()=>{if(A||L)return;const K={targetElements:[v],dispose:()=>{}},U=new b.DisposableStore,G=()=>T(!0,!0);U.add((0,C.addDisposableListener)(v,C.EventType.BLUR,G,!0)),U.add(N(d.delay,!1,K)),L=U};let H;const z=v.tagName.toLowerCase();return z!=="input"&&z!=="textarea"&&(H=(0,C.addDisposableListener)(v,C.EventType.FOCUS,W,!0)),{show:K=>{T(!1,!0),N(0,K)},hide:()=>{T(!0,!0)},update:async(K,U)=>{_=K,await I?.update(_,void 0,U)},dispose:()=>{F.dispose(),R.dispose(),O.dispose(),M.dispose(),H?.dispose(),T(!0,!0)}}}};e.HoverService=r,e.HoverService=r=Ie([ue(0,p.IInstantiationService),ue(1,y.IContextMenuService),ue(2,o.IKeybindingService),ue(3,t.ILayoutService),ue(4,i.IAccessibilityService)],r);function a(g){var d;if(g!==void 0)return(d=g?.id)!==null&&d!==void 0?d:g}class h{get anchorPosition(){return this._hover.anchor}constructor(d,v=!1){this._hover=d,this._focus=v,this.layer=1}render(d){return this._hover.render(d),this._focus&&this._hover.focus(),this._hover}getAnchor(){return{x:this._hover.x,y:this._hover.y}}layout(){this._hover.layout()}}function l(g,d){for(d=d??(0,C.getWindow)(g).document.body;!g.hasAttribute("custom-hover")&&g!==d;)g=g.parentElement;return g}(0,f.registerSingleton)(D.IHoverService,r,1),(0,k.registerThemingParticipant)((g,d)=>{const v=g.getColor(E.editorHoverBorder);v&&(d.addRule(`.monaco-workbench .workbench-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${v.transparent(.5)}; }`),d.addRule(`.monaco-workbench .workbench-hover hr { border-top: 1px solid ${v.transparent(.5)}; }`))})}),define(ie[903],ne([1,0,6,40,81,56,23]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EditorScrollbar=void 0;class p extends D.ViewPart{constructor(b,C,o,s){super(b);const i=this._context.configuration.options,t=i.get(103),n=i.get(75),c=i.get(40),m=i.get(106),u={listenOnDomNode:o.domNode,className:"editor-scrollable "+(0,y.getThemeTypeSelector)(b.theme.type),useShadows:!1,lazyRender:!0,vertical:t.vertical,horizontal:t.horizontal,verticalHasArrows:t.verticalHasArrows,horizontalHasArrows:t.horizontalHasArrows,verticalScrollbarSize:t.verticalScrollbarSize,verticalSliderSize:t.verticalSliderSize,horizontalScrollbarSize:t.horizontalScrollbarSize,horizontalSliderSize:t.horizontalSliderSize,handleMouseWheel:t.handleMouseWheel,alwaysConsumeMouseWheel:t.alwaysConsumeMouseWheel,arrowSize:t.arrowSize,mouseWheelScrollSensitivity:n,fastScrollSensitivity:c,scrollPredominantAxis:m,scrollByPage:t.scrollByPage};this.scrollbar=this._register(new E.SmoothScrollableElement(C.domNode,u,this._context.viewLayout.getScrollable())),D.PartFingerprints.write(this.scrollbar.getDomNode(),6),this.scrollbarDomNode=(0,k.createFastDomNode)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const r=(a,h,l)=>{const g={};if(h){const d=a.scrollTop;d&&(g.scrollTop=this._context.viewLayout.getCurrentScrollTop()+d,a.scrollTop=0)}if(l){const d=a.scrollLeft;d&&(g.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+d,a.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(g,1)};this._register(f.addDisposableListener(o.domNode,"scroll",a=>r(o.domNode,!0,!0))),this._register(f.addDisposableListener(C.domNode,"scroll",a=>r(C.domNode,!0,!1))),this._register(f.addDisposableListener(s.domNode,"scroll",a=>r(s.domNode,!0,!1))),this._register(f.addDisposableListener(this.scrollbarDomNode.domNode,"scroll",a=>r(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const b=this._context.configuration.options,C=b.get(145);this.scrollbarDomNode.setLeft(C.contentLeft),b.get(73).side==="right"?this.scrollbarDomNode.setWidth(C.contentWidth+C.minimap.minimapWidth):this.scrollbarDomNode.setWidth(C.contentWidth),this.scrollbarDomNode.setHeight(C.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(b){this.scrollbar.delegateVerticalScrollbarPointerDown(b)}delegateScrollFromMouseWheelEvent(b){this.scrollbar.delegateScrollFromMouseWheelEvent(b)}onConfigurationChanged(b){if(b.hasChanged(103)||b.hasChanged(75)||b.hasChanged(40)){const C=this._context.configuration.options,o=C.get(103),s=C.get(75),i=C.get(40),t=C.get(106),n={vertical:o.vertical,horizontal:o.horizontal,verticalScrollbarSize:o.verticalScrollbarSize,horizontalScrollbarSize:o.horizontalScrollbarSize,scrollByPage:o.scrollByPage,handleMouseWheel:o.handleMouseWheel,mouseWheelScrollSensitivity:s,fastScrollSensitivity:i,scrollPredominantAxis:t};this.scrollbar.updateOptions(n)}return b.hasChanged(145)&&this._setLayout(),!0}onScrollChanged(b){return!0}onThemeChanged(b){return this.scrollbar.updateClassName("editor-scrollable "+(0,y.getThemeTypeSelector)(this._context.theme.type)),!0}prepareRender(b){}render(b){this.scrollbar.renderNow()}}e.EditorScrollbar=p}),define(ie[904],ne([1,0,128,33,23,474]),function(Q,e,f,k,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectionsOverlay=void 0;class D{constructor(s){this.left=s.left,this.width=s.width,this.startStyle=null,this.endStyle=null}}class y{constructor(s,i){this.lineNumber=s,this.ranges=i}}function p(o){return new D(o)}function w(o){return new y(o.lineNumber,o.ranges.map(p))}class b extends f.DynamicViewOverlay{constructor(s){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=s;const i=this._context.configuration.options;this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(s){const i=this._context.configuration.options;return this._roundedSelection=i.get(101),this._typicalHalfwidthCharacterWidth=i.get(50).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(s){return this._selections=s.selections.slice(0),!0}onDecorationsChanged(s){return!0}onFlushed(s){return!0}onLinesChanged(s){return!0}onLinesDeleted(s){return!0}onLinesInserted(s){return!0}onScrollChanged(s){return s.scrollTopChanged}onZonesChanged(s){return!0}_visibleRangesHaveGaps(s){for(let i=0,t=s.length;i<t;i++)if(s[i].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(s,i,t){const n=this._typicalHalfwidthCharacterWidth/4;let c=null,m=null;if(t&&t.length>0&&i.length>0){const u=i[0].lineNumber;if(u===s.startLineNumber)for(let a=0;!c&&a<t.length;a++)t[a].lineNumber===u&&(c=t[a].ranges[0]);const r=i[i.length-1].lineNumber;if(r===s.endLineNumber)for(let a=t.length-1;!m&&a>=0;a--)t[a].lineNumber===r&&(m=t[a].ranges[0]);c&&!c.startStyle&&(c=null),m&&!m.startStyle&&(m=null)}for(let u=0,r=i.length;u<r;u++){const a=i[u].ranges[0],h=a.left,l=a.left+a.width,g={top:0,bottom:0},d={top:0,bottom:0};if(u>0){const v=i[u-1].ranges[0].left,_=i[u-1].ranges[0].left+i[u-1].ranges[0].width;C(h-v)<n?g.top=2:h>v&&(g.top=1),C(l-_)<n?d.top=2:v<l&&l<_&&(d.top=1)}else c&&(g.top=c.startStyle.top,d.top=c.endStyle.top);if(u+1<r){const v=i[u+1].ranges[0].left,_=i[u+1].ranges[0].left+i[u+1].ranges[0].width;C(h-v)<n?g.bottom=2:v<h&&h<_&&(g.bottom=1),C(l-_)<n?d.bottom=2:l<_&&(d.bottom=1)}else m&&(g.bottom=m.startStyle.bottom,d.bottom=m.endStyle.bottom);a.startStyle=g,a.endStyle=d}}_getVisibleRangesWithStyle(s,i,t){const c=(i.linesVisibleRangesForRange(s,!0)||[]).map(w);return!this._visibleRangesHaveGaps(c)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(i.visibleRange,c,t),c}_createSelectionPiece(s,i,t,n,c){return'<div class="cslr '+t+'" style="top:'+s.toString()+"px;bottom:"+i.toString()+"px;left:"+n.toString()+"px;width:"+c.toString()+'px;"></div>'}_actualRenderOneSelection(s,i,t,n){if(n.length===0)return;const c=!!n[0].ranges[0].startStyle,m=n[0].lineNumber,u=n[n.length-1].lineNumber;for(let r=0,a=n.length;r<a;r++){const h=n[r],l=h.lineNumber,g=l-i,d=t&&l===m?1:0,v=t&&l!==m&&l===u?1:0;let _="",S="";for(let L=0,I=h.ranges.length;L<I;L++){const T=h.ranges[L];if(c){const A=T.startStyle,O=T.endStyle;if(A.top===1||A.bottom===1){_+=this._createSelectionPiece(d,v,b.SELECTION_CLASS_NAME,T.left-b.ROUNDED_PIECE_WIDTH,b.ROUNDED_PIECE_WIDTH);let M=b.EDITOR_BACKGROUND_CLASS_NAME;A.top===1&&(M+=" "+b.SELECTION_TOP_RIGHT),A.bottom===1&&(M+=" "+b.SELECTION_BOTTOM_RIGHT),_+=this._createSelectionPiece(d,v,M,T.left-b.ROUNDED_PIECE_WIDTH,b.ROUNDED_PIECE_WIDTH)}if(O.top===1||O.bottom===1){_+=this._createSelectionPiece(d,v,b.SELECTION_CLASS_NAME,T.left+T.width,b.ROUNDED_PIECE_WIDTH);let M=b.EDITOR_BACKGROUND_CLASS_NAME;O.top===1&&(M+=" "+b.SELECTION_TOP_LEFT),O.bottom===1&&(M+=" "+b.SELECTION_BOTTOM_LEFT),_+=this._createSelectionPiece(d,v,M,T.left+T.width,b.ROUNDED_PIECE_WIDTH)}}let N=b.SELECTION_CLASS_NAME;if(c){const A=T.startStyle,O=T.endStyle;A.top===0&&(N+=" "+b.SELECTION_TOP_LEFT),A.bottom===0&&(N+=" "+b.SELECTION_BOTTOM_LEFT),O.top===0&&(N+=" "+b.SELECTION_TOP_RIGHT),O.bottom===0&&(N+=" "+b.SELECTION_BOTTOM_RIGHT)}S+=this._createSelectionPiece(d,v,N,T.left,T.width)}s[g][0]+=_,s[g][1]+=S}}prepareRender(s){const i=[],t=s.visibleRange.startLineNumber,n=s.visibleRange.endLineNumber;for(let m=t;m<=n;m++){const u=m-t;i[u]=["",""]}const c=[];for(let m=0,u=this._selections.length;m<u;m++){const r=this._selections[m];if(r.isEmpty()){c[m]=null;continue}const a=this._getVisibleRangesWithStyle(r,s,this._previousFrameVisibleRangesWithStyle[m]);c[m]=a,this._actualRenderOneSelection(i,t,this._selections.length>1,a)}this._previousFrameVisibleRangesWithStyle=c,this._renderResult=i.map(([m,u])=>m+u)}render(s,i){if(!this._renderResult)return"";const t=i-s;return t<0||t>=this._renderResult.length?"":this._renderResult[t]}}e.SelectionsOverlay=b,b.SELECTION_CLASS_NAME="selected-text",b.SELECTION_TOP_LEFT="top-left-radius",b.SELECTION_BOTTOM_LEFT="bottom-left-radius",b.SELECTION_TOP_RIGHT="top-right-radius",b.SELECTION_BOTTOM_RIGHT="bottom-right-radius",b.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",b.ROUNDED_PIECE_WIDTH=10,(0,E.registerThemingParticipant)((o,s)=>{const i=o.getColor(k.editorSelectionForeground);i&&!i.isTransparent()&&s.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${i}; }`)});function C(o){return o<0?-o:o}}),define(ie[396],ne([1,0,6,40,216,2,30,83,9,322,33,23]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";var s;Object.defineProperty(e,"__esModule",{value:!0}),e.OverviewRulerFeature=void 0;let i=s=class extends D.Disposable{constructor(n,c,m,u,r,a,h){super(),this._editors=n,this._rootElement=c,this._diffModel=m,this._rootWidth=u,this._rootHeight=r,this._modifiedEditorLayoutInfo=a,this._themeService=h,this.width=s.ENTIRE_DIFF_OVERVIEW_WIDTH;const l=(0,y.observableFromEvent)(this._themeService.onDidColorThemeChange,()=>this._themeService.getColorTheme()),g=(0,y.derived)(_=>{const S=l.read(_),L=S.getColor(C.diffOverviewRulerInserted)||(S.getColor(C.diffInserted)||C.defaultInsertColor).transparent(2),I=S.getColor(C.diffOverviewRulerRemoved)||(S.getColor(C.diffRemoved)||C.defaultRemoveColor).transparent(2);return{insertColor:L,removeColor:I}}),d=(0,k.createFastDomNode)(document.createElement("div"));d.setClassName("diffViewport"),d.setPosition("absolute");const v=(0,f.h)("div.diffOverview",{style:{position:"absolute",top:"0px",width:s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px"}}).root;this._register((0,p.appendRemoveOnDispose)(v,d.domNode)),this._register((0,f.addStandardDisposableListener)(v,f.EventType.POINTER_DOWN,_=>{this._editors.modified.delegateVerticalScrollbarPointerDown(_)})),this._register((0,f.addDisposableListener)(v,f.EventType.MOUSE_WHEEL,_=>{this._editors.modified.delegateScrollFromMouseWheelEvent(_)},{passive:!1})),this._register((0,p.appendRemoveOnDispose)(this._rootElement,v)),this._register((0,y.autorunWithStore)((_,S)=>{const L=this._diffModel.read(_),I=this._editors.original.createOverviewRuler("original diffOverviewRuler");I&&(S.add(I),S.add((0,p.appendRemoveOnDispose)(v,I.getDomNode())));const T=this._editors.modified.createOverviewRuler("modified diffOverviewRuler");if(T&&(S.add(T),S.add((0,p.appendRemoveOnDispose)(v,T.getDomNode()))),!I||!T)return;const N=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.original.onDidChangeViewZones),A=(0,y.observableSignalFromEvent)("viewZoneChanged",this._editors.modified.onDidChangeViewZones),O=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.original.onDidChangeHiddenAreas),M=(0,y.observableSignalFromEvent)("hiddenRangesChanged",this._editors.modified.onDidChangeHiddenAreas);S.add((0,y.autorun)(R=>{var x;N.read(R),A.read(R),O.read(R),M.read(R);const F=g.read(R),W=(x=L?.diff.read(R))===null||x===void 0?void 0:x.mappings;function H(K,U,G){const te=G._getViewModel();return te?K.filter(ee=>ee.length>0).map(ee=>{const Y=te.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(ee.startLineNumber,1)),P=te.coordinatesConverter.convertModelPositionToViewPosition(new w.Position(ee.endLineNumberExclusive,1)),Z=P.lineNumber-Y.lineNumber;return new b.OverviewRulerZone(Y.lineNumber,P.lineNumber,Z,U.toString())}):[]}const z=H((W||[]).map(K=>K.lineRangeMapping.original),F.removeColor,this._editors.original),j=H((W||[]).map(K=>K.lineRangeMapping.modified),F.insertColor,this._editors.modified);I?.setZones(z),T?.setZones(j)})),S.add((0,y.autorun)(R=>{const x=this._rootHeight.read(R),F=this._rootWidth.read(R),W=this._modifiedEditorLayoutInfo.read(R);if(W){const H=s.ENTIRE_DIFF_OVERVIEW_WIDTH-2*s.ONE_OVERVIEW_WIDTH;I.setLayout({top:0,height:x,right:H+s.ONE_OVERVIEW_WIDTH,width:s.ONE_OVERVIEW_WIDTH}),T.setLayout({top:0,height:x,right:0,width:s.ONE_OVERVIEW_WIDTH});const z=this._editors.modifiedScrollTop.read(R),j=this._editors.modifiedScrollHeight.read(R),K=this._editors.modified.getOption(103),U=new E.ScrollbarState(K.verticalHasArrows?K.arrowSize:0,K.verticalScrollbarSize,0,W.height,j,z);d.setTop(U.getSliderPosition()),d.setHeight(U.getSliderSize())}else d.setTop(0),d.setHeight(0);v.style.height=x+"px",v.style.left=F-s.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",d.setWidth(s.ENTIRE_DIFF_OVERVIEW_WIDTH)}))}))}};e.OverviewRulerFeature=i,i.ONE_OVERVIEW_WIDTH=15,i.ENTIRE_DIFF_OVERVIEW_WIDTH=s.ONE_OVERVIEW_WIDTH*2,e.OverviewRulerFeature=i=s=Ie([ue(6,o.IThemeService)],i)}),define(ie[905],ne([1,0,7,2,30,523,396,38,9,665,8,32]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorEditors=void 0;let s=class extends k.Disposable{get onDidContentSizeChange(){return this._onDidContentSizeChange.event}constructor(t,n,c,m,u,r,a){super(),this.originalEditorElement=t,this.modifiedEditorElement=n,this._options=c,this._argCodeEditorWidgetOptions=m,this._createInnerEditor=u,this._instantiationService=r,this._keybindingService=a,this.original=this._register(this._createLeftHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.originalEditor||{})),this.modified=this._register(this._createRightHandSideEditor(this._options.editorOptions.get(),this._argCodeEditorWidgetOptions.modifiedEditor||{})),this._onDidContentSizeChange=this._register(new f.Emitter),this.modifiedScrollTop=(0,E.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollTop()),this.modifiedScrollHeight=(0,E.observableFromEvent)(this.modified.onDidScrollChange,()=>this.modified.getScrollHeight()),this.modifiedModel=(0,D.obsCodeEditor)(this.modified).model,this.modifiedSelections=(0,E.observableFromEvent)(this.modified.onDidChangeCursorSelection,()=>{var h;return(h=this.modified.getSelections())!==null&&h!==void 0?h:[]}),this.modifiedCursor=(0,E.derivedOpts)({owner:this,equalsFn:w.Position.equals},h=>{var l,g;return(g=(l=this.modifiedSelections.read(h)[0])===null||l===void 0?void 0:l.getPosition())!==null&&g!==void 0?g:new w.Position(1,1)}),this.originalCursor=(0,E.observableFromEvent)(this.original.onDidChangeCursorPosition,()=>{var h;return(h=this.original.getPosition())!==null&&h!==void 0?h:new w.Position(1,1)}),this._argCodeEditorWidgetOptions=null,this._register((0,E.autorunHandleChanges)({createEmptyChangeSummary:()=>({}),handleChange:(h,l)=>(h.didChange(c.editorOptions)&&Object.assign(l,h.change.changedOptions),!0)},(h,l)=>{c.editorOptions.read(h),this._options.renderSideBySide.read(h),this.modified.updateOptions(this._adjustOptionsForRightHandSide(h,l)),this.original.updateOptions(this._adjustOptionsForLeftHandSide(h,l))}))}_createLeftHandSideEditor(t,n){const c=this._adjustOptionsForLeftHandSide(void 0,t),m=this._constructInnerEditor(this._instantiationService,this.originalEditorElement,c,n);return m.setContextValue("isInDiffLeftEditor",!0),m}_createRightHandSideEditor(t,n){const c=this._adjustOptionsForRightHandSide(void 0,t),m=this._constructInnerEditor(this._instantiationService,this.modifiedEditorElement,c,n);return m.setContextValue("isInDiffRightEditor",!0),m}_constructInnerEditor(t,n,c,m){const u=this._createInnerEditor(t,n,c,m);return this._register(u.onDidContentSizeChange(r=>{const a=this.original.getContentWidth()+this.modified.getContentWidth()+y.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,h=Math.max(this.modified.getContentHeight(),this.original.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:h,contentWidth:a,contentHeightChanged:r.contentHeightChanged,contentWidthChanged:r.contentWidthChanged})})),u}_adjustOptionsForLeftHandSide(t,n){const c=this._adjustOptionsForSubEditor(n);return this._options.renderSideBySide.get()?(c.unicodeHighlight=this._options.editorOptions.get().unicodeHighlight||{},c.wordWrapOverride1=this._options.diffWordWrap.get()):(c.wordWrapOverride1="off",c.wordWrapOverride2="off",c.stickyScroll={enabled:!1},c.unicodeHighlight={nonBasicASCII:!1,ambiguousCharacters:!1,invisibleCharacters:!1}),c.glyphMargin=this._options.renderSideBySide.get(),n.originalAriaLabel&&(c.ariaLabel=n.originalAriaLabel),c.ariaLabel=this._updateAriaLabel(c.ariaLabel),c.readOnly=!this._options.originalEditable.get(),c.dropIntoEditor={enabled:!c.readOnly},c.extraEditorClassName="original-in-monaco-diff-editor",c}_adjustOptionsForRightHandSide(t,n){const c=this._adjustOptionsForSubEditor(n);return n.modifiedAriaLabel&&(c.ariaLabel=n.modifiedAriaLabel),c.ariaLabel=this._updateAriaLabel(c.ariaLabel),c.wordWrapOverride1=this._options.diffWordWrap.get(),c.revealHorizontalRightPadding=p.EditorOptions.revealHorizontalRightPadding.defaultValue+y.OverviewRulerFeature.ENTIRE_DIFF_OVERVIEW_WIDTH,c.scrollbar.verticalHasArrows=!1,c.extraEditorClassName="modified-in-monaco-diff-editor",c}_adjustOptionsForSubEditor(t){const n={...t,dimension:{height:0,width:0}};return n.inDiffEditor=!0,n.automaticLayout=!1,n.scrollbar={...n.scrollbar||{}},n.folding=!1,n.codeLens=this._options.diffCodeLens.get(),n.fixedOverflowWidgets=!0,n.minimap={...n.minimap||{}},n.minimap.enabled=!1,this._options.hideUnchangedRegions.get()?n.stickyScroll={enabled:!1}:n.stickyScroll=this._options.editorOptions.get().stickyScroll,n}_updateAriaLabel(t){var n;t||(t="");const c=(0,b.localize)(0,null,(n=this._keybindingService.lookupKeybinding("editor.action.accessibilityHelp"))===null||n===void 0?void 0:n.getAriaLabel());return this._options.accessibilityVerbose.get()?t+c:t?t.replaceAll(c,""):""}};e.DiffEditorEditors=s,e.DiffEditorEditors=s=Ie([ue(5,C.IInstantiationService),ue(6,o.IKeybindingService)],s)}),define(ie[86],ne([1,0,678,35,33,23]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.editorUnicodeHighlightBackground=e.editorUnicodeHighlightBorder=e.editorBracketPairGuideActiveBackground6=e.editorBracketPairGuideActiveBackground5=e.editorBracketPairGuideActiveBackground4=e.editorBracketPairGuideActiveBackground3=e.editorBracketPairGuideActiveBackground2=e.editorBracketPairGuideActiveBackground1=e.editorBracketPairGuideBackground6=e.editorBracketPairGuideBackground5=e.editorBracketPairGuideBackground4=e.editorBracketPairGuideBackground3=e.editorBracketPairGuideBackground2=e.editorBracketPairGuideBackground1=e.editorBracketHighlightingUnexpectedBracketForeground=e.editorBracketHighlightingForeground6=e.editorBracketHighlightingForeground5=e.editorBracketHighlightingForeground4=e.editorBracketHighlightingForeground3=e.editorBracketHighlightingForeground2=e.editorBracketHighlightingForeground1=e.overviewRulerInfo=e.overviewRulerWarning=e.overviewRulerError=e.overviewRulerRangeHighlight=e.ghostTextBackground=e.ghostTextForeground=e.ghostTextBorder=e.editorUnnecessaryCodeOpacity=e.editorUnnecessaryCodeBorder=e.editorGutter=e.editorOverviewRulerBackground=e.editorOverviewRulerBorder=e.editorBracketMatchBorder=e.editorBracketMatchBackground=e.editorCodeLensForeground=e.editorRuler=e.editorDimmedLineNumber=e.editorActiveLineNumber=e.editorActiveIndentGuide6=e.editorActiveIndentGuide5=e.editorActiveIndentGuide4=e.editorActiveIndentGuide3=e.editorActiveIndentGuide2=e.editorActiveIndentGuide1=e.editorIndentGuide6=e.editorIndentGuide5=e.editorIndentGuide4=e.editorIndentGuide3=e.editorIndentGuide2=e.editorIndentGuide1=e.deprecatedEditorActiveIndentGuides=e.deprecatedEditorIndentGuides=e.editorLineNumbers=e.editorWhitespaces=e.editorMultiCursorSecondaryBackground=e.editorMultiCursorSecondaryForeground=e.editorMultiCursorPrimaryBackground=e.editorMultiCursorPrimaryForeground=e.editorCursorBackground=e.editorCursorForeground=e.editorSymbolHighlightBorder=e.editorSymbolHighlight=e.editorRangeHighlightBorder=e.editorRangeHighlight=e.editorLineHighlightBorder=e.editorLineHighlight=void 0,e.editorLineHighlight=(0,E.registerColor)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(0,null)),e.editorLineHighlightBorder=(0,E.registerColor)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:E.contrastBorder},f.localize(1,null)),e.editorRangeHighlight=(0,E.registerColor)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},f.localize(2,null),!0),e.editorRangeHighlightBorder=(0,E.registerColor)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(3,null)),e.editorSymbolHighlight=(0,E.registerColor)("editor.symbolHighlightBackground",{dark:E.editorFindMatchHighlight,light:E.editorFindMatchHighlight,hcDark:null,hcLight:null},f.localize(4,null),!0),e.editorSymbolHighlightBorder=(0,E.registerColor)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(5,null)),e.editorCursorForeground=(0,E.registerColor)("editorCursor.foreground",{dark:"#AEAFAD",light:k.Color.black,hcDark:k.Color.white,hcLight:"#0F4A85"},f.localize(6,null)),e.editorCursorBackground=(0,E.registerColor)("editorCursor.background",null,f.localize(7,null)),e.editorMultiCursorPrimaryForeground=(0,E.registerColor)("editorMultiCursor.primary.foreground",{dark:e.editorCursorForeground,light:e.editorCursorForeground,hcDark:e.editorCursorForeground,hcLight:e.editorCursorForeground},f.localize(8,null)),e.editorMultiCursorPrimaryBackground=(0,E.registerColor)("editorMultiCursor.primary.background",{dark:e.editorCursorBackground,light:e.editorCursorBackground,hcDark:e.editorCursorBackground,hcLight:e.editorCursorBackground},f.localize(9,null)),e.editorMultiCursorSecondaryForeground=(0,E.registerColor)("editorMultiCursor.secondary.foreground",{dark:e.editorCursorForeground,light:e.editorCursorForeground,hcDark:e.editorCursorForeground,hcLight:e.editorCursorForeground},f.localize(10,null)),e.editorMultiCursorSecondaryBackground=(0,E.registerColor)("editorMultiCursor.secondary.background",{dark:e.editorCursorBackground,light:e.editorCursorBackground,hcDark:e.editorCursorBackground,hcLight:e.editorCursorBackground},f.localize(11,null)),e.editorWhitespaces=(0,E.registerColor)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},f.localize(12,null)),e.editorLineNumbers=(0,E.registerColor)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:k.Color.white,hcLight:"#292929"},f.localize(13,null)),e.deprecatedEditorIndentGuides=(0,E.registerColor)("editorIndentGuide.background",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},f.localize(14,null),!1,f.localize(15,null)),e.deprecatedEditorActiveIndentGuides=(0,E.registerColor)("editorIndentGuide.activeBackground",{dark:e.editorWhitespaces,light:e.editorWhitespaces,hcDark:e.editorWhitespaces,hcLight:e.editorWhitespaces},f.localize(16,null),!1,f.localize(17,null)),e.editorIndentGuide1=(0,E.registerColor)("editorIndentGuide.background1",{dark:e.deprecatedEditorIndentGuides,light:e.deprecatedEditorIndentGuides,hcDark:e.deprecatedEditorIndentGuides,hcLight:e.deprecatedEditorIndentGuides},f.localize(18,null)),e.editorIndentGuide2=(0,E.registerColor)("editorIndentGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(19,null)),e.editorIndentGuide3=(0,E.registerColor)("editorIndentGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(20,null)),e.editorIndentGuide4=(0,E.registerColor)("editorIndentGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(21,null)),e.editorIndentGuide5=(0,E.registerColor)("editorIndentGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(22,null)),e.editorIndentGuide6=(0,E.registerColor)("editorIndentGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(23,null)),e.editorActiveIndentGuide1=(0,E.registerColor)("editorIndentGuide.activeBackground1",{dark:e.deprecatedEditorActiveIndentGuides,light:e.deprecatedEditorActiveIndentGuides,hcDark:e.deprecatedEditorActiveIndentGuides,hcLight:e.deprecatedEditorActiveIndentGuides},f.localize(24,null)),e.editorActiveIndentGuide2=(0,E.registerColor)("editorIndentGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(25,null)),e.editorActiveIndentGuide3=(0,E.registerColor)("editorIndentGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(26,null)),e.editorActiveIndentGuide4=(0,E.registerColor)("editorIndentGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(27,null)),e.editorActiveIndentGuide5=(0,E.registerColor)("editorIndentGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(28,null)),e.editorActiveIndentGuide6=(0,E.registerColor)("editorIndentGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(29,null));const y=(0,E.registerColor)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:E.activeContrastBorder,hcLight:E.activeContrastBorder},f.localize(30,null),!1,f.localize(31,null));e.editorActiveLineNumber=(0,E.registerColor)("editorLineNumber.activeForeground",{dark:y,light:y,hcDark:y,hcLight:y},f.localize(32,null)),e.editorDimmedLineNumber=(0,E.registerColor)("editorLineNumber.dimmedForeground",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(33,null)),e.editorRuler=(0,E.registerColor)("editorRuler.foreground",{dark:"#5A5A5A",light:k.Color.lightgrey,hcDark:k.Color.white,hcLight:"#292929"},f.localize(34,null)),e.editorCodeLensForeground=(0,E.registerColor)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},f.localize(35,null)),e.editorBracketMatchBackground=(0,E.registerColor)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},f.localize(36,null)),e.editorBracketMatchBorder=(0,E.registerColor)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:E.contrastBorder,hcLight:E.contrastBorder},f.localize(37,null)),e.editorOverviewRulerBorder=(0,E.registerColor)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},f.localize(38,null)),e.editorOverviewRulerBackground=(0,E.registerColor)("editorOverviewRuler.background",null,f.localize(39,null)),e.editorGutter=(0,E.registerColor)("editorGutter.background",{dark:E.editorBackground,light:E.editorBackground,hcDark:E.editorBackground,hcLight:E.editorBackground},f.localize(40,null)),e.editorUnnecessaryCodeBorder=(0,E.registerColor)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:E.contrastBorder},f.localize(41,null)),e.editorUnnecessaryCodeOpacity=(0,E.registerColor)("editorUnnecessaryCode.opacity",{dark:k.Color.fromHex("#000a"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(42,null)),e.ghostTextBorder=(0,E.registerColor)("editorGhostText.border",{dark:null,light:null,hcDark:k.Color.fromHex("#fff").transparent(.8),hcLight:k.Color.fromHex("#292929").transparent(.8)},f.localize(43,null)),e.ghostTextForeground=(0,E.registerColor)("editorGhostText.foreground",{dark:k.Color.fromHex("#ffffff56"),light:k.Color.fromHex("#0007"),hcDark:null,hcLight:null},f.localize(44,null)),e.ghostTextBackground=(0,E.registerColor)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},f.localize(45,null));const p=new k.Color(new k.RGBA(0,122,204,.6));e.overviewRulerRangeHighlight=(0,E.registerColor)("editorOverviewRuler.rangeHighlightForeground",{dark:p,light:p,hcDark:p,hcLight:p},f.localize(46,null),!0),e.overviewRulerError=(0,E.registerColor)("editorOverviewRuler.errorForeground",{dark:new k.Color(new k.RGBA(255,18,18,.7)),light:new k.Color(new k.RGBA(255,18,18,.7)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:"#B5200D"},f.localize(47,null)),e.overviewRulerWarning=(0,E.registerColor)("editorOverviewRuler.warningForeground",{dark:E.editorWarningForeground,light:E.editorWarningForeground,hcDark:E.editorWarningBorder,hcLight:E.editorWarningBorder},f.localize(48,null)),e.overviewRulerInfo=(0,E.registerColor)("editorOverviewRuler.infoForeground",{dark:E.editorInfoForeground,light:E.editorInfoForeground,hcDark:E.editorInfoBorder,hcLight:E.editorInfoBorder},f.localize(49,null)),e.editorBracketHighlightingForeground1=(0,E.registerColor)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},f.localize(50,null)),e.editorBracketHighlightingForeground2=(0,E.registerColor)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},f.localize(51,null)),e.editorBracketHighlightingForeground3=(0,E.registerColor)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},f.localize(52,null)),e.editorBracketHighlightingForeground4=(0,E.registerColor)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(53,null)),e.editorBracketHighlightingForeground5=(0,E.registerColor)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(54,null)),e.editorBracketHighlightingForeground6=(0,E.registerColor)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(55,null)),e.editorBracketHighlightingUnexpectedBracketForeground=(0,E.registerColor)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new k.Color(new k.RGBA(255,18,18,.8)),light:new k.Color(new k.RGBA(255,18,18,.8)),hcDark:new k.Color(new k.RGBA(255,50,50,1)),hcLight:""},f.localize(56,null)),e.editorBracketPairGuideBackground1=(0,E.registerColor)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(57,null)),e.editorBracketPairGuideBackground2=(0,E.registerColor)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(58,null)),e.editorBracketPairGuideBackground3=(0,E.registerColor)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(59,null)),e.editorBracketPairGuideBackground4=(0,E.registerColor)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(60,null)),e.editorBracketPairGuideBackground5=(0,E.registerColor)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(61,null)),e.editorBracketPairGuideBackground6=(0,E.registerColor)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(62,null)),e.editorBracketPairGuideActiveBackground1=(0,E.registerColor)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(63,null)),e.editorBracketPairGuideActiveBackground2=(0,E.registerColor)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(64,null)),e.editorBracketPairGuideActiveBackground3=(0,E.registerColor)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(65,null)),e.editorBracketPairGuideActiveBackground4=(0,E.registerColor)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(66,null)),e.editorBracketPairGuideActiveBackground5=(0,E.registerColor)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(67,null)),e.editorBracketPairGuideActiveBackground6=(0,E.registerColor)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},f.localize(68,null)),e.editorUnicodeHighlightBorder=(0,E.registerColor)("editorUnicodeHighlight.border",{dark:E.editorWarningForeground,light:E.editorWarningForeground,hcDark:E.editorWarningForeground,hcLight:E.editorWarningForeground},f.localize(69,null)),e.editorUnicodeHighlightBackground=(0,E.registerColor)("editorUnicodeHighlight.background",{dark:E.editorWarningBackground,light:E.editorWarningBackground,hcDark:E.editorWarningBackground,hcLight:E.editorWarningBackground},f.localize(70,null)),(0,D.registerThemingParticipant)((w,b)=>{const C=w.getColor(E.editorBackground),o=w.getColor(e.editorLineHighlight),s=o&&!o.isTransparent()?o:C;s&&b.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${s}; }`)})}),define(ie[906],ne([1,0,128,86,13,23,24,94,9,461]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CurrentLineMarginHighlightOverlay=e.CurrentLineHighlightOverlay=e.AbstractLineHighlightOverlay=void 0;class b extends f.DynamicViewOverlay{constructor(i){super(),this._context=i;const t=this._context.configuration.options,n=t.get(145);this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new y.Selection(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const t=new Set;for(const m of this._selections)t.add(m.positionLineNumber);const n=Array.from(t);n.sort((m,u)=>m-u),E.equals(this._cursorLineNumbers,n)||(this._cursorLineNumbers=n,i=!0);const c=this._selections.every(m=>m.isEmpty());return this._selectionIsEmpty!==c&&(this._selectionIsEmpty=c,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(145);return this._renderLineHighlight=t.get(96),this._renderLineHighlightOnlyWhenFocus=t.get(97),this._wordWrap=n.isViewportWrapping,this._contentLeft=n.contentLeft,this._contentWidth=n.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const t=i.visibleRange.startLineNumber,n=i.visibleRange.endLineNumber,c=[];for(let u=t;u<=n;u++){const r=u-t;c[r]=""}if(this._wordWrap){const u=this._renderOne(i,!1);for(const r of this._cursorLineNumbers){const a=this._context.viewModel.coordinatesConverter,h=a.convertViewPositionToModelPosition(new w.Position(r,1)).lineNumber,l=a.convertModelPositionToViewPosition(new w.Position(h,1)).lineNumber,g=a.convertModelPositionToViewPosition(new w.Position(h,this._context.viewModel.model.getLineMaxColumn(h))).lineNumber,d=Math.max(l,t),v=Math.min(g,n);for(let _=d;_<=v;_++){const S=_-t;c[S]=u}}}const m=this._renderOne(i,!0);for(const u of this._cursorLineNumbers){if(u<t||u>n)continue;const r=u-t;c[r]=m}this._renderData=c}render(i,t){if(!this._renderData)return"";const n=t-i;return n>=this._renderData.length?"":this._renderData[n]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}e.AbstractLineHighlightOverlay=b;class C extends b{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-both":"")+(t?" current-line-exact":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}e.CurrentLineHighlightOverlay=C;class o extends b{_renderOne(i,t){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")+(this._shouldRenderInMargin()&&t?" current-line-exact-margin":"")}" style="width:${this._contentLeft}px"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}e.CurrentLineMarginHighlightOverlay=o,(0,D.registerThemingParticipant)((s,i)=>{const t=s.getColor(k.editorLineHighlight);if(t&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${t}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${t}; border: none; }`)),!t||t.isTransparent()||s.defines(k.editorLineHighlightBorder)){const n=s.getColor(k.editorLineHighlightBorder);n&&(i.addRule(`.monaco-editor .view-overlays .current-line-exact { border: 2px solid ${n}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-exact-margin { border: 2px solid ${n}; }`),(0,p.isHighContrast)(s.type)&&(i.addRule(".monaco-editor .view-overlays .current-line-exact { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-exact-margin { border-width: 1px; }")))}})}),define(ie[907],ne([1,0,128,86,23,9,13,20,319,233,464]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IndentGuidesOverlay=void 0;class C extends f.DynamicViewOverlay{constructor(i){super(),this._context=i,this._primaryPosition=null;const t=this._context.configuration.options,n=t.get(146),c=t.get(50);this._spaceWidth=c.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const t=this._context.configuration.options,n=t.get(146),c=t.get(50);return this._spaceWidth=c.spaceWidth,this._maxIndentLeft=n.wrappingColumn===-1?-1:n.wrappingColumn*c.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=t.get(16),!0}onCursorStateChanged(i){var t;const c=i.selections[0].getPosition();return!((t=this._primaryPosition)===null||t===void 0)&&t.equals(c)?!1:(this._primaryPosition=c,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var t,n,c,m;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const u=i.visibleRange.startLineNumber,r=i.visibleRange.endLineNumber,a=i.scrollWidth,h=this._primaryPosition,l=this.getGuidesByLine(u,Math.min(r+1,this._context.viewModel.getLineCount()),h),g=[];for(let d=u;d<=r;d++){const v=d-u,_=l[v];let S="";const L=(n=(t=i.visibleRangeForPosition(new D.Position(d,1)))===null||t===void 0?void 0:t.left)!==null&&n!==void 0?n:0;for(const I of _){const T=I.column===-1?L+(I.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new D.Position(d,I.column)).left;if(T>a||this._maxIndentLeft>0&&T>this._maxIndentLeft)break;const N=I.horizontalLine?I.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",A=I.horizontalLine?((m=(c=i.visibleRangeForPosition(new D.Position(d,I.horizontalLine.endColumn)))===null||c===void 0?void 0:c.left)!==null&&m!==void 0?m:T+this._spaceWidth)-T:this._spaceWidth;S+=`<div class="core-guide ${I.className} ${N}" style="left:${T}px;width:${A}px"></div>`}g[v]=S}this._renderResult=g}getGuidesByLine(i,t,n){const c=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,t,n,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?b.HorizontalGuidesState.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?b.HorizontalGuidesState.EnabledForActive:b.HorizontalGuidesState.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,m=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,t):null;let u=0,r=0,a=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&n){const g=this._context.viewModel.getActiveIndentGuide(n.lineNumber,i,t);u=g.startLineNumber,r=g.endLineNumber,a=g.indent}const{indentSize:h}=this._context.viewModel.model.getOptions(),l=[];for(let g=i;g<=t;g++){const d=new Array;l.push(d);const v=c?c[g-i]:[],_=new y.ArrayQueue(v),S=m?m[g-i]:0;for(let L=1;L<=S;L++){const I=(L-1)*h+1,T=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||v.length===0)&&u<=g&&g<=r&&L===a;d.push(..._.takeWhile(A=>A.visibleColumn<I)||[]);const N=_.peek();(!N||N.visibleColumn!==I||N.horizontalLine)&&d.push(new b.IndentGuide(I,-1,`core-guide-indent lvl-${(L-1)%30}`+(T?" indent-active":""),null,-1,-1))}d.push(..._.takeWhile(L=>!0)||[])}return l}render(i,t){if(!this._renderResult)return"";const n=t-i;return n<0||n>=this._renderResult.length?"":this._renderResult[n]}}e.IndentGuidesOverlay=C;function o(s){if(!(s&&s.isTransparent()))return s}(0,E.registerThemingParticipant)((s,i)=>{const t=[{bracketColor:k.editorBracketHighlightingForeground1,guideColor:k.editorBracketPairGuideBackground1,guideColorActive:k.editorBracketPairGuideActiveBackground1},{bracketColor:k.editorBracketHighlightingForeground2,guideColor:k.editorBracketPairGuideBackground2,guideColorActive:k.editorBracketPairGuideActiveBackground2},{bracketColor:k.editorBracketHighlightingForeground3,guideColor:k.editorBracketPairGuideBackground3,guideColorActive:k.editorBracketPairGuideActiveBackground3},{bracketColor:k.editorBracketHighlightingForeground4,guideColor:k.editorBracketPairGuideBackground4,guideColorActive:k.editorBracketPairGuideActiveBackground4},{bracketColor:k.editorBracketHighlightingForeground5,guideColor:k.editorBracketPairGuideBackground5,guideColorActive:k.editorBracketPairGuideActiveBackground5},{bracketColor:k.editorBracketHighlightingForeground6,guideColor:k.editorBracketPairGuideBackground6,guideColorActive:k.editorBracketPairGuideActiveBackground6}],n=new w.BracketPairGuidesClassNames,c=[{indentColor:k.editorIndentGuide1,indentColorActive:k.editorActiveIndentGuide1},{indentColor:k.editorIndentGuide2,indentColorActive:k.editorActiveIndentGuide2},{indentColor:k.editorIndentGuide3,indentColorActive:k.editorActiveIndentGuide3},{indentColor:k.editorIndentGuide4,indentColorActive:k.editorActiveIndentGuide4},{indentColor:k.editorIndentGuide5,indentColorActive:k.editorActiveIndentGuide5},{indentColor:k.editorIndentGuide6,indentColorActive:k.editorActiveIndentGuide6}],m=t.map(r=>{var a,h;const l=s.getColor(r.bracketColor),g=s.getColor(r.guideColor),d=s.getColor(r.guideColorActive),v=o((a=o(g))!==null&&a!==void 0?a:l?.transparent(.3)),_=o((h=o(d))!==null&&h!==void 0?h:l);if(!(!v||!_))return{guideColor:v,guideColorActive:_}}).filter(p.isDefined),u=c.map(r=>{const a=s.getColor(r.indentColor),h=s.getColor(r.indentColorActive),l=o(a),g=o(h);if(!(!l||!g))return{indentColor:l,indentColorActive:g}}).filter(p.isDefined);if(m.length>0){for(let r=0;r<30;r++){const a=m[r%m.length];i.addRule(`.monaco-editor .${n.getInlineClassNameOfLevel(r).replace(/ /g,".")} { --guide-color: ${a.guideColor}; --guide-color-active: ${a.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${n.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${n.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${n.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}if(u.length>0){for(let r=0;r<30;r++){const a=u[r%u.length];i.addRule(`.monaco-editor .lines-content .core-guide-indent.lvl-${r} { --indent-color: ${a.indentColor}; --indent-color-active: ${a.indentColorActive}; }`)}i.addRule(".monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 var(--indent-color) inset; }"),i.addRule(".monaco-editor .lines-content .core-guide-indent.indent-active { box-shadow: 1px 0 0 0 var(--indent-color-active) inset; }")}})}),define(ie[397],ne([1,0,17,128,9,5,23,86,465]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LineNumbersOverlay=void 0;class w extends k.DynamicViewOverlay{constructor(C){super(),this._context=C,this._readConfig(),this._lastCursorModelPosition=new E.Position(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const C=this._context.configuration.options;this._lineHeight=C.get(67);const o=C.get(68);this._renderLineNumbers=o.renderType,this._renderCustomLineNumbers=o.renderFn,this._renderFinalNewline=C.get(95);const s=C.get(145);this._lineNumbersLeft=s.lineNumbersLeft,this._lineNumbersWidth=s.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){return this._readConfig(),!0}onCursorStateChanged(C){const o=C.selections[0].getPosition();this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(o);let s=!1;return this._activeLineNumber!==o.lineNumber&&(this._activeLineNumber=o.lineNumber,s=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(s=!0),s}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}onDecorationsChanged(C){return C.affectsLineNumber}_getLineRenderLineNumber(C){const o=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new E.Position(C,1));if(o.column!==1)return"";const s=o.lineNumber;if(this._renderCustomLineNumbers)return this._renderCustomLineNumbers(s);if(this._renderLineNumbers===2){const i=Math.abs(this._lastCursorModelPosition.lineNumber-s);return i===0?'<span class="relative-current-line-number">'+s+"</span>":String(i)}if(this._renderLineNumbers===3){if(this._lastCursorModelPosition.lineNumber===s||s%10===0)return String(s);const i=this._context.viewModel.getLineCount();return s===i?String(s):""}return String(s)}prepareRender(C){if(this._renderLineNumbers===0){this._renderResult=null;return}const o=f.isLinux?this._lineHeight%2===0?" lh-even":" lh-odd":"",s=C.visibleRange.startLineNumber,i=C.visibleRange.endLineNumber,t=this._context.viewModel.getDecorationsInViewport(C.visibleRange).filter(u=>!!u.options.lineNumberClassName);t.sort((u,r)=>D.Range.compareRangesUsingEnds(u.range,r.range));let n=0;const c=this._context.viewModel.getLineCount(),m=[];for(let u=s;u<=i;u++){const r=u-s;let a=this._getLineRenderLineNumber(u),h="";for(;n<t.length&&t[n].range.endLineNumber<u;)n++;for(let l=n;l<t.length;l++){const{range:g,options:d}=t[l];g.startLineNumber<=u&&(h+=" "+d.lineNumberClassName)}if(!a&&!h){m[r]="";continue}u===c&&this._context.viewModel.getLineLength(u)===0&&(this._renderFinalNewline==="off"&&(a=""),this._renderFinalNewline==="dimmed"&&(h+=" dimmed-line-number")),u===this._activeLineNumber&&(h+=" active-line-number"),m[r]=`<div class="${w.CLASS_NAME}${o}${h}" style="left:${this._lineNumbersLeft}px;width:${this._lineNumbersWidth}px;">${a}</div>`}this._renderResult=m}render(C,o){if(!this._renderResult)return"";const s=o-C;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.LineNumbersOverlay=w,w.CLASS_NAME="line-numbers",(0,y.registerThemingParticipant)((b,C)=>{const o=b.getColor(p.editorLineNumbers),s=b.getColor(p.editorDimmedLineNumber);s?C.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${s}; }`):o&&C.addRule(`.monaco-editor .line-numbers.dimmed-line-number { color: ${o.transparent(.4)}; }`)})}),define(ie[908],ne([1,0,656,63,40,17,12,71,205,302,56,397,321,38,161,9,5,24,219,28,35,291,32,8,458]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TextAreaHandler=void 0;class d{constructor(I,T,N,A,O){this._context=I,this.modelLineNumber=T,this.distanceToModelLineStart=N,this.widthOfHiddenLineTextBefore=A,this.distanceToModelLineEnd=O,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(I){const T=new n.Position(this.modelLineNumber,this.distanceToModelLineStart+1),N=new n.Position(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(T),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(N),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=I.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=I.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(I){return this._previousPresentation||(I?this._previousPresentation=I:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const v=k.isFirefox;let _=class extends C.ViewPart{constructor(I,T,N,A,O){super(I),this._keybindingService=A,this._instantiationService=O,this._primaryCursorPosition=new n.Position(1,1),this._primaryCursorVisibleRange=null,this._viewController=T,this._visibleRangeProvider=N,this._scrollLeft=0,this._scrollTop=0;const M=this._context.configuration.options,R=M.get(145);this._setAccessibilityOptions(M),this._contentLeft=R.contentLeft,this._contentWidth=R.contentWidth,this._contentHeight=R.height,this._fontInfo=M.get(50),this._lineHeight=M.get(67),this._emptySelectionClipboard=M.get(37),this._copyWithSyntaxHighlighting=M.get(25),this._visibleTextArea=null,this._selections=[new m.Selection(1,1,1,1)],this._modelSelections=[new m.Selection(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,E.createFastDomNode)(document.createElement("textarea")),C.PartFingerprints.write(this.textArea,7),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:x}=this._context.viewModel.model.getOptions();this.textArea.domNode.style.tabSize=`${x*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(M)),this.textArea.setAttribute("aria-required",M.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(M.get(124))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",f.localize(0,null)),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-autocomplete",M.get(91)?"none":"both"),this._ensureReadOnlyAttribute(),this.textAreaCover=(0,E.createFastDomNode)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const F={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:z=>this._context.viewModel.getLineMaxColumn(z),getValueInRange:(z,j)=>this._context.viewModel.getValueInRange(z,j),getValueLengthInRange:(z,j)=>this._context.viewModel.getValueLengthInRange(z,j),modifyPosition:(z,j)=>this._context.viewModel.modifyPosition(z,j)},W={getDataToCopy:()=>{const z=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,D.isWindows),j=this._context.viewModel.model.getEOL(),K=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),U=Array.isArray(z)?z:null,G=Array.isArray(z)?z.join(j):z;let te,ee=null;if(w.CopyOptions.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&G.length<65536){const Y=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);Y&&(te=Y.html,ee=Y.mode)}return{isFromEmptySelection:K,multicursorText:U,text:G,html:te,mode:ee}},getScreenReaderContent:()=>{if(this._accessibilitySupport===1){const z=this._selections[0];if(D.isMacintosh&&z.isEmpty()){const K=z.getStartPosition();let U=this._getWordBeforePosition(K);if(U.length===0&&(U=this._getCharacterBeforePosition(K)),U.length>0)return new b.TextAreaState(U,U.length,U.length,c.Range.fromPositions(K),0)}if(D.isMacintosh&&!z.isEmpty()&&F.getValueLengthInRange(z,0)<500){const K=F.getValueInRange(z,0);return new b.TextAreaState(K,0,K.length,z,0)}if(k.isSafari&&!z.isEmpty()){const K="vscode-placeholder";return new b.TextAreaState(K,0,K.length,null,void 0)}return b.TextAreaState.EMPTY}if(k.isAndroid){const z=this._selections[0];if(z.isEmpty()){const j=z.getStartPosition(),[K,U]=this._getAndroidWordAtPosition(j);if(K.length>0)return new b.TextAreaState(K,U,U,c.Range.fromPositions(j),0)}return b.TextAreaState.EMPTY}return b.PagedScreenReaderStrategy.fromEditorSelection(F,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(z,j,K)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(z,j,K)},H=this._register(new w.TextAreaWrapper(this.textArea.domNode));this._textAreaInput=this._register(this._instantiationService.createInstance(w.TextAreaInput,W,H,D.OS,{isAndroid:k.isAndroid,isChrome:k.isChrome,isFirefox:k.isFirefox,isSafari:k.isSafari})),this._register(this._textAreaInput.onKeyDown(z=>{this._viewController.emitKeyDown(z)})),this._register(this._textAreaInput.onKeyUp(z=>{this._viewController.emitKeyUp(z)})),this._register(this._textAreaInput.onPaste(z=>{let j=!1,K=null,U=null;z.metadata&&(j=this._emptySelectionClipboard&&!!z.metadata.isFromEmptySelection,K=typeof z.metadata.multicursorText<"u"?z.metadata.multicursorText:null,U=z.metadata.mode),this._viewController.paste(z.text,j,K,U)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(z=>{z.replacePrevCharCnt||z.replaceNextCharCnt||z.positionDelta?(b._debugComposition&&console.log(` => compositionType: <<${z.text}>>, ${z.replacePrevCharCnt}, ${z.replaceNextCharCnt}, ${z.positionDelta}`),this._viewController.compositionType(z.text,z.replacePrevCharCnt,z.replaceNextCharCnt,z.positionDelta)):(b._debugComposition&&console.log(` => type: <<${z.text}>>`),this._viewController.type(z.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(z=>{this._viewController.setSelection(z)})),this._register(this._textAreaInput.onCompositionStart(z=>{const j=this.textArea.domNode,K=this._modelSelections[0],{distanceToModelLineStart:U,widthOfHiddenTextBefore:G}=(()=>{const ee=j.value.substring(0,Math.min(j.selectionStart,j.selectionEnd)),Y=ee.lastIndexOf(`
`),P=ee.substring(Y+1),Z=P.lastIndexOf("	"),re=P.length-Z-1,ce=K.getStartPosition(),he=Math.min(ce.column-1,re),pe=ce.column-1-he,ge=P.substring(0,P.length-he),{tabSize:X}=this._context.viewModel.model.getOptions(),ae=S(this.textArea.domNode.ownerDocument,ge,this._fontInfo,X);return{distanceToModelLineStart:pe,widthOfHiddenTextBefore:ae}})(),{distanceToModelLineEnd:te}=(()=>{const ee=j.value.substring(Math.max(j.selectionStart,j.selectionEnd)),Y=ee.indexOf(`
`),P=Y===-1?ee:ee.substring(0,Y),Z=P.indexOf("	"),re=Z===-1?P.length:P.length-Z-1,ce=K.getEndPosition(),he=Math.min(this._context.viewModel.model.getLineMaxColumn(ce.lineNumber)-ce.column,re);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(ce.lineNumber)-ce.column-he}})();this._context.viewModel.revealRange("keyboard",!0,c.Range.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new d(this._context,K.startLineNumber,U,G,te),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(z=>{this._visibleTextArea&&(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off"),this._render(),this.textArea.setClassName(`inputarea ${u.MOUSE_CURSOR_TEXT_CSS_CLASS_NAME}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)})),this._register(h.IME.onDidChange(()=>{this._ensureReadOnlyAttribute()}))}writeScreenReaderContent(I){this._textAreaInput.writeNativeTextAreaContent(I)}dispose(){super.dispose()}_getAndroidWordAtPosition(I){const T='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',N=this._context.viewModel.getLineContent(I.lineNumber),A=(0,t.getMapForWordSeparators)(T,[]);let O=!0,M=I.column,R=!0,x=I.column,F=0;for(;F<50&&(O||R);){if(O&&M<=1&&(O=!1),O){const W=N.charCodeAt(M-2);A.get(W)!==0?O=!1:M--}if(R&&x>N.length&&(R=!1),R){const W=N.charCodeAt(x-1);A.get(W)!==0?R=!1:x++}F++}return[N.substring(M-1,x-1),I.column-M]}_getWordBeforePosition(I){const T=this._context.viewModel.getLineContent(I.lineNumber),N=(0,t.getMapForWordSeparators)(this._context.configuration.options.get(131),[]);let A=I.column,O=0;for(;A>1;){const M=T.charCodeAt(A-2);if(N.get(M)!==0||O>50)return T.substring(A-1,I.column-1);O++,A--}return T.substring(0,I.column-1)}_getCharacterBeforePosition(I){if(I.column>1){const N=this._context.viewModel.getLineContent(I.lineNumber).charAt(I.column-2);if(!y.isHighSurrogate(N.charCodeAt(0)))return N}return""}_getAriaLabel(I){var T,N,A;if(I.get(2)===1){const M=(T=this._keybindingService.lookupKeybinding("editor.action.toggleScreenReaderAccessibilityMode"))===null||T===void 0?void 0:T.getAriaLabel(),R=(N=this._keybindingService.lookupKeybinding("workbench.action.showCommands"))===null||N===void 0?void 0:N.getAriaLabel(),x=(A=this._keybindingService.lookupKeybinding("workbench.action.openGlobalKeybindings"))===null||A===void 0?void 0:A.getAriaLabel(),F=f.localize(1,null);return M?f.localize(2,null,F,M):R?f.localize(3,null,F,R):x?f.localize(4,null,F,x):F}return I.get(4)}_setAccessibilityOptions(I){this._accessibilitySupport=I.get(2);const T=I.get(3);this._accessibilitySupport===2&&T===i.EditorOptions.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=T;const A=I.get(145).wrappingColumn;if(A!==-1&&this._accessibilitySupport!==1){const O=I.get(50);this._textAreaWrapping=!0,this._textAreaWidth=Math.round(A*O.typicalHalfwidthCharacterWidth)}else this._textAreaWrapping=!1,this._textAreaWidth=v?0:1}onConfigurationChanged(I){const T=this._context.configuration.options,N=T.get(145);this._setAccessibilityOptions(T),this._contentLeft=N.contentLeft,this._contentWidth=N.contentWidth,this._contentHeight=N.height,this._fontInfo=T.get(50),this._lineHeight=T.get(67),this._emptySelectionClipboard=T.get(37),this._copyWithSyntaxHighlighting=T.get(25),this.textArea.setAttribute("wrap",this._textAreaWrapping&&!this._visibleTextArea?"on":"off");const{tabSize:A}=this._context.viewModel.model.getOptions();return this.textArea.domNode.style.tabSize=`${A*this._fontInfo.spaceWidth}px`,this.textArea.setAttribute("aria-label",this._getAriaLabel(T)),this.textArea.setAttribute("aria-required",T.get(5)?"true":"false"),this.textArea.setAttribute("tabindex",String(T.get(124))),(I.hasChanged(34)||I.hasChanged(91))&&this._ensureReadOnlyAttribute(),I.hasChanged(2)&&this._textAreaInput.writeNativeTextAreaContent("strategy changed"),!0}onCursorStateChanged(I){return this._selections=I.selections.slice(0),this._modelSelections=I.modelSelections.slice(0),this._textAreaInput.writeNativeTextAreaContent("selection changed"),!0}onDecorationsChanged(I){return!0}onFlushed(I){return!0}onLinesChanged(I){return!0}onLinesDeleted(I){return!0}onLinesInserted(I){return!0}onScrollChanged(I){return this._scrollLeft=I.scrollLeft,this._scrollTop=I.scrollTop,!0}onZonesChanged(I){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(I){I.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",I.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),I.role&&this.textArea.setAttribute("role",I.role)}_ensureReadOnlyAttribute(){const I=this._context.configuration.options;!h.IME.enabled||I.get(34)&&I.get(91)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")}prepareRender(I){var T;this._primaryCursorPosition=new n.Position(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=I.visibleRangeForPosition(this._primaryCursorPosition),(T=this._visibleTextArea)===null||T===void 0||T.prepareRender(I)}render(I){this._textAreaInput.writeNativeTextAreaContent("render"),this._render()}_render(){var I;if(this._visibleTextArea){const A=this._visibleTextArea.visibleTextareaStart,O=this._visibleTextArea.visibleTextareaEnd,M=this._visibleTextArea.startPosition,R=this._visibleTextArea.endPosition;if(M&&R&&A&&O&&O.left>=this._scrollLeft&&A.left<=this._scrollLeft+this._contentWidth){const x=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,F=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let W=this._visibleTextArea.widthOfHiddenLineTextBefore,H=this._contentLeft+A.left-this._scrollLeft,z=O.left-A.left+1;if(H<this._contentLeft){const ee=this._contentLeft-H;H+=ee,W+=ee,z-=ee}z>this._contentWidth&&(z=this._contentWidth);const j=this._context.viewModel.getViewLineData(M.lineNumber),K=j.tokens.findTokenIndexAtOffset(M.column-1),U=j.tokens.findTokenIndexAtOffset(R.column-1),G=K===U,te=this._visibleTextArea.definePresentation(G?j.tokens.getPresentation(K):null);this.textArea.domNode.scrollTop=F*this._lineHeight,this.textArea.domNode.scrollLeft=W,this._doRender({lastRenderPosition:null,top:x,left:H,width:z,height:this._lineHeight,useCover:!1,color:(r.TokenizationRegistry.getColorMap()||[])[te.foreground],italic:te.italic,bold:te.bold,underline:te.underline,strikethrough:te.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const T=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(T<this._contentLeft||T>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const N=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(N<0||N>this._contentHeight){this._renderAtTopLeft();return}if(D.isMacintosh||this._accessibilitySupport===2){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const A=(I=this._textAreaInput.textAreaState.newlineCountBeforeSelection)!==null&&I!==void 0?I:this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=A*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:N,left:this._textAreaWrapping?this._contentLeft:T,width:this._textAreaWidth,height:v?0:1,useCover:!1})}_newlinecount(I){let T=0,N=-1;do{if(N=I.indexOf(`
`,N+1),N===-1)break;T++}while(!0);return T}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:this._textAreaWidth,height:v?0:1,useCover:!0})}_doRender(I){this._lastRenderPosition=I.lastRenderPosition;const T=this.textArea,N=this.textAreaCover;(0,p.applyFontInfo)(T,this._fontInfo),T.setTop(I.top),T.setLeft(I.left),T.setWidth(I.width),T.setHeight(I.height),T.setColor(I.color?a.Color.Format.CSS.formatHex(I.color):""),T.setFontStyle(I.italic?"italic":""),I.bold&&T.setFontWeight("bold"),T.setTextDecoration(`${I.underline?" underline":""}${I.strikethrough?" line-through":""}`),N.setTop(I.useCover?I.top:0),N.setLeft(I.useCover?I.left:0),N.setWidth(I.useCover?I.width:0),N.setHeight(I.useCover?I.height:0);const A=this._context.configuration.options;A.get(57)?N.setClassName("monaco-editor-background textAreaCover "+s.Margin.OUTER_CLASS_NAME):A.get(68).renderType!==0?N.setClassName("monaco-editor-background textAreaCover "+o.LineNumbersOverlay.CLASS_NAME):N.setClassName("monaco-editor-background textAreaCover")}};e.TextAreaHandler=_,e.TextAreaHandler=_=Ie([ue(3,l.IKeybindingService),ue(4,g.IInstantiationService)],_);function S(L,I,T,N){if(I.length===0)return 0;const A=L.createElement("div");A.style.position="absolute",A.style.top="-50000px",A.style.width="50000px";const O=L.createElement("span");(0,p.applyFontInfo)(O,T),O.style.whiteSpace="pre",O.style.tabSize=`${N*T.spaceWidth}px`,O.append(I),A.appendChild(O),L.body.appendChild(A);const M=O.offsetWidth;return L.body.removeChild(A),M}}),define(ie[909],ne([1,0,40,35,56,9,28,86,91,13]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecorationsOverviewRuler=void 0;class C{constructor(i,t){const n=i.options;this.lineHeight=n.get(67),this.pixelRatio=n.get(143),this.overviewRulerLanes=n.get(83),this.renderBorder=n.get(82);const c=t.getColor(p.editorOverviewRulerBorder);this.borderColor=c?c.toString():null,this.hideCursor=n.get(59);const m=t.getColor(p.editorCursorForeground);this.cursorColorSingle=m?m.transparent(.7).toString():null;const u=t.getColor(p.editorMultiCursorPrimaryForeground);this.cursorColorPrimary=u?u.transparent(.7).toString():null;const r=t.getColor(p.editorMultiCursorSecondaryForeground);this.cursorColorSecondary=r?r.transparent(.7).toString():null,this.themeType=t.type;const a=n.get(73),h=a.enabled,l=a.side,g=t.getColor(p.editorOverviewRulerBackground),d=y.TokenizationRegistry.getDefaultBackground();g?this.backgroundColor=g:h&&l==="right"?this.backgroundColor=d:this.backgroundColor=null;const _=n.get(145).overviewRuler;this.top=_.top,this.right=_.right,this.domWidth=_.width,this.domHeight=_.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[S,L]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=S,this.w=L}_initLanes(i,t,n){const c=t-i;if(n>=3){const m=Math.floor(c/3),u=Math.floor(c/3),r=c-m-u,a=i,h=a+m,l=a+m+r;return[[0,a,h,a,l,a,h,a],[0,m,r,m+r,u,m+r+u,r+u,m+r+u]]}else if(n===2){const m=Math.floor(c/2),u=c-m,r=i,a=r+m;return[[0,r,r,r,a,r,r,r],[0,m,m,m,u,m+u,m+u,m+u]]}else{const m=i,u=c;return[[0,m,m,m,m,m,m,m],[0,u,u,u,u,u,u,u]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColorSingle===i.cursorColorSingle&&this.cursorColorPrimary===i.cursorColorPrimary&&this.cursorColorSecondary===i.cursorColorSecondary&&this.themeType===i.themeType&&k.Color.equals(this.backgroundColor,i.backgroundColor)&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class o extends E.ViewPart{constructor(i){super(i),this._actualShouldRender=0,this._renderedDecorations=[],this._renderedCursorPositions=[],this._domNode=(0,f.createFastDomNode)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=y.TokenizationRegistry.onDidChange(t=>{t.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[{position:new D.Position(1,1),color:this._settings.cursorColorSingle}]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const t=new C(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(t)?!1:(this._settings=t,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}_markRenderingIsNeeded(){return this._actualShouldRender=2,!0}_markRenderingIsMaybeNeeded(){return this._actualShouldRender=1,!0}onConfigurationChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}onCursorStateChanged(i){this._cursorPositions=[];for(let t=0,n=i.selections.length;t<n;t++){let c=this._settings.cursorColorSingle;n>1&&(c=t===0?this._settings.cursorColorPrimary:this._settings.cursorColorSecondary),this._cursorPositions.push({position:i.selections[t].getPosition(),color:c})}return this._cursorPositions.sort((t,n)=>D.Position.compare(t.position,n.position)),this._markRenderingIsMaybeNeeded()}onDecorationsChanged(i){return i.affectsOverviewRuler?this._markRenderingIsMaybeNeeded():!1}onFlushed(i){return this._markRenderingIsNeeded()}onScrollChanged(i){return i.scrollHeightChanged?this._markRenderingIsNeeded():!1}onZonesChanged(i){return this._markRenderingIsNeeded()}onThemeChanged(i){return this._updateSettings(!1)?this._markRenderingIsNeeded():!1}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render(),this._actualShouldRender=0}_render(){const i=this._settings.backgroundColor;if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(i?k.Color.Format.CSS.formatHexA(i):""),this._domNode.setDisplay("none");return}const t=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme);if(t.sort(w.OverviewRulerDecorationsGroup.compareByRenderingProps),this._actualShouldRender===1&&!w.OverviewRulerDecorationsGroup.equalsArr(this._renderedDecorations,t)&&(this._actualShouldRender=2),this._actualShouldRender===1&&!(0,b.equals)(this._renderedCursorPositions,this._cursorPositions,(_,S)=>_.position.lineNumber===S.position.lineNumber&&_.color===S.color)&&(this._actualShouldRender=2),this._actualShouldRender===1)return;this._renderedDecorations=t,this._renderedCursorPositions=this._cursorPositions,this._domNode.setDisplay("block");const n=this._settings.canvasWidth,c=this._settings.canvasHeight,m=this._settings.lineHeight,u=this._context.viewLayout,r=this._context.viewLayout.getScrollHeight(),a=c/r,h=6*this._settings.pixelRatio|0,l=h/2|0,g=this._domNode.domNode.getContext("2d");i?i.isOpaque()?(g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,n,c)):(g.clearRect(0,0,n,c),g.fillStyle=k.Color.Format.CSS.formatHexA(i),g.fillRect(0,0,n,c)):g.clearRect(0,0,n,c);const d=this._settings.x,v=this._settings.w;for(const _ of t){const S=_.color,L=_.data;g.fillStyle=S;let I=0,T=0,N=0;for(let A=0,O=L.length/3;A<O;A++){const M=L[3*A],R=L[3*A+1],x=L[3*A+2];let F=u.getVerticalOffsetForLineNumber(R)*a|0,W=(u.getVerticalOffsetForLineNumber(x)+m)*a|0;if(W-F<h){let z=(F+W)/2|0;z<l?z=l:z+l>c&&(z=c-l),F=z-l,W=z+l}F>N+1||M!==I?(A!==0&&g.fillRect(d[I],T,v[I],N-T),I=M,T=F,N=W):W>N&&(N=W)}g.fillRect(d[I],T,v[I],N-T)}if(!this._settings.hideCursor){const _=2*this._settings.pixelRatio|0,S=_/2|0,L=this._settings.x[7],I=this._settings.w[7];let T=-100,N=-100,A=null;for(let O=0,M=this._cursorPositions.length;O<M;O++){const R=this._cursorPositions[O].color;if(!R)continue;const x=this._cursorPositions[O].position;let F=u.getVerticalOffsetForLineNumber(x.lineNumber)*a|0;F<S?F=S:F+S>c&&(F=c-S);const W=F-S,H=W+_;W>N+1||R!==A?(O!==0&&A&&g.fillRect(L,T,I,N-T),T=W,N=H):H>N&&(N=H),A=R,g.fillStyle=R}A&&g.fillRect(L,T,I,N-T)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(g.beginPath(),g.lineWidth=1,g.strokeStyle=this._settings.borderColor,g.moveTo(0,0),g.lineTo(0,c),g.stroke(),g.moveTo(0,0),g.lineTo(n,0),g.stroke())}}e.DecorationsOverviewRuler=o}),define(ie[910],ne([1,0,40,15,56,677,38,86,23,94,6,475]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewCursors=void 0;class o extends E.ViewPart{constructor(i){super(i);const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new D.ViewCursor(this._context,D.CursorPlurality.Single),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,f.createFastDomNode)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new k.TimeoutTimer,this._cursorFlatBlinkInterval=new C.WindowIntervalTimer,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const t=this._context.configuration.options;this._readOnly=t.get(91),this._cursorBlinking=t.get(26),this._cursorStyle=t.get(28),this._cursorSmoothCaretAnimation=t.get(27),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let n=0,c=this._secondaryCursors.length;n<c;n++)this._secondaryCursors[n].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,t,n){const c=this._secondaryCursors.length!==t.length||this._cursorSmoothCaretAnimation==="explicit"&&n!==3;if(this._primaryCursor.setPlurality(t.length?D.CursorPlurality.MultiPrimary:D.CursorPlurality.Single),this._primaryCursor.onCursorPositionChanged(i,c),this._updateBlinking(),this._secondaryCursors.length<t.length){const m=t.length-this._secondaryCursors.length;for(let u=0;u<m;u++){const r=new D.ViewCursor(this._context,D.CursorPlurality.MultiSecondary);this._domNode.domNode.insertBefore(r.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push(r)}}else if(this._secondaryCursors.length>t.length){const m=this._secondaryCursors.length-t.length;for(let u=0;u<m;u++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let m=0;m<t.length;m++)this._secondaryCursors[m].onCursorPositionChanged(t[m],c)}onCursorStateChanged(i){const t=[];for(let c=0,m=i.selections.length;c<m;c++)t[c]=i.selections[c].getPosition();this._onCursorPositionChanged(t[0],t.slice(1),i.reason);const n=i.selections[0].isEmpty();return this._selectionIsEmpty!==n&&(this._selectionIsEmpty=n,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const t=n=>{for(let c=0,m=i.ranges.length;c<m;c++)if(i.ranges[c].fromLineNumber<=n.lineNumber&&n.lineNumber<=i.ranges[c].toLineNumber)return!0;return!1};if(t(this._primaryCursor.getPosition()))return!0;for(const n of this._secondaryCursors)if(t(n.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),t=i===0,n=i===5;t?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!t&&!n&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},o.BLINK_INTERVAL,(0,C.getWindow)(this._domNode.domNode)):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},o.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case y.TextEditorCursorStyle.Line:i+=" cursor-line-style";break;case y.TextEditorCursorStyle.Block:i+=" cursor-block-style";break;case y.TextEditorCursorStyle.Underline:i+=" cursor-underline-style";break;case y.TextEditorCursorStyle.LineThin:i+=" cursor-line-thin-style";break;case y.TextEditorCursorStyle.BlockOutline:i+=" cursor-block-outline-style";break;case y.TextEditorCursorStyle.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return(this._cursorSmoothCaretAnimation==="on"||this._cursorSmoothCaretAnimation==="explicit")&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,t=this._secondaryCursors.length;i<t;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let t=0,n=this._secondaryCursors.length;t<n;t++)this._secondaryCursors[t].prepareRender(i)}render(i){const t=[];let n=0;const c=this._primaryCursor.render(i);c&&(t[n++]=c);for(let m=0,u=this._secondaryCursors.length;m<u;m++){const r=this._secondaryCursors[m].render(i);r&&(t[n++]=r)}this._renderData=t}getLastRenderData(){return this._renderData}}e.ViewCursors=o,o.BLINK_INTERVAL=500,(0,w.registerThemingParticipant)((s,i)=>{const t=[{class:".cursor",foreground:p.editorCursorForeground,background:p.editorCursorBackground},{class:".cursor-primary",foreground:p.editorMultiCursorPrimaryForeground,background:p.editorMultiCursorPrimaryBackground},{class:".cursor-secondary",foreground:p.editorMultiCursorSecondaryForeground,background:p.editorMultiCursorSecondaryBackground}];for(const n of t){const c=s.getColor(n.foreground);if(c){let m=s.getColor(n.background);m||(m=c.opposite()),i.addRule(`.monaco-editor .cursors-layer ${n.class} { background-color: ${c}; border-color: ${c}; color: ${m}; }`),(0,b.isHighContrast)(s.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection ${n.class} { border-left: 1px solid ${m}; border-right: 1px solid ${m}; }`)}}})}),define(ie[911],ne([1,0,128,12,131,9,86,476]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WhitespaceOverlay=void 0;class p extends f.DynamicViewOverlay{constructor(C){super(),this._context=C,this._options=new w(this._context.configuration),this._selection=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(C){const o=new w(this._context.configuration);return this._options.equals(o)?C.hasChanged(145):(this._options=o,!0)}onCursorStateChanged(C){return this._selection=C.selections,this._options.renderWhitespace==="selection"}onDecorationsChanged(C){return!0}onFlushed(C){return!0}onLinesChanged(C){return!0}onLinesDeleted(C){return!0}onLinesInserted(C){return!0}onScrollChanged(C){return C.scrollTopChanged}onZonesChanged(C){return!0}prepareRender(C){if(this._options.renderWhitespace==="none"){this._renderResult=null;return}const o=C.visibleRange.startLineNumber,i=C.visibleRange.endLineNumber-o+1,t=new Array(i);for(let c=0;c<i;c++)t[c]=!0;const n=this._context.viewModel.getMinimapLinesRenderingData(C.viewportData.startLineNumber,C.viewportData.endLineNumber,t);this._renderResult=[];for(let c=C.viewportData.startLineNumber;c<=C.viewportData.endLineNumber;c++){const m=c-C.viewportData.startLineNumber,u=n.data[m];let r=null;if(this._options.renderWhitespace==="selection"){const a=this._selection;for(const h of a){if(h.endLineNumber<c||h.startLineNumber>c)continue;const l=h.startLineNumber===c?h.startColumn:u.minColumn,g=h.endLineNumber===c?h.endColumn:u.maxColumn;l<g&&(r||(r=[]),r.push(new E.LineRange(l-1,g-1)))}}this._renderResult[m]=this._applyRenderWhitespace(C,c,r,u)}}_applyRenderWhitespace(C,o,s,i){if(this._options.renderWhitespace==="selection"&&!s||this._options.renderWhitespace==="trailing"&&i.continuesWithWrappedLine)return"";const t=this._context.theme.getColor(y.editorWhitespaces),n=this._options.renderWithSVG,c=i.content,m=this._options.stopRenderingLineAfter===-1?c.length:Math.min(this._options.stopRenderingLineAfter,c.length),u=i.continuesWithWrappedLine,r=i.minColumn-1,a=this._options.renderWhitespace==="boundary",h=this._options.renderWhitespace==="trailing",l=this._options.lineHeight,g=this._options.middotWidth,d=this._options.wsmiddotWidth,v=this._options.spaceWidth,_=Math.abs(d-v),S=Math.abs(g-v),L=_<S?11825:183,I=this._options.canUseHalfwidthRightwardsArrow;let T="",N=!1,A=k.firstNonWhitespaceIndex(c),O;A===-1?(N=!0,A=m,O=m):O=k.lastNonWhitespaceIndex(c);let M=0,R=s&&s[M],x=0;for(let F=r;F<m;F++){const W=c.charCodeAt(F);if(R&&F>=R.endOffset&&(M++,R=s&&s[M]),W!==9&&W!==32||h&&!N&&F<=O)continue;if(a&&F>=A&&F<=O&&W===32){const z=F-1>=0?c.charCodeAt(F-1):0,j=F+1<m?c.charCodeAt(F+1):0;if(z!==32&&j!==32)continue}if(a&&u&&F===m-1){const z=F-1>=0?c.charCodeAt(F-1):0;if(W===32&&z!==32&&z!==9)continue}if(s&&(!R||R.startOffset>F||R.endOffset<=F))continue;const H=C.visibleRangeForPosition(new D.Position(o,F+1));H&&(n?(x=Math.max(x,H.left),W===9?T+=this._renderArrow(l,v,H.left):T+=`<circle cx="${(H.left+v/2).toFixed(2)}" cy="${(l/2).toFixed(2)}" r="${(v/7).toFixed(2)}" />`):W===9?T+=`<div class="mwh" style="left:${H.left}px;height:${l}px;">${I?"\uFFEB":"\u2192"}</div>`:T+=`<div class="mwh" style="left:${H.left}px;height:${l}px;">${String.fromCharCode(L)}</div>`)}return n?(x=Math.round(x+v),`<svg style="bottom:0;position:absolute;width:${x}px;height:${l}px" viewBox="0 0 ${x} ${l}" xmlns="http://www.w3.org/2000/svg" fill="${t}">`+T+"</svg>"):T}_renderArrow(C,o,s){const i=o/7,t=o,n=C/2,c=s,m={x:0,y:i/2},u={x:100/125*t,y:m.y},r={x:u.x-.2*u.x,y:u.y+.2*u.x},a={x:r.x+.1*u.x,y:r.y+.1*u.x},h={x:a.x+.35*u.x,y:a.y-.35*u.x},l={x:h.x,y:-h.y},g={x:a.x,y:-a.y},d={x:r.x,y:-r.y},v={x:u.x,y:-u.y},_={x:m.x,y:-m.y};return`<path d="M ${[m,u,r,a,h,l,g,d,v,_].map(I=>`${(c+I.x).toFixed(2)} ${(n+I.y).toFixed(2)}`).join(" L ")}" />`}render(C,o){if(!this._renderResult)return"";const s=o-C;return s<0||s>=this._renderResult.length?"":this._renderResult[s]}}e.WhitespaceOverlay=p;class w{constructor(C){const o=C.options,s=o.get(50),i=o.get(38);i==="off"?(this.renderWhitespace="none",this.renderWithSVG=!1):i==="svg"?(this.renderWhitespace=o.get(99),this.renderWithSVG=!0):(this.renderWhitespace=o.get(99),this.renderWithSVG=!1),this.spaceWidth=s.spaceWidth,this.middotWidth=s.middotWidth,this.wsmiddotWidth=s.wsmiddotWidth,this.canUseHalfwidthRightwardsArrow=s.canUseHalfwidthRightwardsArrow,this.lineHeight=o.get(67),this.stopRenderingLineAfter=o.get(117)}equals(C){return this.renderWhitespace===C.renderWhitespace&&this.renderWithSVG===C.renderWithSVG&&this.spaceWidth===C.spaceWidth&&this.middotWidth===C.middotWidth&&this.wsmiddotWidth===C.wsmiddotWidth&&this.canUseHalfwidthRightwardsArrow===C.canUseHalfwidthRightwardsArrow&&this.lineHeight===C.lineHeight&&this.stopRenderingLineAfter===C.stopRenderingLineAfter}}}),define(ie[912],ne([1,0,6,40,287,10,395,899,908,159,855,646,56,301,570,640,906,571,903,234,907,397,900,572,321,573,885,641,909,583,574,575,904,910,576,911,9,5,24,42,165,579,584,8,23]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N,A,O,M,R,x,F,W,H,z,j,K,U,G){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.View=void 0;let te=class extends z.ViewEventHandler{constructor(Z,re,ce,he,pe,ge,X){super(),this._instantiationService=X,this._shouldRecomputeGlyphMarginLanes=!1,this._selections=[new W.Selection(1,1,1,1)],this._renderAnimationFrame=null;const ae=new C.ViewController(re,he,pe,Z);this._context=new K.ViewContext(re,ce,he),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=this._instantiationService.createInstance(w.TextAreaHandler,this._context,ae,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,k.createFastDomNode)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,k.createFastDomNode)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,k.createFastDomNode)(document.createElement("div")),s.PartFingerprints.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new u.EditorScrollbar(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new l.ViewLines(this._context,this._linesContent),this._viewZones=new M.ViewZones(this._context),this._viewParts.push(this._viewZones);const oe=new L.DecorationsOverviewRuler(this._context);this._viewParts.push(oe);const B=new N.ScrollDecorationViewPart(this._context);this._viewParts.push(B);const q=new o.ContentViewOverlays(this._context);this._viewParts.push(q),q.addDynamicOverlay(new c.CurrentLineHighlightOverlay(this._context)),q.addDynamicOverlay(new A.SelectionsOverlay(this._context)),q.addDynamicOverlay(new a.IndentGuidesOverlay(this._context)),q.addDynamicOverlay(new m.DecorationsOverlay(this._context)),q.addDynamicOverlay(new R.WhitespaceOverlay(this._context));const V=new o.MarginViewOverlays(this._context);this._viewParts.push(V),V.addDynamicOverlay(new c.CurrentLineMarginHighlightOverlay(this._context)),V.addDynamicOverlay(new v.MarginViewLineDecorationsOverlay(this._context)),V.addDynamicOverlay(new g.LinesDecorationsOverlay(this._context)),V.addDynamicOverlay(new h.LineNumbersOverlay(this._context)),this._glyphMarginWidgets=new r.GlyphMarginWidgets(this._context),this._viewParts.push(this._glyphMarginWidgets);const $=new d.Margin(this._context);$.getDomNode().appendChild(this._viewZones.marginDomNode),$.getDomNode().appendChild(V.getDomNode()),$.getDomNode().appendChild(this._glyphMarginWidgets.domNode),this._viewParts.push($),this._contentWidgets=new n.ViewContentWidgets(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new O.ViewCursors(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new S.ViewOverlayWidgets(this._context,this.domNode),this._viewParts.push(this._overlayWidgets);const J=new T.Rulers(this._context);this._viewParts.push(J);const se=new t.BlockDecorations(this._context);this._viewParts.push(se);const de=new _.Minimap(this._context);if(this._viewParts.push(de),oe){const le=this._scrollbar.getOverviewRulerLayoutInfo();le.parent.insertBefore(oe.getDomNode(),le.insertBefore)}this._linesContent.appendChild(q.getDomNode()),this._linesContent.appendChild(J.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild($.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(B.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(de.getDomNode()),this._overflowGuardContainer.appendChild(se.domNode),this.domNode.appendChild(this._overflowGuardContainer),ge?(ge.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode),ge.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode.domNode)):(this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this.domNode.appendChild(this._overlayWidgets.overflowingOverlayWidgetsDomNode)),this._applyLayout(),this._pointerHandler=this._register(new p.PointerHandler(this._context,ae,this._createPointerHandlerHelper()))}_computeGlyphMarginLanes(){const Z=this._context.viewModel.model,re=this._context.viewModel.glyphLanes;let ce=[],he=0;ce=ce.concat(Z.getAllMarginDecorations().map(pe=>{var ge,X,ae;const oe=(X=(ge=pe.options.glyphMargin)===null||ge===void 0?void 0:ge.position)!==null&&X!==void 0?X:H.GlyphMarginLane.Center;return he=Math.max(he,pe.range.endLineNumber),{range:pe.range,lane:oe,persist:(ae=pe.options.glyphMargin)===null||ae===void 0?void 0:ae.persistLane}})),ce=ce.concat(this._glyphMarginWidgets.getWidgets().map(pe=>{const ge=Z.validateRange(pe.preference.range);return he=Math.max(he,ge.endLineNumber),{range:ge,lane:pe.preference.lane}})),ce.sort((pe,ge)=>F.Range.compareRangesUsingStarts(pe.range,ge.range)),re.reset(he);for(const pe of ce)re.push(pe.lane,pe.range,pe.persist);return re}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:Z=>{this._textAreaHandler.textArea.domNode.dispatchEvent(Z)},getLastRenderData:()=>{const Z=this._viewCursors.getLastRenderData()||[],re=this._textAreaHandler.getLastRenderData();return new y.PointerHandlerLastRenderData(Z,re)},renderNow:()=>{this.render(!0,!1)},shouldSuppressMouseDownOnViewZone:Z=>this._viewZones.shouldSuppressMouseDownOnViewZone(Z),shouldSuppressMouseDownOnWidget:Z=>this._contentWidgets.shouldSuppressMouseDownOnWidget(Z),getPositionFromDOMInfo:(Z,re)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(Z,re)),visibleRangeForPosition:(Z,re)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new x.Position(Z,re))),getLineWidth:Z=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(Z))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:Z=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(Z))}}_applyLayout(){const re=this._context.configuration.options.get(145);this.domNode.setWidth(re.width),this.domNode.setHeight(re.height),this._overflowGuardContainer.setWidth(re.width),this._overflowGuardContainer.setHeight(re.height),this._linesContent.setWidth(16777216),this._linesContent.setHeight(16777216)}_getEditorClassName(){const Z=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(142)+" "+(0,G.getThemeTypeSelector)(this._context.theme.type)+Z}handleEvents(Z){super.handleEvents(Z),this._scheduleRender()}onConfigurationChanged(Z){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(Z){return this._selections=Z.selections,!1}onDecorationsChanged(Z){return Z.affectsGlyphMargin&&(this._shouldRecomputeGlyphMarginLanes=!0),!1}onFocusChanged(Z){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(Z){return this._context.theme.update(Z.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const Z of this._viewParts)Z.dispose();super.dispose()}_scheduleRender(){if(this._store.isDisposed)throw new D.BugIndicatingError;if(this._renderAnimationFrame===null){const Z=this._createCoordinatedRendering();this._renderAnimationFrame=Y.INSTANCE.scheduleCoordinatedRendering({window:f.getWindow(this.domNode.domNode),prepareRenderText:()=>{if(this._store.isDisposed)throw new D.BugIndicatingError;try{return Z.prepareRenderText()}finally{this._renderAnimationFrame=null}},renderText:()=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Z.renderText()},prepareRender:(re,ce)=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Z.prepareRender(re,ce)},render:(re,ce)=>{if(this._store.isDisposed)throw new D.BugIndicatingError;return Z.render(re,ce)}})}}_flushAccumulatedAndRenderNow(){const Z=this._createCoordinatedRendering();ee(()=>Z.prepareRenderText());const re=ee(()=>Z.renderText());if(re){const[ce,he]=re;ee(()=>Z.prepareRender(ce,he)),ee(()=>Z.render(ce,he))}}_getViewPartsToRender(){const Z=[];let re=0;for(const ce of this._viewParts)ce.shouldRender()&&(Z[re++]=ce);return Z}_createCoordinatedRendering(){return{prepareRenderText:()=>{if(this._shouldRecomputeGlyphMarginLanes){this._shouldRecomputeGlyphMarginLanes=!1;const Z=this._computeGlyphMarginLanes();this._context.configuration.setGlyphMarginDecorationLaneCount(Z.requiredLanes)}E.inputLatency.onRenderStart()},renderText:()=>{if(!this.domNode.domNode.isConnected)return null;let Z=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&Z.length===0)return null;const re=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(re.startLineNumber,re.endLineNumber,re.centeredLineNumber);const ce=new j.ViewportData(this._selections,re,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);return this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(ce),this._viewLines.shouldRender()&&(this._viewLines.renderText(ce),this._viewLines.onDidRender(),Z=this._getViewPartsToRender()),[Z,new b.RenderingContext(this._context.viewLayout,ce,this._viewLines)]},prepareRender:(Z,re)=>{for(const ce of Z)ce.prepareRender(re)},render:(Z,re)=>{for(const ce of Z)ce.render(re),ce.onDidRender()}}}delegateVerticalScrollbarPointerDown(Z){this._scrollbar.delegateVerticalScrollbarPointerDown(Z)}delegateScrollFromMouseWheelEvent(Z){this._scrollbar.delegateScrollFromMouseWheelEvent(Z)}restoreState(Z){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:Z.scrollTop,scrollLeft:Z.scrollLeft},1),this._context.viewModel.visibleLinesStabilized()}getOffsetForColumn(Z,re){const ce=this._context.viewModel.model.validatePosition({lineNumber:Z,column:re}),he=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(ce);this._flushAccumulatedAndRenderNow();const pe=this._viewLines.visibleRangeForPosition(new x.Position(he.lineNumber,he.column));return pe?pe.left:-1}getTargetAtClientPoint(Z,re){const ce=this._pointerHandler.getTargetAtClientPoint(Z,re);return ce?i.ViewUserInputEvents.convertViewToModelMouseTarget(ce,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(Z){return new I.OverviewRuler(this._context,Z)}change(Z){this._viewZones.changeViewZones(Z),this._scheduleRender()}render(Z,re){if(re){this._viewLines.forceShouldRender();for(const ce of this._viewParts)ce.forceShouldRender()}Z?this._flushAccumulatedAndRenderNow():this._scheduleRender()}writeScreenReaderContent(Z){this._textAreaHandler.writeScreenReaderContent(Z)}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(Z){this._textAreaHandler.setAriaOptions(Z)}addContentWidget(Z){this._contentWidgets.addWidget(Z.widget),this.layoutContentWidget(Z),this._scheduleRender()}layoutContentWidget(Z){var re,ce,he,pe,ge,X,ae,oe;this._contentWidgets.setWidgetPosition(Z.widget,(ce=(re=Z.position)===null||re===void 0?void 0:re.position)!==null&&ce!==void 0?ce:null,(pe=(he=Z.position)===null||he===void 0?void 0:he.secondaryPosition)!==null&&pe!==void 0?pe:null,(X=(ge=Z.position)===null||ge===void 0?void 0:ge.preference)!==null&&X!==void 0?X:null,(oe=(ae=Z.position)===null||ae===void 0?void 0:ae.positionAffinity)!==null&&oe!==void 0?oe:null),this._scheduleRender()}removeContentWidget(Z){this._contentWidgets.removeWidget(Z.widget),this._scheduleRender()}addOverlayWidget(Z){this._overlayWidgets.addWidget(Z.widget),this.layoutOverlayWidget(Z),this._scheduleRender()}layoutOverlayWidget(Z){const re=Z.position?Z.position.preference:null;this._overlayWidgets.setWidgetPosition(Z.widget,re)&&this._scheduleRender()}removeOverlayWidget(Z){this._overlayWidgets.removeWidget(Z.widget),this._scheduleRender()}addGlyphMarginWidget(Z){this._glyphMarginWidgets.addWidget(Z.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}layoutGlyphMarginWidget(Z){const re=Z.position;this._glyphMarginWidgets.setWidgetPosition(Z.widget,re)&&(this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender())}removeGlyphMarginWidget(Z){this._glyphMarginWidgets.removeWidget(Z.widget),this._shouldRecomputeGlyphMarginLanes=!0,this._scheduleRender()}};e.View=te,e.View=te=Ie([ue(6,U.IInstantiationService)],te);function ee(P){try{return P()}catch(Z){return(0,D.onUnexpectedError)(Z),null}}class Y{constructor(){this._coordinatedRenderings=[],this._animationFrameRunners=new Map}scheduleCoordinatedRendering(Z){return this._coordinatedRenderings.push(Z),this._scheduleRender(Z.window),{dispose:()=>{const re=this._coordinatedRenderings.indexOf(Z);if(re!==-1&&(this._coordinatedRenderings.splice(re,1),this._coordinatedRenderings.length===0)){for(const[ce,he]of this._animationFrameRunners)he.dispose();this._animationFrameRunners.clear()}}}}_scheduleRender(Z){if(!this._animationFrameRunners.has(Z)){const re=()=>{this._animationFrameRunners.delete(Z),this._onRenderScheduled()};this._animationFrameRunners.set(Z,f.runAtThisOrScheduleAtNextAnimationFrame(Z,re,100))}}_onRenderScheduled(){const Z=this._coordinatedRenderings.slice(0);this._coordinatedRenderings=[];for(const ce of Z)ee(()=>ce.prepareRenderText());const re=[];for(let ce=0,he=Z.length;ce<he;ce++){const pe=Z[ce];re[ce]=ee(()=>pe.renderText())}for(let ce=0,he=Z.length;ce<he;ce++){const pe=Z[ce],ge=re[ce];if(!ge)continue;const[X,ae]=ge;ee(()=>pe.prepareRender(X,ae))}for(let ce=0,he=Z.length;ce<he;ce++){const pe=Z[ce],ge=re[ce];if(!ge)continue;const[X,ae]=ge;ee(()=>pe.render(X,ae))}}}Y.INSTANCE=new Y}),define(ie[913],ne([1,0,7,2,5,86,23]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorizedBracketPairsDecorationProvider=void 0;class p extends k.Disposable{constructor(C){super(),this.textModel=C,this.colorProvider=new w,this.onDidChangeEmitter=new f.Emitter,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=C.getOptions().bracketPairColorizationOptions,this._register(C.bracketPairs.onDidChange(o=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(C){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(C,o,s,i){return i?[]:o===void 0?[]:this.colorizationOptions.enabled?this.textModel.bracketPairs.getBracketsInRange(C,!0).map(n=>({id:`bracket${n.range.toString()}-${n.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(n,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:n.range})).toArray():[]}getAllDecorations(C,o){return C===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new E.Range(1,1,this.textModel.getLineCount(),1),C,o):[]}}e.ColorizedBracketPairsDecorationProvider=p;class w{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(C,o){return C.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(o?C.nestingLevelOfEqualBracketType:C.nestingLevel)}getInlineClassNameOfLevel(C){return`bracket-highlighting-${C%30}`}}(0,y.registerThemingParticipant)((b,C)=>{const o=[D.editorBracketHighlightingForeground1,D.editorBracketHighlightingForeground2,D.editorBracketHighlightingForeground3,D.editorBracketHighlightingForeground4,D.editorBracketHighlightingForeground5,D.editorBracketHighlightingForeground6],s=new w;C.addRule(`.monaco-editor .${s.unexpectedClosingBracketClassName} { color: ${b.getColor(D.editorBracketHighlightingUnexpectedBracketForeground)}; }`);const i=o.map(t=>b.getColor(t)).filter(t=>!!t).filter(t=>!t.isTransparent());for(let t=0;t<30;t++){const n=i[t%i.length];C.addRule(`.monaco-editor .${s.getInlineClassNameOfLevel(t)} { color: ${n}; }`)}})}),define(ie[914],ne([1,0,104,2,42,23,86,53,5,49,7,33,45,289]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerDecorationsService=void 0;let t=class extends k.Disposable{constructor(m,u){super(),this._markerService=u,this._onDidChangeMarker=this._register(new C.Emitter),this._markerDecorations=new s.ResourceMap,m.getModels().forEach(r=>this._onModelAdded(r)),this._register(m.onModelAdded(this._onModelAdded,this)),this._register(m.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(m=>m.dispose()),this._markerDecorations.clear()}getMarker(m,u){const r=this._markerDecorations.get(m);return r&&r.getMarker(u)||null}_handleMarkerChange(m){m.forEach(u=>{const r=this._markerDecorations.get(u);r&&this._updateDecorations(r)})}_onModelAdded(m){const u=new n(m);this._markerDecorations.set(m.uri,u),this._updateDecorations(u)}_onModelRemoved(m){var u;const r=this._markerDecorations.get(m.uri);r&&(r.dispose(),this._markerDecorations.delete(m.uri)),(m.uri.scheme===b.Schemas.inMemory||m.uri.scheme===b.Schemas.internal||m.uri.scheme===b.Schemas.vscode)&&((u=this._markerService)===null||u===void 0||u.read({resource:m.uri}).map(a=>a.owner).forEach(a=>this._markerService.remove(a,[m.uri])))}_updateDecorations(m){const u=this._markerService.read({resource:m.model.uri,take:500});m.update(u)&&this._onDidChangeMarker.fire(m.model)}};e.MarkerDecorationsService=t,e.MarkerDecorationsService=t=Ie([ue(0,p.IModelService),ue(1,f.IMarkerService)],t);class n extends k.Disposable{constructor(m){super(),this.model=m,this._map=new s.BidirectionalMap,this._register((0,k.toDisposable)(()=>{this.model.deltaDecorations([...this._map.values()],[]),this._map.clear()}))}update(m){const{added:u,removed:r}=(0,i.diffSets)(new Set(this._map.keys()),new Set(m));if(u.length===0&&r.length===0)return!1;const a=r.map(g=>this._map.get(g)),h=u.map(g=>({range:this._createDecorationRange(this.model,g),options:this._createDecorationOption(g)})),l=this.model.deltaDecorations(a,h);for(const g of r)this._map.delete(g);for(let g=0;g<l.length;g++)this._map.set(u[g],l[g]);return!0}getMarker(m){return this._map.getKey(m.id)}_createDecorationRange(m,u){let r=w.Range.lift(u);if(u.severity===f.MarkerSeverity.Hint&&!this._hasMarkerTag(u,1)&&!this._hasMarkerTag(u,2)&&(r=r.setEndPosition(r.startLineNumber,r.startColumn+2)),r=m.validateRange(r),r.isEmpty()){const a=m.getLineLastNonWhitespaceColumn(r.startLineNumber)||m.getLineMaxColumn(r.startLineNumber);if(a===1||r.endColumn>=a)return r;const h=m.getWordAtPosition(r.getStartPosition());h&&(r=new w.Range(r.startLineNumber,h.startColumn,r.endLineNumber,h.endColumn))}else if(u.endColumn===Number.MAX_VALUE&&u.startColumn===1&&r.startLineNumber===r.endLineNumber){const a=m.getLineFirstNonWhitespaceColumn(u.startLineNumber);a<r.endColumn&&(r=new w.Range(r.startLineNumber,a,r.endLineNumber,r.endColumn),u.startColumn=a)}return r}_createDecorationOption(m){let u,r,a,h,l;switch(m.severity){case f.MarkerSeverity.Hint:this._hasMarkerTag(m,2)?u=void 0:this._hasMarkerTag(m,1)?u="squiggly-unnecessary":u="squiggly-hint",a=0;break;case f.MarkerSeverity.Info:u="squiggly-info",r=(0,D.themeColorFromId)(y.overviewRulerInfo),a=10,l={color:(0,D.themeColorFromId)(o.minimapInfo),position:1};break;case f.MarkerSeverity.Warning:u="squiggly-warning",r=(0,D.themeColorFromId)(y.overviewRulerWarning),a=20,l={color:(0,D.themeColorFromId)(o.minimapWarning),position:1};break;case f.MarkerSeverity.Error:default:u="squiggly-error",r=(0,D.themeColorFromId)(y.overviewRulerError),a=30,l={color:(0,D.themeColorFromId)(o.minimapError),position:1};break}return m.tags&&(m.tags.indexOf(1)!==-1&&(h="squiggly-inline-unnecessary"),m.tags.indexOf(2)!==-1&&(h="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:u,showIfCollapsed:!0,overviewRuler:{color:r,position:E.OverviewRulerLane.Right},minimap:l,zIndex:a,inlineClassName:h}}_hasMarkerTag(m,u){return m.tags?m.tags.indexOf(u)>=0:!1}}}),define(ie[275],ne([1,0,143,23,60,568,43]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensProviderStyling=void 0,e.toMultilineTokens2=w;let p=class{constructor(s,i,t,n){this._legend=s,this._themeService=i,this._languageService=t,this._logService=n,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new C}getMetadata(s,i,t){const n=this._languageService.languageIdCodec.encodeLanguageId(t),c=this._hashTable.get(s,i,n);let m;if(c)m=c.metadata,this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${s} / ${i}: foreground ${f.TokenMetadata.getForeground(m)}, fontStyle ${f.TokenMetadata.getFontStyle(m).toString(2)}`);else{let u=this._legend.tokenTypes[s];const r=[];if(u){let a=i;for(let l=0;a>0&&l<this._legend.tokenModifiers.length;l++)a&1&&r.push(this._legend.tokenModifiers[l]),a=a>>1;a>0&&this._logService.getLevel()===E.LogLevel.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${i.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),r.push("not-in-legend"));const h=this._themeService.getColorTheme().getTokenStyleMetadata(u,r,t);if(typeof h>"u")m=2147483647;else{if(m=0,typeof h.italic<"u"){const l=(h.italic?1:0)<<11;m|=l|1}if(typeof h.bold<"u"){const l=(h.bold?2:0)<<11;m|=l|2}if(typeof h.underline<"u"){const l=(h.underline?4:0)<<11;m|=l|4}if(typeof h.strikethrough<"u"){const l=(h.strikethrough?8:0)<<11;m|=l|8}if(h.foreground){const l=h.foreground<<15;m|=l|16}m===0&&(m=2147483647)}}else this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${s} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),m=2147483647,u="not-in-legend";this._hashTable.add(s,i,n,m),this._logService.getLevel()===E.LogLevel.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${s} (${u}) / ${i} (${r.join(" ")}): foreground ${f.TokenMetadata.getForeground(m)}, fontStyle ${f.TokenMetadata.getFontStyle(m).toString(2)}`)}return m}warnOverlappingSemanticTokens(s,i){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,this._logService.warn(`Overlapping semantic tokens detected at lineNumber ${s}, column ${i}`))}warnInvalidLengthSemanticTokens(s,i){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,this._logService.warn(`Semantic token with invalid length detected at lineNumber ${s}, column ${i}`))}warnInvalidEditStart(s,i,t,n,c){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,this._logService.warn(`Invalid semantic tokens edit detected (previousResultId: ${s}, resultId: ${i}) at edit #${t}: The provided start offset ${n} is outside the previous data (length ${c}).`))}};e.SemanticTokensProviderStyling=p,e.SemanticTokensProviderStyling=p=Ie([ue(1,k.IThemeService),ue(2,y.ILanguageService),ue(3,E.ILogService)],p);function w(o,s,i){const t=o.data,n=o.data.length/5|0,c=Math.max(Math.ceil(n/1024),400),m=[];let u=0,r=1,a=0;for(;u<n;){const h=u;let l=Math.min(h+c,n);if(l<n){let I=l;for(;I-1>h&&t[5*I]===0;)I--;if(I-1===h){let T=l;for(;T+1<n&&t[5*T]===0;)T++;l=T}else l=I}let g=new Uint32Array((l-h)*4),d=0,v=0,_=0,S=0;for(;u<l;){const I=5*u,T=t[I],N=t[I+1],A=r+T|0,O=T===0?a+N|0:N,M=t[I+2],R=O+M|0,x=t[I+3],F=t[I+4];if(R<=O)s.warnInvalidLengthSemanticTokens(A,O+1);else if(_===A&&S>O)s.warnOverlappingSemanticTokens(A,O+1);else{const W=s.getMetadata(x,F,i);W!==2147483647&&(v===0&&(v=A),g[d]=A-v,g[d+1]=O,g[d+2]=R,g[d+3]=W,d+=4,_=A,S=R)}r=A,a=O,u++}d!==g.length&&(g=g.subarray(0,d));const L=D.SparseMultilineTokens.create(v,g);m.push(L)}return m}class b{constructor(s,i,t,n){this.tokenTypeIndex=s,this.tokenModifierSet=i,this.languageId=t,this.metadata=n,this.next=null}}class C{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(s,i){for(let t=0;t<i;t++)s[t]=null}_hash2(s,i){return(s<<5)-s+i|0}_hashFunc(s,i,t){return this._hash2(this._hash2(s,i),t)%this._currentLength}get(s,i,t){const n=this._hashFunc(s,i,t);let c=this._elements[n];for(;c;){if(c.tokenTypeIndex===s&&c.tokenModifierSet===i&&c.languageId===t)return c;c=c.next}return null}add(s,i,t,n){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const c=this._elements;this._currentLengthIndex++,this._currentLength=C._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<C._SIZES.length?2/3*this._currentLength:0),this._elements=[],C._nullOutEntries(this._elements,this._currentLength);for(const m of c){let u=m;for(;u;){const r=u.next;u.next=null,this._add(u),u=r}}}this._add(new b(s,i,t,n))}_add(s){const i=this._hashFunc(s.tokenTypeIndex,s.tokenModifierSet,s.languageId);s.next=this._elements[i],this._elements[i]=s}}C._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]}),define(ie[915],ne([1,0,2,43,23,60,275,259,48]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SemanticTokensStylingService=void 0;let b=class extends f.Disposable{constructor(o,s,i){super(),this._themeService=o,this._logService=s,this._languageService=i,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}getStyling(o){return this._caches.has(o)||this._caches.set(o,new y.SemanticTokensProviderStyling(o.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(o)}};e.SemanticTokensStylingService=b,e.SemanticTokensStylingService=b=Ie([ue(0,E.IThemeService),ue(1,D.ILogService),ue(2,k.ILanguageService)],b),(0,w.registerSingleton)(p.ISemanticTokensStylingService,b,1)}),define(ie[398],ne([1,0,122,2,164,42,86,23,47]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractEditorNavigationQuickAccessProvider=void 0;class b{constructor(o){this.options=o,this.rangeHighlightDecorationId=void 0}provide(o,s){var i;const t=new k.DisposableStore;o.canAcceptInBackground=!!(!((i=this.options)===null||i===void 0)&&i.canAcceptInBackground),o.matchOnLabel=o.matchOnDescription=o.matchOnDetail=o.sortByLabel=!1;const n=t.add(new k.MutableDisposable);return n.value=this.doProvide(o,s),t.add(this.onDidActiveTextEditorControlChange(()=>{n.value=void 0,n.value=this.doProvide(o,s)})),t}doProvide(o,s){var i;const t=new k.DisposableStore,n=this.activeTextEditorControl;if(n&&this.canProvideWithTextEditor(n)){const c={editor:n},m=(0,E.getCodeEditor)(n);if(m){let u=(i=n.saveViewState())!==null&&i!==void 0?i:void 0;t.add(m.onDidChangeCursorPosition(()=>{var r;u=(r=n.saveViewState())!==null&&r!==void 0?r:void 0})),c.restoreViewState=()=>{u&&n===this.activeTextEditorControl&&n.restoreViewState(u)},t.add((0,f.createSingleCallFunction)(s.onCancellationRequested)(()=>{var r;return(r=c.restoreViewState)===null||r===void 0?void 0:r.call(c)}))}t.add((0,k.toDisposable)(()=>this.clearDecorations(n))),t.add(this.provideWithTextEditor(c,o,s))}else t.add(this.provideWithoutTextEditor(o,s));return t}canProvideWithTextEditor(o){return!0}gotoLocation({editor:o},s){o.setSelection(s.range,"code.jump"),o.revealRangeInCenter(s.range,0),s.preserveFocus||o.focus();const i=o.getModel();i&&"getLineContent"in i&&(0,w.status)(`${i.getLineContent(s.range.startLineNumber)}`)}getModel(o){var s;return(0,E.isDiffEditor)(o)?(s=o.getModel())===null||s===void 0?void 0:s.modified:o.getModel()}addDecorations(o,s){o.changeDecorations(i=>{const t=[];this.rangeHighlightDecorationId&&(t.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),t.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const n=[{range:s,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:s,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,p.themeColorFromId)(y.overviewRulerRangeHighlight),position:D.OverviewRulerLane.Full}}}],[c,m]=i.deltaDecorations(t,n);this.rangeHighlightDecorationId={rangeHighlightId:c,overviewRulerDecorationId:m}})}clearDecorations(o){const s=this.rangeHighlightDecorationId;s&&(o.changeDecorations(i=>{i.deltaDecorations([s.overviewRulerDecorationId,s.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}e.AbstractEditorNavigationQuickAccessProvider=b}),define(ie[916],ne([1,0,2,164,398,747]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoLineQuickAccessProvider=void 0;class y extends E.AbstractEditorNavigationQuickAccessProvider{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(w){const b=(0,D.localize)(0,null);return w.items=[{label:b}],w.ariaLabel=b,f.Disposable.None}provideWithTextEditor(w,b,C){const o=w.editor,s=new f.DisposableStore;s.add(b.onDidAccept(n=>{const[c]=b.selectedItems;if(c){if(!this.isValidLineNumber(o,c.lineNumber))return;this.gotoLocation(w,{range:this.toRange(c.lineNumber,c.column),keyMods:b.keyMods,preserveFocus:n.inBackground}),n.inBackground||b.hide()}}));const i=()=>{const n=this.parsePosition(o,b.value.trim().substr(y.PREFIX.length)),c=this.getPickLabel(o,n.lineNumber,n.column);if(b.items=[{lineNumber:n.lineNumber,column:n.column,label:c}],b.ariaLabel=c,!this.isValidLineNumber(o,n.lineNumber)){this.clearDecorations(o);return}const m=this.toRange(n.lineNumber,n.column);o.revealRangeInCenter(m,0),this.addDecorations(o,m)};i(),s.add(b.onDidChangeValue(()=>i()));const t=(0,k.getCodeEditor)(o);return t&&t.getOptions().get(68).renderType===2&&(t.updateOptions({lineNumbers:"on"}),s.add((0,f.toDisposable)(()=>t.updateOptions({lineNumbers:"relative"})))),s}toRange(w=1,b=1){return{startLineNumber:w,startColumn:b,endLineNumber:w,endColumn:b}}parsePosition(w,b){const C=b.split(/,|:|#/).map(s=>parseInt(s,10)).filter(s=>!isNaN(s)),o=this.lineCount(w)+1;return{lineNumber:C[0]>0?C[0]:o+C[0],column:C[1]}}getPickLabel(w,b,C){if(this.isValidLineNumber(w,b))return this.isValidColumn(w,b,C)?(0,D.localize)(1,null,b,C):(0,D.localize)(2,null,b);const o=w.getPosition()||{lineNumber:1,column:1},s=this.lineCount(w);return s>1?(0,D.localize)(3,null,o.lineNumber,o.column,s):(0,D.localize)(4,null,o.lineNumber,o.column)}isValidLineNumber(w,b){return!b||typeof b!="number"?!1:b>0&&b<=this.lineCount(w)}isValidColumn(w,b,C){if(!C||typeof C!="number")return!1;const o=this.getModel(w);if(!o)return!1;const s={lineNumber:b,column:C};return o.validatePosition(s).equals(s)}lineCount(w){var b,C;return(C=(b=this.getModel(w))===null||b===void 0?void 0:b.getLineCount())!==null&&C!==void 0?C:0}}e.AbstractGotoLineQuickAccessProvider=y,y.PREFIX=":"}),define(ie[917],ne([1,0,15,19,26,31,621,2,12,5,28,176,398,748,18,67]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.AbstractGotoSymbolQuickAccessProvider=void 0;let m=c=class extends s.AbstractEditorNavigationQuickAccessProvider{constructor(h,l,g=Object.create(null)){super(g),this._languageFeaturesService=h,this._outlineModelService=l,this.options=g,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(h){return this.provideLabelPick(h,(0,i.localize)(0,null)),p.Disposable.None}provideWithTextEditor(h,l,g){const d=h.editor,v=this.getModel(d);return v?this._languageFeaturesService.documentSymbolProvider.has(v)?this.doProvideWithEditorSymbols(h,v,l,g):this.doProvideWithoutEditorSymbols(h,v,l,g):p.Disposable.None}doProvideWithoutEditorSymbols(h,l,g,d){const v=new p.DisposableStore;return this.provideLabelPick(g,(0,i.localize)(1,null)),(async()=>!await this.waitForLanguageSymbolRegistry(l,v)||d.isCancellationRequested||v.add(this.doProvideWithEditorSymbols(h,l,g,d)))(),v}provideLabelPick(h,l){h.items=[{label:l,index:0,kind:14}],h.ariaLabel=l}async waitForLanguageSymbolRegistry(h,l){if(this._languageFeaturesService.documentSymbolProvider.has(h))return!0;const g=new f.DeferredPromise,d=l.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(h)&&(d.dispose(),g.complete(!0))}));return l.add((0,p.toDisposable)(()=>g.complete(!1))),g.p}doProvideWithEditorSymbols(h,l,g,d){var v;const _=h.editor,S=new p.DisposableStore;S.add(g.onDidAccept(N=>{const[A]=g.selectedItems;A&&A.range&&(this.gotoLocation(h,{range:A.range.selection,keyMods:g.keyMods,preserveFocus:N.inBackground}),N.inBackground||g.hide())})),S.add(g.onDidTriggerItemButton(({item:N})=>{N&&N.range&&(this.gotoLocation(h,{range:N.range.selection,keyMods:g.keyMods,forceSideBySide:!0}),g.hide())}));const L=this.getDocumentSymbols(l,d);let I;const T=async N=>{I?.dispose(!0),g.busy=!1,I=new k.CancellationTokenSource(d),g.busy=!0;try{const A=(0,y.prepareQuery)(g.value.substr(c.PREFIX.length).trim()),O=await this.doGetSymbolPicks(L,A,void 0,I.token);if(d.isCancellationRequested)return;if(O.length>0){if(g.items=O,N&&A.original.length===0){const M=(0,n.findLast)(O,R=>!!(R.type!=="separator"&&R.range&&b.Range.containsPosition(R.range.decoration,N)));M&&(g.activeItems=[M])}}else A.original.length>0?this.provideLabelPick(g,(0,i.localize)(2,null)):this.provideLabelPick(g,(0,i.localize)(3,null))}finally{d.isCancellationRequested||(g.busy=!1)}};return S.add(g.onDidChangeValue(()=>T(void 0))),T((v=_.getSelection())===null||v===void 0?void 0:v.getPosition()),S.add(g.onDidChangeActive(()=>{const[N]=g.activeItems;N&&N.range&&(_.revealRangeInCenter(N.range.selection,0),this.addDecorations(_,N.range.decoration))})),S}async doGetSymbolPicks(h,l,g,d){var v,_;const S=await h;if(d.isCancellationRequested)return[];const L=l.original.indexOf(c.SCOPE_PREFIX)===0,I=L?1:0;let T,N;l.values&&l.values.length>1?(T=(0,y.pieceToQuery)(l.values[0]),N=(0,y.pieceToQuery)(l.values.slice(1))):T=l;let A;const O=(_=(v=this.options)===null||v===void 0?void 0:v.openSideBySideDirection)===null||_===void 0?void 0:_.call(v);O&&(A=[{iconClass:O==="right"?D.ThemeIcon.asClassName(E.Codicon.splitHorizontal):D.ThemeIcon.asClassName(E.Codicon.splitVertical),tooltip:O==="right"?(0,i.localize)(4,null):(0,i.localize)(5,null)}]);const M=[];for(let F=0;F<S.length;F++){const W=S[F],H=(0,w.trim)(W.name),z=`$(${C.SymbolKinds.toIcon(W.kind).id}) ${H}`,j=z.length-H.length;let K=W.containerName;g?.extraContainerLabel&&(K?K=`${g.extraContainerLabel} \u2022 ${K}`:K=g.extraContainerLabel);let U,G,te,ee;if(l.original.length>I){let P=!1;if(T!==l&&([U,G]=(0,y.scoreFuzzy2)(z,{...l,values:void 0},I,j),typeof U=="number"&&(P=!0)),typeof U!="number"&&([U,G]=(0,y.scoreFuzzy2)(z,T,I,j),typeof U!="number"))continue;if(!P&&N){if(K&&N.original.length>0&&([te,ee]=(0,y.scoreFuzzy2)(K,N)),typeof te!="number")continue;typeof U=="number"&&(U+=te)}}const Y=W.tags&&W.tags.indexOf(1)>=0;M.push({index:F,kind:W.kind,score:U,label:z,ariaLabel:(0,C.getAriaLabelForSymbol)(W.name,W.kind),description:K,highlights:Y?void 0:{label:G,description:ee},range:{selection:b.Range.collapseToStart(W.selectionRange),decoration:W.range},strikethrough:Y,buttons:A})}const R=M.sort((F,W)=>L?this.compareByKindAndScore(F,W):this.compareByScore(F,W));let x=[];if(L){let z=function(){W&&typeof F=="number"&&H>0&&(W.label=(0,w.format)(r[F]||u,H))},F,W,H=0;for(const j of R)F!==j.kind?(z(),F=j.kind,H=1,W={type:"separator"},x.push(W)):H++,x.push(j);z()}else R.length>0&&(x=[{label:(0,i.localize)(6,null,M.length),type:"separator"},...R]);return x}compareByScore(h,l){if(typeof h.score!="number"&&typeof l.score=="number")return 1;if(typeof h.score=="number"&&typeof l.score!="number")return-1;if(typeof h.score=="number"&&typeof l.score=="number"){if(h.score>l.score)return-1;if(h.score<l.score)return 1}return h.index<l.index?-1:h.index>l.index?1:0}compareByKindAndScore(h,l){const g=r[h.kind]||u,d=r[l.kind]||u,v=g.localeCompare(d);return v===0?this.compareByScore(h,l):v}async getDocumentSymbols(h,l){const g=await this._outlineModelService.getOrCreate(h,l);return l.isCancellationRequested?[]:g.asListOfDocumentSymbols()}};e.AbstractGotoSymbolQuickAccessProvider=m,m.PREFIX="@",m.SCOPE_PREFIX=":",m.PREFIX_BY_CATEGORY=`${c.PREFIX}${c.SCOPE_PREFIX}`,e.AbstractGotoSymbolQuickAccessProvider=m=c=Ie([ue(0,t.ILanguageFeaturesService),ue(1,o.IOutlineModelService)],m);const u=(0,i.localize)(7,null),r={5:(0,i.localize)(8,null),11:(0,i.localize)(9,null),8:(0,i.localize)(10,null),12:(0,i.localize)(11,null),4:(0,i.localize)(12,null),22:(0,i.localize)(13,null),23:(0,i.localize)(14,null),24:(0,i.localize)(15,null),10:(0,i.localize)(16,null),2:(0,i.localize)(17,null),3:(0,i.localize)(18,null),25:(0,i.localize)(19,null),1:(0,i.localize)(20,null),6:(0,i.localize)(21,null),9:(0,i.localize)(22,null),21:(0,i.localize)(23,null),14:(0,i.localize)(24,null),0:(0,i.localize)(25,null),17:(0,i.localize)(26,null),15:(0,i.localize)(27,null),16:(0,i.localize)(28,null),18:(0,i.localize)(29,null),19:(0,i.localize)(30,null),7:(0,i.localize)(31,null),13:(0,i.localize)(32,null)}}),define(ie[918],ne([1,0,6,46,47,77,44,110,111,13,15,19,26,7,2,64,20,71,9,5,28,362,362,14,32,60,106,33,23,505]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RenameWidget=e.CONTEXT_RENAME_INPUT_FOCUSED=e.CONTEXT_RENAME_INPUT_VISIBLE=void 0;const I=!1;e.CONTEXT_RENAME_INPUT_VISIBLE=new g.RawContextKey("renameInputVisible",!1,(0,l.localize)(0,null)),e.CONTEXT_RENAME_INPUT_FOCUSED=new g.RawContextKey("renameInputFocused",!1,(0,l.localize)(1,null));let T=class{constructor(R,x,F,W,H,z){this._editor=R,this._acceptKeybindings=x,this._themeService=F,this._keybindingService=W,this._logService=z,this.allowEditorOverflow=!0,this._disposables=new t.DisposableStore,this._visibleContextKey=e.CONTEXT_RENAME_INPUT_VISIBLE.bindTo(H),this._isEditingRenameCandidate=!1,this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,this._candidates=new Set,this._beforeFirstInputFieldEditSW=new n.StopWatch,this._inputWithButton=new A,this._disposables.add(this._inputWithButton),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(j=>{j.hasChanged(50)&&this._updateFont()})),this._disposables.add(F.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._domNode.appendChild(this._inputWithButton.domNode),this._renameCandidateListView=this._disposables.add(new N(this._domNode,{fontInfo:this._editor.getOption(50),onFocusChange:R=>{this._inputWithButton.input.value=R,this._isEditingRenameCandidate=!1},onSelectionChange:()=>{this._isEditingRenameCandidate=!1,this.acceptInput(!1)}})),this._disposables.add(this._inputWithButton.onDidInputChange(()=>{var R,x,F,W;((R=this._renameCandidateListView)===null||R===void 0?void 0:R.focusedCandidate)!==void 0&&(this._isEditingRenameCandidate=!0),(x=this._timeBeforeFirstInputFieldEdit)!==null&&x!==void 0||(this._timeBeforeFirstInputFieldEdit=this._beforeFirstInputFieldEditSW.elapsed()),((F=this._renameCandidateProvidersCts)===null||F===void 0?void 0:F.token.isCancellationRequested)===!1&&this._renameCandidateProvidersCts.cancel(),(W=this._renameCandidateListView)===null||W===void 0||W.clearFocus()})),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())),this._domNode}_updateStyles(R){var x,F,W,H,z;if(!this._domNode)return;const j=R.getColor(S.widgetShadow),K=R.getColor(S.widgetBorder);this._domNode.style.backgroundColor=String((x=R.getColor(S.editorWidgetBackground))!==null&&x!==void 0?x:""),this._domNode.style.boxShadow=j?` 0 0 8px 2px ${j}`:"",this._domNode.style.border=K?`1px solid ${K}`:"",this._domNode.style.color=String((F=R.getColor(S.inputForeground))!==null&&F!==void 0?F:"");const U=R.getColor(S.inputBorder);this._inputWithButton.domNode.style.backgroundColor=String((W=R.getColor(S.inputBackground))!==null&&W!==void 0?W:""),this._inputWithButton.input.style.backgroundColor=String((H=R.getColor(S.inputBackground))!==null&&H!==void 0?H:""),this._inputWithButton.domNode.style.borderWidth=U?"1px":"0px",this._inputWithButton.domNode.style.borderStyle=U?"solid":"none",this._inputWithButton.domNode.style.borderColor=(z=U?.toString())!==null&&z!==void 0?z:"none"}_updateFont(){if(this._domNode===void 0)return;(0,c.assertType)(this._label!==void 0,"RenameWidget#_updateFont: _label must not be undefined given _domNode is defined"),this._editor.applyFontInfo(this._inputWithButton.input);const R=this._editor.getOption(50);this._label.style.fontSize=`${this._computeLabelFontSize(R.fontSize)}px`}_computeLabelFontSize(R){return R*.8}getPosition(){if(!this._visible||!this._editor.hasModel()||!this._editor.getDomNode())return null;const R=f.getClientArea(this.getDomNode().ownerDocument.body),x=f.getDomNodePagePosition(this._editor.getDomNode()),F=this._getTopForPosition();this._nPxAvailableAbove=F+x.top,this._nPxAvailableBelow=R.height-this._nPxAvailableAbove;const W=this._editor.getOption(67),{totalHeight:H}=O.getLayoutInfo({lineHeight:W}),z=this._nPxAvailableBelow>H*6?[2,1]:[1,2];return{position:this._position,preference:z}}beforeRender(){var R,x;const[F,W]=this._acceptKeybindings;return this._label.innerText=(0,l.localize)(2,null,(R=this._keybindingService.lookupKeybinding(F))===null||R===void 0?void 0:R.getLabel(),(x=this._keybindingService.lookupKeybinding(W))===null||x===void 0?void 0:x.getLabel()),this._domNode.style.minWidth="200px",null}afterRender(R){if(this._trace("invoking afterRender, position: ",R?"not null":"null"),R===null){this.cancelInput(!0,"afterRender (because position is null)");return}if(!this._editor.hasModel()||!this._editor.getDomNode())return;(0,c.assertType)(this._renameCandidateListView),(0,c.assertType)(this._nPxAvailableAbove!==void 0),(0,c.assertType)(this._nPxAvailableBelow!==void 0);const x=f.getTotalHeight(this._inputWithButton.domNode),F=f.getTotalHeight(this._label);let W;R===2?W=this._nPxAvailableBelow:W=this._nPxAvailableAbove,this._renameCandidateListView.layout({height:W-F-x,width:f.getTotalWidth(this._inputWithButton.domNode)})}acceptInput(R){var x;this._trace("invoking acceptInput"),(x=this._currentAcceptInput)===null||x===void 0||x.call(this,R)}cancelInput(R,x){var F;this._trace(`invoking cancelInput, caller: ${x}, _currentCancelInput: ${this._currentAcceptInput?"not undefined":"undefined"}`),(F=this._currentCancelInput)===null||F===void 0||F.call(this,R)}focusNextRenameSuggestion(){var R;!((R=this._renameCandidateListView)===null||R===void 0)&&R.focusNext()||(this._inputWithButton.input.value=this._currentName)}focusPreviousRenameSuggestion(){var R;!((R=this._renameCandidateListView)===null||R===void 0)&&R.focusPrevious()||(this._inputWithButton.input.value=this._currentName)}getInput(R,x,F,W,H){const{start:z,end:j}=this._getSelection(R,x);this._renameCts=H;const K=new t.DisposableStore;this._nRenameSuggestionsInvocations=0,this._hadAutomaticRenameSuggestionsInvocation=!1,W===void 0?this._inputWithButton.button.style.display="none":(this._inputWithButton.button.style.display="flex",this._requestRenameCandidatesOnce=W,this._requestRenameCandidates(x,!1),K.add(f.addDisposableListener(this._inputWithButton.button,"click",()=>this._requestRenameCandidates(x,!0))),K.add(f.addDisposableListener(this._inputWithButton.button,f.EventType.KEY_DOWN,G=>{const te=new k.StandardKeyboardEvent(G);(te.equals(3)||te.equals(10))&&(te.stopPropagation(),te.preventDefault(),this._requestRenameCandidates(x,!0))}))),this._isEditingRenameCandidate=!1,this._domNode.classList.toggle("preview",F),this._position=new u.Position(R.startLineNumber,R.startColumn),this._currentName=x,this._inputWithButton.input.value=x,this._inputWithButton.input.setAttribute("selectionStart",z.toString()),this._inputWithButton.input.setAttribute("selectionEnd",j.toString()),this._inputWithButton.input.size=Math.max((R.endColumn-R.startColumn)*1.1,20),this._beforeFirstInputFieldEditSW.reset(),K.add((0,t.toDisposable)(()=>{this._renameCts=void 0,H.dispose(!0)})),K.add((0,t.toDisposable)(()=>{this._renameCandidateProvidersCts!==void 0&&(this._renameCandidateProvidersCts.dispose(!0),this._renameCandidateProvidersCts=void 0)})),K.add((0,t.toDisposable)(()=>this._candidates.clear()));const U=new C.DeferredPromise;return U.p.finally(()=>{K.dispose(),this._hide()}),this._currentCancelInput=G=>{var te;return this._trace("invoking _currentCancelInput"),this._currentAcceptInput=void 0,this._currentCancelInput=void 0,(te=this._renameCandidateListView)===null||te===void 0||te.clearCandidates(),U.complete(G),!0},this._currentAcceptInput=G=>{this._trace("invoking _currentAcceptInput"),(0,c.assertType)(this._renameCandidateListView!==void 0);const te=this._renameCandidateListView.nCandidates;let ee,Y;const P=this._renameCandidateListView.focusedCandidate;if(P!==void 0?(this._trace("using new name from renameSuggestion"),ee=P,Y={k:"renameSuggestion"}):(this._trace("using new name from inputField"),ee=this._inputWithButton.input.value,Y=this._isEditingRenameCandidate?{k:"userEditedRenameSuggestion"}:{k:"inputField"}),ee===x||ee.trim().length===0){this.cancelInput(!0,"_currentAcceptInput (because newName === value || newName.trim().length === 0)");return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,this._renameCandidateListView.clearCandidates(),U.complete({newName:ee,wantsPreview:F&&G,stats:{source:Y,nRenameSuggestions:te,timeBeforeFirstInputFieldEdit:this._timeBeforeFirstInputFieldEdit,nRenameSuggestionsInvocations:this._nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:this._hadAutomaticRenameSuggestionsInvocation}})},K.add(H.token.onCancellationRequested(()=>this.cancelInput(!0,"cts.token.onCancellationRequested"))),I||K.add(this._editor.onDidBlurEditorWidget(()=>{var G;return this.cancelInput(!(!((G=this._domNode)===null||G===void 0)&&G.ownerDocument.hasFocus()),"editor.onDidBlurEditorWidget")})),this._show(),U.p}_requestRenameCandidates(R,x){if(this._requestRenameCandidatesOnce!==void 0&&(this._renameCandidateProvidersCts!==void 0&&this._renameCandidateProvidersCts.dispose(!0),(0,c.assertType)(this._renameCts),this._inputWithButton.buttonState!=="stop")){this._renameCandidateProvidersCts=new o.CancellationTokenSource;const F=x?a.NewSymbolNameTriggerKind.Invoke:a.NewSymbolNameTriggerKind.Automatic,W=this._requestRenameCandidatesOnce(F,this._renameCandidateProvidersCts.token);if(W.length===0){this._inputWithButton.setSparkleButton();return}x||(this._hadAutomaticRenameSuggestionsInvocation=!0),this._nRenameSuggestionsInvocations+=1,this._inputWithButton.setStopButton(),this._updateRenameCandidates(W,R,this._renameCts.token)}}_getSelection(R,x){(0,c.assertType)(this._editor.hasModel());const F=this._editor.getSelection();let W=0,H=x.length;return!r.Range.isEmpty(F)&&!r.Range.spansMultipleLines(F)&&r.Range.containsRange(R,F)&&(W=Math.max(0,F.startColumn-R.startColumn),H=Math.min(R.endColumn,F.endColumn)-R.startColumn),{start:W,end:H}}_show(){this._trace("invoking _show"),this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._inputWithButton.input.focus(),this._inputWithButton.input.setSelectionRange(parseInt(this._inputWithButton.input.getAttribute("selectionStart")),parseInt(this._inputWithButton.input.getAttribute("selectionEnd")))},100)}async _updateRenameCandidates(R,x,F){const W=(...U)=>this._trace("_updateRenameCandidates",...U);W("start");const H=await(0,C.raceCancellation)(Promise.allSettled(R),F);if(this._inputWithButton.setSparkleButton(),H===void 0){W("returning early - received updateRenameCandidates results - undefined");return}const z=H.flatMap(U=>U.status==="fulfilled"&&(0,c.isDefined)(U.value)?U.value:[]);W(`received updateRenameCandidates results - total (unfiltered) ${z.length} candidates.`);const j=b.distinct(z,U=>U.newSymbolName);W(`distinct candidates - ${j.length} candidates.`);const K=j.filter(({newSymbolName:U})=>U.trim().length>0&&U!==this._inputWithButton.input.value&&U!==x&&!this._candidates.has(U));if(W(`valid distinct candidates - ${z.length} candidates.`),K.forEach(U=>this._candidates.add(U.newSymbolName)),K.length<1){W("returning early - no valid distinct candidates");return}W("setting candidates"),this._renameCandidateListView.setCandidates(K),W("asking editor to re-layout"),this._editor.layoutContentWidget(this)}_hide(){this._trace("invoked _hide"),this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}_getTopForPosition(){const R=this._editor.getVisibleRanges();let x;return R.length>0?x=R[0].startLineNumber:(this._logService.warn("RenameWidget#_getTopForPosition: this should not happen - visibleRanges is empty"),x=Math.max(1,this._position.lineNumber-5)),this._editor.getTopForLineNumber(this._position.lineNumber)-this._editor.getTopForLineNumber(x)}_trace(...R){this._logService.trace("RenameWidget",...R)}};e.RenameWidget=T,e.RenameWidget=T=Ie([ue(2,L.IThemeService),ue(3,d.IKeybindingService),ue(4,g.IContextKeyService),ue(5,v.ILogService)],T);class N{constructor(R,x){this._disposables=new t.DisposableStore,this._availableHeight=0,this._minimumWidth=0,this._lineHeight=x.fontInfo.lineHeight,this._typicalHalfwidthCharacterWidth=x.fontInfo.typicalHalfwidthCharacterWidth,this._listContainer=document.createElement("div"),this._listContainer.className="rename-box rename-candidate-list-container",R.appendChild(this._listContainer),this._listWidget=N._createListWidget(this._listContainer,this._candidateViewHeight,x.fontInfo),this._listWidget.onDidChangeFocus(F=>{F.elements.length===1&&x.onFocusChange(F.elements[0].newSymbolName)},this._disposables),this._listWidget.onDidChangeSelection(F=>{F.elements.length===1&&x.onSelectionChange()},this._disposables),this._disposables.add(this._listWidget.onDidBlur(F=>{this._listWidget.setFocus([])})),this._listWidget.style((0,_.getListStyles)({listInactiveFocusForeground:S.quickInputListFocusForeground,listInactiveFocusBackground:S.quickInputListFocusBackground}))}dispose(){this._listWidget.dispose(),this._disposables.dispose()}layout({height:R,width:x}){this._availableHeight=R,this._minimumWidth=x}setCandidates(R){this._listWidget.splice(0,0,R);const x=this._pickListHeight(this._listWidget.length),F=this._pickListWidth(R);this._listWidget.layout(x,F),this._listContainer.style.height=`${x}px`,this._listContainer.style.width=`${F}px`,E.status((0,l.localize)(3,null,R.length))}clearCandidates(){this._listContainer.style.height="0px",this._listContainer.style.width="0px",this._listWidget.splice(0,this._listWidget.length,[])}get nCandidates(){return this._listWidget.length}get focusedCandidate(){if(this._listWidget.length===0)return;const R=this._listWidget.getSelectedElements()[0];if(R!==void 0)return R.newSymbolName;const x=this._listWidget.getFocusedElements()[0];if(x!==void 0)return x.newSymbolName}focusNext(){if(this._listWidget.length===0)return!1;const R=this._listWidget.getFocus();if(R.length===0)return this._listWidget.focusFirst(),this._listWidget.reveal(0),!0;if(R[0]===this._listWidget.length-1)return this._listWidget.setFocus([]),this._listWidget.reveal(0),!1;{this._listWidget.focusNext();const x=this._listWidget.getFocus()[0];return this._listWidget.reveal(x),!0}}focusPrevious(){if(this._listWidget.length===0)return!1;const R=this._listWidget.getFocus();if(R.length===0){this._listWidget.focusLast();const x=this._listWidget.getFocus()[0];return this._listWidget.reveal(x),!0}else{if(R[0]===0)return this._listWidget.setFocus([]),!1;{this._listWidget.focusPrevious();const x=this._listWidget.getFocus()[0];return this._listWidget.reveal(x),!0}}}clearFocus(){this._listWidget.setFocus([])}get _candidateViewHeight(){const{totalHeight:R}=O.getLayoutInfo({lineHeight:this._lineHeight});return R}_pickListHeight(R){const x=this._candidateViewHeight*R;return Math.min(x,this._availableHeight,this._candidateViewHeight*7)}_pickListWidth(R){const x=Math.ceil(Math.max(...R.map(W=>W.newSymbolName.length))*this._typicalHalfwidthCharacterWidth);return Math.max(this._minimumWidth,25+x+10)}static _createListWidget(R,x,F){const W=new class{getTemplateId(z){return"candidate"}getHeight(z){return x}},H=new class{constructor(){this.templateId="candidate"}renderTemplate(z){return new O(z,F)}renderElement(z,j,K){K.populate(z)}disposeTemplate(z){z.dispose()}};return new w.List("NewSymbolNameCandidates",R,W,[H],{keyboardSupport:!1,mouseSupport:!0,multipleSelectionSupport:!1})}}class A{constructor(){this._onDidInputChange=new i.Emitter,this.onDidInputChange=this._onDidInputChange.event,this._disposables=new t.DisposableStore}get domNode(){return this._domNode||(this._domNode=document.createElement("div"),this._domNode.className="rename-input-with-button",this._domNode.style.display="flex",this._domNode.style.flexDirection="row",this._domNode.style.alignItems="center",this._inputNode=document.createElement("input"),this._inputNode.className="rename-input",this._inputNode.type="text",this._inputNode.style.border="none",this._inputNode.setAttribute("aria-label",(0,l.localize)(4,null)),this._domNode.appendChild(this._inputNode),this._buttonNode=document.createElement("div"),this._buttonNode.className="rename-suggestions-button",this._buttonNode.setAttribute("tabindex","0"),this._buttonGenHoverText=h.localize(5,null),this._buttonCancelHoverText=h.localize(6,null),this._buttonHover=(0,D.getBaseLayerHoverDelegate)().setupUpdatableHover((0,y.getDefaultHoverDelegate)("element"),this._buttonNode,this._buttonGenHoverText),this._disposables.add(this._buttonHover),this._domNode.appendChild(this._buttonNode),this._disposables.add(f.addDisposableListener(this.input,f.EventType.INPUT,()=>this._onDidInputChange.fire())),this._disposables.add(f.addDisposableListener(this.input,f.EventType.KEY_DOWN,R=>{const x=new k.StandardKeyboardEvent(R);(x.keyCode===15||x.keyCode===17)&&this._onDidInputChange.fire()})),this._disposables.add(f.addDisposableListener(this.input,f.EventType.CLICK,()=>this._onDidInputChange.fire())),this._disposables.add(f.addDisposableListener(this.input,f.EventType.FOCUS,()=>{this.domNode.style.outlineWidth="1px",this.domNode.style.outlineStyle="solid",this.domNode.style.outlineOffset="-1px",this.domNode.style.outlineColor="var(--vscode-focusBorder)"})),this._disposables.add(f.addDisposableListener(this.input,f.EventType.BLUR,()=>{this.domNode.style.outline="none"}))),this._domNode}get input(){return(0,c.assertType)(this._inputNode),this._inputNode}get button(){return(0,c.assertType)(this._buttonNode),this._buttonNode}get buttonState(){return this._buttonState}setSparkleButton(){var R,x;this._buttonState="sparkle",(R=this._sparkleIcon)!==null&&R!==void 0||(this._sparkleIcon=(0,p.renderIcon)(s.Codicon.sparkle)),f.clearNode(this.button),this.button.appendChild(this._sparkleIcon),this.button.setAttribute("aria-label","Generating new name suggestions"),(x=this._buttonHover)===null||x===void 0||x.update(this._buttonGenHoverText),this.input.focus()}setStopButton(){var R,x;this._buttonState="stop",(R=this._stopIcon)!==null&&R!==void 0||(this._stopIcon=(0,p.renderIcon)(s.Codicon.primitiveSquare)),f.clearNode(this.button),this.button.appendChild(this._stopIcon),this.button.setAttribute("aria-label","Cancel generating new name suggestions"),(x=this._buttonHover)===null||x===void 0||x.update(this._buttonCancelHoverText),this.input.focus()}dispose(){this._disposables.dispose()}}class O{constructor(R,x){this._domNode=document.createElement("div"),this._domNode.className="rename-box rename-candidate",this._domNode.style.display="flex",this._domNode.style.columnGap="5px",this._domNode.style.alignItems="center",this._domNode.style.height=`${x.lineHeight}px`,this._domNode.style.padding=`${O._PADDING}px`;const F=document.createElement("div");F.style.display="flex",F.style.alignItems="center",F.style.width=F.style.height=`${x.lineHeight*.8}px`,this._domNode.appendChild(F),this._icon=(0,p.renderIcon)(s.Codicon.sparkle),this._icon.style.display="none",F.appendChild(this._icon),this._label=document.createElement("div"),m.applyFontInfo(this._label,x),this._domNode.appendChild(this._label),R.appendChild(this._domNode)}populate(R){this._updateIcon(R),this._updateLabel(R)}_updateIcon(R){var x;const F=!!(!((x=R.tags)===null||x===void 0)&&x.includes(a.NewSymbolNameTag.AIGenerated));this._icon.style.display=F?"inherit":"none"}_updateLabel(R){this._label.innerText=R.newSymbolName}static getLayoutInfo({lineHeight:R}){return{totalHeight:R+O._PADDING*2}}dispose(){}}O._PADDING=2}),define(ie[919],ne([1,0,47,15,19,10,57,2,20,22,16,148,36,9,5,21,28,18,203,118,177,750,29,105,14,8,60,51,92,39,62,918]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N){"use strict";var A;Object.defineProperty(e,"__esModule",{value:!0}),e.RenameAction=void 0,e.rename=M;class O{constructor(H,z,j){this.model=H,this.position=z,this._providerRenameIdx=0,this._providers=j.ordered(H)}hasProvider(){return this._providers.length>0}async resolveRenameLocation(H){const z=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const K=this._providers[this._providerRenameIdx];if(!K.resolveRenameLocation)break;const U=await K.resolveRenameLocation(this.model,this.position,H);if(U){if(U.rejectReason){z.push(U.rejectReason);continue}return U}}this._providerRenameIdx=0;const j=this.model.getWordAtPosition(this.position);return j?{range:new t.Range(this.position.lineNumber,j.startColumn,this.position.lineNumber,j.endColumn),text:j.word,rejectReason:z.length>0?z.join(`
`):void 0}:{range:t.Range.fromPositions(this.position),text:"",rejectReason:z.length>0?z.join(`
`):void 0}}async provideRenameEdits(H,z){return this._provideRenameEdits(H,this._providerRenameIdx,[],z)}async _provideRenameEdits(H,z,j,K){const U=this._providers[z];if(!U)return{edits:[],rejectReason:j.join(`
`)};const G=await U.provideRenameEdits(this.model,this.position,H,K);if(G){if(G.rejectReason)return this._provideRenameEdits(H,z+1,j.concat(G.rejectReason),K)}else return this._provideRenameEdits(H,z+1,j.concat(h.localize(0,null)),K);return G}}async function M(W,H,z,j){const K=new O(H,z,W),U=await K.resolveRenameLocation(E.CancellationToken.None);return U?.rejectReason?{edits:[],rejectReason:U.rejectReason}:K.provideRenameEdits(j,E.CancellationToken.None)}let R=A=class{static get(H){return H.getContribution(A.ID)}constructor(H,z,j,K,U,G,te,ee,Y){this.editor=H,this._instaService=z,this._notificationService=j,this._bulkEditService=K,this._progressService=U,this._logService=G,this._configService=te,this._languageFeaturesService=ee,this._telemetryService=Y,this._disposableStore=new p.DisposableStore,this._cts=new E.CancellationTokenSource,this._renameWidget=this._disposableStore.add(this._instaService.createInstance(N.RenameWidget,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}async run(){var H,z;const j=this._logService.trace.bind(this._logService,"[rename]");if(this._cts.dispose(!0),this._cts=new E.CancellationTokenSource,!this.editor.hasModel()){j("editor has no model");return}const K=this.editor.getPosition(),U=new O(this.editor.getModel(),K,this._languageFeaturesService.renameProvider);if(!U.hasProvider()){j("skeleton has no provider");return}const G=new r.EditorStateCancellationTokenSource(this.editor,5,void 0,this._cts.token);let te;try{j("resolving rename location");const ge=U.resolveRenameLocation(G.token);this._progressService.showWhile(ge,250),te=await ge,j("resolved rename location")}catch(ge){ge instanceof D.CancellationError?j("resolve rename location cancelled",JSON.stringify(ge,null,"	")):(j("resolve rename location failed",ge instanceof Error?ge:JSON.stringify(ge,null,"	")),(typeof ge=="string"||(0,y.isMarkdownString)(ge))&&((H=a.MessageController.get(this.editor))===null||H===void 0||H.showMessage(ge||h.localize(1,null),K)));return}finally{G.dispose()}if(!te){j("returning early - no loc");return}if(te.rejectReason){j(`returning early - rejected with reason: ${te.rejectReason}`,te.rejectReason),(z=a.MessageController.get(this.editor))===null||z===void 0||z.showMessage(te.rejectReason,K);return}if(G.token.isCancellationRequested){j("returning early - cts1 cancelled");return}const ee=new r.EditorStateCancellationTokenSource(this.editor,5,te.range,this._cts.token),Y=this.editor.getModel(),P=this._languageFeaturesService.newSymbolNamesProvider.all(Y),Z=await Promise.all(P.map(async ge=>{var X;return[ge,(X=await ge.supportsAutomaticNewSymbolNamesTriggerKind)!==null&&X!==void 0?X:!1]})),re=(ge,X)=>{let ae=Z.slice();return ge===c.NewSymbolNameTriggerKind.Automatic&&(ae=ae.filter(([oe,B])=>B)),ae.map(([oe])=>oe.provideNewSymbolNames(Y,te.range,ge,X))};j("creating rename input field and awaiting its result");const ce=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),he=await this._renameWidget.getInput(te.range,te.text,ce,P.length>0?re:void 0,ee);if(j("received response from rename input field"),P.length>0&&this._reportTelemetry(P.length,Y.getLanguageId(),he),typeof he=="boolean"){j(`returning early - rename input field response - ${he}`),he&&this.editor.focus(),ee.dispose();return}this.editor.focus(),j("requesting rename edits");const pe=(0,k.raceCancellation)(U.provideRenameEdits(he.newName,ee.token),ee.token).then(async ge=>{if(!ge){j("returning early - no rename edits result");return}if(!this.editor.hasModel()){j("returning early - no model after rename edits are provided");return}if(ge.rejectReason){j(`returning early - rejected with reason: ${ge.rejectReason}`),this._notificationService.info(ge.rejectReason);return}this.editor.setSelection(t.Range.fromPositions(this.editor.getSelection().getPosition())),j("applying edits"),this._bulkEditService.apply(ge,{editor:this.editor,showPreview:he.wantsPreview,label:h.localize(2,null,te?.text,he.newName),code:"undoredo.rename",quotableLabel:h.localize(3,null,te?.text,he.newName),respectAutoSaveConfig:!0}).then(X=>{j("edits applied"),X.ariaSummary&&(0,f.alert)(h.localize(4,null,te.text,he.newName,X.ariaSummary))}).catch(X=>{j(`error when applying edits ${JSON.stringify(X,null,"	")}`),this._notificationService.error(h.localize(5,null)),this._logService.error(X)})},ge=>{j("error when providing rename edits",JSON.stringify(ge,null,"	")),this._notificationService.error(h.localize(6,null)),this._logService.error(ge)}).finally(()=>{ee.dispose()});return j("returning rename operation"),this._progressService.showWhile(pe,250),pe}acceptRenameInput(H){this._renameWidget.acceptInput(H)}cancelRenameInput(){this._renameWidget.cancelInput(!0,"cancelRenameInput command")}focusNextRenameSuggestion(){this._renameWidget.focusNextRenameSuggestion()}focusPreviousRenameSuggestion(){this._renameWidget.focusPreviousRenameSuggestion()}_reportTelemetry(H,z,j){const K=typeof j=="boolean"?{kind:"cancelled",languageId:z,nRenameSuggestionProviders:H}:{kind:"accepted",languageId:z,nRenameSuggestionProviders:H,source:j.stats.source.k,nRenameSuggestions:j.stats.nRenameSuggestions,timeBeforeFirstInputFieldEdit:j.stats.timeBeforeFirstInputFieldEdit,wantsPreview:j.wantsPreview,nRenameSuggestionsInvocations:j.stats.nRenameSuggestionsInvocations,hadAutomaticRenameSuggestionsInvocation:j.stats.hadAutomaticRenameSuggestionsInvocation};this._telemetryService.publicLog2("renameInvokedEvent",K)}};R.ID="editor.contrib.renameController",R=A=Ie([ue(1,v.IInstantiationService),ue(2,S.INotificationService),ue(3,o.IBulkEditService),ue(4,L.IEditorProgressService),ue(5,_.ILogService),ue(6,u.ITextResourceConfigurationService),ue(7,m.ILanguageFeaturesService),ue(8,T.ITelemetryService)],R);class x extends C.EditorAction{constructor(){super({id:"editor.action.rename",label:h.localize(7,null),alias:"Rename Symbol",precondition:d.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(H,z){const j=H.get(s.ICodeEditorService),[K,U]=Array.isArray(z)&&z||[void 0,void 0];return b.URI.isUri(K)&&i.Position.isIPosition(U)?j.openCodeEditor({resource:K},j.getActiveCodeEditor()).then(G=>{G&&(G.setPosition(U),G.invokeWithinContext(te=>(this.reportTelemetry(te,G),this.run(te,G))))},D.onUnexpectedError):super.runCommand(H,z)}run(H,z){const j=H.get(_.ILogService),K=R.get(z);return K?(j.trace("[RenameAction] got controller, running..."),K.run()):(j.trace("[RenameAction] returning early - controller missing"),Promise.resolve())}}e.RenameAction=x,(0,C.registerEditorContribution)(R.ID,R,4),(0,C.registerEditorAction)(x);const F=C.EditorCommand.bindToContribution(R.get);(0,C.registerEditorCommand)(new F({id:"acceptRenameInput",precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,handler:W=>W.acceptRenameInput(!1),kbOpts:{weight:199,kbExpr:d.ContextKeyExpr.and(n.EditorContextKeys.focus,d.ContextKeyExpr.not("isComposing")),primary:3}})),(0,C.registerEditorCommand)(new F({id:"acceptRenameInputWithPreview",precondition:d.ContextKeyExpr.and(N.CONTEXT_RENAME_INPUT_VISIBLE,d.ContextKeyExpr.has("config.editor.rename.enablePreview")),handler:W=>W.acceptRenameInput(!0),kbOpts:{weight:199,kbExpr:d.ContextKeyExpr.and(n.EditorContextKeys.focus,d.ContextKeyExpr.not("isComposing")),primary:2051}})),(0,C.registerEditorCommand)(new F({id:"cancelRenameInput",precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,handler:W=>W.cancelRenameInput(),kbOpts:{weight:199,kbExpr:n.EditorContextKeys.focus,primary:9,secondary:[1033]}})),(0,l.registerAction2)(class extends l.Action2{constructor(){super({id:"focusNextRenameSuggestion",title:{...h.localize2(9,"Focus Next Rename Suggestion")},precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:18,weight:199}]})}run(H){const z=H.get(s.ICodeEditorService).getFocusedCodeEditor();if(!z)return;const j=R.get(z);j&&j.focusNextRenameSuggestion()}}),(0,l.registerAction2)(class extends l.Action2{constructor(){super({id:"focusPreviousRenameSuggestion",title:{...h.localize2(10,"Focus Previous Rename Suggestion")},precondition:N.CONTEXT_RENAME_INPUT_VISIBLE,keybinding:[{primary:16,weight:199}]})}run(H){const z=H.get(s.ICodeEditorService).getFocusedCodeEditor();if(!z)return;const j=R.get(z);j&&j.focusPreviousRenameSuggestion()}}),(0,C.registerModelAndPositionCommand)("_executeDocumentRenameProvider",function(W,H,z,...j){const[K]=j;(0,w.assertType)(typeof K=="string");const{renameProvider:U}=W.get(m.ILanguageFeaturesService);return M(U,H,z,K)}),(0,C.registerModelAndPositionCommand)("_executePrepareRename",async function(W,H,z){const{renameProvider:j}=W.get(m.ILanguageFeaturesService),U=await new O(H,z,j).resolveRenameLocation(E.CancellationToken.None);if(U?.rejectReason)throw new Error(U.rejectReason);return U}),I.Registry.as(g.Extensions.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:h.localize(8,null),default:!0,type:"boolean"}}})}),define(ie[920],ne([1,0,2,10,53,27,15,19,23,275,368,84,64,18,259,142,329]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DocumentSemanticTokensFeature=void 0;let u=class extends f.Disposable{constructor(l,g,d,v,_,S){super(),this._watchers=Object.create(null);const L=N=>{this._watchers[N.uri.toString()]=new r(N,l,d,_,S)},I=(N,A)=>{A.dispose(),delete this._watchers[N.uri.toString()]},T=()=>{for(const N of g.getModels()){const A=this._watchers[N.uri.toString()];(0,c.isSemanticColoringEnabled)(N,d,v)?A||L(N):A&&I(N,A)}};g.getModels().forEach(N=>{(0,c.isSemanticColoringEnabled)(N,d,v)&&L(N)}),this._register(g.onModelAdded(N=>{(0,c.isSemanticColoringEnabled)(N,d,v)&&L(N)})),this._register(g.onModelRemoved(N=>{const A=this._watchers[N.uri.toString()];A&&I(N,A)})),this._register(v.onDidChangeConfiguration(N=>{N.affectsConfiguration(c.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&T()})),this._register(d.onDidColorThemeChange(T))}dispose(){for(const l of Object.values(this._watchers))l.dispose();super.dispose()}};e.DocumentSemanticTokensFeature=u,e.DocumentSemanticTokensFeature=u=Ie([ue(0,t.ISemanticTokensStylingService),ue(1,E.IModelService),ue(2,w.IThemeService),ue(3,D.IConfigurationService),ue(4,o.ILanguageFeatureDebounceService),ue(5,i.ILanguageFeaturesService)],u);let r=m=class extends f.Disposable{constructor(l,g,d,v,_){super(),this._semanticTokensStylingService=g,this._isDisposed=!1,this._model=l,this._provider=_.documentSemanticTokensProvider,this._debounceInformation=v.for(this._provider,"DocumentSemanticTokens",{min:m.REQUEST_MIN_DELAY,max:m.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new y.RunOnceScheduler(()=>this._fetchDocumentSemanticTokensNow(),m.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._providersChangedDuringRequest=!1,this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeAttached(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const S=()=>{(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const L of this._provider.all(l))typeof L.onDidChange=="function"&&this._documentProvidersChangeListeners.push(L.onDidChange(()=>{if(this._currentDocumentRequestCancellationTokenSource){this._providersChangedDuringRequest=!0;return}this._fetchDocumentSemanticTokens.schedule(0)}))};S(),this._register(this._provider.onDidChange(()=>{S(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(d.onDidColorThemeChange(L=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),(0,f.dispose)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[],this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,C.hasDocumentSemanticTokensProvider)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}if(!this._model.isAttachedToEditor())return;const l=new p.CancellationTokenSource,g=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,d=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,v=(0,C.getDocumentSemanticTokens)(this._provider,this._model,g,d,l.token);this._currentDocumentRequestCancellationTokenSource=l,this._providersChangedDuringRequest=!1;const _=[],S=this._model.onDidChangeContent(I=>{_.push(I)}),L=new s.StopWatch(!1);v.then(I=>{if(this._debounceInformation.update(this._model,L.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),!I)this._setDocumentSemanticTokens(null,null,null,_);else{const{provider:T,tokens:N}=I,A=this._semanticTokensStylingService.getStyling(T);this._setDocumentSemanticTokens(T,N||null,A,_)}},I=>{I&&(k.isCancellationError(I)||typeof I.message=="string"&&I.message.indexOf("busy")!==-1)||k.onUnexpectedError(I),this._currentDocumentRequestCancellationTokenSource=null,S.dispose(),(_.length>0||this._providersChangedDuringRequest)&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(l,g,d,v,_){_=Math.min(_,d.length-v,l.length-g);for(let S=0;S<_;S++)d[v+S]=l[g+S]}_setDocumentSemanticTokens(l,g,d,v){const _=this._currentDocumentResponse,S=()=>{(v.length>0||this._providersChangedDuringRequest)&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){l&&g&&l.releaseDocumentSemanticTokens(g.resultId);return}if(!l||!d){this._model.tokenization.setSemanticTokens(null,!1);return}if(!g){this._model.tokenization.setSemanticTokens(null,!0),S();return}if((0,C.isSemanticTokensEdits)(g)){if(!_){this._model.tokenization.setSemanticTokens(null,!0);return}if(g.edits.length===0)g={resultId:g.resultId,data:_.data};else{let L=0;for(const O of g.edits)L+=(O.data?O.data.length:0)-O.deleteCount;const I=_.data,T=new Uint32Array(I.length+L);let N=I.length,A=T.length;for(let O=g.edits.length-1;O>=0;O--){const M=g.edits[O];if(M.start>I.length){d.warnInvalidEditStart(_.resultId,g.resultId,O,M.start,I.length),this._model.tokenization.setSemanticTokens(null,!0);return}const R=N-(M.start+M.deleteCount);R>0&&(m._copy(I,N-R,T,A-R,R),A-=R),M.data&&(m._copy(M.data,0,T,A-M.data.length,M.data.length),A-=M.data.length),N=M.start}N>0&&m._copy(I,0,T,0,N),g={resultId:g.resultId,data:T}}}if((0,C.isSemanticTokens)(g)){this._currentDocumentResponse=new a(l,g.resultId,g.data);const L=(0,b.toMultilineTokens2)(g,d,this._model.getLanguageId());if(v.length>0)for(const I of v)for(const T of L)for(const N of I.changes)T.applyEdit(N.range,N.text);this._model.tokenization.setSemanticTokens(L,!0)}else this._model.tokenization.setSemanticTokens(null,!0);S()}};r.REQUEST_MIN_DELAY=300,r.REQUEST_MAX_DELAY=2e3,r=m=Ie([ue(1,t.ISemanticTokensStylingService),ue(2,w.IThemeService),ue(3,o.ILanguageFeatureDebounceService),ue(4,i.ILanguageFeaturesService)],r);class a{constructor(l,g,d){this.provider=l,this.resultId=g,this.data=d}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}(0,n.registerEditorFeature)(u)}),define(ie[921],ne([1,0,15,2,16,368,329,275,27,23,84,64,18,259]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewportSemanticTokensContribution=void 0;let t=class extends k.Disposable{constructor(c,m,u,r,a,h){super(),this._semanticTokensStylingService=m,this._themeService=u,this._configurationService=r,this._editor=c,this._provider=h.documentRangeSemanticTokensProvider,this._debounceInformation=a.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new f.RunOnceScheduler(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const l=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{l()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),l()})),this._register(this._editor.onDidChangeModelContent(g=>{this._cancelAll(),l()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),l()})),this._register(this._configurationService.onDidChangeConfiguration(g=>{g.affectsConfiguration(y.SEMANTIC_HIGHLIGHTING_SETTING_ID)&&(this._cancelAll(),l())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),l()})),l()}_cancelAll(){for(const c of this._outstandingRequests)c.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(c){for(let m=0,u=this._outstandingRequests.length;m<u;m++)if(this._outstandingRequests[m]===c){this._outstandingRequests.splice(m,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const c=this._editor.getModel();if(c.tokenization.hasCompleteSemanticTokens())return;if(!(0,y.isSemanticColoringEnabled)(c,this._themeService,this._configurationService)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}if(!(0,D.hasDocumentRangeSemanticTokensProvider)(this._provider,c)){c.tokenization.hasSomeSemanticTokens()&&c.tokenization.setSemanticTokens(null,!1);return}const m=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(m.map(u=>this._requestRange(c,u)))}_requestRange(c,m){const u=c.getVersionId(),r=(0,f.createCancelablePromise)(h=>Promise.resolve((0,D.getDocumentRangeSemanticTokens)(this._provider,c,m,h))),a=new o.StopWatch(!1);return r.then(h=>{if(this._debounceInformation.update(c,a.elapsed()),!h||!h.tokens||c.isDisposed()||c.getVersionId()!==u)return;const{provider:l,tokens:g}=h,d=this._semanticTokensStylingService.getStyling(l);c.tokenization.setPartialSemanticTokens(m,(0,p.toMultilineTokens2)(g,d,c.getLanguageId()))}).then(()=>this._removeOutstandingRequest(r),()=>this._removeOutstandingRequest(r)),r}};e.ViewportSemanticTokensContribution=t,t.ID="editor.contrib.viewportSemanticTokens",e.ViewportSemanticTokensContribution=t=Ie([ue(1,i.ISemanticTokensStylingService),ue(2,b.IThemeService),ue(3,w.IConfigurationService),ue(4,C.ILanguageFeatureDebounceService),ue(5,s.ILanguageFeaturesService)],t),(0,E.registerEditorContribution)(t.ID,t,1)}),define(ie[922],ne([1,0,6,247,26,31,7,78,2,22,28,839,53,43,759,364,76,23,382]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.ItemRenderer=void 0,e.getAriaId=a;function a(v){return`suggest-aria-id:${v}`}const h=(0,c.registerIcon)("suggest-more-info",E.Codicon.chevronRight,t.localize(0,null)),l=new(r=class{extract(_,S){if(_.textLabel.match(r._regexStrict))return S[0]=_.textLabel,!0;if(_.completion.detail&&_.completion.detail.match(r._regexStrict))return S[0]=_.completion.detail,!0;if(_.completion.documentation){const L=typeof _.completion.documentation=="string"?_.completion.documentation:_.completion.documentation.value,I=r._regexRelaxed.exec(L);if(I&&(I.index===0||I.index+I[0].length===L.length))return S[0]=I[0],!0}return!1}},r._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,r._regexStrict=new RegExp(`^${r._regexRelaxed.source}$`,"i"),r);let g=class{constructor(_,S,L,I){this._editor=_,this._modelService=S,this._languageService=L,this._themeService=I,this._onDidToggleDetails=new y.Emitter,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(_){const S=new w.DisposableStore,L=_;L.classList.add("show-file-icons");const I=(0,f.append)(_,(0,f.$)(".icon")),T=(0,f.append)(I,(0,f.$)("span.colorspan")),N=(0,f.append)(_,(0,f.$)(".contents")),A=(0,f.append)(N,(0,f.$)(".main")),O=(0,f.append)(A,(0,f.$)(".icon-label.codicon")),M=(0,f.append)(A,(0,f.$)("span.left")),R=(0,f.append)(A,(0,f.$)("span.right")),x=new k.IconLabel(M,{supportHighlights:!0,supportIcons:!0});S.add(x);const F=(0,f.append)(M,(0,f.$)("span.signature-label")),W=(0,f.append)(M,(0,f.$)("span.qualifier-label")),H=(0,f.append)(R,(0,f.$)("span.details-label")),z=(0,f.append)(R,(0,f.$)("span.readMore"+D.ThemeIcon.asCSSSelector(h)));return z.title=t.localize(1,null),{root:L,left:M,right:R,icon:I,colorspan:T,iconLabel:x,iconContainer:O,parametersLabel:F,qualifierLabel:W,detailsLabel:H,readMore:z,disposables:S,configureFont:()=>{const K=this._editor.getOptions(),U=K.get(50),G=U.getMassagedFontFamily(),te=U.fontFeatureSettings,ee=K.get(119)||U.fontSize,Y=K.get(120)||U.lineHeight,P=U.fontWeight,Z=U.letterSpacing,re=`${ee}px`,ce=`${Y}px`,he=`${Z}px`;L.style.fontSize=re,L.style.fontWeight=P,L.style.letterSpacing=he,A.style.fontFamily=G,A.style.fontFeatureSettings=te,A.style.lineHeight=ce,I.style.height=ce,I.style.width=ce,z.style.height=ce,z.style.width=ce}}}renderElement(_,S,L){L.configureFont();const{completion:I}=_;L.root.id=a(S),L.colorspan.style.backgroundColor="";const T={labelEscapeNewLines:!0,matches:(0,p.createMatches)(_.score)},N=[];if(I.kind===19&&l.extract(_,N))L.icon.className="icon customcolor",L.iconContainer.className="icon hide",L.colorspan.style.backgroundColor=N[0];else if(I.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){L.icon.className="icon hide",L.iconContainer.className="icon hide";const A=(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:_.textLabel}),n.FileKind.FILE),O=(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:I.detail}),n.FileKind.FILE);T.extraClasses=A.length>O.length?A:O}else I.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(L.icon.className="icon hide",L.iconContainer.className="icon hide",T.extraClasses=[(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:_.textLabel}),n.FileKind.FOLDER),(0,o.getIconClasses)(this._modelService,this._languageService,b.URI.from({scheme:"fake",path:I.detail}),n.FileKind.FOLDER)].flat()):(L.icon.className="icon hide",L.iconContainer.className="",L.iconContainer.classList.add("suggest-icon",...D.ThemeIcon.asClassNameArray(C.CompletionItemKinds.toIcon(I.kind))));I.tags&&I.tags.indexOf(1)>=0&&(T.extraClasses=(T.extraClasses||[]).concat(["deprecated"]),T.matches=[]),L.iconLabel.setLabel(_.textLabel,void 0,T),typeof I.label=="string"?(L.parametersLabel.textContent="",L.detailsLabel.textContent=d(I.detail||""),L.root.classList.add("string-label")):(L.parametersLabel.textContent=d(I.label.detail||""),L.detailsLabel.textContent=d(I.label.description||""),L.root.classList.remove("string-label")),this._editor.getOption(118).showInlineDetails?(0,f.show)(L.detailsLabel):(0,f.hide)(L.detailsLabel),(0,u.canExpandCompletionItem)(_)?(L.right.classList.add("can-expand-details"),(0,f.show)(L.readMore),L.readMore.onmousedown=A=>{A.stopPropagation(),A.preventDefault()},L.readMore.onclick=A=>{A.stopPropagation(),A.preventDefault(),this._onDidToggleDetails.fire()}):(L.right.classList.remove("can-expand-details"),(0,f.hide)(L.readMore),L.readMore.onmousedown=null,L.readMore.onclick=null)}disposeTemplate(_){_.disposables.dispose()}};e.ItemRenderer=g,e.ItemRenderer=g=Ie([ue(1,s.IModelService),ue(2,i.ILanguageService),ue(3,m.IThemeService)],g);function d(v){return v.replace(/\r\n|\r|\n/g,"")}}),define(ie[923],ne([1,0,916,39,151,36,103,7,16,21,75]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoLineAction=e.StandaloneGotoLineQuickAccessProvider=void 0;let o=class extends f.AbstractGotoLineQuickAccessProvider{constructor(t){super(),this.editorService=t,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var t;return(t=this.editorService.getFocusedCodeEditor())!==null&&t!==void 0?t:void 0}};e.StandaloneGotoLineQuickAccessProvider=o,e.StandaloneGotoLineQuickAccessProvider=o=Ie([ue(0,D.ICodeEditorService)],o);class s extends w.EditorAction{constructor(){super({id:s.ID,label:y.GoToLineNLS.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:2085,mac:{primary:293},weight:100}})}run(t){t.get(C.IQuickInputService).quickAccess.show(o.PREFIX)}}e.GotoLineAction=s,s.ID="editor.action.gotoLine",(0,w.registerEditorAction)(s),k.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:o,prefix:o.PREFIX,helpEntries:[{description:y.GoToLineNLS.gotoLineActionLabel,commandId:s.ID}]})}),define(ie[924],ne([1,0,917,39,151,36,103,7,16,21,75,176,18,190,273]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GotoSymbolAction=e.StandaloneGotoSymbolQuickAccessProvider=void 0;let i=class extends f.AbstractGotoSymbolQuickAccessProvider{constructor(c,m,u){super(m,u),this.editorService=c,this.onDidActiveTextEditorControlChange=p.Event.None}get activeTextEditorControl(){var c;return(c=this.editorService.getFocusedCodeEditor())!==null&&c!==void 0?c:void 0}};e.StandaloneGotoSymbolQuickAccessProvider=i,e.StandaloneGotoSymbolQuickAccessProvider=i=Ie([ue(0,D.ICodeEditorService),ue(1,s.ILanguageFeaturesService),ue(2,o.IOutlineModelService)],i);class t extends w.EditorAction{constructor(){super({id:t.ID,label:y.QuickOutlineNLS.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:b.EditorContextKeys.hasDocumentSymbolProvider,kbOpts:{kbExpr:b.EditorContextKeys.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(c){c.get(C.IQuickInputService).quickAccess.show(f.AbstractGotoSymbolQuickAccessProvider.PREFIX,{itemActivation:C.ItemActivation.NONE})}}e.GotoSymbolAction=t,t.ID="editor.action.quickOutline",(0,w.registerEditorAction)(t),k.Registry.as(E.Extensions.Quickaccess).registerQuickAccessProvider({ctor:i,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,helpEntries:[{description:y.QuickOutlineNLS.quickOutlineActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX,commandId:t.ID},{description:y.QuickOutlineNLS.quickOutlineByCategoryActionLabel,prefix:f.AbstractGotoSymbolQuickAccessProvider.PREFIX_BY_CATEGORY}]})}),define(ie[399],ne([1,0,6,49,901,36,14,48,23]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneCodeEditorService=void 0;let b=class extends E.AbstractCodeEditorService{constructor(o,s){super(s),this._register(this.onCodeEditorAdd(()=>this._checkContextKey())),this._register(this.onCodeEditorRemove(()=>this._checkContextKey())),this._editorIsOpen=o.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this._register(this.registerCodeEditorOpenHandler(async(i,t,n)=>t?this.doOpenEditor(t,i):null))}_checkContextKey(){let o=!1;for(const s of this.listCodeEditors())if(!s.isSimpleWidget){o=!0;break}this._editorIsOpen.set(o)}setActiveCodeEditor(o){this._activeCodeEditor=o}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(o,s){if(!this.findModel(o,s.resource)){if(s.resource){const n=s.resource.scheme;if(n===k.Schemas.http||n===k.Schemas.https)return(0,f.windowOpenNoOpener)(s.resource.toString()),o}return null}const t=s.options?s.options.selection:null;if(t)if(typeof t.endLineNumber=="number"&&typeof t.endColumn=="number")o.setSelection(t),o.revealRangeInCenter(t,1);else{const n={lineNumber:t.startLineNumber,column:t.startColumn};o.setPosition(n),o.revealPositionInCenter(n,1)}return o}findModel(o,s){const i=o.getModel();return i&&i.uri.toString()!==s.toString()?null:i}};e.StandaloneCodeEditorService=b,e.StandaloneCodeEditorService=b=Ie([ue(0,y.IContextKeyService),ue(1,w.IThemeService)],b),(0,p.registerSingleton)(D.ICodeEditorService,b,0)}),define(ie[925],ne([1,0,86,33]),function(Q,e,f,k){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hc_light=e.hc_black=e.vs_dark=e.vs=void 0,e.vs={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFE",[k.editorForeground]:"#000000",[k.editorInactiveSelection]:"#E5EBF1",[f.editorIndentGuide1]:"#D3D3D3",[f.editorActiveIndentGuide1]:"#939393",[k.editorSelectionHighlight]:"#ADD6FF4D"}},e.vs_dark={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#1E1E1E",[k.editorForeground]:"#D4D4D4",[k.editorInactiveSelection]:"#3A3D41",[f.editorIndentGuide1]:"#404040",[f.editorActiveIndentGuide1]:"#707070",[k.editorSelectionHighlight]:"#ADD6FF26"}},e.hc_black={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[k.editorBackground]:"#000000",[k.editorForeground]:"#FFFFFF",[f.editorIndentGuide1]:"#FFFFFF",[f.editorActiveIndentGuide1]:"#FFFFFF"}},e.hc_light={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[k.editorBackground]:"#FFFFFF",[k.editorForeground]:"#292929",[f.editorIndentGuide1]:"#292929",[f.editorActiveIndentGuide1]:"#292929"}}}),define(ie[400],ne([1,0,6,63,35,7,28,143,551,925,39,33,23,2,94,897,52]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneThemeService=e.HC_LIGHT_THEME_NAME=e.HC_BLACK_THEME_NAME=e.VS_DARK_THEME_NAME=e.VS_LIGHT_THEME_NAME=void 0,e.VS_LIGHT_THEME_NAME="vs",e.VS_DARK_THEME_NAME="vs-dark",e.HC_BLACK_THEME_NAME="hc-black",e.HC_LIGHT_THEME_NAME="hc-light";const m=C.Registry.as(o.Extensions.ColorContribution),u=C.Registry.as(s.Extensions.ThemingContribution);class r{constructor(v,_){this.semanticHighlighting=!1,this.themeData=_;const S=_.base;v.length>0?(a(v)?this.id=v:this.id=S+" "+v,this.themeName=v):(this.id=S,this.themeName=S),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const v=new Map;for(const _ in this.themeData.colors)v.set(_,E.Color.fromHex(this.themeData.colors[_]));if(this.themeData.inherit){const _=h(this.themeData.base);for(const S in _.colors)v.has(S)||v.set(S,E.Color.fromHex(_.colors[S]))}this.colors=v}return this.colors}getColor(v,_){const S=this.getColors().get(v);if(S)return S;if(_!==!1)return this.getDefault(v)}getDefault(v){let _=this.defaultColors[v];return _||(_=m.resolveDefaultColor(v,this),this.defaultColors[v]=_,_)}defines(v){return this.getColors().has(v)}get type(){switch(this.base){case e.VS_LIGHT_THEME_NAME:return t.ColorScheme.LIGHT;case e.HC_BLACK_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_DARK;case e.HC_LIGHT_THEME_NAME:return t.ColorScheme.HIGH_CONTRAST_LIGHT;default:return t.ColorScheme.DARK}}get tokenTheme(){if(!this._tokenTheme){let v=[],_=[];if(this.themeData.inherit){const I=h(this.themeData.base);v=I.rules,I.encodedTokensColors&&(_=I.encodedTokensColors)}const S=this.themeData.colors["editor.foreground"],L=this.themeData.colors["editor.background"];if(S||L){const I={token:""};S&&(I.foreground=S),L&&(I.background=L),v.push(I)}v=v.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(_=this.themeData.encodedTokensColors),this._tokenTheme=w.TokenTheme.createFromRawTokenTheme(v,_)}return this._tokenTheme}getTokenStyleMetadata(v,_,S){const I=this.tokenTheme._match([v].concat(_).join(".")).metadata,T=p.TokenMetadata.getForeground(I),N=p.TokenMetadata.getFontStyle(I);return{foreground:T,italic:!!(N&1),bold:!!(N&2),underline:!!(N&4),strikethrough:!!(N&8)}}}function a(d){return d===e.VS_LIGHT_THEME_NAME||d===e.VS_DARK_THEME_NAME||d===e.HC_BLACK_THEME_NAME||d===e.HC_LIGHT_THEME_NAME}function h(d){switch(d){case e.VS_LIGHT_THEME_NAME:return b.vs;case e.VS_DARK_THEME_NAME:return b.vs_dark;case e.HC_BLACK_THEME_NAME:return b.hc_black;case e.HC_LIGHT_THEME_NAME:return b.hc_light}}function l(d){const v=h(d);return new r(d,v)}class g extends i.Disposable{constructor(){super(),this._onColorThemeChange=this._register(new D.Emitter),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new D.Emitter),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new n.UnthemedProductIconTheme,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(e.VS_LIGHT_THEME_NAME,l(e.VS_LIGHT_THEME_NAME)),this._knownThemes.set(e.VS_DARK_THEME_NAME,l(e.VS_DARK_THEME_NAME)),this._knownThemes.set(e.HC_BLACK_THEME_NAME,l(e.HC_BLACK_THEME_NAME)),this._knownThemes.set(e.HC_LIGHT_THEME_NAME,l(e.HC_LIGHT_THEME_NAME));const v=this._register((0,n.getIconsStyleSheet)(this));this._codiconCSS=v.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(e.VS_LIGHT_THEME_NAME),this._onOSSchemeChanged(),this._register(v.onDidChange(()=>{this._codiconCSS=v.getCSS(),this._updateCSS()})),(0,k.addMatchMediaChangeListener)(c.mainWindow,"(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(v){return f.isInShadowDOM(v)?this._registerShadowDomContainer(v):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=f.createStyleSheet(void 0,v=>{v.className="monaco-colors",v.textContent=this._allCSS}),this._styleElements.push(this._globalStyleElement)),i.Disposable.None}_registerShadowDomContainer(v){const _=f.createStyleSheet(v,S=>{S.className="monaco-colors",S.textContent=this._allCSS});return this._styleElements.push(_),{dispose:()=>{for(let S=0;S<this._styleElements.length;S++)if(this._styleElements[S]===_){this._styleElements.splice(S,1);return}}}}defineTheme(v,_){if(!/^[a-z0-9\-]+$/i.test(v))throw new Error("Illegal theme name!");if(!a(_.base)&&!a(v))throw new Error("Illegal theme base!");this._knownThemes.set(v,new r(v,_)),a(v)&&this._knownThemes.forEach(S=>{S.base===v&&S.notifyBaseUpdated()}),this._theme.themeName===v&&this.setTheme(v)}getColorTheme(){return this._theme}setColorMapOverride(v){this._colorMapOverride=v,this._updateThemeOrColorMap()}setTheme(v){let _;this._knownThemes.has(v)?_=this._knownThemes.get(v):_=this._knownThemes.get(e.VS_LIGHT_THEME_NAME),this._updateActualTheme(_)}_updateActualTheme(v){!v||this._theme===v||(this._theme=v,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const v=c.mainWindow.matchMedia("(forced-colors: active)").matches;if(v!==(0,t.isHighContrast)(this._theme.type)){let _;(0,t.isDark)(this._theme.type)?_=v?e.HC_BLACK_THEME_NAME:e.VS_DARK_THEME_NAME:_=v?e.HC_LIGHT_THEME_NAME:e.VS_LIGHT_THEME_NAME,this._updateActualTheme(this._knownThemes.get(_))}}}setAutoDetectHighContrast(v){this._autoDetectHighContrast=v,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const v=[],_={},S={addRule:T=>{_[T]||(v.push(T),_[T]=!0)}};u.getThemingParticipants().forEach(T=>T(this._theme,S,this._environment));const L=[];for(const T of m.getColors()){const N=this._theme.getColor(T.id,!0);N&&L.push(`${(0,o.asCssVariableName)(T.id)}: ${N.toString()};`)}S.addRule(`.monaco-editor, .monaco-diff-editor, .monaco-component { ${L.join(`
`)} }`);const I=this._colorMapOverride||this._theme.tokenTheme.getColorMap();S.addRule((0,w.generateTokensCSSForColorMap)(I)),this._themeCSS=v.join(`
`),this._updateCSS(),y.TokenizationRegistry.setColorMap(I),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(v=>v.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}e.StandaloneThemeService=g}),define(ie[926],ne([1,0,16,149,103,94,400]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class p extends f.EditorAction{constructor(){super({id:"editor.action.toggleHighContrast",label:E.ToggleHighContrastNLS.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(b,C){const o=b.get(k.IStandaloneThemeService),s=o.getColorTheme();(0,D.isHighContrast)(s.type)?(o.setTheme(this._originalThemeName||((0,D.isDark)(s.type)?y.VS_DARK_THEME_NAME:y.VS_LIGHT_THEME_NAME)),this._originalThemeName=null):(o.setTheme((0,D.isDark)(s.type)?y.HC_BLACK_THEME_NAME:y.HC_LIGHT_THEME_NAME),this._originalThemeName=s.themeName)}}(0,f.registerEditorAction)(p)}),define(ie[120],ne([1,0,6,46,147,346,41,240,2,17,773,29,363,14,58,8,32,51,98,23,31,94,20,33,106,66,518]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DropdownWithDefaultActionViewItem=e.SubmenuEntryActionViewItem=e.MenuEntryActionViewItem=void 0,e.createAndFillInContextMenuActions=_,e.createAndFillInActionBarActions=S,e.createActionViewItem=O;function _(M,R,x,F){const W=M.getActions(R),H=f.ModifierKeyEmitter.getInstance(),z=H.keyStatus.altKey||(b.isWindows||b.isLinux)&&H.keyStatus.shiftKey;L(W,x,z,F?j=>j===F:j=>j==="navigation")}function S(M,R,x,F,W,H){const z=M.getActions(R);L(z,x,!1,typeof F=="string"?K=>K===F:F,W,H)}function L(M,R,x,F=z=>z==="navigation",W=()=>!1,H=!1){let z,j;Array.isArray(R)?(z=R,j=R):(z=R.primary,j=R.secondary);const K=new Set;for(const[U,G]of M){let te;F(U)?(te=z,te.length>0&&H&&te.push(new y.Separator)):(te=j,te.length>0&&te.push(new y.Separator));for(let ee of G){x&&(ee=ee instanceof o.MenuItemAction&&ee.alt?ee.alt:ee);const Y=te.push(ee);ee instanceof y.SubmenuAction&&K.add({group:U,action:ee,index:Y-1})}}for(const{group:U,action:G,index:te}of K){const ee=F(U)?z:j,Y=G.actions;W(G,U,ee.length)&&ee.splice(te,1,...Y)}}let I=class extends E.ActionViewItem{constructor(R,x,F,W,H,z,j,K){super(void 0,R,{icon:!!(R.class||R.item.icon),label:!R.class&&!R.item.icon,draggable:x?.draggable,keybinding:x?.keybinding,hoverDelegate:x?.hoverDelegate}),this._keybindingService=F,this._notificationService=W,this._contextKeyService=H,this._themeService=z,this._contextMenuService=j,this._accessibilityService=K,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new w.MutableDisposable),this._altKey=f.ModifierKeyEmitter.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}async onClick(R){R.preventDefault(),R.stopPropagation();try{await this.actionRunner.run(this._commandAction,this._context)}catch(x){this._notificationService.error(x)}}render(R){if(super.render(R),R.classList.add("menu-entry"),this.options.icon&&this._updateItemClass(this._menuItemAction.item),this._menuItemAction.alt){let x=!1;const F=()=>{var W;const H=!!(!((W=this._menuItemAction.alt)===null||W===void 0)&&W.enabled)&&(!this._accessibilityService.isMotionReduced()||x)&&(this._altKey.keyStatus.altKey||this._altKey.keyStatus.shiftKey&&x);H!==this._wantsAltCommand&&(this._wantsAltCommand=H,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._register(this._altKey.event(F)),this._register((0,f.addDisposableListener)(R,"mouseleave",W=>{x=!1,F()})),this._register((0,f.addDisposableListener)(R,"mouseenter",W=>{x=!0,F()})),F()}}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var R;const x=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),F=x&&x.getLabel(),W=this._commandAction.tooltip||this._commandAction.label;let H=F?(0,C.localize)(0,null,W,F):W;if(!this._wantsAltCommand&&(!((R=this._menuItemAction.alt)===null||R===void 0)&&R.enabled)){const z=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,j=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),K=j&&j.getLabel(),U=K?(0,C.localize)(1,null,z,K):z;H=(0,C.localize)(2,null,H,p.UILabelProvider.modifierLabels[b.OS].altKey,U)}return H}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(R){this._itemClassDispose.value=void 0;const{element:x,label:F}=this;if(!x||!F)return;const W=this._commandAction.checked&&(0,s.isICommandActionToggleInfo)(R.toggled)&&R.toggled.icon?R.toggled.icon:R.icon;if(W)if(a.ThemeIcon.isThemeIcon(W)){const H=a.ThemeIcon.asClassNameArray(W);F.classList.add(...H),this._itemClassDispose.value=(0,w.toDisposable)(()=>{F.classList.remove(...H)})}else F.style.backgroundImage=(0,h.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(W.dark):(0,f.asCSSUrl)(W.light),F.classList.add("icon"),this._itemClassDispose.value=(0,w.combinedDisposable)((0,w.toDisposable)(()=>{F.style.backgroundImage="",F.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};e.MenuEntryActionViewItem=I,e.MenuEntryActionViewItem=I=Ie([ue(2,c.IKeybindingService),ue(3,m.INotificationService),ue(4,i.IContextKeyService),ue(5,r.IThemeService),ue(6,t.IContextMenuService),ue(7,v.IAccessibilityService)],I);let T=class extends D.DropdownMenuActionViewItem{constructor(R,x,F,W,H){var z,j,K;const U={...x,menuAsChild:(z=x?.menuAsChild)!==null&&z!==void 0?z:!1,classNames:(j=x?.classNames)!==null&&j!==void 0?j:a.ThemeIcon.isThemeIcon(R.item.icon)?a.ThemeIcon.asClassName(R.item.icon):void 0,keybindingProvider:(K=x?.keybindingProvider)!==null&&K!==void 0?K:G=>F.lookupKeybinding(G.id)};super(R,{getActions:()=>R.actions},W,U),this._keybindingService=F,this._contextMenuService=W,this._themeService=H}render(R){super.render(R),(0,l.assertType)(this.element),R.classList.add("menu-entry");const x=this._action,{icon:F}=x.item;if(F&&!a.ThemeIcon.isThemeIcon(F)){this.element.classList.add("icon");const W=()=>{this.element&&(this.element.style.backgroundImage=(0,h.isDark)(this._themeService.getColorTheme().type)?(0,f.asCSSUrl)(F.dark):(0,f.asCSSUrl)(F.light))};W(),this._register(this._themeService.onDidColorThemeChange(()=>{W()}))}}};e.SubmenuEntryActionViewItem=T,e.SubmenuEntryActionViewItem=T=Ie([ue(2,c.IKeybindingService),ue(3,t.IContextMenuService),ue(4,r.IThemeService)],T);let N=class extends E.BaseActionViewItem{constructor(R,x,F,W,H,z,j,K){var U,G,te;super(null,R),this._keybindingService=F,this._notificationService=W,this._contextMenuService=H,this._menuService=z,this._instaService=j,this._storageService=K,this._container=null,this._options=x,this._storageKey=`${R.item.submenu.id}_lastActionId`;let ee;const Y=x?.persistLastActionId?K.get(this._storageKey,1):void 0;Y&&(ee=R.actions.find(Z=>Y===Z.id)),ee||(ee=R.actions[0]),this._defaultAction=this._instaService.createInstance(I,ee,{keybinding:this._getDefaultActionKeybindingLabel(ee)});const P={keybindingProvider:Z=>this._keybindingService.lookupKeybinding(Z.id),...x,menuAsChild:(U=x?.menuAsChild)!==null&&U!==void 0?U:!0,classNames:(G=x?.classNames)!==null&&G!==void 0?G:["codicon","codicon-chevron-down"],actionRunner:(te=x?.actionRunner)!==null&&te!==void 0?te:new y.ActionRunner};this._dropdown=new D.DropdownMenuActionViewItem(R,R.actions,this._contextMenuService,P),this._register(this._dropdown.actionRunner.onDidRun(Z=>{Z.action instanceof o.MenuItemAction&&this.update(Z.action)}))}update(R){var x;!((x=this._options)===null||x===void 0)&&x.persistLastActionId&&this._storageService.store(this._storageKey,R.id,1,1),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(I,R,{keybinding:this._getDefaultActionKeybindingLabel(R)}),this._defaultAction.actionRunner=new class extends y.ActionRunner{async runAction(F,W){await F.run(void 0)}},this._container&&this._defaultAction.render((0,f.prepend)(this._container,(0,f.$)(".action-container")))}_getDefaultActionKeybindingLabel(R){var x;let F;if(!((x=this._options)===null||x===void 0)&&x.renderKeybindingWithDefaultActionLabel){const W=this._keybindingService.lookupKeybinding(R.id);W&&(F=`(${W.getLabel()})`)}return F}setActionContext(R){super.setActionContext(R),this._defaultAction.setActionContext(R),this._dropdown.setActionContext(R)}render(R){this._container=R,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const x=(0,f.$)(".action-container");this._defaultAction.render((0,f.append)(this._container,x)),this._register((0,f.addDisposableListener)(x,f.EventType.KEY_DOWN,W=>{const H=new k.StandardKeyboardEvent(W);H.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),H.stopPropagation())}));const F=(0,f.$)(".dropdown-action-container");this._dropdown.render((0,f.append)(this._container,F)),this._register((0,f.addDisposableListener)(F,f.EventType.KEY_DOWN,W=>{var H;const z=new k.StandardKeyboardEvent(W);z.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(H=this._defaultAction.element)===null||H===void 0||H.focus(),z.stopPropagation())}))}focus(R){R?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(R){R?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};e.DropdownWithDefaultActionViewItem=N,e.DropdownWithDefaultActionViewItem=N=Ie([ue(2,c.IKeybindingService),ue(3,m.INotificationService),ue(4,t.IContextMenuService),ue(5,o.IMenuService),ue(6,n.IInstantiationService),ue(7,u.IStorageService)],N);let A=class extends E.SelectActionViewItem{constructor(R,x){super(null,R,R.actions.map(F=>({text:F.id===y.Separator.ID?"\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500":F.label,isDisabled:!F.enabled})),0,x,d.defaultSelectBoxStyles,{ariaLabel:R.tooltip,optionsAsChildren:!0}),this.select(Math.max(0,R.actions.findIndex(F=>F.checked)))}render(R){super.render(R),R.style.borderColor=(0,g.asCssVariable)(g.selectBorder)}runAction(R,x){const F=this.action.actions[x];F&&this.actionRunner.run(F)}};A=Ie([ue(1,t.IContextViewService)],A);function O(M,R,x){return R instanceof o.MenuItemAction?M.createInstance(I,R,x):R instanceof o.SubmenuItemAction?R.item.isSelection?M.createInstance(A,R):R.item.rememberDefaultAction?M.createInstance(N,R,{...x,persistLastActionId:!0}):M.createInstance(T,R,x):void 0}}),define(ie[927],ne([1,0,6,82,2,760,120,29,14,8]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestWidgetStatus=void 0;class C extends y.MenuEntryActionViewItem{updateLabel(){const i=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!i)return super.updateLabel();this.label&&(this.label.textContent=(0,D.localize)(0,null,this._action.label,C.symbolPrintEnter(i)))}static symbolPrintEnter(i){var t;return(t=i.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let o=class{constructor(i,t,n,c,m){this._menuId=t,this._menuService=c,this._contextKeyService=m,this._menuDisposables=new E.DisposableStore,this.element=f.append(i,f.$(".suggest-status-bar"));const u=r=>r instanceof p.MenuItemAction?n.createInstance(C,r,void 0):void 0;this._leftActions=new k.ActionBar(this.element,{actionViewItemProvider:u}),this._rightActions=new k.ActionBar(this.element,{actionViewItemProvider:u}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this._leftActions.dispose(),this._rightActions.dispose(),this.element.remove()}show(){const i=this._menuService.createMenu(this._menuId,this._contextKeyService),t=()=>{const n=[],c=[];for(const[m,u]of i.getActions())m==="left"?n.push(...u):c.push(...u);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(c)};this._menuDisposables.add(i.onDidChange(()=>t())),this._menuDisposables.add(i)}hide(){this._menuDisposables.clear()}};e.SuggestWidgetStatus=o,e.SuggestWidgetStatus=o=Ie([ue(2,b.IInstantiationService),ue(3,p.IMenuService),ue(4,w.IContextKeyService)],o)}),define(ie[210],ne([1,0,6,73,635,41,13,289,10,7,54,2,774,120,29,386,25,14,58,32,62]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MenuWorkbenchToolBar=e.WorkbenchToolBar=void 0;let h=class extends E.ToolBar{constructor(d,v,_,S,L,I,T,N){super(d,L,{getKeyBinding:O=>{var M;return(M=I.lookupKeybinding(O.id))!==null&&M!==void 0?M:void 0},...v,allowContextMenu:!0,skipTelemetry:typeof v?.telemetrySource=="string"}),this._options=v,this._menuService=_,this._contextKeyService=S,this._contextMenuService=L,this._keybindingService=I,this._commandService=T,this._sessionDisposables=this._store.add(new o.DisposableStore);const A=v?.telemetrySource;A&&this._store.add(this.actionBar.onDidRun(O=>N.publicLog2("workbenchActionExecuted",{id:O.action.id,from:A})))}setActions(d,v=[],_){var S,L,I;this._sessionDisposables.clear();const T=d.slice(),N=v.slice(),A=[];let O=0;const M=[];let R=!1;if(((S=this._options)===null||S===void 0?void 0:S.hiddenItemStrategy)!==-1)for(let x=0;x<T.length;x++){const F=T[x];!(F instanceof t.MenuItemAction)&&!(F instanceof t.SubmenuItemAction)||F.hideActions&&(A.push(F.hideActions.toggle),F.hideActions.toggle.checked&&O++,F.hideActions.isHidden&&(R=!0,T[x]=void 0,((L=this._options)===null||L===void 0?void 0:L.hiddenItemStrategy)!==0&&(M[x]=F)))}if(((I=this._options)===null||I===void 0?void 0:I.overflowBehavior)!==void 0){const x=(0,p.intersection)(new Set(this._options.overflowBehavior.exempted),C.Iterable.map(T,H=>H?.id)),F=this._options.overflowBehavior.maxItems-x.size;let W=0;for(let H=0;H<T.length;H++){const z=T[H];z&&(W++,!x.has(z.id)&&W>=F&&(T[H]=void 0,M[H]=z))}}(0,y.coalesceInPlace)(T),(0,y.coalesceInPlace)(M),super.setActions(T,D.Separator.join(M,N)),(A.length>0||T.length>0)&&this._sessionDisposables.add((0,f.addDisposableListener)(this.getElement(),"contextmenu",x=>{var F,W,H,z,j;const K=new k.StandardMouseEvent((0,f.getWindow)(this.getElement()),x),U=this.getItemAction(K.target);if(!U)return;K.preventDefault(),K.stopPropagation();const G=[];if(U instanceof t.MenuItemAction&&U.menuKeybinding?G.push(U.menuKeybinding):U instanceof t.SubmenuItemAction||U instanceof E.ToggleMenuAction||G.push((0,n.createConfigureKeybindingAction)(U.id,void 0,this._commandService,this._keybindingService)),A.length>0){let ee=!1;if(O===1&&((F=this._options)===null||F===void 0?void 0:F.hiddenItemStrategy)===0){ee=!0;for(let Y=0;Y<A.length;Y++)if(A[Y].checked){A[Y]=(0,D.toAction)({id:U.id,label:U.label,checked:!0,enabled:!1,run(){}});break}}if(!ee&&(U instanceof t.MenuItemAction||U instanceof t.SubmenuItemAction)){if(!U.hideActions)return;G.push(U.hideActions.hide)}else G.push((0,D.toAction)({id:"label",label:(0,s.localize)(0,null),enabled:!1,run(){}}))}const te=D.Separator.join(G,A);!((W=this._options)===null||W===void 0)&&W.resetMenu&&!_&&(_=[this._options.resetMenu]),R&&_&&(te.push(new D.Separator),te.push((0,D.toAction)({id:"resetThisMenu",label:(0,s.localize)(1,null),run:()=>this._menuService.resetHiddenStates(_)}))),te.length!==0&&this._contextMenuService.showContextMenu({getAnchor:()=>K,getActions:()=>te,menuId:(H=this._options)===null||H===void 0?void 0:H.contextMenu,menuActionOptions:{renderShortTitle:!0,...(z=this._options)===null||z===void 0?void 0:z.menuOptions},skipTelemetry:typeof((j=this._options)===null||j===void 0?void 0:j.telemetrySource)=="string",contextKeyService:this._contextKeyService})}))}};e.WorkbenchToolBar=h,e.WorkbenchToolBar=h=Ie([ue(2,t.IMenuService),ue(3,m.IContextKeyService),ue(4,u.IContextMenuService),ue(5,r.IKeybindingService),ue(6,c.ICommandService),ue(7,a.ITelemetryService)],h);let l=class extends h{constructor(d,v,_,S,L,I,T,N,A){super(d,{resetMenu:v,..._},S,L,I,T,N,A),this._onDidChangeMenuItems=this._store.add(new b.Emitter),this.onDidChangeMenuItems=this._onDidChangeMenuItems.event;const O=this._store.add(S.createMenu(v,L,{emitEventsForSubmenuChanges:!0})),M=()=>{var R,x,F;const W=[],H=[];(0,i.createAndFillInActionBarActions)(O,_?.menuOptions,{primary:W,secondary:H},(R=_?.toolbarOptions)===null||R===void 0?void 0:R.primaryGroup,(x=_?.toolbarOptions)===null||x===void 0?void 0:x.shouldInlineSubmenu,(F=_?.toolbarOptions)===null||F===void 0?void 0:F.useSeparatorsInPrimaryActions),d.classList.toggle("has-no-actions",W.length===0&&H.length===0),super.setActions(W,H)};this._store.add(O.onDidChange(()=>{M(),this._onDidChangeMenuItems.fire(this)})),M()}setActions(){throw new w.BugIndicatingError("This toolbar is populated from a menu.")}};e.MenuWorkbenchToolBar=l,e.MenuWorkbenchToolBar=l=Ie([ue(3,t.IMenuService),ue(4,m.IContextKeyService),ue(5,u.IContextMenuService),ue(6,r.IKeybindingService),ue(7,c.ICommandService),ue(8,a.ITelemetryService)],l)}),define(ie[928],ne([1,0,6,2,30,83,644,335,59,65,5,109,100,560,210,29,14,115,8]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorGutter=void 0;const r=[],a=35;let h=class extends k.Disposable{constructor(v,_,S,L,I,T){super(),this._diffModel=_,this._editors=S,this._instantiationService=L,this._contextKeyService=I,this._menuService=T,this._menu=this._register(this._menuService.createMenu(n.MenuId.DiffEditorHunkToolbar,this._contextKeyService)),this._actions=(0,E.observableFromEvent)(this._menu.onDidChange,()=>this._menu.getActions()),this._hasActions=this._actions.map(N=>N.length>0),this.width=(0,E.derived)(this,N=>this._hasActions.read(N)?a:0),this.elements=(0,f.h)("div.gutter@gutter",{style:{position:"absolute",height:"100%",width:a+"px"}},[]),this._currentDiff=(0,E.derived)(this,N=>{var A;const O=this._diffModel.read(N);if(!O)return;const M=(A=O.diff.read(N))===null||A===void 0?void 0:A.mappings,R=this._editors.modifiedCursor.read(N);if(R)return M?.find(x=>x.lineRangeMapping.modified.contains(R.lineNumber))}),this._selectedDiffs=(0,E.derived)(this,N=>{const A=this._diffModel.read(N),O=A?.diff.read(N);if(!O)return r;const M=this._editors.modifiedSelections.read(N);if(M.every(W=>W.isEmpty()))return r;const R=new w.LineRangeSet(M.map(W=>w.LineRange.fromRangeInclusive(W))),F=O.mappings.filter(W=>W.lineRangeMapping.innerChanges&&R.intersects(W.lineRangeMapping.modified)).map(W=>({mapping:W,rangeMappings:W.lineRangeMapping.innerChanges.filter(H=>M.some(z=>C.Range.areIntersecting(H.modifiedRange,z)))}));return F.length===0||F.every(W=>W.rangeMappings.length===0)?r:F}),this._register((0,D.prependRemoveOnDispose)(v,this.elements.root)),this._register((0,f.addDisposableListener)(this.elements.root,"click",()=>{this._editors.modified.focus()})),this._register((0,D.applyStyle)(this.elements.root,{display:this._hasActions.map(N=>N?"block":"none")})),this._register(new y.EditorGutter(this._editors.modified,this.elements.root,{getIntersectingGutterItems:(N,A)=>{const O=this._diffModel.read(A);if(!O)return[];const M=O.diff.read(A);if(!M)return[];const R=this._selectedDiffs.read(A);if(R.length>0){const F=s.DetailedLineRangeMapping.fromRangeMappings(R.flatMap(W=>W.rangeMappings));return[new l(F,!0,n.MenuId.DiffEditorSelectionToolbar,void 0,O.model.original.uri,O.model.modified.uri)]}const x=this._currentDiff.read(A);return M.mappings.map(F=>new l(F.lineRangeMapping.withInnerChangesFromLineRanges(),F.lineRangeMapping===x?.lineRangeMapping,n.MenuId.DiffEditorHunkToolbar,void 0,O.model.original.uri,O.model.modified.uri))},createView:(N,A)=>this._instantiationService.createInstance(g,N,A,this)})),this._register((0,f.addDisposableListener)(this.elements.gutter,f.EventType.MOUSE_WHEEL,N=>{this._editors.modified.getOption(103).handleMouseWheel&&this._editors.modified.delegateScrollFromMouseWheelEvent(N)},{passive:!1}))}computeStagedValue(v){var _;const S=(_=v.innerChanges)!==null&&_!==void 0?_:[],L=new i.TextModelText(this._editors.modifiedModel.get()),I=new i.TextModelText(this._editors.original.getModel());return new o.TextEdit(S.map(A=>A.toTextEdit(L))).apply(I)}layout(v){this.elements.gutter.style.left=v+"px"}};e.DiffEditorGutter=h,e.DiffEditorGutter=h=Ie([ue(3,u.IInstantiationService),ue(4,c.IContextKeyService),ue(5,n.IMenuService)],h);class l{constructor(v,_,S,L,I,T){this.mapping=v,this.showAlways=_,this.menuId=S,this.rangeOverride=L,this.originalUri=I,this.modifiedUri=T}get id(){return this.mapping.modified.toString()}get range(){var v;return(v=this.rangeOverride)!==null&&v!==void 0?v:this.mapping.modified}}let g=class extends k.Disposable{constructor(v,_,S,L){super(),this._item=v,this._elements=(0,f.h)("div.gutterItem",{style:{height:"20px",width:"34px"}},[(0,f.h)("div.background@background",{},[]),(0,f.h)("div.buttons@buttons",{},[])]),this._showAlways=this._item.map(this,T=>T.showAlways),this._menuId=this._item.map(this,T=>T.menuId),this._isSmall=(0,E.observableValue)(this,!1),this._lastItemRange=void 0,this._lastViewRange=void 0;const I=this._register(L.createInstance(m.WorkbenchHoverDelegate,"element",!0,{position:{hoverPosition:1}}));this._register((0,D.appendRemoveOnDispose)(_,this._elements.root)),this._register((0,E.autorun)(T=>{const N=this._showAlways.read(T);this._elements.root.classList.toggle("noTransition",!0),this._elements.root.classList.toggle("showAlways",N),setTimeout(()=>{this._elements.root.classList.toggle("noTransition",!1)},0)})),this._register((0,E.autorunWithStore)((T,N)=>{this._elements.buttons.replaceChildren();const A=N.add(L.createInstance(t.MenuWorkbenchToolBar,this._elements.buttons,this._menuId.read(T),{orientation:1,hoverDelegate:I,toolbarOptions:{primaryGroup:O=>O.startsWith("primary")},overflowBehavior:{maxItems:this._isSmall.read(T)?1:3},hiddenItemStrategy:0,actionRunner:new p.ActionRunnerWithContext(()=>{const O=this._item.get(),M=O.mapping;return{mapping:M,originalWithModifiedChanges:S.computeStagedValue(M),originalUri:O.originalUri,modifiedUri:O.modifiedUri}}),menuOptions:{shouldForwardArgs:!0}}));N.add(A.onDidChangeMenuItems(()=>{this._lastItemRange&&this.layout(this._lastItemRange,this._lastViewRange)}))}))}layout(v,_){this._lastItemRange=v,this._lastViewRange=_;let S=this._elements.buttons.clientHeight;this._isSmall.set(this._item.get().mapping.original.startLineNumber===1&&v.length<30,void 0),S=this._elements.buttons.clientHeight,this._elements.root.style.top=v.start+"px",this._elements.root.style.height=v.length+"px";const L=v.length/2-S/2,I=S;let T=v.start+L;const N=b.OffsetRange.tryCreate(I,_.endExclusive-I-S),A=b.OffsetRange.tryCreate(v.start+I,v.endExclusive-S-I);A&&N&&A.start<A.endExclusive&&(T=N.clip(T),T=A.clip(T)),this._elements.buttons.style.top=`${T-v.start}px`}};g=Ie([ue(3,u.IInstantiationService)],g)}),define(ie[276],ne([1,0,6,147,200,41,13,15,26,2,30,17,31,9,28,238,737,120,210,29,25,14,58,8,32,62,76,496]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_){"use strict";var S;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineSuggestionHintsContentWidget=e.InlineCompletionsHintsWidget=void 0;let L=class extends b.Disposable{constructor(x,F,W){super(),this.editor=x,this.model=F,this.instantiationService=W,this.alwaysShowToolbar=(0,C.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,C.derived)(this,H=>{var z,j,K;const U=(z=this.model.read(H))===null||z===void 0?void 0:z.primaryGhostText.read(H);if(!this.alwaysShowToolbar.read(H)||!U||U.parts.length===0)return this.sessionPosition=void 0,null;const G=U.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==U.lineNumber&&(this.sessionPosition=void 0);const te=new i.Position(U.lineNumber,Math.min(G,(K=(j=this.sessionPosition)===null||j===void 0?void 0:j.column)!==null&&K!==void 0?K:Number.MAX_SAFE_INTEGER));return this.sessionPosition=te,te}),this._register((0,C.autorunWithStore)((H,z)=>{const j=this.model.read(H);if(!j||!this.alwaysShowToolbar.read(H))return;const K=z.add(this.instantiationService.createInstance(N,this.editor,!0,this.position,j.selectedInlineCompletionIndex,j.inlineCompletionsCount,j.activeCommands));x.addContentWidget(K),z.add((0,b.toDisposable)(()=>x.removeContentWidget(K))),z.add((0,C.autorun)(U=>{this.position.read(U)&&j.lastTriggerKind.read(U)!==t.InlineCompletionTriggerKind.Explicit&&j.triggerExplicitly()}))}))}};e.InlineCompletionsHintsWidget=L,e.InlineCompletionsHintsWidget=L=Ie([ue(2,g.IInstantiationService)],L);const I=(0,_.registerIcon)("inline-suggestion-hints-next",w.Codicon.chevronRight,(0,c.localize)(0,null)),T=(0,_.registerIcon)("inline-suggestion-hints-previous",w.Codicon.chevronLeft,(0,c.localize)(1,null));let N=S=class extends b.Disposable{static get dropDownVisible(){return this._dropDownVisible}createCommandAction(x,F,W){const H=new D.Action(x,F,W,!0,()=>this._commandService.executeCommand(x)),z=this.keybindingService.lookupKeybinding(x,this._contextKeyService);let j=F;return z&&(j=(0,c.localize)(2,null,F,z.getLabel())),H.tooltip=j,H}constructor(x,F,W,H,z,j,K,U,G,te,ee){super(),this.editor=x,this.withBorder=F,this._position=W,this._currentSuggestionIdx=H,this._suggestionCount=z,this._extraCommands=j,this._commandService=K,this.keybindingService=G,this._contextKeyService=te,this._menuService=ee,this.id=`InlineSuggestionHintsContentWidget${S.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineSuggestionsHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.previousAction=this.createCommandAction(n.showPreviousInlineSuggestionActionId,(0,c.localize)(3,null),s.ThemeIcon.asClassName(T)),this.availableSuggestionCountAction=new D.Action("inlineSuggestionHints.availableSuggestionCount","",void 0,!1),this.nextAction=this.createCommandAction(n.showNextInlineSuggestionActionId,(0,c.localize)(4,null),s.ThemeIcon.asClassName(I)),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(r.MenuId.InlineCompletionsActions,this._contextKeyService)),this.clearAvailableSuggestionCountLabelDebounced=this._register(new p.RunOnceScheduler(()=>{this.availableSuggestionCountAction.label=""},100)),this.disableButtonsDebounced=this._register(new p.RunOnceScheduler(()=>{this.previousAction.enabled=this.nextAction.enabled=!1},100)),this.toolBar=this._register(U.createInstance(M,this.nodes.toolBar,r.MenuId.InlineSuggestionToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:Y=>Y.startsWith("primary")},actionViewItemProvider:(Y,P)=>{if(Y instanceof r.MenuItemAction)return U.createInstance(O,Y,void 0);if(Y===this.availableSuggestionCountAction){const Z=new A(void 0,Y,{label:!0,icon:!1});return Z.setClass("availableSuggestionCount"),Z}},telemetrySource:"InlineSuggestionToolbar"})),this.toolBar.setPrependedPrimaryActions([this.previousAction,this.availableSuggestionCountAction,this.nextAction]),this._register(this.toolBar.onDidChangeDropdownVisibility(Y=>{S._dropDownVisible=Y})),this._register((0,C.autorun)(Y=>{this._position.read(Y),this.editor.layoutContentWidget(this)})),this._register((0,C.autorun)(Y=>{const P=this._suggestionCount.read(Y),Z=this._currentSuggestionIdx.read(Y);P!==void 0?(this.clearAvailableSuggestionCountLabelDebounced.cancel(),this.availableSuggestionCountAction.label=`${Z+1}/${P}`):this.clearAvailableSuggestionCountLabelDebounced.schedule(),P!==void 0&&P>1?(this.disableButtonsDebounced.cancel(),this.previousAction.enabled=this.nextAction.enabled=!0):this.disableButtonsDebounced.schedule()})),this._register((0,C.autorun)(Y=>{const Z=this._extraCommands.read(Y).map(re=>({class:void 0,id:re.id,enabled:!0,tooltip:re.tooltip||"",label:re.title,run:ce=>this._commandService.executeCommand(re.id)}));for(const[re,ce]of this.inlineCompletionsActionsMenus.getActions())for(const he of ce)he instanceof r.MenuItemAction&&Z.push(he);Z.length>0&&Z.unshift(new D.Separator),this.toolBar.setAdditionalSecondaryActions(Z)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineSuggestionHintsContentWidget=N,N._dropDownVisible=!1,N.id=0,e.InlineSuggestionHintsContentWidget=N=S=Ie([ue(6,a.ICommandService),ue(7,g.IInstantiationService),ue(8,d.IKeybindingService),ue(9,h.IContextKeyService),ue(10,r.IMenuService)],N);class A extends k.ActionViewItem{constructor(){super(...arguments),this._className=void 0}setClass(x){this._className=x}render(x){super.render(x),this._className&&x.classList.add(this._className)}updateTooltip(){}}class O extends m.MenuEntryActionViewItem{updateLabel(){const x=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!x)return super.updateLabel();if(this.label){const F=(0,f.h)("div.keybinding").root;this._register(new E.KeybindingLabel(F,o.OS,{disableTitle:!0,...E.unthemedKeybindingLabelOptions})).set(x),this.label.textContent=this._action.label,this.label.appendChild(F),this.label.classList.add("inlineSuggestionStatusBarItemLabel")}}updateTooltip(){}}let M=class extends u.WorkbenchToolBar{constructor(x,F,W,H,z,j,K,U,G){super(x,{resetMenu:F,...W},H,z,j,K,U,G),this.menuId=F,this.options2=W,this.menuService=H,this.contextKeyService=z,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var x,F,W,H,z,j,K;const U=[],G=[];(0,m.createAndFillInActionBarActions)(this.menu,(x=this.options2)===null||x===void 0?void 0:x.menuOptions,{primary:U,secondary:G},(W=(F=this.options2)===null||F===void 0?void 0:F.toolbarOptions)===null||W===void 0?void 0:W.primaryGroup,(z=(H=this.options2)===null||H===void 0?void 0:H.toolbarOptions)===null||z===void 0?void 0:z.shouldInlineSubmenu,(K=(j=this.options2)===null||j===void 0?void 0:j.toolbarOptions)===null||K===void 0?void 0:K.useSeparatorsInPrimaryActions),G.push(...this.additionalActions),U.unshift(...this.prependedPrimaryActions),this.setActions(U,G)}setPrependedPrimaryActions(x){(0,y.equals)(this.prependedPrimaryActions,x,(F,W)=>F===W)||(this.prependedPrimaryActions=x,this.updateToolbar())}setAdditionalSecondaryActions(x){(0,y.equals)(this.additionalActions,x,(F,W)=>F===W)||(this.additionalActions=x,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=M,e.CustomizedMenuWorkbenchToolBar=M=Ie([ue(3,r.IMenuService),ue(4,h.IContextKeyService),ue(5,l.IContextMenuService),ue(6,d.IKeybindingService),ue(7,a.ICommandService),ue(8,v.ITelemetryService)],M)}),define(ie[401],ne([1,0,6,200,41,13,2,30,17,9,120,210,29,25,14,58,8,32,62,498]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.CustomizedMenuWorkbenchToolBar=e.InlineEditHintsContentWidget=e.InlineEditHintsWidget=void 0;let a=class extends y.Disposable{constructor(v,_,S){super(),this.editor=v,this.model=_,this.instantiationService=S,this.alwaysShowToolbar=(0,p.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).showToolbar==="always"),this.sessionPosition=void 0,this.position=(0,p.derived)(this,L=>{var I,T,N;const A=(I=this.model.read(L))===null||I===void 0?void 0:I.widget.model.ghostText.read(L);if(!this.alwaysShowToolbar.read(L)||!A||A.parts.length===0)return this.sessionPosition=void 0,null;const O=A.parts[0].column;this.sessionPosition&&this.sessionPosition.lineNumber!==A.lineNumber&&(this.sessionPosition=void 0);const M=new b.Position(A.lineNumber,Math.min(O,(N=(T=this.sessionPosition)===null||T===void 0?void 0:T.column)!==null&&N!==void 0?N:Number.MAX_SAFE_INTEGER));return this.sessionPosition=M,M}),this._register((0,p.autorunWithStore)((L,I)=>{if(!this.model.read(L)||!this.alwaysShowToolbar.read(L))return;const N=I.add(this.instantiationService.createInstance(h,this.editor,!0,this.position));v.addContentWidget(N),I.add((0,y.toDisposable)(()=>v.removeContentWidget(N)))}))}};e.InlineEditHintsWidget=a,e.InlineEditHintsWidget=a=Ie([ue(2,c.IInstantiationService)],a);let h=r=class extends y.Disposable{constructor(v,_,S,L,I,T){super(),this.editor=v,this.withBorder=_,this._position=S,this._contextKeyService=I,this._menuService=T,this.id=`InlineEditHintsContentWidget${r.id++}`,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this.nodes=(0,f.h)("div.inlineEditHints",{className:this.withBorder?".withBorder":""},[(0,f.h)("div@toolBar")]),this.inlineCompletionsActionsMenus=this._register(this._menuService.createMenu(s.MenuId.InlineEditActions,this._contextKeyService)),this.toolBar=this._register(L.createInstance(g,this.nodes.toolBar,this.editor,s.MenuId.InlineEditToolbar,{menuOptions:{renderShortTitle:!0},toolbarOptions:{primaryGroup:N=>N.startsWith("primary")},actionViewItemProvider:(N,A)=>{if(N instanceof s.MenuItemAction)return L.createInstance(l,N,void 0)},telemetrySource:"InlineEditToolbar"})),this._register(this.toolBar.onDidChangeDropdownVisibility(N=>{r._dropDownVisible=N})),this._register((0,p.autorun)(N=>{this._position.read(N),this.editor.layoutContentWidget(this)})),this._register((0,p.autorun)(N=>{const A=[];for(const[O,M]of this.inlineCompletionsActionsMenus.getActions())for(const R of M)R instanceof s.MenuItemAction&&A.push(R);A.length>0&&A.unshift(new E.Separator),this.toolBar.setAdditionalSecondaryActions(A)}))}getId(){return this.id}getDomNode(){return this.nodes.root}getPosition(){return{position:this._position.get(),preference:[1,2],positionAffinity:3}}};e.InlineEditHintsContentWidget=h,h._dropDownVisible=!1,h.id=0,e.InlineEditHintsContentWidget=h=r=Ie([ue(3,c.IInstantiationService),ue(4,t.IContextKeyService),ue(5,s.IMenuService)],h);class l extends C.MenuEntryActionViewItem{updateLabel(){const v=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!v)return super.updateLabel();if(this.label){const _=(0,f.h)("div.keybinding").root;this._register(new k.KeybindingLabel(_,w.OS,{disableTitle:!0,...k.unthemedKeybindingLabelOptions})).set(v),this.label.textContent=this._action.label,this.label.appendChild(_),this.label.classList.add("inlineEditStatusBarItemLabel")}}updateTooltip(){}}let g=class extends o.WorkbenchToolBar{constructor(v,_,S,L,I,T,N,A,O,M){super(v,{resetMenu:S,...L},I,T,N,A,O,M),this.editor=_,this.menuId=S,this.options2=L,this.menuService=I,this.contextKeyService=T,this.menu=this._store.add(this.menuService.createMenu(this.menuId,this.contextKeyService,{emitEventsForSubmenuChanges:!0})),this.additionalActions=[],this.prependedPrimaryActions=[],this._store.add(this.menu.onDidChange(()=>this.updateToolbar())),this._store.add(this.editor.onDidChangeCursorPosition(()=>this.updateToolbar())),this.updateToolbar()}updateToolbar(){var v,_,S,L,I,T,N;const A=[],O=[];(0,C.createAndFillInActionBarActions)(this.menu,(v=this.options2)===null||v===void 0?void 0:v.menuOptions,{primary:A,secondary:O},(S=(_=this.options2)===null||_===void 0?void 0:_.toolbarOptions)===null||S===void 0?void 0:S.primaryGroup,(I=(L=this.options2)===null||L===void 0?void 0:L.toolbarOptions)===null||I===void 0?void 0:I.shouldInlineSubmenu,(N=(T=this.options2)===null||T===void 0?void 0:T.toolbarOptions)===null||N===void 0?void 0:N.useSeparatorsInPrimaryActions),O.push(...this.additionalActions),A.unshift(...this.prependedPrimaryActions),this.setActions(A,O)}setAdditionalSecondaryActions(v){(0,D.equals)(this.additionalActions,v,(_,S)=>_===S)||(this.additionalActions=v,this.updateToolbar())}};e.CustomizedMenuWorkbenchToolBar=g,e.CustomizedMenuWorkbenchToolBar=g=Ie([ue(4,s.IMenuService),ue(5,t.IContextKeyService),ue(6,n.IContextMenuService),ue(7,m.IKeybindingService),ue(8,i.ICommandService),ue(9,u.ITelemetryService)],g)}),define(ie[277],ne([1,0,2,30,72,9,5,812,14,8,28,18,19,198,25,401,6,27,10]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditController=e.InlineEditWidget=void 0;class a{constructor(d,v){this.widget=d,this.edit=v}dispose(){this.widget.dispose()}}e.InlineEditWidget=a;let h=r=class extends f.Disposable{static get(d){return d.getContribution(r.ID)}constructor(d,v,_,S,L,I){super(),this.editor=d,this.instantiationService=v,this.contextKeyService=_,this.languageFeaturesService=S,this._commandService=L,this._configurationService=I,this._isVisibleContext=r.inlineEditVisibleContext.bindTo(this.contextKeyService),this._isCursorAtInlineEditContext=r.cursorAtInlineEditContext.bindTo(this.contextKeyService),this._currentEdit=this._register((0,k.disposableObservableValue)(this,void 0)),this._isAccepting=(0,k.observableValue)(this,!1),this._enabled=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).enabled),this._fontFamily=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).fontFamily),this._backgroundColoring=(0,k.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(63).backgroundColoring);const T=(0,k.observableSignalFromEvent)("InlineEditController.modelContentChangedSignal",d.onDidChangeModelContent);this._register((0,k.autorun)(R=>{this._enabled.read(R)&&(T.read(R),!this._isAccepting.read(R)&&this.getInlineEdit(d,!0))}));const N=(0,k.observableFromEvent)(d.onDidChangeCursorPosition,()=>d.getPosition());this._register((0,k.autorun)(R=>{if(!this._enabled.read(R))return;const x=N.read(R);x&&this.checkCursorPosition(x)})),this._register((0,k.autorun)(R=>{const x=this._currentEdit.read(R);if(this._isCursorAtInlineEditContext.set(!1),!x){this._isVisibleContext.set(!1);return}this._isVisibleContext.set(!0);const F=d.getPosition();F&&this.checkCursorPosition(F)}));const A=(0,k.observableSignalFromEvent)("InlineEditController.editorBlurSignal",d.onDidBlurEditorWidget);this._register((0,k.autorun)(async R=>{var x;this._enabled.read(R)&&(A.read(R),!(this._configurationService.getValue("editor.experimentalInlineEdit.keepOnBlur")||d.getOption(63).keepOnBlur)&&((x=this._currentRequestCts)===null||x===void 0||x.dispose(!0),this._currentRequestCts=void 0,await this.clear(!1)))}));const O=(0,k.observableSignalFromEvent)("InlineEditController.editorFocusSignal",d.onDidFocusEditorText);this._register((0,k.autorun)(R=>{this._enabled.read(R)&&(O.read(R),this.getInlineEdit(d,!0))}));const M=this._register((0,c.createStyleSheet2)());this._register((0,k.autorun)(R=>{const x=this._fontFamily.read(R);M.setStyle(x===""||x==="default"?"":`
.monaco-editor .inline-edit-decoration,
.monaco-editor .inline-edit-decoration-preview,
.monaco-editor .inline-edit {
	font-family: ${x};
}`)})),this._register(new n.InlineEditHintsWidget(this.editor,this._currentEdit,this.instantiationService))}checkCursorPosition(d){var v;if(!this._currentEdit){this._isCursorAtInlineEditContext.set(!1);return}const _=(v=this._currentEdit.get())===null||v===void 0?void 0:v.edit;if(!_){this._isCursorAtInlineEditContext.set(!1);return}this._isCursorAtInlineEditContext.set(y.Range.containsPosition(_.range,d))}validateInlineEdit(d,v){var _,S;if(v.text.includes(`
`)&&v.range.startLineNumber!==v.range.endLineNumber&&v.range.startColumn!==v.range.endColumn){if(v.range.startColumn!==1)return!1;const I=v.range.endLineNumber,T=v.range.endColumn,N=(S=(_=d.getModel())===null||_===void 0?void 0:_.getLineLength(I))!==null&&S!==void 0?S:0;if(T!==N+1)return!1}return!0}async fetchInlineEdit(d,v){this._currentRequestCts&&this._currentRequestCts.dispose(!0);const _=d.getModel();if(!_)return;const S=_.getVersionId(),L=this.languageFeaturesService.inlineEditProvider.all(_);if(L.length===0)return;const I=L[0];this._currentRequestCts=new s.CancellationTokenSource;const T=this._currentRequestCts.token,N=v?C.InlineEditTriggerKind.Automatic:C.InlineEditTriggerKind.Invoke;if(v&&await l(50,T),T.isCancellationRequested||_.isDisposed()||_.getVersionId()!==S)return;const O=await I.provideInlineEdit(_,{triggerKind:N},T);if(O&&!(T.isCancellationRequested||_.isDisposed()||_.getVersionId()!==S)&&this.validateInlineEdit(d,O))return O}async getInlineEdit(d,v){var _;this._isCursorAtInlineEditContext.set(!1),await this.clear();const S=await this.fetchInlineEdit(d,v);if(!S)return;const L=S.range.endLineNumber,I=S.range.endColumn,T=S.text.endsWith(`
`)&&!(S.range.startLineNumber===S.range.endLineNumber&&S.range.startColumn===S.range.endColumn)?S.text.slice(0,-1):S.text,N=new i.GhostText(L,[new i.GhostTextPart(I,T,!1)]),A=this.instantiationService.createInstance(p.GhostTextWidget,this.editor,{ghostText:(0,k.constObservable)(N),minReservedLineCount:(0,k.constObservable)(0),targetTextModel:(0,k.constObservable)((_=this.editor.getModel())!==null&&_!==void 0?_:void 0),range:(0,k.constObservable)(S.range),backgroundColoring:this._backgroundColoring});this._currentEdit.set(new a(A,S),void 0)}async trigger(){await this.getInlineEdit(this.editor,!1)}async jumpBack(){this._jumpBackPosition&&(this.editor.setPosition(this._jumpBackPosition),this.editor.revealPositionInCenterIfOutsideViewport(this._jumpBackPosition))}async accept(){var d;this._isAccepting.set(!0,void 0);const v=(d=this._currentEdit.get())===null||d===void 0?void 0:d.edit;if(!v)return;let _=v.text;v.text.startsWith(`
`)&&(_=v.text.substring(1)),this.editor.pushUndoStop(),this.editor.executeEdits("acceptCurrent",[E.EditOperation.replace(y.Range.lift(v.range),_)]),v.accepted&&await this._commandService.executeCommand(v.accepted.id,...v.accepted.arguments||[]).then(void 0,u.onUnexpectedExternalError),this.freeEdit(v),(0,k.transaction)(S=>{this._currentEdit.set(void 0,S),this._isAccepting.set(!1,S)})}jumpToCurrent(){var d,v;this._jumpBackPosition=(d=this.editor.getSelection())===null||d===void 0?void 0:d.getStartPosition();const _=(v=this._currentEdit.get())===null||v===void 0?void 0:v.edit;if(!_)return;const S=D.Position.lift({lineNumber:_.range.startLineNumber,column:_.range.startColumn});this.editor.setPosition(S),this.editor.revealPositionInCenterIfOutsideViewport(S)}async clear(d=!0){var v;const _=(v=this._currentEdit.get())===null||v===void 0?void 0:v.edit;_&&_?.rejected&&d&&await this._commandService.executeCommand(_.rejected.id,..._.rejected.arguments||[]).then(void 0,u.onUnexpectedExternalError),_&&this.freeEdit(_),this._currentEdit.set(void 0,void 0)}freeEdit(d){const v=this.editor.getModel();if(!v)return;const _=this.languageFeaturesService.inlineEditProvider.all(v);_.length!==0&&_[0].freeInlineEdit(d)}shouldShowHoverAt(d){const v=this._currentEdit.get();if(!v)return!1;const _=v.edit,S=v.widget.model;if(y.Range.containsPosition(_.range,d.getStartPosition())||y.Range.containsPosition(_.range,d.getEndPosition()))return!0;const I=S.ghostText.get();return I?I.parts.some(T=>d.containsPosition(new D.Position(I.lineNumber,T.column))):!1}shouldShowHoverAtViewZone(d){var v,_;return(_=(v=this._currentEdit.get())===null||v===void 0?void 0:v.widget.ownsViewZone(d))!==null&&_!==void 0?_:!1}};e.InlineEditController=h,h.ID="editor.contrib.inlineEditController",h.inlineEditVisibleKey="inlineEditVisible",h.inlineEditVisibleContext=new w.RawContextKey(r.inlineEditVisibleKey,!1),h.cursorAtInlineEditKey="cursorAtInlineEdit",h.cursorAtInlineEditContext=new w.RawContextKey(r.cursorAtInlineEditKey,!1),e.InlineEditController=h=r=Ie([ue(1,b.IInstantiationService),ue(2,w.IContextKeyService),ue(3,o.ILanguageFeaturesService),ue(4,t.ICommandService),ue(5,m.IConfigurationService)],h);function l(g,d){return new Promise(v=>{let _;const S=setTimeout(()=>{_&&_.dispose(),v()},g);d&&(_=d.onCancellationRequested(()=>{clearTimeout(S),_&&_.dispose(),v()}))})}}),define(ie[929],ne([1,0,16,21,595,277,29,14]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RejectInlineEdit=e.JumpBackInlineEdit=e.JumpToInlineEdit=e.TriggerInlineEdit=e.AcceptInlineEdit=void 0;class w extends f.EditorAction{constructor(){super({id:E.inlineEditAcceptId,label:"Accept Inline Edit",alias:"Accept Inline Edit",precondition:p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext),kbOpts:[{weight:101,primary:2,kbExpr:p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext,D.InlineEditController.cursorAtInlineEditContext)}],menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Accept",group:"primary",order:1}]})}async run(t,n){const c=D.InlineEditController.get(n);await c?.accept()}}e.AcceptInlineEdit=w;class b extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,p.ContextKeyExpr.not(D.InlineEditController.inlineEditVisibleKey));super({id:"editor.action.inlineEdit.trigger",label:"Trigger Inline Edit",alias:"Trigger Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t}})}async run(t,n){const c=D.InlineEditController.get(n);c?.trigger()}}e.TriggerInlineEdit=b;class C extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext,p.ContextKeyExpr.not(D.InlineEditController.cursorAtInlineEditKey));super({id:E.inlineEditJumpToId,label:"Jump to Inline Edit",alias:"Jump to Inline Edit",precondition:t,kbOpts:{weight:101,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump To Edit",group:"primary",order:3,when:t}]})}async run(t,n){const c=D.InlineEditController.get(n);c?.jumpToCurrent()}}e.JumpToInlineEdit=C;class o extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.cursorAtInlineEditContext);super({id:E.inlineEditJumpBackId,label:"Jump Back from Inline Edit",alias:"Jump Back from Inline Edit",precondition:t,kbOpts:{weight:110,primary:2646,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Jump Back",group:"primary",order:3,when:t}]})}async run(t,n){const c=D.InlineEditController.get(n);c?.jumpBack()}}e.JumpBackInlineEdit=o;class s extends f.EditorAction{constructor(){const t=p.ContextKeyExpr.and(k.EditorContextKeys.writable,D.InlineEditController.inlineEditVisibleContext);super({id:E.inlineEditRejectId,label:"Reject Inline Edit",alias:"Reject Inline Edit",precondition:t,kbOpts:{weight:100,primary:9,kbExpr:t},menuOpts:[{menuId:y.MenuId.InlineEditToolbar,title:"Reject",group:"secondary",order:2}]})}async run(t,n){const c=D.InlineEditController.get(n);await c?.clear()}}e.RejectInlineEdit=s}),define(ie[930],ne([1,0,2,30,96,8,62,277,401]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineEditHoverParticipant=e.InlineEditHover=void 0;class b{constructor(s,i,t){this.owner=s,this.range=i,this.controller=t}isValidForHoverAnchor(s){return s.type===1&&this.range.startColumn<=s.range.startColumn&&this.range.endColumn>=s.range.endColumn}}e.InlineEditHover=b;let C=class{constructor(s,i,t){this._editor=s,this._instantiationService=i,this._telemetryService=t,this.hoverOrdinal=5}suggestHoverAnchor(s){const i=p.InlineEditController.get(this._editor);if(!i)return null;const t=s.target;if(t.type===8){const n=t.detail;if(i.shouldShowHoverAtViewZone(n.viewZoneId)){const c=t.range;return new E.HoverForeignElementAnchor(1e3,this,c,s.event.posx,s.event.posy,!1)}}return t.type===7&&i.shouldShowHoverAt(t.range)?new E.HoverForeignElementAnchor(1e3,this,t.range,s.event.posx,s.event.posy,!1):t.type===6&&t.detail.mightBeForeignElement&&i.shouldShowHoverAt(t.range)?new E.HoverForeignElementAnchor(1e3,this,t.range,s.event.posx,s.event.posy,!1):null}computeSync(s,i){if(this._editor.getOption(63).showToolbar!=="onHover")return[];const t=p.InlineEditController.get(this._editor);return t&&t.shouldShowHoverAt(s.range)?[new b(this,s.range,t)]:[]}renderHoverParts(s,i){const t=new f.DisposableStore;this._telemetryService.publicLog2("inlineEditHover.shown");const n=this._instantiationService.createInstance(w.InlineEditHintsContentWidget,this._editor,!1,(0,k.constObservable)(null));return s.fragment.appendChild(n.getDomNode()),t.add(n),t}};e.InlineEditHoverParticipant=C,e.InlineEditHoverParticipant=C=Ie([ue(1,D.IInstantiationService),ue(2,y.ITelemetryService)],C)}),define(ie[931],ne([1,0,16,96,929,930,277]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorAction)(E.AcceptInlineEdit),(0,f.registerEditorAction)(E.RejectInlineEdit),(0,f.registerEditorAction)(E.JumpToInlineEdit),(0,f.registerEditorAction)(E.JumpBackInlineEdit),(0,f.registerEditorAction)(E.TriggerInlineEdit),(0,f.registerEditorContribution)(y.InlineEditController.ID,y.InlineEditController,3),k.HoverParticipantRegistry.register(D.InlineEditHoverParticipant)}),define(ie[932],ne([1,0,6,41,7,2,120,29,14,32,51,62,891,58]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuMenuDelegate=e.ContextMenuService=void 0;let t=class extends D.Disposable{get contextMenuHandler(){return this._contextMenuHandler||(this._contextMenuHandler=new s.ContextMenuHandler(this.contextViewService,this.telemetryService,this.notificationService,this.keybindingService)),this._contextMenuHandler}constructor(m,u,r,a,h,l){super(),this.telemetryService=m,this.notificationService=u,this.contextViewService=r,this.keybindingService=a,this.menuService=h,this.contextKeyService=l,this._contextMenuHandler=void 0,this._onDidShowContextMenu=this._store.add(new E.Emitter),this.onDidShowContextMenu=this._onDidShowContextMenu.event,this._onDidHideContextMenu=this._store.add(new E.Emitter)}configure(m){this.contextMenuHandler.configure(m)}showContextMenu(m){m=n.transform(m,this.menuService,this.contextKeyService),this.contextMenuHandler.showContextMenu({...m,onHide:u=>{var r;(r=m.onHide)===null||r===void 0||r.call(m,u),this._onDidHideContextMenu.fire()}}),f.ModifierKeyEmitter.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};e.ContextMenuService=t,e.ContextMenuService=t=Ie([ue(0,o.ITelemetryService),ue(1,C.INotificationService),ue(2,i.IContextViewService),ue(3,b.IKeybindingService),ue(4,p.IMenuService),ue(5,w.IContextKeyService)],t);var n;(function(c){function m(r){return r&&r.menuId instanceof p.MenuId}function u(r,a,h){if(!m(r))return r;const{menuId:l,menuActionOptions:g,contextKeyService:d}=r;return{...r,getActions:()=>{const v=[];if(l){const _=a.createMenu(l,d??h);(0,y.createAndFillInContextMenuActions)(_,g,v),_.dispose()}return r.getActions?k.Separator.join(r.getActions(),v):v}}}c.transform=u})(n||(e.ContextMenuMenuDelegate=n={}))}),define(ie[402],ne([1,0,6,7,789,8,208,23,2,46,17,121,247,200,82,94,22,377,95,137,426,12,170,15,10]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputTree=e.QuickInputListFocus=void 0;const _=f.$;var S;(function(j){j[j.First=1]="First",j[j.Second=2]="Second",j[j.Last=3]="Last",j[j.Next=4]="Next",j[j.Previous=5]="Previous",j[j.NextPage=6]="NextPage",j[j.PreviousPage=7]="PreviousPage",j[j.NextSeparator=8]="NextSeparator",j[j.PreviousSeparator=9]="PreviousSeparator"})(S||(e.QuickInputListFocus=S={}));class L{constructor(K,U,G){this.index=K,this.hasCheckbox=U,this._hidden=!1,this._init=new u.Lazy(()=>{var te;const ee=(te=G.label)!==null&&te!==void 0?te:"",Y=(0,r.parseLabelWithIcons)(ee).text.trim(),P=G.ariaLabel||[ee,this.saneDescription,this.saneDetail].map(Z=>(0,r.getCodiconAriaLabel)(Z)).filter(Z=>!!Z).join(", ");return{saneLabel:ee,saneSortLabel:Y,saneAriaLabel:P}}),this._saneDescription=G.description,this._saneTooltip=G.tooltip}get saneLabel(){return this._init.value.saneLabel}get saneSortLabel(){return this._init.value.saneSortLabel}get saneAriaLabel(){return this._init.value.saneAriaLabel}get element(){return this._element}set element(K){this._element=K}get hidden(){return this._hidden}set hidden(K){this._hidden=K}get saneDescription(){return this._saneDescription}set saneDescription(K){this._saneDescription=K}get saneDetail(){return this._saneDetail}set saneDetail(K){this._saneDetail=K}get saneTooltip(){return this._saneTooltip}set saneTooltip(K){this._saneTooltip=K}get labelHighlights(){return this._labelHighlights}set labelHighlights(K){this._labelHighlights=K}get descriptionHighlights(){return this._descriptionHighlights}set descriptionHighlights(K){this._descriptionHighlights=K}get detailHighlights(){return this._detailHighlights}set detailHighlights(K){this._detailHighlights=K}}class I extends L{constructor(K,U,G,te,ee,Y){var P,Z,re;super(K,U,ee),this.fireButtonTriggered=G,this._onChecked=te,this.item=ee,this._separator=Y,this._checked=!1,this.onChecked=U?k.Event.map(k.Event.filter(this._onChecked.event,ce=>ce.element===this),ce=>ce.checked):k.Event.None,this._saneDetail=ee.detail,this._labelHighlights=(P=ee.highlights)===null||P===void 0?void 0:P.label,this._descriptionHighlights=(Z=ee.highlights)===null||Z===void 0?void 0:Z.description,this._detailHighlights=(re=ee.highlights)===null||re===void 0?void 0:re.detail}get separator(){return this._separator}set separator(K){this._separator=K}get checked(){return this._checked}set checked(K){K!==this._checked&&(this._checked=K,this._onChecked.fire({element:this,checked:K}))}get checkboxDisabled(){return!!this.item.disabled}}var T;(function(j){j[j.NONE=0]="NONE",j[j.MOUSE_HOVER=1]="MOUSE_HOVER",j[j.ACTIVE_ITEM=2]="ACTIVE_ITEM"})(T||(T={}));class N extends L{constructor(K,U,G){super(K,!1,G),this.fireSeparatorButtonTriggered=U,this.separator=G,this.children=new Array,this.focusInsideSeparator=T.NONE}}class A{getHeight(K){return K instanceof N?30:K.saneDetail?44:22}getTemplateId(K){return K instanceof I?R.ID:x.ID}}class O{getWidgetAriaLabel(){return(0,E.localize)(0,null)}getAriaLabel(K){var U;return!((U=K.separator)===null||U===void 0)&&U.label?`${K.saneAriaLabel}, ${K.separator.label}`:K.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(K){return K.hasCheckbox?"checkbox":"option"}isChecked(K){if(!(!K.hasCheckbox||!(K instanceof I)))return{get value(){return K.checked},onDidChange:U=>K.onChecked(()=>U())}}}class M{constructor(K){this.hoverDelegate=K}renderTemplate(K){const U=Object.create(null);U.toDisposeElement=new w.DisposableStore,U.toDisposeTemplate=new w.DisposableStore,U.entry=f.append(K,_(".quick-input-list-entry"));const G=f.append(U.entry,_("label.quick-input-list-label"));U.toDisposeTemplate.add(f.addStandardDisposableListener(G,f.EventType.CLICK,re=>{U.checkbox.offsetParent||re.preventDefault()})),U.checkbox=f.append(G,_("input.quick-input-list-checkbox")),U.checkbox.type="checkbox";const te=f.append(G,_(".quick-input-list-rows")),ee=f.append(te,_(".quick-input-list-row")),Y=f.append(te,_(".quick-input-list-row"));U.label=new s.IconLabel(ee,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),U.toDisposeTemplate.add(U.label),U.icon=f.prepend(U.label.element,_(".quick-input-list-icon"));const P=f.append(ee,_(".quick-input-list-entry-keybinding"));U.keybinding=new i.KeybindingLabel(P,C.OS),U.toDisposeTemplate.add(U.keybinding);const Z=f.append(Y,_(".quick-input-list-label-meta"));return U.detail=new s.IconLabel(Z,{supportHighlights:!0,supportIcons:!0,hoverDelegate:this.hoverDelegate}),U.toDisposeTemplate.add(U.detail),U.separator=f.append(U.entry,_(".quick-input-list-separator")),U.actionBar=new t.ActionBar(U.entry,this.hoverDelegate?{hoverDelegate:this.hoverDelegate}:void 0),U.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),U.toDisposeTemplate.add(U.actionBar),U}disposeTemplate(K){K.toDisposeElement.dispose(),K.toDisposeTemplate.dispose()}disposeElement(K,U,G){G.toDisposeElement.clear(),G.actionBar.clear()}}let R=v=class extends M{constructor(K,U){super(K),this.themeService=U,this._itemsWithSeparatorsFrequency=new Map}get templateId(){return v.ID}renderTemplate(K){const U=super.renderTemplate(K);return U.toDisposeTemplate.add(f.addStandardDisposableListener(U.checkbox,f.EventType.CHANGE,G=>{U.element.checked=U.checkbox.checked})),U}renderElement(K,U,G){var te,ee,Y;const P=K.element;G.element=P,P.element=(te=G.entry)!==null&&te!==void 0?te:void 0;const Z=P.item;G.checkbox.checked=P.checked,G.toDisposeElement.add(P.onChecked(ae=>G.checkbox.checked=ae)),G.checkbox.disabled=P.checkboxDisabled;const{labelHighlights:re,descriptionHighlights:ce,detailHighlights:he}=P;if(Z.iconPath){const ae=(0,n.isDark)(this.themeService.getColorTheme().type)?Z.iconPath.dark:(ee=Z.iconPath.light)!==null&&ee!==void 0?ee:Z.iconPath.dark,oe=c.URI.revive(ae);G.icon.className="quick-input-list-icon",G.icon.style.backgroundImage=f.asCSSUrl(oe)}else G.icon.style.backgroundImage="",G.icon.className=Z.iconClass?`quick-input-list-icon ${Z.iconClass}`:"";let pe;!P.saneTooltip&&P.saneDescription&&(pe={markdown:{value:P.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:P.saneDescription});const ge={matches:re||[],descriptionTitle:pe,descriptionMatches:ce||[],labelEscapeNewLines:!0};if(ge.extraClasses=Z.iconClasses,ge.italic=Z.italic,ge.strikethrough=Z.strikethrough,G.entry.classList.remove("quick-input-list-separator-as-item"),G.label.setLabel(P.saneLabel,P.saneDescription,ge),G.keybinding.set(Z.keybinding),P.saneDetail){let ae;P.saneTooltip||(ae={markdown:{value:P.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:P.saneDetail}),G.detail.element.style.display="",G.detail.setLabel(P.saneDetail,void 0,{matches:he,title:ae,labelEscapeNewLines:!0})}else G.detail.element.style.display="none";!((Y=P.separator)===null||Y===void 0)&&Y.label?(G.separator.textContent=P.separator.label,G.separator.style.display="",this.addItemWithSeparator(P)):G.separator.style.display="none",G.entry.classList.toggle("quick-input-list-separator-border",!!P.separator);const X=Z.buttons;X&&X.length?(G.actionBar.push(X.map((ae,oe)=>(0,m.quickInputButtonToAction)(ae,`id-${oe}`,()=>P.fireButtonTriggered({button:ae,item:P.item}))),{icon:!0,label:!1}),G.entry.classList.add("has-actions")):G.entry.classList.remove("has-actions")}disposeElement(K,U,G){this.removeItemWithSeparator(K.element),super.disposeElement(K,U,G)}isItemWithSeparatorVisible(K){return this._itemsWithSeparatorsFrequency.has(K)}addItemWithSeparator(K){this._itemsWithSeparatorsFrequency.set(K,(this._itemsWithSeparatorsFrequency.get(K)||0)+1)}removeItemWithSeparator(K){const U=this._itemsWithSeparatorsFrequency.get(K)||0;U>1?this._itemsWithSeparatorsFrequency.set(K,U-1):this._itemsWithSeparatorsFrequency.delete(K)}};R.ID="quickpickitem",R=v=Ie([ue(1,p.IThemeService)],R);class x extends M{constructor(){super(...arguments),this._visibleSeparatorsFrequency=new Map}get templateId(){return x.ID}get visibleSeparators(){return[...this._visibleSeparatorsFrequency.keys()]}isSeparatorVisible(K){return this._visibleSeparatorsFrequency.has(K)}renderElement(K,U,G){var te;const ee=K.element;G.element=ee,ee.element=(te=G.entry)!==null&&te!==void 0?te:void 0,ee.element.classList.toggle("focus-inside",!!ee.focusInsideSeparator);const Y=ee.separator,{labelHighlights:P,descriptionHighlights:Z,detailHighlights:re}=ee;G.icon.style.backgroundImage="",G.icon.className="";let ce;!ee.saneTooltip&&ee.saneDescription&&(ce={markdown:{value:ee.saneDescription,supportThemeIcons:!0},markdownNotSupportedFallback:ee.saneDescription});const he={matches:P||[],descriptionTitle:ce,descriptionMatches:Z||[],labelEscapeNewLines:!0};if(G.entry.classList.add("quick-input-list-separator-as-item"),G.label.setLabel(ee.saneLabel,ee.saneDescription,he),ee.saneDetail){let ge;ee.saneTooltip||(ge={markdown:{value:ee.saneDetail,supportThemeIcons:!0},markdownNotSupportedFallback:ee.saneDetail}),G.detail.element.style.display="",G.detail.setLabel(ee.saneDetail,void 0,{matches:re,title:ge,labelEscapeNewLines:!0})}else G.detail.element.style.display="none";G.separator.style.display="none",G.entry.classList.add("quick-input-list-separator-border");const pe=Y.buttons;pe&&pe.length?(G.actionBar.push(pe.map((ge,X)=>(0,m.quickInputButtonToAction)(ge,`id-${X}`,()=>ee.fireSeparatorButtonTriggered({button:ge,separator:ee.separator}))),{icon:!0,label:!1}),G.entry.classList.add("has-actions")):G.entry.classList.remove("has-actions"),this.addSeparator(ee)}disposeElement(K,U,G){var te;this.removeSeparator(K.element),this.isSeparatorVisible(K.element)||(te=K.element.element)===null||te===void 0||te.classList.remove("focus-inside"),super.disposeElement(K,U,G)}addSeparator(K){this._visibleSeparatorsFrequency.set(K,(this._visibleSeparatorsFrequency.get(K)||0)+1)}removeSeparator(K){const U=this._visibleSeparatorsFrequency.get(K)||0;U>1?this._visibleSeparatorsFrequency.set(K,U-1):this._visibleSeparatorsFrequency.delete(K)}}x.ID="quickpickseparator";let F=class extends w.Disposable{constructor(K,U,G,te,ee){super(),this.parent=K,this.hoverDelegate=U,this.linkOpenerDelegate=G,this._onKeyDown=new k.Emitter,this.onKeyDown=this._onKeyDown.event,this._onLeave=new k.Emitter,this.onLeave=this._onLeave.event,this._onChangedAllVisibleChecked=new k.Emitter,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new k.Emitter,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new k.Emitter,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new k.Emitter,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new k.Emitter,this.onButtonTriggered=this._onButtonTriggered.event,this._onSeparatorButtonTriggered=new k.Emitter,this.onSeparatorButtonTriggered=this._onSeparatorButtonTriggered.event,this._onTriggerEmptySelectionOrFocus=new k.Emitter,this._elementChecked=new k.Emitter,this._inputElements=new Array,this._elementTree=new Array,this._itemElements=new Array,this._elementDisposable=this._register(new w.DisposableStore),this._shouldFireCheckedEvents=!0,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._container=f.append(this.parent,_(".quick-input-list")),this._separatorRenderer=new x(U),this._itemRenderer=ee.createInstance(R,U),this._tree=this._register(ee.createInstance(y.WorkbenchObjectTree,"QuickInput",this._container,new A,[this._itemRenderer,this._separatorRenderer],{accessibilityProvider:new O,setRowLineHeight:!1,multipleSelectionSupport:!1,hideTwistiesOfChildlessElements:!0,renderIndentGuides:l.RenderIndentGuides.None,findWidgetEnabled:!1,indent:0,horizontalScrolling:!1,allowNonCollapsibleParents:!0,identityProvider:{getId:Y=>{const P=Y.item||Y.separator;if(P===void 0)return"";if(P.id!==void 0)return P.id;let Z=`label:${P.label}`;return Z+=`$$description:${P.description}`,P.type!=="separator"&&(Z+=`$$detail:${P.detail}`),Z}},alwaysConsumeMouseWheel:!0})),this._tree.getHTMLElement().id=te,this._registerListeners()}get onDidChangeFocus(){return k.Event.map(k.Event.any(this._tree.onDidChangeFocus,this._onTriggerEmptySelectionOrFocus.event),K=>K.elements.filter(U=>U instanceof I).map(U=>U.item))}get onDidChangeSelection(){return k.Event.map(k.Event.any(this._tree.onDidChangeSelection,this._onTriggerEmptySelectionOrFocus.event),K=>({items:K.elements.filter(U=>U instanceof I).map(U=>U.item),event:K.browserEvent}))}get scrollTop(){return this._tree.scrollTop}set scrollTop(K){this._tree.scrollTop=K}get ariaLabel(){return this._tree.ariaLabel}set ariaLabel(K){this._tree.ariaLabel=K??""}set enabled(K){this._tree.getHTMLElement().style.pointerEvents=K?"":"none"}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(K){this._matchOnDescription=K}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(K){this._matchOnDetail=K}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(K){this._matchOnLabel=K}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(K){this._matchOnLabelMode=K}get sortByLabel(){return this._sortByLabel}set sortByLabel(K){this._sortByLabel=K}_registerListeners(){this._registerOnKeyDown(),this._registerOnContainerClick(),this._registerOnMouseMiddleClick(),this._registerOnElementChecked(),this._registerOnContextMenu(),this._registerHoverListeners(),this._registerSelectionChangeListener(),this._registerSeparatorActionShowingListeners()}_registerOnKeyDown(){this._register(this._tree.onKeyDown(K=>{const U=new b.StandardKeyboardEvent(K);switch(U.keyCode){case 10:this.toggleCheckbox();break;case 31:(C.isMacintosh?K.metaKey:K.ctrlKey)&&this._tree.setFocus(this._itemElements);break;case 16:{const G=this._tree.getFocus();G.length===1&&G[0]===this._itemElements[0]&&this._onLeave.fire();break}case 18:{const G=this._tree.getFocus();G.length===1&&G[0]===this._itemElements[this._itemElements.length-1]&&this._onLeave.fire();break}}this._onKeyDown.fire(U)}))}_registerOnContainerClick(){this._register(f.addDisposableListener(this._container,f.EventType.CLICK,K=>{(K.x||K.y)&&this._onLeave.fire()}))}_registerOnMouseMiddleClick(){this._register(f.addDisposableListener(this._container,f.EventType.AUXCLICK,K=>{K.button===1&&this._onLeave.fire()}))}_registerOnElementChecked(){this._register(this._elementChecked.event(K=>this._fireCheckedEvents()))}_registerOnContextMenu(){this._register(this._tree.onContextMenu(K=>{K.element&&(K.browserEvent.preventDefault(),this._tree.setSelection([K.element]))}))}_registerHoverListeners(){const K=this._register(new g.ThrottledDelayer(this.hoverDelegate.delay));this._register(this._tree.onMouseOver(async U=>{var G;if(U.browserEvent.target instanceof HTMLAnchorElement){K.cancel();return}if(!(!(U.browserEvent.relatedTarget instanceof HTMLAnchorElement)&&f.isAncestor(U.browserEvent.relatedTarget,(G=U.element)===null||G===void 0?void 0:G.element)))try{await K.trigger(async()=>{U.element instanceof I&&this.showHover(U.element)})}catch(te){if(!(0,d.isCancellationError)(te))throw te}})),this._register(this._tree.onMouseOut(U=>{var G;f.isAncestor(U.browserEvent.relatedTarget,(G=U.element)===null||G===void 0?void 0:G.element)||K.cancel()}))}_registerSeparatorActionShowingListeners(){this._register(this._tree.onDidChangeFocus(K=>{const U=K.elements[0]?this._tree.getParentElement(K.elements[0]):null;for(const G of this._separatorRenderer.visibleSeparators){const te=G===U;!!(G.focusInsideSeparator&T.ACTIVE_ITEM)!==te&&(te?G.focusInsideSeparator|=T.ACTIVE_ITEM:G.focusInsideSeparator&=~T.ACTIVE_ITEM,this._tree.rerender(G))}})),this._register(this._tree.onMouseOver(K=>{const U=K.element?this._tree.getParentElement(K.element):null;for(const G of this._separatorRenderer.visibleSeparators){if(G!==U)continue;!!(G.focusInsideSeparator&T.MOUSE_HOVER)||(G.focusInsideSeparator|=T.MOUSE_HOVER,this._tree.rerender(G))}})),this._register(this._tree.onMouseOut(K=>{const U=K.element?this._tree.getParentElement(K.element):null;for(const G of this._separatorRenderer.visibleSeparators){if(G!==U)continue;!!(G.focusInsideSeparator&T.MOUSE_HOVER)&&(G.focusInsideSeparator&=~T.MOUSE_HOVER,this._tree.rerender(G))}}))}_registerSelectionChangeListener(){this._register(this._tree.onDidChangeSelection(K=>{const U=K.elements.filter(G=>G instanceof I);U.length!==K.elements.length&&(K.elements.length===1&&K.elements[0]instanceof N&&(this._tree.setFocus([K.elements[0].children[0]]),this._tree.reveal(K.elements[0],0)),this._tree.setSelection(U))}))}getAllVisibleChecked(){return this._allVisibleChecked(this._itemElements,!1)}getCheckedCount(){return this._itemElements.filter(K=>K.checked).length}getVisibleCount(){return this._itemElements.filter(K=>!K.hidden).length}setAllVisibleChecked(K){try{this._shouldFireCheckedEvents=!1,this._itemElements.forEach(U=>{!U.hidden&&!U.checkboxDisabled&&(U.checked=K)})}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}setElements(K){this._elementDisposable.clear(),this._inputElements=K;const U=this.parent.classList.contains("show-checkboxes");let G;this._itemElements=new Array,this._elementTree=K.reduce((Y,P,Z)=>{let re;if(P.type==="separator"){if(!P.buttons)return Y;G=new N(Z,ce=>this.fireSeparatorButtonTriggered(ce),P),re=G}else{const ce=Z>0?K[Z-1]:void 0;let he;ce&&ce.type==="separator"&&!ce.buttons&&(G=void 0,he=ce);const pe=new I(Z,U,ge=>this.fireButtonTriggered(ge),this._elementChecked,P,he);if(this._itemElements.push(pe),G)return G.children.push(pe),Y;re=pe}return Y.push(re),Y},new Array);const te=new Array;let ee=0;for(const Y of this._elementTree)Y instanceof N?(te.push({element:Y,collapsible:!1,collapsed:!1,children:Y.children.map(P=>({element:P,collapsible:!1,collapsed:!1}))}),ee+=Y.children.length+1):(te.push({element:Y,collapsible:!1,collapsed:!1}),ee++);this._tree.setChildren(null,te),this._onChangedVisibleCount.fire(ee)}setFocusedElements(K){const U=K.map(G=>this._itemElements.find(te=>te.item===G)).filter(G=>!!G);if(this._tree.setFocus(U),K.length>0){const G=this._tree.getFocus()[0];G&&this._tree.reveal(G)}}getActiveDescendant(){return this._tree.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(K){const U=K.map(G=>this._itemElements.find(te=>te.item===G)).filter(G=>!!G);this._tree.setSelection(U)}getCheckedElements(){return this._itemElements.filter(K=>K.checked).map(K=>K.item)}setCheckedElements(K){try{this._shouldFireCheckedEvents=!1;const U=new Set;for(const G of K)U.add(G);for(const G of this._itemElements)G.checked=U.has(G.item)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}focus(K){var U;if(this._itemElements.length)switch(K===S.Second&&this._itemElements.length<2&&(K=S.First),K){case S.First:this._tree.scrollTop=0,this._tree.focusFirst(void 0,G=>G.element instanceof I);break;case S.Second:this._tree.scrollTop=0,this._tree.setFocus([this._itemElements[1]]);break;case S.Last:this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]);break;case S.Next:this._tree.focusNext(void 0,!0,void 0,G=>G.element instanceof I?(this._tree.reveal(G.element),!0):!1);break;case S.Previous:this._tree.focusPrevious(void 0,!0,void 0,G=>{if(!(G.element instanceof I))return!1;const te=this._tree.getParentElement(G.element);return te===null||te.children[0]!==G.element?this._tree.reveal(G.element):this._tree.reveal(te),!0});break;case S.NextPage:this._tree.focusNextPage(void 0,G=>G.element instanceof I?(this._tree.reveal(G.element),!0):!1);break;case S.PreviousPage:this._tree.focusPreviousPage(void 0,G=>{if(!(G.element instanceof I))return!1;const te=this._tree.getParentElement(G.element);return te===null||te.children[0]!==G.element?this._tree.reveal(G.element):this._tree.reveal(te),!0});break;case S.NextSeparator:{let G=!1;const te=this._tree.getFocus()[0];this._tree.focusNext(void 0,!0,void 0,Y=>{if(G)return!0;if(Y.element instanceof N)G=!0,this._separatorRenderer.isSeparatorVisible(Y.element)?this._tree.reveal(Y.element.children[0]):this._tree.reveal(Y.element,0);else if(Y.element instanceof I){if(Y.element.separator)return this._itemRenderer.isItemWithSeparatorVisible(Y.element)?this._tree.reveal(Y.element):this._tree.reveal(Y.element,0),!0;if(Y.element===this._elementTree[0])return this._tree.reveal(Y.element,0),!0}return!1});const ee=this._tree.getFocus()[0];te===ee&&(this._tree.scrollTop=this._tree.scrollHeight,this._tree.setFocus([this._itemElements[this._itemElements.length-1]]));break}case S.PreviousSeparator:{let G,te=!!(!((U=this._tree.getFocus()[0])===null||U===void 0)&&U.separator);this._tree.focusPrevious(void 0,!0,void 0,ee=>{if(ee.element instanceof N)te?G||(this._separatorRenderer.isSeparatorVisible(ee.element)?this._tree.reveal(ee.element):this._tree.reveal(ee.element,0),G=ee.element.children[0]):te=!0;else if(ee.element instanceof I&&!G){if(ee.element.separator)this._itemRenderer.isItemWithSeparatorVisible(ee.element)?this._tree.reveal(ee.element):this._tree.reveal(ee.element,0),G=ee.element;else if(ee.element===this._elementTree[0])return this._tree.reveal(ee.element,0),!0}return!1}),G&&this._tree.setFocus([G]);break}}}clearFocus(){this._tree.setFocus([])}domFocus(){this._tree.domFocus()}layout(K){this._tree.getHTMLElement().style.maxHeight=K?`${Math.floor(K/44)*44+6}px`:"",this._tree.layout()}filter(K){if(!(this._sortByLabel||this._matchOnLabel||this._matchOnDescription||this._matchOnDetail))return this._tree.layout(),!1;const U=K;if(K=K.trim(),!K||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this._itemElements.forEach(Z=>{Z.labelHighlights=void 0,Z.descriptionHighlights=void 0,Z.detailHighlights=void 0,Z.hidden=!1;const re=Z.index&&this._inputElements[Z.index-1];Z.item&&(Z.separator=re&&re.type==="separator"&&!re.buttons?re:void 0)});else{let Z;this._elementTree.forEach(re=>{var ce,he,pe,ge;let X;this.matchOnLabelMode==="fuzzy"?X=this.matchOnLabel&&(ce=(0,r.matchesFuzzyIconAware)(K,(0,r.parseLabelWithIcons)(re.saneLabel)))!==null&&ce!==void 0?ce:void 0:X=this.matchOnLabel&&(he=W(U,(0,r.parseLabelWithIcons)(re.saneLabel)))!==null&&he!==void 0?he:void 0;const ae=this.matchOnDescription&&(pe=(0,r.matchesFuzzyIconAware)(K,(0,r.parseLabelWithIcons)(re.saneDescription||"")))!==null&&pe!==void 0?pe:void 0,oe=this.matchOnDetail&&(ge=(0,r.matchesFuzzyIconAware)(K,(0,r.parseLabelWithIcons)(re.saneDetail||"")))!==null&&ge!==void 0?ge:void 0;if(X||ae||oe?(re.labelHighlights=X,re.descriptionHighlights=ae,re.detailHighlights=oe,re.hidden=!1):(re.labelHighlights=void 0,re.descriptionHighlights=void 0,re.detailHighlights=void 0,re.hidden=re.item?!re.item.alwaysShow:!0),re.item?re.separator=void 0:re.separator&&(re.hidden=!0),!this.sortByLabel){const B=re.index&&this._inputElements[re.index-1];Z=B&&B.type==="separator"?B:Z,Z&&!re.hidden&&(re.separator=Z,Z=void 0)}})}const G=this._elementTree.filter(Z=>!Z.hidden);if(this.sortByLabel&&K){const Z=K.toLowerCase();G.sort((re,ce)=>z(re,ce,Z))}let te;const ee=G.reduce((Z,re,ce)=>(re instanceof I?te?te.children.push(re):Z.push(re):re instanceof N&&(re.children=[],te=re,Z.push(re)),Z),new Array),Y=new Array;for(const Z of ee)Z instanceof N?Y.push({element:Z,collapsible:!1,collapsed:!1,children:Z.children.map(re=>({element:re,collapsible:!1,collapsed:!1}))}):Y.push({element:Z,collapsible:!1,collapsed:!1});const P=this._tree.getFocus().length;return this._tree.setChildren(null,Y),P>0&&Y.length===0&&this._onTriggerEmptySelectionOrFocus.fire({elements:[]}),this._tree.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(G.length),!0}toggleCheckbox(){try{this._shouldFireCheckedEvents=!1;const K=this._tree.getFocus().filter(G=>G instanceof I),U=this._allVisibleChecked(K);for(const G of K)G.checkboxDisabled||(G.checked=!U)}finally{this._shouldFireCheckedEvents=!0,this._fireCheckedEvents()}}display(K){this._container.style.display=K?"":"none"}isDisplayed(){return this._container.style.display!=="none"}style(K){this._tree.style(K)}toggleHover(){const K=this._tree.getFocus()[0];if(!K?.saneTooltip||!(K instanceof I))return;if(this._lastHover&&!this._lastHover.isDisposed){this._lastHover.dispose();return}this.showHover(K);const U=new w.DisposableStore;U.add(this._tree.onDidChangeFocus(G=>{G.elements[0]instanceof I&&this.showHover(G.elements[0])})),this._lastHover&&U.add(this._lastHover),this._elementDisposable.add(U)}_allVisibleChecked(K,U=!0){for(let G=0,te=K.length;G<te;G++){const ee=K[G];if(!ee.hidden)if(ee.checked)U=!0;else return!1}return U}_fireCheckedEvents(){this._shouldFireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(K){this._onButtonTriggered.fire(K)}fireSeparatorButtonTriggered(K){this._onSeparatorButtonTriggered.fire(K)}showHover(K){var U,G,te;this._lastHover&&!this._lastHover.isDisposed&&((G=(U=this.hoverDelegate).onDidHideHover)===null||G===void 0||G.call(U),(te=this._lastHover)===null||te===void 0||te.dispose()),!(!K.element||!K.saneTooltip)&&(this._lastHover=this.hoverDelegate.showHover({content:K.saneTooltip,target:K.element,linkHandler:ee=>{this.linkOpenerDelegate(ee)},appearance:{showPointer:!0},container:this._container,position:{hoverPosition:1}},!1))}};e.QuickInputTree=F,Ie([o.memoize],F.prototype,"onDidChangeFocus",null),Ie([o.memoize],F.prototype,"onDidChangeSelection",null),e.QuickInputTree=F=Ie([ue(4,D.IInstantiationService)],F);function W(j,K){const{text:U,iconOffsets:G}=K;if(!G||G.length===0)return H(j,U);const te=(0,h.ltrim)(U," "),ee=U.length-te.length,Y=H(j,te);if(Y)for(const P of Y){const Z=G[P.start+ee]+ee;P.start+=Z,P.end+=Z}return Y}function H(j,K){const U=K.toLowerCase().indexOf(j.toLowerCase());return U!==-1?[{start:U,end:U+j.length}]:null}function z(j,K,U){const G=j.labelHighlights||[],te=K.labelHighlights||[];return G.length&&!te.length?-1:!G.length&&te.length?1:G.length===0&&te.length===0?0:(0,a.compareAnything)(j.saneSortLabel,K.saneSortLabel,U)}}),define(ie[403],ne([1,0,6,46,169,13,15,26,7,2,17,107,31,787,75,377,27,115,402,222]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputHoverDelegate=e.InputBox=e.QuickPick=e.backButton=void 0,e.backButton={iconClass:s.ThemeIcon.asClassName(p.Codicon.quickInputBack),tooltip:(0,i.localize)(0,null),handle:-1};class r extends b.Disposable{constructor(d){super(),this.ui=d,this._widgetUpdated=!1,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.buttonsUpdated=!1,this._toggles=[],this.togglesUpdated=!1,this.noValidationMessage=r.noPromptMessage,this._severity=o.default.Ignore,this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.onDidHideEmitter=this._register(new w.Emitter),this.onWillHideEmitter=this._register(new w.Emitter),this.onDisposeEmitter=this._register(new w.Emitter),this.visibleDisposables=this._register(new b.DisposableStore),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(d){this._title=d,this.update()}get description(){return this._description}set description(d){this._description=d,this.update()}get step(){return this._steps}set step(d){this._steps=d,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(d){this._totalSteps=d,this.update()}get enabled(){return this._enabled}set enabled(d){this._enabled=d,this.update()}get contextKey(){return this._contextKey}set contextKey(d){this._contextKey=d,this.update()}get busy(){return this._busy}set busy(d){this._busy=d,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(d){const v=this._ignoreFocusOut!==d&&!C.isIOS;this._ignoreFocusOut=d&&!C.isIOS,v&&this.update()}get buttons(){return this._buttons}set buttons(d){this._buttons=d,this.buttonsUpdated=!0,this.update()}get toggles(){return this._toggles}set toggles(d){this._toggles=d??[],this.togglesUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(d){this._validationMessage=d,this.update()}get severity(){return this._severity}set severity(d){this._severity=d,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(d=>{this.buttons.indexOf(d)!==-1&&this.onDidTriggerButtonEmitter.fire(d)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.toggles.length&&(this.togglesUpdated=!0),this.update())}hide(){this.visible&&this.ui.hide()}didHide(d=t.QuickInputHideReason.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:d})}willHide(d=t.QuickInputHideReason.Other){this.onWillHideEmitter.fire({reason:d})}update(){var d,v;if(!this.visible)return;const _=this.getTitle();_&&this.ui.title.textContent!==_?this.ui.title.textContent=_:!_&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const S=this.getDescription();if(this.ui.description1.textContent!==S&&(this.ui.description1.textContent=S),this.ui.description2.textContent!==S&&(this.ui.description2.textContent=S),this._widgetUpdated&&(this._widgetUpdated=!1,this._widget?f.reset(this.ui.widget,this._widget):f.reset(this.ui.widget)),this.busy&&!this.busyDelay&&(this.busyDelay=new y.TimeoutTimer,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const I=this.buttons.filter(N=>N===e.backButton).map((N,A)=>(0,n.quickInputButtonToAction)(N,`id-${A}`,async()=>this.onDidTriggerButtonEmitter.fire(N)));this.ui.leftActionBar.push(I,{icon:!0,label:!1}),this.ui.rightActionBar.clear();const T=this.buttons.filter(N=>N!==e.backButton).map((N,A)=>(0,n.quickInputButtonToAction)(N,`id-${A}`,async()=>this.onDidTriggerButtonEmitter.fire(N)));this.ui.rightActionBar.push(T,{icon:!0,label:!1})}if(this.togglesUpdated){this.togglesUpdated=!1;const I=(v=(d=this.toggles)===null||d===void 0?void 0:d.filter(T=>T instanceof E.Toggle))!==null&&v!==void 0?v:[];this.ui.inputBox.toggles=I}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const L=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==L&&(this._lastValidationMessage=L,f.reset(this.ui.message),(0,n.renderQuickInputDescription)(L,this.ui.message,{callback:I=>{this.ui.linkOpenerDelegate(I)},disposables:this.visibleDisposables})),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,i.localize)(2,null,this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(d){if(this.ui.inputBox.showDecoration(d),d!==o.default.Ignore){const v=this.ui.inputBox.stylesForType(d);this.ui.message.style.color=v.foreground?`${v.foreground}`:"",this.ui.message.style.backgroundColor=v.background?`${v.background}`:"",this.ui.message.style.border=v.border?`1px solid ${v.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}r.noPromptMessage=(0,i.localize)(1,null);class a extends r{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new w.Emitter),this.onWillAcceptEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._keepScrollPosition=!1,this._itemActivation=t.ItemActivation.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new w.Emitter),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new w.Emitter),this.onDidTriggerItemButtonEmitter=this._register(new w.Emitter),this.onDidTriggerSeparatorButtonEmitter=this._register(new w.Emitter),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=d=>d,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event,this.onDidTriggerSeparatorButton=this.onDidTriggerSeparatorButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(d){this._quickNavigate=d,this.update()}get value(){return this._value}set value(d){this.doSetValue(d)}doSetValue(d,v){this._value!==d&&(this._value=d,v||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(d){this._ariaLabel=d,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(d){this._placeholder=d,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(d){this.ui.list.scrollTop=d}set items(d){this._items=d,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(d){this._canSelectMany=d,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(d){this._canAcceptInBackground=d}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(d){this._matchOnDescription=d,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(d){this._matchOnDetail=d,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(d){this._matchOnLabel=d,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(d){this._matchOnLabelMode=d,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(d){this._sortByLabel=d,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(d){this._keepScrollPosition=d}get itemActivation(){return this._itemActivation}set itemActivation(d){this._itemActivation=d}get activeItems(){return this._activeItems}set activeItems(d){this._activeItems=d,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(d){this._selectedItems=d,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?t.NO_KEY_MODS:this.ui.keyMods}get valueSelection(){const d=this.ui.inputBox.getSelection();if(d)return[d.start,d.end]}set valueSelection(d){this._valueSelection=d,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(d){this._customButton=d,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(d){this._customButtonLabel=d,this.update()}get customHover(){return this._customButtonHover}set customHover(d){this._customButtonHover=d,this.update()}get ok(){return this._ok}set ok(d){this._ok=d,this.update()}get hideInput(){return!!this._hideInput}set hideInput(d){this._hideInput=d,this.update()}trySelectFirst(){this.canSelectMany||this.ui.list.focus(u.QuickInputListFocus.First)}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(d=>{this.doSetValue(d,!0)})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(d=>{switch(d.keyCode){case 18:this.quickNavigate===void 0&&(C.isMacintosh?d.metaKey:d.altKey)?this.ui.list.focus(u.QuickInputListFocus.NextSeparator):this.ui.list.focus(u.QuickInputListFocus.Next),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(d,!0);break;case 16:this.quickNavigate===void 0&&(C.isMacintosh?d.metaKey:d.altKey)?this.ui.list.focus(u.QuickInputListFocus.PreviousSeparator):this.ui.list.focus(u.QuickInputListFocus.Previous),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(d,!0);break;case 12:this.ui.list.focus(u.QuickInputListFocus.NextPage),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(d,!0);break;case 11:this.ui.list.focus(u.QuickInputListFocus.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),f.EventHelper.stop(d,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(d.ctrlKey||d.metaKey)&&!d.shiftKey&&!d.altKey&&(this.ui.list.focus(u.QuickInputListFocus.First),f.EventHelper.stop(d,!0));break;case 13:(d.ctrlKey||d.metaKey)&&!d.shiftKey&&!d.altKey&&(this.ui.list.focus(u.QuickInputListFocus.Last),f.EventHelper.stop(d,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(d=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,D.equals)(d,this._activeItems,(v,_)=>v===_)||(this._activeItems=d,this.onDidChangeActiveEmitter.fire(d))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:d,event:v})=>{if(this.canSelectMany){d.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,D.equals)(d,this._selectedItems,(_,S)=>_===S)||(this._selectedItems=d,this.onDidChangeSelectionEmitter.fire(d),d.length&&this.handleAccept(f.isMouseEvent(v)&&v.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(d=>{this.canSelectMany&&(this.selectedItemsToConfirm!==this._selectedItems&&(0,D.equals)(d,this._selectedItems,(v,_)=>v===_)||(this._selectedItems=d,this.onDidChangeSelectionEmitter.fire(d)))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(d=>this.onDidTriggerItemButtonEmitter.fire(d))),this.visibleDisposables.add(this.ui.list.onSeparatorButtonTriggered(d=>this.onDidTriggerSeparatorButtonEmitter.fire(d))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(d){let v=!1;this.onWillAcceptEmitter.fire({veto:()=>v=!0}),v||this.onDidAcceptEmitter.fire({inBackground:d})}registerQuickNavigation(){return f.addDisposableListener(this.ui.container,f.EventType.KEY_UP,d=>{if(this.canSelectMany||!this._quickNavigate)return;const v=new k.StandardKeyboardEvent(d),_=v.keyCode;this._quickNavigate.keybindings.some(I=>{const T=I.getChords();return T.length>1?!1:T[0].shiftKey&&_===4?!(v.ctrlKey||v.altKey||v.metaKey):!!(T[0].altKey&&_===6||T[0].ctrlKey&&_===5||T[0].metaKey&&_===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const d=this.keepScrollPosition?this.scrollTop:0,v=!!this.description,_={title:!!this.title||!!this.step||!!this.buttons.length,description:v,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!this._hideInput,progressBar:!this._hideInput||v,visibleCount:!0,count:this.canSelectMany&&!this._hideCountBadge,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(_),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let S=this.ariaLabel;if(!S&&_.inputBox&&(S=this.placeholder||a.DEFAULT_ARIA_LABEL,this.title&&(S+=` - ${this.title}`)),this.ui.list.ariaLabel!==S&&(this.ui.list.ariaLabel=S??null),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated){this.itemsUpdated=!1;const L=this._activeItems;switch(this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case t.ItemActivation.NONE:L.length>0&&(this._activeItems=[],this.onDidChangeActiveEmitter.fire(this._activeItems)),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.SECOND:this.ui.list.focus(u.QuickInputListFocus.Second),this._itemActivation=t.ItemActivation.FIRST;break;case t.ItemActivation.LAST:this.ui.list.focus(u.QuickInputListFocus.Last),this._itemActivation=t.ItemActivation.FIRST;break;default:this.trySelectFirst();break}}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",_.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(u.QuickInputListFocus.First)),this.keepScrollPosition&&(this.scrollTop=d)}}e.QuickPick=a,a.DEFAULT_ARIA_LABEL=(0,i.localize)(3,null);class h extends r{constructor(){super(...arguments),this._value="",this.valueSelectionUpdated=!0,this._password=!1,this.onDidValueChangeEmitter=this._register(new w.Emitter),this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidChangeValue=this.onDidValueChangeEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event}get value(){return this._value}set value(d){this._value=d||"",this.update()}get placeholder(){return this._placeholder}set placeholder(d){this._placeholder=d,this.update()}get password(){return this._password}set password(d){this._password=d,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(d=>{d!==this.value&&(this._value=d,this.onDidValueChangeEmitter.fire(d))})),this.visibleDisposables.add(this.ui.onDidAccept(()=>this.onDidAcceptEmitter.fire())),this.valueSelectionUpdated=!0),super.show()}update(){if(!this.visible)return;this.ui.container.classList.remove("hidden-input");const d={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description||!!this.step,inputBox:!0,message:!0,progressBar:!0};this.ui.setVisibilities(d),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||""),this.ui.inputBox.password!==this.password&&(this.ui.inputBox.password=this.password)}}e.InputBox=h;let l=class extends m.WorkbenchHoverDelegate{constructor(d,v){super("element",!1,_=>this.getOverrideOptions(_),d,v)}getOverrideOptions(d){var v;const _=(d.content instanceof HTMLElement?(v=d.content.textContent)!==null&&v!==void 0?v:"":typeof d.content=="string"?d.content:d.content.value).includes(`
`);return{persistence:{hideOnKeyDown:!1},appearance:{showHoverHint:_,skipFadeInAnimation:!0}}}};e.QuickInputHoverDelegate=l,e.QuickInputHoverDelegate=l=Ie([ue(0,c.IConfigurationService),ue(1,m.IHoverService)],l)}),define(ie[933],ne([1,0,6,82,251,341,625,19,7,2,107,788,75,835,403,116,52,8,402]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputController=void 0;const a=f.$;let h=r=class extends b.Disposable{get container(){return this._container}constructor(g,d,v){super(),this.options=g,this.layoutService=d,this.instantiationService=v,this.enabled=!0,this.onDidAcceptEmitter=this._register(new w.Emitter),this.onDidCustomEmitter=this._register(new w.Emitter),this.onDidTriggerButtonEmitter=this._register(new w.Emitter),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new w.Emitter),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new w.Emitter),this.onHide=this.onHideEmitter.event,this.idPrefix=g.idPrefix,this._container=g.container,this.styles=g.styles,this._register(w.Event.runAndSubscribe(f.onDidRegisterWindow,({window:_,disposables:S})=>this.registerKeyModsListeners(_,S),{window:c.mainWindow,disposables:this._store})),this._register(f.onWillUnregisterWindow(_=>{this.ui&&f.getWindow(this.ui.container)===_&&(this.reparentUI(this.layoutService.mainContainer),this.layout(this.layoutService.mainContainerDimension,this.layoutService.mainContainerOffset.quickPickTop))}))}registerKeyModsListeners(g,d){const v=_=>{this.keyMods.ctrlCmd=_.ctrlKey||_.metaKey,this.keyMods.alt=_.altKey};for(const _ of[f.EventType.KEY_DOWN,f.EventType.KEY_UP,f.EventType.MOUSE_DOWN])d.add(f.addDisposableListener(g,_,v,!0))}getUI(g){if(this.ui)return g&&f.getWindow(this._container)!==f.getWindow(this.layoutService.activeContainer)&&(this.reparentUI(this.layoutService.activeContainer),this.layout(this.layoutService.activeContainerDimension,this.layoutService.activeContainerOffset.quickPickTop)),this.ui;const d=f.append(this._container,a(".quick-input-widget.show-file-icons"));d.tabIndex=-1,d.style.display="none";const v=f.createStyleSheet(d),_=f.append(d,a(".quick-input-titlebar")),S=this._register(new k.ActionBar(_,{hoverDelegate:this.options.hoverDelegate}));S.domNode.classList.add("quick-input-left-action-bar");const L=f.append(_,a(".quick-input-title")),I=this._register(new k.ActionBar(_,{hoverDelegate:this.options.hoverDelegate}));I.domNode.classList.add("quick-input-right-action-bar");const T=f.append(d,a(".quick-input-header")),N=f.append(T,a("input.quick-input-check-all"));N.type="checkbox",N.setAttribute("aria-label",(0,o.localize)(0,null)),this._register(f.addStandardDisposableListener(N,f.EventType.CHANGE,ce=>{const he=N.checked;Z.setAllVisibleChecked(he)})),this._register(f.addDisposableListener(N,f.EventType.CLICK,ce=>{(ce.x||ce.y)&&R.setFocus()}));const A=f.append(T,a(".quick-input-description")),O=f.append(T,a(".quick-input-and-message")),M=f.append(O,a(".quick-input-filter")),R=this._register(new i.QuickInputBox(M,this.styles.inputBox,this.styles.toggle));R.setAttribute("aria-describedby",`${this.idPrefix}message`);const x=f.append(M,a(".quick-input-visible-count"));x.setAttribute("aria-live","polite"),x.setAttribute("aria-atomic","true");const F=new D.CountBadge(x,{countFormat:(0,o.localize)(1,null)},this.styles.countBadge),W=f.append(M,a(".quick-input-count"));W.setAttribute("aria-live","polite");const H=new D.CountBadge(W,{countFormat:(0,o.localize)(2,null)},this.styles.countBadge),z=f.append(T,a(".quick-input-action")),j=this._register(new E.Button(z,this.styles.button));j.label=(0,o.localize)(3,null),this._register(j.onDidClick(ce=>{this.onDidAcceptEmitter.fire()}));const K=f.append(T,a(".quick-input-action")),U=this._register(new E.Button(K,{...this.styles.button,supportIcons:!0}));U.label=(0,o.localize)(4,null),this._register(U.onDidClick(ce=>{this.onDidCustomEmitter.fire()}));const G=f.append(O,a(`#${this.idPrefix}message.quick-input-message`)),te=this._register(new y.ProgressBar(d,this.styles.progressBar));te.getContainer().classList.add("quick-input-progress");const ee=f.append(d,a(".quick-input-html-widget"));ee.tabIndex=-1;const Y=f.append(d,a(".quick-input-description")),P=this.idPrefix+"list",Z=this._register(this.instantiationService.createInstance(u.QuickInputTree,d,this.options.hoverDelegate,this.options.linkOpenerDelegate,P));R.setAttribute("aria-controls",P),this._register(Z.onDidChangeFocus(()=>{var ce;R.setAttribute("aria-activedescendant",(ce=Z.getActiveDescendant())!==null&&ce!==void 0?ce:"")})),this._register(Z.onChangedAllVisibleChecked(ce=>{N.checked=ce})),this._register(Z.onChangedVisibleCount(ce=>{F.setCount(ce)})),this._register(Z.onChangedCheckedCount(ce=>{H.setCount(ce)})),this._register(Z.onLeave(()=>{setTimeout(()=>{this.controller&&(R.setFocus(),this.controller instanceof t.QuickPick&&this.controller.canSelectMany&&Z.clearFocus())},0)}));const re=f.trackFocus(d);return this._register(re),this._register(f.addDisposableListener(d,f.EventType.FOCUS,ce=>{f.isAncestor(ce.relatedTarget,d)||(this.previousFocusElement=ce.relatedTarget instanceof HTMLElement?ce.relatedTarget:void 0)},!0)),this._register(re.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(s.QuickInputHideReason.Blur),this.previousFocusElement=void 0})),this._register(f.addDisposableListener(d,f.EventType.FOCUS,ce=>{R.setFocus()})),this._register(f.addStandardDisposableListener(d,f.EventType.KEY_DOWN,ce=>{if(!f.isAncestor(ce.target,ee))switch(ce.keyCode){case 3:f.EventHelper.stop(ce,!0),this.enabled&&this.onDidAcceptEmitter.fire();break;case 9:f.EventHelper.stop(ce,!0),this.hide(s.QuickInputHideReason.Gesture);break;case 2:if(!ce.altKey&&!ce.ctrlKey&&!ce.metaKey){const he=[".quick-input-list .monaco-action-bar .always-visible",".quick-input-list-entry:hover .monaco-action-bar",".monaco-list-row.focused .monaco-action-bar"];if(d.classList.contains("show-checkboxes")?he.push("input"):he.push("input[type=text]"),this.getUI().list.isDisplayed()&&he.push(".monaco-list"),this.getUI().message&&he.push(".quick-input-message a"),this.getUI().widget){if(f.isAncestor(ce.target,this.getUI().widget))break;he.push(".quick-input-html-widget")}const pe=d.querySelectorAll(he.join(", "));ce.shiftKey&&ce.target===pe[0]?(f.EventHelper.stop(ce,!0),Z.clearFocus()):!ce.shiftKey&&f.isAncestor(ce.target,pe[pe.length-1])&&(f.EventHelper.stop(ce,!0),pe[0].focus())}break;case 10:ce.ctrlKey&&(f.EventHelper.stop(ce,!0),this.getUI().list.toggleHover());break}})),this.ui={container:d,styleSheet:v,leftActionBar:S,titleBar:_,title:L,description1:Y,description2:A,widget:ee,rightActionBar:I,checkAll:N,inputContainer:O,filterContainer:M,inputBox:R,visibleCountContainer:x,visibleCount:F,countContainer:W,count:H,okContainer:z,ok:j,message:G,customButtonContainer:K,customButton:U,list:Z,progressBar:te,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,show:ce=>this.show(ce),hide:()=>this.hide(),setVisibilities:ce=>this.setVisibilities(ce),setEnabled:ce=>this.setEnabled(ce),setContextKey:ce=>this.options.setContextKey(ce),linkOpenerDelegate:ce=>this.options.linkOpenerDelegate(ce)},this.updateStyles(),this.ui}reparentUI(g){this.ui&&(this._container=g,f.append(this._container,this.ui.container))}pick(g,d={},v=p.CancellationToken.None){return new Promise((_,S)=>{let L=A=>{var O;L=_,(O=d.onKeyMods)===null||O===void 0||O.call(d,I.keyMods),_(A)};if(v.isCancellationRequested){L(void 0);return}const I=this.createQuickPick();let T;const N=[I,I.onDidAccept(()=>{if(I.canSelectMany)L(I.selectedItems.slice()),I.hide();else{const A=I.activeItems[0];A&&(L(A),I.hide())}}),I.onDidChangeActive(A=>{const O=A[0];O&&d.onDidFocus&&d.onDidFocus(O)}),I.onDidChangeSelection(A=>{if(!I.canSelectMany){const O=A[0];O&&(L(O),I.hide())}}),I.onDidTriggerItemButton(A=>d.onDidTriggerItemButton&&d.onDidTriggerItemButton({...A,removeItem:()=>{const O=I.items.indexOf(A.item);if(O!==-1){const M=I.items.slice(),R=M.splice(O,1),x=I.activeItems.filter(W=>W!==R[0]),F=I.keepScrollPosition;I.keepScrollPosition=!0,I.items=M,x&&(I.activeItems=x),I.keepScrollPosition=F}}})),I.onDidTriggerSeparatorButton(A=>{var O;return(O=d.onDidTriggerSeparatorButton)===null||O===void 0?void 0:O.call(d,A)}),I.onDidChangeValue(A=>{T&&!A&&(I.activeItems.length!==1||I.activeItems[0]!==T)&&(I.activeItems=[T])}),v.onCancellationRequested(()=>{I.hide()}),I.onDidHide(()=>{(0,b.dispose)(N),L(void 0)})];I.title=d.title,I.canSelectMany=!!d.canPickMany,I.placeholder=d.placeHolder,I.ignoreFocusOut=!!d.ignoreFocusLost,I.matchOnDescription=!!d.matchOnDescription,I.matchOnDetail=!!d.matchOnDetail,I.matchOnLabel=d.matchOnLabel===void 0||d.matchOnLabel,I.quickNavigate=d.quickNavigate,I.hideInput=!!d.hideInput,I.contextKey=d.contextKey,I.busy=!0,Promise.all([g,d.activeItem]).then(([A,O])=>{T=O,I.busy=!1,I.items=A,I.canSelectMany&&(I.selectedItems=A.filter(M=>M.type!=="separator"&&M.picked)),T&&(I.activeItems=[T])}),I.show(),Promise.resolve(g).then(void 0,A=>{S(A),I.hide()})})}createQuickPick(){const g=this.getUI(!0);return new t.QuickPick(g)}createInputBox(){const g=this.getUI(!0);return new t.InputBox(g)}show(g){const d=this.getUI(!0);this.onShowEmitter.fire();const v=this.controller;this.controller=g,v?.didHide(),this.setEnabled(!0),d.leftActionBar.clear(),d.title.textContent="",d.description1.textContent="",d.description2.textContent="",f.reset(d.widget),d.rightActionBar.clear(),d.checkAll.checked=!1,d.inputBox.placeholder="",d.inputBox.password=!1,d.inputBox.showDecoration(C.default.Ignore),d.visibleCount.setCount(0),d.count.setCount(0),f.reset(d.message),d.progressBar.stop(),d.list.setElements([]),d.list.matchOnDescription=!1,d.list.matchOnDetail=!1,d.list.matchOnLabel=!0,d.list.sortByLabel=!0,d.ignoreFocusOut=!1,d.inputBox.toggles=void 0;const _=this.options.backKeybindingLabel();t.backButton.tooltip=_?(0,o.localize)(5,null,_):(0,o.localize)(6,null),d.container.style.display="",this.updateLayout(),d.inputBox.setFocus()}isVisible(){return!!this.ui&&this.ui.container.style.display!=="none"}setVisibilities(g){const d=this.getUI();d.title.style.display=g.title?"":"none",d.description1.style.display=g.description&&(g.inputBox||g.checkAll)?"":"none",d.description2.style.display=g.description&&!(g.inputBox||g.checkAll)?"":"none",d.checkAll.style.display=g.checkAll?"":"none",d.inputContainer.style.display=g.inputBox?"":"none",d.filterContainer.style.display=g.inputBox?"":"none",d.visibleCountContainer.style.display=g.visibleCount?"":"none",d.countContainer.style.display=g.count?"":"none",d.okContainer.style.display=g.ok?"":"none",d.customButtonContainer.style.display=g.customButton?"":"none",d.message.style.display=g.message?"":"none",d.progressBar.getContainer().style.display=g.progressBar?"":"none",d.list.display(!!g.list),d.container.classList.toggle("show-checkboxes",!!g.checkBox),d.container.classList.toggle("hidden-input",!g.inputBox&&!g.description),this.updateLayout()}setEnabled(g){if(g!==this.enabled){this.enabled=g;for(const d of this.getUI().leftActionBar.viewItems)d.action.enabled=g;for(const d of this.getUI().rightActionBar.viewItems)d.action.enabled=g;this.getUI().checkAll.disabled=!g,this.getUI().inputBox.enabled=g,this.getUI().ok.enabled=g,this.getUI().list.enabled=g}}hide(g){var d,v;const _=this.controller;if(!_)return;_.willHide(g);const S=(d=this.ui)===null||d===void 0?void 0:d.container,L=S&&!f.isAncestorOfActiveElement(S);if(this.controller=null,this.onHideEmitter.fire(),S&&(S.style.display="none"),!L){let I=this.previousFocusElement;for(;I&&!I.offsetParent;)I=(v=I.parentElement)!==null&&v!==void 0?v:void 0;I?.offsetParent?(I.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}_.didHide(g)}layout(g,d){this.dimension=g,this.titleBarOffset=d,this.updateLayout()}updateLayout(){if(this.ui&&this.isVisible()){this.ui.container.style.top=`${this.titleBarOffset}px`;const g=this.ui.container.style,d=Math.min(this.dimension.width*.62,r.MAX_WIDTH);g.width=d+"px",g.marginLeft="-"+d/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(g){this.styles=g,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:g,quickInputBackground:d,quickInputForeground:v,widgetBorder:_,widgetShadow:S}=this.styles.widget;this.ui.titleBar.style.backgroundColor=g??"",this.ui.container.style.backgroundColor=d??"",this.ui.container.style.color=v??"",this.ui.container.style.border=_?`1px solid ${_}`:"",this.ui.container.style.boxShadow=S?`0 0 8px 2px ${S}`:"",this.ui.list.style(this.styles.list);const L=[];this.styles.pickerGroup.pickerGroupBorder&&L.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.pickerGroup.pickerGroupBorder}; }`),this.styles.pickerGroup.pickerGroupForeground&&L.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.pickerGroup.pickerGroupForeground}; }`),this.styles.pickerGroup.pickerGroupForeground&&L.push(".quick-input-list .quick-input-list-separator-as-item { color: var(--vscode-descriptionForeground); }"),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(L.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&L.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&L.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&L.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&L.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&L.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),L.push("}"));const I=L.join(`
`);I!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=I)}}};e.QuickInputController=h,h.MAX_WIDTH=600,e.QuickInputController=h=r=Ie([ue(1,n.ILayoutService),ue(2,m.IInstantiationService)],h)}),define(ie[934],ne([1,0,19,7,14,8,116,61,851,106,33,23,403,933,27,6]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputService=void 0;let c=class extends o.Themable{get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get hasController(){return!!this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(w.QuickAccessController))),this._quickAccess}constructor(u,r,a,h,l){super(a),this.instantiationService=u,this.contextKeyService=r,this.layoutService=h,this.configurationService=l,this._onShow=this._register(new k.Emitter),this._onHide=this._register(new k.Emitter),this.contexts=new Map}createController(u=this.layoutService,r){const a={idPrefix:"quickInput_",container:u.activeContainer,ignoreFocusOut:()=>!1,backKeybindingLabel:()=>{},setContextKey:l=>this.setContextKey(l),linkOpenerDelegate:l=>{this.instantiationService.invokeFunction(g=>{g.get(p.IOpenerService).open(l,{allowCommands:!0,fromUserGesture:!0})})},returnFocus:()=>u.focus(),styles:this.computeStyles(),hoverDelegate:this._register(this.instantiationService.createInstance(s.QuickInputHoverDelegate))},h=this._register(this.instantiationService.createInstance(i.QuickInputController,{...a,...r}));return h.layout(u.activeContainerDimension,u.activeContainerOffset.quickPickTop),this._register(u.onDidLayoutActiveContainer(l=>{(0,n.getWindow)(u.activeContainer)===(0,n.getWindow)(h.container)&&h.layout(l,u.activeContainerOffset.quickPickTop)})),this._register(u.onDidChangeActiveContainer(()=>{h.isVisible()||h.layout(u.activeContainerDimension,u.activeContainerOffset.quickPickTop)})),this._register(h.onShow(()=>{this.resetContextKeys(),this._onShow.fire()})),this._register(h.onHide(()=>{this.resetContextKeys(),this._onHide.fire()})),h}setContextKey(u){let r;u&&(r=this.contexts.get(u),r||(r=new E.RawContextKey(u,!1).bindTo(this.contextKeyService),this.contexts.set(u,r))),!(r&&r.get())&&(this.resetContextKeys(),r?.set(!0))}resetContextKeys(){this.contexts.forEach(u=>{u.get()&&u.reset()})}pick(u,r={},a=f.CancellationToken.None){return this.controller.pick(u,r,a)}createQuickPick(){return this.controller.createQuickPick()}createInputBox(){return this.controller.createInputBox()}updateStyles(){this.hasController&&this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:{quickInputBackground:(0,C.asCssVariable)(C.quickInputBackground),quickInputForeground:(0,C.asCssVariable)(C.quickInputForeground),quickInputTitleBackground:(0,C.asCssVariable)(C.quickInputTitleBackground),widgetBorder:(0,C.asCssVariable)(C.widgetBorder),widgetShadow:(0,C.asCssVariable)(C.widgetShadow)},inputBox:b.defaultInputBoxStyles,toggle:b.defaultToggleStyles,countBadge:b.defaultCountBadgeStyles,button:b.defaultButtonStyles,progressBar:b.defaultProgressBarStyles,keybindingLabel:b.defaultKeybindingLabelStyles,list:(0,b.getListStyles)({listBackground:C.quickInputBackground,listFocusBackground:C.quickInputListFocusBackground,listFocusForeground:C.quickInputListFocusForeground,listInactiveFocusForeground:C.quickInputListFocusForeground,listInactiveSelectionIconForeground:C.quickInputListFocusIconForeground,listInactiveFocusBackground:C.quickInputListFocusBackground,listFocusOutline:C.activeContrastBorder,listInactiveFocusOutline:C.activeContrastBorder}),pickerGroup:{pickerGroupBorder:(0,C.asCssVariable)(C.pickerGroupBorder),pickerGroupForeground:(0,C.asCssVariable)(C.pickerGroupForeground)}}}};e.QuickInputService=c,e.QuickInputService=c=Ie([ue(0,D.IInstantiationService),ue(1,E.IContextKeyService),ue(2,o.IThemeService),ue(3,y.ILayoutService),ue(4,t.IConfigurationService)],c)}),define(ie[935],ne([1,0,7,16,23,19,8,14,375,36,934,122,27,516]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.QuickInputEditorWidget=e.QuickInputEditorContribution=e.StandaloneQuickInputService=void 0;let i=class extends C.QuickInputService{constructor(u,r,a,h,l,g){super(r,a,h,new w.EditorScopedLayoutService(u.getContainerDomNode(),l),g),this.host=void 0;const d=n.get(u);if(d){const v=d.widget;this.host={_serviceBrand:void 0,get mainContainer(){return v.getDomNode()},getContainer(){return v.getDomNode()},whenContainerStylesLoaded(){},get containers(){return[v.getDomNode()]},get activeContainer(){return v.getDomNode()},get mainContainerDimension(){return u.getLayoutInfo()},get activeContainerDimension(){return u.getLayoutInfo()},get onDidLayoutMainContainer(){return u.onDidLayoutChange},get onDidLayoutActiveContainer(){return u.onDidLayoutChange},get onDidLayoutContainer(){return f.Event.map(u.onDidLayoutChange,_=>({container:v.getDomNode(),dimension:_}))},get onDidChangeActiveContainer(){return f.Event.None},get onDidAddContainer(){return f.Event.None},get mainContainerOffset(){return{top:0,quickPickTop:0}},get activeContainerOffset(){return{top:0,quickPickTop:0}},focus:()=>u.focus()}}else this.host=void 0}createController(){return super.createController(this.host)}};i=Ie([ue(1,y.IInstantiationService),ue(2,p.IContextKeyService),ue(3,E.IThemeService),ue(4,b.ICodeEditorService),ue(5,s.IConfigurationService)],i);let t=class{get activeService(){const u=this.codeEditorService.getFocusedCodeEditor();if(!u)throw new Error("Quick input service needs a focused editor to work.");let r=this.mapEditorToService.get(u);if(!r){const a=r=this.instantiationService.createInstance(i,u);this.mapEditorToService.set(u,r),(0,o.createSingleCallFunction)(u.onDidDispose)(()=>{a.dispose(),this.mapEditorToService.delete(u)})}return r}get quickAccess(){return this.activeService.quickAccess}constructor(u,r){this.instantiationService=u,this.codeEditorService=r,this.mapEditorToService=new Map}pick(u,r={},a=D.CancellationToken.None){return this.activeService.pick(u,r,a)}createQuickPick(){return this.activeService.createQuickPick()}createInputBox(){return this.activeService.createInputBox()}};e.StandaloneQuickInputService=t,e.StandaloneQuickInputService=t=Ie([ue(0,y.IInstantiationService),ue(1,b.ICodeEditorService)],t);class n{static get(u){return u.getContribution(n.ID)}constructor(u){this.editor=u,this.widget=new c(this.editor)}dispose(){this.widget.dispose()}}e.QuickInputEditorContribution=n,n.ID="editor.controller.quickInput";class c{constructor(u){this.codeEditor=u,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return c.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}e.QuickInputEditorWidget=c,c.ID="editor.contrib.quickInputWidget",(0,k.registerEditorContribution)(n.ID,n,4)}),define(ie[211],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoSource=e.UndoRedoGroup=e.ResourceEditStackSnapshot=e.IUndoRedoService=void 0,e.IUndoRedoService=(0,f.createDecorator)("undoRedoService");class k{constructor(p,w){this.resource=p,this.elements=w}}e.ResourceEditStackSnapshot=k;class E{constructor(){this.id=E._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoGroup=E,E._ID=0,E.None=new E;class D{constructor(){this.id=D._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}e.UndoRedoSource=D,D._ID=0,D.None=new D}),define(ie[37],ne([1,0,13,35,10,7,2,12,22,140,224,59,9,5,24,191,43,34,42,649,913,361,319,556,557,352,650,196,682,127,211]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.AttachedViews=e.ModelDecorationOptions=e.ModelDecorationInjectedTextOptions=e.ModelDecorationMinimapOptions=e.ModelDecorationGlyphMarginOptions=e.ModelDecorationOverviewRulerOptions=e.TextModel=void 0,e.createTextBufferFactory=A,e.createTextBufferFactoryFromSnapshot=O,e.createTextBuffer=M;function A(q){const V=new _.PieceTreeTextBufferBuilder;return V.acceptChunk(q),V.finish()}function O(q){const V=new _.PieceTreeTextBufferBuilder;let $;for(;typeof($=q.read())=="string";)V.acceptChunk($);return V.finish()}function M(q,V){let $;return typeof q=="string"?$=A(q):u.isITextSnapshot(q)?$=O(q):$=q,$.create(V)}let R=0;const x=999,F=1e4;class W{constructor(V){this._source=V,this._eos=!1}read(){if(this._eos)return null;const V=[];let $=0,J=0;do{const se=this._source.read();if(se===null)return this._eos=!0,$===0?null:V.join("");if(se.length>0&&(V[$++]=se,J+=se.length),J>=64*1024)return V.join("")}while(!0)}}const H=()=>{throw new Error("Invalid change accessor")};let z=N=class extends y.Disposable{static resolveOptions(V,$){if($.detectIndentation){const J=(0,g.guessIndentation)(V,$.tabSize,$.insertSpaces);return new u.TextModelResolvedOptions({tabSize:J.tabSize,indentSize:"tabSize",insertSpaces:J.insertSpaces,trimAutoWhitespace:$.trimAutoWhitespace,defaultEOL:$.defaultEOL,bracketPairColorizationOptions:$.bracketPairColorizationOptions})}return new u.TextModelResolvedOptions($)}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(V){return this._eventEmitter.slowEvent($=>V($.contentChangedEvent))}onDidChangeContentOrInjectedText(V){return(0,y.combinedDisposable)(this._eventEmitter.fastEvent($=>V($)),this._onDidChangeInjectedText.event($=>V($)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}constructor(V,$,J,se=null,de,le,fe){super(),this._undoRedoService=de,this._languageService=le,this._languageConfigurationService=fe,this._onWillDispose=this._register(new D.Emitter),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new X(Ee=>this.handleBeforeFireDecorationsChangedEvent(Ee))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new D.Emitter),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new D.Emitter),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new D.Emitter),this._eventEmitter=this._register(new ae),this._languageSelectionListener=this._register(new y.MutableDisposable),this._deltaDecorationCallCnt=0,this._attachedViews=new oe,R++,this.id="$model"+R,this.isForSimpleWidget=J.isForSimpleWidget,typeof se>"u"||se===null?this._associatedResource=w.URI.parse("inmemory://model/"+R):this._associatedResource=se,this._attachedEditorCount=0;const{textBuffer:ve,disposable:Ce}=M(V,J.defaultEOL);this._buffer=ve,this._bufferDisposable=Ce,this._options=N.resolveOptions(this._buffer,J);const Se=typeof $=="string"?$:$.languageId;typeof $!="string"&&(this._languageSelectionListener.value=$.onDidChange(()=>this._setLanguage($.languageId))),this._bracketPairs=this._register(new r.BracketPairsTextModelPart(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new l.GuidesTextModelPart(this,this._languageConfigurationService)),this._decorationProvider=this._register(new a.ColorizedBracketPairsDecorationProvider(this)),this._tokenizationTextModelPart=new L.TokenizationTextModelPart(this._languageService,this._languageConfigurationService,this,this._bracketPairs,Se,this._attachedViews);const _e=this._buffer.getLineCount(),ke=this._buffer.getValueLengthInRange(new i.Range(1,1,_e,this._buffer.getLineLength(_e)+1),0);J.largeFileOptimizations?(this._isTooLargeForTokenization=ke>N.LARGE_FILE_SIZE_THRESHOLD||_e>N.LARGE_FILE_LINE_COUNT_THRESHOLD,this._isTooLargeForHeapOperation=ke>N.LARGE_FILE_HEAP_OPERATION_THRESHOLD):(this._isTooLargeForTokenization=!1,this._isTooLargeForHeapOperation=!1),this._isTooLargeForSyncing=ke>N._MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=p.singleLetterHash(R),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new te,this._commandManager=new h.EditStack(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()})),this._languageService.requestRichLanguageFeatures(Se)}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const V=new v.PieceTreeTextBuffer([],"",`
`,!1,!1,!0,!0);V.dispose(),this._buffer=V,this._bufferDisposable=y.Disposable.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(V,$){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent($),this._bracketPairs.handleDidChangeContent($),this._eventEmitter.fire(new I.InternalModelContentChangeEvent(V,$)))}setValue(V){if(this._assertNotDisposed(),V==null)throw(0,E.illegalArgument)();const{textBuffer:$,disposable:J}=M(V,this._options.defaultEOL);this._setValueFromTextBuffer($,J)}_createContentChanged2(V,$,J,se,de,le,fe,ve){return{changes:[{range:V,rangeOffset:$,rangeLength:J,text:se}],eol:this._buffer.getEOL(),isEolChange:ve,versionId:this.getVersionId(),isUndoing:de,isRedoing:le,isFlush:fe}}_setValueFromTextBuffer(V,$){this._assertNotDisposed();const J=this.getFullModelRange(),se=this.getValueLengthInRange(J),de=this.getLineCount(),le=this.getLineMaxColumn(de);this._buffer=V,this._bufferDisposable.dispose(),this._bufferDisposable=$,this._increaseVersionId(),this._decorations=Object.create(null),this._decorationsTree=new te,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawFlush],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,le),0,se,this.getValue(),!1,!1,!0,!1))}setEOL(V){this._assertNotDisposed();const $=V===1?`\r
`:`
`;if(this._buffer.getEOL()===$)return;const J=this.getFullModelRange(),se=this.getValueLengthInRange(J),de=this.getLineCount(),le=this.getLineMaxColumn(de);this._onBeforeEOLChange(),this._buffer.setEOL($),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new I.ModelRawContentChangedEvent([new I.ModelRawEOLChanged],this._versionId,!1,!1),this._createContentChanged2(new i.Range(1,1,de,le),0,se,this.getValue(),!1,!1,!1,!0))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const V=this.getVersionId(),$=this._decorationsTree.collectNodesPostOrder();for(let J=0,se=$.length;J<se;J++){const de=$[J],le=de.range,fe=de.cachedAbsoluteStart-de.start,ve=this._buffer.getOffsetAt(le.startLineNumber,le.startColumn),Ce=this._buffer.getOffsetAt(le.endLineNumber,le.endColumn);de.cachedAbsoluteStart=ve,de.cachedAbsoluteEnd=Ce,de.cachedVersionId=V,de.start=ve-fe,de.end=Ce-fe,(0,d.recomputeMaxEnd)(de)}}onBeforeAttached(){return this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.attachView()}onBeforeDetached(V){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0)),this._attachedViews.detachView(V)}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isTooLargeForHeapOperation(){return this._isTooLargeForHeapOperation}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let V=0,$=0;const J=this._buffer.getLineCount();for(let se=1;se<=J;se++){const de=this._buffer.getLineLength(se);de>=F?$+=de:V+=de}return $>V}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(V){this._assertNotDisposed();const $=typeof V.tabSize<"u"?V.tabSize:this._options.tabSize,J=typeof V.indentSize<"u"?V.indentSize:this._options.originalIndentSize,se=typeof V.insertSpaces<"u"?V.insertSpaces:this._options.insertSpaces,de=typeof V.trimAutoWhitespace<"u"?V.trimAutoWhitespace:this._options.trimAutoWhitespace,le=typeof V.bracketColorizationOptions<"u"?V.bracketColorizationOptions:this._options.bracketPairColorizationOptions,fe=new u.TextModelResolvedOptions({tabSize:$,indentSize:J,insertSpaces:se,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:de,bracketPairColorizationOptions:le});if(this._options.equals(fe))return;const ve=this._options.createChangeEvent(fe);this._options=fe,this._bracketPairs.handleDidChangeOptions(ve),this._decorationProvider.handleDidChangeOptions(ve),this._onDidChangeOptions.fire(ve)}detectIndentation(V,$){this._assertNotDisposed();const J=(0,g.guessIndentation)(this._buffer,$,V);this.updateOptions({insertSpaces:J.insertSpaces,tabSize:J.tabSize,indentSize:J.tabSize})}normalizeIndentation(V){return this._assertNotDisposed(),(0,C.normalizeIndentation)(V,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(V=null){const $=this.findMatches(p.UNUSUAL_LINE_TERMINATORS.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(V,$.map(J=>({range:J.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(V){this._assertNotDisposed();const $=this._validatePosition(V.lineNumber,V.column,0);return this._buffer.getOffsetAt($.lineNumber,$.column)}getPositionAt(V){this._assertNotDisposed();const $=Math.min(this._buffer.getLength(),Math.max(0,V));return this._buffer.getPositionAt($)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(V){this._versionId=V}_overwriteAlternativeVersionId(V){this._alternativeVersionId=V}_overwriteInitialUndoRedoSnapshot(V){this._initialUndoRedoSnapshot=V}getValue(V,$=!1){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.BugIndicatingError("Operation would exceed heap memory limits");const J=this.getFullModelRange(),se=this.getValueInRange(J,V);return $?this._buffer.getBOM()+se:se}createSnapshot(V=!1){return new W(this._buffer.createSnapshot(V))}getValueLength(V,$=!1){this._assertNotDisposed();const J=this.getFullModelRange(),se=this.getValueLengthInRange(J,V);return $?this._buffer.getBOM().length+se:se}getValueInRange(V,$=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(V),$)}getValueLengthInRange(V,$=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(V),$)}getCharacterCountInRange(V,$=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(V),$)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineContent(V)}getLineLength(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(V)}getLinesContent(){if(this._assertNotDisposed(),this.isTooLargeForHeapOperation())throw new E.BugIndicatingError("Operation would exceed heap memory limits");return this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(V){return this._assertNotDisposed(),1}getLineMaxColumn(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLength(V)+1}getLineFirstNonWhitespaceColumn(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(V)}getLineLastNonWhitespaceColumn(V){if(this._assertNotDisposed(),V<1||V>this.getLineCount())throw new E.BugIndicatingError("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(V)}_validateRangeRelaxedNoAllocations(V){const $=this._buffer.getLineCount(),J=V.startLineNumber,se=V.startColumn;let de=Math.floor(typeof J=="number"&&!isNaN(J)?J:1),le=Math.floor(typeof se=="number"&&!isNaN(se)?se:1);if(de<1)de=1,le=1;else if(de>$)de=$,le=this.getLineMaxColumn(de);else if(le<=1)le=1;else{const _e=this.getLineMaxColumn(de);le>=_e&&(le=_e)}const fe=V.endLineNumber,ve=V.endColumn;let Ce=Math.floor(typeof fe=="number"&&!isNaN(fe)?fe:1),Se=Math.floor(typeof ve=="number"&&!isNaN(ve)?ve:1);if(Ce<1)Ce=1,Se=1;else if(Ce>$)Ce=$,Se=this.getLineMaxColumn(Ce);else if(Se<=1)Se=1;else{const _e=this.getLineMaxColumn(Ce);Se>=_e&&(Se=_e)}return J===de&&se===le&&fe===Ce&&ve===Se&&V instanceof i.Range&&!(V instanceof t.Selection)?V:new i.Range(de,le,Ce,Se)}_isValidPosition(V,$,J){if(typeof V!="number"||typeof $!="number"||isNaN(V)||isNaN($)||V<1||$<1||(V|0)!==V||($|0)!==$)return!1;const se=this._buffer.getLineCount();if(V>se)return!1;if($===1)return!0;const de=this.getLineMaxColumn(V);if($>de)return!1;if(J===1){const le=this._buffer.getLineCharCode(V,$-2);if(p.isHighSurrogate(le))return!1}return!0}_validatePosition(V,$,J){const se=Math.floor(typeof V=="number"&&!isNaN(V)?V:1),de=Math.floor(typeof $=="number"&&!isNaN($)?$:1),le=this._buffer.getLineCount();if(se<1)return new s.Position(1,1);if(se>le)return new s.Position(le,this.getLineMaxColumn(le));if(de<=1)return new s.Position(se,1);const fe=this.getLineMaxColumn(se);if(de>=fe)return new s.Position(se,fe);if(J===1){const ve=this._buffer.getLineCharCode(se,de-2);if(p.isHighSurrogate(ve))return new s.Position(se,de-1)}return new s.Position(se,de)}validatePosition(V){return this._assertNotDisposed(),V instanceof s.Position&&this._isValidPosition(V.lineNumber,V.column,1)?V:this._validatePosition(V.lineNumber,V.column,1)}_isValidRange(V,$){const J=V.startLineNumber,se=V.startColumn,de=V.endLineNumber,le=V.endColumn;if(!this._isValidPosition(J,se,0)||!this._isValidPosition(de,le,0))return!1;if($===1){const fe=se>1?this._buffer.getLineCharCode(J,se-2):0,ve=le>1&&le<=this._buffer.getLineLength(de)?this._buffer.getLineCharCode(de,le-2):0,Ce=p.isHighSurrogate(fe),Se=p.isHighSurrogate(ve);return!Ce&&!Se}return!0}validateRange(V){if(this._assertNotDisposed(),V instanceof i.Range&&!(V instanceof t.Selection)&&this._isValidRange(V,1))return V;const J=this._validatePosition(V.startLineNumber,V.startColumn,0),se=this._validatePosition(V.endLineNumber,V.endColumn,0),de=J.lineNumber,le=J.column,fe=se.lineNumber,ve=se.column;{const Ce=le>1?this._buffer.getLineCharCode(de,le-2):0,Se=ve>1&&ve<=this._buffer.getLineLength(fe)?this._buffer.getLineCharCode(fe,ve-2):0,_e=p.isHighSurrogate(Ce),ke=p.isHighSurrogate(Se);return!_e&&!ke?new i.Range(de,le,fe,ve):de===fe&&le===ve?new i.Range(de,le-1,fe,ve-1):_e&&ke?new i.Range(de,le-1,fe,ve+1):_e?new i.Range(de,le-1,fe,ve):new i.Range(de,le,fe,ve+1)}return new i.Range(de,le,fe,ve)}modifyPosition(V,$){this._assertNotDisposed();const J=this.getOffsetAt(V)+$;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,J)))}getFullModelRange(){this._assertNotDisposed();const V=this.getLineCount();return new i.Range(1,1,V,this.getLineMaxColumn(V))}findMatchesLineByLine(V,$,J,se){return this._buffer.findMatchesLineByLine(V,$,J,se)}findMatches(V,$,J,se,de,le,fe=x){this._assertNotDisposed();let ve=null;$!==null&&(Array.isArray($)||($=[$]),$.every(_e=>i.Range.isIRange(_e))&&(ve=$.map(_e=>this.validateRange(_e)))),ve===null&&(ve=[this.getFullModelRange()]),ve=ve.sort((_e,ke)=>_e.startLineNumber-ke.startLineNumber||_e.startColumn-ke.startColumn);const Ce=[];Ce.push(ve.reduce((_e,ke)=>i.Range.areIntersecting(_e,ke)?_e.plusRange(ke):(Ce.push(_e),ke)));let Se;if(!J&&V.indexOf(`
`)<0){const ke=new S.SearchParams(V,J,se,de).parseSearchRequest();if(!ke)return[];Se=Ee=>this.findMatchesLineByLine(Ee,ke,le,fe)}else Se=_e=>S.TextModelSearch.findMatches(this,new S.SearchParams(V,J,se,de),_e,le,fe);return Ce.map(Se).reduce((_e,ke)=>_e.concat(ke),[])}findNextMatch(V,$,J,se,de,le){this._assertNotDisposed();const fe=this.validatePosition($);if(!J&&V.indexOf(`
`)<0){const Ce=new S.SearchParams(V,J,se,de).parseSearchRequest();if(!Ce)return null;const Se=this.getLineCount();let _e=new i.Range(fe.lineNumber,fe.column,Se,this.getLineMaxColumn(Se)),ke=this.findMatchesLineByLine(_e,Ce,le,1);return S.TextModelSearch.findNextMatch(this,new S.SearchParams(V,J,se,de),fe,le),ke.length>0||(_e=new i.Range(1,1,fe.lineNumber,this.getLineMaxColumn(fe.lineNumber)),ke=this.findMatchesLineByLine(_e,Ce,le,1),ke.length>0)?ke[0]:null}return S.TextModelSearch.findNextMatch(this,new S.SearchParams(V,J,se,de),fe,le)}findPreviousMatch(V,$,J,se,de,le){this._assertNotDisposed();const fe=this.validatePosition($);return S.TextModelSearch.findPreviousMatch(this,new S.SearchParams(V,J,se,de),fe,le)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(V){if((this.getEOL()===`
`?0:1)!==V)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(V)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(V){return V instanceof u.ValidAnnotatedEditOperation?V:new u.ValidAnnotatedEditOperation(V.identifier||null,this.validateRange(V.range),V.text,V.forceMoveMarkers||!1,V.isAutoWhitespaceEdit||!1,V._isTracked||!1)}_validateEditOperations(V){const $=[];for(let J=0,se=V.length;J<se;J++)$[J]=this._validateEditOperation(V[J]);return $}pushEditOperations(V,$,J,se){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(V,this._validateEditOperations($),J,se)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(V,$,J,se){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const de=$.map(fe=>({range:this.validateRange(fe.range),text:fe.text}));let le=!0;if(V)for(let fe=0,ve=V.length;fe<ve;fe++){const Ce=V[fe];let Se=!1;for(let _e=0,ke=de.length;_e<ke;_e++){const Ee=de[_e].range,Ae=Ee.startLineNumber>Ce.endLineNumber,xe=Ce.startLineNumber>Ee.endLineNumber;if(!Ae&&!xe){Se=!0;break}}if(!Se){le=!1;break}}if(le)for(let fe=0,ve=this._trimAutoWhitespaceLines.length;fe<ve;fe++){const Ce=this._trimAutoWhitespaceLines[fe],Se=this.getLineMaxColumn(Ce);let _e=!0;for(let ke=0,Ee=de.length;ke<Ee;ke++){const Ae=de[ke].range,xe=de[ke].text;if(!(Ce<Ae.startLineNumber||Ce>Ae.endLineNumber)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===Se&&Ae.isEmpty()&&xe&&xe.length>0&&xe.charAt(0)===`
`)&&!(Ce===Ae.startLineNumber&&Ae.startColumn===1&&Ae.isEmpty()&&xe&&xe.length>0&&xe.charAt(xe.length-1)===`
`)){_e=!1;break}}if(_e){const ke=new i.Range(Ce,1,Ce,Se);$.push(new u.ValidAnnotatedEditOperation(null,ke,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(V,$,J,se)}_applyUndo(V,$,J,se){const de=V.map(le=>{const fe=this.getPositionAt(le.newPosition),ve=this.getPositionAt(le.newEnd);return{range:new i.Range(fe.lineNumber,fe.column,ve.lineNumber,ve.column),text:le.oldText}});this._applyUndoRedoEdits(de,$,!0,!1,J,se)}_applyRedo(V,$,J,se){const de=V.map(le=>{const fe=this.getPositionAt(le.oldPosition),ve=this.getPositionAt(le.oldEnd);return{range:new i.Range(fe.lineNumber,fe.column,ve.lineNumber,ve.column),text:le.newText}});this._applyUndoRedoEdits(de,$,!1,!0,J,se)}_applyUndoRedoEdits(V,$,J,se,de,le){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=J,this._isRedoing=se,this.applyEdits(V,!1),this.setEOL($),this._overwriteAlternativeVersionId(de)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(le),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(V,$=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const J=this._validateEditOperations(V);return this._doApplyEdits(J,$)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(V,$){const J=this._buffer.getLineCount(),se=this._buffer.applyEdits(V,this._options.trimAutoWhitespace,$),de=this._buffer.getLineCount(),le=se.changes;if(this._trimAutoWhitespaceLines=se.trimAutoWhitespaceLineNumbers,le.length!==0){for(let Ce=0,Se=le.length;Ce<Se;Ce++){const _e=le[Ce];this._decorationsTree.acceptReplace(_e.rangeOffset,_e.rangeLength,_e.text.length,_e.forceMoveMarkers)}const fe=[];this._increaseVersionId();let ve=J;for(let Ce=0,Se=le.length;Ce<Se;Ce++){const _e=le[Ce],[ke]=(0,b.countEOL)(_e.text);this._onDidChangeDecorations.fire();const Ee=_e.range.startLineNumber,Ae=_e.range.endLineNumber,xe=Ae-Ee,We=ke,Be=Math.min(xe,We),De=We-xe,Ne=de-ve-De+Ee,me=Ne,be=Ne+We,Re=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new s.Position(me,1)),this.getOffsetAt(new s.Position(be,this.getLineMaxColumn(be))),0),He=I.LineInjectedText.fromDecorations(Re),qe=new f.ArrayQueue(He);for(let Ue=Be;Ue>=0;Ue--){const Ze=Ee+Ue,et=Ne+Ue;qe.takeFromEndWhile(at=>at.lineNumber>et);const nt=qe.takeFromEndWhile(at=>at.lineNumber===et);fe.push(new I.ModelRawLineChanged(Ze,this.getLineContent(et),nt))}if(Be<xe){const Ue=Ee+Be;fe.push(new I.ModelRawLinesDeleted(Ue+1,Ae))}if(Be<We){const Ue=new f.ArrayQueue(He),Ze=Ee+Be,et=We-Be,nt=de-ve-et+Ze+1,at=[],ft=[];for(let tt=0;tt<et;tt++){const ht=nt+tt;ft[tt]=this.getLineContent(ht),Ue.takeWhile(ot=>ot.lineNumber<ht),at[tt]=Ue.takeWhile(ot=>ot.lineNumber===ht)}fe.push(new I.ModelRawLinesInserted(Ze+1,Ee+We,ft,at))}ve+=De}this._emitContentChangedEvent(new I.ModelRawContentChangedEvent(fe,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:le,eol:this._buffer.getEOL(),isEolChange:!1,versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return se.reverseEdits===null?void 0:se.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(V){if(V===null||V.size===0)return;const J=Array.from(V).map(se=>new I.ModelRawLineChanged(se,this.getLineContent(se),this._getInjectedTextInLine(se)));this._onDidChangeInjectedText.fire(new I.ModelInjectedTextChangedEvent(J))}changeDecorations(V,$=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations($,V)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(V,$){const J={addDecoration:(de,le)=>this._deltaDecorationsImpl(V,[],[{range:de,options:le}])[0],changeDecoration:(de,le)=>{this._changeDecorationImpl(de,le)},changeDecorationOptions:(de,le)=>{this._changeDecorationOptionsImpl(de,ge(le))},removeDecoration:de=>{this._deltaDecorationsImpl(V,[de],[])},deltaDecorations:(de,le)=>de.length===0&&le.length===0?[]:this._deltaDecorationsImpl(V,de,le)};let se=null;try{se=$(J)}catch(de){(0,E.onUnexpectedError)(de)}return J.addDecoration=H,J.changeDecoration=H,J.changeDecorationOptions=H,J.removeDecoration=H,J.deltaDecorations=H,se}deltaDecorations(V,$,J=0){if(this._assertNotDisposed(),V||(V=[]),V.length===0&&$.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,E.onUnexpectedError)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(J,V,$)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(V){return this.getDecorationRange(V)}_setTrackedRange(V,$,J){const se=V?this._decorations[V]:null;if(!se)return $?this._deltaDecorationsImpl(0,[],[{range:$,options:pe[J]}],!0)[0]:null;if(!$)return this._decorationsTree.delete(se),delete this._decorations[se.id],null;const de=this._validateRangeRelaxedNoAllocations($),le=this._buffer.getOffsetAt(de.startLineNumber,de.startColumn),fe=this._buffer.getOffsetAt(de.endLineNumber,de.endColumn);return this._decorationsTree.delete(se),se.reset(this.getVersionId(),le,fe,de),se.setOptions(pe[J]),this._decorationsTree.insert(se),se.id}removeAllDecorationsWithOwnerId(V){if(this._isDisposed)return;const $=this._decorationsTree.collectNodesFromOwner(V);for(let J=0,se=$.length;J<se;J++){const de=$[J];this._decorationsTree.delete(de),delete this._decorations[de.id]}}getDecorationOptions(V){const $=this._decorations[V];return $?$.options:null}getDecorationRange(V){const $=this._decorations[V];return $?this._decorationsTree.getNodeRange(this,$):null}getLineDecorations(V,$=0,J=!1){return V<1||V>this.getLineCount()?[]:this.getLinesDecorations(V,V,$,J)}getLinesDecorations(V,$,J=0,se=!1,de=!1){const le=this.getLineCount(),fe=Math.min(le,Math.max(1,V)),ve=Math.min(le,Math.max(1,$)),Ce=this.getLineMaxColumn(ve),Se=new i.Range(fe,1,ve,Ce),_e=this._getDecorationsInRange(Se,J,se,de);return(0,f.pushMany)(_e,this._decorationProvider.getDecorationsInRange(Se,J,se)),_e}getDecorationsInRange(V,$=0,J=!1,se=!1,de=!1){const le=this.validateRange(V),fe=this._getDecorationsInRange(le,$,J,de);return(0,f.pushMany)(fe,this._decorationProvider.getDecorationsInRange(le,$,J,se)),fe}getOverviewRulerDecorations(V=0,$=!1){return this._decorationsTree.getAll(this,V,$,!0,!1)}getInjectedTextDecorations(V=0){return this._decorationsTree.getAllInjectedText(this,V)}_getInjectedTextInLine(V){const $=this._buffer.getOffsetAt(V,1),J=$+this._buffer.getLineLength(V),se=this._decorationsTree.getInjectedTextInInterval(this,$,J,0);return I.LineInjectedText.fromDecorations(se).filter(de=>de.lineNumber===V)}getAllDecorations(V=0,$=!1){let J=this._decorationsTree.getAll(this,V,$,!1,!1);return J=J.concat(this._decorationProvider.getAllDecorations(V,$)),J}getAllMarginDecorations(V=0){return this._decorationsTree.getAll(this,V,!1,!1,!0)}_getDecorationsInRange(V,$,J,se){const de=this._buffer.getOffsetAt(V.startLineNumber,V.startColumn),le=this._buffer.getOffsetAt(V.endLineNumber,V.endColumn);return this._decorationsTree.getAllInInterval(this,de,le,$,J,se)}getRangeAt(V,$){return this._buffer.getRangeAt(V,$-V)}_changeDecorationImpl(V,$){const J=this._decorations[V];if(!J)return;if(J.options.after){const fe=this.getDecorationRange(V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(J.options.before){const fe=this.getDecorationRange(V);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}const se=this._validateRangeRelaxedNoAllocations($),de=this._buffer.getOffsetAt(se.startLineNumber,se.startColumn),le=this._buffer.getOffsetAt(se.endLineNumber,se.endColumn);this._decorationsTree.delete(J),J.reset(this.getVersionId(),de,le,se),this._decorationsTree.insert(J),this._onDidChangeDecorations.checkAffectedAndFire(J.options),J.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.endLineNumber),J.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(se.startLineNumber)}_changeDecorationOptionsImpl(V,$){const J=this._decorations[V];if(!J)return;const se=!!(J.options.overviewRuler&&J.options.overviewRuler.color),de=!!($.overviewRuler&&$.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(J.options),this._onDidChangeDecorations.checkAffectedAndFire($),J.options.after||$.after){const ve=this._decorationsTree.getNodeRange(this,J);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.endLineNumber)}if(J.options.before||$.before){const ve=this._decorationsTree.getNodeRange(this,J);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ve.startLineNumber)}const le=se!==de,fe=U($)!==G(J);le||fe?(this._decorationsTree.delete(J),J.setOptions($),this._decorationsTree.insert(J)):J.setOptions($)}_deltaDecorationsImpl(V,$,J,se=!1){const de=this.getVersionId(),le=$.length;let fe=0;const ve=J.length;let Ce=0;this._onDidChangeDecorations.beginDeferredEmit();try{const Se=new Array(ve);for(;fe<le||Ce<ve;){let _e=null;if(fe<le){do _e=this._decorations[$[fe++]];while(!_e&&fe<le);if(_e){if(_e.options.after){const ke=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.endLineNumber)}if(_e.options.before){const ke=this._decorationsTree.getNodeRange(this,_e);this._onDidChangeDecorations.recordLineAffectedByInjectedText(ke.startLineNumber)}this._decorationsTree.delete(_e),se||this._onDidChangeDecorations.checkAffectedAndFire(_e.options)}}if(Ce<ve){if(!_e){const Be=++this._lastDecorationId,De=`${this._instanceId};${Be}`;_e=new d.IntervalNode(De,0,0),this._decorations[De]=_e}const ke=J[Ce],Ee=this._validateRangeRelaxedNoAllocations(ke.range),Ae=ge(ke.options),xe=this._buffer.getOffsetAt(Ee.startLineNumber,Ee.startColumn),We=this._buffer.getOffsetAt(Ee.endLineNumber,Ee.endColumn);_e.ownerId=V,_e.reset(de,xe,We,Ee),_e.setOptions(Ae),_e.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.endLineNumber),_e.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ee.startLineNumber),se||this._onDidChangeDecorations.checkAffectedAndFire(Ae),this._decorationsTree.insert(_e),Se[Ce]=_e.id,Ce++}else _e&&delete this._decorations[_e.id]}return Se}finally{this._onDidChangeDecorations.endDeferredEmit()}}getLanguageId(){return this.tokenization.getLanguageId()}setLanguage(V,$){typeof V=="string"?(this._languageSelectionListener.clear(),this._setLanguage(V,$)):(this._languageSelectionListener.value=V.onDidChange(()=>this._setLanguage(V.languageId,$)),this._setLanguage(V.languageId,$))}_setLanguage(V,$){this.tokenization.setLanguageId(V,$),this._languageService.requestRichLanguageFeatures(V)}getLanguageIdAtPosition(V,$){return this.tokenization.getLanguageIdAtPosition(V,$)}getWordAtPosition(V){return this._tokenizationTextModelPart.getWordAtPosition(V)}getWordUntilPosition(V){return this._tokenizationTextModelPart.getWordUntilPosition(V)}normalizePosition(V,$){return V}getLineIndentColumn(V){return j(this.getLineContent(V))+1}};e.TextModel=z,z._MODEL_SYNC_LIMIT=50*1024*1024,z.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,z.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,z.LARGE_FILE_HEAP_OPERATION_THRESHOLD=256*1024*1024,z.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:n.EDITOR_MODEL_DEFAULTS.tabSize,indentSize:n.EDITOR_MODEL_DEFAULTS.indentSize,insertSpaces:n.EDITOR_MODEL_DEFAULTS.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:n.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace,largeFileOptimizations:n.EDITOR_MODEL_DEFAULTS.largeFileOptimizations,bracketPairColorizationOptions:n.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions},e.TextModel=z=N=Ie([ue(4,T.IUndoRedoService),ue(5,c.ILanguageService),ue(6,m.ILanguageConfigurationService)],z);function j(q){let V=0;for(const $ of q)if($===" "||$==="	")V++;else break;return V}function K(q){return!!(q.options.overviewRuler&&q.options.overviewRuler.color)}function U(q){return!!q.after||!!q.before}function G(q){return!!q.options.after||!!q.options.before}class te{constructor(){this._decorationsTree0=new d.IntervalTree,this._decorationsTree1=new d.IntervalTree,this._injectedTextDecorationsTree=new d.IntervalTree}ensureAllNodesHaveRanges(V){this.getAll(V,0,!1,!1,!1)}_ensureNodesHaveRanges(V,$){for(const J of $)J.range===null&&(J.range=V.getRangeAt(J.cachedAbsoluteStart,J.cachedAbsoluteEnd));return $}getAllInInterval(V,$,J,se,de,le){const fe=V.getVersionId(),ve=this._intervalSearch($,J,se,de,fe,le);return this._ensureNodesHaveRanges(V,ve)}_intervalSearch(V,$,J,se,de,le){const fe=this._decorationsTree0.intervalSearch(V,$,J,se,de,le),ve=this._decorationsTree1.intervalSearch(V,$,J,se,de,le),Ce=this._injectedTextDecorationsTree.intervalSearch(V,$,J,se,de,le);return fe.concat(ve).concat(Ce)}getInjectedTextInInterval(V,$,J,se){const de=V.getVersionId(),le=this._injectedTextDecorationsTree.intervalSearch($,J,se,!1,de,!1);return this._ensureNodesHaveRanges(V,le).filter(fe=>fe.options.showIfCollapsed||!fe.range.isEmpty())}getAllInjectedText(V,$){const J=V.getVersionId(),se=this._injectedTextDecorationsTree.search($,!1,J,!1);return this._ensureNodesHaveRanges(V,se).filter(de=>de.options.showIfCollapsed||!de.range.isEmpty())}getAll(V,$,J,se,de){const le=V.getVersionId(),fe=this._search($,J,se,le,de);return this._ensureNodesHaveRanges(V,fe)}_search(V,$,J,se,de){if(J)return this._decorationsTree1.search(V,$,se,de);{const le=this._decorationsTree0.search(V,$,se,de),fe=this._decorationsTree1.search(V,$,se,de),ve=this._injectedTextDecorationsTree.search(V,$,se,de);return le.concat(fe).concat(ve)}}collectNodesFromOwner(V){const $=this._decorationsTree0.collectNodesFromOwner(V),J=this._decorationsTree1.collectNodesFromOwner(V),se=this._injectedTextDecorationsTree.collectNodesFromOwner(V);return $.concat(J).concat(se)}collectNodesPostOrder(){const V=this._decorationsTree0.collectNodesPostOrder(),$=this._decorationsTree1.collectNodesPostOrder(),J=this._injectedTextDecorationsTree.collectNodesPostOrder();return V.concat($).concat(J)}insert(V){G(V)?this._injectedTextDecorationsTree.insert(V):K(V)?this._decorationsTree1.insert(V):this._decorationsTree0.insert(V)}delete(V){G(V)?this._injectedTextDecorationsTree.delete(V):K(V)?this._decorationsTree1.delete(V):this._decorationsTree0.delete(V)}getNodeRange(V,$){const J=V.getVersionId();return $.cachedVersionId!==J&&this._resolveNode($,J),$.range===null&&($.range=V.getRangeAt($.cachedAbsoluteStart,$.cachedAbsoluteEnd)),$.range}_resolveNode(V,$){G(V)?this._injectedTextDecorationsTree.resolveNode(V,$):K(V)?this._decorationsTree1.resolveNode(V,$):this._decorationsTree0.resolveNode(V,$)}acceptReplace(V,$,J,se){this._decorationsTree0.acceptReplace(V,$,J,se),this._decorationsTree1.acceptReplace(V,$,J,se),this._injectedTextDecorationsTree.acceptReplace(V,$,J,se)}}function ee(q){return q.replace(/[^a-z0-9\-_]/gi," ")}class Y{constructor(V){this.color=V.color||"",this.darkColor=V.darkColor||""}}class P extends Y{constructor(V){super(V),this._resolvedColor=null,this.position=typeof V.position=="number"?V.position:u.OverviewRulerLane.Center}getColor(V){return this._resolvedColor||(V.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,V):this._resolvedColor=this._resolveColor(this.color,V)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(V,$){if(typeof V=="string")return V;const J=V?$.getColor(V.id):null;return J?J.toString():""}}e.ModelDecorationOverviewRulerOptions=P;class Z{constructor(V){var $;this.position=($=V?.position)!==null&&$!==void 0?$:u.GlyphMarginLane.Center,this.persistLane=V?.persistLane}}e.ModelDecorationGlyphMarginOptions=Z;class re extends Y{constructor(V){var $,J;super(V),this.position=V.position,this.sectionHeaderStyle=($=V.sectionHeaderStyle)!==null&&$!==void 0?$:null,this.sectionHeaderText=(J=V.sectionHeaderText)!==null&&J!==void 0?J:null}getColor(V){return this._resolvedColor||(V.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,V):this._resolvedColor=this._resolveColor(this.color,V)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(V,$){return typeof V=="string"?k.Color.fromHex(V):$.getColor(V.id)}}e.ModelDecorationMinimapOptions=re;class ce{static from(V){return V instanceof ce?V:new ce(V)}constructor(V){this.content=V.content||"",this.inlineClassName=V.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=V.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=V.attachedData||null,this.cursorStops=V.cursorStops||null}}e.ModelDecorationInjectedTextOptions=ce;class he{static register(V){return new he(V)}static createDynamic(V){return new he(V)}constructor(V){var $,J,se,de,le,fe;this.description=V.description,this.blockClassName=V.blockClassName?ee(V.blockClassName):null,this.blockDoesNotCollapse=($=V.blockDoesNotCollapse)!==null&&$!==void 0?$:null,this.blockIsAfterEnd=(J=V.blockIsAfterEnd)!==null&&J!==void 0?J:null,this.blockPadding=(se=V.blockPadding)!==null&&se!==void 0?se:null,this.stickiness=V.stickiness||0,this.zIndex=V.zIndex||0,this.className=V.className?ee(V.className):null,this.shouldFillLineOnLineBreak=(de=V.shouldFillLineOnLineBreak)!==null&&de!==void 0?de:null,this.hoverMessage=V.hoverMessage||null,this.glyphMarginHoverMessage=V.glyphMarginHoverMessage||null,this.lineNumberHoverMessage=V.lineNumberHoverMessage||null,this.isWholeLine=V.isWholeLine||!1,this.showIfCollapsed=V.showIfCollapsed||!1,this.collapseOnReplaceEdit=V.collapseOnReplaceEdit||!1,this.overviewRuler=V.overviewRuler?new P(V.overviewRuler):null,this.minimap=V.minimap?new re(V.minimap):null,this.glyphMargin=V.glyphMarginClassName?new Z(V.glyphMargin):null,this.glyphMarginClassName=V.glyphMarginClassName?ee(V.glyphMarginClassName):null,this.linesDecorationsClassName=V.linesDecorationsClassName?ee(V.linesDecorationsClassName):null,this.lineNumberClassName=V.lineNumberClassName?ee(V.lineNumberClassName):null,this.linesDecorationsTooltip=V.linesDecorationsTooltip?p.htmlAttributeEncodeValue(V.linesDecorationsTooltip):null,this.firstLineDecorationClassName=V.firstLineDecorationClassName?ee(V.firstLineDecorationClassName):null,this.marginClassName=V.marginClassName?ee(V.marginClassName):null,this.inlineClassName=V.inlineClassName?ee(V.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=V.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=V.beforeContentClassName?ee(V.beforeContentClassName):null,this.afterContentClassName=V.afterContentClassName?ee(V.afterContentClassName):null,this.after=V.after?ce.from(V.after):null,this.before=V.before?ce.from(V.before):null,this.hideInCommentTokens=(le=V.hideInCommentTokens)!==null&&le!==void 0?le:!1,this.hideInStringTokens=(fe=V.hideInStringTokens)!==null&&fe!==void 0?fe:!1}}e.ModelDecorationOptions=he,he.EMPTY=he.register({description:"empty"});const pe=[he.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),he.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),he.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),he.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ge(q){return q instanceof he?q:he.createDynamic(q)}class X extends y.Disposable{constructor(V){super(),this.handleBeforeFire=V,this._actual=this._register(new D.Emitter),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._affectsLineNumber=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var V;this._deferredCnt--,this._deferredCnt===0&&(this._shouldFireDeferred&&this.doFire(),(V=this._affectedInjectedTextLines)===null||V===void 0||V.clear(),this._affectedInjectedTextLines=null)}recordLineAffectedByInjectedText(V){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(V)}checkAffectedAndFire(V){var $,J;this._affectsMinimap||(this._affectsMinimap=!!(!(($=V.minimap)===null||$===void 0)&&$.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(!((J=V.overviewRuler)===null||J===void 0)&&J.color)),this._affectsGlyphMargin||(this._affectsGlyphMargin=!!V.glyphMarginClassName),this._affectsLineNumber||(this._affectsLineNumber=!!V.lineNumberClassName),this.tryFire()}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._affectsGlyphMargin=!0,this.tryFire()}tryFire(){this._deferredCnt===0?this.doFire():this._shouldFireDeferred=!0}doFire(){this.handleBeforeFire(this._affectedInjectedTextLines);const V={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler,affectsGlyphMargin:this._affectsGlyphMargin,affectsLineNumber:this._affectsLineNumber};this._shouldFireDeferred=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._affectsGlyphMargin=!1,this._actual.fire(V)}}class ae extends y.Disposable{constructor(){super(),this._fastEmitter=this._register(new D.Emitter),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new D.Emitter),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(V=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=V;const $=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire($),this._slowEmitter.fire($)}}fire(V){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(V):this._deferredEvent=V;return}this._fastEmitter.fire(V),this._slowEmitter.fire(V)}}class oe{constructor(){this._onDidChangeVisibleRanges=new D.Emitter,this.onDidChangeVisibleRanges=this._onDidChangeVisibleRanges.event,this._views=new Set}attachView(){const V=new B($=>{this._onDidChangeVisibleRanges.fire({view:V,state:$})});return this._views.add(V),V}detachView(V){this._views.delete(V),this._onDidChangeVisibleRanges.fire({view:V,state:void 0})}}e.AttachedViews=oe;class B{constructor(V){this.handleStateChange=V}setVisibleLines(V,$){const J=V.map(se=>new o.LineRange(se.startLineNumber,se.endLineNumber+1));this.handleStateChange({visibleLineRanges:J,stabilized:$})}}}),define(ie[212],ne([1,0,26,31,37,673,33,76]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.diffDeleteDecorationEmpty=e.diffWholeLineDeleteDecoration=e.diffDeleteDecoration=e.diffAddDecorationEmpty=e.diffWholeLineAddDecoration=e.diffAddDecoration=e.diffLineDeleteDecorationBackground=e.diffLineAddDecorationBackground=e.diffLineDeleteDecorationBackgroundWithIndicator=e.diffLineAddDecorationBackgroundWithIndicator=e.diffRemoveIcon=e.diffInsertIcon=e.diffEditorUnchangedRegionShadow=e.diffMoveBorderActive=e.diffMoveBorder=void 0,e.diffMoveBorder=(0,y.registerColor)("diffEditor.move.border",{dark:"#8b8b8b9c",light:"#8b8b8b9c",hcDark:"#8b8b8b9c",hcLight:"#8b8b8b9c"},(0,D.localize)(0,null)),e.diffMoveBorderActive=(0,y.registerColor)("diffEditor.moveActive.border",{dark:"#FFA500",light:"#FFA500",hcDark:"#FFA500",hcLight:"#FFA500"},(0,D.localize)(1,null)),e.diffEditorUnchangedRegionShadow=(0,y.registerColor)("diffEditor.unchangedRegionShadow",{dark:"#000000",light:"#737373BF",hcDark:"#000000",hcLight:"#737373BF"},(0,D.localize)(2,null)),e.diffInsertIcon=(0,p.registerIcon)("diff-insert",f.Codicon.add,(0,D.localize)(3,null)),e.diffRemoveIcon=(0,p.registerIcon)("diff-remove",f.Codicon.remove,(0,D.localize)(4,null)),e.diffLineAddDecorationBackgroundWithIndicator=E.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,linesDecorationsClassName:"insert-sign "+k.ThemeIcon.asClassName(e.diffInsertIcon),marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackgroundWithIndicator=E.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,linesDecorationsClassName:"delete-sign "+k.ThemeIcon.asClassName(e.diffRemoveIcon),marginClassName:"gutter-delete"}),e.diffLineAddDecorationBackground=E.ModelDecorationOptions.register({className:"line-insert",description:"line-insert",isWholeLine:!0,marginClassName:"gutter-insert"}),e.diffLineDeleteDecorationBackground=E.ModelDecorationOptions.register({className:"line-delete",description:"line-delete",isWholeLine:!0,marginClassName:"gutter-delete"}),e.diffAddDecoration=E.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",shouldFillLineOnLineBreak:!0}),e.diffWholeLineAddDecoration=E.ModelDecorationOptions.register({className:"char-insert",description:"char-insert",isWholeLine:!0}),e.diffAddDecorationEmpty=E.ModelDecorationOptions.register({className:"char-insert diff-range-empty",description:"char-insert diff-range-empty"}),e.diffDeleteDecoration=E.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",shouldFillLineOnLineBreak:!0}),e.diffWholeLineDeleteDecoration=E.ModelDecorationOptions.register({className:"char-delete",description:"char-delete",isWholeLine:!0}),e.diffDeleteDecorationEmpty=E.ModelDecorationOptions.register({className:"char-delete diff-range-empty",description:"char-delete diff-range-empty"})}),define(ie[936],ne([1,0,2,30,355,212,83]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorDecorations=void 0;class p extends f.Disposable{constructor(b,C,o,s){super(),this._editors=b,this._diffModel=C,this._options=o,this._decorations=(0,k.derived)(this,i=>{var t;const n=(t=this._diffModel.read(i))===null||t===void 0?void 0:t.diff.read(i);if(!n)return null;const c=this._diffModel.read(i).movedTextToCompare.read(i),m=this._options.renderIndicators.read(i),u=this._options.showEmptyDecorations.read(i),r=[],a=[];if(!c)for(const l of n.mappings)if(l.lineRangeMapping.original.isEmpty||r.push({range:l.lineRangeMapping.original.toInclusiveRange(),options:m?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground}),l.lineRangeMapping.modified.isEmpty||a.push({range:l.lineRangeMapping.modified.toInclusiveRange(),options:m?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground}),l.lineRangeMapping.modified.isEmpty||l.lineRangeMapping.original.isEmpty)l.lineRangeMapping.original.isEmpty||r.push({range:l.lineRangeMapping.original.toInclusiveRange(),options:D.diffWholeLineDeleteDecoration}),l.lineRangeMapping.modified.isEmpty||a.push({range:l.lineRangeMapping.modified.toInclusiveRange(),options:D.diffWholeLineAddDecoration});else for(const g of l.lineRangeMapping.innerChanges||[])l.lineRangeMapping.original.contains(g.originalRange.startLineNumber)&&r.push({range:g.originalRange,options:g.originalRange.isEmpty()&&u?D.diffDeleteDecorationEmpty:D.diffDeleteDecoration}),l.lineRangeMapping.modified.contains(g.modifiedRange.startLineNumber)&&a.push({range:g.modifiedRange,options:g.modifiedRange.isEmpty()&&u?D.diffAddDecorationEmpty:D.diffAddDecoration});if(c)for(const l of c.changes){const g=l.original.toInclusiveRange();g&&r.push({range:g,options:m?D.diffLineDeleteDecorationBackgroundWithIndicator:D.diffLineDeleteDecorationBackground});const d=l.modified.toInclusiveRange();d&&a.push({range:d,options:m?D.diffLineAddDecorationBackgroundWithIndicator:D.diffLineAddDecorationBackground});for(const v of l.innerChanges||[])r.push({range:v.originalRange,options:D.diffDeleteDecoration}),a.push({range:v.modifiedRange,options:D.diffAddDecoration})}const h=this._diffModel.read(i).activeMovedText.read(i);for(const l of n.movedTexts)r.push({range:l.lineRangeMapping.original.toInclusiveRange(),options:{description:"moved",blockClassName:"movedOriginal"+(l===h?" currentMove":""),blockPadding:[E.MovedBlocksLinesFeature.movedCodeBlockPadding,0,E.MovedBlocksLinesFeature.movedCodeBlockPadding,E.MovedBlocksLinesFeature.movedCodeBlockPadding]}}),a.push({range:l.lineRangeMapping.modified.toInclusiveRange(),options:{description:"moved",blockClassName:"movedModified"+(l===h?" currentMove":""),blockPadding:[4,0,4,4]}});return{originalDecorations:r,modifiedDecorations:a}}),this._register((0,y.applyObservableDecorations)(this._editors.original,this._decorations.map(i=>i?.originalDecorations||[]))),this._register((0,y.applyObservableDecorations)(this._editors.modified,this._decorations.map(i=>i?.modifiedDecorations||[])))}}e.DiffEditorDecorations=p}),define(ie[937],ne([1,0,6,13,15,26,2,30,31,20,71,212,387,667,688,83,59,9,91,114,58]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorViewZones=void 0;let h=class extends y.Disposable{constructor(v,_,S,L,I,T,N,A,O,M){super(),this._targetWindow=v,this._editors=_,this._diffModel=S,this._options=L,this._diffEditorWidget=I,this._canIgnoreViewZoneUpdateEvent=T,this._origViewZonesToIgnore=N,this._modViewZonesToIgnore=A,this._clipboardService=O,this._contextMenuService=M,this._originalTopPadding=(0,p.observableValue)(this,0),this._originalScrollOffset=(0,p.observableValue)(this,0),this._originalScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._originalScrollOffset,this._store),this._modifiedTopPadding=(0,p.observableValue)(this,0),this._modifiedScrollOffset=(0,p.observableValue)(this,0),this._modifiedScrollOffsetAnimated=(0,n.animatedObservable)(this._targetWindow,this._modifiedScrollOffset,this._store);const R=(0,p.observableValue)("invalidateAlignmentsState",0),x=this._register(new E.RunOnceScheduler(()=>{R.set(R.get()+1,void 0)},0));this._register(this._editors.original.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||x.schedule()})),this._register(this._editors.modified.onDidChangeViewZones(U=>{this._canIgnoreViewZoneUpdateEvent()||x.schedule()})),this._register(this._editors.original.onDidChangeConfiguration(U=>{(U.hasChanged(146)||U.hasChanged(67))&&x.schedule()})),this._register(this._editors.modified.onDidChangeConfiguration(U=>{(U.hasChanged(146)||U.hasChanged(67))&&x.schedule()}));const F=this._diffModel.map(U=>U?(0,p.observableFromEvent)(U.model.original.onDidChangeTokens,()=>U.model.original.tokenization.backgroundTokenizationState===2):void 0).map((U,G)=>U?.read(G)),W=(0,p.derived)(U=>{const G=this._diffModel.read(U),te=G?.diff.read(U);if(!G||!te)return null;R.read(U);const Y=this._options.renderSideBySide.read(U);return l(this._editors.original,this._editors.modified,te.mappings,this._origViewZonesToIgnore,this._modViewZonesToIgnore,Y)}),H=(0,p.derived)(U=>{var G;const te=(G=this._diffModel.read(U))===null||G===void 0?void 0:G.movedTextToCompare.read(U);if(!te)return null;R.read(U);const ee=te.changes.map(Y=>new s.DiffMapping(Y));return l(this._editors.original,this._editors.modified,ee,this._origViewZonesToIgnore,this._modViewZonesToIgnore,!0)});function z(){const U=document.createElement("div");return U.className="diagonal-fill",U}const j=this._register(new y.DisposableStore);this.viewZones=(0,p.derivedWithStore)(this,(U,G)=>{var te,ee,Y,P,Z,re,ce,he;j.clear();const pe=W.read(U)||[],ge=[],X=[],ae=this._modifiedTopPadding.read(U);ae>0&&X.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:ae,showInHiddenAreas:!0,suppressMouseDown:!0});const oe=this._originalTopPadding.read(U);oe>0&&ge.push({afterLineNumber:0,domNode:document.createElement("div"),heightInPx:oe,showInHiddenAreas:!0,suppressMouseDown:!0});const B=this._options.renderSideBySide.read(U),q=B||(te=this._editors.modified._getViewModel())===null||te===void 0?void 0:te.createLineBreaksComputer();if(q){const ve=this._editors.original.getModel();for(const Ce of pe)if(Ce.diff)for(let Se=Ce.originalRange.startLineNumber;Se<Ce.originalRange.endLineNumberExclusive;Se++){if(Se>ve.getLineCount())return{orig:ge,mod:X};q?.addRequest(ve.getLineContent(Se),null,null)}}const V=(ee=q?.finalize())!==null&&ee!==void 0?ee:[];let $=0;const J=this._editors.modified.getOption(67),se=(Y=this._diffModel.read(U))===null||Y===void 0?void 0:Y.movedTextToCompare.read(U),de=(Z=(P=this._editors.original.getModel())===null||P===void 0?void 0:P.mightContainNonBasicASCII())!==null&&Z!==void 0?Z:!1,le=(ce=(re=this._editors.original.getModel())===null||re===void 0?void 0:re.mightContainRTL())!==null&&ce!==void 0?ce:!1,fe=t.RenderOptions.fromEditor(this._editors.modified);for(const ve of pe)if(ve.diff&&!B){if(!ve.originalRange.isEmpty){F.read(U);const Se=document.createElement("div");Se.classList.add("view-lines","line-delete","monaco-mouse-cursor-text");const _e=this._editors.original.getModel();if(ve.originalRange.endLineNumberExclusive-1>_e.getLineCount())return{orig:ge,mod:X};const ke=new t.LineSource(ve.originalRange.mapToLineArray(Be=>_e.tokenization.getLineTokens(Be)),ve.originalRange.mapToLineArray(Be=>V[$++]),de,le),Ee=[];for(const Be of ve.diff.innerChanges||[])Ee.push(new u.InlineDecoration(Be.originalRange.delta(-(ve.diff.original.startLineNumber-1)),o.diffDeleteDecoration.className,0));const Ae=(0,t.renderLines)(ke,fe,Ee,Se),xe=document.createElement("div");if(xe.className="inline-deleted-margin-view-zone",(0,C.applyFontInfo)(xe,fe.fontInfo),this._options.renderIndicators.read(U))for(let Be=0;Be<Ae.heightInLines;Be++){const De=document.createElement("div");De.className=`delete-sign ${w.ThemeIcon.asClassName(o.diffRemoveIcon)}`,De.setAttribute("style",`position:absolute;top:${Be*J}px;width:${fe.lineDecorationsWidth}px;height:${J}px;right:0;`),xe.appendChild(De)}let We;j.add(new i.InlineDiffDeletedCodeMargin(()=>(0,b.assertIsDefined)(We),xe,this._editors.modified,ve.diff,this._diffEditorWidget,Ae.viewLineCounts,this._editors.original.getModel(),this._contextMenuService,this._clipboardService));for(let Be=0;Be<Ae.viewLineCounts.length;Be++){const De=Ae.viewLineCounts[Be];De>1&&ge.push({afterLineNumber:ve.originalRange.startLineNumber+Be,domNode:z(),heightInPx:(De-1)*J,showInHiddenAreas:!0,suppressMouseDown:!0})}X.push({afterLineNumber:ve.modifiedRange.startLineNumber-1,domNode:Se,heightInPx:Ae.heightInLines*J,minWidthInPx:Ae.minWidthInPx,marginDomNode:xe,setZoneId(Be){We=Be},showInHiddenAreas:!0,suppressMouseDown:!0})}const Ce=document.createElement("div");Ce.className="gutter-delete",ge.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:z(),heightInPx:ve.modifiedHeightInPx,marginDomNode:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;if(Ce>0){if(se?.lineRangeMapping.original.delta(-1).deltaLength(2).contains(ve.originalRange.endLineNumberExclusive-1))continue;ge.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:z(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}else{let Se=function(){const ke=document.createElement("div");return ke.className="arrow-revert-change "+w.ThemeIcon.asClassName(D.Codicon.arrowRight),G.add((0,f.addDisposableListener)(ke,"mousedown",Ee=>Ee.stopPropagation())),G.add((0,f.addDisposableListener)(ke,"click",Ee=>{Ee.stopPropagation(),I.revert(ve.diff)})),(0,f.$)("div",{},ke)};if(se?.lineRangeMapping.modified.delta(-1).deltaLength(2).contains(ve.modifiedRange.endLineNumberExclusive-1))continue;let _e;ve.diff&&ve.diff.modified.isEmpty&&this._options.shouldRenderOldRevertArrows.read(U)&&(_e=Se()),X.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:z(),heightInPx:-Ce,marginDomNode:_e,showInHiddenAreas:!0,suppressMouseDown:!0})}}for(const ve of(he=H.read(U))!==null&&he!==void 0?he:[]){if(!se?.lineRangeMapping.original.intersect(ve.originalRange)||!se?.lineRangeMapping.modified.intersect(ve.modifiedRange))continue;const Ce=ve.modifiedHeightInPx-ve.originalHeightInPx;Ce>0?ge.push({afterLineNumber:ve.originalRange.endLineNumberExclusive-1,domNode:z(),heightInPx:Ce,showInHiddenAreas:!0,suppressMouseDown:!0}):X.push({afterLineNumber:ve.modifiedRange.endLineNumberExclusive-1,domNode:z(),heightInPx:-Ce,showInHiddenAreas:!0,suppressMouseDown:!0})}return{orig:ge,mod:X}});let K=!1;this._register(this._editors.original.onDidScrollChange(U=>{U.scrollLeftChanged&&!K&&(K=!0,this._editors.modified.setScrollLeft(U.scrollLeft),K=!1)})),this._register(this._editors.modified.onDidScrollChange(U=>{U.scrollLeftChanged&&!K&&(K=!0,this._editors.original.setScrollLeft(U.scrollLeft),K=!1)})),this._originalScrollTop=(0,p.observableFromEvent)(this._editors.original.onDidScrollChange,()=>this._editors.original.getScrollTop()),this._modifiedScrollTop=(0,p.observableFromEvent)(this._editors.modified.onDidScrollChange,()=>this._editors.modified.getScrollTop()),this._register((0,p.autorun)(U=>{const G=this._originalScrollTop.read(U)-(this._originalScrollOffsetAnimated.get()-this._modifiedScrollOffsetAnimated.read(U))-(this._originalTopPadding.get()-this._modifiedTopPadding.read(U));G!==this._editors.modified.getScrollTop()&&this._editors.modified.setScrollTop(G,1)})),this._register((0,p.autorun)(U=>{const G=this._modifiedScrollTop.read(U)-(this._modifiedScrollOffsetAnimated.get()-this._originalScrollOffsetAnimated.read(U))-(this._modifiedTopPadding.get()-this._originalTopPadding.read(U));G!==this._editors.original.getScrollTop()&&this._editors.original.setScrollTop(G,1)})),this._register((0,p.autorun)(U=>{var G;const te=(G=this._diffModel.read(U))===null||G===void 0?void 0:G.movedTextToCompare.read(U);let ee=0;if(te){const Y=this._editors.original.getTopForLineNumber(te.lineRangeMapping.original.startLineNumber,!0)-this._originalTopPadding.get();ee=this._editors.modified.getTopForLineNumber(te.lineRangeMapping.modified.startLineNumber,!0)-this._modifiedTopPadding.get()-Y}ee>0?(this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(ee,void 0)):ee<0?(this._modifiedTopPadding.set(-ee,void 0),this._originalTopPadding.set(0,void 0)):setTimeout(()=>{this._modifiedTopPadding.set(0,void 0),this._originalTopPadding.set(0,void 0)},400),this._editors.modified.hasTextFocus()?this._originalScrollOffset.set(this._modifiedScrollOffset.get()-ee,void 0,!0):this._modifiedScrollOffset.set(this._originalScrollOffset.get()+ee,void 0,!0)}))}};e.DiffEditorViewZones=h,e.DiffEditorViewZones=h=Ie([ue(8,r.IClipboardService),ue(9,a.IContextMenuService)],h);function l(d,v,_,S,L,I){const T=new k.ArrayQueue(g(d,S)),N=new k.ArrayQueue(g(v,L)),A=d.getOption(67),O=v.getOption(67),M=[];let R=0,x=0;function F(W,H){for(;;){let z=T.peek(),j=N.peek();if(z&&z.lineNumber>=W&&(z=void 0),j&&j.lineNumber>=H&&(j=void 0),!z&&!j)break;const K=z?z.lineNumber-R:Number.MAX_VALUE,U=j?j.lineNumber-x:Number.MAX_VALUE;K<U?(T.dequeue(),j={lineNumber:z.lineNumber-R+x,heightInPx:0}):K>U?(N.dequeue(),z={lineNumber:j.lineNumber-x+R,heightInPx:0}):(T.dequeue(),N.dequeue()),M.push({originalRange:c.LineRange.ofLength(z.lineNumber,1),modifiedRange:c.LineRange.ofLength(j.lineNumber,1),originalHeightInPx:A+z.heightInPx,modifiedHeightInPx:O+j.heightInPx,diff:void 0})}}for(const W of _){let U=function(G,te){var ee,Y,P,Z;if(G<K||te<j)return;if(z)z=!1;else if(G===K||te===j)return;const re=new c.LineRange(K,G),ce=new c.LineRange(j,te);if(re.isEmpty&&ce.isEmpty)return;const he=(Y=(ee=T.takeWhile(ge=>ge.lineNumber<G))===null||ee===void 0?void 0:ee.reduce((ge,X)=>ge+X.heightInPx,0))!==null&&Y!==void 0?Y:0,pe=(Z=(P=N.takeWhile(ge=>ge.lineNumber<te))===null||P===void 0?void 0:P.reduce((ge,X)=>ge+X.heightInPx,0))!==null&&Z!==void 0?Z:0;M.push({originalRange:re,modifiedRange:ce,originalHeightInPx:re.length*A+he,modifiedHeightInPx:ce.length*O+pe,diff:W.lineRangeMapping}),K=G,j=te};const H=W.lineRangeMapping;F(H.original.startLineNumber,H.modified.startLineNumber);let z=!0,j=H.modified.startLineNumber,K=H.original.startLineNumber;if(I)for(const G of H.innerChanges||[]){G.originalRange.startColumn>1&&G.modifiedRange.startColumn>1&&U(G.originalRange.startLineNumber,G.modifiedRange.startLineNumber);const te=d.getModel(),ee=G.originalRange.endLineNumber<=te.getLineCount()?te.getLineMaxColumn(G.originalRange.endLineNumber):Number.MAX_SAFE_INTEGER;G.originalRange.endColumn<ee&&U(G.originalRange.endLineNumber,G.modifiedRange.endLineNumber)}U(H.original.endLineNumberExclusive,H.modified.endLineNumberExclusive),R=H.original.endLineNumberExclusive,x=H.modified.endLineNumberExclusive}return F(Number.MAX_VALUE,Number.MAX_VALUE),M}function g(d,v){const _=[],S=[],L=d.getOption(146).wrappingColumn!==-1,I=d._getViewModel().coordinatesConverter,T=d.getOption(67);if(L)for(let A=1;A<=d.getModel().getLineCount();A++){const O=I.getModelLineViewLineCount(A);O>1&&S.push({lineNumber:A,heightInPx:T*(O-1)})}for(const A of d.getWhitespaces()){if(v.has(A.id))continue;const O=A.afterLineNumber===0?0:I.convertViewPositionToModelPosition(new m.Position(A.afterLineNumber,1)).lineNumber;_.push({lineNumber:O,heightInPx:A.height})}return(0,n.joinCombine)(_,S,A=>A.lineNumber,(A,O)=>({lineNumber:A.lineNumber,heightInPx:A.heightInPx+O.heightInPx}))}}),define(ie[938],ne([1,0,7,2,17,37,191,85,43,203,27,211,125,361,49,55,34]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultModelSHA1Computer=e.ModelService=void 0;function u(d){return d.toString()}class r{constructor(v,_,S){this.model=v,this._modelEventListeners=new k.DisposableStore,this.model=v,this._modelEventListeners.add(v.onWillDispose(()=>_(v))),this._modelEventListeners.add(v.onDidChangeLanguage(L=>S(v,L)))}dispose(){this._modelEventListeners.dispose()}}const a=E.isLinux||E.isMacintosh?1:2;class h{constructor(v,_,S,L,I,T,N,A){this.uri=v,this.initialUndoRedoSnapshot=_,this.time=S,this.sharesUndoRedoStack=L,this.heapSize=I,this.sha1=T,this.versionId=N,this.alternativeVersionId=A}}let l=m=class extends k.Disposable{constructor(v,_,S,L,I){super(),this._configurationService=v,this._resourcePropertiesService=_,this._undoRedoService=S,this._languageService=L,this._languageConfigurationService=I,this._onModelAdded=this._register(new f.Emitter),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new f.Emitter),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new f.Emitter),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._register(this._configurationService.onDidChangeConfiguration(T=>this._updateModelOptions(T))),this._updateModelOptions(void 0)}static _readModelOptions(v,_){var S;let L=y.EDITOR_MODEL_DEFAULTS.tabSize;if(v.editor&&typeof v.editor.tabSize<"u"){const F=parseInt(v.editor.tabSize,10);isNaN(F)||(L=F),L<1&&(L=1)}let I="tabSize";if(v.editor&&typeof v.editor.indentSize<"u"&&v.editor.indentSize!=="tabSize"){const F=parseInt(v.editor.indentSize,10);isNaN(F)||(I=Math.max(F,1))}let T=y.EDITOR_MODEL_DEFAULTS.insertSpaces;v.editor&&typeof v.editor.insertSpaces<"u"&&(T=v.editor.insertSpaces==="false"?!1:!!v.editor.insertSpaces);let N=a;const A=v.eol;A===`\r
`?N=2:A===`
`&&(N=1);let O=y.EDITOR_MODEL_DEFAULTS.trimAutoWhitespace;v.editor&&typeof v.editor.trimAutoWhitespace<"u"&&(O=v.editor.trimAutoWhitespace==="false"?!1:!!v.editor.trimAutoWhitespace);let M=y.EDITOR_MODEL_DEFAULTS.detectIndentation;v.editor&&typeof v.editor.detectIndentation<"u"&&(M=v.editor.detectIndentation==="false"?!1:!!v.editor.detectIndentation);let R=y.EDITOR_MODEL_DEFAULTS.largeFileOptimizations;v.editor&&typeof v.editor.largeFileOptimizations<"u"&&(R=v.editor.largeFileOptimizations==="false"?!1:!!v.editor.largeFileOptimizations);let x=y.EDITOR_MODEL_DEFAULTS.bracketPairColorizationOptions;return!((S=v.editor)===null||S===void 0)&&S.bracketPairColorization&&typeof v.editor.bracketPairColorization=="object"&&(x={enabled:!!v.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!v.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:_,tabSize:L,indentSize:I,insertSpaces:T,detectIndentation:M,defaultEOL:N,trimAutoWhitespace:O,largeFileOptimizations:R,bracketPairColorizationOptions:x}}_getEOL(v,_){if(v)return this._resourcePropertiesService.getEOL(v,_);const S=this._configurationService.getValue("files.eol",{overrideIdentifier:_});return S&&typeof S=="string"&&S!=="auto"?S:E.OS===3||E.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const v=this._configurationService.getValue("files.restoreUndoStack");return typeof v=="boolean"?v:!0}getCreationOptions(v,_,S){const L=typeof v=="string"?v:v.languageId;let I=this._modelCreationOptionsByLanguageAndResource[L+_];if(!I){const T=this._configurationService.getValue("editor",{overrideIdentifier:L,resource:_}),N=this._getEOL(_,L);I=m._readModelOptions({editor:T,eol:N},S),this._modelCreationOptionsByLanguageAndResource[L+_]=I}return I}_updateModelOptions(v){const _=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const S=Object.keys(this._models);for(let L=0,I=S.length;L<I;L++){const T=S[L],N=this._models[T],A=N.model.getLanguageId(),O=N.model.uri;if(v&&!v.affectsConfiguration("editor",{overrideIdentifier:A,resource:O})&&!v.affectsConfiguration("files.eol",{overrideIdentifier:A,resource:O}))continue;const M=_[A+O],R=this.getCreationOptions(A,O,N.model.isForSimpleWidget);m._setModelOptionsForModel(N.model,R,M)}}static _setModelOptionsForModel(v,_,S){S&&S.defaultEOL!==_.defaultEOL&&v.getLineCount()===1&&v.setEOL(_.defaultEOL===1?0:1),!(S&&S.detectIndentation===_.detectIndentation&&S.insertSpaces===_.insertSpaces&&S.tabSize===_.tabSize&&S.indentSize===_.indentSize&&S.trimAutoWhitespace===_.trimAutoWhitespace&&(0,n.equals)(S.bracketPairColorizationOptions,_.bracketPairColorizationOptions))&&(_.detectIndentation?(v.detectIndentation(_.insertSpaces,_.tabSize),v.updateOptions({trimAutoWhitespace:_.trimAutoWhitespace,bracketColorizationOptions:_.bracketPairColorizationOptions})):v.updateOptions({insertSpaces:_.insertSpaces,tabSize:_.tabSize,indentSize:_.indentSize,trimAutoWhitespace:_.trimAutoWhitespace,bracketColorizationOptions:_.bracketPairColorizationOptions}))}_insertDisposedModel(v){this._disposedModels.set(u(v.uri),v),this._disposedModelsHeapSize+=v.heapSize}_removeDisposedModel(v){const _=this._disposedModels.get(u(v));return _&&(this._disposedModelsHeapSize-=_.heapSize),this._disposedModels.delete(u(v)),_}_ensureDisposedModelsHeapSize(v){if(this._disposedModelsHeapSize>v){const _=[];for(this._disposedModels.forEach(S=>{S.sharesUndoRedoStack||_.push(S)}),_.sort((S,L)=>S.time-L.time);_.length>0&&this._disposedModelsHeapSize>v;){const S=_.shift();this._removeDisposedModel(S.uri),S.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(S.initialUndoRedoSnapshot)}}}_createModelData(v,_,S,L){const I=this.getCreationOptions(_,S,L),T=new D.TextModel(v,_,I,S,this._undoRedoService,this._languageService,this._languageConfigurationService);if(S&&this._disposedModels.has(u(S))){const O=this._removeDisposedModel(S),M=this._undoRedoService.getElements(S),R=this._getSHA1Computer(),x=R.canComputeSHA1(T)?R.computeSHA1(T)===O.sha1:!1;if(x||O.sharesUndoRedoStack){for(const F of M.past)(0,i.isEditStackElement)(F)&&F.matchesResource(S)&&F.setModel(T);for(const F of M.future)(0,i.isEditStackElement)(F)&&F.matchesResource(S)&&F.setModel(T);this._undoRedoService.setElementsValidFlag(S,!0,F=>(0,i.isEditStackElement)(F)&&F.matchesResource(S)),x&&(T._overwriteVersionId(O.versionId),T._overwriteAlternativeVersionId(O.alternativeVersionId),T._overwriteInitialUndoRedoSnapshot(O.initialUndoRedoSnapshot))}else O.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(O.initialUndoRedoSnapshot)}const N=u(T.uri);if(this._models[N])throw new Error("ModelService: Cannot add model because it already exists!");const A=new r(T,O=>this._onWillDispose(O),(O,M)=>this._onDidChangeLanguage(O,M));return this._models[N]=A,A}createModel(v,_,S,L=!1){let I;return _?I=this._createModelData(v,_,S,L):I=this._createModelData(v,p.PLAINTEXT_LANGUAGE_ID,S,L),this._onModelAdded.fire(I.model),I.model}getModels(){const v=[],_=Object.keys(this._models);for(let S=0,L=_.length;S<L;S++){const I=_[S];v.push(this._models[I].model)}return v}getModel(v){const _=u(v),S=this._models[_];return S?S.model:null}_schemaShouldMaintainUndoRedoElements(v){return v.scheme===t.Schemas.file||v.scheme===t.Schemas.vscodeRemote||v.scheme===t.Schemas.vscodeUserData||v.scheme===t.Schemas.vscodeNotebookCell||v.scheme==="fake-fs"}_onWillDispose(v){const _=u(v.uri),S=this._models[_],L=this._undoRedoService.getUriComparisonKey(v.uri)!==v.uri.toString();let I=!1,T=0;if(L||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(v.uri)){const O=this._undoRedoService.getElements(v.uri);if(O.past.length>0||O.future.length>0){for(const M of O.past)(0,i.isEditStackElement)(M)&&M.matchesResource(v.uri)&&(I=!0,T+=M.heapSize(v.uri),M.setModel(v.uri));for(const M of O.future)(0,i.isEditStackElement)(M)&&M.matchesResource(v.uri)&&(I=!0,T+=M.heapSize(v.uri),M.setModel(v.uri))}}const N=m.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK,A=this._getSHA1Computer();if(I)if(!L&&(T>N||!A.canComputeSHA1(v))){const O=S.model.getInitialUndoRedoSnapshot();O!==null&&this._undoRedoService.restoreSnapshot(O)}else this._ensureDisposedModelsHeapSize(N-T),this._undoRedoService.setElementsValidFlag(v.uri,!1,O=>(0,i.isEditStackElement)(O)&&O.matchesResource(v.uri)),this._insertDisposedModel(new h(v.uri,S.model.getInitialUndoRedoSnapshot(),Date.now(),L,T,A.computeSHA1(v),v.getVersionId(),v.getAlternativeVersionId()));else if(!L){const O=S.model.getInitialUndoRedoSnapshot();O!==null&&this._undoRedoService.restoreSnapshot(O)}delete this._models[_],S.dispose(),delete this._modelCreationOptionsByLanguageAndResource[v.getLanguageId()+v.uri],this._onModelRemoved.fire(v)}_onDidChangeLanguage(v,_){const S=_.oldLanguage,L=v.getLanguageId(),I=this.getCreationOptions(S,v.uri,v.isForSimpleWidget),T=this.getCreationOptions(L,v.uri,v.isForSimpleWidget);m._setModelOptionsForModel(v,T,I),this._onModelModeChanged.fire({model:v,oldLanguageId:S})}_getSHA1Computer(){return new g}};e.ModelService=l,l.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,e.ModelService=l=m=Ie([ue(0,C.IConfigurationService),ue(1,b.ITextResourcePropertiesService),ue(2,o.IUndoRedoService),ue(3,w.ILanguageService),ue(4,c.ILanguageConfigurationService)],l);class g{canComputeSHA1(v){return v.getValueLength()<=g.MAX_MODEL_SIZE}computeSHA1(v){const _=new s.StringSHA1,S=v.createSnapshot();let L;for(;L=S.read();)_.update(L);return _.digest()}}e.DefaultModelSHA1Computer=g,g.MAX_MODEL_SIZE=10*1024*1024}),define(ie[939],ne([1,0,13,9,5,233,37,127,235,581,313,91]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModelLinesFromModelAsIs=e.ViewModelLinesFromProjectedModel=void 0;class s{constructor(a,h,l,g,d,v,_,S,L,I){this._editorId=a,this.model=h,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=l,this._monospaceLineBreaksComputerFactory=g,this.fontInfo=d,this.tabSize=v,this.wrappingStrategy=_,this.wrappingColumn=S,this.wrappingIndent=L,this.wordBreak=I,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new c(this)}_constructLines(a,h){this.modelLineProjections=[],a&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const l=this.model.getLinesContent(),g=this.model.getInjectedTextDecorations(this._editorId),d=l.length,v=this.createLineBreaksComputer(),_=new f.ArrayQueue(p.LineInjectedText.fromDecorations(g));for(let M=0;M<d;M++){const R=_.takeWhile(x=>x.lineNumber===M+1);v.addRequest(l[M],R,h?h[M]:null)}const S=v.finalize(),L=[],I=this.hiddenAreasDecorationIds.map(M=>this.model.getDecorationRange(M)).sort(E.Range.compareRangesUsingStarts);let T=1,N=0,A=-1,O=A+1<I.length?N+1:d+2;for(let M=0;M<d;M++){const R=M+1;R===O&&(A++,T=I[A].startLineNumber,N=I[A].endLineNumber,O=A+1<I.length?N+1:d+2);const x=R>=T&&R<=N,F=(0,b.createModelLineProjection)(S[M],!x);L[M]=F.getViewLineCount(),this.modelLineProjections[M]=F}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new C.ConstantTimePrefixSumComputer(L)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(a=>this.model.getDecorationRange(a))}setHiddenAreas(a){const h=a.map(N=>this.model.validateRange(N)),l=i(h),g=this.hiddenAreasDecorationIds.map(N=>this.model.getDecorationRange(N)).sort(E.Range.compareRangesUsingStarts);if(l.length===g.length){let N=!1;for(let A=0;A<l.length;A++)if(!l[A].equalsRange(g[A])){N=!0;break}if(!N)return!1}const d=l.map(N=>({range:N,options:y.ModelDecorationOptions.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,d);const v=l;let _=1,S=0,L=-1,I=L+1<v.length?S+1:this.modelLineProjections.length+2,T=!1;for(let N=0;N<this.modelLineProjections.length;N++){const A=N+1;A===I&&(L++,_=v[L].startLineNumber,S=v[L].endLineNumber,I=L+1<v.length?S+1:this.modelLineProjections.length+2);let O=!1;if(A>=_&&A<=S?this.modelLineProjections[N].isVisible()&&(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!1),O=!0):(T=!0,this.modelLineProjections[N].isVisible()||(this.modelLineProjections[N]=this.modelLineProjections[N].setVisible(!0),O=!0)),O){const M=this.modelLineProjections[N].getViewLineCount();this.projectedModelLineLineCounts.setValue(N,M)}}return T||this.setHiddenAreas([]),!0}modelPositionIsVisible(a,h){return a<1||a>this.modelLineProjections.length?!1:this.modelLineProjections[a-1].isVisible()}getModelLineViewLineCount(a){return a<1||a>this.modelLineProjections.length?1:this.modelLineProjections[a-1].getViewLineCount()}setTabSize(a){return this.tabSize===a?!1:(this.tabSize=a,this._constructLines(!1,null),!0)}setWrappingSettings(a,h,l,g,d){const v=this.fontInfo.equals(a),_=this.wrappingStrategy===h,S=this.wrappingColumn===l,L=this.wrappingIndent===g,I=this.wordBreak===d;if(v&&_&&S&&L&&I)return!1;const T=v&&_&&!S&&L&&I;this.fontInfo=a,this.wrappingStrategy=h,this.wrappingColumn=l,this.wrappingIndent=g,this.wordBreak=d;let N=null;if(T){N=[];for(let A=0,O=this.modelLineProjections.length;A<O;A++)N[A]=this.modelLineProjections[A].getProjectionData()}return this._constructLines(!1,N),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent,this.wordBreak)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(a,h,l){if(!a||a<=this._validModelVersionId)return null;const g=h===1?1:this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,d=this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections.splice(h-1,l-h+1),this.projectedModelLineLineCounts.removeValues(h-1,l-h+1),new w.ViewLinesDeletedEvent(g,d)}onModelLinesInserted(a,h,l,g){if(!a||a<=this._validModelVersionId)return null;const d=h>2&&!this.modelLineProjections[h-2].isVisible(),v=h===1?1:this.projectedModelLineLineCounts.getPrefixSum(h-1)+1;let _=0;const S=[],L=[];for(let I=0,T=g.length;I<T;I++){const N=(0,b.createModelLineProjection)(g[I],!d);S.push(N);const A=N.getViewLineCount();_+=A,L[I]=A}return this.modelLineProjections=this.modelLineProjections.slice(0,h-1).concat(S).concat(this.modelLineProjections.slice(h-1)),this.projectedModelLineLineCounts.insertValues(h-1,L),new w.ViewLinesInsertedEvent(v,v+_-1)}onModelLineChanged(a,h,l){if(a!==null&&a<=this._validModelVersionId)return[!1,null,null,null];const g=h-1,d=this.modelLineProjections[g].getViewLineCount(),v=this.modelLineProjections[g].isVisible(),_=(0,b.createModelLineProjection)(l,v);this.modelLineProjections[g]=_;const S=this.modelLineProjections[g].getViewLineCount();let L=!1,I=0,T=-1,N=0,A=-1,O=0,M=-1;d>S?(I=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,T=I+S-1,O=T+1,M=O+(d-S)-1,L=!0):d<S?(I=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,T=I+d-1,N=T+1,A=N+(S-d)-1,L=!0):(I=this.projectedModelLineLineCounts.getPrefixSum(h-1)+1,T=I+S-1),this.projectedModelLineLineCounts.setValue(g,S);const R=I<=T?new w.ViewLinesChangedEvent(I,T-I+1):null,x=N<=A?new w.ViewLinesInsertedEvent(N,A):null,F=O<=M?new w.ViewLinesDeletedEvent(O,M):null;return[L,R,x,F]}acceptVersionId(a){this._validModelVersionId=a,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(a){if(a<1)return 1;const h=this.getViewLineCount();return a>h?h:a|0}getActiveIndentGuide(a,h,l){a=this._toValidViewLineNumber(a),h=this._toValidViewLineNumber(h),l=this._toValidViewLineNumber(l);const g=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),d=this.convertViewPositionToModelPosition(h,this.getViewLineMinColumn(h)),v=this.convertViewPositionToModelPosition(l,this.getViewLineMinColumn(l)),_=this.model.guides.getActiveIndentGuide(g.lineNumber,d.lineNumber,v.lineNumber),S=this.convertModelPositionToViewPosition(_.startLineNumber,1),L=this.convertModelPositionToViewPosition(_.endLineNumber,this.model.getLineMaxColumn(_.endLineNumber));return{startLineNumber:S.lineNumber,endLineNumber:L.lineNumber,indent:_.indent}}getViewLineInfo(a){a=this._toValidViewLineNumber(a);const h=this.projectedModelLineLineCounts.getIndexOf(a-1),l=h.index,g=h.remainder;return new t(l+1,g)}getMinColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(a){return this.modelLineProjections[a.modelLineNumber-1].getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(a){const h=this.modelLineProjections[a.modelLineNumber-1],l=h.getViewLineMinColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),g=h.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,l);return new k.Position(a.modelLineNumber,g)}getModelEndPositionOfViewLine(a){const h=this.modelLineProjections[a.modelLineNumber-1],l=h.getViewLineMaxColumn(this.model,a.modelLineNumber,a.modelLineWrappedLineIdx),g=h.getModelColumnOfViewPosition(a.modelLineWrappedLineIdx,l);return new k.Position(a.modelLineNumber,g)}getViewLineInfosGroupedByModelRanges(a,h){const l=this.getViewLineInfo(a),g=this.getViewLineInfo(h),d=new Array;let v=this.getModelStartPositionOfViewLine(l),_=new Array;for(let S=l.modelLineNumber;S<=g.modelLineNumber;S++){const L=this.modelLineProjections[S-1];if(L.isVisible()){const I=S===l.modelLineNumber?l.modelLineWrappedLineIdx:0,T=S===g.modelLineNumber?g.modelLineWrappedLineIdx+1:L.getViewLineCount();for(let N=I;N<T;N++)_.push(new t(S,N))}if(!L.isVisible()&&v){const I=new k.Position(S-1,this.model.getLineMaxColumn(S-1)+1),T=E.Range.fromPositions(v,I);d.push(new n(T,_)),_=[],v=null}else L.isVisible()&&!v&&(v=new k.Position(S,1))}if(v){const S=E.Range.fromPositions(v,this.getModelEndPositionOfViewLine(g));d.push(new n(S,_))}return d}getViewLinesBracketGuides(a,h,l,g){const d=l?this.convertViewPositionToModelPosition(l.lineNumber,l.column):null,v=[];for(const _ of this.getViewLineInfosGroupedByModelRanges(a,h)){const S=_.modelRange.startLineNumber,L=this.model.guides.getLinesBracketGuides(S,_.modelRange.endLineNumber,d,g);for(const I of _.viewLines){const N=L[I.modelLineNumber-S].map(A=>{if(A.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesAfterColumn).lineNumber>=I.modelLineWrappedLineIdx||A.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.forWrappedLinesBeforeOrAtColumn).lineNumber<I.modelLineWrappedLineIdx)return;if(!A.horizontalLine)return A;let O=-1;if(A.column!==-1){const x=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.column);if(x.lineNumber===I.modelLineWrappedLineIdx)O=x.column;else if(x.lineNumber<I.modelLineWrappedLineIdx)O=this.getMinColumnOfViewLine(I);else if(x.lineNumber>I.modelLineWrappedLineIdx)return}const M=this.convertModelPositionToViewPosition(I.modelLineNumber,A.horizontalLine.endColumn),R=this.modelLineProjections[I.modelLineNumber-1].getViewPositionOfModelPosition(0,A.horizontalLine.endColumn);return R.lineNumber===I.modelLineWrappedLineIdx?new D.IndentGuide(A.visibleColumn,O,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,M.column),-1,-1):R.lineNumber<I.modelLineWrappedLineIdx||A.visibleColumn!==-1?void 0:new D.IndentGuide(A.visibleColumn,O,A.className,new D.IndentGuideHorizontalLine(A.horizontalLine.top,this.getMaxColumnOfViewLine(I)),-1,-1)});v.push(N.filter(A=>!!A))}}return v}getViewLinesIndentGuides(a,h){a=this._toValidViewLineNumber(a),h=this._toValidViewLineNumber(h);const l=this.convertViewPositionToModelPosition(a,this.getViewLineMinColumn(a)),g=this.convertViewPositionToModelPosition(h,this.getViewLineMaxColumn(h));let d=[];const v=[],_=[],S=l.lineNumber-1,L=g.lineNumber-1;let I=null;for(let O=S;O<=L;O++){const M=this.modelLineProjections[O];if(M.isVisible()){const R=M.getViewLineNumberOfModelPosition(0,O===S?l.column:1),x=M.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(O+1)),F=x-R+1;let W=0;F>1&&M.getViewLineMinColumn(this.model,O+1,x)===1&&(W=R===0?1:2),v.push(F),_.push(W),I===null&&(I=new k.Position(O+1,0))}else I!==null&&(d=d.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,O)),I=null)}I!==null&&(d=d.concat(this.model.guides.getLinesIndentGuides(I.lineNumber,g.lineNumber)),I=null);const T=h-a+1,N=new Array(T);let A=0;for(let O=0,M=d.length;O<M;O++){let R=d[O];const x=Math.min(T-A,v[O]),F=_[O];let W;F===2?W=0:F===1?W=1:W=x;for(let H=0;H<x;H++)H===W&&(R=0),N[A++]=R}return N}getViewLineContent(a){const h=this.getViewLineInfo(a);return this.modelLineProjections[h.modelLineNumber-1].getViewLineContent(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineLength(a){const h=this.getViewLineInfo(a);return this.modelLineProjections[h.modelLineNumber-1].getViewLineLength(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMinColumn(a){const h=this.getViewLineInfo(a);return this.modelLineProjections[h.modelLineNumber-1].getViewLineMinColumn(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineMaxColumn(a){const h=this.getViewLineInfo(a);return this.modelLineProjections[h.modelLineNumber-1].getViewLineMaxColumn(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLineData(a){const h=this.getViewLineInfo(a);return this.modelLineProjections[h.modelLineNumber-1].getViewLineData(this.model,h.modelLineNumber,h.modelLineWrappedLineIdx)}getViewLinesData(a,h,l){a=this._toValidViewLineNumber(a),h=this._toValidViewLineNumber(h);const g=this.projectedModelLineLineCounts.getIndexOf(a-1);let d=a;const v=g.index,_=g.remainder,S=[];for(let L=v,I=this.model.getLineCount();L<I;L++){const T=this.modelLineProjections[L];if(!T.isVisible())continue;const N=L===v?_:0;let A=T.getViewLineCount()-N,O=!1;if(d+A>h&&(O=!0,A=h-d+1),T.getViewLinesData(this.model,L+1,N,A,d-a,l,S),d+=A,O)break}return S}validateViewPosition(a,h,l){a=this._toValidViewLineNumber(a);const g=this.projectedModelLineLineCounts.getIndexOf(a-1),d=g.index,v=g.remainder,_=this.modelLineProjections[d],S=_.getViewLineMinColumn(this.model,d+1,v),L=_.getViewLineMaxColumn(this.model,d+1,v);h<S&&(h=S),h>L&&(h=L);const I=_.getModelColumnOfViewPosition(v,h);return this.model.validatePosition(new k.Position(d+1,I)).equals(l)?new k.Position(a,h):this.convertModelPositionToViewPosition(l.lineNumber,l.column)}validateViewRange(a,h){const l=this.validateViewPosition(a.startLineNumber,a.startColumn,h.getStartPosition()),g=this.validateViewPosition(a.endLineNumber,a.endColumn,h.getEndPosition());return new E.Range(l.lineNumber,l.column,g.lineNumber,g.column)}convertViewPositionToModelPosition(a,h){const l=this.getViewLineInfo(a),g=this.modelLineProjections[l.modelLineNumber-1].getModelColumnOfViewPosition(l.modelLineWrappedLineIdx,h);return this.model.validatePosition(new k.Position(l.modelLineNumber,g))}convertViewRangeToModelRange(a){const h=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),l=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);return new E.Range(h.lineNumber,h.column,l.lineNumber,l.column)}convertModelPositionToViewPosition(a,h,l=2,g=!1,d=!1){const v=this.model.validatePosition(new k.Position(a,h)),_=v.lineNumber,S=v.column;let L=_-1,I=!1;if(d)for(;L<this.modelLineProjections.length&&!this.modelLineProjections[L].isVisible();)L++,I=!0;else for(;L>0&&!this.modelLineProjections[L].isVisible();)L--,I=!0;if(L===0&&!this.modelLineProjections[L].isVisible())return new k.Position(g?0:1,1);const T=1+this.projectedModelLineLineCounts.getPrefixSum(L);let N;return I?d?N=this.modelLineProjections[L].getViewPositionOfModelPosition(T,1,l):N=this.modelLineProjections[L].getViewPositionOfModelPosition(T,this.model.getLineMaxColumn(L+1),l):N=this.modelLineProjections[_-1].getViewPositionOfModelPosition(T,S,l),N}convertModelRangeToViewRange(a,h=0){if(a.isEmpty()){const l=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,h);return E.Range.fromPositions(l)}else{const l=this.convertModelPositionToViewPosition(a.startLineNumber,a.startColumn,1),g=this.convertModelPositionToViewPosition(a.endLineNumber,a.endColumn,0);return new E.Range(l.lineNumber,l.column,g.lineNumber,g.column)}}getViewLineNumberOfModelPosition(a,h){let l=a-1;if(this.modelLineProjections[l].isVisible()){const d=1+this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections[l].getViewLineNumberOfModelPosition(d,h)}for(;l>0&&!this.modelLineProjections[l].isVisible();)l--;if(l===0&&!this.modelLineProjections[l].isVisible())return 1;const g=1+this.projectedModelLineLineCounts.getPrefixSum(l);return this.modelLineProjections[l].getViewLineNumberOfModelPosition(g,this.model.getLineMaxColumn(l+1))}getDecorationsInRange(a,h,l,g,d){const v=this.convertViewPositionToModelPosition(a.startLineNumber,a.startColumn),_=this.convertViewPositionToModelPosition(a.endLineNumber,a.endColumn);if(_.lineNumber-v.lineNumber<=a.endLineNumber-a.startLineNumber)return this.model.getDecorationsInRange(new E.Range(v.lineNumber,1,_.lineNumber,_.column),h,l,g,d);let S=[];const L=v.lineNumber-1,I=_.lineNumber-1;let T=null;for(let M=L;M<=I;M++)if(this.modelLineProjections[M].isVisible())T===null&&(T=new k.Position(M+1,M===L?v.column:1));else if(T!==null){const x=this.model.getLineMaxColumn(M);S=S.concat(this.model.getDecorationsInRange(new E.Range(T.lineNumber,T.column,M,x),h,l,g)),T=null}T!==null&&(S=S.concat(this.model.getDecorationsInRange(new E.Range(T.lineNumber,T.column,_.lineNumber,_.column),h,l,g)),T=null),S.sort((M,R)=>{const x=E.Range.compareRangesUsingStarts(M.range,R.range);return x===0?M.id<R.id?-1:M.id>R.id?1:0:x});const N=[];let A=0,O=null;for(const M of S){const R=M.id;O!==R&&(O=R,N[A++]=M)}return N}getInjectedTextAt(a){const h=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[h.modelLineNumber-1].getInjectedTextAt(h.modelLineWrappedLineIdx,a.column)}normalizePosition(a,h){const l=this.getViewLineInfo(a.lineNumber);return this.modelLineProjections[l.modelLineNumber-1].normalizePosition(l.modelLineWrappedLineIdx,a,h)}getLineIndentColumn(a){const h=this.getViewLineInfo(a);return h.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(h.modelLineNumber):0}}e.ViewModelLinesFromProjectedModel=s;function i(r){if(r.length===0)return[];const a=r.slice();a.sort(E.Range.compareRangesUsingStarts);const h=[];let l=a[0].startLineNumber,g=a[0].endLineNumber;for(let d=1,v=a.length;d<v;d++){const _=a[d];_.startLineNumber>g+1?(h.push(new E.Range(l,1,g,1)),l=_.startLineNumber,g=_.endLineNumber):_.endLineNumber>g&&(g=_.endLineNumber)}return h.push(new E.Range(l,1,g,1)),h}class t{constructor(a,h){this.modelLineNumber=a,this.modelLineWrappedLineIdx=h}}class n{constructor(a,h){this.modelRange=a,this.viewLines=h}}class c{constructor(a){this._lines=a}convertViewPositionToModelPosition(a){return this._lines.convertViewPositionToModelPosition(a.lineNumber,a.column)}convertViewRangeToModelRange(a){return this._lines.convertViewRangeToModelRange(a)}validateViewPosition(a,h){return this._lines.validateViewPosition(a.lineNumber,a.column,h)}validateViewRange(a,h){return this._lines.validateViewRange(a,h)}convertModelPositionToViewPosition(a,h,l,g){return this._lines.convertModelPositionToViewPosition(a.lineNumber,a.column,h,l,g)}convertModelRangeToViewRange(a,h){return this._lines.convertModelRangeToViewRange(a,h)}modelPositionIsVisible(a){return this._lines.modelPositionIsVisible(a.lineNumber,a.column)}getModelLineViewLineCount(a){return this._lines.getModelLineViewLineCount(a)}getViewLineNumberOfModelPosition(a,h){return this._lines.getViewLineNumberOfModelPosition(a,h)}}class m{constructor(a){this.model=a}dispose(){}createCoordinatesConverter(){return new u(this)}getHiddenAreas(){return[]}setHiddenAreas(a){return!1}setTabSize(a){return!1}setWrappingSettings(a,h,l,g){return!1}createLineBreaksComputer(){const a=[];return{addRequest:(h,l,g)=>{a.push(null)},finalize:()=>a}}onModelFlushed(){}onModelLinesDeleted(a,h,l){return new w.ViewLinesDeletedEvent(h,l)}onModelLinesInserted(a,h,l,g){return new w.ViewLinesInsertedEvent(h,l)}onModelLineChanged(a,h,l){return[!1,new w.ViewLinesChangedEvent(h,1),null,null]}acceptVersionId(a){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(a,h,l){return{startLineNumber:a,endLineNumber:a,indent:0}}getViewLinesBracketGuides(a,h,l){return new Array(h-a+1).fill([])}getViewLinesIndentGuides(a,h){const l=h-a+1,g=new Array(l);for(let d=0;d<l;d++)g[d]=0;return g}getViewLineContent(a){return this.model.getLineContent(a)}getViewLineLength(a){return this.model.getLineLength(a)}getViewLineMinColumn(a){return this.model.getLineMinColumn(a)}getViewLineMaxColumn(a){return this.model.getLineMaxColumn(a)}getViewLineData(a){const h=this.model.tokenization.getLineTokens(a),l=h.getLineContent();return new o.ViewLineData(l,!1,1,l.length+1,0,h.inflate(),null)}getViewLinesData(a,h,l){const g=this.model.getLineCount();a=Math.min(Math.max(1,a),g),h=Math.min(Math.max(1,h),g);const d=[];for(let v=a;v<=h;v++){const _=v-a;d[_]=l[_]?this.getViewLineData(v):null}return d}getDecorationsInRange(a,h,l,g,d){return this.model.getDecorationsInRange(a,h,l,g,d)}normalizePosition(a,h){return this.model.normalizePosition(a,h)}getLineIndentColumn(a){return this.model.getLineIndentColumn(a)}getInjectedTextAt(a){return null}}e.ViewModelLinesFromModelAsIs=m;class u{constructor(a){this._lines=a}_validPosition(a){return this._lines.model.validatePosition(a)}_validRange(a){return this._lines.model.validateRange(a)}convertViewPositionToModelPosition(a){return this._validPosition(a)}convertViewRangeToModelRange(a){return this._validRange(a)}validateViewPosition(a,h){return this._validPosition(h)}validateViewRange(a,h){return this._validRange(h)}convertModelPositionToViewPosition(a){return this._validPosition(a)}convertModelRangeToViewRange(a){return this._validRange(a)}modelPositionIsVisible(a){const h=this._lines.model.getLineCount();return!(a.lineNumber<1||a.lineNumber>h)}getModelLineViewLineCount(a){return 1}getViewLineNumberOfModelPosition(a,h){return a}}}),define(ie[940],ne([1,0,13,15,35,2,17,12,38,838,79,9,5,127,28,85,358,235,585,360,91,357,236,939,580]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ViewModel=void 0;const v=!0;class _ extends D.Disposable{constructor(M,R,x,F,W,H,z,j,K){if(super(),this.languageConfigurationService=z,this._themeService=j,this._attachedView=K,this.hiddenAreasModel=new I,this.previousHiddenAreas=[],this._editorId=M,this._configuration=R,this.model=x,this._eventDispatcher=new l.ViewModelEventDispatcher,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._updateConfigurationViewLineCount=this._register(new k.RunOnceScheduler(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=S.create(this.model),this.glyphLanes=new d.GlyphMarginLanesModel(0),v&&this.model.isTooLargeForTokenization())this._lines=new g.ViewModelLinesFromModelAsIs(this.model);else{const U=this._configuration.options,G=U.get(50),te=U.get(139),ee=U.get(146),Y=U.get(138),P=U.get(129);this._lines=new g.ViewModelLinesFromProjectedModel(this._editorId,this.model,F,W,G,this.model.getOptions().tabSize,te,ee.wrappingColumn,Y,P)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new b.CursorsController(x,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new u.ViewLayout(this._configuration,this.getLineCount(),H)),this._register(this.viewLayout.onDidScroll(U=>{U.scrollTopChanged&&this._handleVisibleLinesChanged(),U.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new m.ViewScrollChangedEvent(U)),this._eventDispatcher.emitOutgoingEvent(new l.ScrollChangedEvent(U.oldScrollWidth,U.oldScrollLeft,U.oldScrollHeight,U.oldScrollTop,U.scrollWidth,U.scrollLeft,U.scrollHeight,U.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(U=>{this._eventDispatcher.emitOutgoingEvent(U)})),this._decorations=new h.ViewModelDecorations(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(U=>{try{const G=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(G,U)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(r.MinimapTokensColorTracker.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new m.ViewTokensColorsChangedEvent)})),this._register(this._themeService.onDidColorThemeChange(U=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new m.ViewThemeChangedEvent(U))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(M){this._eventDispatcher.addViewEventHandler(M)}removeViewEventHandler(M){this._eventDispatcher.removeViewEventHandler(M)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}getModelVisibleRanges(){const M=this.viewLayout.getLinesViewportData(),R=new s.Range(M.startLineNumber,this.getLineMinColumn(M.startLineNumber),M.endLineNumber,this.getLineMaxColumn(M.endLineNumber));return this._toModelVisibleRanges(R)}visibleLinesStabilized(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!0)}_handleVisibleLinesChanged(){const M=this.getModelVisibleRanges();this._attachedView.setVisibleLines(M,!1)}setHasFocus(M){this._hasFocus=M,this._cursor.setHasFocus(M),this._eventDispatcher.emitSingleViewEvent(new m.ViewFocusChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new l.FocusChangedEvent(!M,M))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new m.ViewCompositionStartEvent)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new m.ViewCompositionEndEvent)}_captureStableViewport(){if(this._viewportStart.isValid&&this.viewLayout.getCurrentScrollTop()>0){const M=new o.Position(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber)),R=this.coordinatesConverter.convertViewPositionToModelPosition(M);return new A(R,this._viewportStart.startLineDelta)}return new A(null,0)}_onConfigurationChanged(M,R){const x=this._captureStableViewport(),F=this._configuration.options,W=F.get(50),H=F.get(139),z=F.get(146),j=F.get(138),K=F.get(129);this._lines.setWrappingSettings(W,H,z.wrappingColumn,j,K)&&(M.emitViewEvent(new m.ViewFlushedEvent),M.emitViewEvent(new m.ViewLineMappingChangedEvent),M.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(M),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this._updateConfigurationViewLineCount.schedule()),R.hasChanged(91)&&(this._decorations.reset(),M.emitViewEvent(new m.ViewDecorationsChangedEvent(null))),R.hasChanged(98)&&(this._decorations.reset(),M.emitViewEvent(new m.ViewDecorationsChangedEvent(null))),M.emitViewEvent(new m.ViewConfigurationChangedEvent(R)),this.viewLayout.onConfigurationChanged(R),x.recoverViewportStart(this.coordinatesConverter,this.viewLayout),C.CursorConfiguration.shouldRecreate(R)&&(this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(M=>{try{const x=this._eventDispatcher.beginEmitViewEvents();let F=!1,W=!1;const H=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.changes:M.changes,z=M instanceof i.InternalModelContentChangeEvent?M.rawContentChangedEvent.versionId:null,j=this._lines.createLineBreaksComputer();for(const G of H)switch(G.changeType){case 4:{for(let te=0;te<G.detail.length;te++){const ee=G.detail[te];let Y=G.injectedTexts[te];Y&&(Y=Y.filter(P=>!P.ownerId||P.ownerId===this._editorId)),j.addRequest(ee,Y,null)}break}case 2:{let te=null;G.injectedText&&(te=G.injectedText.filter(ee=>!ee.ownerId||ee.ownerId===this._editorId)),j.addRequest(G.detail,te,null);break}}const K=j.finalize(),U=new f.ArrayQueue(K);for(const G of H)switch(G.changeType){case 1:{this._lines.onModelFlushed(),x.emitViewEvent(new m.ViewFlushedEvent),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),F=!0;break}case 3:{const te=this._lines.onModelLinesDeleted(z,G.fromLineNumber,G.toLineNumber);te!==null&&(x.emitViewEvent(te),this.viewLayout.onLinesDeleted(te.fromLineNumber,te.toLineNumber)),F=!0;break}case 4:{const te=U.takeCount(G.detail.length),ee=this._lines.onModelLinesInserted(z,G.fromLineNumber,G.toLineNumber,te);ee!==null&&(x.emitViewEvent(ee),this.viewLayout.onLinesInserted(ee.fromLineNumber,ee.toLineNumber)),F=!0;break}case 2:{const te=U.dequeue(),[ee,Y,P,Z]=this._lines.onModelLineChanged(z,G.lineNumber,te);W=ee,Y&&x.emitViewEvent(Y),P&&(x.emitViewEvent(P),this.viewLayout.onLinesInserted(P.fromLineNumber,P.toLineNumber)),Z&&(x.emitViewEvent(Z),this.viewLayout.onLinesDeleted(Z.fromLineNumber,Z.toLineNumber));break}case 5:break}z!==null&&this._lines.acceptVersionId(z),this.viewLayout.onHeightMaybeChanged(),!F&&W&&(x.emitViewEvent(new m.ViewLineMappingChangedEvent),x.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(x),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const R=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&R){const x=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(x){const F=this.coordinatesConverter.convertModelPositionToViewPosition(x.getStartPosition()),W=this.viewLayout.getVerticalOffsetForLineNumber(F.lineNumber);this.viewLayout.setScrollPosition({scrollTop:W+this._viewportStart.startLineDelta},1)}}try{const x=this._eventDispatcher.beginEmitViewEvents();M instanceof i.InternalModelContentChangeEvent&&x.emitOutgoingEvent(new l.ModelContentChangedEvent(M.contentChangedEvent)),this._cursor.onModelContentChanged(x,M)}finally{this._eventDispatcher.endEmitViewEvents()}this._handleVisibleLinesChanged()})),this._register(this.model.onDidChangeTokens(M=>{const R=[];for(let x=0,F=M.ranges.length;x<F;x++){const W=M.ranges[x],H=this.coordinatesConverter.convertModelPositionToViewPosition(new o.Position(W.fromLineNumber,1)).lineNumber,z=this.coordinatesConverter.convertModelPositionToViewPosition(new o.Position(W.toLineNumber,this.model.getLineMaxColumn(W.toLineNumber))).lineNumber;R[x]={fromLineNumber:H,toLineNumber:z}}this._eventDispatcher.emitSingleViewEvent(new m.ViewTokensChangedEvent(R)),this._eventDispatcher.emitOutgoingEvent(new l.ModelTokensChangedEvent(M))})),this._register(this.model.onDidChangeLanguageConfiguration(M=>{this._eventDispatcher.emitSingleViewEvent(new m.ViewLanguageConfigurationEvent),this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new l.ModelLanguageConfigurationChangedEvent(M))})),this._register(this.model.onDidChangeLanguage(M=>{this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new l.ModelLanguageChangedEvent(M))})),this._register(this.model.onDidChangeOptions(M=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const R=this._eventDispatcher.beginEmitViewEvents();R.emitViewEvent(new m.ViewFlushedEvent),R.emitViewEvent(new m.ViewLineMappingChangedEvent),R.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(R),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new C.CursorConfiguration(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new l.ModelOptionsChangedEvent(M))})),this._register(this.model.onDidChangeDecorations(M=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new m.ViewDecorationsChangedEvent(M)),this._eventDispatcher.emitOutgoingEvent(new l.ModelDecorationsChangedEvent(M))}))}setHiddenAreas(M,R){var x;this.hiddenAreasModel.setHiddenAreas(R,M);const F=this.hiddenAreasModel.getMergedRanges();if(F===this.previousHiddenAreas)return;this.previousHiddenAreas=F;const W=this._captureStableViewport();let H=!1;try{const z=this._eventDispatcher.beginEmitViewEvents();H=this._lines.setHiddenAreas(F),H&&(z.emitViewEvent(new m.ViewFlushedEvent),z.emitViewEvent(new m.ViewLineMappingChangedEvent),z.emitViewEvent(new m.ViewDecorationsChangedEvent(null)),this._cursor.onLineMappingChanged(z),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged());const j=(x=W.viewportStartModelPosition)===null||x===void 0?void 0:x.lineNumber;j&&F.some(U=>U.startLineNumber<=j&&j<=U.endLineNumber)||W.recoverViewportStart(this.coordinatesConverter,this.viewLayout)}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),H&&this._eventDispatcher.emitOutgoingEvent(new l.HiddenAreasChangedEvent)}getVisibleRangesPlusViewportAboveBelow(){const M=this._configuration.options.get(145),R=this._configuration.options.get(67),x=Math.max(20,Math.round(M.height/R)),F=this.viewLayout.getLinesViewportData(),W=Math.max(1,F.completelyVisibleStartLineNumber-x),H=Math.min(this.getLineCount(),F.completelyVisibleEndLineNumber+x);return this._toModelVisibleRanges(new s.Range(W,this.getLineMinColumn(W),H,this.getLineMaxColumn(H)))}getVisibleRanges(){const M=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(M)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(M){const R=this.coordinatesConverter.convertViewRangeToModelRange(M),x=this._lines.getHiddenAreas();if(x.length===0)return[R];const F=[];let W=0,H=R.startLineNumber,z=R.startColumn;const j=R.endLineNumber,K=R.endColumn;for(let U=0,G=x.length;U<G;U++){const te=x[U].startLineNumber,ee=x[U].endLineNumber;ee<H||te>j||(H<te&&(F[W++]=new s.Range(H,z,te-1,this.model.getLineMaxColumn(te-1))),H=ee+1,z=1)}return(H<j||H===j&&z<K)&&(F[W++]=new s.Range(H,z,j,K)),F}getCompletelyVisibleViewRange(){const M=this.viewLayout.getLinesViewportData(),R=M.completelyVisibleStartLineNumber,x=M.completelyVisibleEndLineNumber;return new s.Range(R,this.getLineMinColumn(R),x,this.getLineMaxColumn(x))}getCompletelyVisibleViewRangeAtScrollTop(M){const R=this.viewLayout.getLinesViewportDataAtScrollTop(M),x=R.completelyVisibleStartLineNumber,F=R.completelyVisibleEndLineNumber;return new s.Range(x,this.getLineMinColumn(x),F,this.getLineMaxColumn(F))}saveState(){const M=this.viewLayout.saveState(),R=M.scrollTop,x=this.viewLayout.getLineNumberAtVerticalOffset(R),F=this.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(x,this.getLineMinColumn(x))),W=this.viewLayout.getVerticalOffsetForLineNumber(x)-R;return{scrollLeft:M.scrollLeft,firstPosition:F,firstPositionDeltaTop:W}}reduceRestoreState(M){if(typeof M.firstPosition>"u")return this._reduceRestoreStateCompatibility(M);const R=this.model.validatePosition(M.firstPosition),x=this.coordinatesConverter.convertModelPositionToViewPosition(R),F=this.viewLayout.getVerticalOffsetForLineNumber(x.lineNumber)-M.firstPositionDeltaTop;return{scrollLeft:M.scrollLeft,scrollTop:F}}_reduceRestoreStateCompatibility(M){return{scrollLeft:M.scrollLeft,scrollTop:M.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(M,R,x){this._viewportStart.update(this,M)}getActiveIndentGuide(M,R,x){return this._lines.getActiveIndentGuide(M,R,x)}getLinesIndentGuides(M,R){return this._lines.getViewLinesIndentGuides(M,R)}getBracketGuidesInRangeByLine(M,R,x,F){return this._lines.getViewLinesBracketGuides(M,R,x,F)}getLineContent(M){return this._lines.getViewLineContent(M)}getLineLength(M){return this._lines.getViewLineLength(M)}getLineMinColumn(M){return this._lines.getViewLineMinColumn(M)}getLineMaxColumn(M){return this._lines.getViewLineMaxColumn(M)}getLineFirstNonWhitespaceColumn(M){const R=p.firstNonWhitespaceIndex(this.getLineContent(M));return R===-1?0:R+1}getLineLastNonWhitespaceColumn(M){const R=p.lastNonWhitespaceIndex(this.getLineContent(M));return R===-1?0:R+2}getMinimapDecorationsInRange(M){return this._decorations.getMinimapDecorationsInRange(M)}getDecorationsInViewport(M){return this._decorations.getDecorationsViewportData(M).decorations}getInjectedTextAt(M){return this._lines.getInjectedTextAt(M)}getViewportViewLineRenderingData(M,R){const F=this._decorations.getDecorationsViewportData(M).inlineDecorations[R-M.startLineNumber];return this._getViewLineRenderingData(R,F)}getViewLineRenderingData(M){const R=this._decorations.getInlineDecorationsOnLine(M);return this._getViewLineRenderingData(M,R)}_getViewLineRenderingData(M,R){const x=this.model.mightContainRTL(),F=this.model.mightContainNonBasicASCII(),W=this.getTabSize(),H=this._lines.getViewLineData(M);return H.inlineDecorations&&(R=[...R,...H.inlineDecorations.map(z=>z.toInlineDecoration(M))]),new a.ViewLineRenderingData(H.minColumn,H.maxColumn,H.content,H.continuesWithWrappedLine,x,F,H.tokens,R,W,H.startVisibleColumn)}getViewLineData(M){return this._lines.getViewLineData(M)}getMinimapLinesRenderingData(M,R,x){const F=this._lines.getViewLinesData(M,R,x);return new a.MinimapLinesRenderingData(this.getTabSize(),F)}getAllOverviewRulerDecorations(M){const R=this.model.getOverviewRulerDecorations(this._editorId,(0,w.filterValidationDecorations)(this._configuration.options)),x=new L;for(const F of R){const W=F.options,H=W.overviewRuler;if(!H)continue;const z=H.position;if(z===0)continue;const j=H.getColor(M.value),K=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.startLineNumber,F.range.startColumn),U=this.coordinatesConverter.getViewLineNumberOfModelPosition(F.range.endLineNumber,F.range.endColumn);x.accept(j,W.zIndex,K,U,z)}return x.asArray}_invalidateDecorationsColorCache(){const M=this.model.getOverviewRulerDecorations();for(const R of M){const x=R.options.overviewRuler;x?.invalidateCachedColor();const F=R.options.minimap;F?.invalidateCachedColor()}}getValueInRange(M,R){const x=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueInRange(x,R)}getValueLengthInRange(M,R){const x=this.coordinatesConverter.convertViewRangeToModelRange(M);return this.model.getValueLengthInRange(x,R)}modifyPosition(M,R){const x=this.coordinatesConverter.convertViewPositionToModelPosition(M),F=this.model.modifyPosition(x,R);return this.coordinatesConverter.convertModelPositionToViewPosition(F)}deduceModelPositionRelativeToViewPosition(M,R,x){const F=this.coordinatesConverter.convertViewPositionToModelPosition(M);this.model.getEOL().length===2&&(R<0?R-=x:R+=x);const H=this.model.getOffsetAt(F)+R;return this.model.getPositionAt(H)}getPlainTextToCopy(M,R,x){const F=x?`\r
`:this.model.getEOL();M=M.slice(0),M.sort(s.Range.compareRangesUsingStarts);let W=!1,H=!1;for(const j of M)j.isEmpty()?W=!0:H=!0;if(!H){if(!R)return"";const j=M.map(U=>U.startLineNumber);let K="";for(let U=0;U<j.length;U++)U>0&&j[U-1]===j[U]||(K+=this.model.getLineContent(j[U])+F);return K}if(W&&R){const j=[];let K=0;for(const U of M){const G=U.startLineNumber;U.isEmpty()?G!==K&&j.push(this.model.getLineContent(G)):j.push(this.model.getValueInRange(U,x?2:0)),K=G}return j.length===1?j[0]:j}const z=[];for(const j of M)j.isEmpty()||z.push(this.model.getValueInRange(j,x?2:0));return z.length===1?z[0]:z}getRichTextToCopy(M,R){const x=this.model.getLanguageId();if(x===n.PLAINTEXT_LANGUAGE_ID||M.length!==1)return null;let F=M[0];if(F.isEmpty()){if(!R)return null;const U=F.startLineNumber;F=new s.Range(U,this.model.getLineMinColumn(U),U,this.model.getLineMaxColumn(U))}const W=this._configuration.options.get(50),H=this._getColorMap(),j=/[:;\\\/<>]/.test(W.fontFamily)||W.fontFamily===w.EDITOR_FONT_DEFAULTS.fontFamily;let K;return j?K=w.EDITOR_FONT_DEFAULTS.fontFamily:(K=W.fontFamily,K=K.replace(/"/g,"'"),/[,']/.test(K)||/[+ ]/.test(K)&&(K=`'${K}'`),K=`${K}, ${w.EDITOR_FONT_DEFAULTS.fontFamily}`),{mode:x,html:`<div style="color: ${H[1]};background-color: ${H[2]};font-family: ${K};font-weight: ${W.fontWeight};font-size: ${W.fontSize}px;line-height: ${W.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(F,H)+"</div>"}}_getHTMLToCopy(M,R){const x=M.startLineNumber,F=M.startColumn,W=M.endLineNumber,H=M.endColumn,z=this.getTabSize();let j="";for(let K=x;K<=W;K++){const U=this.model.tokenization.getLineTokens(K),G=U.getLineContent(),te=K===x?F-1:0,ee=K===W?H-1:G.length;G===""?j+="<br>":j+=(0,c.tokenizeLineToHTML)(G,U.inflate(),R,te,ee,z,y.isWindows)}return j}_getColorMap(){const M=t.TokenizationRegistry.getColorMap(),R=["#000000"];if(M)for(let x=1,F=M.length;x<F;x++)R[x]=E.Color.Format.CSS.formatHex(M[x]);return R}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(M,R,x){return this._withViewEventsCollector(F=>this._cursor.setStates(F,M,R,x))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(M){this._cursor.setCursorColumnSelectData(M)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(M){this._cursor.setPrevEditOperationType(M)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(M,R,x=0){this._withViewEventsCollector(F=>this._cursor.setSelections(F,M,R,x))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(M){this._withViewEventsCollector(R=>this._cursor.restoreState(R,M))}_executeCursorEdit(M){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new l.ReadOnlyEditAttemptEvent);return}this._withViewEventsCollector(M)}executeEdits(M,R,x){this._executeCursorEdit(F=>this._cursor.executeEdits(F,M,R,x))}startComposition(){this._executeCursorEdit(M=>this._cursor.startComposition(M))}endComposition(M){this._executeCursorEdit(R=>this._cursor.endComposition(R,M))}type(M,R){this._executeCursorEdit(x=>this._cursor.type(x,M,R))}compositionType(M,R,x,F,W){this._executeCursorEdit(H=>this._cursor.compositionType(H,M,R,x,F,W))}paste(M,R,x,F){this._executeCursorEdit(W=>this._cursor.paste(W,M,R,x,F))}cut(M){this._executeCursorEdit(R=>this._cursor.cut(R,M))}executeCommand(M,R){this._executeCursorEdit(x=>this._cursor.executeCommand(x,M,R))}executeCommands(M,R){this._executeCursorEdit(x=>this._cursor.executeCommands(x,M,R))}revealAllCursors(M,R,x=!1){this._withViewEventsCollector(F=>this._cursor.revealAll(F,M,x,0,R,0))}revealPrimaryCursor(M,R,x=!1){this._withViewEventsCollector(F=>this._cursor.revealPrimary(F,M,x,0,R,0))}revealTopMostCursor(M){const R=this._cursor.getTopMostViewPosition(),x=new s.Range(R.lineNumber,R.column,R.lineNumber,R.column);this._withViewEventsCollector(F=>F.emitViewEvent(new m.ViewRevealRangeRequestEvent(M,!1,x,null,0,!0,0)))}revealBottomMostCursor(M){const R=this._cursor.getBottomMostViewPosition(),x=new s.Range(R.lineNumber,R.column,R.lineNumber,R.column);this._withViewEventsCollector(F=>F.emitViewEvent(new m.ViewRevealRangeRequestEvent(M,!1,x,null,0,!0,0)))}revealRange(M,R,x,F,W){this._withViewEventsCollector(H=>H.emitViewEvent(new m.ViewRevealRangeRequestEvent(M,!1,x,null,F,R,W)))}changeWhitespace(M){this.viewLayout.changeWhitespace(M)&&(this._eventDispatcher.emitSingleViewEvent(new m.ViewZonesChangedEvent),this._eventDispatcher.emitOutgoingEvent(new l.ViewZonesChangedEvent))}_withViewEventsCollector(M){try{const R=this._eventDispatcher.beginEmitViewEvents();return M(R)}finally{this._eventDispatcher.endEmitViewEvents()}}batchEvents(M){this._withViewEventsCollector(()=>{M()})}normalizePosition(M,R){return this._lines.normalizePosition(M,R)}getLineIndentColumn(M){return this._lines.getLineIndentColumn(M)}}e.ViewModel=_;class S{static create(M){const R=M._setTrackedRange(null,new s.Range(1,1,1,1),1);return new S(M,1,!1,R,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}constructor(M,R,x,F,W){this._model=M,this._viewLineNumber=R,this._isValid=x,this._modelTrackedRange=F,this._startLineDelta=W}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(M,R){const x=M.coordinatesConverter.convertViewPositionToModelPosition(new o.Position(R,M.getLineMinColumn(R))),F=M.model._setTrackedRange(this._modelTrackedRange,new s.Range(x.lineNumber,x.column,x.lineNumber,x.column),1),W=M.viewLayout.getVerticalOffsetForLineNumber(R),H=M.viewLayout.getCurrentScrollTop();this._viewLineNumber=R,this._isValid=!0,this._modelTrackedRange=F,this._startLineDelta=H-W}invalidate(){this._isValid=!1}}class L{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(M,R,x,F,W){const H=this._asMap[M];if(H){const z=H.data,j=z[z.length-3],K=z[z.length-1];if(j===W&&K+1>=x){F>K&&(z[z.length-1]=F);return}z.push(W,x,F)}else{const z=new a.OverviewRulerDecorationsGroup(M,R,[W,x,F]);this._asMap[M]=z,this.asArray.push(z)}}}class I{constructor(){this.hiddenAreas=new Map,this.shouldRecompute=!1,this.ranges=[]}setHiddenAreas(M,R){const x=this.hiddenAreas.get(M);x&&N(x,R)||(this.hiddenAreas.set(M,R),this.shouldRecompute=!0)}getMergedRanges(){if(!this.shouldRecompute)return this.ranges;this.shouldRecompute=!1;const M=Array.from(this.hiddenAreas.values()).reduce((R,x)=>T(R,x),[]);return N(this.ranges,M)?this.ranges:(this.ranges=M,this.ranges)}}function T(O,M){const R=[];let x=0,F=0;for(;x<O.length&&F<M.length;){const W=O[x],H=M[F];if(W.endLineNumber<H.startLineNumber-1)R.push(O[x++]);else if(H.endLineNumber<W.startLineNumber-1)R.push(M[F++]);else{const z=Math.min(W.startLineNumber,H.startLineNumber),j=Math.max(W.endLineNumber,H.endLineNumber);R.push(new s.Range(z,1,j,1)),x++,F++}}for(;x<O.length;)R.push(O[x++]);for(;F<M.length;)R.push(M[F++]);return R}function N(O,M){if(O.length!==M.length)return!1;for(let R=0;R<O.length;R++)if(!O[R].equalsRange(M[R]))return!1;return!0}class A{constructor(M,R){this.viewportStartModelPosition=M,this.startLineDelta=R}recoverViewportStart(M,R){if(!this.viewportStartModelPosition)return;const x=M.convertModelPositionToViewPosition(this.viewportStartModelPosition),F=R.getVerticalOffsetForLineNumber(x.lineNumber);R.setScrollPosition({scrollTop:F+this.startLineDelta},1)}}}),define(ie[213],ne([1,0,6,10,7,2,49,71,818,223,16,36,912,645,301,642,38,90,86,9,5,24,193,309,192,21,34,37,18,582,940,662,66,25,14,8,174,51,33,23,29,854,477]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N,A,O,M,R,x,F,W,H,z){"use strict";var j;Object.defineProperty(e,"__esModule",{value:!0}),e.EditorModeContext=e.BooleanEventEmitter=e.CodeEditorWidget=void 0;let K=j=class extends D.Disposable{get isSimpleWidget(){return this._configuration.isSimpleWidget}get contextMenuId(){return this._configuration.contextMenuId}constructor(B,q,V,$,J,se,de,le,fe,ve,Ce,Se){var _e,ke;super(),this.languageConfigurationService=Ce,this._deliveryQueue=(0,E.createEventDeliveryQueue)(),this._contributions=this._register(new n.CodeEditorContributions),this._onDidDispose=this._register(new E.Emitter),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onWillChangeModel=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onWillChangeModel=this._onWillChangeModel.event,this._onDidChangeModel=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new te({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new te({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new ee(this._contributions,this._deliveryQueue)),this.onWillType=this._onWillType.event,this._onDidType=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new ee(this._contributions,this._deliveryQueue)),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new ee(this._contributions,this._deliveryQueue)),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new ee(this._contributions,this._deliveryQueue)),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new ee(this._contributions,this._deliveryQueue)),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new ee(this._contributions,this._deliveryQueue)),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new E.Emitter({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._actions=new Map,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection(),J.willCreateCodeEditor();const Ee={...q};this._domElement=B,this._overflowWidgetsDomNode=Ee.overflowWidgetsDomNode,delete Ee.overflowWidgetsDomNode,this._id=++U,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=V.telemetryData,this._configuration=this._register(this._createConfiguration(V.isSimpleWidget||!1,(_e=V.contextMenuId)!==null&&_e!==void 0?_e:V.isSimpleWidget?z.MenuId.SimpleEditorContext:z.MenuId.EditorContext,Ee,ve)),this._register(this._configuration.onDidChange(We=>{this._onDidChangeConfiguration.fire(We);const Be=this._configuration.options;if(We.hasChanged(145)){const De=Be.get(145);this._onDidLayoutChange.fire(De)}})),this._contextKeyService=this._register(de.createScoped(this._domElement)),this._notificationService=fe,this._codeEditorService=J,this._commandService=se,this._themeService=le,this._register(new Y(this,this._contextKeyService)),this._register(new P(this,this._contextKeyService,Se)),this._instantiationService=$.createChild(new x.ServiceCollection([M.IContextKeyService,this._contextKeyService])),this._modelData=null,this._focusTracker=new Z(B,this._overflowWidgetsDomNode),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={},this._glyphMarginWidgets={};let Ae;Array.isArray(V.contributions)?Ae=V.contributions:Ae=C.EditorExtensionsRegistry.getEditorContributions(),this._contributions.initialize(this,Ae,this._instantiationService);for(const We of C.EditorExtensionsRegistry.getEditorActions()){if(this._actions.has(We.id)){(0,k.onUnexpectedError)(new Error(`Cannot have two actions with the same id ${We.id}`));continue}const Be=new g.InternalEditorAction(We.id,We.label,We.alias,We.metadata,(ke=We.precondition)!==null&&ke!==void 0?ke:void 0,De=>this._instantiationService.invokeFunction(Ne=>Promise.resolve(We.runEditorCommand(Ne,this,De))),this._contextKeyService);this._actions.set(Be.id,Be)}const xe=()=>!this._configuration.options.get(91)&&this._configuration.options.get(36).enabled;this._register(new f.DragAndDropObserver(this._domElement,{onDragOver:We=>{if(!xe())return;const Be=this.getTargetAtClientPoint(We.clientX,We.clientY);Be?.position&&this.showDropIndicatorAt(Be.position)},onDrop:async We=>{if(!xe()||(this.removeDropIndicator(),!We.dataTransfer))return;const Be=this.getTargetAtClientPoint(We.clientX,We.clientY);Be?.position&&this._onDropIntoEditor.fire({position:Be.position,event:We})},onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}writeScreenReaderContent(B){var q;(q=this._modelData)===null||q===void 0||q.view.writeScreenReaderContent(B)}_createConfiguration(B,q,V,$){return new w.EditorConfiguration(B,q,V,this._domElement,$)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return d.EditorType.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose(),this._actions.clear(),this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(B){return this._instantiationService.invokeFunction(B)}updateOptions(B){this._configuration.updateOptions(B||{})}getOptions(){return this._configuration.options}getOption(B){return this._configuration.options.get(B)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(B){return this._modelData?l.WordOperations.getWordAtPosition(this._modelData.model,this._configuration.options.get(131),this._configuration.options.get(130),B):null}getValue(B=null){if(!this._modelData)return"";const q=!!(B&&B.preserveBOM);let V=0;return B&&B.lineEnding&&B.lineEnding===`
`?V=1:B&&B.lineEnding&&B.lineEnding===`\r
`&&(V=2),this._modelData.model.getValue(V,q)}setValue(B){this._modelData&&this._modelData.model.setValue(B)}getModel(){return this._modelData?this._modelData.model:null}setModel(B=null){var q;const V=B;if(this._modelData===null&&V===null||this._modelData&&this._modelData.model===V)return;const $={oldModelUrl:((q=this._modelData)===null||q===void 0?void 0:q.model.uri)||null,newModelUrl:V?.uri||null};this._onWillChangeModel.fire($);const J=this.hasTextFocus(),se=this._detachModel();this._attachModel(V),J&&this.hasModel()&&this.focus(),this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(se),this._contributionsDisposable=this._contributions.onAfterModelAttached()}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const B in this._decorationTypeSubtypes){const q=this._decorationTypeSubtypes[B];for(const V in q)this._removeDecorationType(B+"-"+V)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(B,q,V,$){const J=B.model.validatePosition({lineNumber:q,column:V}),se=B.viewModel.coordinatesConverter.convertModelPositionToViewPosition(J);return B.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(se.lineNumber,$)}getTopForLineNumber(B,q=!1){return this._modelData?j._getVerticalOffsetForPosition(this._modelData,B,1,q):-1}getTopForPosition(B,q){return this._modelData?j._getVerticalOffsetForPosition(this._modelData,B,q,!1):-1}static _getVerticalOffsetForPosition(B,q,V,$=!1){const J=B.model.validatePosition({lineNumber:q,column:V}),se=B.viewModel.coordinatesConverter.convertModelPositionToViewPosition(J);return B.viewModel.viewLayout.getVerticalOffsetForLineNumber(se.lineNumber,$)}getBottomForLineNumber(B,q=!1){return this._modelData?j._getVerticalOffsetAfterPosition(this._modelData,B,1,q):-1}setHiddenAreas(B,q){var V;(V=this._modelData)===null||V===void 0||V.viewModel.setHiddenAreas(B.map($=>a.Range.lift($)),q)}getVisibleColumnFromPosition(B){if(!this._modelData)return B.column;const q=this._modelData.model.validatePosition(B),V=this._modelData.model.getOptions().tabSize;return m.CursorColumns.visibleColumnFromColumn(this._modelData.model.getLineContent(q.lineNumber),q.column,V)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(B,q="api"){if(this._modelData){if(!r.Position.isIPosition(B))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,[{selectionStartLineNumber:B.lineNumber,selectionStartColumn:B.column,positionLineNumber:B.lineNumber,positionColumn:B.column}])}}_sendRevealRange(B,q,V,$){if(!this._modelData)return;if(!a.Range.isIRange(B))throw new Error("Invalid arguments");const J=this._modelData.model.validateRange(B),se=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange(J);this._modelData.viewModel.revealRange("api",V,se,q,$)}revealLine(B,q=0){this._revealLine(B,0,q)}revealLineInCenter(B,q=0){this._revealLine(B,1,q)}revealLineInCenterIfOutsideViewport(B,q=0){this._revealLine(B,2,q)}revealLineNearTop(B,q=0){this._revealLine(B,5,q)}_revealLine(B,q,V){if(typeof B!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(B,1,B,1),q,!1,V)}revealPosition(B,q=0){this._revealPosition(B,0,!0,q)}revealPositionInCenter(B,q=0){this._revealPosition(B,1,!0,q)}revealPositionInCenterIfOutsideViewport(B,q=0){this._revealPosition(B,2,!0,q)}revealPositionNearTop(B,q=0){this._revealPosition(B,5,!0,q)}_revealPosition(B,q,V,$){if(!r.Position.isIPosition(B))throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(B.lineNumber,B.column,B.lineNumber,B.column),q,V,$)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(B,q="api"){const V=h.Selection.isISelection(B),$=a.Range.isIRange(B);if(!V&&!$)throw new Error("Invalid arguments");if(V)this._setSelectionImpl(B,q);else if($){const J={selectionStartLineNumber:B.startLineNumber,selectionStartColumn:B.startColumn,positionLineNumber:B.endLineNumber,positionColumn:B.endColumn};this._setSelectionImpl(J,q)}}_setSelectionImpl(B,q){if(!this._modelData)return;const V=new h.Selection(B.selectionStartLineNumber,B.selectionStartColumn,B.positionLineNumber,B.positionColumn);this._modelData.viewModel.setSelections(q,[V])}revealLines(B,q,V=0){this._revealLines(B,q,0,V)}revealLinesInCenter(B,q,V=0){this._revealLines(B,q,1,V)}revealLinesInCenterIfOutsideViewport(B,q,V=0){this._revealLines(B,q,2,V)}revealLinesNearTop(B,q,V=0){this._revealLines(B,q,5,V)}_revealLines(B,q,V,$){if(typeof B!="number"||typeof q!="number")throw new Error("Invalid arguments");this._sendRevealRange(new a.Range(B,1,q,1),V,!1,$)}revealRange(B,q=0,V=!1,$=!0){this._revealRange(B,V?1:0,$,q)}revealRangeInCenter(B,q=0){this._revealRange(B,1,!0,q)}revealRangeInCenterIfOutsideViewport(B,q=0){this._revealRange(B,2,!0,q)}revealRangeNearTop(B,q=0){this._revealRange(B,5,!0,q)}revealRangeNearTopIfOutsideViewport(B,q=0){this._revealRange(B,6,!0,q)}revealRangeAtTop(B,q=0){this._revealRange(B,3,!0,q)}_revealRange(B,q,V,$){if(!a.Range.isIRange(B))throw new Error("Invalid arguments");this._sendRevealRange(a.Range.lift(B),q,V,$)}setSelections(B,q="api",V=0){if(this._modelData){if(!B||B.length===0)throw new Error("Invalid arguments");for(let $=0,J=B.length;$<J;$++)if(!h.Selection.isISelection(B[$]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(q,B,V)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(B,q=1){if(this._modelData){if(typeof B!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:B},q)}}setScrollTop(B,q=1){if(this._modelData){if(typeof B!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:B},q)}}setScrollPosition(B,q=1){this._modelData&&this._modelData.viewModel.viewLayout.setScrollPosition(B,q)}hasPendingScrollAnimation(){return this._modelData?this._modelData.viewModel.viewLayout.hasPendingScrollAnimation():!1}saveViewState(){if(!this._modelData)return null;const B=this._contributions.saveViewState(),q=this._modelData.viewModel.saveCursorState(),V=this._modelData.viewModel.saveState();return{cursorState:q,viewState:V,contributionsState:B}}restoreViewState(B){if(!this._modelData||!this._modelData.hasRealView)return;const q=B;if(q&&q.cursorState&&q.viewState){const V=q.cursorState;Array.isArray(V)?V.length>0&&this._modelData.viewModel.restoreCursorState(V):this._modelData.viewModel.restoreCursorState([V]),this._contributions.restoreViewState(q.contributionsState||{});const $=this._modelData.viewModel.reduceRestoreState(q.viewState);this._modelData.view.restoreState($)}}handleInitialized(){var B;(B=this._getViewModel())===null||B===void 0||B.visibleLinesStabilized()}getContribution(B){return this._contributions.get(B)}getActions(){return Array.from(this._actions.values())}getSupportedActions(){let B=this.getActions();return B=B.filter(q=>q.isSupported()),B}getAction(B){return this._actions.get(B)||null}trigger(B,q,V){switch(V=V||{},q){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(B);return;case"type":{const J=V;this._type(B,J.text||"");return}case"replacePreviousChar":{const J=V;this._compositionType(B,J.text||"",J.replaceCharCnt||0,0,0);return}case"compositionType":{const J=V;this._compositionType(B,J.text||"",J.replacePrevCharCnt||0,J.replaceNextCharCnt||0,J.positionDelta||0);return}case"paste":{const J=V;this._paste(B,J.text||"",J.pasteOnNewLine||!1,J.multicursorText||null,J.mode||null,J.clipboardEvent);return}case"cut":this._cut(B);return}const $=this.getAction(q);if($){Promise.resolve($.run(V)).then(void 0,k.onUnexpectedError);return}this._modelData&&(this._triggerEditorCommand(B,q,V)||this._triggerCommand(q,V))}_triggerCommand(B,q){this._commandService.executeCommand(B,q)}_startComposition(){this._modelData&&(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(B){this._modelData&&(this._modelData.viewModel.endComposition(B),this._onDidCompositionEnd.fire())}_type(B,q){!this._modelData||q.length===0||(B==="keyboard"&&this._onWillType.fire(q),this._modelData.viewModel.type(q,B),B==="keyboard"&&this._onDidType.fire(q))}_compositionType(B,q,V,$,J){this._modelData&&this._modelData.viewModel.compositionType(q,V,$,J,B)}_paste(B,q,V,$,J,se){if(!this._modelData)return;const de=this._modelData.viewModel,le=de.getSelection().getStartPosition();de.paste(q,V,$,B);const fe=de.getSelection().getStartPosition();B==="keyboard"&&this._onDidPaste.fire({clipboardEvent:se,range:new a.Range(le.lineNumber,le.column,fe.lineNumber,fe.column),languageId:J})}_cut(B){this._modelData&&this._modelData.viewModel.cut(B)}_triggerEditorCommand(B,q,V){const $=C.EditorExtensionsRegistry.getEditorCommand(q);return $?(V=V||{},V.source=B,this._instantiationService.invokeFunction(J=>{Promise.resolve($.runEditorCommand(J,this,V)).then(void 0,k.onUnexpectedError)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(91)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(B,q,V){if(!this._modelData||this._configuration.options.get(91))return!1;let $;return V?Array.isArray(V)?$=()=>V:$=V:$=()=>null,this._modelData.viewModel.executeEdits(B,q,$),!0}executeCommand(B,q){this._modelData&&this._modelData.viewModel.executeCommand(q,B)}executeCommands(B,q){this._modelData&&this._modelData.viewModel.executeCommands(q,B)}createDecorationsCollection(B){return new re(this,B)}changeDecorations(B){return this._modelData?this._modelData.model.changeDecorations(B,this._id):null}getLineDecorations(B){return this._modelData?this._modelData.model.getLineDecorations(B,this._id,(0,c.filterValidationDecorations)(this._configuration.options)):null}getDecorationsInRange(B){return this._modelData?this._modelData.model.getDecorationsInRange(B,this._id,(0,c.filterValidationDecorations)(this._configuration.options)):null}deltaDecorations(B,q){return this._modelData?B.length===0&&q.length===0?B:this._modelData.model.deltaDecorations(B,q,this._id):[]}removeDecorations(B){!this._modelData||B.length===0||this._modelData.model.changeDecorations(q=>{q.deltaDecorations(B,[])})}removeDecorationsByType(B){const q=this._decorationTypeKeysToIds[B];q&&this.changeDecorations(V=>V.deltaDecorations(q,[])),this._decorationTypeKeysToIds.hasOwnProperty(B)&&delete this._decorationTypeKeysToIds[B],this._decorationTypeSubtypes.hasOwnProperty(B)&&delete this._decorationTypeSubtypes[B]}getLayoutInfo(){return this._configuration.options.get(145)}createOverviewRuler(B){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(B)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(B){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(B)}delegateScrollFromMouseWheelEvent(B){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateScrollFromMouseWheelEvent(B)}layout(B,q=!1){this._configuration.observeContainer(B),q||this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(B){const q={widget:B,position:B.getPosition()};this._contentWidgets.hasOwnProperty(B.getId())&&console.warn("Overwriting a content widget with the same id:"+B.getId()),this._contentWidgets[B.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(q)}layoutContentWidget(B){const q=B.getId();if(this._contentWidgets.hasOwnProperty(q)){const V=this._contentWidgets[q];V.position=B.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(V)}}removeContentWidget(B){const q=B.getId();if(this._contentWidgets.hasOwnProperty(q)){const V=this._contentWidgets[q];delete this._contentWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(V)}}addOverlayWidget(B){const q={widget:B,position:B.getPosition()};this._overlayWidgets.hasOwnProperty(B.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[B.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(q)}layoutOverlayWidget(B){const q=B.getId();if(this._overlayWidgets.hasOwnProperty(q)){const V=this._overlayWidgets[q];V.position=B.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(V)}}removeOverlayWidget(B){const q=B.getId();if(this._overlayWidgets.hasOwnProperty(q)){const V=this._overlayWidgets[q];delete this._overlayWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(V)}}addGlyphMarginWidget(B){const q={widget:B,position:B.getPosition()};this._glyphMarginWidgets.hasOwnProperty(B.getId())&&console.warn("Overwriting a glyph margin widget with the same id."),this._glyphMarginWidgets[B.getId()]=q,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addGlyphMarginWidget(q)}layoutGlyphMarginWidget(B){const q=B.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const V=this._glyphMarginWidgets[q];V.position=B.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutGlyphMarginWidget(V)}}removeGlyphMarginWidget(B){const q=B.getId();if(this._glyphMarginWidgets.hasOwnProperty(q)){const V=this._glyphMarginWidgets[q];delete this._glyphMarginWidgets[q],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeGlyphMarginWidget(V)}}changeViewZones(B){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(B)}getTargetAtClientPoint(B,q){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(B,q)}getScrolledVisiblePosition(B){if(!this._modelData||!this._modelData.hasRealView)return null;const q=this._modelData.model.validatePosition(B),V=this._configuration.options,$=V.get(145),J=j._getVerticalOffsetForPosition(this._modelData,q.lineNumber,q.column)-this.getScrollTop(),se=this._modelData.view.getOffsetForColumn(q.lineNumber,q.column)+$.glyphMarginWidth+$.lineNumbersWidth+$.decorationsWidth-this.getScrollLeft();return{top:J,left:se,height:V.get(67)}}getOffsetForColumn(B,q){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(B,q)}render(B=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.viewModel.batchEvents(()=>{this._modelData.view.render(!0,B)})}setAriaOptions(B){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(B)}applyFontInfo(B){(0,p.applyFontInfo)(B,this._configuration.options.get(50))}setBanner(B,q){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=B,this._configuration.setReservedHeight(B?q:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(B){if(!B){this._modelData=null;return}const q=[];this._domElement.setAttribute("data-mode-id",B.getLanguageId()),this._configuration.setIsDominatedByLongLines(B.isDominatedByLongLines()),this._configuration.setModelLineCount(B.getLineCount());const V=B.onBeforeAttached(),$=new T.ViewModel(this._id,this._configuration,B,i.DOMLineBreaksComputerFactory.create(f.getWindow(this._domElement)),I.MonospaceLineBreaksComputerFactory.create(this._configuration.options),de=>f.scheduleAtNextAnimationFrame(f.getWindow(this._domElement),de),this.languageConfigurationService,this._themeService,V);q.push(B.onWillDispose(()=>this.setModel(null))),q.push($.onEvent(de=>{switch(de.kind){case 0:this._onDidContentSizeChange.fire(de);break;case 1:this._editorTextFocus.setValue(de.hasFocus);break;case 2:this._onDidScrollChange.fire(de);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{if(de.reachedMaxCursorCount){const Ce=this.getOption(80),Se=N.localize(0,null,Ce);this._notificationService.prompt(F.Severity.Warning,Se,[{label:"Find and Replace",run:()=>{this._commandService.executeCommand("editor.action.startFindReplaceAction")}},{label:N.localize(1,null),run:()=>{this._commandService.executeCommand("workbench.action.openSettings2",{query:"editor.multiCursorLimit"})}}])}const le=[];for(let Ce=0,Se=de.selections.length;Ce<Se;Ce++)le[Ce]=de.selections[Ce].getPosition();const fe={position:le[0],secondaryPositions:le.slice(1),reason:de.reason,source:de.source};this._onDidChangeCursorPosition.fire(fe);const ve={selection:de.selections[0],secondarySelections:de.selections.slice(1),modelVersionId:de.modelVersionId,oldSelections:de.oldSelections,oldModelVersionId:de.oldModelVersionId,source:de.source,reason:de.reason};this._onDidChangeCursorSelection.fire(ve);break}case 7:this._onDidChangeModelDecorations.fire(de.event);break;case 8:this._domElement.setAttribute("data-mode-id",B.getLanguageId()),this._onDidChangeModelLanguage.fire(de.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(de.event);break;case 10:this._onDidChangeModelContent.fire(de.event);break;case 11:this._onDidChangeModelOptions.fire(de.event);break;case 12:this._onDidChangeModelTokens.fire(de.event);break}}));const[J,se]=this._createView($);if(se){this._domElement.appendChild(J.domNode.domNode);let de=Object.keys(this._contentWidgets);for(let le=0,fe=de.length;le<fe;le++){const ve=de[le];J.addContentWidget(this._contentWidgets[ve])}de=Object.keys(this._overlayWidgets);for(let le=0,fe=de.length;le<fe;le++){const ve=de[le];J.addOverlayWidget(this._overlayWidgets[ve])}de=Object.keys(this._glyphMarginWidgets);for(let le=0,fe=de.length;le<fe;le++){const ve=de[le];J.addGlyphMarginWidget(this._glyphMarginWidgets[ve])}J.render(!1,!0),J.domNode.domNode.setAttribute("data-uri",B.uri.toString())}this._modelData=new G(B,$,J,se,q,V)}_createView(B){let q;this.isSimpleWidget?q={paste:(J,se,de,le)=>{this._paste("keyboard",J,se,de,le)},type:J=>{this._type("keyboard",J)},compositionType:(J,se,de,le)=>{this._compositionType("keyboard",J,se,de,le)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:q={paste:(J,se,de,le)=>{const fe={text:J,pasteOnNewLine:se,multicursorText:de,mode:le};this._commandService.executeCommand("paste",fe)},type:J=>{const se={text:J};this._commandService.executeCommand("type",se)},compositionType:(J,se,de,le)=>{if(de||le){const fe={text:J,replacePrevCharCnt:se,replaceNextCharCnt:de,positionDelta:le};this._commandService.executeCommand("compositionType",fe)}else{const fe={text:J,replaceCharCnt:se};this._commandService.executeCommand("replacePreviousChar",fe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const V=new t.ViewUserInputEvents(B.coordinatesConverter);return V.onKeyDown=J=>this._onKeyDown.fire(J),V.onKeyUp=J=>this._onKeyUp.fire(J),V.onContextMenu=J=>this._onContextMenu.fire(J),V.onMouseMove=J=>this._onMouseMove.fire(J),V.onMouseLeave=J=>this._onMouseLeave.fire(J),V.onMouseDown=J=>this._onMouseDown.fire(J),V.onMouseUp=J=>this._onMouseUp.fire(J),V.onMouseDrag=J=>this._onMouseDrag.fire(J),V.onMouseDrop=J=>this._onMouseDrop.fire(J),V.onMouseDropCanceled=J=>this._onMouseDropCanceled.fire(J),V.onMouseWheel=J=>this._onMouseWheel.fire(J),[new s.View(q,this._configuration,this._themeService.getColorTheme(),B,V,this._overflowWidgetsDomNode,this._instantiationService),!0]}_postDetachModelCleanup(B){B?.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){var B;if((B=this._contributionsDisposable)===null||B===void 0||B.dispose(),this._contributionsDisposable=void 0,!this._modelData)return null;const q=this._modelData.model,V=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),V&&this._domElement.contains(V)&&this._domElement.removeChild(V),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),q}_removeDecorationType(B){this._codeEditorService.removeDecorationType(B)}hasModel(){return this._modelData!==null}showDropIndicatorAt(B){const q=[{range:new a.Range(B.lineNumber,B.column,B.lineNumber,B.column),options:j.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(q),this.revealPosition(B,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}setContextValue(B,q){this._contextKeyService.createKey(B,q)}};e.CodeEditorWidget=K,K.dropIntoEditorDecorationOptions=S.ModelDecorationOptions.register({description:"workbench-dnd-target",className:"dnd-target"}),e.CodeEditorWidget=K=j=Ie([ue(3,R.IInstantiationService),ue(4,o.ICodeEditorService),ue(5,O.ICommandService),ue(6,M.IContextKeyService),ue(7,H.IThemeService),ue(8,F.INotificationService),ue(9,A.IAccessibilityService),ue(10,_.ILanguageConfigurationService),ue(11,L.ILanguageFeaturesService)],K);let U=0;class G{constructor(B,q,V,$,J,se){this.model=B,this.viewModel=q,this.view=V,this.hasRealView=$,this.listenersToRemove=J,this.attachedView=se}dispose(){(0,D.dispose)(this.listenersToRemove),this.model.onBeforeDetached(this.attachedView),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}class te extends D.Disposable{constructor(B){super(),this._emitterOptions=B,this._onDidChangeToTrue=this._register(new E.Emitter(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new E.Emitter(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(B){const q=B?2:1;this._value!==q&&(this._value=q,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}e.BooleanEventEmitter=te;class ee extends E.Emitter{constructor(B,q){super({deliveryQueue:q}),this._contributions=B}fire(B){this._contributions.onBeforeInteractionEvent(),super.fire(B)}}class Y extends D.Disposable{constructor(B,q){super(),this._editor=B,q.createKey("editorId",B.getId()),this._editorSimpleInput=v.EditorContextKeys.editorSimpleInput.bindTo(q),this._editorFocus=v.EditorContextKeys.focus.bindTo(q),this._textInputFocus=v.EditorContextKeys.textInputFocus.bindTo(q),this._editorTextFocus=v.EditorContextKeys.editorTextFocus.bindTo(q),this._tabMovesFocus=v.EditorContextKeys.tabMovesFocus.bindTo(q),this._editorReadonly=v.EditorContextKeys.readOnly.bindTo(q),this._inDiffEditor=v.EditorContextKeys.inDiffEditor.bindTo(q),this._editorColumnSelection=v.EditorContextKeys.columnSelection.bindTo(q),this._hasMultipleSelections=v.EditorContextKeys.hasMultipleSelections.bindTo(q),this._hasNonEmptySelection=v.EditorContextKeys.hasNonEmptySelection.bindTo(q),this._canUndo=v.EditorContextKeys.canUndo.bindTo(q),this._canRedo=v.EditorContextKeys.canRedo.bindTo(q),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._register(b.TabFocus.onDidChangeTabFocus(V=>this._tabMovesFocus.set(V))),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const B=this._editor.getOptions();this._tabMovesFocus.set(b.TabFocus.getTabFocusMode()),this._editorReadonly.set(B.get(91)),this._inDiffEditor.set(B.get(61)),this._editorColumnSelection.set(B.get(22))}_updateFromSelection(){const B=this._editor.getSelections();B?(this._hasMultipleSelections.set(B.length>1),this._hasNonEmptySelection.set(B.some(q=>!q.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const B=this._editor.getModel();this._canUndo.set(!!(B&&B.canUndo())),this._canRedo.set(!!(B&&B.canRedo()))}}class P extends D.Disposable{constructor(B,q,V){super(),this._editor=B,this._contextKeyService=q,this._languageFeaturesService=V,this._langId=v.EditorContextKeys.languageId.bindTo(q),this._hasCompletionItemProvider=v.EditorContextKeys.hasCompletionItemProvider.bindTo(q),this._hasCodeActionsProvider=v.EditorContextKeys.hasCodeActionsProvider.bindTo(q),this._hasCodeLensProvider=v.EditorContextKeys.hasCodeLensProvider.bindTo(q),this._hasDefinitionProvider=v.EditorContextKeys.hasDefinitionProvider.bindTo(q),this._hasDeclarationProvider=v.EditorContextKeys.hasDeclarationProvider.bindTo(q),this._hasImplementationProvider=v.EditorContextKeys.hasImplementationProvider.bindTo(q),this._hasTypeDefinitionProvider=v.EditorContextKeys.hasTypeDefinitionProvider.bindTo(q),this._hasHoverProvider=v.EditorContextKeys.hasHoverProvider.bindTo(q),this._hasDocumentHighlightProvider=v.EditorContextKeys.hasDocumentHighlightProvider.bindTo(q),this._hasDocumentSymbolProvider=v.EditorContextKeys.hasDocumentSymbolProvider.bindTo(q),this._hasReferenceProvider=v.EditorContextKeys.hasReferenceProvider.bindTo(q),this._hasRenameProvider=v.EditorContextKeys.hasRenameProvider.bindTo(q),this._hasSignatureHelpProvider=v.EditorContextKeys.hasSignatureHelpProvider.bindTo(q),this._hasInlayHintsProvider=v.EditorContextKeys.hasInlayHintsProvider.bindTo(q),this._hasDocumentFormattingProvider=v.EditorContextKeys.hasDocumentFormattingProvider.bindTo(q),this._hasDocumentSelectionFormattingProvider=v.EditorContextKeys.hasDocumentSelectionFormattingProvider.bindTo(q),this._hasMultipleDocumentFormattingProvider=v.EditorContextKeys.hasMultipleDocumentFormattingProvider.bindTo(q),this._hasMultipleDocumentSelectionFormattingProvider=v.EditorContextKeys.hasMultipleDocumentSelectionFormattingProvider.bindTo(q),this._isInEmbeddedEditor=v.EditorContextKeys.isInEmbeddedEditor.bindTo(q);const $=()=>this._update();this._register(B.onDidChangeModel($)),this._register(B.onDidChangeModelLanguage($)),this._register(V.completionProvider.onDidChange($)),this._register(V.codeActionProvider.onDidChange($)),this._register(V.codeLensProvider.onDidChange($)),this._register(V.definitionProvider.onDidChange($)),this._register(V.declarationProvider.onDidChange($)),this._register(V.implementationProvider.onDidChange($)),this._register(V.typeDefinitionProvider.onDidChange($)),this._register(V.hoverProvider.onDidChange($)),this._register(V.documentHighlightProvider.onDidChange($)),this._register(V.documentSymbolProvider.onDidChange($)),this._register(V.referenceProvider.onDidChange($)),this._register(V.renameProvider.onDidChange($)),this._register(V.documentFormattingEditProvider.onDidChange($)),this._register(V.documentRangeFormattingEditProvider.onDidChange($)),this._register(V.signatureHelpProvider.onDidChange($)),this._register(V.inlayHintsProvider.onDidChange($)),$()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInEmbeddedEditor.reset()})}_update(){const B=this._editor.getModel();if(!B){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(B.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(B)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(B)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(B)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(B)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(B)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(B)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(B)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(B)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(B)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(B)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(B)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(B)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(B)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(B)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(B)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(B)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(B)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(B).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(B).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(B).length>1),this._isInEmbeddedEditor.set(B.uri.scheme===y.Schemas.walkThroughSnippet||B.uri.scheme===y.Schemas.vscodeChatCodeBlock)})}}e.EditorModeContext=P;class Z extends D.Disposable{constructor(B,q){super(),this._onChange=this._register(new E.Emitter),this.onChange=this._onChange.event,this._hadFocus=void 0,this._hasDomElementFocus=!1,this._domFocusTracker=this._register(f.trackFocus(B)),this._overflowWidgetsDomNodeHasFocus=!1,this._register(this._domFocusTracker.onDidFocus(()=>{this._hasDomElementFocus=!0,this._update()})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasDomElementFocus=!1,this._update()})),q&&(this._overflowWidgetsDomNode=this._register(f.trackFocus(q)),this._register(this._overflowWidgetsDomNode.onDidFocus(()=>{this._overflowWidgetsDomNodeHasFocus=!0,this._update()})),this._register(this._overflowWidgetsDomNode.onDidBlur(()=>{this._overflowWidgetsDomNodeHasFocus=!1,this._update()})))}_update(){const B=this._hasDomElementFocus||this._overflowWidgetsDomNodeHasFocus;this._hadFocus!==B&&(this._hadFocus=B,this._onChange.fire(void 0))}hasFocus(){var B;return(B=this._hadFocus)!==null&&B!==void 0?B:!1}}class re{get length(){return this._decorationIds.length}constructor(B,q){this._editor=B,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(q)&&q.length>0&&this.set(q)}onDidChange(B,q,V){return this._editor.onDidChangeModelDecorations($=>{this._isChangingDecorations||B.call(q,$)},V)}getRange(B){return!this._editor.hasModel()||B>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[B])}getRanges(){if(!this._editor.hasModel())return[];const B=this._editor.getModel(),q=[];for(const V of this._decorationIds){const $=B.getDecorationRange(V);$&&q.push($)}return q}has(B){return this._decorationIds.includes(B.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(B){try{this._isChangingDecorations=!0,this._editor.changeDecorations(q=>{this._decorationIds=q.deltaDecorations(this._decorationIds,B)})}finally{this._isChangingDecorations=!1}return this._decorationIds}append(B){let q=[];try{this._isChangingDecorations=!0,this._editor.changeDecorations(V=>{q=V.deltaDecorations([],B),this._decorationIds=this._decorationIds.concat(q)})}finally{this._isChangingDecorations=!1}return q}}const ce=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),he=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function pe(oe){return ce+encodeURIComponent(oe.toString())+he}const ge=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),X=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ae(oe){return ge+encodeURIComponent(oe.toString())+X}(0,H.registerThemingParticipant)((oe,B)=>{const q=oe.getColor(W.editorErrorForeground);q&&B.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${pe(q)}") repeat-x bottom left; }`);const V=oe.getColor(W.editorWarningForeground);V&&B.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${pe(V)}") repeat-x bottom left; }`);const $=oe.getColor(W.editorInfoForeground);$&&B.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${pe($)}") repeat-x bottom left; }`);const J=oe.getColor(W.editorHintForeground);J&&B.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ae(J)}") no-repeat bottom left; }`);const se=oe.getColor(u.editorUnnecessaryCodeOpacity);se&&B.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${se.rgba.a}; }`)})}),define(ie[179],ne([1,0,55,36,213,34,18,66,25,14,8,51,23]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EmbeddedCodeEditorWidget=void 0;let i=class extends E.CodeEditorWidget{constructor(n,c,m,u,r,a,h,l,g,d,v,_,S){super(n,{...u.getRawOptions(),overflowWidgetsDomNode:u.getOverflowWidgetsDomNode()},m,r,a,h,l,g,d,v,_,S),this._parentEditor=u,this._overwriteOptions=c,super.updateOptions(this._overwriteOptions),this._register(u.onDidChangeConfiguration(L=>this._onParentConfigurationChanged(L)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(n){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(n){f.mixin(this._overwriteOptions,n,!0),super.updateOptions(this._overwriteOptions)}};e.EmbeddedCodeEditorWidget=i,e.EmbeddedCodeEditorWidget=i=Ie([ue(4,C.IInstantiationService),ue(5,k.ICodeEditorService),ue(6,w.ICommandService),ue(7,b.IContextKeyService),ue(8,s.IThemeService),ue(9,o.INotificationService),ue(10,p.IAccessibilityService),ue(11,D.ILanguageConfigurationService),ue(12,y.ILanguageFeaturesService)],i)}),define(ie[278],ne([1,0,6,67,10,7,2,30,183,16,36,138,213,892,936,643,937,928,365,355,396,672,83,9,5,192,21,132,14,8,174,92,905,529,819,387,479]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N,A,O,M,R){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorWidget=void 0;let x=class extends O.DelegatingEditor{get onDidContentSizeChange(){return this._editors.onDidContentSizeChange}constructor(H,z,j,K,U,G,te,ee){var Y;super(),this._domElement=H,this._parentContextKeyService=K,this._parentInstantiationService=U,this._accessibilitySignalService=te,this._editorProgressService=ee,this.elements=(0,f.h)("div.monaco-diff-editor.side-by-side",{style:{position:"relative",height:"100%"}},[(0,f.h)("div.editor.original@original",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.editor.modified@modified",{style:{position:"absolute",height:"100%"}}),(0,f.h)("div.accessibleDiffViewer@accessibleDiffViewer",{style:{position:"absolute",height:"100%"}})]),this._diffModel=(0,p.observableValue)(this,void 0),this._shouldDisposeDiffModel=!1,this.onDidChangeModel=D.Event.fromObservableLight(this._diffModel),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._domElement)),this._instantiationService=this._parentInstantiationService.createChild(new T.ServiceCollection([L.IContextKeyService,this._contextKeyService])),this._boundarySashes=(0,p.observableValue)(this,void 0),this._accessibleDiffViewerShouldBeVisible=(0,p.observableValue)(this,!1),this._accessibleDiffViewerVisible=(0,p.derived)(this,B=>this._options.onlyShowAccessibleDiffViewer.read(B)?!0:this._accessibleDiffViewerShouldBeVisible.read(B)),this._movedBlocksLinesPart=(0,p.observableValue)(this,void 0),this._layoutInfo=(0,p.derived)(this,B=>{var q,V,$,J,se;const de=this._rootSizeObserver.width.read(B),le=this._rootSizeObserver.height.read(B),fe=this._sash.read(B),ve=this._gutter.read(B),Ce=(q=ve?.width.read(B))!==null&&q!==void 0?q:0,Se=($=(V=this._overviewRulerPart.read(B))===null||V===void 0?void 0:V.width)!==null&&$!==void 0?$:0;let _e,ke,Ee,Ae,xe;if(!!fe){const Be=fe.sashLeft.read(B),De=(se=(J=this._movedBlocksLinesPart.read(B))===null||J===void 0?void 0:J.width.read(B))!==null&&se!==void 0?se:0;_e=0,ke=Be-Ce-De,xe=Be-Ce,Ee=Be,Ae=de-Ee-Se}else xe=0,_e=Ce,ke=Math.max(5,this._editors.original.getLayoutInfo().decorationsLeft),Ee=Ce+ke,Ae=de-Ee-Se;return this.elements.original.style.left=_e+"px",this.elements.original.style.width=ke+"px",this._editors.original.layout({width:ke,height:le},!0),ve?.layout(xe),this.elements.modified.style.left=Ee+"px",this.elements.modified.style.width=Ae+"px",this._editors.modified.layout({width:Ae,height:le},!0),{modifiedEditor:this._editors.modified.getLayoutInfo(),originalEditor:this._editors.original.getLayoutInfo()}}),this._diffValue=this._diffModel.map((B,q)=>B?.diff.read(q)),this.onDidUpdateDiff=D.Event.fromObservableLight(this._diffValue),G.willCreateDiffEditor(),this._contextKeyService.createKey("isInDiffEditor",!0),this._domElement.appendChild(this.elements.root),this._register((0,y.toDisposable)(()=>this._domElement.removeChild(this.elements.root))),this._rootSizeObserver=this._register(new l.ObservableElementSizeObserver(this.elements.root,z.dimension)),this._rootSizeObserver.setAutomaticLayout((Y=z.automaticLayout)!==null&&Y!==void 0?Y:!1),this._options=this._instantiationService.createInstance(M.DiffEditorOptions,z),this._register((0,p.autorun)(B=>{this._options.setWidth(this._rootSizeObserver.width.read(B))})),this._contextKeyService.createKey(_.EditorContextKeys.isEmbeddedDiffEditor.key,!1),this._register((0,l.bindContextKey)(_.EditorContextKeys.isEmbeddedDiffEditor,this._contextKeyService,B=>this._options.isInEmbeddedEditor.read(B))),this._register((0,l.bindContextKey)(_.EditorContextKeys.comparingMovedCode,this._contextKeyService,B=>{var q;return!!(!((q=this._diffModel.read(B))===null||q===void 0)&&q.movedTextToCompare.read(B))})),this._register((0,l.bindContextKey)(_.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,this._contextKeyService,B=>this._options.couldShowInlineViewBecauseOfSize.read(B))),this._register((0,l.bindContextKey)(_.EditorContextKeys.diffEditorInlineMode,this._contextKeyService,B=>!this._options.renderSideBySide.read(B))),this._register((0,l.bindContextKey)(_.EditorContextKeys.hasChanges,this._contextKeyService,B=>{var q,V,$;return(($=(V=(q=this._diffModel.read(B))===null||q===void 0?void 0:q.diff.read(B))===null||V===void 0?void 0:V.mappings.length)!==null&&$!==void 0?$:0)>0})),this._editors=this._register(this._instantiationService.createInstance(A.DiffEditorEditors,this.elements.original,this.elements.modified,this._options,j,(B,q,V,$)=>this._createInnerEditor(B,q,V,$))),this._register((0,l.bindContextKey)(_.EditorContextKeys.diffEditorOriginalWritable,this._contextKeyService,B=>this._options.originalEditable.read(B))),this._register((0,l.bindContextKey)(_.EditorContextKeys.diffEditorModifiedWritable,this._contextKeyService,B=>!this._options.readOnly.read(B))),this._register((0,l.bindContextKey)(_.EditorContextKeys.diffEditorOriginalUri,this._contextKeyService,B=>{var q,V;return(V=(q=this._diffModel.read(B))===null||q===void 0?void 0:q.model.original.uri.toString())!==null&&V!==void 0?V:""})),this._register((0,l.bindContextKey)(_.EditorContextKeys.diffEditorModifiedUri,this._contextKeyService,B=>{var q,V;return(V=(q=this._diffModel.read(B))===null||q===void 0?void 0:q.model.modified.uri.toString())!==null&&V!==void 0?V:""})),this._overviewRulerPart=(0,w.derivedDisposable)(this,B=>this._options.renderOverviewRuler.read(B)?this._instantiationService.createInstance((0,l.readHotReloadableExport)(a.OverviewRulerFeature,B),this._editors,this.elements.root,this._diffModel,this._rootSizeObserver.width,this._rootSizeObserver.height,this._layoutInfo.map(q=>q.modifiedEditor)):void 0).recomputeInitiallyAndOnChange(this._store),this._sash=(0,w.derivedDisposable)(this,B=>{const q=this._options.renderSideBySide.read(B);return this.elements.root.classList.toggle("side-by-side",q),q?new n.DiffEditorSash(this._options,this.elements.root,{height:this._rootSizeObserver.height,width:this._rootSizeObserver.width.map((V,$)=>{var J,se;return V-((se=(J=this._overviewRulerPart.read($))===null||J===void 0?void 0:J.width)!==null&&se!==void 0?se:0)})},this._boundarySashes):void 0}).recomputeInitiallyAndOnChange(this._store);const P=(0,w.derivedDisposable)(this,B=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(u.HideUnchangedRegionsFeature,B),this._editors,this._diffModel,this._options)).recomputeInitiallyAndOnChange(this._store);(0,w.derivedDisposable)(this,B=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(t.DiffEditorDecorations,B),this._editors,this._diffModel,this._options,this)).recomputeInitiallyAndOnChange(this._store);const Z=new Set,re=new Set;let ce=!1;const he=(0,w.derivedDisposable)(this,B=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(c.DiffEditorViewZones,B),(0,f.getWindow)(this._domElement),this._editors,this._diffModel,this._options,this,()=>ce||P.get().isUpdatingHiddenAreas,Z,re)).recomputeInitiallyAndOnChange(this._store),pe=(0,p.derived)(this,B=>{const q=he.read(B).viewZones.read(B).orig,V=P.read(B).viewZones.read(B).origViewZones;return q.concat(V)}),ge=(0,p.derived)(this,B=>{const q=he.read(B).viewZones.read(B).mod,V=P.read(B).viewZones.read(B).modViewZones;return q.concat(V)});this._register((0,l.applyViewZones)(this._editors.original,pe,B=>{ce=B},Z));let X;this._register((0,l.applyViewZones)(this._editors.modified,ge,B=>{ce=B,ce?X=o.StableEditorScrollState.capture(this._editors.modified):(X?.restore(this._editors.modified),X=void 0)},re)),this._accessibleDiffViewer=(0,w.derivedDisposable)(this,B=>this._instantiationService.createInstance((0,l.readHotReloadableExport)(i.AccessibleDiffViewer,B),this.elements.accessibleDiffViewer,this._accessibleDiffViewerVisible,(q,V)=>this._accessibleDiffViewerShouldBeVisible.set(q,V),this._options.onlyShowAccessibleDiffViewer.map(q=>!q),this._rootSizeObserver.width,this._rootSizeObserver.height,this._diffModel.map((q,V)=>{var $;return($=q?.diff.read(V))===null||$===void 0?void 0:$.mappings.map(J=>J.lineRangeMapping)}),new i.AccessibleDiffViewerModelFromEditors(this._editors))).recomputeInitiallyAndOnChange(this._store);const ae=this._accessibleDiffViewerVisible.map(B=>B?"hidden":"visible");this._register((0,l.applyStyle)(this.elements.modified,{visibility:ae})),this._register((0,l.applyStyle)(this.elements.original,{visibility:ae})),this._createDiffEditorContributions(),G.addDiffEditor(this),this._gutter=(0,w.derivedDisposable)(this,B=>this._options.shouldRenderGutterMenu.read(B)?this._instantiationService.createInstance((0,l.readHotReloadableExport)(m.DiffEditorGutter,B),this.elements.root,this._diffModel,this._editors):void 0),this._register((0,p.recomputeInitiallyAndOnChange)(this._layoutInfo)),(0,w.derivedDisposable)(this,B=>new((0,l.readHotReloadableExport)(r.MovedBlocksLinesFeature,B))(this.elements.root,this._diffModel,this._layoutInfo.map(q=>q.originalEditor),this._layoutInfo.map(q=>q.modifiedEditor),this._editors)).recomputeInitiallyAndOnChange(this._store,B=>{this._movedBlocksLinesPart.set(B,void 0)}),this._register(D.Event.runAndSubscribe(this._editors.modified.onDidChangeCursorPosition,B=>this._handleCursorPositionChange(B,!0))),this._register(D.Event.runAndSubscribe(this._editors.original.onDidChangeCursorPosition,B=>this._handleCursorPositionChange(B,!1)));const oe=this._diffModel.map(this,(B,q)=>{if(B)return B.diff.read(q)===void 0&&!B.isDiffUpToDate.read(q)});this._register((0,p.autorunWithStore)((B,q)=>{if(oe.read(B)===!0){const V=this._editorProgressService.show(!0,1e3);q.add((0,y.toDisposable)(()=>V.done()))}})),this._register((0,y.toDisposable)(()=>{var B;this._shouldDisposeDiffModel&&((B=this._diffModel.get())===null||B===void 0||B.dispose())})),this._register((0,p.autorunWithStore)((B,q)=>{q.add(new((0,l.readHotReloadableExport)(h.RevertButtonsFeature,B))(this._editors,this._diffModel,this._options,this))}))}_createInnerEditor(H,z,j,K){return H.createInstance(s.CodeEditorWidget,z,j,K)}_createDiffEditorContributions(){const H=b.EditorExtensionsRegistry.getDiffEditorContributions();for(const z of H)try{this._register(this._instantiationService.createInstance(z.ctor,this))}catch(j){(0,E.onUnexpectedError)(j)}}get _targetEditor(){return this._editors.modified}getEditorType(){return v.EditorType.IDiffEditor}layout(H){this._rootSizeObserver.observe(H)}hasTextFocus(){return this._editors.original.hasTextFocus()||this._editors.modified.hasTextFocus()}saveViewState(){var H;const z=this._editors.original.saveViewState(),j=this._editors.modified.saveViewState();return{original:z,modified:j,modelState:(H=this._diffModel.get())===null||H===void 0?void 0:H.serializeState()}}restoreViewState(H){var z;if(H&&H.original&&H.modified){const j=H;this._editors.original.restoreViewState(j.original),this._editors.modified.restoreViewState(j.modified),j.modelState&&((z=this._diffModel.get())===null||z===void 0||z.restoreSerializedState(j.modelState))}}handleInitialized(){this._editors.original.handleInitialized(),this._editors.modified.handleInitialized()}createViewModel(H){return this._instantiationService.createInstance(R.DiffEditorViewModel,H,this._options)}getModel(){var H,z;return(z=(H=this._diffModel.get())===null||H===void 0?void 0:H.model)!==null&&z!==void 0?z:null}setModel(H,z){!H&&this._diffModel.get()&&this._accessibleDiffViewer.get().close();const j=H?"model"in H?{model:H,shouldDispose:!1}:{model:this.createViewModel(H),shouldDispose:!0}:void 0;this._diffModel.get()!==j?.model&&(0,p.subtransaction)(z,K=>{var U;p.observableFromEvent.batchEventsGlobally(K,()=>{this._editors.original.setModel(j?j.model.model.original:null),this._editors.modified.setModel(j?j.model.model.modified:null)});const G=this._diffModel.get(),te=this._shouldDisposeDiffModel;this._shouldDisposeDiffModel=(U=j?.shouldDispose)!==null&&U!==void 0?U:!1,this._diffModel.set(j?.model,K),te&&G?.dispose()})}updateOptions(H){this._options.updateOptions(H)}getContainerDomNode(){return this._domElement}getOriginalEditor(){return this._editors.original}getModifiedEditor(){return this._editors.modified}getLineChanges(){var H;const z=(H=this._diffModel.get())===null||H===void 0?void 0:H.diff.get();return z?F(z):null}revert(H){const z=this._diffModel.get();!z||!z.isDiffUpToDate.get()||this._editors.modified.executeEdits("diffEditor",[{range:H.modified.toExclusiveRange(),text:z.model.original.getValueInRange(H.original.toExclusiveRange())}])}revertRangeMappings(H){const z=this._diffModel.get();if(!z||!z.isDiffUpToDate.get())return;const j=H.map(K=>({range:K.modifiedRange,text:z.model.original.getValueInRange(K.originalRange)}));this._editors.modified.executeEdits("diffEditor",j)}_goTo(H){this._editors.modified.setPosition(new g.Position(H.lineRangeMapping.modified.startLineNumber,1)),this._editors.modified.revealRangeInCenter(H.lineRangeMapping.modified.toExclusiveRange())}goToDiff(H){var z,j,K,U;const G=(j=(z=this._diffModel.get())===null||z===void 0?void 0:z.diff.get())===null||j===void 0?void 0:j.mappings;if(!G||G.length===0)return;const te=this._editors.modified.getPosition().lineNumber;let ee;H==="next"?ee=(K=G.find(Y=>Y.lineRangeMapping.modified.startLineNumber>te))!==null&&K!==void 0?K:G[0]:ee=(U=(0,k.findLast)(G,Y=>Y.lineRangeMapping.modified.startLineNumber<te))!==null&&U!==void 0?U:G[G.length-1],this._goTo(ee),ee.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(S.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.goToDiff"}):ee.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(S.AccessibilitySignal.diffLineInserted,{source:"diffEditor.goToDiff"}):ee&&this._accessibilitySignalService.playSignal(S.AccessibilitySignal.diffLineModified,{source:"diffEditor.goToDiff"})}revealFirstDiff(){const H=this._diffModel.get();H&&this.waitForDiff().then(()=>{var z;const j=(z=H.diff.get())===null||z===void 0?void 0:z.mappings;!j||j.length===0||this._goTo(j[0])})}accessibleDiffViewerNext(){this._accessibleDiffViewer.get().next()}accessibleDiffViewerPrev(){this._accessibleDiffViewer.get().prev()}async waitForDiff(){const H=this._diffModel.get();H&&await H.waitForDiff()}mapToOtherSide(){var H,z;const j=this._editors.modified.hasWidgetFocus(),K=j?this._editors.modified:this._editors.original,U=j?this._editors.original:this._editors.modified;let G;const te=K.getSelection();if(te){const ee=(z=(H=this._diffModel.get())===null||H===void 0?void 0:H.diff.get())===null||z===void 0?void 0:z.mappings.map(Y=>j?Y.lineRangeMapping.flip():Y.lineRangeMapping);if(ee){const Y=(0,l.translatePosition)(te.getStartPosition(),ee),P=(0,l.translatePosition)(te.getEndPosition(),ee);G=d.Range.plusRange(Y,P)}}return{destination:U,destinationSelection:G}}switchSide(){const{destination:H,destinationSelection:z}=this.mapToOtherSide();H.focus(),z&&H.setSelection(z)}exitCompareMove(){const H=this._diffModel.get();H&&H.movedTextToCompare.set(void 0,void 0)}collapseAllUnchangedRegions(){var H;const z=(H=this._diffModel.get())===null||H===void 0?void 0:H.unchangedRegions.get();z&&(0,p.transaction)(j=>{for(const K of z)K.collapseAll(j)})}showAllUnchangedRegions(){var H;const z=(H=this._diffModel.get())===null||H===void 0?void 0:H.unchangedRegions.get();z&&(0,p.transaction)(j=>{for(const K of z)K.showAll(j)})}_handleCursorPositionChange(H,z){var j,K;if(H?.reason===3){const U=(K=(j=this._diffModel.get())===null||j===void 0?void 0:j.diff.get())===null||K===void 0?void 0:K.mappings.find(G=>z?G.lineRangeMapping.modified.contains(H.position.lineNumber):G.lineRangeMapping.original.contains(H.position.lineNumber));U?.lineRangeMapping.modified.isEmpty?this._accessibilitySignalService.playSignal(S.AccessibilitySignal.diffLineDeleted,{source:"diffEditor.cursorPositionChanged"}):U?.lineRangeMapping.original.isEmpty?this._accessibilitySignalService.playSignal(S.AccessibilitySignal.diffLineInserted,{source:"diffEditor.cursorPositionChanged"}):U&&this._accessibilitySignalService.playSignal(S.AccessibilitySignal.diffLineModified,{source:"diffEditor.cursorPositionChanged"})}}};e.DiffEditorWidget=x,e.DiffEditorWidget=x=Ie([ue(3,L.IContextKeyService),ue(4,I.IInstantiationService),ue(5,C.ICodeEditorService),ue(6,S.IAccessibilitySignalService),ue(7,N.IEditorProgressService)],x);function F(W){return W.mappings.map(H=>{const z=H.lineRangeMapping;let j,K,U,G,te=z.innerChanges;return z.original.isEmpty?(j=z.original.startLineNumber-1,K=0,te=void 0):(j=z.original.startLineNumber,K=z.original.endLineNumberExclusive-1),z.modified.isEmpty?(U=z.modified.startLineNumber-1,G=0,te=void 0):(U=z.modified.startLineNumber,G=z.modified.endLineNumberExclusive-1),{originalStartLineNumber:j,originalEndLineNumber:K,modifiedStartLineNumber:U,modifiedEndLineNumber:G,charChanges:te?.map(ee=>({originalStartLineNumber:ee.originalRange.startLineNumber,originalStartColumn:ee.originalRange.startColumn,originalEndLineNumber:ee.originalRange.endLineNumber,originalEndColumn:ee.originalRange.endColumn,modifiedStartLineNumber:ee.modifiedRange.startLineNumber,modifiedStartColumn:ee.modifiedRange.startColumn,modifiedEndLineNumber:ee.modifiedRange.endLineNumber,modifiedEndColumn:ee.modifiedRange.endColumn}))}})}}),define(ie[941],ne([1,0,6,26,16,36,278,21,663,29,27,14,212]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AccessibleDiffViewerPrev=e.AccessibleDiffViewerNext=e.RevertHunkOrSelection=e.ShowAllUnchangedRegions=e.CollapseAllUnchangedRegions=e.ExitCompareMove=e.SwitchSide=e.ToggleUseInlineViewWhenSpaceIsLimited=e.ToggleShowMovedCodeBlocks=e.ToggleCollapseUnchangedRegions=void 0,e.findDiffEditor=d,e.findFocusedDiffEditor=v;class s extends b.Action2{constructor(){super({id:"diffEditor.toggleCollapseUnchangedRegions",title:(0,w.localize2)(0,"Toggle Collapse Unchanged Regions"),icon:k.Codicon.map,toggled:o.ContextKeyExpr.has("config.diffEditor.hideUnchangedRegions.enabled"),precondition:o.ContextKeyExpr.has("isInDiffEditor"),menu:{when:o.ContextKeyExpr.has("isInDiffEditor"),id:b.MenuId.EditorTitle,order:22,group:"navigation"}})}run(L,...I){const T=L.get(C.IConfigurationService),N=!T.getValue("diffEditor.hideUnchangedRegions.enabled");T.updateValue("diffEditor.hideUnchangedRegions.enabled",N)}}e.ToggleCollapseUnchangedRegions=s;class i extends b.Action2{constructor(){super({id:"diffEditor.toggleShowMovedCodeBlocks",title:(0,w.localize2)(1,"Toggle Show Moved Code Blocks"),precondition:o.ContextKeyExpr.has("isInDiffEditor")})}run(L,...I){const T=L.get(C.IConfigurationService),N=!T.getValue("diffEditor.experimental.showMoves");T.updateValue("diffEditor.experimental.showMoves",N)}}e.ToggleShowMovedCodeBlocks=i;class t extends b.Action2{constructor(){super({id:"diffEditor.toggleUseInlineViewWhenSpaceIsLimited",title:(0,w.localize2)(2,"Toggle Use Inline View When Space Is Limited"),precondition:o.ContextKeyExpr.has("isInDiffEditor")})}run(L,...I){const T=L.get(C.IConfigurationService),N=!T.getValue("diffEditor.useInlineViewWhenSpaceIsLimited");T.updateValue("diffEditor.useInlineViewWhenSpaceIsLimited",N)}}e.ToggleUseInlineViewWhenSpaceIsLimited=t;const n=(0,w.localize2)(3,"Diff Editor");class c extends E.EditorAction2{constructor(){super({id:"diffEditor.switchSide",title:(0,w.localize2)(4,"Switch Side"),icon:k.Codicon.arrowSwap,precondition:o.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(L,I,T){const N=v(L);if(N instanceof y.DiffEditorWidget){if(T&&T.dryRun)return{destinationSelection:N.mapToOtherSide().destinationSelection};N.switchSide()}}}e.SwitchSide=c;class m extends E.EditorAction2{constructor(){super({id:"diffEditor.exitCompareMove",title:(0,w.localize2)(5,"Exit Compare Move"),icon:k.Codicon.close,precondition:p.EditorContextKeys.comparingMovedCode,f1:!1,category:n,keybinding:{weight:1e4,primary:9}})}runEditorCommand(L,I,...T){const N=v(L);N instanceof y.DiffEditorWidget&&N.exitCompareMove()}}e.ExitCompareMove=m;class u extends E.EditorAction2{constructor(){super({id:"diffEditor.collapseAllUnchangedRegions",title:(0,w.localize2)(6,"Collapse All Unchanged Regions"),icon:k.Codicon.fold,precondition:o.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(L,I,...T){const N=v(L);N instanceof y.DiffEditorWidget&&N.collapseAllUnchangedRegions()}}e.CollapseAllUnchangedRegions=u;class r extends E.EditorAction2{constructor(){super({id:"diffEditor.showAllUnchangedRegions",title:(0,w.localize2)(7,"Show All Unchanged Regions"),icon:k.Codicon.unfold,precondition:o.ContextKeyExpr.has("isInDiffEditor"),f1:!0,category:n})}runEditorCommand(L,I,...T){const N=v(L);N instanceof y.DiffEditorWidget&&N.showAllUnchangedRegions()}}e.ShowAllUnchangedRegions=r;class a extends b.Action2{constructor(){super({id:"diffEditor.revert",title:(0,w.localize2)(8,"Revert"),f1:!1,category:n})}run(L,I){var T;const N=d(L,I.originalUri,I.modifiedUri);N instanceof y.DiffEditorWidget&&N.revertRangeMappings((T=I.mapping.innerChanges)!==null&&T!==void 0?T:[])}}e.RevertHunkOrSelection=a;const h=(0,w.localize2)(9,"Accessible Diff Viewer");class l extends b.Action2{constructor(){super({id:l.id,title:(0,w.localize2)(10,"Go to Next Difference"),category:h,precondition:o.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:65,weight:100},f1:!0})}run(L){const I=v(L);I?.accessibleDiffViewerNext()}}e.AccessibleDiffViewerNext=l,l.id="editor.action.accessibleDiffViewer.next";class g extends b.Action2{constructor(){super({id:g.id,title:(0,w.localize2)(11,"Go to Previous Difference"),category:h,precondition:o.ContextKeyExpr.has("isInDiffEditor"),keybinding:{primary:1089,weight:100},f1:!0})}run(L){const I=v(L);I?.accessibleDiffViewerPrev()}}e.AccessibleDiffViewerPrev=g,g.id="editor.action.accessibleDiffViewer.prev";function d(S,L,I){return S.get(D.ICodeEditorService).listDiffEditors().find(A=>{var O,M;const R=A.getModifiedEditor(),x=A.getOriginalEditor();return R&&((O=R.getModel())===null||O===void 0?void 0:O.uri.toString())===I.toString()&&x&&((M=x.getModel())===null||M===void 0?void 0:M.uri.toString())===L.toString()})||null}function v(S){const I=S.get(D.ICodeEditorService).listDiffEditors(),T=(0,f.getActiveElement)();if(T)for(const N of I){const A=N.getContainerDomNode();if(_(A,T))return N}return null}function _(S,L){let I=L;for(;I;){if(I===S)return!0;I=I.parentElement}return!1}}),define(ie[942],ne([1,0,26,941,21,668,29,25,14,212]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,y.registerAction2)(k.ToggleCollapseUnchangedRegions),(0,y.registerAction2)(k.ToggleShowMovedCodeBlocks),(0,y.registerAction2)(k.ToggleUseInlineViewWhenSpaceIsLimited),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleUseInlineViewWhenSpaceIsLimited().desc.id,title:(0,D.localize)(0,null),toggled:w.ContextKeyExpr.has("config.diffEditor.useInlineViewWhenSpaceIsLimited"),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:11,group:"1_diff",when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorRenderSideBySideInlineBreakpointReached,w.ContextKeyExpr.has("isInDiffEditor"))}),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:new k.ToggleShowMovedCodeBlocks().desc.id,title:(0,D.localize)(1,null),icon:f.Codicon.move,toggled:w.ContextKeyEqualsExpr.create("config.diffEditor.experimental.showMoves",!0),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"1_diff",when:w.ContextKeyExpr.has("isInDiffEditor")}),(0,y.registerAction2)(k.RevertHunkOrSelection);for(const b of[{icon:f.Codicon.arrowRight,key:E.EditorContextKeys.diffEditorInlineMode.toNegated()},{icon:f.Codicon.discard,key:E.EditorContextKeys.diffEditorInlineMode}])y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorHunkToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,D.localize)(2,null),icon:b.icon},when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorModifiedWritable,b.key),order:5,group:"primary"}),y.MenuRegistry.appendMenuItem(y.MenuId.DiffEditorSelectionToolbar,{command:{id:new k.RevertHunkOrSelection().desc.id,title:(0,D.localize)(3,null),icon:b.icon},when:w.ContextKeyExpr.and(E.EditorContextKeys.diffEditorModifiedWritable,b.key),order:5,group:"primary"});(0,y.registerAction2)(k.SwitchSide),(0,y.registerAction2)(k.ExitCompareMove),(0,y.registerAction2)(k.CollapseAllUnchangedRegions),(0,y.registerAction2)(k.ShowAllUnchangedRegions),y.MenuRegistry.appendMenuItem(y.MenuId.EditorTitle,{command:{id:k.AccessibleDiffViewerNext.id,title:(0,D.localize)(4,null),precondition:w.ContextKeyExpr.has("isInDiffEditor")},order:10,group:"2_diff",when:w.ContextKeyExpr.and(E.EditorContextKeys.accessibleDiffViewerVisible.negate(),w.ContextKeyExpr.has("isInDiffEditor"))}),p.CommandsRegistry.registerCommandAlias("editor.action.diffReview.next",k.AccessibleDiffViewerNext.id),(0,y.registerAction2)(k.AccessibleDiffViewerNext),p.CommandsRegistry.registerCommandAlias("editor.action.diffReview.prev",k.AccessibleDiffViewerPrev.id),(0,y.registerAction2)(k.AccessibleDiffViewerPrev)}),define(ie[404],ne([1,0,6,251,26,2,30,124,278,210,29,8,335,120]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DiffEditorItemTemplate=e.TemplateData=void 0;class t{constructor(u,r){this.viewModel=u,this.deltaScrollVertical=r}getId(){return this.viewModel}}e.TemplateData=t;let n=class extends D.Disposable{constructor(u,r,a,h){super(),this._container=u,this._overflowWidgetsDomNode=r,this._workbenchUIElementFactory=a,this._instantiationService=h,this._viewModel=(0,p.observableValue)(this,void 0),this._collapsed=(0,y.derived)(this,g=>{var d;return(d=this._viewModel.read(g))===null||d===void 0?void 0:d.collapsed.read(g)}),this._editorContentHeight=(0,p.observableValue)(this,500),this.contentHeight=(0,y.derived)(this,g=>(this._collapsed.read(g)?0:this._editorContentHeight.read(g))+this._outerEditorHeight),this._modifiedContentWidth=(0,p.observableValue)(this,0),this._modifiedWidth=(0,p.observableValue)(this,0),this._originalContentWidth=(0,p.observableValue)(this,0),this._originalWidth=(0,p.observableValue)(this,0),this.maxScroll=(0,y.derived)(this,g=>{const d=this._modifiedContentWidth.read(g)-this._modifiedWidth.read(g),v=this._originalContentWidth.read(g)-this._originalWidth.read(g);return d>v?{maxScroll:d,width:this._modifiedWidth.read(g)}:{maxScroll:v,width:this._originalWidth.read(g)}}),this._elements=(0,f.h)("div.multiDiffEntry",[(0,f.h)("div.header@header",[(0,f.h)("div.header-content",[(0,f.h)("div.collapse-button@collapseButton"),(0,f.h)("div.file-path",[(0,f.h)("div.title.modified.show-file-icons@primaryPath",[]),(0,f.h)("div.status.deleted@status",["R"]),(0,f.h)("div.title.original.show-file-icons@secondaryPath",[])]),(0,f.h)("div.actions@actions")])]),(0,f.h)("div.editorParent",[(0,f.h)("div.editorContainer@editor")])]),this.editor=this._register(this._instantiationService.createInstance(w.DiffEditorWidget,this._elements.editor,{overflowWidgetsDomNode:this._overflowWidgetsDomNode},{})),this.isModifedFocused=c(this.editor.getModifiedEditor()),this.isOriginalFocused=c(this.editor.getOriginalEditor()),this.isFocused=(0,y.derived)(this,g=>this.isModifedFocused.read(g)||this.isOriginalFocused.read(g)),this._resourceLabel=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.primaryPath)):void 0,this._resourceLabel2=this._workbenchUIElementFactory.createResourceLabel?this._register(this._workbenchUIElementFactory.createResourceLabel(this._elements.secondaryPath)):void 0,this._dataStore=new D.DisposableStore,this._headerHeight=40,this._lastScrollTop=-1,this._isSettingScrollTop=!1;const l=new k.Button(this._elements.collapseButton,{});this._register((0,y.autorun)(g=>{l.element.className="",l.icon=this._collapsed.read(g)?E.Codicon.chevronRight:E.Codicon.chevronDown})),this._register(l.onDidClick(()=>{var g;(g=this._viewModel.get())===null||g===void 0||g.collapsed.set(!this._collapsed.get(),void 0)})),this._register((0,y.autorun)(g=>{this._elements.editor.style.display=this._collapsed.read(g)?"none":"block"})),this._register(this.editor.getModifiedEditor().onDidLayoutChange(g=>{const d=this.editor.getModifiedEditor().getLayoutInfo().contentWidth;this._modifiedWidth.set(d,void 0)})),this._register(this.editor.getOriginalEditor().onDidLayoutChange(g=>{const d=this.editor.getOriginalEditor().getLayoutInfo().contentWidth;this._originalWidth.set(d,void 0)})),this._register(this.editor.onDidContentSizeChange(g=>{(0,p.globalTransaction)(d=>{this._editorContentHeight.set(g.contentHeight,d),this._modifiedContentWidth.set(this.editor.getModifiedEditor().getContentWidth(),d),this._originalContentWidth.set(this.editor.getOriginalEditor().getContentWidth(),d)})})),this._register(this.editor.getOriginalEditor().onDidScrollChange(g=>{if(this._isSettingScrollTop||!g.scrollTopChanged||!this._data)return;const d=g.scrollTop-this._lastScrollTop;this._data.deltaScrollVertical(d)})),this._register((0,y.autorun)(g=>{var d;const v=(d=this._viewModel.read(g))===null||d===void 0?void 0:d.isActive.read(g);this._elements.root.classList.toggle("active",v)})),this._container.appendChild(this._elements.root),this._outerEditorHeight=this._headerHeight,this._register(this._instantiationService.createInstance(b.MenuWorkbenchToolBar,this._elements.actions,C.MenuId.MultiDiffEditorFileToolbar,{actionRunner:this._register(new s.ActionRunnerWithContext(()=>{var g;return(g=this._viewModel.get())===null||g===void 0?void 0:g.modifiedUri})),menuOptions:{shouldForwardArgs:!0},toolbarOptions:{primaryGroup:g=>g.startsWith("navigation")},actionViewItemProvider:(g,d)=>(0,i.createActionViewItem)(h,g,d)}))}setScrollLeft(u){this._modifiedContentWidth.get()-this._modifiedWidth.get()>this._originalContentWidth.get()-this._originalWidth.get()?this.editor.getModifiedEditor().setScrollLeft(u):this.editor.getOriginalEditor().setScrollLeft(u)}setData(u){this._data=u;function r(h){return{...h,scrollBeyondLastLine:!1,hideUnchangedRegions:{enabled:!0},scrollbar:{vertical:"hidden",horizontal:"hidden",handleMouseWheel:!1,useShadows:!1},renderOverviewRuler:!1,fixedOverflowWidgets:!0,overviewRulerBorder:!1}}const a=u.viewModel.entry.value;a.onOptionsDidChange&&this._dataStore.add(a.onOptionsDidChange(()=>{var h;this.editor.updateOptions(r((h=a.options)!==null&&h!==void 0?h:{}))})),(0,p.globalTransaction)(h=>{var l,g,d,v;(l=this._resourceLabel)===null||l===void 0||l.setUri((g=u.viewModel.modifiedUri)!==null&&g!==void 0?g:u.viewModel.originalUri,{strikethrough:u.viewModel.modifiedUri===void 0});let _=!1,S=!1,L=!1,I="";u.viewModel.modifiedUri&&u.viewModel.originalUri&&u.viewModel.modifiedUri.path!==u.viewModel.originalUri.path?(I="R",_=!0):u.viewModel.modifiedUri?u.viewModel.originalUri||(I="A",L=!0):(I="D",S=!0),this._elements.status.classList.toggle("renamed",_),this._elements.status.classList.toggle("deleted",S),this._elements.status.classList.toggle("added",L),this._elements.status.innerText=I,(d=this._resourceLabel2)===null||d===void 0||d.setUri(_?u.viewModel.originalUri:void 0,{strikethrough:!0}),this._dataStore.clear(),this._viewModel.set(u.viewModel,h),this.editor.setModel(u.viewModel.diffEditorViewModel,h),this.editor.updateOptions(r((v=a.options)!==null&&v!==void 0?v:{}))})}render(u,r,a,h){this._elements.root.style.visibility="visible",this._elements.root.style.top=`${u.start}px`,this._elements.root.style.height=`${u.length}px`,this._elements.root.style.width=`${r}px`,this._elements.root.style.position="absolute";const l=u.length-this._headerHeight,g=Math.max(0,Math.min(h.start-u.start,l));this._elements.header.style.transform=`translateY(${g}px)`,(0,p.globalTransaction)(d=>{this.editor.layout({width:r-2*8-2*1,height:u.length-this._outerEditorHeight})});try{this._isSettingScrollTop=!0,this._lastScrollTop=a,this.editor.getOriginalEditor().setScrollTop(a)}finally{this._isSettingScrollTop=!1}this._elements.header.classList.toggle("shadow",g>0||a>0),this._elements.header.classList.toggle("collapsed",g===l)}hide(){this._elements.root.style.top="-100000px",this._elements.root.style.visibility="hidden"}};e.DiffEditorItemTemplate=n,e.DiffEditorItemTemplate=n=Ie([ue(3,o.IInstantiationService)],n);function c(m){return(0,y.observableFromEvent)(u=>{const r=new D.DisposableStore;return r.add(m.onDidFocusEditorWidget(()=>u(!0))),r.add(m.onDidBlurEditorWidget(()=>u(!1))),r},()=>m.hasTextFocus())}}),define(ie[943],ne([1,0,6,81,13,67,10,2,30,124,158,83,65,24,21,14,8,174,404,530,481]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidgetImpl=void 0;let a=class extends p.Disposable{constructor(g,d,v,_,S,L){super(),this._element=g,this._dimension=d,this._viewModel=v,this._workbenchUIElementFactory=_,this._parentContextKeyService=S,this._parentInstantiationService=L,this._elements=(0,f.h)("div.monaco-component.multiDiffEditor",[(0,f.h)("div@content",{style:{overflow:"hidden"}}),(0,f.h)("div.monaco-editor@overflowWidgetsDomNode",{})]),this._sizeObserver=this._register(new o.ObservableElementSizeObserver(this._element,void 0)),this._objectPool=this._register(new r.ObjectPool(T=>{const N=this._instantiationService.createInstance(u.DiffEditorItemTemplate,this._elements.content,this._elements.overflowWidgetsDomNode,this._workbenchUIElementFactory);return N.setData(T),N})),this._scrollable=this._register(new C.Scrollable({forceIntegerValues:!1,scheduleAtNextAnimationFrame:T=>(0,f.scheduleAtNextAnimationFrame)((0,f.getWindow)(this._element),T),smoothScrollDuration:100})),this._scrollableElement=this._register(new k.SmoothScrollableElement(this._elements.root,{vertical:1,horizontal:1,useShadows:!1},this._scrollable)),this.scrollTop=(0,w.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollTop),this.scrollLeft=(0,w.observableFromEvent)(this._scrollableElement.onScroll,()=>this._scrollableElement.getScrollPosition().scrollLeft),this._viewItemsInfo=(0,w.derivedWithStore)(this,(T,N)=>{const A=this._viewModel.read(T);if(!A)return{items:[],getItem:x=>{throw new y.BugIndicatingError}};const O=A.items.read(T),M=new Map;return{items:O.map(x=>{var F;const W=N.add(new h(x,this._objectPool,this.scrollLeft,z=>{this._scrollableElement.setScrollPosition({scrollTop:this._scrollableElement.getScrollPosition().scrollTop+z})})),H=(F=this._lastDocStates)===null||F===void 0?void 0:F[W.getKey()];return H&&(0,b.transaction)(z=>{W.setViewState(H,z)}),M.set(x,W),W}),getItem:x=>M.get(x)}}),this._viewItems=this._viewItemsInfo.map(this,T=>T.items),this._spaceBetweenPx=0,this._totalHeight=this._viewItems.map(this,(T,N)=>T.reduce((A,O)=>A+O.contentHeight.read(N)+this._spaceBetweenPx,0)),this._contextKeyService=this._register(this._parentContextKeyService.createScoped(this._element)),this._instantiationService=this._parentInstantiationService.createChild(new m.ServiceCollection([n.IContextKeyService,this._contextKeyService])),this._lastDocStates={},this._contextKeyService.createKey(t.EditorContextKeys.inMultiDiffEditor.key,!0),this._register((0,w.autorunWithStore)((T,N)=>{const A=this._viewModel.read(T);if(A&&A.contextKeys)for(const[O,M]of Object.entries(A.contextKeys)){const R=this._contextKeyService.createKey(O,void 0);R.set(M),N.add((0,p.toDisposable)(()=>R.reset()))}}));const I=this._parentContextKeyService.createKey(t.EditorContextKeys.multiDiffEditorAllCollapsed.key,!1);this._register((0,w.autorun)(T=>{const N=this._viewModel.read(T);if(N){const A=N.items.read(T).every(O=>O.collapsed.read(T));I.set(A)}})),this._register((0,w.autorun)(T=>{const N=this._dimension.read(T);this._sizeObserver.observe(N)})),this._elements.content.style.position="relative",this._register((0,w.autorun)(T=>{const N=this._sizeObserver.height.read(T);this._elements.root.style.height=`${N}px`;const A=this._totalHeight.read(T);this._elements.content.style.height=`${A}px`;const O=this._sizeObserver.width.read(T);let M=O;const R=this._viewItems.read(T),x=(0,D.findFirstMax)(R,(0,E.compareBy)(F=>F.maxScroll.read(T).maxScroll,E.numberComparator));if(x){const F=x.maxScroll.read(T);M=O+F.maxScroll}this._scrollableElement.setScrollDimensions({width:O,height:N,scrollHeight:A,scrollWidth:M})})),g.replaceChildren(this._scrollableElement.getDomNode()),this._register((0,p.toDisposable)(()=>{g.replaceChildren()})),this._register(this._register((0,w.autorun)(T=>{(0,b.globalTransaction)(N=>{this.render(T)})})))}render(g){const d=this.scrollTop.read(g);let v=0,_=0,S=0;const L=this._sizeObserver.height.read(g),I=s.OffsetRange.ofStartAndLength(d,L),T=this._sizeObserver.width.read(g);for(const N of this._viewItems.read(g)){const A=N.contentHeight.read(g),O=Math.min(A,L),M=s.OffsetRange.ofStartAndLength(_,O),R=s.OffsetRange.ofStartAndLength(S,A);if(R.isBefore(I))v-=A-O,N.hide();else if(R.isAfter(I))N.hide();else{const x=Math.max(0,Math.min(I.start-R.start,A-O));v-=x;const F=s.OffsetRange.ofStartAndLength(d+v,L);N.render(M,x,T,F)}_+=O+this._spaceBetweenPx,S+=A+this._spaceBetweenPx}this._elements.content.style.transform=`translateY(${-(d+v)}px)`}};e.MultiDiffEditorWidgetImpl=a,e.MultiDiffEditorWidgetImpl=a=Ie([ue(4,n.IContextKeyService),ue(5,c.IInstantiationService)],a);class h extends p.Disposable{constructor(g,d,v,_){super(),this.viewModel=g,this._objectPool=d,this._scrollLeft=v,this._deltaScrollVertical=_,this._templateRef=this._register((0,b.disposableObservableValue)(this,void 0)),this.contentHeight=(0,w.derived)(this,S=>{var L,I,T;return(T=(I=(L=this._templateRef.read(S))===null||L===void 0?void 0:L.object.contentHeight)===null||I===void 0?void 0:I.read(S))!==null&&T!==void 0?T:this.viewModel.lastTemplateData.read(S).contentHeight}),this.maxScroll=(0,w.derived)(this,S=>{var L,I;return(I=(L=this._templateRef.read(S))===null||L===void 0?void 0:L.object.maxScroll.read(S))!==null&&I!==void 0?I:{maxScroll:0,scrollWidth:0}}),this.template=(0,w.derived)(this,S=>{var L;return(L=this._templateRef.read(S))===null||L===void 0?void 0:L.object}),this._isHidden=(0,w.observableValue)(this,!1),this._isFocused=(0,w.derived)(this,S=>{var L,I;return(I=(L=this.template.read(S))===null||L===void 0?void 0:L.isFocused.read(S))!==null&&I!==void 0?I:!1}),this.viewModel.setIsFocused(this._isFocused,void 0),this._register((0,w.autorun)(S=>{var L;const I=this._scrollLeft.read(S);(L=this._templateRef.read(S))===null||L===void 0||L.object.setScrollLeft(I)})),this._register((0,w.autorun)(S=>{const L=this._templateRef.read(S);!L||!this._isHidden.read(S)||L.object.isFocused.read(S)||this._clear()}))}dispose(){this._clear(),super.dispose()}toString(){var g;return`VirtualViewItem(${(g=this.viewModel.entry.value.modified)===null||g===void 0?void 0:g.uri.toString()})`}getKey(){return this.viewModel.getKey()}setViewState(g,d){var v;this.viewModel.collapsed.set(g.collapsed,d),this._updateTemplateData(d);const _=this.viewModel.lastTemplateData.get(),S=(v=g.selections)===null||v===void 0?void 0:v.map(i.Selection.liftSelection);this.viewModel.lastTemplateData.set({..._,selections:S},d);const L=this._templateRef.get();L&&S&&L.object.editor.setSelections(S)}_updateTemplateData(g){var d;const v=this._templateRef.get();v&&this.viewModel.lastTemplateData.set({contentHeight:v.object.contentHeight.get(),selections:(d=v.object.editor.getSelections())!==null&&d!==void 0?d:void 0},g)}_clear(){const g=this._templateRef.get();g&&(0,b.transaction)(d=>{this._updateTemplateData(d),g.object.hide(),this._templateRef.set(void 0,d)})}hide(){this._isHidden.set(!0,void 0)}render(g,d,v,_){this._isHidden.set(!1,void 0);let S=this._templateRef.get();if(!S){S=this._objectPool.getUnusedObj(new u.TemplateData(this.viewModel,this._deltaScrollVertical)),this._templateRef.set(S,void 0);const L=this.viewModel.lastTemplateData.get().selections;L&&S.object.editor.setSelections(L)}S.object.render(g,v,d,_)}}}),define(ie[944],ne([1,0,2,30,83,943,8,404,886]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MultiDiffEditorWidget=void 0;let w=class extends f.Disposable{constructor(C,o,s){super(),this._element=C,this._workbenchUIElementFactory=o,this._instantiationService=s,this._dimension=(0,k.observableValue)(this,void 0),this._viewModel=(0,k.observableValue)(this,void 0),this._widgetImpl=(0,k.derivedWithStore)(this,(i,t)=>((0,E.readHotReloadableExport)(p.DiffEditorItemTemplate,i),t.add(this._instantiationService.createInstance((0,E.readHotReloadableExport)(D.MultiDiffEditorWidgetImpl,i),this._element,this._dimension,this._viewModel,this._workbenchUIElementFactory)))),this._register((0,k.recomputeInitiallyAndOnChange)(this._widgetImpl))}};e.MultiDiffEditorWidget=w,e.MultiDiffEditorWidget=w=Ie([ue(2,y.IInstantiationService)],w)}),define(ie[945],ne([1,0,15,2,16,9,5,24,21,42,37,690,29,33,23,483]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BracketMatchingController=void 0;const n=(0,i.registerColor)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},o.localize(0,null));class c extends E.EditorAction{constructor(){super({id:"editor.action.jumpToBracket",label:o.localize(1,null),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3165,weight:100}})}run(l,g){var d;(d=a.get(g))===null||d===void 0||d.jumpToBracket()}}class m extends E.EditorAction{constructor(){super({id:"editor.action.selectToBracket",label:o.localize(2,null),alias:"Select to Bracket",precondition:void 0,metadata:{description:o.localize2(5,"Select the text inside and including the brackets or curly braces"),args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(l,g,d){var v;let _=!0;d&&d.selectBrackets===!1&&(_=!1),(v=a.get(g))===null||v===void 0||v.selectToBracket(_)}}class u extends E.EditorAction{constructor(){super({id:"editor.action.removeBrackets",label:o.localize(3,null),alias:"Remove Brackets",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:2561,weight:100}})}run(l,g){var d;(d=a.get(g))===null||d===void 0||d.removeBrackets(this.id)}}class r{constructor(l,g,d){this.position=l,this.brackets=g,this.options=d}}class a extends k.Disposable{static get(l){return l.getContribution(a.ID)}constructor(l){super(),this._editor=l,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new f.RunOnceScheduler(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(72),this._updateBracketsSoon.schedule(),this._register(l.onDidChangeCursorPosition(g=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeModelContent(g=>{this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeModel(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeModelLanguageConfiguration(g=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(l.onDidChangeConfiguration(g=>{g.hasChanged(72)&&(this._matchBrackets=this._editor.getOption(72),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(l.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(l.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}jumpToBracket(){if(!this._editor.hasModel())return;const l=this._editor.getModel(),g=this._editor.getSelections().map(d=>{const v=d.getStartPosition(),_=l.bracketPairs.matchBracket(v);let S=null;if(_)_[0].containsPosition(v)&&!_[1].containsPosition(v)?S=_[1].getStartPosition():_[1].containsPosition(v)&&(S=_[0].getStartPosition());else{const L=l.bracketPairs.findEnclosingBrackets(v);if(L)S=L[1].getStartPosition();else{const I=l.bracketPairs.findNextBracket(v);I&&I.range&&(S=I.range.getStartPosition())}}return S?new p.Selection(S.lineNumber,S.column,S.lineNumber,S.column):new p.Selection(v.lineNumber,v.column,v.lineNumber,v.column)});this._editor.setSelections(g),this._editor.revealRange(g[0])}selectToBracket(l){if(!this._editor.hasModel())return;const g=this._editor.getModel(),d=[];this._editor.getSelections().forEach(v=>{const _=v.getStartPosition();let S=g.bracketPairs.matchBracket(_);if(!S&&(S=g.bracketPairs.findEnclosingBrackets(_),!S)){const T=g.bracketPairs.findNextBracket(_);T&&T.range&&(S=g.bracketPairs.matchBracket(T.range.getStartPosition()))}let L=null,I=null;if(S){S.sort(y.Range.compareRangesUsingStarts);const[T,N]=S;if(L=l?T.getStartPosition():T.getEndPosition(),I=l?N.getEndPosition():N.getStartPosition(),N.containsPosition(_)){const A=L;L=I,I=A}}L&&I&&d.push(new p.Selection(L.lineNumber,L.column,I.lineNumber,I.column))}),d.length>0&&(this._editor.setSelections(d),this._editor.revealRange(d[0]))}removeBrackets(l){if(!this._editor.hasModel())return;const g=this._editor.getModel();this._editor.getSelections().forEach(d=>{const v=d.getPosition();let _=g.bracketPairs.matchBracket(v);_||(_=g.bracketPairs.findEnclosingBrackets(v)),_&&(this._editor.pushUndoStop(),this._editor.executeEdits(l,[{range:_[0],text:""},{range:_[1],text:""}]),this._editor.pushUndoStop())})}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const l=[];let g=0;for(const d of this._lastBracketsData){const v=d.brackets;v&&(l[g++]={range:v[0],options:d.options},l[g++]={range:v[1],options:d.options})}this._decorations.set(l)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const l=this._editor.getSelections();if(l.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const g=this._editor.getModel(),d=g.getVersionId();let v=[];this._lastVersionId===d&&(v=this._lastBracketsData);const _=[];let S=0;for(let A=0,O=l.length;A<O;A++){const M=l[A];M.isEmpty()&&(_[S++]=M.getStartPosition())}_.length>1&&_.sort(D.Position.compare);const L=[];let I=0,T=0;const N=v.length;for(let A=0,O=_.length;A<O;A++){const M=_[A];for(;T<N&&v[T].position.isBefore(M);)T++;if(T<N&&v[T].position.equals(M))L[I++]=v[T];else{let R=g.bracketPairs.matchBracket(M,20),x=a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!R&&this._matchBrackets==="always"&&(R=g.bracketPairs.findEnclosingBrackets(M,20),x=a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),L[I++]=new r(M,R,x)}}this._lastBracketsData=L,this._lastVersionId=d}}e.BracketMatchingController=a,a.ID="editor.contrib.bracketMatchingController",a._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,t.themeColorFromId)(n),position:b.OverviewRulerLane.Center}}),a._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=C.ModelDecorationOptions.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,E.registerEditorContribution)(a.ID,a,1),(0,E.registerEditorAction)(m),(0,E.registerEditorAction)(c),(0,E.registerEditorAction)(u),s.MenuRegistry.appendMenuItem(s.MenuId.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:o.localize(4,null)},order:2})}),define(ie[279],ne([1,0,6,47,10,95,2,9,37,18,152,863,887,389,177,697,890,25,27,14,8,104,92,33,94,23,129,388,88,62]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.CodeActionController=void 0;const N="quickfix-edit-highlight";let A=T=class extends y.Disposable{static get(M){return M.getContribution(T.ID)}constructor(M,R,x,F,W,H,z,j,K,U,G){super(),this._commandService=z,this._configurationService=j,this._actionWidgetService=K,this._instantiationService=U,this._telemetryService=G,this._activeCodeActions=this._register(new y.MutableDisposable),this._showDisabled=!1,this._disposed=!1,this._editor=M,this._model=this._register(new S.CodeActionModel(this._editor,W.codeActionProvider,R,x,H,j)),this._register(this._model.onDidChangeState(te=>this.update(te))),this._lightBulbWidget=new D.Lazy(()=>{const te=this._editor.getContribution(i.LightBulbWidget.ID);return te&&this._register(te.onClick(ee=>this.showCodeActionsFromLightbulb(ee.actions,ee))),te}),this._resolver=F.createInstance(o.CodeActionKeybindingResolver),this._register(this._editor.onDidLayoutChange(()=>this._actionWidgetService.hide()))}dispose(){this._disposed=!0,super.dispose()}async showCodeActionsFromLightbulb(M,R){if(this._telemetryService.publicLog2("codeAction.showCodeActionsFromLightbulb",{codeActionListLength:M.validActions.length,codeActions:M.validActions.map(x=>x.action.title),codeActionProviders:M.validActions.map(x=>{var F,W;return(W=(F=x.provider)===null||F===void 0?void 0:F.displayName)!==null&&W!==void 0?W:""})}),M.allAIFixes&&M.validActions.length===1){const x=M.validActions[0],F=x.action.command;F&&F.id==="inlineChat.start"&&F.arguments&&F.arguments.length>=1&&(F.arguments[0]={...F.arguments[0],autoSend:!1}),await this._applyCodeAction(x,!1,!1,C.ApplyCodeActionReason.FromAILightbulb);return}await this.showCodeActionList(M,R,{includeDisabledActions:!1,fromLightbulb:!0})}showCodeActions(M,R,x){return this.showCodeActionList(R,x,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(M,R,x,F){var W;if(!this._editor.hasModel())return;(W=t.MessageController.get(this._editor))===null||W===void 0||W.closeMessage();const H=this._editor.getPosition();this._trigger({type:1,triggerAction:R,filter:x,autoApply:F,context:{notAvailableMessage:M,position:H}})}_trigger(M){return this._model.trigger(M)}async _applyCodeAction(M,R,x,F){try{await this._instantiationService.invokeFunction(C.applyCodeAction,M,F,{preview:x,editor:this._editor})}finally{R&&this._trigger({type:2,triggerAction:_.CodeActionTriggerSource.QuickFix,filter:{}})}}async update(M){var R,x,F,W,H,z,j;if(M.type!==1){(R=this._lightBulbWidget.rawValue)===null||R===void 0||R.hide();return}let K;try{K=await M.actions}catch(U){(0,E.onUnexpectedError)(U);return}if(!this._disposed)if((x=this._lightBulbWidget.value)===null||x===void 0||x.update(K,M.trigger,M.position),M.trigger.type===1){if(!((F=M.trigger.filter)===null||F===void 0)&&F.include){const G=this.tryGetValidActionToApply(M.trigger,K);if(G){try{(W=this._lightBulbWidget.value)===null||W===void 0||W.hide(),await this._applyCodeAction(G,!1,!1,C.ApplyCodeActionReason.FromCodeActions)}finally{K.dispose()}return}if(M.trigger.context){const te=this.getInvalidActionThatWouldHaveBeenApplied(M.trigger,K);if(te&&te.action.disabled){(H=t.MessageController.get(this._editor))===null||H===void 0||H.showMessage(te.action.disabled,M.trigger.context.position),K.dispose();return}}}const U=!!(!((z=M.trigger.filter)===null||z===void 0)&&z.include);if(M.trigger.context&&(!K.allActions.length||!U&&!K.validActions.length)){(j=t.MessageController.get(this._editor))===null||j===void 0||j.showMessage(M.trigger.context.notAvailableMessage,M.trigger.context.position),this._activeCodeActions.value=K,K.dispose();return}this._activeCodeActions.value=K,this.showCodeActionList(K,this.toCoords(M.position),{includeDisabledActions:U,fromLightbulb:!1})}else this._actionWidgetService.isVisible?K.dispose():this._activeCodeActions.value=K}getInvalidActionThatWouldHaveBeenApplied(M,R){if(R.allActions.length&&(M.autoApply==="first"&&R.validActions.length===0||M.autoApply==="ifSingle"&&R.allActions.length===1))return R.allActions.find(({action:x})=>x.disabled)}tryGetValidActionToApply(M,R){if(R.validActions.length&&(M.autoApply==="first"&&R.validActions.length>0||M.autoApply==="ifSingle"&&R.validActions.length===1))return R.validActions[0]}async showCodeActionList(M,R,x){const F=this._editor.createDecorationsCollection(),W=this._editor.getDomNode();if(!W)return;const H=x.includeDisabledActions&&(this._showDisabled||M.validActions.length===0)?M.allActions:M.validActions;if(!H.length)return;const z=p.Position.isIPosition(R)?this.toCoords(R):R,j={onSelect:async(K,U)=>{this._applyCodeAction(K,!0,!!U,x.fromLightbulb?C.ApplyCodeActionReason.FromAILightbulb:C.ApplyCodeActionReason.FromCodeActions),this._actionWidgetService.hide(!1),F.clear()},onHide:K=>{var U;(U=this._editor)===null||U===void 0||U.focus(),F.clear(),x.fromLightbulb&&K!==void 0&&this._telemetryService.publicLog2("codeAction.showCodeActionList.onHide",{codeActionListLength:M.validActions.length,didCancel:K})},onHover:async(K,U)=>{var G;if(U.isCancellationRequested)return;let te=!1;const ee=K.action.kind;if(ee){const Y=new L.HierarchicalKind(ee);te=[_.CodeActionKind.RefactorExtract,_.CodeActionKind.RefactorInline,_.CodeActionKind.RefactorRewrite,_.CodeActionKind.RefactorMove,_.CodeActionKind.Source].some(Z=>Z.contains(Y))}return{canPreview:te||!!(!((G=K.action.edit)===null||G===void 0)&&G.edits.length)}},onFocus:K=>{var U,G;if(K&&K.action){const te=K.action.ranges,ee=K.action.diagnostics;if(F.clear(),te&&te.length>0){const Y=ee&&ee?.length>1?ee.map(P=>({range:P,options:T.DECORATION})):te.map(P=>({range:P,options:T.DECORATION}));F.set(Y)}else if(ee&&ee.length>0){const Y=ee.map(Z=>({range:Z,options:T.DECORATION}));F.set(Y);const P=ee[0];if(P.startLineNumber&&P.startColumn){const Z=(G=(U=this._editor.getModel())===null||U===void 0?void 0:U.getWordAtPosition({lineNumber:P.startLineNumber,column:P.startColumn}))===null||G===void 0?void 0:G.word;k.status((0,n.localize)(0,null,Z,P.startLineNumber,P.startColumn))}}}else F.clear()}};this._actionWidgetService.show("codeActionWidget",!0,(0,s.toMenuItems)(H,this._shouldShowHeaders(),this._resolver.getResolver()),j,z,W,this._getActionBarActions(M,R,x))}toCoords(M){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(M,1),this._editor.render();const R=this._editor.getScrolledVisiblePosition(M),x=(0,f.getDomNodePagePosition)(this._editor.getDomNode()),F=x.left+R.left,W=x.top+R.top+R.height;return{x:F,y:W}}_shouldShowHeaders(){var M;const R=(M=this._editor)===null||M===void 0?void 0:M.getModel();return this._configurationService.getValue("editor.codeActionWidget.showHeaders",{resource:R?.uri})}_getActionBarActions(M,R,x){if(x.fromLightbulb)return[];const F=M.documentation.map(W=>{var H;return{id:W.id,label:W.title,tooltip:(H=W.tooltip)!==null&&H!==void 0?H:"",class:void 0,enabled:!0,run:()=>{var z;return this._commandService.executeCommand(W.id,...(z=W.arguments)!==null&&z!==void 0?z:[])}}});return x.includeDisabledActions&&M.validActions.length>0&&M.allActions.length!==M.validActions.length&&F.push(this._showDisabled?{id:"hideMoreActions",label:(0,n.localize)(1,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!1,this.showCodeActionList(M,R,x))}:{id:"showMoreActions",label:(0,n.localize)(2,null),enabled:!0,tooltip:"",class:void 0,run:()=>(this._showDisabled=!0,this.showCodeActionList(M,R,x))}),F}};e.CodeActionController=A,A.ID="editor.contrib.codeActionController",A.DECORATION=w.ModelDecorationOptions.register({description:"quickfix-highlight",className:N}),e.CodeActionController=A=T=Ie([ue(1,h.IMarkerService),ue(2,r.IContextKeyService),ue(3,a.IInstantiationService),ue(4,b.ILanguageFeaturesService),ue(5,l.IEditorProgressService),ue(6,m.ICommandService),ue(7,u.IConfigurationService),ue(8,c.IActionWidgetService),ue(9,a.IInstantiationService),ue(10,I.ITelemetryService)],A),(0,v.registerThemingParticipant)((O,M)=>{((F,W)=>{W&&M.addRule(`.monaco-editor ${F} { background-color: ${W}; }`)})(".quickfix-edit-highlight",O.getColor(g.editorFindMatchHighlight));const x=O.getColor(g.editorFindMatchHighlightBorder);x&&M.addRule(`.monaco-editor .quickfix-edit-highlight { border: 1px ${(0,d.isHighContrast)(O.type)?"dotted":"solid"} ${x}; box-sizing: border-box; }`)})}),define(ie[946],ne([1,0,88,12,16,21,152,695,14,129,279,388]),function(Q,e,f,k,E,D,y,p,w,b,C,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AutoFixAction=e.FixAllAction=e.OrganizeImportsAction=e.SourceAction=e.RefactorAction=e.CodeActionCommand=e.QuickFixAction=void 0;function s(l){return w.ContextKeyExpr.regex(o.SUPPORTED_CODE_ACTIONS.keys()[0],new RegExp("(\\s|^)"+(0,k.escapeRegExpCharacters)(l.value)+"\\b"))}const i={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:p.localize(0,null)},apply:{type:"string",description:p.localize(1,null),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[p.localize(2,null),p.localize(3,null),p.localize(4,null)]},preferred:{type:"boolean",default:!1,description:p.localize(5,null)}}};function t(l,g,d,v,_=b.CodeActionTriggerSource.Default){if(l.hasModel()){const S=C.CodeActionController.get(l);S?.manualTriggerAtCurrentPosition(g,_,d,v)}}class n extends E.EditorAction{constructor(){super({id:y.quickFixCommandId,label:p.localize(6,null),alias:"Quick Fix...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:2137,weight:100}})}run(g,d){return t(d,p.localize(7,null),void 0,void 0,b.CodeActionTriggerSource.QuickFix)}}e.QuickFixAction=n;class c extends E.EditorCommand{constructor(){super({id:y.codeActionCommandId,precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),metadata:{description:"Trigger a code action",args:[{name:"args",schema:i}]}})}runEditorCommand(g,d,v){const _=b.CodeActionCommandArgs.fromUser(v,{kind:f.HierarchicalKind.Empty,apply:"ifSingle"});return t(d,typeof v?.kind=="string"?_.preferred?p.localize(8,null,v.kind):p.localize(9,null,v.kind):_.preferred?p.localize(10,null):p.localize(11,null),{include:_.kind,includeSourceActions:!0,onlyIncludePreferredActions:_.preferred},_.apply)}}e.CodeActionCommand=c;class m extends E.EditorAction{constructor(){super({id:y.refactorCommandId,label:p.localize(12,null),alias:"Refactor...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:w.ContextKeyExpr.and(D.EditorContextKeys.writable,s(b.CodeActionKind.Refactor))},metadata:{description:"Refactor...",args:[{name:"args",schema:i}]}})}run(g,d,v){const _=b.CodeActionCommandArgs.fromUser(v,{kind:b.CodeActionKind.Refactor,apply:"never"});return t(d,typeof v?.kind=="string"?_.preferred?p.localize(13,null,v.kind):p.localize(14,null,v.kind):_.preferred?p.localize(15,null):p.localize(16,null),{include:b.CodeActionKind.Refactor.contains(_.kind)?_.kind:f.HierarchicalKind.None,onlyIncludePreferredActions:_.preferred},_.apply,b.CodeActionTriggerSource.Refactor)}}e.RefactorAction=m;class u extends E.EditorAction{constructor(){super({id:y.sourceActionCommandId,label:p.localize(17,null),alias:"Source Action...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,D.EditorContextKeys.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:w.ContextKeyExpr.and(D.EditorContextKeys.writable,s(b.CodeActionKind.Source))},metadata:{description:"Source Action...",args:[{name:"args",schema:i}]}})}run(g,d,v){const _=b.CodeActionCommandArgs.fromUser(v,{kind:b.CodeActionKind.Source,apply:"never"});return t(d,typeof v?.kind=="string"?_.preferred?p.localize(18,null,v.kind):p.localize(19,null,v.kind):_.preferred?p.localize(20,null):p.localize(21,null),{include:b.CodeActionKind.Source.contains(_.kind)?_.kind:f.HierarchicalKind.None,includeSourceActions:!0,onlyIncludePreferredActions:_.preferred},_.apply,b.CodeActionTriggerSource.SourceAction)}}e.SourceAction=u;class r extends E.EditorAction{constructor(){super({id:y.organizeImportsCommandId,label:p.localize(22,null),alias:"Organize Imports",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,s(b.CodeActionKind.SourceOrganizeImports)),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:1581,weight:100}})}run(g,d){return t(d,p.localize(23,null),{include:b.CodeActionKind.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",b.CodeActionTriggerSource.OrganizeImports)}}e.OrganizeImportsAction=r;class a extends E.EditorAction{constructor(){super({id:y.fixAllCommandId,label:p.localize(24,null),alias:"Fix All",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,s(b.CodeActionKind.SourceFixAll))})}run(g,d){return t(d,p.localize(25,null),{include:b.CodeActionKind.SourceFixAll,includeSourceActions:!0},"ifSingle",b.CodeActionTriggerSource.FixAll)}}e.FixAllAction=a;class h extends E.EditorAction{constructor(){super({id:y.autoFixCommandId,label:p.localize(26,null),alias:"Auto Fix...",precondition:w.ContextKeyExpr.and(D.EditorContextKeys.writable,s(b.CodeActionKind.QuickFix)),kbOpts:{kbExpr:D.EditorContextKeys.textInputFocus,primary:1625,mac:{primary:2649},weight:100}})}run(g,d){return t(d,p.localize(27,null),{include:b.CodeActionKind.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",b.CodeActionTriggerSource.AutoFix)}}e.AutoFixAction=h}),define(ie[947],ne([1,0,16,265,946,279,389,696,105,39]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(D.CodeActionController.ID,D.CodeActionController,3),(0,f.registerEditorContribution)(y.LightBulbWidget.ID,y.LightBulbWidget,4),(0,f.registerEditorAction)(E.QuickFixAction),(0,f.registerEditorAction)(E.RefactorAction),(0,f.registerEditorAction)(E.SourceAction),(0,f.registerEditorAction)(E.OrganizeImportsAction),(0,f.registerEditorAction)(E.AutoFixAction),(0,f.registerEditorAction)(E.FixAllAction),(0,f.registerEditorCommand)(new E.CodeActionCommand),b.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.showHeaders":{type:"boolean",scope:5,description:p.localize(0,null),default:!0}}}),b.Registry.as(w.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{"editor.codeActionWidget.includeNearbyQuickFixes":{type:"boolean",scope:5,description:p.localize(1,null),default:!0}}})}),define(ie[948],ne([1,0,6,110,5,37,485]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensWidget=e.CodeLensHelper=void 0;class y{constructor(s,i,t){this.afterColumn=1073741824,this.afterLineNumber=s,this.heightInPx=i,this._onHeight=t,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(s){this._lastHeight===void 0?this._lastHeight=s:this._lastHeight!==s&&(this._lastHeight=s,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class p{constructor(s,i){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=s,this._id=`codelens.widget-${p._idPool++}`,this.updatePosition(i),this._domNode=document.createElement("span"),this._domNode.className="codelens-decoration"}withCommands(s,i){this._commands.clear();const t=[];let n=!1;for(let c=0;c<s.length;c++){const m=s[c];if(m&&(n=!0,m.command)){const u=(0,k.renderLabelWithIcons)(m.command.title.trim());if(m.command.id){const r=`c${p._idPool++}`;t.push(f.$("a",{id:r,title:m.command.tooltip,role:"button"},...u)),this._commands.set(r,m.command)}else t.push(f.$("span",{title:m.command.tooltip},...u));c+1<s.length&&t.push(f.$("span",void 0,"\xA0|\xA0"))}}n?(f.reset(this._domNode,...t),this._isEmpty&&i&&this._domNode.classList.add("fadein"),this._isEmpty=!1):f.reset(this._domNode,f.$("span",void 0,"no commands"))}getCommand(s){return s.parentElement===this._domNode?this._commands.get(s.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(s){const i=this._editor.getModel().getLineFirstNonWhitespaceColumn(s);this._widgetPosition={position:{lineNumber:s,column:i},preference:[1]}}getPosition(){return this._widgetPosition||null}}p._idPool=0;class w{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(s,i){this._addDecorations.push(s),this._addDecorationsCallbacks.push(i)}removeDecoration(s){this._removeDecorations.push(s)}commit(s){const i=s.deltaDecorations(this._removeDecorations,this._addDecorations);for(let t=0,n=i.length;t<n;t++)this._addDecorationsCallbacks[t](i[t])}}e.CodeLensHelper=w;const b=D.ModelDecorationOptions.register({collapseOnReplaceEdit:!0,description:"codelens"});class C{constructor(s,i,t,n,c,m){this._isDisposed=!1,this._editor=i,this._data=s,this._decorationIds=[];let u;const r=[];this._data.forEach((a,h)=>{a.symbol.command&&r.push(a.symbol),t.addDecoration({range:a.symbol.range,options:b},l=>this._decorationIds[h]=l),u?u=E.Range.plusRange(u,a.symbol.range):u=E.Range.lift(a.symbol.range)}),this._viewZone=new y(u.startLineNumber-1,c,m),this._viewZoneId=n.addZone(this._viewZone),r.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(r,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new p(this._editor,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(s,i){this._decorationIds.forEach(s.removeDecoration,s),this._decorationIds=[],i?.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((s,i)=>{const t=this._editor.getModel().getDecorationRange(s),n=this._data[i].symbol;return!!(t&&E.Range.isEmpty(n.range)===t.isEmpty())})}updateCodeLensSymbols(s,i){this._decorationIds.forEach(i.removeDecoration,i),this._decorationIds=[],this._data=s,this._data.forEach((t,n)=>{i.addDecoration({range:t.symbol.range,options:b},c=>this._decorationIds[n]=c)})}updateHeight(s,i){this._viewZone.heightInPx=s,i.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(s){if(!this._viewZone.isVisible())return null;for(let i=0;i<this._decorationIds.length;i++){const t=s.getDecorationRange(this._decorationIds[i]);t&&(this._data[i].symbol.range=t)}return this._data}updateCommands(s){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(s,!0);for(let i=0;i<this._data.length;i++){const t=s[i];if(t){const{symbol:n}=this._data[i];n.command=t.command||n.command}}}getCommand(s){var i;return(i=this._contentWidget)===null||i===void 0?void 0:i.getCommand(s)}getLineNumber(){const s=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return s?s.startLineNumber:-1}update(s){if(this.isValid()){const i=this._editor.getModel().getDecorationRange(this._decorationIds[0]);i&&(this._viewZone.afterLineNumber=i.startLineNumber-1,s.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(i.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}e.CodeLensWidget=C}),define(ie[949],ne([1,0,15,10,2,138,16,38,21,367,853,948,700,25,51,75,84,18]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CodeLensContribution=void 0;let u=class{constructor(a,h,l,g,d,v){this._editor=a,this._languageFeaturesService=h,this._commandService=g,this._notificationService=d,this._codeLensCache=v,this._disposables=new E.DisposableStore,this._localToDispose=new E.DisposableStore,this._lenses=[],this._oldCodeLensModels=new E.DisposableStore,this._provideCodeLensDebounce=l.for(h.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=l.for(h.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new f.RunOnceScheduler(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(_=>{(_.hasChanged(50)||_.hasChanged(19)||_.hasChanged(18))&&this._updateLensStyle(),_.hasChanged(17)&&this._onModelChange()})),this._disposables.add(h.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._updateLensStyle()}dispose(){var a;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(a=this._currentCodeLensModel)===null||a===void 0||a.dispose()}_getLayoutInfo(){const a=Math.max(1.3,this._editor.getOption(67)/this._editor.getOption(52));let h=this._editor.getOption(19);return(!h||h<5)&&(h=this._editor.getOption(52)*.9|0),{fontSize:h,codeLensHeight:h*a|0}}_updateLensStyle(){const{codeLensHeight:a,fontSize:h}=this._getLayoutInfo(),l=this._editor.getOption(18),g=this._editor.getOption(50),{style:d}=this._editor.getContainerDomNode();d.setProperty("--vscode-editorCodeLens-lineHeight",`${a}px`),d.setProperty("--vscode-editorCodeLens-fontSize",`${h}px`),d.setProperty("--vscode-editorCodeLens-fontFeatureSettings",g.fontFeatureSettings),l&&(d.setProperty("--vscode-editorCodeLens-fontFamily",l),d.setProperty("--vscode-editorCodeLens-fontFamilyDefault",p.EDITOR_FONT_DEFAULTS.fontFamily)),this._editor.changeViewZones(v=>{for(const _ of this._lenses)_.updateHeight(a,v)})}_localDispose(){var a,h,l;(a=this._getCodeLensModelPromise)===null||a===void 0||a.cancel(),this._getCodeLensModelPromise=void 0,(h=this._resolveCodeLensesPromise)===null||h===void 0||h.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(l=this._currentCodeLensModel)===null||l===void 0||l.dispose()}_onModelChange(){this._localDispose();const a=this._editor.getModel();if(!a||!this._editor.getOption(17)||a.isTooLargeForTokenization())return;const h=this._codeLensCache.get(a);if(h&&this._renderCodeLensSymbols(h),!this._languageFeaturesService.codeLensProvider.has(a)){h&&(0,f.disposableTimeout)(()=>{const g=this._codeLensCache.get(a);h===g&&(this._codeLensCache.delete(a),this._onModelChange())},30*1e3,this._localToDispose);return}for(const g of this._languageFeaturesService.codeLensProvider.all(a))if(typeof g.onDidChange=="function"){const d=g.onDidChange(()=>l.schedule());this._localToDispose.add(d)}const l=new f.RunOnceScheduler(()=>{var g;const d=Date.now();(g=this._getCodeLensModelPromise)===null||g===void 0||g.cancel(),this._getCodeLensModelPromise=(0,f.createCancelablePromise)(v=>(0,b.getCodeLensModel)(this._languageFeaturesService.codeLensProvider,a,v)),this._getCodeLensModelPromise.then(v=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=v,this._codeLensCache.put(a,v);const _=this._provideCodeLensDebounce.update(a,Date.now()-d);l.delay=_,this._renderCodeLensSymbols(v),this._resolveCodeLensesInViewportSoon()},k.onUnexpectedError)},this._provideCodeLensDebounce.get(a));this._localToDispose.add(l),this._localToDispose.add((0,E.toDisposable)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{var g;this._editor.changeDecorations(d=>{this._editor.changeViewZones(v=>{const _=[];let S=-1;this._lenses.forEach(I=>{!I.isValid()||S===I.getLineNumber()?_.push(I):(I.update(v),S=I.getLineNumber())});const L=new o.CodeLensHelper;_.forEach(I=>{I.dispose(L,v),this._lenses.splice(this._lenses.indexOf(I),1)}),L.commit(d)})}),l.schedule(),this._resolveCodeLensesScheduler.cancel(),(g=this._resolveCodeLensesPromise)===null||g===void 0||g.cancel(),this._resolveCodeLensesPromise=void 0})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{l.schedule()})),this._localToDispose.add(this._editor.onDidBlurEditorText(()=>{l.cancel()})),this._localToDispose.add(this._editor.onDidScrollChange(g=>{g.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,E.toDisposable)(()=>{if(this._editor.getModel()){const g=D.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(d=>{this._editor.changeViewZones(v=>{this._disposeAllLenses(d,v)})}),g.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(g=>{if(g.target.type!==9)return;let d=g.target.element;if(d?.tagName==="SPAN"&&(d=d.parentElement),d?.tagName==="A")for(const v of this._lenses){const _=v.getCommand(d);if(_){this._commandService.executeCommand(_.id,..._.arguments||[]).catch(S=>this._notificationService.error(S));break}}})),l.schedule()}_disposeAllLenses(a,h){const l=new o.CodeLensHelper;for(const g of this._lenses)g.dispose(l,h);a&&l.commit(a),this._lenses.length=0}_renderCodeLensSymbols(a){if(!this._editor.hasModel())return;const h=this._editor.getModel().getLineCount(),l=[];let g;for(const _ of a.lenses){const S=_.symbol.range.startLineNumber;S<1||S>h||(g&&g[g.length-1].symbol.range.startLineNumber===S?g.push(_):(g=[_],l.push(g)))}if(!l.length&&!this._lenses.length)return;const d=D.StableEditorScrollState.capture(this._editor),v=this._getLayoutInfo();this._editor.changeDecorations(_=>{this._editor.changeViewZones(S=>{const L=new o.CodeLensHelper;let I=0,T=0;for(;T<l.length&&I<this._lenses.length;){const N=l[T][0].symbol.range.startLineNumber,A=this._lenses[I].getLineNumber();A<N?(this._lenses[I].dispose(L,S),this._lenses.splice(I,1)):A===N?(this._lenses[I].updateCodeLensSymbols(l[T],L),T++,I++):(this._lenses.splice(I,0,new o.CodeLensWidget(l[T],this._editor,L,S,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),I++,T++)}for(;I<this._lenses.length;)this._lenses[I].dispose(L,S),this._lenses.splice(I,1);for(;T<l.length;)this._lenses.push(new o.CodeLensWidget(l[T],this._editor,L,S,v.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),T++;L.commit(_)})}),d.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var a;(a=this._resolveCodeLensesPromise)===null||a===void 0||a.cancel(),this._resolveCodeLensesPromise=void 0;const h=this._editor.getModel();if(!h)return;const l=[],g=[];if(this._lenses.forEach(_=>{const S=_.computeIfNecessary(h);S&&(l.push(S),g.push(_))}),l.length===0)return;const d=Date.now(),v=(0,f.createCancelablePromise)(_=>{const S=l.map((L,I)=>{const T=new Array(L.length),N=L.map((A,O)=>!A.symbol.command&&typeof A.provider.resolveCodeLens=="function"?Promise.resolve(A.provider.resolveCodeLens(h,A.symbol,_)).then(M=>{T[O]=M},k.onUnexpectedExternalError):(T[O]=A.symbol,Promise.resolve(void 0)));return Promise.all(N).then(()=>{!_.isCancellationRequested&&!g[I].isDisposed()&&g[I].updateCommands(T)})});return Promise.all(S)});this._resolveCodeLensesPromise=v,this._resolveCodeLensesPromise.then(()=>{const _=this._resolveCodeLensesDebounce.update(h,Date.now()-d);this._resolveCodeLensesScheduler.delay=_,this._currentCodeLensModel&&this._codeLensCache.put(h,this._currentCodeLensModel),this._oldCodeLensModels.clear(),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},_=>{(0,k.onUnexpectedError)(_),v===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}async getModel(){var a;return await this._getCodeLensModelPromise,await this._resolveCodeLensesPromise,!((a=this._currentCodeLensModel)===null||a===void 0)&&a.isDisposed?void 0:this._currentCodeLensModel}};e.CodeLensContribution=u,u.ID="css.editor.codeLens",e.CodeLensContribution=u=Ie([ue(1,m.ILanguageFeaturesService),ue(2,c.ILanguageFeatureDebounceService),ue(3,i.ICommandService),ue(4,t.INotificationService),ue(5,C.ICodeLensCache)],u),(0,y.registerEditorContribution)(u.ID,u,1),(0,y.registerEditorAction)(class extends y.EditorAction{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:w.EditorContextKeys.hasCodeLensProvider,label:(0,s.localize)(0,null),alias:"Show CodeLens Commands For Current Line"})}async run(a,h){if(!h.hasModel())return;const l=a.get(n.IQuickInputService),g=a.get(i.ICommandService),d=a.get(t.INotificationService),v=h.getSelection().positionLineNumber,_=h.getContribution(u.ID);if(!_)return;const S=await _.getModel();if(!S)return;const L=[];for(const N of S.lenses)N.symbol.command&&N.symbol.range.startLineNumber===v&&L.push({label:N.symbol.command.title,command:N.symbol.command});if(L.length===0)return;const I=await l.pick(L,{canPickMany:!1,placeHolder:(0,s.localize)(1,null)});if(!I)return;let T=I.command;if(S.isDisposed){const N=await _.getModel(),A=N?.lenses.find(O=>{var M;return O.symbol.range.startLineNumber===v&&((M=O.symbol.command)===null||M===void 0?void 0:M.title)===T.title});if(!A||!A.symbol.command)return;T=A.symbol.command}try{await g.executeCommand(T.id,...T.arguments||[])}catch(N){d.error(N)}}})}),define(ie[405],ne([1,0,15,35,10,7,2,64,12,178,16,5,37,84,18,381,27]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";var m;Object.defineProperty(e,"__esModule",{value:!0}),e.DecoratorLimitReporter=e.ColorDetector=e.ColorDecorationInjectedTextMarker=void 0,e.ColorDecorationInjectedTextMarker=Object.create({});let u=m=class extends y.Disposable{constructor(h,l,g,d){super(),this._editor=h,this._configurationService=l,this._languageFeaturesService=g,this._localToDispose=this._register(new y.DisposableStore),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new b.DynamicCssRules(this._editor),this._decoratorLimitReporter=new r,this._colorDecorationClassRefs=this._register(new y.DisposableStore),this._debounceInformation=d.for(g.colorProvider,"Document Colors",{min:m.RECOMPUTE_TIME}),this._register(h.onDidChangeModel(()=>{this._isColorDecoratorsEnabled=this.isEnabled(),this.updateColors()})),this._register(h.onDidChangeModelLanguage(()=>this.updateColors())),this._register(g.colorProvider.onDidChange(()=>this.updateColors())),this._register(h.onDidChangeConfiguration(v=>{const _=this._isColorDecoratorsEnabled;this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147);const S=_!==this._isColorDecoratorsEnabled||v.hasChanged(21),L=v.hasChanged(147);(S||L)&&(this._isColorDecoratorsEnabled?this.updateColors():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isColorDecoratorsEnabled=this.isEnabled(),this._isDefaultColorDecoratorsEnabled=this._editor.getOption(147),this.updateColors()}isEnabled(){const h=this._editor.getModel();if(!h)return!1;const l=h.getLanguageId(),g=this._configurationService.getValue(l);if(g&&typeof g=="object"){const d=g.colorDecorators;if(d&&d.enable!==void 0&&!d.enable)return d.enable}return this._editor.getOption(20)}static get(h){return h.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}updateColors(){if(this.stop(),!this._isColorDecoratorsEnabled)return;const h=this._editor.getModel();!h||!this._languageFeaturesService.colorProvider.has(h)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new f.TimeoutTimer,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(h)))})),this.beginCompute())}async beginCompute(){this._computePromise=(0,f.createCancelablePromise)(async h=>{const l=this._editor.getModel();if(!l)return[];const g=new p.StopWatch(!1),d=await(0,n.getColors)(this._languageFeaturesService.colorProvider,l,h,this._isDefaultColorDecoratorsEnabled);return this._debounceInformation.update(l,g.elapsed()),d});try{const h=await this._computePromise;this.updateDecorations(h),this.updateColorDecorators(h),this._computePromise=null}catch(h){(0,E.onUnexpectedError)(h)}}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(h){const l=h.map(g=>({range:{startLineNumber:g.colorInfo.range.startLineNumber,startColumn:g.colorInfo.range.startColumn,endLineNumber:g.colorInfo.range.endLineNumber,endColumn:g.colorInfo.range.endColumn},options:s.ModelDecorationOptions.EMPTY}));this._editor.changeDecorations(g=>{this._decorationsIds=g.deltaDecorations(this._decorationsIds,l),this._colorDatas=new Map,this._decorationsIds.forEach((d,v)=>this._colorDatas.set(d,h[v]))})}updateColorDecorators(h){this._colorDecorationClassRefs.clear();const l=[],g=this._editor.getOption(21);for(let v=0;v<h.length&&l.length<g;v++){const{red:_,green:S,blue:L,alpha:I}=h[v].colorInfo.color,T=new k.RGBA(Math.round(_*255),Math.round(S*255),Math.round(L*255),I),N=`rgba(${T.r}, ${T.g}, ${T.b}, ${T.a})`,A=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:N}));l.push({range:{startLineNumber:h[v].colorInfo.range.startLineNumber,startColumn:h[v].colorInfo.range.startColumn,endLineNumber:h[v].colorInfo.range.endLineNumber,endColumn:h[v].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:w.noBreakWhitespace,inlineClassName:`${A.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:e.ColorDecorationInjectedTextMarker}}})}const d=g<h.length?g:!1;this._decoratorLimitReporter.update(h.length,d),this._colorDecoratorIds.set(l)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(h){const l=this._editor.getModel();if(!l)return null;const g=l.getDecorationsInRange(o.Range.fromPositions(h,h)).filter(d=>this._colorDatas.has(d.id));return g.length===0?null:this._colorDatas.get(g[0].id)}isColorDecoration(h){return this._colorDecoratorIds.has(h)}};e.ColorDetector=u,u.ID="editor.contrib.colorDetector",u.RECOMPUTE_TIME=1e3,e.ColorDetector=u=m=Ie([ue(1,c.IConfigurationService),ue(2,t.ILanguageFeaturesService),ue(3,i.ILanguageFeatureDebounceService)],u);class r{constructor(){this._onDidChange=new D.Emitter,this._computed=0,this._limited=!1}update(h,l){(h!==this._computed||l!==this._limited)&&(this._computed=h,this._limited=l,this._onDidChange.fire())}}e.DecoratorLimitReporter=r,(0,C.registerEditorContribution)(u.ID,u,1)}),define(ie[406],ne([1,0,15,19,35,2,5,381,405,587,893,23,6]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerParticipant=e.StandaloneColorPickerHover=e.ColorHoverParticipant=e.ColorHover=void 0;class i{constructor(l,g,d,v){this.owner=l,this.range=g,this.model=d,this.provider=v,this.forceShowAtRange=!0}isValidForHoverAnchor(l){return l.type===1&&this.range.startColumn<=l.range.startColumn&&this.range.endColumn>=l.range.endColumn}}e.ColorHover=i;let t=class{constructor(l,g){this._editor=l,this._themeService=g,this.hoverOrdinal=2}computeSync(l,g){return[]}computeAsync(l,g,d){return f.AsyncIterableObject.fromPromise(this._computeAsync(l,g,d))}async _computeAsync(l,g,d){if(!this._editor.hasModel())return[];const v=w.ColorDetector.get(this._editor);if(!v)return[];for(const _ of g){if(!v.isColorDecoration(_))continue;const S=v.getColorData(_.range.getStartPosition());if(S)return[await m(this,this._editor.getModel(),S.colorInfo,S.provider)]}return[]}renderHoverParts(l,g){return u(this,this._editor,this._themeService,g,l)}};e.ColorHoverParticipant=t,e.ColorHoverParticipant=t=Ie([ue(1,o.IThemeService)],t);class n{constructor(l,g,d,v){this.owner=l,this.range=g,this.model=d,this.provider=v}}e.StandaloneColorPickerHover=n;let c=class{constructor(l,g){this._editor=l,this._themeService=g,this._color=null}async createColorHover(l,g,d){if(!this._editor.hasModel()||!w.ColorDetector.get(this._editor))return null;const _=await(0,p.getColors)(d,this._editor.getModel(),k.CancellationToken.None);let S=null,L=null;for(const A of _){const O=A.colorInfo;y.Range.containsRange(O.range,l.range)&&(S=O,L=A.provider)}const I=S??l,T=L??g,N=!!S;return{colorHover:await m(this,this._editor.getModel(),I,T),foundInEditor:N}}async updateEditorModel(l){if(!this._editor.hasModel())return;const g=l.model;let d=new y.Range(l.range.startLineNumber,l.range.startColumn,l.range.endLineNumber,l.range.endColumn);this._color&&(await a(this._editor.getModel(),g,this._color,d,l),d=r(this._editor,d,g))}renderHoverParts(l,g){return u(this,this._editor,this._themeService,g,l)}set color(l){this._color=l}get color(){return this._color}};e.StandaloneColorPickerParticipant=c,e.StandaloneColorPickerParticipant=c=Ie([ue(1,o.IThemeService)],c);async function m(h,l,g,d){const v=l.getValueInRange(g.range),{red:_,green:S,blue:L,alpha:I}=g.color,T=new E.RGBA(Math.round(_*255),Math.round(S*255),Math.round(L*255),I),N=new E.Color(T),A=await(0,p.getColorPresentations)(l,g,d,k.CancellationToken.None),O=new b.ColorPickerModel(N,[],0);return O.colorPresentations=A||[],O.guessColorPresentation(N,v),h instanceof t?new i(h,y.Range.lift(g.range),O,d):new n(h,y.Range.lift(g.range),O,d)}function u(h,l,g,d,v){if(d.length===0||!l.hasModel())return D.Disposable.None;if(v.setMinimumDimensions){const O=l.getOption(67)+8;v.setMinimumDimensions(new s.Dimension(302,O))}const _=new D.DisposableStore,S=d[0],L=l.getModel(),I=S.model,T=_.add(new C.ColorPickerWidget(v.fragment,I,l.getOption(143),g,h instanceof c));v.setColorPicker(T);let N=!1,A=new y.Range(S.range.startLineNumber,S.range.startColumn,S.range.endLineNumber,S.range.endColumn);if(h instanceof c){const O=d[0].model.color;h.color=O,a(L,I,O,A,S),_.add(I.onColorFlushed(M=>{h.color=M}))}else _.add(I.onColorFlushed(async O=>{await a(L,I,O,A,S),N=!0,A=r(l,A,I)}));return _.add(I.onDidChangeColor(O=>{a(L,I,O,A,S)})),_.add(l.onDidChangeModelContent(O=>{N?N=!1:(v.hide(),l.focus())})),_}function r(h,l,g){var d,v;const _=[],S=(d=g.presentation.textEdit)!==null&&d!==void 0?d:{range:l,text:g.presentation.label,forceMoveMarkers:!1};_.push(S),g.presentation.additionalTextEdits&&_.push(...g.presentation.additionalTextEdits);const L=y.Range.lift(S.range),I=h.getModel()._setTrackedRange(null,L,3);return h.executeEdits("colorpicker",_),h.pushUndoStop(),(v=h.getModel()._getTrackedRange(I))!==null&&v!==void 0?v:L}async function a(h,l,g,d,v){const _=await(0,p.getColorPresentations)(h,{range:d,color:{red:g.rgba.r/255,green:g.rgba.g/255,blue:g.rgba.b/255,alpha:g.rgba.a}},v.provider,k.CancellationToken.None);l.colorPresentations=_||[]}}),define(ie[950],ne([1,0,2,406,8,371,32,7,18,16,21,14,53,34,380,6,220]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";var c,m;Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneColorPickerWidget=e.StandaloneColorPickerController=void 0;let u=c=class extends f.Disposable{constructor(d,v,_,S,L,I,T){super(),this._editor=d,this._modelService=_,this._keybindingService=S,this._instantiationService=L,this._languageFeatureService=I,this._languageConfigurationService=T,this._standaloneColorPickerWidget=null,this._standaloneColorPickerVisible=C.EditorContextKeys.standaloneColorPickerVisible.bindTo(v),this._standaloneColorPickerFocused=C.EditorContextKeys.standaloneColorPickerFocused.bindTo(v)}showOrFocus(){var d;this._editor.hasModel()&&(this._standaloneColorPickerVisible.get()?this._standaloneColorPickerFocused.get()||(d=this._standaloneColorPickerWidget)===null||d===void 0||d.focus():this._standaloneColorPickerWidget=new h(this._editor,this._standaloneColorPickerVisible,this._standaloneColorPickerFocused,this._instantiationService,this._modelService,this._keybindingService,this._languageFeatureService,this._languageConfigurationService))}hide(){var d;this._standaloneColorPickerFocused.set(!1),this._standaloneColorPickerVisible.set(!1),(d=this._standaloneColorPickerWidget)===null||d===void 0||d.hide(),this._editor.focus()}insertColor(){var d;(d=this._standaloneColorPickerWidget)===null||d===void 0||d.updateEditor(),this.hide()}static get(d){return d.getContribution(c.ID)}};e.StandaloneColorPickerController=u,u.ID="editor.contrib.standaloneColorPickerController",e.StandaloneColorPickerController=u=c=Ie([ue(1,o.IContextKeyService),ue(2,s.IModelService),ue(3,y.IKeybindingService),ue(4,E.IInstantiationService),ue(5,w.ILanguageFeaturesService),ue(6,i.ILanguageConfigurationService)],u),(0,b.registerEditorContribution)(u.ID,u,1);const r=8,a=22;let h=m=class extends f.Disposable{constructor(d,v,_,S,L,I,T,N){var A;super(),this._editor=d,this._standaloneColorPickerVisible=v,this._standaloneColorPickerFocused=_,this._modelService=L,this._keybindingService=I,this._languageFeaturesService=T,this._languageConfigurationService=N,this.allowEditorOverflow=!0,this._position=void 0,this._body=document.createElement("div"),this._colorHover=null,this._selectionSetInEditor=!1,this._onResult=this._register(new p.Emitter),this.onResult=this._onResult.event,this._standaloneColorPickerVisible.set(!0),this._standaloneColorPickerParticipant=S.createInstance(k.StandaloneColorPickerParticipant,this._editor),this._position=(A=this._editor._getViewModel())===null||A===void 0?void 0:A.getPrimaryCursorState().modelState.position;const O=this._editor.getSelection(),M=O?{startLineNumber:O.startLineNumber,startColumn:O.startColumn,endLineNumber:O.endLineNumber,endColumn:O.endColumn}:{startLineNumber:0,endLineNumber:0,endColumn:0,startColumn:0},R=this._register(n.trackFocus(this._body));this._register(R.onDidBlur(x=>{this.hide()})),this._register(R.onDidFocus(x=>{this.focus()})),this._register(this._editor.onDidChangeCursorPosition(()=>{this._selectionSetInEditor?this._selectionSetInEditor=!1:this.hide()})),this._register(this._editor.onMouseMove(x=>{var F;const W=(F=x.target.element)===null||F===void 0?void 0:F.classList;W&&W.contains("colorpicker-color-decoration")&&this.hide()})),this._register(this.onResult(x=>{this._render(x.value,x.foundInEditor)})),this._start(M),this._body.style.zIndex="50",this._editor.addContentWidget(this)}updateEditor(){this._colorHover&&this._standaloneColorPickerParticipant.updateEditorModel(this._colorHover)}getId(){return m.ID}getDomNode(){return this._body}getPosition(){if(!this._position)return null;const d=this._editor.getOption(60).above;return{position:this._position,secondaryPosition:this._position,preference:d?[1,2]:[2,1],positionAffinity:2}}hide(){this.dispose(),this._standaloneColorPickerVisible.set(!1),this._standaloneColorPickerFocused.set(!1),this._editor.removeContentWidget(this),this._editor.focus()}focus(){this._standaloneColorPickerFocused.set(!0),this._body.focus()}async _start(d){const v=await this._computeAsync(d);v&&this._onResult.fire(new l(v.result,v.foundInEditor))}async _computeAsync(d){if(!this._editor.hasModel())return null;const v={range:d,color:{red:0,green:0,blue:0,alpha:1}},_=await this._standaloneColorPickerParticipant.createColorHover(v,new t.DefaultDocumentColorProvider(this._modelService,this._languageConfigurationService),this._languageFeaturesService.colorProvider);return _?{result:_.colorHover,foundInEditor:_.foundInEditor}:null}_render(d,v){const _=document.createDocumentFragment(),S=this._register(new D.EditorHoverStatusBar(this._keybindingService));let L;const I={fragment:_,statusBar:S,setColorPicker:W=>L=W,onContentsChanged:()=>{},hide:()=>this.hide()};if(this._colorHover=d,this._register(this._standaloneColorPickerParticipant.renderHoverParts(I,[d])),L===void 0)return;this._body.classList.add("standalone-colorpicker-body"),this._body.style.maxHeight=Math.max(this._editor.getLayoutInfo().height/4,250)+"px",this._body.style.maxWidth=Math.max(this._editor.getLayoutInfo().width*.66,500)+"px",this._body.tabIndex=0,this._body.appendChild(_),L.layout();const T=L.body,N=T.saturationBox.domNode.clientWidth,A=T.domNode.clientWidth-N-a-r,O=L.body.enterButton;O?.onClicked(()=>{this.updateEditor(),this.hide()});const M=L.header,R=M.pickedColorNode;R.style.width=N+r+"px";const x=M.originalColorNode;x.style.width=A+"px";const F=L.header.closeButton;F?.onClicked(()=>{this.hide()}),v&&(O&&(O.button.textContent="Replace"),this._selectionSetInEditor=!0,this._editor.setSelection(d.range)),this._editor.layoutContentWidget(this)}};e.StandaloneColorPickerWidget=h,h.ID="editor.contrib.standaloneColorPickerWidget",e.StandaloneColorPickerWidget=h=m=Ie([ue(3,E.IInstantiationService),ue(4,s.IModelService),ue(5,y.IKeybindingService),ue(6,w.ILanguageFeaturesService),ue(7,i.ILanguageConfigurationService)],h);class l{constructor(d,v){this.value=d,this.foundInEditor=v}}}),define(ie[951],ne([1,0,16,702,950,21,29,220]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowOrFocusStandaloneColorPicker=void 0;class p extends f.EditorAction2{constructor(){super({id:"editor.action.showOrFocusStandaloneColorPicker",title:{...(0,k.localize2)(3,"Show or Focus Standalone Color Picker"),mnemonicTitle:(0,k.localize)(0,null)},precondition:void 0,menu:[{id:y.MenuId.CommandPalette}],metadata:{description:(0,k.localize2)(4,"Show or focus a standalone color picker which uses the default color provider. It displays hex/rgb/hsl colors.")}})}runEditorCommand(o,s){var i;(i=E.StandaloneColorPickerController.get(s))===null||i===void 0||i.showOrFocus()}}e.ShowOrFocusStandaloneColorPicker=p;class w extends f.EditorAction{constructor(){super({id:"editor.action.hideColorPicker",label:(0,k.localize)(1,null),alias:"Hide the Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerVisible.isEqualTo(!0),kbOpts:{primary:9,weight:100},metadata:{description:(0,k.localize2)(5,"Hide the standalone color picker.")}})}run(o,s){var i;(i=E.StandaloneColorPickerController.get(s))===null||i===void 0||i.hide()}}class b extends f.EditorAction{constructor(){super({id:"editor.action.insertColorWithStandaloneColorPicker",label:(0,k.localize)(2,null),alias:"Insert Color with Standalone Color Picker",precondition:D.EditorContextKeys.standaloneColorPickerFocused.isEqualTo(!0),kbOpts:{primary:3,weight:100},metadata:{description:(0,k.localize2)(6,"Insert hex/rgb/hsl colors with the focused standalone color picker.")}})}run(o,s){var i;(i=E.StandaloneColorPickerController.get(s))===null||i===void 0||i.insertColor()}}(0,f.registerEditorAction)(w),(0,f.registerEditorAction)(b),(0,y.registerAction2)(p)}),define(ie[952],ne([1,0,2,17,16,9,5,24,37,589,486]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragAndDropController=void 0;function C(s){return k.isMacintosh?s.altKey:s.ctrlKey}class o extends f.Disposable{constructor(i){super(),this._editor=i,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(i){!this._editor.getOption(35)||this._editor.getOption(22)||(C(i)&&(this._modifierPressed=!0),this._mouseDown&&C(i)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(i){!this._editor.getOption(35)||this._editor.getOption(22)||(C(i)&&(this._modifierPressed=!1),this._mouseDown&&i.keyCode===o.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(i){this._mouseDown=!0}_onEditorMouseUp(i){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(i){const t=i.target;if(this._dragSelection===null){const c=(this._editor.getSelections()||[]).filter(m=>t.position&&m.containsPosition(t.position));if(c.length===1)this._dragSelection=c[0];else return}C(i.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(i){if(i.target&&(this._hitContent(i.target)||this._hitMargin(i.target))&&i.target.position){const t=new D.Position(i.target.position.lineNumber,i.target.position.column);if(this._dragSelection===null){let n=null;if(i.event.shiftKey){const c=this._editor.getSelection();if(c){const{selectionStartLineNumber:m,selectionStartColumn:u}=c;n=[new p.Selection(m,u,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(c=>c.containsPosition(t)?new p.Selection(t.lineNumber,t.column,t.lineNumber,t.column):c);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(C(i.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(o.ID,new b.DragAndDropCommand(this._dragSelection,t,C(i.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(i){this._dndDecorationIds.set([{range:new y.Range(i.lineNumber,i.column,i.lineNumber,i.column),options:o._DECORATION_OPTIONS}]),this._editor.revealPosition(i,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(i){return i.type===6||i.type===7}_hitMargin(i){return i.type===2||i.type===3||i.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}e.DragAndDropController=o,o.ID="editor.contrib.dragAndDrop",o.TRIGGER_KEY_VALUE=k.isMacintosh?6:5,o._DECORATION_OPTIONS=w.ModelDecorationOptions.register({description:"dnd-target",className:"dnd-target"}),(0,E.registerEditorContribution)(o.ID,o,2)}),define(ie[953],ne([1,0,5,42,37,33,23]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindDecorations=void 0;class p{constructor(b){this._editor=b,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const b=this._findScopeDecorationIds.map(C=>this._editor.getModel().getDecorationRange(C)).filter(C=>!!C);if(b.length)return b}return null}getStartPosition(){return this._startPosition}setStartPosition(b){this._startPosition=b,this.setCurrentFindMatch(null)}_getDecorationIndex(b){const C=this._decorations.indexOf(b);return C>=0?C+1:1}getDecorationRangeAt(b){const C=b<this._decorations.length?this._decorations[b]:null;return C?this._editor.getModel().getDecorationRange(C):null}getCurrentMatchesPosition(b){const C=this._editor.getModel().getDecorationsInRange(b);for(const o of C){const s=o.options;if(s===p._FIND_MATCH_DECORATION||s===p._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(o.id)}return 0}setCurrentFindMatch(b){let C=null,o=0;if(b)for(let s=0,i=this._decorations.length;s<i;s++){const t=this._editor.getModel().getDecorationRange(this._decorations[s]);if(b.equalsRange(t)){C=this._decorations[s],o=s+1;break}}return(this._highlightedDecorationId!==null||C!==null)&&this._editor.changeDecorations(s=>{if(this._highlightedDecorationId!==null&&(s.changeDecorationOptions(this._highlightedDecorationId,p._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),C!==null&&(this._highlightedDecorationId=C,s.changeDecorationOptions(this._highlightedDecorationId,p._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),C!==null){let i=this._editor.getModel().getDecorationRange(C);if(i.startLineNumber!==i.endLineNumber&&i.endColumn===1){const t=i.endLineNumber-1,n=this._editor.getModel().getLineMaxColumn(t);i=new f.Range(i.startLineNumber,i.startColumn,t,n)}this._rangeHighlightDecorationId=s.addDecoration(i,p._RANGE_HIGHLIGHT_DECORATION)}}),o}set(b,C){this._editor.changeDecorations(o=>{let s=p._FIND_MATCH_DECORATION;const i=[];if(b.length>1e3){s=p._FIND_MATCH_NO_OVERVIEW_DECORATION;const n=this._editor.getModel().getLineCount(),m=this._editor.getLayoutInfo().height/n,u=Math.max(2,Math.ceil(3/m));let r=b[0].range.startLineNumber,a=b[0].range.endLineNumber;for(let h=1,l=b.length;h<l;h++){const g=b[h].range;a+u>=g.startLineNumber?g.endLineNumber>a&&(a=g.endLineNumber):(i.push({range:new f.Range(r,1,a,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),r=g.startLineNumber,a=g.endLineNumber)}i.push({range:new f.Range(r,1,a,1),options:p._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const t=new Array(b.length);for(let n=0,c=b.length;n<c;n++)t[n]={range:b[n].range,options:s};this._decorations=o.deltaDecorations(this._decorations,t),this._overviewRulerApproximateDecorations=o.deltaDecorations(this._overviewRulerApproximateDecorations,i),this._rangeHighlightDecorationId&&(o.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(n=>o.removeDecoration(n)),this._findScopeDecorationIds=[]),C?.length&&(this._findScopeDecorationIds=C.map(n=>o.addDecoration(n,p._FIND_SCOPE_DECORATION)))})}matchBeforePosition(b){if(this._decorations.length===0)return null;for(let C=this._decorations.length-1;C>=0;C--){const o=this._decorations[C],s=this._editor.getModel().getDecorationRange(o);if(!(!s||s.endLineNumber>b.lineNumber)){if(s.endLineNumber<b.lineNumber)return s;if(!(s.endColumn>b.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(b){if(this._decorations.length===0)return null;for(let C=0,o=this._decorations.length;C<o;C++){const s=this._decorations[C],i=this._editor.getModel().getDecorationRange(s);if(!(!i||i.startLineNumber<b.lineNumber)){if(i.startLineNumber>b.lineNumber)return i;if(!(i.startColumn<b.column))return i}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let b=[];return b=b.concat(this._decorations),b=b.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&b.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&b.push(this._rangeHighlightDecorationId),b}}e.FindDecorations=p,p._CURRENT_FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(D.minimapFindMatch),position:1}}),p._FIND_MATCH_DECORATION=E.ModelDecorationOptions.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center},minimap:{color:(0,y.themeColorFromId)(D.minimapFindMatch),position:1}}),p._FIND_MATCH_NO_OVERVIEW_DECORATION=E.ModelDecorationOptions.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),p._FIND_MATCH_ONLY_OVERVIEW_DECORATION=E.ModelDecorationOptions.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,y.themeColorFromId)(D.overviewRulerFindMatchForeground),position:k.OverviewRulerLane.Center}}),p._RANGE_HIGHLIGHT_DECORATION=E.ModelDecorationOptions.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),p._FIND_SCOPE_DECORATION=E.ModelDecorationOptions.register({description:"find-scope",className:"findScope",isWholeLine:!0})}),define(ie[214],ne([1,0,67,15,2,141,9,5,24,196,953,590,591,14]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindModelBoundToEditorModel=e.MATCHES_LIMIT=e.FIND_IDS=e.TogglePreserveCaseKeybinding=e.ToggleSearchScopeKeybinding=e.ToggleRegexKeybinding=e.ToggleWholeWordKeybinding=e.ToggleCaseSensitiveKeybinding=e.CONTEXT_REPLACE_INPUT_FOCUSED=e.CONTEXT_FIND_INPUT_FOCUSED=e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE=void 0,e.CONTEXT_FIND_WIDGET_VISIBLE=new i.RawContextKey("findWidgetVisible",!1),e.CONTEXT_FIND_WIDGET_NOT_VISIBLE=e.CONTEXT_FIND_WIDGET_VISIBLE.toNegated(),e.CONTEXT_FIND_INPUT_FOCUSED=new i.RawContextKey("findInputFocussed",!1),e.CONTEXT_REPLACE_INPUT_FOCUSED=new i.RawContextKey("replaceInputFocussed",!1),e.ToggleCaseSensitiveKeybinding={primary:545,mac:{primary:2593}},e.ToggleWholeWordKeybinding={primary:565,mac:{primary:2613}},e.ToggleRegexKeybinding={primary:560,mac:{primary:2608}},e.ToggleSearchScopeKeybinding={primary:554,mac:{primary:2602}},e.TogglePreserveCaseKeybinding={primary:558,mac:{primary:2606}},e.FIND_IDS={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",GoToMatchFindAction:"editor.action.goToMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},e.MATCHES_LIMIT=19999;const t=240;class n{constructor(m,u){this._toDispose=new E.DisposableStore,this._editor=m,this._state=u,this._isDisposed=!1,this._startSearchingTimer=new k.TimeoutTimer,this._decorations=new C.FindDecorations(m),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new k.RunOnceScheduler(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(r=>{(r.reason===3||r.reason===5||r.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(r=>{this._ignoreModelContentChanged||(r.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(r=>this._onStateChanged(r))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,E.dispose)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(m){this._isDisposed||this._editor.hasModel()&&(m.searchString||m.isReplaceRevealed||m.isRegex||m.wholeWord||m.matchCase||m.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{m.searchScope?this.research(m.moveCursor,this._state.searchScope):this.research(m.moveCursor)},t)):m.searchScope?this.research(m.moveCursor,this._state.searchScope):this.research(m.moveCursor))}static _getSearchRange(m,u){return u||m.getFullModelRange()}research(m,u){let r=null;typeof u<"u"?u!==null&&(Array.isArray(u)?r=u:r=[u]):r=this._decorations.getFindScopes(),r!==null&&(r=r.map(g=>{if(g.startLineNumber!==g.endLineNumber){let d=g.endLineNumber;return g.endColumn===1&&(d=d-1),new p.Range(g.startLineNumber,1,d,this._editor.getModel().getLineMaxColumn(d))}return g}));const a=this._findMatches(r,!1,e.MATCHES_LIMIT);this._decorations.set(a,r);const h=this._editor.getSelection();let l=this._decorations.getCurrentMatchesPosition(h);if(l===0&&a.length>0){const g=(0,f.findFirstIdxMonotonousOrArrLen)(a.map(d=>d.range),d=>p.Range.compareRangesUsingStarts(d,h)>=0);l=g>0?g-1+1:l}this._state.changeMatchInfo(l,this._decorations.getCount(),void 0),m&&this._editor.getOption(41).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const m=this._decorations.getFindScope();return m&&this._editor.revealRangeInCenterIfOutsideViewport(m,0),!0}return!1}_setCurrentFindMatch(m){const u=this._decorations.setCurrentFindMatch(m);this._state.changeMatchInfo(u,this._decorations.getCount(),m),this._editor.setSelection(m),this._editor.revealRangeInCenterIfOutsideViewport(m,0)}_prevSearchPosition(m){const u=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:r,column:a}=m;const h=this._editor.getModel();return u||a===1?(r===1?r=h.getLineCount():r--,a=h.getLineMaxColumn(r)):a--,new y.Position(r,a)}_moveToPrevMatch(m,u=!1){if(!this._state.canNavigateBack()){const _=this._decorations.matchAfterPosition(m);_&&this._setCurrentFindMatch(_);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let _=this._decorations.matchBeforePosition(m);_&&_.isEmpty()&&_.getStartPosition().equals(m)&&(m=this._prevSearchPosition(m),_=this._decorations.matchBeforePosition(m)),_&&this._setCurrentFindMatch(_);return}if(this._cannotFind())return;const r=this._decorations.getFindScope(),a=n._getSearchRange(this._editor.getModel(),r);a.getEndPosition().isBefore(m)&&(m=a.getEndPosition()),m.isBefore(a.getStartPosition())&&(m=a.getEndPosition());const{lineNumber:h,column:l}=m,g=this._editor.getModel();let d=new y.Position(h,l),v=g.findPreviousMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1);if(v&&v.range.isEmpty()&&v.range.getStartPosition().equals(d)&&(d=this._prevSearchPosition(d),v=g.findPreviousMatch(this._state.searchString,d,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,!1)),!!v){if(!u&&!a.containsRange(v.range))return this._moveToPrevMatch(v.range.getStartPosition(),!0);this._setCurrentFindMatch(v.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(m){const u=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:r,column:a}=m;const h=this._editor.getModel();return u||a===h.getLineMaxColumn(r)?(r===h.getLineCount()?r=1:r++,a=1):a++,new y.Position(r,a)}_moveToNextMatch(m){if(!this._state.canNavigateForward()){const r=this._decorations.matchBeforePosition(m);r&&this._setCurrentFindMatch(r);return}if(this._decorations.getCount()<e.MATCHES_LIMIT){let r=this._decorations.matchAfterPosition(m);r&&r.isEmpty()&&r.getStartPosition().equals(m)&&(m=this._nextSearchPosition(m),r=this._decorations.matchAfterPosition(m)),r&&this._setCurrentFindMatch(r);return}const u=this._getNextMatch(m,!1,!0);u&&this._setCurrentFindMatch(u.range)}_getNextMatch(m,u,r,a=!1){if(this._cannotFind())return null;const h=this._decorations.getFindScope(),l=n._getSearchRange(this._editor.getModel(),h);l.getEndPosition().isBefore(m)&&(m=l.getStartPosition()),m.isBefore(l.getStartPosition())&&(m=l.getStartPosition());const{lineNumber:g,column:d}=m,v=this._editor.getModel();let _=new y.Position(g,d),S=v.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u);return r&&S&&S.range.isEmpty()&&S.range.getStartPosition().equals(_)&&(_=this._nextSearchPosition(_),S=v.findNextMatch(this._state.searchString,_,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u)),S?!a&&!l.containsRange(S.range)?this._getNextMatch(S.range.getEndPosition(),u,r,!0):S:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_moveToMatch(m){const u=this._decorations.getDecorationRangeAt(m);u&&this._setCurrentFindMatch(u)}moveToMatch(m){this._moveToMatch(m)}_getReplacePattern(){return this._state.isRegex?(0,s.parseReplaceString)(this._state.replaceString):s.ReplacePattern.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const m=this._getReplacePattern(),u=this._editor.getSelection(),r=this._getNextMatch(u.getStartPosition(),!0,!1);if(r)if(u.equalsRange(r.range)){const a=m.buildReplaceString(r.matches,this._state.preserveCase),h=new D.ReplaceCommand(u,a);this._executeEditorCommand("replace",h),this._decorations.setStartPosition(new y.Position(u.startLineNumber,u.startColumn+a.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(r.range)}_findMatches(m,u,r){const a=(m||[null]).map(h=>n._getSearchRange(this._editor.getModel(),h));return this._editor.getModel().findMatches(this._state.searchString,a,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null,u,r)}replaceAll(){if(!this._hasMatches())return;const m=this._decorations.getFindScopes();m===null&&this._state.matchesCount>=e.MATCHES_LIMIT?this._largeReplaceAll():this._regularReplaceAll(m),this.research(!1)}_largeReplaceAll(){const u=new b.SearchParams(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(131):null).parseSearchRequest();if(!u)return;let r=u.regex;if(!r.multiline){let S="mu";r.ignoreCase&&(S+="i"),r.global&&(S+="g"),r=new RegExp(r.source,S)}const a=this._editor.getModel(),h=a.getValue(1),l=a.getFullModelRange(),g=this._getReplacePattern();let d;const v=this._state.preserveCase;g.hasReplacementPatterns||v?d=h.replace(r,function(){return g.buildReplaceString(arguments,v)}):d=h.replace(r,g.buildReplaceString(null,v));const _=new D.ReplaceCommandThatPreservesSelection(l,d,this._editor.getSelection());this._executeEditorCommand("replaceAll",_)}_regularReplaceAll(m){const u=this._getReplacePattern(),r=this._findMatches(m,u.hasReplacementPatterns||this._state.preserveCase,1073741824),a=[];for(let l=0,g=r.length;l<g;l++)a[l]=u.buildReplaceString(r[l].matches,this._state.preserveCase);const h=new o.ReplaceAllCommand(this._editor.getSelection(),r.map(l=>l.range),a);this._executeEditorCommand("replaceAll",h)}selectAllMatches(){if(!this._hasMatches())return;const m=this._decorations.getFindScopes();let r=this._findMatches(m,!1,1073741824).map(h=>new w.Selection(h.range.startLineNumber,h.range.startColumn,h.range.endLineNumber,h.range.endColumn));const a=this._editor.getSelection();for(let h=0,l=r.length;h<l;h++)if(r[h].equalsRange(a)){r=[a].concat(r.slice(0,h)).concat(r.slice(h+1));break}this._editor.setSelections(r)}_executeEditorCommand(m,u){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(m,u),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}e.FindModelBoundToEditorModel=n}),define(ie[954],ne([1,0,6,345,80,15,214,33,44,488]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindOptionsWidget=void 0;class b extends E.Widget{constructor(o,s,i){super(),this._hideSoon=this._register(new D.RunOnceScheduler(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=o,this._state=s,this._keybindingService=i,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.style.zIndex="12",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const t={inputActiveOptionBorder:(0,p.asCssVariable)(p.inputActiveOptionBorder),inputActiveOptionForeground:(0,p.asCssVariable)(p.inputActiveOptionForeground),inputActiveOptionBackground:(0,p.asCssVariable)(p.inputActiveOptionBackground)},n=this._register((0,w.createInstantHoverDelegate)());this.caseSensitive=this._register(new k.CaseSensitiveToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,hoverDelegate:n,...t})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new k.WholeWordsToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleWholeWordCommand),isChecked:this._state.wholeWord,hoverDelegate:n,...t})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new k.RegexToggle({appendTitle:this._keybindingLabelFor(y.FIND_IDS.ToggleRegexCommand),isChecked:this._state.isRegex,hoverDelegate:n,...t})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(c=>{let m=!1;c.isRegex&&(this.regex.checked=this._state.isRegex,m=!0),c.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,m=!0),c.matchCase&&(this.caseSensitive.checked=this._state.matchCase,m=!0),!this._state.isRevealed&&m&&this._revealTemporarily()})),this._register(f.addDisposableListener(this._domNode,f.EventType.MOUSE_LEAVE,c=>this._onMouseLeave())),this._register(f.addDisposableListener(this._domNode,"mouseover",c=>this._onMouseOver()))}_keybindingLabelFor(o){const s=this._keybindingService.lookupKeybinding(o);return s?` (${s.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return b.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){this._isVisible&&(this._isVisible=!1,this._domNode.style.display="none")}}e.FindOptionsWidget=b,b.ID="editor.contrib.findOptionsWidget"}),define(ie[955],ne([1,0,7,2,5,214]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FindReplaceState=void 0;function y(w,b){return w===1?!0:w===2?!1:b}class p extends k.Disposable{get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return y(this._isRegexOverride,this._isRegex)}get wholeWord(){return y(this._wholeWordOverride,this._wholeWord)}get matchCase(){return y(this._matchCaseOverride,this._matchCase)}get preserveCase(){return y(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}constructor(){super(),this._onFindReplaceStateChange=this._register(new f.Emitter),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}changeMatchInfo(b,C,o){const s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let i=!1;C===0&&(b=0),b>C&&(b=C),this._matchesPosition!==b&&(this._matchesPosition=b,s.matchesPosition=!0,i=!0),this._matchesCount!==C&&(this._matchesCount=C,s.matchesCount=!0,i=!0),typeof o<"u"&&(E.Range.equalsRange(this._currentMatch,o)||(this._currentMatch=o,s.currentMatch=!0,i=!0)),i&&this._onFindReplaceStateChange.fire(s)}change(b,C,o=!0){var s;const i={moveCursor:C,updateHistory:o,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let t=!1;const n=this.isRegex,c=this.wholeWord,m=this.matchCase,u=this.preserveCase;typeof b.searchString<"u"&&this._searchString!==b.searchString&&(this._searchString=b.searchString,i.searchString=!0,t=!0),typeof b.replaceString<"u"&&this._replaceString!==b.replaceString&&(this._replaceString=b.replaceString,i.replaceString=!0,t=!0),typeof b.isRevealed<"u"&&this._isRevealed!==b.isRevealed&&(this._isRevealed=b.isRevealed,i.isRevealed=!0,t=!0),typeof b.isReplaceRevealed<"u"&&this._isReplaceRevealed!==b.isReplaceRevealed&&(this._isReplaceRevealed=b.isReplaceRevealed,i.isReplaceRevealed=!0,t=!0),typeof b.isRegex<"u"&&(this._isRegex=b.isRegex),typeof b.wholeWord<"u"&&(this._wholeWord=b.wholeWord),typeof b.matchCase<"u"&&(this._matchCase=b.matchCase),typeof b.preserveCase<"u"&&(this._preserveCase=b.preserveCase),typeof b.searchScope<"u"&&(!((s=b.searchScope)===null||s===void 0)&&s.every(r=>{var a;return(a=this._searchScope)===null||a===void 0?void 0:a.some(h=>!E.Range.equalsRange(h,r))})||(this._searchScope=b.searchScope,i.searchScope=!0,t=!0)),typeof b.loop<"u"&&this._loop!==b.loop&&(this._loop=b.loop,i.loop=!0,t=!0),typeof b.isSearching<"u"&&this._isSearching!==b.isSearching&&(this._isSearching=b.isSearching,i.isSearching=!0,t=!0),typeof b.filters<"u"&&(this._filters?this._filters.update(b.filters):this._filters=b.filters,i.filters=!0,t=!0),this._isRegexOverride=typeof b.isRegexOverride<"u"?b.isRegexOverride:0,this._wholeWordOverride=typeof b.wholeWordOverride<"u"?b.wholeWordOverride:0,this._matchCaseOverride=typeof b.matchCaseOverride<"u"?b.matchCaseOverride:0,this._preserveCaseOverride=typeof b.preserveCaseOverride<"u"?b.preserveCaseOverride:0,n!==this.isRegex&&(t=!0,i.isRegex=!0),c!==this.wholeWord&&(t=!0,i.wholeWord=!0),m!==this.matchCase&&(t=!0,i.matchCase=!0),u!==this.preserveCase&&(t=!0,i.preserveCase=!0),t&&this._onFindReplaceStateChange.fire(i)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=D.MATCHES_LIMIT}}e.FindReplaceState=p}),define(ie[956],ne([1,0,6,47,169,167,80,15,26,10,2,17,12,5,214,713,384,808,33,76,23,31,94,20,106,44,489]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SimpleButton=e.FindWidget=e.FindWidgetViewZone=e.NLS_NO_RESULTS=e.NLS_MATCHES_LOCATION=e.findNextMatchIcon=e.findPreviousMatchIcon=e.findReplaceAllIcon=e.findReplaceIcon=void 0;const _=(0,r.registerIcon)("find-selection",w.Codicon.selection,n.localize(0,null)),S=(0,r.registerIcon)("find-collapsed",w.Codicon.chevronRight,n.localize(1,null)),L=(0,r.registerIcon)("find-expanded",w.Codicon.chevronDown,n.localize(2,null));e.findReplaceIcon=(0,r.registerIcon)("find-replace",w.Codicon.replace,n.localize(3,null)),e.findReplaceAllIcon=(0,r.registerIcon)("find-replace-all",w.Codicon.replaceAll,n.localize(4,null)),e.findPreviousMatchIcon=(0,r.registerIcon)("find-previous-match",w.Codicon.arrowUp,n.localize(5,null)),e.findNextMatchIcon=(0,r.registerIcon)("find-next-match",w.Codicon.arrowDown,n.localize(6,null));const I=n.localize(7,null),T=n.localize(8,null),N=n.localize(9,null),A=n.localize(10,null),O=n.localize(11,null),M=n.localize(12,null),R=n.localize(13,null),x=n.localize(14,null),F=n.localize(15,null),W=n.localize(16,null),H=n.localize(17,null),z=n.localize(18,null),j=n.localize(19,null,t.MATCHES_LIMIT);e.NLS_MATCHES_LOCATION=n.localize(20,null),e.NLS_NO_RESULTS=n.localize(21,null);const K=419,G=275-54;let te=69;const ee=33,Y="ctrlEnterReplaceAll.windows.donotask",P=o.isMacintosh?256:2048;class Z{constructor(X){this.afterLineNumber=X,this.heightInPx=ee,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}e.FindWidgetViewZone=Z;function re(ge,X,ae){const oe=!!X.match(/\n/);if(ae&&oe&&ae.selectionStart>0){ge.stopPropagation();return}}function ce(ge,X,ae){const oe=!!X.match(/\n/);if(ae&&oe&&ae.selectionEnd<ae.value.length){ge.stopPropagation();return}}class he extends y.Widget{constructor(X,ae,oe,B,q,V,$,J,se,de){super(),this._hoverService=de,this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=X,this._controller=ae,this._state=oe,this._contextViewProvider=B,this._keybindingService=q,this._contextKeyService=V,this._storageService=J,this._notificationService=se,this._ctrlEnterReplaceAllWarningPrompted=!!J.getBoolean(Y,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new p.Delayer(500),this._register((0,C.toDisposable)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(le=>this._onStateChanged(le))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(le=>{if(le.hasChanged(91)&&(this._codeEditor.getOption(91)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),le.hasChanged(145)&&this._tryUpdateWidgetWidth(),le.hasChanged(2)&&this.updateAccessibilitySupport(),le.hasChanged(41)){const fe=this._codeEditor.getOption(41).loop;this._state.change({loop:fe},!1);const ve=this._codeEditor.getOption(41).addExtraSpaceOnTop;ve&&!this._viewZone&&(this._viewZone=new Z(0),this._showViewZone()),!ve&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(async()=>{if(this._isVisible){const le=await this._controller.getGlobalBufferTerm();le&&le!==this._state.searchString&&(this._state.change({searchString:le},!1),this._findInput.select())}})),this._findInputFocused=t.CONTEXT_FIND_INPUT_FOCUSED.bindTo(V),this._findFocusTracker=this._register(f.trackFocus(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=t.CONTEXT_REPLACE_INPUT_FOCUSED.bindTo(V),this._replaceFocusTracker=this._register(f.trackFocus(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(41).addExtraSpaceOnTop&&(this._viewZone=new Z(0)),this._register(this._codeEditor.onDidChangeModel(()=>{this._isVisible&&(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(le=>{if(le.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return he.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(X){if(X.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(X.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),X.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),X.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(91)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(X.isRevealed||X.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),X.isRegex&&this._findInput.setRegex(this._state.isRegex),X.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),X.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),X.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),X.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),X.searchString||X.matchesCount||X.matchesPosition){const ae=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",ae),this._updateMatchesCount(),this._updateButtons()}(X.searchString||X.currentMatch)&&this._layoutViewZone(),X.updateHistory&&this._delayedUpdateHistory(),X.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,b.onUnexpectedError)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=te+"px",this._state.matchesCount>=t.MATCHES_LIMIT?this._matchesCount.title=j:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let X;if(this._state.matchesCount>0){let ae=String(this._state.matchesCount);this._state.matchesCount>=t.MATCHES_LIMIT&&(ae+="+");let oe=String(this._state.matchesPosition);oe==="0"&&(oe="?"),X=s.format(e.NLS_MATCHES_LOCATION,oe,ae)}else X=e.NLS_NO_RESULTS;this._matchesCount.appendChild(document.createTextNode(X)),(0,k.alert)(this._getAriaLabel(X,this._state.currentMatch,this._state.searchString)),te=Math.max(te,this._matchesCount.clientWidth)}_getAriaLabel(X,ae,oe){if(X===e.NLS_NO_RESULTS)return oe===""?n.localize(22,null,X):n.localize(23,null,X,oe);if(ae){const B=n.localize(24,null,X,oe,ae.startLineNumber+":"+ae.startColumn),q=this._codeEditor.getModel();return q&&ae.startLineNumber<=q.getLineCount()&&ae.startLineNumber>=1?`${q.getLineContent(ae.startLineNumber)}, ${B}`:B}return n.localize(25,null,X,oe)}_updateToggleSelectionFindButton(){const X=this._codeEditor.getSelection(),ae=X?X.startLineNumber!==X.endLineNumber||X.startColumn!==X.endColumn:!1,oe=this._toggleSelectionFind.checked;this._isVisible&&(oe||ae)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const X=this._state.searchString.length>0,ae=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&X&&ae&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&X&&ae&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&X),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&X),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const oe=!this._codeEditor.getOption(91);this._toggleReplaceBtn.setEnabled(this._isVisible&&oe)}_reveal(){if(this._revealTimeouts.forEach(X=>{clearTimeout(X)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const X=this._codeEditor.getSelection();switch(this._codeEditor.getOption(41).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const oe=!!X&&X.startLineNumber!==X.endLineNumber;this._toggleSelectionFind.checked=oe;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let ae=!0;if(this._codeEditor.getOption(41).seedSearchStringFromSelection&&X){const oe=this._codeEditor.getDomNode();if(oe){const B=f.getDomNodePagePosition(oe),q=this._codeEditor.getScrolledVisiblePosition(X.getStartPosition()),V=B.left+(q?q.left:0),$=q?q.top:0;if(this._viewZone&&$<this._viewZone.heightInPx){X.endLineNumber>X.startLineNumber&&(ae=!1);const J=f.getTopLeftOffset(this._domNode).left;V>J&&(ae=!1);const se=this._codeEditor.getScrolledVisiblePosition(X.getEndPosition());B.left+(se?se.left:0)>J&&(ae=!1)}}}this._showViewZone(ae)}}_hide(X){this._revealTimeouts.forEach(ae=>{clearTimeout(ae)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),X&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(X){if(!this._codeEditor.getOption(41).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const oe=this._viewZone;this._viewZoneId!==void 0||!oe||this._codeEditor.changeViewZones(B=>{oe.heightInPx=this._getHeight(),this._viewZoneId=B.addZone(oe),this._codeEditor.setScrollTop(X||this._codeEditor.getScrollTop()+oe.heightInPx)})}_showViewZone(X=!0){if(!this._isVisible||!this._codeEditor.getOption(41).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new Z(0));const oe=this._viewZone;this._codeEditor.changeViewZones(B=>{if(this._viewZoneId!==void 0){const q=this._getHeight();if(q===oe.heightInPx)return;const V=q-oe.heightInPx;oe.heightInPx=q,B.layoutZone(this._viewZoneId),X&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+V);return}else{let q=this._getHeight();if(q-=this._codeEditor.getOption(84).top,q<=0)return;oe.heightInPx=q,this._viewZoneId=B.addZone(oe),X&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+q)}})}_removeViewZone(){this._codeEditor.changeViewZones(X=>{this._viewZoneId!==void 0&&(X.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_tryUpdateWidgetWidth(){if(!this._isVisible||!this._domNode.isConnected)return;const X=this._codeEditor.getLayoutInfo();if(X.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const oe=X.width,B=X.minimap.minimapWidth;let q=!1,V=!1,$=!1;if(this._resized&&f.getTotalWidth(this._domNode)>K){this._domNode.style.maxWidth=`${oe-28-B-15}px`,this._replaceInput.width=f.getTotalWidth(this._findInput.domNode);return}if(K+28+B>=oe&&(V=!0),K+28+B-te>=oe&&($=!0),K+28+B-te>=oe+50&&(q=!0),this._domNode.classList.toggle("collapsed-find-widget",q),this._domNode.classList.toggle("narrow-find-widget",$),this._domNode.classList.toggle("reduced-find-widget",V),!$&&!q&&(this._domNode.style.maxWidth=`${oe-28-B-15}px`),this._findInput.layout({collapsedFindWidget:q,narrowFindWidget:$,reducedFindWidget:V}),this._resized){const J=this._findInput.inputBox.element.clientWidth;J>0&&(this._replaceInput.width=J)}else this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode))}_getHeight(){let X=0;return X+=4,X+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(X+=4,X+=this._replaceInput.inputBox.height+2),X+=4,X}_tryUpdateHeight(){const X=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===X?!1:(this._cachedHeight=X,this._domNode.style.height=`${X}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const X=this._codeEditor.getSelections();X.map(ae=>{ae.endColumn===1&&ae.endLineNumber>ae.startLineNumber&&(ae=ae.setEndPosition(ae.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(ae.endLineNumber-1)));const oe=this._state.currentMatch;return ae.startLineNumber!==ae.endLineNumber&&!i.Range.equalsRange(ae,oe)?ae:null}).filter(ae=>!!ae),X.length&&this._state.change({searchScope:X},!0)}}_onFindInputMouseDown(X){X.middleButton&&X.stopPropagation()}_onFindInputKeyDown(X){if(X.equals(P|3))if(this._keybindingService.dispatchEvent(X,X.target)){X.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),X.preventDefault();return}if(X.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),X.preventDefault();return}if(X.equals(2066)){this._codeEditor.focus(),X.preventDefault();return}if(X.equals(16))return re(X,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(X.equals(18))return ce(X,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(X){if(X.equals(P|3))if(this._keybindingService.dispatchEvent(X,X.target)){X.preventDefault();return}else{o.isWindows&&o.isNative&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(n.localize(26,null)),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Y,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),X.preventDefault();return}if(X.equals(2)){this._findInput.focusOnCaseSensitive(),X.preventDefault();return}if(X.equals(1026)){this._findInput.focus(),X.preventDefault();return}if(X.equals(2066)){this._codeEditor.focus(),X.preventDefault();return}if(X.equals(16))return re(X,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(X.equals(18))return ce(X,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(X){return 0}_keybindingLabelFor(X){const ae=this._keybindingService.lookupKeybinding(X);return ae?` (${ae.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new c.ContextScopedFindInput(null,this._contextViewProvider,{width:G,label:T,placeholder:N,appendCaseSensitiveLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(t.FIND_IDS.ToggleRegexCommand),validation:de=>{if(de.length===0||!this._findInput.getRegex())return null;try{return new RegExp(de,"gu"),null}catch(le){return{content:le.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showCommonFindToggles:!0,showHistoryHint:()=>(0,m.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:d.defaultInputBoxStyles,toggleStyles:d.defaultToggleStyles},this._contextKeyService)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(de=>this._onFindInputKeyDown(de))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(de=>{de.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),de.preventDefault())})),this._register(this._findInput.onRegexKeyDown(de=>{de.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),de.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(de=>{this._tryUpdateHeight()&&this._showViewZone()})),o.isLinux&&this._register(this._findInput.onMouseDown(de=>this._onFindInputMouseDown(de))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount();const oe=this._register((0,v.createInstantHoverDelegate)());this._prevBtn=this._register(new pe({label:A+this._keybindingLabelFor(t.FIND_IDS.PreviousMatchFindAction),icon:e.findPreviousMatchIcon,hoverDelegate:oe,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.PreviousMatchFindAction)).run().then(void 0,b.onUnexpectedError)}},this._hoverService)),this._nextBtn=this._register(new pe({label:O+this._keybindingLabelFor(t.FIND_IDS.NextMatchFindAction),icon:e.findNextMatchIcon,hoverDelegate:oe,onTrigger:()=>{(0,g.assertIsDefined)(this._codeEditor.getAction(t.FIND_IDS.NextMatchFindAction)).run().then(void 0,b.onUnexpectedError)}},this._hoverService));const B=document.createElement("div");B.className="find-part",B.appendChild(this._findInput.domNode);const q=document.createElement("div");q.className="find-actions",B.appendChild(q),q.appendChild(this._matchesCount),q.appendChild(this._prevBtn.domNode),q.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new E.Toggle({icon:_,title:M+this._keybindingLabelFor(t.FIND_IDS.ToggleSearchScopeCommand),isChecked:!1,hoverDelegate:oe,inputActiveOptionBackground:(0,u.asCssVariable)(u.inputActiveOptionBackground),inputActiveOptionBorder:(0,u.asCssVariable)(u.inputActiveOptionBorder),inputActiveOptionForeground:(0,u.asCssVariable)(u.inputActiveOptionForeground)})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){let de=this._codeEditor.getSelections();de=de.map(le=>(le.endColumn===1&&le.endLineNumber>le.startLineNumber&&(le=le.setEndPosition(le.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(le.endLineNumber-1))),le.isEmpty()?null:le)).filter(le=>!!le),de.length&&this._state.change({searchScope:de},!0)}}else this._state.change({searchScope:null},!0)})),q.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new pe({label:R+this._keybindingLabelFor(t.FIND_IDS.CloseFindWidgetCommand),icon:r.widgetClose,hoverDelegate:oe,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:de=>{de.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),de.preventDefault())}},this._hoverService)),this._replaceInput=this._register(new c.ContextScopedReplaceInput(null,void 0,{label:x,placeholder:F,appendPreserveCaseLabel:this._keybindingLabelFor(t.FIND_IDS.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>(0,m.showHistoryKeybindingHint)(this._keybindingService),inputBoxStyles:d.defaultInputBoxStyles,toggleStyles:d.defaultToggleStyles},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(de=>this._onReplaceInputKeyDown(de))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(de=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(de=>{de.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),de.preventDefault())}));const V=this._register((0,v.createInstantHoverDelegate)());this._replaceBtn=this._register(new pe({label:W+this._keybindingLabelFor(t.FIND_IDS.ReplaceOneAction),icon:e.findReplaceIcon,hoverDelegate:V,onTrigger:()=>{this._controller.replace()},onKeyDown:de=>{de.equals(1026)&&(this._closeBtn.focus(),de.preventDefault())}},this._hoverService)),this._replaceAllBtn=this._register(new pe({label:H+this._keybindingLabelFor(t.FIND_IDS.ReplaceAllAction),icon:e.findReplaceAllIcon,hoverDelegate:V,onTrigger:()=>{this._controller.replaceAll()}},this._hoverService));const $=document.createElement("div");$.className="replace-part",$.appendChild(this._replaceInput.domNode);const J=document.createElement("div");J.className="replace-actions",$.appendChild(J),J.appendChild(this._replaceBtn.domNode),J.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new pe({label:z,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}},this._hoverService)),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.ariaLabel=I,this._domNode.role="dialog",this._domNode.style.width=`${K}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(B),this._domNode.appendChild(this._closeBtn.domNode),this._domNode.appendChild($),this._resizeSash=this._register(new D.Sash(this._domNode,this,{orientation:0,size:2})),this._resized=!1;let se=K;this._register(this._resizeSash.onDidStart(()=>{se=f.getTotalWidth(this._domNode)})),this._register(this._resizeSash.onDidChange(de=>{this._resized=!0;const le=se+de.startX-de.currentX;if(le<K)return;const fe=parseFloat(f.getComputedStyle(this._domNode).maxWidth)||0;le>fe||(this._domNode.style.width=`${le}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const de=f.getTotalWidth(this._domNode);if(de<K)return;let le=K;if(!this._resized||de===K){const fe=this._codeEditor.getLayoutInfo();le=fe.width-28-fe.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${le}px`,this._isReplaceVisible&&(this._replaceInput.width=f.getTotalWidth(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const X=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(X!==2)}}e.FindWidget=he,he.ID="editor.contrib.findWidget";class pe extends y.Widget{constructor(X,ae){var oe;super(),this._opts=X;let B="button";this._opts.className&&(B=B+" "+this._opts.className),this._opts.icon&&(B=B+" "+h.ThemeIcon.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.tabIndex=0,this._domNode.className=B,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this._register(ae.setupUpdatableHover((oe=X.hoverDelegate)!==null&&oe!==void 0?oe:(0,v.getDefaultHoverDelegate)("element"),this._domNode,this._opts.label)),this.onclick(this._domNode,q=>{this._opts.onTrigger(),q.preventDefault()}),this.onkeydown(this._domNode,q=>{var V,$;if(q.equals(10)||q.equals(3)){this._opts.onTrigger(),q.preventDefault();return}($=(V=this._opts).onKeyDown)===null||$===void 0||$.call(V,q)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(X){this._domNode.classList.toggle("disabled",!X),this._domNode.setAttribute("aria-disabled",String(!X)),this._domNode.tabIndex=X?0:-1}setExpanded(X){this._domNode.setAttribute("aria-expanded",String(!!X)),X?(this._domNode.classList.remove(...h.ThemeIcon.asClassNameArray(S)),this._domNode.classList.add(...h.ThemeIcon.asClassNameArray(L))):(this._domNode.classList.remove(...h.ThemeIcon.asClassNameArray(L)),this._domNode.classList.add(...h.ThemeIcon.asClassNameArray(S)))}}e.SimpleButton=pe,(0,a.registerThemingParticipant)((ge,X)=>{const ae=ge.getColor(u.editorFindMatchHighlightBorder);ae&&X.addRule(`.monaco-editor .findMatch { border: 1px ${(0,l.isHighContrast)(ge.type)?"dotted":"solid"} ${ae}; box-sizing: border-box; }`);const oe=ge.getColor(u.editorFindRangeHighlightBorder);oe&&X.addRule(`.monaco-editor .findScope { border: 1px ${(0,l.isHighContrast)(ge.type)?"dashed":"solid"} ${oe}; }`);const B=ge.getColor(u.contrastBorder);B&&X.addRule(`.monaco-editor .find-widget { border: 1px solid ${B}; }`)})}),define(ie[407],ne([1,0,15,2,12,16,86,21,42,214,954,955,956,712,29,114,14,58,32,51,75,98,23,115]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.StartFindReplaceAction=e.PreviousSelectionMatchFindAction=e.NextSelectionMatchFindAction=e.SelectionMatchFindAction=e.MoveToMatchFindAction=e.PreviousMatchFindAction=e.NextMatchFindAction=e.MatchFindAction=e.StartFindWithSelectionAction=e.StartFindWithArgsAction=e.StartFindAction=e.FindController=e.CommonFindController=void 0,e.getSelectionSearchString=_;const v=524288;function _(z,j="single",K=!1){if(!z.hasModel())return null;const U=z.getSelection();if(j==="single"&&U.startLineNumber===U.endLineNumber||j==="multiple"){if(U.isEmpty()){const G=z.getConfiguredWordAtPosition(U.getStartPosition());if(G&&K===!1)return G.word}else if(z.getModel().getValueLengthInRange(U)<v)return z.getModel().getValueInRange(U)}return null}let S=d=class extends k.Disposable{get editor(){return this._editor}static get(j){return j.getContribution(d.ID)}constructor(j,K,U,G,te,ee){super(),this._editor=j,this._findWidgetVisible=b.CONTEXT_FIND_WIDGET_VISIBLE.bindTo(K),this._contextKeyService=K,this._storageService=U,this._clipboardService=G,this._notificationService=te,this._hoverService=ee,this._updateHistoryDelayer=new f.Delayer(500),this._state=this._register(new o.FindReplaceState),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(Y=>this._onStateChanged(Y))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const Y=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),Y&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(41).loop})}))}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(j){this.saveQueryState(j),j.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),j.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(j){j.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,1),j.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,1),j.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,1),j.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,1)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!b.CONTEXT_FIND_INPUT_FOCUSED.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){let j=this._editor.getSelections();j=j.map(K=>(K.endColumn===1&&K.endLineNumber>K.startLineNumber&&(K=K.setEndPosition(K.endLineNumber-1,this._editor.getModel().getLineMaxColumn(K.endLineNumber-1))),K.isEmpty()?null:K)).filter(K=>!!K),j.length&&this._state.change({searchScope:j},!0)}}setSearchString(j){this._state.isRegex&&(j=E.escapeRegExpCharacters(j)),this._state.change({searchString:j},!1)}highlightFindOptions(j=!1){}async _start(j,K){if(this.disposeModel(),!this._editor.hasModel())return;const U={...K,isRevealed:!0};if(j.seedSearchStringFromSelection==="single"){const G=_(this._editor,j.seedSearchStringFromSelection,j.seedSearchStringFromNonEmptySelection);G&&(this._state.isRegex?U.searchString=E.escapeRegExpCharacters(G):U.searchString=G)}else if(j.seedSearchStringFromSelection==="multiple"&&!j.updateSearchScope){const G=_(this._editor,j.seedSearchStringFromSelection);G&&(U.searchString=G)}if(!U.searchString&&j.seedSearchStringFromGlobalClipboard){const G=await this.getGlobalBufferTerm();if(!this._editor.hasModel())return;G&&(U.searchString=G)}if(j.forceRevealReplace||U.isReplaceRevealed?U.isReplaceRevealed=!0:this._findWidgetVisible.get()||(U.isReplaceRevealed=!1),j.updateSearchScope){const G=this._editor.getSelections();G.some(te=>!te.isEmpty())&&(U.searchScope=G)}U.loop=j.loop,this._state.change(U,!1),this._model||(this._model=new b.FindModelBoundToEditorModel(this._editor,this._state))}start(j,K){return this._start(j,K)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}goToMatch(j){return this._model?(this._model.moveToMatch(j),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){var j;return this._model?!((j=this._editor.getModel())===null||j===void 0)&&j.isTooLargeForHeapOperation()?(this._notificationService.warn(i.localize(0,null)),!1):(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}async getGlobalBufferTerm(){return this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""}setGlobalBufferTerm(j){this._editor.getOption(41).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(j)}};e.CommonFindController=S,S.ID="editor.contrib.findController",e.CommonFindController=S=d=Ie([ue(1,c.IContextKeyService),ue(2,h.IStorageService),ue(3,n.IClipboardService),ue(4,r.INotificationService),ue(5,g.IHoverService)],S);let L=class extends S{constructor(j,K,U,G,te,ee,Y,P,Z){super(j,U,Y,P,ee,Z),this._contextViewService=K,this._keybindingService=G,this._themeService=te,this._widget=null,this._findOptionsWidget=null}async _start(j,K){this._widget||this._createFindWidget();const U=this._editor.getSelection();let G=!1;switch(this._editor.getOption(41).autoFindInSelection){case"always":G=!0;break;case"never":G=!1;break;case"multiline":{G=!!U&&U.startLineNumber!==U.endLineNumber;break}default:break}j.updateSearchScope=j.updateSearchScope||G,await super._start(j,K),this._widget&&(j.shouldFocus===2?this._widget.focusReplaceInput():j.shouldFocus===1&&this._widget.focusFindInput())}highlightFindOptions(j=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!j?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new s.FindWidget(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService,this._hoverService)),this._findOptionsWidget=this._register(new C.FindOptionsWidget(this._editor,this._state,this._keybindingService))}};e.FindController=L,e.FindController=L=Ie([ue(1,m.IContextViewService),ue(2,c.IContextKeyService),ue(3,u.IKeybindingService),ue(4,l.IThemeService),ue(5,r.INotificationService),ue(6,h.IStorageService),ue(7,n.IClipboardService),ue(8,g.IHoverService)],L),e.StartFindAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindAction,label:i.localize(1,null),alias:"Find",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(2,null),order:1}})),e.StartFindAction.addImplementation(0,(z,j,K)=>{const U=S.get(j);return U?U.start({forceRevealReplace:!1,seedSearchStringFromSelection:j.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:j.getOption(41).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(41).loop}):!1});const I={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},isRegex:{type:"boolean"},matchWholeWord:{type:"boolean"},isCaseSensitive:{type:"boolean"},preserveCase:{type:"boolean"},findInSelection:{type:"boolean"}}}}]};class T extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithArgs,label:i.localize(3,null),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},metadata:I})}async run(j,K,U){const G=S.get(K);if(G){const te=U?{searchString:U.searchString,replaceString:U.replaceString,isReplaceRevealed:U.replaceString!==void 0,isRegex:U.isRegex,wholeWord:U.matchWholeWord,matchCase:U.isCaseSensitive,preserveCase:U.preserveCase}:{};await G.start({forceRevealReplace:!1,seedSearchStringFromSelection:G.getState().searchString.length===0&&K.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:K.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:U?.findInSelection||!1,loop:K.getOption(41).loop},te),G.setGlobalBufferTerm(G.getState().searchString)}}}e.StartFindWithArgsAction=T;class N extends D.EditorAction{constructor(){super({id:b.FIND_IDS.StartFindWithSelection,label:i.localize(4,null),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}async run(j,K){const U=S.get(K);U&&(await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:K.getOption(41).loop}),U.setGlobalBufferTerm(U.getState().searchString))}}e.StartFindWithSelectionAction=N;class A extends D.EditorAction{async run(j,K){const U=S.get(K);U&&!this._run(U)&&(await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:U.getState().searchString.length===0&&K.getOption(41).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:K.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:K.getOption(41).loop}),this._run(U))}}e.MatchFindAction=A;class O extends A{constructor(){super({id:b.FIND_IDS.NextMatchFindAction,label:i.localize(5,null),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:3,weight:100}]})}_run(j){return j.moveToNextMatch()?(j.editor.pushUndoStop(),!0):!1}}e.NextMatchFindAction=O;class M extends A{constructor(){super({id:b.FIND_IDS.PreviousMatchFindAction,label:i.localize(6,null),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:p.EditorContextKeys.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,b.CONTEXT_FIND_INPUT_FOCUSED),primary:1027,weight:100}]})}_run(j){return j.moveToPrevMatch()}}e.PreviousMatchFindAction=M;class R extends D.EditorAction{constructor(){super({id:b.FIND_IDS.GoToMatchFindAction,label:i.localize(7,null),alias:"Go to Match...",precondition:b.CONTEXT_FIND_WIDGET_VISIBLE}),this._highlightDecorations=[]}run(j,K,U){const G=S.get(K);if(!G)return;const te=G.getState().matchesCount;if(te<1){j.get(r.INotificationService).notify({severity:r.Severity.Warning,message:i.localize(8,null)});return}const Y=j.get(a.IQuickInputService).createInputBox();Y.placeholder=i.localize(9,null,te);const P=re=>{const ce=parseInt(re);if(isNaN(ce))return;const he=G.getState().matchesCount;if(ce>0&&ce<=he)return ce-1;if(ce<0&&ce>=-he)return he+ce},Z=re=>{const ce=P(re);if(typeof ce=="number"){Y.validationMessage=void 0,G.goToMatch(ce);const he=G.getState().currentMatch;he&&this.addDecorations(K,he)}else Y.validationMessage=i.localize(10,null,G.getState().matchesCount),this.clearDecorations(K)};Y.onDidChangeValue(re=>{Z(re)}),Y.onDidAccept(()=>{const re=P(Y.value);typeof re=="number"?(G.goToMatch(re),Y.hide()):Y.validationMessage=i.localize(11,null,G.getState().matchesCount)}),Y.onDidHide(()=>{this.clearDecorations(K),Y.dispose()}),Y.show()}clearDecorations(j){j.changeDecorations(K=>{this._highlightDecorations=K.deltaDecorations(this._highlightDecorations,[])})}addDecorations(j,K){j.changeDecorations(U=>{this._highlightDecorations=U.deltaDecorations(this._highlightDecorations,[{range:K,options:{description:"find-match-quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:K,options:{description:"find-match-quick-access-range-highlight-overview",overviewRuler:{color:(0,l.themeColorFromId)(y.overviewRulerRangeHighlight),position:w.OverviewRulerLane.Full}}}])})}}e.MoveToMatchFindAction=R;class x extends D.EditorAction{async run(j,K){const U=S.get(K);if(!U)return;const G=_(K,"single",!1);G&&U.setSearchString(G),this._run(U)||(await U.start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:K.getOption(41).loop}),this._run(U))}}e.SelectionMatchFindAction=x;class F extends x{constructor(){super({id:b.FIND_IDS.NextSelectionMatchFindAction,label:i.localize(12,null),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:2109,weight:100}})}_run(j){return j.moveToNextMatch()}}e.NextSelectionMatchFindAction=F;class W extends x{constructor(){super({id:b.FIND_IDS.PreviousSelectionMatchFindAction,label:i.localize(13,null),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:p.EditorContextKeys.focus,primary:3133,weight:100}})}_run(j){return j.moveToPrevMatch()}}e.PreviousSelectionMatchFindAction=W,e.StartFindReplaceAction=(0,D.registerMultiEditorAction)(new D.MultiEditorAction({id:b.FIND_IDS.StartFindReplaceAction,label:i.localize(14,null),alias:"Replace",precondition:c.ContextKeyExpr.or(p.EditorContextKeys.focus,c.ContextKeyExpr.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:t.MenuId.MenubarEditMenu,group:"3_find",title:i.localize(15,null),order:2}})),e.StartFindReplaceAction.addImplementation(0,(z,j,K)=>{if(!j.hasModel()||j.getOption(91))return!1;const U=S.get(j);if(!U)return!1;const G=j.getSelection(),te=U.isFindInputFocused(),ee=!G.isEmpty()&&G.startLineNumber===G.endLineNumber&&j.getOption(41).seedSearchStringFromSelection!=="never"&&!te,Y=te||ee?2:1;return U.start({forceRevealReplace:!0,seedSearchStringFromSelection:ee?"single":"none",seedSearchStringFromNonEmptySelection:j.getOption(41).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:j.getOption(41).seedSearchStringFromSelection!=="never",shouldFocus:Y,shouldAnimate:!0,updateSearchScope:!1,loop:j.getOption(41).loop})}),(0,D.registerEditorContribution)(S.ID,L,0),(0,D.registerEditorAction)(T),(0,D.registerEditorAction)(N),(0,D.registerEditorAction)(O),(0,D.registerEditorAction)(M),(0,D.registerEditorAction)(R),(0,D.registerEditorAction)(F),(0,D.registerEditorAction)(W);const H=D.EditorCommand.bindToContribution(S.get);(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.CloseFindWidgetCommand,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.closeFindWidget(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,c.ContextKeyExpr.not("isComposing")),primary:9,secondary:[1033]}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleCaseSensitiveCommand,precondition:void 0,handler:z=>z.toggleCaseSensitive(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:b.ToggleCaseSensitiveKeybinding.primary,mac:b.ToggleCaseSensitiveKeybinding.mac,win:b.ToggleCaseSensitiveKeybinding.win,linux:b.ToggleCaseSensitiveKeybinding.linux}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleWholeWordCommand,precondition:void 0,handler:z=>z.toggleWholeWords(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:b.ToggleWholeWordKeybinding.primary,mac:b.ToggleWholeWordKeybinding.mac,win:b.ToggleWholeWordKeybinding.win,linux:b.ToggleWholeWordKeybinding.linux}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleRegexCommand,precondition:void 0,handler:z=>z.toggleRegex(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:b.ToggleRegexKeybinding.primary,mac:b.ToggleRegexKeybinding.mac,win:b.ToggleRegexKeybinding.win,linux:b.ToggleRegexKeybinding.linux}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ToggleSearchScopeCommand,precondition:void 0,handler:z=>z.toggleSearchScope(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:b.ToggleSearchScopeKeybinding.primary,mac:b.ToggleSearchScopeKeybinding.mac,win:b.ToggleSearchScopeKeybinding.win,linux:b.ToggleSearchScopeKeybinding.linux}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.TogglePreserveCaseCommand,precondition:void 0,handler:z=>z.togglePreserveCase(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:b.TogglePreserveCaseKeybinding.primary,mac:b.TogglePreserveCaseKeybinding.mac,win:b.TogglePreserveCaseKeybinding.win,linux:b.TogglePreserveCaseKeybinding.linux}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replace(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:3094}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceOneAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replace(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:3}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replaceAll(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:2563}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.ReplaceAllAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.replaceAll(),kbOpts:{weight:105,kbExpr:c.ContextKeyExpr.and(p.EditorContextKeys.focus,b.CONTEXT_REPLACE_INPUT_FOCUSED),primary:void 0,mac:{primary:2051}}})),(0,D.registerEditorCommand)(new H({id:b.FIND_IDS.SelectAllMatchesAction,precondition:b.CONTEXT_FIND_WIDGET_VISIBLE,handler:z=>z.selectAllMatches(),kbOpts:{weight:105,kbExpr:p.EditorContextKeys.focus,primary:515}}))}),define(ie[408],ne([1,0,26,37,715,33,76,23,31]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.FoldingDecorationProvider=e.foldingManualExpandedIcon=e.foldingManualCollapsedIcon=e.foldingCollapsedIcon=e.foldingExpandedIcon=void 0;const b=(0,D.registerColor)("editor.foldBackground",{light:(0,D.transparent)(D.editorSelectionBackground,.3),dark:(0,D.transparent)(D.editorSelectionBackground,.3),hcDark:null,hcLight:null},(0,E.localize)(0,null),!0);(0,D.registerColor)("editorGutter.foldingControlForeground",{dark:D.iconForeground,light:D.iconForeground,hcDark:D.iconForeground,hcLight:D.iconForeground},(0,E.localize)(1,null)),e.foldingExpandedIcon=(0,y.registerIcon)("folding-expanded",f.Codicon.chevronDown,(0,E.localize)(2,null)),e.foldingCollapsedIcon=(0,y.registerIcon)("folding-collapsed",f.Codicon.chevronRight,(0,E.localize)(3,null)),e.foldingManualCollapsedIcon=(0,y.registerIcon)("folding-manual-collapsed",e.foldingCollapsedIcon,(0,E.localize)(4,null)),e.foldingManualExpandedIcon=(0,y.registerIcon)("folding-manual-expanded",e.foldingExpandedIcon,(0,E.localize)(5,null));const C={color:(0,p.themeColorFromId)(b),position:1},o=(0,E.localize)(6,null),s=(0,E.localize)(7,null);class i{constructor(n){this.editor=n,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(n,c,m){return c?i.HIDDEN_RANGE_DECORATION:this.showFoldingControls==="never"?n?this.showFoldingHighlights?i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION:i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION:i.NO_CONTROLS_EXPANDED_RANGE_DECORATION:n?m?this.showFoldingHighlights?i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:i.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?m?i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:m?i.MANUALLY_EXPANDED_VISUAL_DECORATION:i.EXPANDED_VISUAL_DECORATION}changeDecorations(n){return this.editor.changeDecorations(n)}removeDecorations(n){this.editor.removeDecorations(n)}}e.FoldingDecorationProvider=i,i.COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:C,isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingCollapsedIcon)}),i.MANUALLY_COLLAPSED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:C,isWholeLine:!0,linesDecorationsTooltip:o,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualCollapsedIcon)}),i.NO_CONTROLS_COLLAPSED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,linesDecorationsTooltip:o}),i.NO_CONTROLS_COLLAPSED_HIGHLIGHTED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",minimap:C,isWholeLine:!0,linesDecorationsTooltip:o}),i.EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:s}),i.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingExpandedIcon),linesDecorationsTooltip:s}),i.MANUALLY_EXPANDED_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:s}),i.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=k.ModelDecorationOptions.register({description:"folding-manually-expanded-auto-hide-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:w.ThemeIcon.asClassName(e.foldingManualExpandedIcon),linesDecorationsTooltip:s}),i.NO_CONTROLS_EXPANDED_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-no-controls-range-decoration",stickiness:0,isWholeLine:!0}),i.HIDDEN_RANGE_DECORATION=k.ModelDecorationOptions.register({description:"folding-hidden-range-decoration",stickiness:1})}),define(ie[280],ne([1,0,15,19,10,69,2,12,20,138,16,21,28,34,324,592,325,714,14,408,197,326,51,84,64,18,7,25,22,53,27,490]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.RangesLimitReporter=e.FoldingController=void 0;const A=new u.RawContextKey("foldingEnabled",!1);let O=N=class extends y.Disposable{static get(ae){return ae.getContribution(N.ID)}static getFoldingRangeProviders(ae,oe){var B,q;const V=ae.foldingRangeProvider.ordered(oe);return(q=(B=N._foldingRangeSelector)===null||B===void 0?void 0:B.call(N,V,oe))!==null&&q!==void 0?q:V}constructor(ae,oe,B,q,V,$){super(),this.contextKeyService=oe,this.languageConfigurationService=B,this.languageFeaturesService=$,this.localToDispose=this._register(new y.DisposableStore),this.editor=ae,this._foldingLimitReporter=new M(ae);const J=this.editor.getOptions();this._isEnabled=J.get(43),this._useFoldingProviders=J.get(44)!=="indentation",this._unfoldOnClickAfterEndOfLine=J.get(48),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=J.get(46),this.updateDebounceInfo=V.for($.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new r.FoldingDecorationProvider(ae),this.foldingDecorationProvider.showFoldingControls=J.get(110),this.foldingDecorationProvider.showFoldingHighlights=J.get(45),this.foldingEnabled=A.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(se=>{if(se.hasChanged(43)&&(this._isEnabled=this.editor.getOptions().get(43),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),se.hasChanged(47)&&this.onModelChanged(),se.hasChanged(110)||se.hasChanged(45)){const de=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=de.get(110),this.foldingDecorationProvider.showFoldingHighlights=de.get(45),this.triggerFoldingModelChanged()}se.hasChanged(44)&&(this._useFoldingProviders=this.editor.getOptions().get(44)!=="indentation",this.onFoldingStrategyChanged()),se.hasChanged(48)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(48)),se.hasChanged(46)&&(this._foldingImportsByDefault=this.editor.getOptions().get(46))})),this.onModelChanged()}saveViewState(){const ae=this.editor.getModel();if(!ae||!this._isEnabled||ae.isTooLargeForTokenization())return{};if(this.foldingModel){const oe=this.foldingModel.getMemento(),B=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:oe,lineCount:ae.getLineCount(),provider:B,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(ae){const oe=this.editor.getModel();if(!(!oe||!this._isEnabled||oe.isTooLargeForTokenization()||!this.hiddenRangeModel)&&ae&&(this._currentModelHasFoldedImports=!!ae.foldedImports,ae.collapsedRegions&&ae.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(ae.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const ae=this.editor.getModel();!this._isEnabled||!ae||ae.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new t.FoldingModel(ae,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new n.HiddenRangeModel(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(oe=>this.onHiddenRangesChanges(oe))),this.updateScheduler=new f.Delayer(this.updateDebounceInfo.get(ae)),this.cursorChangedScheduler=new f.RunOnceScheduler(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(oe=>this.onDidChangeModelContent(oe))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(oe=>this.onEditorMouseDown(oe))),this.localToDispose.add(this.editor.onMouseUp(oe=>this.onEditorMouseUp(oe))),this.localToDispose.add({dispose:()=>{var oe,B;this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),(oe=this.updateScheduler)===null||oe===void 0||oe.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,(B=this.rangeProvider)===null||B===void 0||B.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){var ae;(ae=this.rangeProvider)===null||ae===void 0||ae.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(ae){if(this.rangeProvider)return this.rangeProvider;const oe=new c.IndentRangeProvider(ae,this.languageConfigurationService,this._foldingLimitReporter);if(this.rangeProvider=oe,this._useFoldingProviders&&this.foldingModel){const B=N.getFoldingRangeProviders(this.languageFeaturesService,ae);B.length>0&&(this.rangeProvider=new h.SyntaxRangeProvider(ae,B,()=>this.triggerFoldingModelChanged(),this._foldingLimitReporter,oe))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(ae){var oe;(oe=this.hiddenRangeModel)===null||oe===void 0||oe.notifyChangeModelContent(ae),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const ae=this.foldingModel;if(!ae)return null;const oe=new d.StopWatch,B=this.getRangeProvider(ae.textModel),q=this.foldingRegionPromise=(0,f.createCancelablePromise)(V=>B.compute(V));return q.then(V=>{if(V&&q===this.foldingRegionPromise){let $;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const le=V.setCollapsedAllOfType(s.FoldingRangeKind.Imports.value,!0);le&&($=b.StableEditorScrollState.capture(this.editor),this._currentModelHasFoldedImports=le)}const J=this.editor.getSelections(),se=J?J.map(le=>le.startLineNumber):[];ae.update(V,se),$?.restore(this.editor);const de=this.updateDebounceInfo.update(ae.textModel,oe.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=de)}return ae})}).then(void 0,ae=>((0,E.onUnexpectedError)(ae),null)))}onHiddenRangesChanges(ae){if(this.hiddenRangeModel&&ae.length&&!this._restoringViewState){const oe=this.editor.getSelections();oe&&this.hiddenRangeModel.adjustSelections(oe)&&this.editor.setSelections(oe)}this.editor.setHiddenAreas(ae,this)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const ae=this.getFoldingModel();ae&&ae.then(oe=>{if(oe){const B=this.editor.getSelections();if(B&&B.length>0){const q=[];for(const V of B){const $=V.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden($)&&q.push(...oe.getAllRegionsAtLine($,J=>J.isCollapsed&&$>J.startLineNumber))}q.length&&(oe.toggleCollapseState(q),this.reveal(B[0].getPosition()))}}}).then(void 0,E.onUnexpectedError)}onEditorMouseDown(ae){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!ae.target||!ae.target.range||!ae.event.leftButton&&!ae.event.middleButton)return;const oe=ae.target.range;let B=!1;switch(ae.target.type){case 4:{const q=ae.target.detail,V=ae.target.element.offsetLeft;if(q.offsetX-V<4)return;B=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!ae.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const q=this.editor.getModel();if(q&&oe.startColumn===q.getLineMaxColumn(oe.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:oe.startLineNumber,iconClicked:B}}onEditorMouseUp(ae){const oe=this.foldingModel;if(!oe||!this.mouseDownInfo||!ae.target)return;const B=this.mouseDownInfo.lineNumber,q=this.mouseDownInfo.iconClicked,V=ae.target.range;if(!V||V.startLineNumber!==B)return;if(q){if(ae.target.type!==4)return}else{const J=this.editor.getModel();if(!J||V.startColumn!==J.getLineMaxColumn(B))return}const $=oe.getRegionAtLine(B);if($&&$.startLineNumber===B){const J=$.isCollapsed;if(q||J){const se=ae.event.altKey;let de=[];if(se){const le=ve=>!ve.containedBy($)&&!$.containedBy(ve),fe=oe.getRegionsInside(null,le);for(const ve of fe)ve.isCollapsed&&de.push(ve);de.length===0&&(de=fe)}else{const le=ae.event.middleButton||ae.event.shiftKey;if(le)for(const fe of oe.getRegionsInside($))fe.isCollapsed===J&&de.push(fe);(J||!le||de.length===0)&&de.push($)}oe.toggleCollapseState(de),this.reveal({lineNumber:B,column:1})}}}reveal(ae){this.editor.revealPositionInCenterIfOutsideViewport(ae,0)}};e.FoldingController=O,O.ID="editor.contrib.folding",e.FoldingController=O=N=Ie([ue(1,u.IContextKeyService),ue(2,i.ILanguageConfigurationService),ue(3,l.INotificationService),ue(4,g.ILanguageFeatureDebounceService),ue(5,v.ILanguageFeaturesService)],O);class M{constructor(ae){this.editor=ae,this._onDidChange=new _.Emitter,this._computed=0,this._limited=!1}get limit(){return this.editor.getOptions().get(47)}update(ae,oe){(ae!==this._computed||oe!==this._limited)&&(this._computed=ae,this._limited=oe,this._onDidChange.fire())}}e.RangesLimitReporter=M;class R extends C.EditorAction{runEditorCommand(ae,oe,B){const q=ae.get(i.ILanguageConfigurationService),V=O.get(oe);if(!V)return;const $=V.getFoldingModel();if($)return this.reportTelemetry(ae,oe),$.then(J=>{if(J){this.invoke(V,J,oe,B,q);const se=oe.getSelection();se&&V.reveal(se.getStartPosition())}})}getSelectedLines(ae){const oe=ae.getSelections();return oe?oe.map(B=>B.startLineNumber):[]}getLineNumbers(ae,oe){return ae&&ae.selectionLines?ae.selectionLines.map(B=>B+1):this.getSelectedLines(oe)}run(ae,oe){}}function x(X){if(!w.isUndefined(X)){if(!w.isObject(X))return!1;const ae=X;if(!w.isUndefined(ae.levels)&&!w.isNumber(ae.levels)||!w.isUndefined(ae.direction)&&!w.isString(ae.direction)||!w.isUndefined(ae.selectionLines)&&(!Array.isArray(ae.selectionLines)||!ae.selectionLines.every(w.isNumber)))return!1}return!0}class F extends R{constructor(){super({id:"editor.unfold",label:m.localize(0,null),alias:"Unfold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:3166,mac:{primary:2654},weight:100},metadata:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:x,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,oe,B,q){const V=q&&q.levels||1,$=this.getLineNumbers(q,B);q&&q.direction==="up"?(0,t.setCollapseStateLevelsUp)(oe,!1,V,$):(0,t.setCollapseStateLevelsDown)(oe,!1,V,$)}}class W extends R{constructor(){super({id:"editor.unfoldRecursively",label:m.localize(1,null),alias:"Unfold Recursively",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2142),weight:100}})}invoke(ae,oe,B,q){(0,t.setCollapseStateLevelsDown)(oe,!1,Number.MAX_VALUE,this.getSelectedLines(B))}}class H extends R{constructor(){super({id:"editor.fold",label:m.localize(2,null),alias:"Fold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:3164,mac:{primary:2652},weight:100},metadata:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:x,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(ae,oe,B,q){const V=this.getLineNumbers(q,B),$=q&&q.levels,J=q&&q.direction;typeof $!="number"&&typeof J!="string"?(0,t.setCollapseStateUp)(oe,!0,V):J==="up"?(0,t.setCollapseStateLevelsUp)(oe,!0,$||1,V):(0,t.setCollapseStateLevelsDown)(oe,!0,$||1,V)}}class z extends R{constructor(){super({id:"editor.toggleFold",label:m.localize(3,null),alias:"Toggle Fold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2090),weight:100}})}invoke(ae,oe,B){const q=this.getSelectedLines(B);(0,t.toggleCollapseState)(oe,1,q)}}class j extends R{constructor(){super({id:"editor.foldRecursively",label:m.localize(4,null),alias:"Fold Recursively",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2140),weight:100}})}invoke(ae,oe,B){const q=this.getSelectedLines(B);(0,t.setCollapseStateLevelsDown)(oe,!0,Number.MAX_VALUE,q)}}class K extends R{constructor(){super({id:"editor.foldAllBlockComments",label:m.localize(5,null),alias:"Fold All Block Comments",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2138),weight:100}})}invoke(ae,oe,B,q,V){if(oe.regions.hasTypes())(0,t.setCollapseStateForType)(oe,s.FoldingRangeKind.Comment.value,!0);else{const $=B.getModel();if(!$)return;const J=V.getLanguageConfiguration($.getLanguageId()).comments;if(J&&J.blockCommentStartToken){const se=new RegExp("^\\s*"+(0,p.escapeRegExpCharacters)(J.blockCommentStartToken));(0,t.setCollapseStateForMatchingLines)(oe,se,!0)}}}}class U extends R{constructor(){super({id:"editor.foldAllMarkerRegions",label:m.localize(6,null),alias:"Fold All Regions",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2077),weight:100}})}invoke(ae,oe,B,q,V){if(oe.regions.hasTypes())(0,t.setCollapseStateForType)(oe,s.FoldingRangeKind.Region.value,!0);else{const $=B.getModel();if(!$)return;const J=V.getLanguageConfiguration($.getLanguageId()).foldingRules;if(J&&J.markers&&J.markers.start){const se=new RegExp(J.markers.start);(0,t.setCollapseStateForMatchingLines)(oe,se,!0)}}}}class G extends R{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:m.localize(7,null),alias:"Unfold All Regions",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2078),weight:100}})}invoke(ae,oe,B,q,V){if(oe.regions.hasTypes())(0,t.setCollapseStateForType)(oe,s.FoldingRangeKind.Region.value,!1);else{const $=B.getModel();if(!$)return;const J=V.getLanguageConfiguration($.getLanguageId()).foldingRules;if(J&&J.markers&&J.markers.start){const se=new RegExp(J.markers.start);(0,t.setCollapseStateForMatchingLines)(oe,se,!1)}}}}class te extends R{constructor(){super({id:"editor.foldAllExcept",label:m.localize(8,null),alias:"Fold All Except Selected",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2136),weight:100}})}invoke(ae,oe,B){const q=this.getSelectedLines(B);(0,t.setCollapseStateForRest)(oe,!0,q)}}class ee extends R{constructor(){super({id:"editor.unfoldAllExcept",label:m.localize(9,null),alias:"Unfold All Except Selected",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2134),weight:100}})}invoke(ae,oe,B){const q=this.getSelectedLines(B);(0,t.setCollapseStateForRest)(oe,!1,q)}}class Y extends R{constructor(){super({id:"editor.foldAll",label:m.localize(10,null),alias:"Fold All",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2069),weight:100}})}invoke(ae,oe,B){(0,t.setCollapseStateLevelsDown)(oe,!0)}}class P extends R{constructor(){super({id:"editor.unfoldAll",label:m.localize(11,null),alias:"Unfold All",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2088),weight:100}})}invoke(ae,oe,B){(0,t.setCollapseStateLevelsDown)(oe,!1)}}class Z extends R{getFoldingLevel(){return parseInt(this.id.substr(Z.ID_PREFIX.length))}invoke(ae,oe,B){(0,t.setCollapseStateAtLevel)(oe,this.getFoldingLevel(),!0,this.getSelectedLines(B))}}Z.ID_PREFIX="editor.foldLevel",Z.ID=X=>Z.ID_PREFIX+X;class re extends R{constructor(){super({id:"editor.gotoParentFold",label:m.localize(12,null),alias:"Go to Parent Fold",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,oe,B){const q=this.getSelectedLines(B);if(q.length>0){const V=(0,t.getParentFoldLine)(q[0],oe);V!==null&&B.setSelection({startLineNumber:V,startColumn:1,endLineNumber:V,endColumn:1})}}}class ce extends R{constructor(){super({id:"editor.gotoPreviousFold",label:m.localize(13,null),alias:"Go to Previous Folding Range",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,oe,B){const q=this.getSelectedLines(B);if(q.length>0){const V=(0,t.getPreviousFoldLine)(q[0],oe);V!==null&&B.setSelection({startLineNumber:V,startColumn:1,endLineNumber:V,endColumn:1})}}}class he extends R{constructor(){super({id:"editor.gotoNextFold",label:m.localize(14,null),alias:"Go to Next Folding Range",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,weight:100}})}invoke(ae,oe,B){const q=this.getSelectedLines(B);if(q.length>0){const V=(0,t.getNextFoldLine)(q[0],oe);V!==null&&B.setSelection({startLineNumber:V,startColumn:1,endLineNumber:V,endColumn:1})}}}class pe extends R{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:m.localize(15,null),alias:"Create Folding Range from Selection",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2135),weight:100}})}invoke(ae,oe,B){var q;const V=[],$=B.getSelections();if($){for(const J of $){let se=J.endLineNumber;J.endColumn===1&&--se,se>J.startLineNumber&&(V.push({startLineNumber:J.startLineNumber,endLineNumber:se,type:void 0,isCollapsed:!0,source:1}),B.setSelection({startLineNumber:J.startLineNumber,startColumn:1,endLineNumber:J.startLineNumber,endColumn:1}))}if(V.length>0){V.sort((se,de)=>se.startLineNumber-de.startLineNumber);const J=a.FoldingRegions.sanitizeAndMerge(oe.regions,V,(q=B.getModel())===null||q===void 0?void 0:q.getLineCount());oe.updatePost(a.FoldingRegions.fromFoldRanges(J))}}}}class ge extends R{constructor(){super({id:"editor.removeManualFoldingRanges",label:m.localize(16,null),alias:"Remove Manual Folding Ranges",precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2137),weight:100}})}invoke(ae,oe,B){const q=B.getSelections();if(q){const V=[];for(const $ of q){const{startLineNumber:J,endLineNumber:se}=$;V.push(se>=J?{startLineNumber:J,endLineNumber:se}:{endLineNumber:se,startLineNumber:J})}oe.removeManualRanges(V),ae.triggerFoldingModelChanged()}}}(0,C.registerEditorContribution)(O.ID,O,0),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(W),(0,C.registerEditorAction)(H),(0,C.registerEditorAction)(j),(0,C.registerEditorAction)(Y),(0,C.registerEditorAction)(P),(0,C.registerEditorAction)(K),(0,C.registerEditorAction)(U),(0,C.registerEditorAction)(G),(0,C.registerEditorAction)(te),(0,C.registerEditorAction)(ee),(0,C.registerEditorAction)(z),(0,C.registerEditorAction)(re),(0,C.registerEditorAction)(ce),(0,C.registerEditorAction)(he),(0,C.registerEditorAction)(pe),(0,C.registerEditorAction)(ge);for(let X=1;X<=7;X++)(0,C.registerInstantiatedEditorAction)(new Z({id:Z.ID(X),label:m.localize(17,null,X),alias:`Fold Level ${X}`,precondition:A,kbOpts:{kbExpr:o.EditorContextKeys.editorTextFocus,primary:(0,D.KeyChord)(2089,2048|21+X),weight:100}}));S.CommandsRegistry.registerCommand("_executeFoldingRangeProvider",async function(X,...ae){const[oe]=ae;if(!(oe instanceof L.URI))throw(0,E.illegalArgument)();const B=X.get(v.ILanguageFeaturesService),q=X.get(I.IModelService).getModel(oe);if(!q)throw(0,E.illegalArgument)();const V=X.get(T.IConfigurationService);if(!V.getValue("editor.folding",{resource:oe}))return[];const $=X.get(i.ILanguageConfigurationService),J=V.getValue("editor.foldingStrategy",{resource:oe}),se={get limit(){return V.getValue("editor.foldingMaximumRegions",{resource:oe})},update:(Ce,Se)=>{}},de=new c.IndentRangeProvider(q,$,se);let le=de;if(J!=="indentation"){const Ce=O.getFoldingRangeProviders(B,q);Ce.length&&(le=new h.SyntaxRangeProvider(q,Ce,()=>{},se,de))}const fe=await le.compute(k.CancellationToken.None),ve=[];try{if(fe)for(let Ce=0;Ce<fe.length;Ce++){const Se=fe.getType(Ce);ve.push({start:fe.getStartLineNumber(Ce),end:fe.getEndLineNumber(Ce),kind:Se?s.FoldingRangeKind.fromValue(Se):void 0})}return ve}finally{le.dispose()}})}),define(ie[957],ne([1,0,15,10,118,16,5,24,21,37,113,730,594,494]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0});let t=i=class{static get(u){return u.getContribution(i.ID)}constructor(u,r){this.editor=u,this.editorWorkerService=r,this.decorations=this.editor.createDecorationsCollection()}dispose(){}run(u,r){var a;(a=this.currentRequest)===null||a===void 0||a.cancel();const h=this.editor.getSelection(),l=this.editor.getModel();if(!l||!h)return;let g=h;if(g.startLineNumber!==g.endLineNumber)return;const d=new E.EditorState(this.editor,5),v=l.uri;return this.editorWorkerService.canNavigateValueSet(v)?(this.currentRequest=(0,f.createCancelablePromise)(_=>this.editorWorkerService.navigateValueSet(v,g,r)),this.currentRequest.then(_=>{var S;if(!_||!_.range||!_.value||!d.validate(this.editor))return;const L=y.Range.lift(_.range);let I=_.range;const T=_.value.length-(g.endColumn-g.startColumn);I={startLineNumber:I.startLineNumber,startColumn:I.startColumn,endLineNumber:I.endLineNumber,endColumn:I.startColumn+_.value.length},T>1&&(g=new p.Selection(g.startLineNumber,g.startColumn,g.endLineNumber,g.endColumn+T-1));const N=new s.InPlaceReplaceCommand(L,g,_.value);this.editor.pushUndoStop(),this.editor.executeCommand(u,N),this.editor.pushUndoStop(),this.decorations.set([{range:I,options:i.DECORATION}]),(S=this.decorationRemover)===null||S===void 0||S.cancel(),this.decorationRemover=(0,f.timeout)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(k.onUnexpectedError)}).catch(k.onUnexpectedError)):Promise.resolve(void 0)}};t.ID="editor.contrib.inPlaceReplaceController",t.DECORATION=b.ModelDecorationOptions.register({description:"in-place-replace",className:"valueSetReplacement"}),t=i=Ie([ue(1,C.IEditorWorkerService)],t);class n extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.up",label:o.localize(0,null),alias:"Replace with Previous Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3159,weight:100}})}run(u,r){const a=t.get(r);return a?a.run(this.id,!1):Promise.resolve(void 0)}}class c extends D.EditorAction{constructor(){super({id:"editor.action.inPlaceReplace.down",label:o.localize(1,null),alias:"Replace with Next Value",precondition:w.EditorContextKeys.writable,kbOpts:{kbExpr:w.EditorContextKeys.editorTextFocus,primary:3161,weight:100}})}run(u,r){const a=t.get(r);return a?a.run(this.id,!0):Promise.resolve(void 0)}}(0,D.registerEditorContribution)(t.ID,t,4),(0,D.registerEditorAction)(n),(0,D.registerEditorAction)(c)}),define(ie[281],ne([1,0,6,15,26,2,12,31,5,37,8,499]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineProgressManager=void 0;const o=b.ModelDecorationOptions.register({description:"inline-progress-widget",stickiness:1,showIfCollapsed:!0,after:{content:y.noBreakWhitespace,inlineClassName:"inline-editor-progress-decoration",inlineClassNameAffectsLetterSpacing:!0}});class s extends D.Disposable{constructor(n,c,m,u,r){super(),this.typeId=n,this.editor=c,this.range=m,this.delegate=r,this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this.create(u),this.editor.addContentWidget(this),this.editor.layoutContentWidget(this)}create(n){this.domNode=f.$(".inline-progress-widget"),this.domNode.role="button",this.domNode.title=n;const c=f.$("span.icon");this.domNode.append(c),c.classList.add(...p.ThemeIcon.asClassNameArray(E.Codicon.loading),"codicon-modifier-spin");const m=()=>{const u=this.editor.getOption(67);this.domNode.style.height=`${u}px`,this.domNode.style.width=`${Math.ceil(.8*u)}px`};m(),this._register(this.editor.onDidChangeConfiguration(u=>{(u.hasChanged(52)||u.hasChanged(67))&&m()})),this._register(f.addDisposableListener(this.domNode,f.EventType.CLICK,u=>{this.delegate.cancel()}))}getId(){return s.baseId+"."+this.typeId}getDomNode(){return this.domNode}getPosition(){return{position:{lineNumber:this.range.startLineNumber,column:this.range.startColumn},preference:[0]}}dispose(){super.dispose(),this.editor.removeContentWidget(this)}}s.baseId="editor.widget.inlineProgressWidget";let i=class extends D.Disposable{constructor(n,c,m){super(),this.id=n,this._editor=c,this._instantiationService=m,this._showDelay=500,this._showPromise=this._register(new D.MutableDisposable),this._currentWidget=new D.MutableDisposable,this._operationIdPool=0,this._currentDecorations=c.createDecorationsCollection()}async showWhile(n,c,m){const u=this._operationIdPool++;this._currentOperation=u,this.clear(),this._showPromise.value=(0,k.disposableTimeout)(()=>{const r=w.Range.fromPositions(n);this._currentDecorations.set([{range:r,options:o}]).length>0&&(this._currentWidget.value=this._instantiationService.createInstance(s,this.id,this._editor,r,c,m))},this._showDelay);try{return await m}finally{this._currentOperation===u&&(this.clear(),this._currentOperation=void 0)}}clear(){this._showPromise.clear(),this._currentDecorations.clear(),this._currentWidget.clear()}};e.InlineProgressManager=i,e.InlineProgressManager=i=Ie([ue(2,C.IInstantiationService)],i)}),define(ie[958],ne([1,0,13,15,189,88,2,379,5,18,317,811,118,281,710,27,14,378,8,260,370]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.DropIntoEditorController=e.dropWidgetVisibleCtx=e.changeDropTypeCommandId=e.defaultProviderConfig=void 0,e.defaultProviderConfig="editor.experimental.dropIntoEditor.defaultProvider",e.changeDropTypeCommandId="editor.changeDropType",e.dropWidgetVisibleCtx=new c.RawContextKey("dropWidgetVisible",!1,(0,t.localize)(0,null));let l=h=class extends y.Disposable{static get(d){return d.getContribution(h.ID)}constructor(d,v,_,S,L){super(),this._configService=_,this._languageFeaturesService=S,this._treeViewsDragAndDropService=L,this.treeItemsTransfer=m.LocalSelectionTransfer.getInstance(),this._dropProgressManager=this._register(v.createInstance(i.InlineProgressManager,"dropIntoEditor",d)),this._postDropWidgetManager=this._register(v.createInstance(a.PostEditWidgetManager,"dropIntoEditor",d,e.dropWidgetVisibleCtx,{id:e.changeDropTypeCommandId,label:(0,t.localize)(1,null)})),this._register(d.onDropIntoEditor(I=>this.onDropIntoEditor(d,I.position,I.event)))}clearWidgets(){this._postDropWidgetManager.clear()}changeDropType(){this._postDropWidgetManager.tryShowSelector()}async onDropIntoEditor(d,v,_){var S;if(!_.dataTransfer||!d.hasModel())return;(S=this._currentOperation)===null||S===void 0||S.cancel(),d.focus(),d.setPosition(v);const L=(0,k.createCancelablePromise)(async I=>{const T=new s.EditorStateCancellationTokenSource(d,1,void 0,I);try{const N=await this.extractDataTransferData(_);if(N.size===0||T.token.isCancellationRequested)return;const A=d.getModel();if(!A)return;const O=this._languageFeaturesService.documentDropEditProvider.ordered(A).filter(R=>R.dropMimeTypes?R.dropMimeTypes.some(x=>N.matches(x)):!0),M=await this.getDropEdits(O,A,v,N,T);if(T.token.isCancellationRequested)return;if(M.length){const R=this.getInitialActiveEditIndex(A,M),x=d.getOption(36).showDropSelector==="afterDrop";await this._postDropWidgetManager.applyEditAndShowIfNeeded([w.Range.fromPositions(v)],{activeEditIndex:R,allEdits:M},x,async F=>F,I)}}finally{T.dispose(),this._currentOperation===L&&(this._currentOperation=void 0)}});this._dropProgressManager.showWhile(v,(0,t.localize)(2,null),L),this._currentOperation=L}async getDropEdits(d,v,_,S,L){const I=await(0,k.raceCancellation)(Promise.all(d.map(async N=>{try{const A=await N.provideDocumentDropEdits(v,_,S,L.token);return A?.map(O=>({...O,providerId:N.id}))}catch(A){console.error(A)}})),L.token),T=(0,f.coalesce)(I??[]).flat();return(0,r.sortEditsByYieldTo)(T)}getInitialActiveEditIndex(d,v){const _=this._configService.getValue(e.defaultProviderConfig,{resource:d.uri});for(const[S,L]of Object.entries(_)){const I=new D.HierarchicalKind(L),T=v.findIndex(N=>I.value===N.providerId&&N.handledMimeType&&(0,E.matchesMimeType)(S,[N.handledMimeType]));if(T>=0)return T}return 0}async extractDataTransferData(d){if(!d.dataTransfer)return new E.VSDataTransfer;const v=(0,p.toExternalVSDataTransfer)(d.dataTransfer);if(this.treeItemsTransfer.hasData(C.DraggedTreeItemsIdentifier.prototype)){const _=this.treeItemsTransfer.getData(C.DraggedTreeItemsIdentifier.prototype);if(Array.isArray(_))for(const S of _){const L=await this._treeViewsDragAndDropService.removeDragOperationTransfer(S.identifier);if(L)for(const[I,T]of L)v.replace(I,T)}}return v}};e.DropIntoEditorController=l,l.ID="editor.contrib.dropIntoEditorController",e.DropIntoEditorController=l=h=Ie([ue(1,u.IInstantiationService),ue(2,n.IConfigurationService),ue(3,b.ILanguageFeaturesService),ue(4,o.ITreeViewsDnDService)],l)}),define(ie[959],ne([1,0,13,15,19,35,10,7,2,12,22,16,36,9,5,21,37,34,740,14,18,33,84,64,500]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.editorLinkedEditingBackground=e.LinkedEditingAction=e.LinkedEditingContribution=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=void 0,e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE=new r.RawContextKey("LinkedEditingInputVisible",!1);const v="linked-editing-decoration";let _=d=class extends w.Disposable{static get(N){return N.getContribution(d.ID)}constructor(N,A,O,M,R){super(),this.languageConfigurationService=M,this._syncRangesToken=0,this._localToDispose=this._register(new w.DisposableStore),this._editor=N,this._providers=O.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE.bindTo(A),this._debounceInformation=R.for(this._providers,"Linked Editing",{max:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new w.DisposableStore),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequestCts=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(x=>{(x.hasChanged(70)||x.hasChanged(93))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}reinitialize(N){const A=this._editor.getModel(),O=A!==null&&(this._editor.getOption(70)||this._editor.getOption(93))&&this._providers.has(A);if(O===this._enabled&&!N||(this._enabled=O,this.clearRanges(),this._localToDispose.clear(),!O||A===null))return;this._localToDispose.add(p.Event.runAndSubscribe(A.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(A.getLanguageId()).getWordDefinition()}));const M=new k.Delayer(this._debounceInformation.get(A)),R=()=>{var W;this._rangeUpdateTriggerPromise=M.trigger(()=>this.updateRanges(),(W=this._debounceDuration)!==null&&W!==void 0?W:this._debounceInformation.get(A))},x=new k.Delayer(0),F=W=>{this._rangeSyncTriggerPromise=x.trigger(()=>this._syncRanges(W))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{R()})),this._localToDispose.add(this._editor.onDidChangeModelContent(W=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const H=this._currentDecorations.getRange(0);if(H&&W.changes.every(z=>H.intersectRanges(z.range))){F(this._syncRangesToken);return}}R()})),this._localToDispose.add({dispose:()=>{M.dispose(),x.dispose()}}),this.updateRanges()}_syncRanges(N){if(!this._editor.hasModel()||N!==this._syncRangesToken||this._currentDecorations.length===0)return;const A=this._editor.getModel(),O=this._currentDecorations.getRange(0);if(!O||O.startLineNumber!==O.endLineNumber)return this.clearRanges();const M=A.getValueInRange(O);if(this._currentWordPattern){const x=M.match(this._currentWordPattern);if((x?x[0].length:0)!==M.length)return this.clearRanges()}const R=[];for(let x=1,F=this._currentDecorations.length;x<F;x++){const W=this._currentDecorations.getRange(x);if(W)if(W.startLineNumber!==W.endLineNumber)R.push({range:W,text:M});else{let H=A.getValueInRange(W),z=M,j=W.startColumn,K=W.endColumn;const U=b.commonPrefixLength(H,z);j+=U,H=H.substr(U),z=z.substr(U);const G=b.commonSuffixLength(H,z);K-=G,H=H.substr(0,H.length-G),z=z.substr(0,z.length-G),(j!==K||z.length!==0)&&R.push({range:new t.Range(W.startLineNumber,j,W.endLineNumber,K),text:z})}}if(R.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const x=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",R),this._editor._getViewModel().setPrevEditOperationType(x)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequestCts&&(this._currentRequestCts.cancel(),this._currentRequestCts=null,this._currentRequestPosition=null)}async updateRanges(N=!1){if(!this._editor.hasModel()){this.clearRanges();return}const A=this._editor.getPosition();if(!this._enabled&&!N||this._editor.getSelections().length>1){this.clearRanges();return}const O=this._editor.getModel(),M=O.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===M){if(A.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const x=this._currentDecorations.getRange(0);if(x&&x.containsPosition(A))return}}this.clearRanges(),this._currentRequestPosition=A,this._currentRequestModelVersion=M;const R=this._currentRequestCts=new E.CancellationTokenSource;try{const x=new g.StopWatch(!1),F=await I(this._providers,O,A,R.token);if(this._debounceInformation.update(O,x.elapsed()),R!==this._currentRequestCts||(this._currentRequestCts=null,M!==O.getVersionId()))return;let W=[];F?.ranges&&(W=F.ranges),this._currentWordPattern=F?.wordPattern||this._languageWordPattern;let H=!1;for(let j=0,K=W.length;j<K;j++)if(t.Range.containsPosition(W[j],A)){if(H=!0,j!==0){const U=W[j];W.splice(j,1),W.unshift(U)}break}if(!H){this.clearRanges();return}const z=W.map(j=>({range:j,options:d.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(z),this._syncRangesToken++}catch(x){(0,y.isCancellationError)(x)||(0,y.onUnexpectedError)(x),(this._currentRequestCts===R||!this._currentRequestCts)&&this.clearRanges()}}};e.LinkedEditingContribution=_,_.ID="editor.contrib.linkedEditing",_.DECORATION=c.ModelDecorationOptions.register({description:"linked-editing",stickiness:0,className:v}),e.LinkedEditingContribution=_=d=Ie([ue(1,r.IContextKeyService),ue(2,a.ILanguageFeaturesService),ue(3,m.ILanguageConfigurationService),ue(4,l.ILanguageFeatureDebounceService)],_);class S extends o.EditorAction{constructor(){super({id:"editor.action.linkedEditing",label:u.localize(0,null),alias:"Start Linked Editing",precondition:r.ContextKeyExpr.and(n.EditorContextKeys.writable,n.EditorContextKeys.hasRenameProvider),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,primary:3132,weight:100}})}runCommand(N,A){const O=N.get(s.ICodeEditorService),[M,R]=Array.isArray(A)&&A||[void 0,void 0];return C.URI.isUri(M)&&i.Position.isIPosition(R)?O.openCodeEditor({resource:M},O.getActiveCodeEditor()).then(x=>{x&&(x.setPosition(R),x.invokeWithinContext(F=>(this.reportTelemetry(F,x),this.run(F,x))))},y.onUnexpectedError):super.runCommand(N,A)}run(N,A){const O=_.get(A);return O?Promise.resolve(O.updateRanges(!0)):Promise.resolve()}}e.LinkedEditingAction=S;const L=o.EditorCommand.bindToContribution(_.get);(0,o.registerEditorCommand)(new L({id:"cancelLinkedEditingInput",precondition:e.CONTEXT_ONTYPE_RENAME_INPUT_VISIBLE,handler:T=>T.clearRanges(),kbOpts:{kbExpr:n.EditorContextKeys.editorTextFocus,weight:199,primary:9,secondary:[1033]}}));function I(T,N,A,O){const M=T.ordered(N);return(0,k.first)(M.map(R=>async()=>{try{return await R.provideLinkedEditingRanges(N,A,O)}catch(x){(0,y.onUnexpectedExternalError)(x);return}}),R=>!!R&&f.isNonEmptyArray(R?.ranges))}e.editorLinkedEditingBackground=(0,h.registerColor)("editor.linkedEditingBackground",{dark:D.Color.fromHex("#f00").transparent(.3),light:D.Color.fromHex("#f00").transparent(.3),hcDark:D.Color.fromHex("#f00").transparent(.3),hcLight:D.Color.white},u.localize(1,null)),(0,o.registerModelAndPositionCommand)("_executeLinkedEditingProvider",(T,N,A)=>{const{linkedEditingRangeProvider:O}=T.get(a.ILanguageFeaturesService);return I(O,N,A,E.CancellationToken.None)}),(0,o.registerEditorContribution)(_.ID,_,1),(0,o.registerEditorAction)(S)}),define(ie[960],ne([1,0,15,19,10,57,2,49,17,50,64,22,16,37,84,18,202,813,741,51,61,501]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a){"use strict";var h;Object.defineProperty(e,"__esModule",{value:!0}),e.LinkDetector=void 0;let l=h=class extends y.Disposable{static get(L){return L.getContribution(h.ID)}constructor(L,I,T,N,A){super(),this.editor=L,this.openerService=I,this.notificationService=T,this.languageFeaturesService=N,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=A.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new f.RunOnceScheduler(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const O=this._register(new c.ClickLinkGesture(L));this._register(O.onMouseMoveOrRelevantKeyDown(([M,R])=>{this._onEditorMouseMove(M,R)})),this._register(O.onExecute(M=>{this.onEditorMouseUp(M)})),this._register(O.onCancel(M=>{this.cleanUpActiveLinkDecoration()})),this._register(L.onDidChangeConfiguration(M=>{M.hasChanged(71)&&(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(L.onDidChangeModelContent(M=>{this.editor.hasModel()&&this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(L.onDidChangeModel(M=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(L.onDidChangeModelLanguage(M=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(M=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}async computeLinksNow(){if(!this.editor.hasModel()||!this.editor.getOption(71))return;const L=this.editor.getModel();if(!L.isTooLargeForSyncing()&&this.providers.has(L)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,f.createCancelablePromise)(I=>(0,m.getLinks)(this.providers,L,I));try{const I=new C.StopWatch(!1);if(this.activeLinksList=await this.computePromise,this.debounceInformation.update(L,I.elapsed()),L.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(I){(0,E.onUnexpectedError)(I)}finally{this.computePromise=null}}}updateDecorations(L){const I=this.editor.getOption(78)==="altKey",T=[],N=Object.keys(this.currentOccurrences);for(const O of N){const M=this.currentOccurrences[O];T.push(M.decorationId)}const A=[];if(L)for(const O of L)A.push(d.decoration(O,I));this.editor.changeDecorations(O=>{const M=O.deltaDecorations(T,A);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let R=0,x=M.length;R<x;R++){const F=new d(L[R],M[R]);this.currentOccurrences[F.decorationId]=F}})}_onEditorMouseMove(L,I){const T=this.editor.getOption(78)==="altKey";if(this.isEnabled(L,I)){this.cleanUpActiveLinkDecoration();const N=this.getLinkOccurrence(L.target.position);N&&this.editor.changeDecorations(A=>{N.activate(A,T),this.activeLinkDecorationId=N.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const L=this.editor.getOption(78)==="altKey";if(this.activeLinkDecorationId){const I=this.currentOccurrences[this.activeLinkDecorationId];I&&this.editor.changeDecorations(T=>{I.deactivate(T,L)}),this.activeLinkDecorationId=null}}onEditorMouseUp(L){if(!this.isEnabled(L))return;const I=this.getLinkOccurrence(L.target.position);I&&this.openLinkOccurrence(I,L.hasSideBySideModifier,!0)}openLinkOccurrence(L,I,T=!1){if(!this.openerService)return;const{link:N}=L;N.resolve(k.CancellationToken.None).then(A=>{if(typeof A=="string"&&this.editor.hasModel()){const O=this.editor.getModel().uri;if(O.scheme===p.Schemas.file&&A.startsWith(`${p.Schemas.file}:`)){const M=o.URI.parse(A);if(M.scheme===p.Schemas.file){const R=b.originalFSPath(M);let x=null;R.startsWith("/./")||R.startsWith("\\.\\")?x=`.${R.substr(1)}`:(R.startsWith("//./")||R.startsWith("\\\\.\\"))&&(x=`.${R.substr(2)}`),x&&(A=b.joinPath(O,x))}}}return this.openerService.open(A,{openToSide:I,fromUserGesture:T,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},A=>{const O=A instanceof Error?A.message:A;O==="invalid"?this.notificationService.warn(u.localize(0,null,N.url.toString())):O==="missing"?this.notificationService.warn(u.localize(1,null)):(0,E.onUnexpectedError)(A)})}getLinkOccurrence(L){if(!this.editor.hasModel()||!L)return null;const I=this.editor.getModel().getDecorationsInRange({startLineNumber:L.lineNumber,startColumn:L.column,endLineNumber:L.lineNumber,endColumn:L.column},0,!0);for(const T of I){const N=this.currentOccurrences[T.id];if(N)return N}return null}isEnabled(L,I){return!!(L.target.type===6&&(L.hasTriggerModifier||I&&I.keyCodeIsTriggerKey))}stop(){var L;this.computeLinks.cancel(),this.activeLinksList&&((L=this.activeLinksList)===null||L===void 0||L.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};e.LinkDetector=l,l.ID="editor.linkDetector",e.LinkDetector=l=h=Ie([ue(1,a.IOpenerService),ue(2,r.INotificationService),ue(3,n.ILanguageFeaturesService),ue(4,t.ILanguageFeatureDebounceService)],l);const g={general:i.ModelDecorationOptions.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:i.ModelDecorationOptions.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class d{static decoration(L,I){return{range:L.range,options:d._getOptions(L,I,!1)}}static _getOptions(L,I,T){const N={...T?g.active:g.general};return N.hoverMessage=v(L,I),N}constructor(L,I){this.link=L,this.decorationId=I}activate(L,I){L.changeDecorationOptions(this.decorationId,d._getOptions(this.link,I,!0))}deactivate(L,I){L.changeDecorationOptions(this.decorationId,d._getOptions(this.link,I,!1))}}function v(S,L){const I=S.url&&/^command:/i.test(S.url.toString()),T=S.tooltip?S.tooltip:I?u.localize(2,null):u.localize(3,null),N=L?w.isMacintosh?u.localize(4,null):u.localize(5,null):w.isMacintosh?u.localize(6,null):u.localize(7,null);if(S.url){let A="";if(/^command:/i.test(S.url.toString())){const M=S.url.toString().match(/^command:([^?#]+)/);if(M){const R=M[1];A=u.localize(8,null,R)}}return new D.MarkdownString("",!0).appendLink(S.url.toString(!0).replace(/ /g,"%20"),T,A).appendMarkdown(` (${N})`)}else return new D.MarkdownString().appendText(`${T} (${N})`)}class _ extends s.EditorAction{constructor(){super({id:"editor.action.openLink",label:u.localize(9,null),alias:"Open Link",precondition:void 0})}run(L,I){const T=l.get(I);if(!T||!I.hasModel())return;const N=I.getSelections();for(const A of N){const O=T.getLinkOccurrence(A.getEndPosition());O&&T.openLinkOccurrence(O,!1)}}}(0,s.registerEditorContribution)(l.ID,l,1),(0,s.registerEditorAction)(_)}),define(ie[961],ne([1,0,15,2,16,34,37,113]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SectionHeaderDetector=void 0;let w=class extends k.Disposable{constructor(o,s,i){super(),this.editor=o,this.languageConfigurationService=s,this.editorWorkerService=i,this.decorations=this.editor.createDecorationsCollection(),this.options=this.createOptions(o.getOption(73)),this.computePromise=null,this.currentOccurrences={},this._register(o.onDidChangeModel(t=>{this.currentOccurrences={},this.options=this.createOptions(o.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(o.onDidChangeModelLanguage(t=>{this.currentOccurrences={},this.options=this.createOptions(o.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0)})),this._register(s.onDidChange(t=>{var n;const c=(n=this.editor.getModel())===null||n===void 0?void 0:n.getLanguageId();c&&t.affects(c)&&(this.currentOccurrences={},this.options=this.createOptions(o.getOption(73)),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(o.onDidChangeConfiguration(t=>{this.options&&!t.hasChanged(73)||(this.options=this.createOptions(o.getOption(73)),this.updateDecorations([]),this.stop(),this.computeSectionHeaders.schedule(0))})),this._register(this.editor.onDidChangeModelContent(t=>{this.computeSectionHeaders.schedule()})),this._register(o.onDidChangeModelTokens(t=>{this.computeSectionHeaders.isScheduled()||this.computeSectionHeaders.schedule(1e3)})),this.computeSectionHeaders=this._register(new f.RunOnceScheduler(()=>{this.findSectionHeaders()},250)),this.computeSectionHeaders.schedule(0)}createOptions(o){if(!o||!this.editor.hasModel())return;const s=this.editor.getModel().getLanguageId();if(!s)return;const i=this.languageConfigurationService.getLanguageConfiguration(s).comments,t=this.languageConfigurationService.getLanguageConfiguration(s).foldingRules;if(!(!i&&!t?.markers))return{foldingRules:t,findMarkSectionHeaders:o.showMarkSectionHeaders,findRegionSectionHeaders:o.showRegionSectionHeaders}}findSectionHeaders(){var o,s;if(!this.editor.hasModel()||!(!((o=this.options)===null||o===void 0)&&o.findMarkSectionHeaders)&&!(!((s=this.options)===null||s===void 0)&&s.findRegionSectionHeaders))return;const i=this.editor.getModel();if(i.isDisposed()||i.isTooLargeForSyncing())return;const t=i.getVersionId();this.editorWorkerService.findSectionHeaders(i.uri,this.options).then(n=>{i.isDisposed()||i.getVersionId()!==t||this.updateDecorations(n)})}updateDecorations(o){const s=this.editor.getModel();s&&(o=o.filter(n=>{if(!n.shouldBeInComments)return!0;const c=s.validateRange(n.range),m=s.tokenization.getLineTokens(c.startLineNumber),u=m.findTokenIndexAtOffset(c.startColumn-1),r=m.getStandardTokenType(u);return m.getLanguageId(u)===s.getLanguageId()&&r===1}));const i=Object.values(this.currentOccurrences).map(n=>n.decorationId),t=o.map(n=>b(n));this.editor.changeDecorations(n=>{const c=n.deltaDecorations(i,t);this.currentOccurrences={};for(let m=0,u=c.length;m<u;m++){const r={sectionHeader:o[m],decorationId:c[m]};this.currentOccurrences[r.decorationId]=r}})}stop(){this.computeSectionHeaders.cancel(),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop(),this.decorations.clear()}};e.SectionHeaderDetector=w,w.ID="editor.sectionHeaderDetector",e.SectionHeaderDetector=w=Ie([ue(1,D.ILanguageConfigurationService),ue(2,p.IEditorWorkerService)],w);function b(C){return{range:C.range,options:y.ModelDecorationOptions.createDynamic({description:"section-header",stickiness:3,collapseOnReplaceEdit:!0,minimap:{color:void 0,position:1,sectionHeaderStyle:C.hasSeparatorLine?2:1,sectionHeaderText:C.text}})}}(0,E.registerEditorContribution)(w.ID,w,1)}),define(ie[962],ne([1,0,2,18,176,15,280,326,325,34,10,331,54,8]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyModelProvider=void 0;var t;(function(l){l.OUTLINE_MODEL="outlineModel",l.FOLDING_PROVIDER_MODEL="foldingProviderModel",l.INDENTATION_MODEL="indentationModel"})(t||(t={}));var n;(function(l){l[l.VALID=0]="VALID",l[l.INVALID=1]="INVALID",l[l.CANCELED=2]="CANCELED"})(n||(n={}));let c=class extends f.Disposable{constructor(g,d,v,_){switch(super(),this._editor=g,this._modelProviders=[],this._modelPromise=null,this._updateScheduler=this._register(new D.Delayer(300)),this._updateOperation=this._register(new f.DisposableStore),this._editor.getOption(115).defaultModel){case t.OUTLINE_MODEL:this._modelProviders.push(new u(this._editor,_));case t.FOLDING_PROVIDER_MODEL:this._modelProviders.push(new h(this._editor,d,_));case t.INDENTATION_MODEL:this._modelProviders.push(new a(this._editor,v));break}}dispose(){this._modelProviders.forEach(g=>g.dispose()),this._updateOperation.clear(),this._cancelModelPromise(),super.dispose()}_cancelModelPromise(){this._modelPromise&&(this._modelPromise.cancel(),this._modelPromise=null)}async update(g){return this._updateOperation.clear(),this._updateOperation.add({dispose:()=>{this._cancelModelPromise(),this._updateScheduler.cancel()}}),this._cancelModelPromise(),await this._updateScheduler.trigger(async()=>{for(const d of this._modelProviders){const{statusPromise:v,modelPromise:_}=d.computeStickyModel(g);this._modelPromise=_;const S=await v;if(this._modelPromise!==_)return null;switch(S){case n.CANCELED:return this._updateOperation.clear(),null;case n.VALID:return d.stickyModel}}return null}).catch(d=>((0,C.onUnexpectedError)(d),null))}};e.StickyModelProvider=c,e.StickyModelProvider=c=Ie([ue(2,i.IInstantiationService),ue(3,k.ILanguageFeaturesService)],c);class m extends f.Disposable{constructor(g){super(),this._editor=g,this._stickyModel=null}get stickyModel(){return this._stickyModel}_invalid(){return this._stickyModel=null,n.INVALID}computeStickyModel(g){if(g.isCancellationRequested||!this.isProviderValid())return{statusPromise:this._invalid(),modelPromise:null};const d=(0,D.createCancelablePromise)(v=>this.createModelFromProvider(v));return{statusPromise:d.then(v=>this.isModelValid(v)?g.isCancellationRequested?n.CANCELED:(this._stickyModel=this.createStickyModel(g,v),n.VALID):this._invalid()).then(void 0,v=>((0,C.onUnexpectedError)(v),n.CANCELED)),modelPromise:d}}isModelValid(g){return!0}isProviderValid(){return!0}}let u=class extends m{constructor(g,d){super(g),this._languageFeaturesService=d}createModelFromProvider(g){return E.OutlineModel.create(this._languageFeaturesService.documentSymbolProvider,this._editor.getModel(),g)}createStickyModel(g,d){var v;const{stickyOutlineElement:_,providerID:S}=this._stickyModelFromOutlineModel(d,(v=this._stickyModel)===null||v===void 0?void 0:v.outlineProviderId),L=this._editor.getModel();return new o.StickyModel(L.uri,L.getVersionId(),_,S)}isModelValid(g){return g&&g.children.size>0}_stickyModelFromOutlineModel(g,d){let v;if(s.Iterable.first(g.children.values())instanceof E.OutlineGroup){const I=s.Iterable.find(g.children.values(),T=>T.id===d);if(I)v=I.children;else{let T="",N=-1,A;for(const[O,M]of g.children.entries()){const R=this._findSumOfRangesOfGroup(M);R>N&&(A=M,N=R,T=M.id)}d=T,v=A.children}}else v=g.children;const _=[],S=Array.from(v.values()).sort((I,T)=>{const N=new o.StickyRange(I.symbol.range.startLineNumber,I.symbol.range.endLineNumber),A=new o.StickyRange(T.symbol.range.startLineNumber,T.symbol.range.endLineNumber);return this._comparator(N,A)});for(const I of S)_.push(this._stickyModelFromOutlineElement(I,I.symbol.selectionRange.startLineNumber));return{stickyOutlineElement:new o.StickyElement(void 0,_,void 0),providerID:d}}_stickyModelFromOutlineElement(g,d){const v=[];for(const S of g.children.values())if(S.symbol.selectionRange.startLineNumber!==S.symbol.range.endLineNumber)if(S.symbol.selectionRange.startLineNumber!==d)v.push(this._stickyModelFromOutlineElement(S,S.symbol.selectionRange.startLineNumber));else for(const L of S.children.values())v.push(this._stickyModelFromOutlineElement(L,S.symbol.selectionRange.startLineNumber));v.sort((S,L)=>this._comparator(S.range,L.range));const _=new o.StickyRange(g.symbol.selectionRange.startLineNumber,g.symbol.range.endLineNumber);return new o.StickyElement(_,v,void 0)}_comparator(g,d){return g.startLineNumber!==d.startLineNumber?g.startLineNumber-d.startLineNumber:d.endLineNumber-g.endLineNumber}_findSumOfRangesOfGroup(g){let d=0;for(const v of g.children.values())d+=this._findSumOfRangesOfGroup(v);return g instanceof E.OutlineElement?d+g.symbol.range.endLineNumber-g.symbol.selectionRange.startLineNumber:d}};u=Ie([ue(1,k.ILanguageFeaturesService)],u);class r extends m{constructor(g){super(g),this._foldingLimitReporter=new y.RangesLimitReporter(g)}createStickyModel(g,d){const v=this._fromFoldingRegions(d),_=this._editor.getModel();return new o.StickyModel(_.uri,_.getVersionId(),v,void 0)}isModelValid(g){return g!==null}_fromFoldingRegions(g){const d=g.length,v=[],_=new o.StickyElement(void 0,[],void 0);for(let S=0;S<d;S++){const L=g.getParentIndex(S);let I;L!==-1?I=v[L]:I=_;const T=new o.StickyElement(new o.StickyRange(g.getStartLineNumber(S),g.getEndLineNumber(S)+1),[],I);I.children.push(T),v.push(T)}return _}}let a=class extends r{constructor(g,d){super(g),this._languageConfigurationService=d,this.provider=this._register(new w.IndentRangeProvider(g.getModel(),this._languageConfigurationService,this._foldingLimitReporter))}async createModelFromProvider(g){return this.provider.compute(g)}};a=Ie([ue(1,b.ILanguageConfigurationService)],a);let h=class extends r{constructor(g,d,v){super(g),this._languageFeaturesService=v;const _=y.FoldingController.getFoldingRangeProviders(this._languageFeaturesService,g.getModel());_.length>0&&(this.provider=this._register(new p.SyntaxRangeProvider(g.getModel(),_,d,this._foldingLimitReporter,void 0)))}isProviderValid(){return this.provider!==void 0}async createModelFromProvider(g){var d,v;return(v=(d=this.provider)===null||d===void 0?void 0:d.compute(g))!==null&&v!==void 0?v:null}};h=Ie([ue(2,k.ILanguageFeaturesService)],h)}),define(ie[963],ne([1,0,2,18,19,15,13,7,34,962]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyLineCandidateProvider=e.StickyLineCandidate=void 0;class C{constructor(i,t,n){this.startLineNumber=i,this.endLineNumber=t,this.nestingDepth=n}}e.StickyLineCandidate=C;let o=class extends f.Disposable{constructor(i,t,n){super(),this._languageFeaturesService=t,this._languageConfigurationService=n,this._onDidChangeStickyScroll=this._register(new p.Emitter),this.onDidChangeStickyScroll=this._onDidChangeStickyScroll.event,this._model=null,this._cts=null,this._stickyModelProvider=null,this._editor=i,this._sessionStore=this._register(new f.DisposableStore),this._updateSoon=this._register(new D.RunOnceScheduler(()=>this.update(),50)),this._register(this._editor.onDidChangeConfiguration(c=>{c.hasChanged(115)&&this.readConfiguration()})),this.readConfiguration()}readConfiguration(){this._sessionStore.clear(),this._editor.getOption(115).enabled&&(this._sessionStore.add(this._editor.onDidChangeModel(()=>{this._model=null,this.updateStickyModelProvider(),this._onDidChangeStickyScroll.fire(),this.update()})),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this.update())),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this.update())),this._sessionStore.add((0,f.toDisposable)(()=>{var t;(t=this._stickyModelProvider)===null||t===void 0||t.dispose(),this._stickyModelProvider=null})),this.updateStickyModelProvider(),this.update())}getVersionId(){var i;return(i=this._model)===null||i===void 0?void 0:i.version}updateStickyModelProvider(){var i;(i=this._stickyModelProvider)===null||i===void 0||i.dispose(),this._stickyModelProvider=null;const t=this._editor;t.hasModel()&&(this._stickyModelProvider=new b.StickyModelProvider(t,()=>this._updateSoon.schedule(),this._languageConfigurationService,this._languageFeaturesService))}async update(){var i;(i=this._cts)===null||i===void 0||i.dispose(!0),this._cts=new E.CancellationTokenSource,await this.updateStickyModel(this._cts.token),this._onDidChangeStickyScroll.fire()}async updateStickyModel(i){if(!this._editor.hasModel()||!this._stickyModelProvider||this._editor.getModel().isTooLargeForTokenization()){this._model=null;return}const t=await this._stickyModelProvider.update(i);i.isCancellationRequested||(this._model=t)}updateIndex(i){return i===-1?i=0:i<0&&(i=-i-2),i}getCandidateStickyLinesIntersectingFromStickyModel(i,t,n,c,m){if(t.children.length===0)return;let u=m;const r=[];for(let l=0;l<t.children.length;l++){const g=t.children[l];g.range&&r.push(g.range.startLineNumber)}const a=this.updateIndex((0,y.binarySearch)(r,i.startLineNumber,(l,g)=>l-g)),h=this.updateIndex((0,y.binarySearch)(r,i.startLineNumber+c,(l,g)=>l-g));for(let l=a;l<=h;l++){const g=t.children[l];if(!g)return;if(g.range){const d=g.range.startLineNumber,v=g.range.endLineNumber;i.startLineNumber<=v+1&&d-1<=i.endLineNumber&&d!==u&&(u=d,n.push(new C(d,v-1,c+1)),this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,n,c+1,d))}else this.getCandidateStickyLinesIntersectingFromStickyModel(i,g,n,c,m)}}getCandidateStickyLinesIntersecting(i){var t,n;if(!(!((t=this._model)===null||t===void 0)&&t.element))return[];let c=[];this.getCandidateStickyLinesIntersectingFromStickyModel(i,this._model.element,c,0,-1);const m=(n=this._editor._getViewModel())===null||n===void 0?void 0:n.getHiddenAreas();if(m)for(const u of m)c=c.filter(r=>!(r.startLineNumber>=u.startLineNumber&&r.endLineNumber<=u.endLineNumber+1));return c}};e.StickyLineCandidateProvider=o,e.StickyLineCandidateProvider=o=Ie([ue(1,k.ILanguageFeaturesService),ue(2,w.ILanguageConfigurationService)],o)}),define(ie[964],ne([1,0,6,99,13,2,31,274,179,9,112,146,131,408,507]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollWidget=e.StickyScrollWidgetState=void 0;class t{constructor(d,v,_,S=null){this.startLineNumbers=d,this.endLineNumbers=v,this.lastLineRelativePosition=_,this.showEndForLine=S}equals(d){return!!d&&this.lastLineRelativePosition===d.lastLineRelativePosition&&this.showEndForLine===d.showEndForLine&&(0,E.equals)(this.startLineNumbers,d.startLineNumbers)&&(0,E.equals)(this.endLineNumbers,d.endLineNumbers)}}e.StickyScrollWidgetState=t;const n=(0,k.createTrustedTypesPolicy)("stickyScrollViewLayer",{createHTML:g=>g}),c="data-sticky-line-index",m="data-sticky-is-line",u="data-sticky-is-line-number",r="data-sticky-is-folding-icon";class a extends D.Disposable{constructor(d){super(),this._editor=d,this._foldingIconStore=new D.DisposableStore,this._rootDomNode=document.createElement("div"),this._lineNumbersDomNode=document.createElement("div"),this._linesDomNodeScrollable=document.createElement("div"),this._linesDomNode=document.createElement("div"),this._lineHeight=this._editor.getOption(67),this._renderedStickyLines=[],this._lineNumbers=[],this._lastLineRelativePosition=0,this._minContentWidthInPx=0,this._isOnGlyphMargin=!1,this._lineNumbersDomNode.className="sticky-widget-line-numbers",this._lineNumbersDomNode.setAttribute("role","none"),this._linesDomNode.className="sticky-widget-lines",this._linesDomNode.setAttribute("role","list"),this._linesDomNodeScrollable.className="sticky-widget-lines-scrollable",this._linesDomNodeScrollable.appendChild(this._linesDomNode),this._rootDomNode.className="sticky-widget",this._rootDomNode.classList.toggle("peek",d instanceof w.EmbeddedCodeEditorWidget),this._rootDomNode.appendChild(this._lineNumbersDomNode),this._rootDomNode.appendChild(this._linesDomNodeScrollable);const v=()=>{this._linesDomNode.style.left=this._editor.getOption(115).scrollWithEditor?`-${this._editor.getScrollLeft()}px`:"0px"};this._register(this._editor.onDidChangeConfiguration(_=>{_.hasChanged(115)&&v(),_.hasChanged(67)&&(this._lineHeight=this._editor.getOption(67))})),this._register(this._editor.onDidScrollChange(_=>{_.scrollLeftChanged&&v(),_.scrollWidthChanged&&this._updateWidgetWidth()})),this._register(this._editor.onDidChangeModel(()=>{v(),this._updateWidgetWidth()})),this._register(this._foldingIconStore),v(),this._register(this._editor.onDidLayoutChange(_=>{this._updateWidgetWidth()})),this._updateWidgetWidth()}get lineNumbers(){return this._lineNumbers}get lineNumberCount(){return this._lineNumbers.length}getRenderedStickyLine(d){return this._renderedStickyLines.find(v=>v.lineNumber===d)}getCurrentLines(){return this._lineNumbers}setState(d,v,_){if(_===void 0&&(!this._previousState&&!d||this._previousState&&this._previousState.equals(d)))return;const S=this._isWidgetHeightZero(d),L=S?void 0:d,I=S?0:this._findLineToRebuildWidgetFrom(d,_);this._renderRootNode(L,v,I),this._previousState=d}_isWidgetHeightZero(d){if(!d)return!0;const v=d.startLineNumbers.length*this._lineHeight+d.lastLineRelativePosition;if(v>0){this._lastLineRelativePosition=d.lastLineRelativePosition;const _=[...d.startLineNumbers];d.showEndForLine!==null&&(_[d.showEndForLine]=d.endLineNumbers[d.showEndForLine]),this._lineNumbers=_}else this._lastLineRelativePosition=0,this._lineNumbers=[];return v===0}_findLineToRebuildWidgetFrom(d,v){if(!d||!this._previousState)return 0;if(v!==void 0)return v;const _=this._previousState,S=d.startLineNumbers.findIndex(L=>!_.startLineNumbers.includes(L));return S===-1?0:S}_updateWidgetWidth(){const d=this._editor.getLayoutInfo(),v=d.contentLeft;this._lineNumbersDomNode.style.width=`${v}px`,this._linesDomNodeScrollable.style.setProperty("--vscode-editorStickyScroll-scrollableWidth",`${this._editor.getScrollWidth()-d.verticalScrollbarWidth}px`),this._rootDomNode.style.width=`${d.width-d.verticalScrollbarWidth}px`}_clearStickyLinesFromLine(d){this._foldingIconStore.clear();for(let v=d;v<this._renderedStickyLines.length;v++){const _=this._renderedStickyLines[v];_.lineNumberDomNode.remove(),_.lineDomNode.remove()}this._renderedStickyLines=this._renderedStickyLines.slice(0,d),this._rootDomNode.style.display="none"}_useFoldingOpacityTransition(d){this._lineNumbersDomNode.style.setProperty("--vscode-editorStickyScroll-foldingOpacityTransition",`opacity ${d?.5:0}s`)}_setFoldingIconsVisibility(d){for(const v of this._renderedStickyLines){const _=v.foldingIcon;_&&_.setVisible(d?!0:_.isCollapsed)}}async _renderRootNode(d,v,_){if(this._clearStickyLinesFromLine(_),!d)return;for(const T of this._renderedStickyLines)this._updateTopAndZIndexOfStickyLine(T);const S=this._editor.getLayoutInfo(),L=this._lineNumbers.slice(_);for(const[T,N]of L.entries()){const A=this._renderChildNode(T+_,N,v,S);A&&(this._linesDomNode.appendChild(A.lineDomNode),this._lineNumbersDomNode.appendChild(A.lineNumberDomNode),this._renderedStickyLines.push(A))}v&&(this._setFoldingHoverListeners(),this._useFoldingOpacityTransition(!this._isOnGlyphMargin));const I=this._lineNumbers.length*this._lineHeight+this._lastLineRelativePosition;this._rootDomNode.style.display="block",this._lineNumbersDomNode.style.height=`${I}px`,this._linesDomNodeScrollable.style.height=`${I}px`,this._rootDomNode.style.height=`${I}px`,this._rootDomNode.style.marginLeft="0px",this._minContentWidthInPx=Math.max(...this._renderedStickyLines.map(T=>T.scrollWidth))+S.verticalScrollbarWidth,this._editor.layoutOverlayWidget(this)}_setFoldingHoverListeners(){this._editor.getOption(110)==="mouseover"&&(this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_ENTER,()=>{this._isOnGlyphMargin=!0,this._setFoldingIconsVisibility(!0)})),this._foldingIconStore.add(f.addDisposableListener(this._lineNumbersDomNode,f.EventType.MOUSE_LEAVE,()=>{this._isOnGlyphMargin=!1,this._useFoldingOpacityTransition(!0),this._setFoldingIconsVisibility(!1)})))}_renderChildNode(d,v,_,S){const L=this._editor._getViewModel();if(!L)return;const I=L.coordinatesConverter.convertModelPositionToViewPosition(new b.Position(v,1)).lineNumber,T=L.getViewLineRenderingData(I),N=this._editor.getOption(68);let A;try{A=o.LineDecoration.filter(T.inlineDecorations,I,T.minColumn,T.maxColumn)}catch{A=[]}const O=new s.RenderLineInput(!0,!0,T.content,T.continuesWithWrappedLine,T.isBasicASCII,T.containsRTL,0,T.tokens,A,T.tabSize,T.startVisibleColumn,1,1,1,500,"none",!0,!0,null),M=new C.StringBuilder(2e3),R=(0,s.renderViewLine)(O,M);let x;n?x=n.createHTML(M.build()):x=M.build();const F=document.createElement("span");F.setAttribute(c,String(d)),F.setAttribute(m,""),F.setAttribute("role","listitem"),F.tabIndex=0,F.className="sticky-line-content",F.classList.add(`stickyLine${v}`),F.style.lineHeight=`${this._lineHeight}px`,F.innerHTML=x;const W=document.createElement("span");W.setAttribute(c,String(d)),W.setAttribute(u,""),W.className="sticky-line-number",W.style.lineHeight=`${this._lineHeight}px`;const H=S.contentLeft;W.style.width=`${H}px`;const z=document.createElement("span");N.renderType===1||N.renderType===3&&v%10===0?z.innerText=v.toString():N.renderType===2&&(z.innerText=Math.abs(v-this._editor.getPosition().lineNumber).toString()),z.className="sticky-line-number-inner",z.style.lineHeight=`${this._lineHeight}px`,z.style.width=`${S.lineNumbersWidth}px`,z.style.paddingLeft=`${S.lineNumbersLeft}px`,W.appendChild(z);const j=this._renderFoldingIconForLine(_,v);j&&W.appendChild(j.domNode),this._editor.applyFontInfo(F),this._editor.applyFontInfo(z),W.style.lineHeight=`${this._lineHeight}px`,F.style.lineHeight=`${this._lineHeight}px`,W.style.height=`${this._lineHeight}px`,F.style.height=`${this._lineHeight}px`;const K=new h(d,v,F,W,j,R.characterMapping,F.scrollWidth);return this._updateTopAndZIndexOfStickyLine(K)}_updateTopAndZIndexOfStickyLine(d){var v;const _=d.index,S=d.lineDomNode,L=d.lineNumberDomNode,I=_===this._lineNumbers.length-1,T="0",N="1";S.style.zIndex=I?T:N,L.style.zIndex=I?T:N;const A=`${_*this._lineHeight+this._lastLineRelativePosition+(!((v=d.foldingIcon)===null||v===void 0)&&v.isCollapsed?1:0)}px`,O=`${_*this._lineHeight}px`;return S.style.top=I?A:O,L.style.top=I?A:O,d}_renderFoldingIconForLine(d,v){const _=this._editor.getOption(110);if(!d||_==="never")return;const S=d.regions,L=S.findRange(v),I=S.getStartLineNumber(L);if(!(v===I))return;const N=S.isCollapsed(L),A=new l(N,I,S.getEndLineNumber(L),this._lineHeight);return A.setVisible(this._isOnGlyphMargin?!0:N||_==="always"),A.domNode.setAttribute(r,""),A}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this._rootDomNode}getPosition(){return{preference:null}}getMinContentWidthInPx(){return this._minContentWidthInPx}focusLineWithIndex(d){0<=d&&d<this._renderedStickyLines.length&&this._renderedStickyLines[d].lineDomNode.focus()}getEditorPositionFromNode(d){if(!d||d.children.length>0)return null;const v=this._getRenderedStickyLineFromChildDomNode(d);if(!v)return null;const _=(0,p.getColumnOfNodeOffset)(v.characterMapping,d,0);return new b.Position(v.lineNumber,_)}getLineNumberFromChildDomNode(d){var v,_;return(_=(v=this._getRenderedStickyLineFromChildDomNode(d))===null||v===void 0?void 0:v.lineNumber)!==null&&_!==void 0?_:null}_getRenderedStickyLineFromChildDomNode(d){const v=this.getLineIndexFromChildDomNode(d);return v===null||v<0||v>=this._renderedStickyLines.length?null:this._renderedStickyLines[v]}getLineIndexFromChildDomNode(d){const v=this._getAttributeValue(d,c);return v?parseInt(v,10):null}isInStickyLine(d){return this._getAttributeValue(d,m)!==void 0}isInFoldingIconDomNode(d){return this._getAttributeValue(d,r)!==void 0}_getAttributeValue(d,v){for(;d&&d!==this._rootDomNode;){const _=d.getAttribute(v);if(_!==null)return _;d=d.parentElement}}}e.StickyScrollWidget=a;class h{constructor(d,v,_,S,L,I,T){this.index=d,this.lineNumber=v,this.lineDomNode=_,this.lineNumberDomNode=S,this.foldingIcon=L,this.characterMapping=I,this.scrollWidth=T}}class l{constructor(d,v,_,S){this.isCollapsed=d,this.foldingStartLine=v,this.foldingEndLine=_,this.dimension=S,this.domNode=document.createElement("div"),this.domNode.style.width=`${S}px`,this.domNode.style.height=`${S}px`,this.domNode.className=y.ThemeIcon.asClassName(d?i.foldingCollapsedIcon:i.foldingExpandedIcon)}setVisible(d){this.domNode.style.cursor=d?"pointer":"default",this.domNode.style.opacity=d?"1":"0"}}}),define(ie[965],ne([1,0,6,111,15,10,7,2,136,12,179,927,757,14,8,98,33,94,23,248,150,382,922,106,47,190,508,273]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d){"use strict";var v;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestContentWidget=e.SuggestWidget=e.editorSuggestWidgetSelectedBackground=void 0,(0,c.registerColor)("editorSuggestWidget.background",{dark:c.editorWidgetBackground,light:c.editorWidgetBackground,hcDark:c.editorWidgetBackground,hcLight:c.editorWidgetBackground},s.localize(0,null)),(0,c.registerColor)("editorSuggestWidget.border",{dark:c.editorWidgetBorder,light:c.editorWidgetBorder,hcDark:c.editorWidgetBorder,hcLight:c.editorWidgetBorder},s.localize(1,null));const _=(0,c.registerColor)("editorSuggestWidget.foreground",{dark:c.editorForeground,light:c.editorForeground,hcDark:c.editorForeground,hcLight:c.editorForeground},s.localize(2,null));(0,c.registerColor)("editorSuggestWidget.selectedForeground",{dark:c.quickInputListFocusForeground,light:c.quickInputListFocusForeground,hcDark:c.quickInputListFocusForeground,hcLight:c.quickInputListFocusForeground},s.localize(3,null)),(0,c.registerColor)("editorSuggestWidget.selectedIconForeground",{dark:c.quickInputListFocusIconForeground,light:c.quickInputListFocusIconForeground,hcDark:c.quickInputListFocusIconForeground,hcLight:c.quickInputListFocusIconForeground},s.localize(4,null)),e.editorSuggestWidgetSelectedBackground=(0,c.registerColor)("editorSuggestWidget.selectedBackground",{dark:c.quickInputListFocusBackground,light:c.quickInputListFocusBackground,hcDark:c.quickInputListFocusBackground,hcLight:c.quickInputListFocusBackground},s.localize(5,null)),(0,c.registerColor)("editorSuggestWidget.highlightForeground",{dark:c.listHighlightForeground,light:c.listHighlightForeground,hcDark:c.listHighlightForeground,hcLight:c.listHighlightForeground},s.localize(6,null)),(0,c.registerColor)("editorSuggestWidget.focusHighlightForeground",{dark:c.listFocusHighlightForeground,light:c.listFocusHighlightForeground,hcDark:c.listFocusHighlightForeground,hcLight:c.listFocusHighlightForeground},s.localize(7,null)),(0,c.registerColor)("editorSuggestWidgetStatus.foreground",{dark:(0,c.transparent)(_,.5),light:(0,c.transparent)(_,.5),hcDark:(0,c.transparent)(_,.5),hcLight:(0,c.transparent)(_,.5)},s.localize(8,null));class S{constructor(N,A){this._service=N,this._key=`suggestWidget.size/${A.getEditorType()}/${A instanceof C.EmbeddedCodeEditorWidget}`}restore(){var N;const A=(N=this._service.get(this._key,0))!==null&&N!==void 0?N:"";try{const O=JSON.parse(A);if(f.Dimension.is(O))return f.Dimension.lift(O)}catch{}}store(N){this._service.store(this._key,JSON.stringify(N),0,1)}reset(){this._service.remove(this._key,0)}}let L=v=class{constructor(N,A,O,M,R){this.editor=N,this._storageService=A,this._state=0,this._isAuto=!1,this._pendingLayout=new p.MutableDisposable,this._pendingShowDetails=new p.MutableDisposable,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new E.TimeoutTimer,this._disposables=new p.DisposableStore,this._onDidSelect=new y.PauseableEmitter,this._onDidFocus=new y.PauseableEmitter,this._onDidHide=new y.Emitter,this._onDidShow=new y.Emitter,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new y.Emitter,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new r.ResizableHTMLElement,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new I(this,N),this._persistedSize=new S(A,N);class x{constructor(U,G,te=!1,ee=!1){this.persistedSize=U,this.currentSize=G,this.persistHeight=te,this.persistWidth=ee}}let F;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),F=new x(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(K=>{var U,G,te,ee;if(this._resize(K.dimension.width,K.dimension.height),F&&(F.persistHeight=F.persistHeight||!!K.north||!!K.south,F.persistWidth=F.persistWidth||!!K.east||!!K.west),!!K.done){if(F){const{itemHeight:Y,defaultSize:P}=this.getLayoutInfo(),Z=Math.round(Y/2);let{width:re,height:ce}=this.element.size;(!F.persistHeight||Math.abs(F.currentSize.height-ce)<=Z)&&(ce=(G=(U=F.persistedSize)===null||U===void 0?void 0:U.height)!==null&&G!==void 0?G:P.height),(!F.persistWidth||Math.abs(F.currentSize.width-re)<=Z)&&(re=(ee=(te=F.persistedSize)===null||te===void 0?void 0:te.width)!==null&&ee!==void 0?ee:P.width),this._persistedSize.store(new f.Dimension(re,ce))}this._contentWidget.unlockPreference(),F=void 0}})),this._messageElement=f.append(this.element.domNode,f.$(".message")),this._listElement=f.append(this.element.domNode,f.$(".tree"));const W=this._disposables.add(R.createInstance(h.SuggestDetailsWidget,this.editor));W.onDidClose(this.toggleDetails,this,this._disposables),this._details=new h.SuggestDetailsOverlay(W,this.editor);const H=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(118).showIcons);H();const z=R.createInstance(l.ItemRenderer,this.editor);this._disposables.add(z),this._disposables.add(z.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.List("SuggestWidget",this._listElement,{getHeight:K=>this.getLayoutInfo().itemHeight,getTemplateId:K=>"suggestion"},[z],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>s.localize(11,null),getWidgetRole:()=>"listbox",getAriaLabel:K=>{let U=K.textLabel;if(typeof K.completion.label!="string"){const{detail:Y,description:P}=K.completion.label;Y&&P?U=s.localize(12,null,U,Y,P):Y?U=s.localize(13,null,U,Y):P&&(U=s.localize(14,null,U,P))}if(!K.isResolved||!this._isDetailsVisible())return U;const{documentation:G,detail:te}=K.completion,ee=b.format("{0}{1}",te||"",G?typeof G=="string"?G:G.value:"");return s.localize(15,null,U,ee)}}}),this._list.style((0,g.getListStyles)({listInactiveFocusBackground:e.editorSuggestWidgetSelectedBackground,listInactiveFocusOutline:c.activeContrastBorder})),this._status=R.createInstance(o.SuggestWidgetStatus,this.element.domNode,a.suggestWidgetStatusbarMenu);const j=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(118).showStatusBar);j(),this._disposables.add(M.onDidColorThemeChange(K=>this._onThemeChange(K))),this._onThemeChange(M.getColorTheme()),this._disposables.add(this._list.onMouseDown(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onTap(K=>this._onListMouseDownOrTap(K))),this._disposables.add(this._list.onDidChangeSelection(K=>this._onListSelection(K))),this._disposables.add(this._list.onDidChangeFocus(K=>this._onListFocus(K))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(K=>{K.hasChanged(118)&&(j(),H()),this._completionModel&&(K.hasChanged(50)||K.hasChanged(119)||K.hasChanged(120))&&this._list.splice(0,this._list.length,this._completionModel.items)})),this._ctxSuggestWidgetVisible=a.Context.Visible.bindTo(O),this._ctxSuggestWidgetDetailsVisible=a.Context.DetailsVisible.bindTo(O),this._ctxSuggestWidgetMultipleSuggestions=a.Context.MultipleSuggestions.bindTo(O),this._ctxSuggestWidgetHasFocusedSuggestion=a.Context.HasFocusedSuggestion.bindTo(O),this._disposables.add(f.addStandardDisposableListener(this._details.widget.domNode,"keydown",K=>{this._onDetailsKeydown.fire(K)})),this._disposables.add(this.editor.onMouseDown(K=>this._onEditorMouseDown(K)))}dispose(){var N;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._pendingLayout.dispose(),this._pendingShowDetails.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(N){this._details.widget.domNode.contains(N.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(N.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(N){typeof N.element>"u"||typeof N.index>"u"||(N.browserEvent.preventDefault(),N.browserEvent.stopPropagation(),this._select(N.element,N.index))}_onListSelection(N){N.elements.length&&this._select(N.elements[0],N.indexes[0])}_select(N,A){const O=this._completionModel;O&&(this._onDidSelect.fire({item:N,index:A,model:O}),this.editor.focus())}_onThemeChange(N){this._details.widget.borderWidth=(0,m.isHighContrast)(N.type)?2:1}_onListFocus(N){var A;if(this._ignoreFocusEvents)return;if(!N.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const O=N.elements[0],M=N.indexes[0];O!==this._focusedItem&&((A=this._currentSuggestionDetails)===null||A===void 0||A.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=O,this._list.reveal(M),this._currentSuggestionDetails=(0,E.createCancelablePromise)(async R=>{const x=(0,E.disposableTimeout)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),F=R.onCancellationRequested(()=>x.dispose());try{return await O.resolve(R)}finally{x.dispose(),F.dispose()}}),this._currentSuggestionDetails.then(()=>{M>=this._list.length||O!==this._list.element(M)||(this._ignoreFocusEvents=!0,this._list.splice(M,1,[O]),this._list.setFocus([M]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:(0,l.getAriaId)(M)}))}).catch(D.onUnexpectedError)),this._onDidFocus.fire({item:O,index:M,model:this._completionModel})}_setState(N){if(this._state!==N)switch(this._state=N,this.element.domNode.classList.toggle("frozen",N===4),this.element.domNode.classList.remove("message"),N){case 0:f.hide(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=v.LOADING_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,d.status)(v.LOADING_MESSAGE);break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=v.NO_SUGGESTIONS_MESSAGE,f.hide(this._listElement,this._status.element),f.show(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0,(0,d.status)(v.NO_SUGGESTIONS_MESSAGE);break;case 3:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 4:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._show();break;case 5:f.hide(this._messageElement),f.show(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(N,A){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!N,this._isAuto||(this._loadingTimeout=(0,E.disposableTimeout)(()=>this._setState(1),A)))}showSuggestions(N,A,O,M,R){var x,F;if(this._contentWidget.setPosition(this.editor.getPosition()),(x=this._loadingTimeout)===null||x===void 0||x.dispose(),(F=this._currentSuggestionDetails)===null||F===void 0||F.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==N&&(this._completionModel=N),O&&this._state!==2&&this._state!==0){this._setState(4);return}const W=this._completionModel.items.length,H=W===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(W>1),H){this._setState(M?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._onDidFocus.pause(),this._onDidSelect.pause();try{this._list.splice(0,this._list.length,this._completionModel.items),this._setState(O?4:3),this._list.reveal(A,0),this._list.setFocus(R?[]:[A])}finally{this._onDidFocus.resume(),this._onDidSelect.resume()}this._pendingLayout.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingLayout.clear(),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")})}focusSelected(){this._list.length>0&&this._list.setFocus([0])}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel&&this._list.getFocus().length>0)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._pendingShowDetails.clear(),this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):((0,h.canExpandCompletionItem)(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(N){this._pendingShowDetails.value=f.runAtThisOrScheduleAtNextAnimationFrame(f.getWindow(this.element.domNode),()=>{this._pendingShowDetails.clear(),this._details.show(),N?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._details.widget.isEmpty?this._details.hide():(this._positionDetails(),this.element.domNode.classList.add("shows-details")),this.editor.focus()})}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var N;this._pendingLayout.clear(),this._pendingShowDetails.clear(),(N=this._loadingTimeout)===null||N===void 0||N.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const A=this._persistedSize.restore(),O=Math.ceil(this.getLayoutInfo().itemHeight*4.3);A&&A.height<O&&this._persistedSize.store(A.with(void 0,O))}isFrozen(){return this._state===4}_afterRender(N){if(N===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&!this._details.widget.isEmpty&&this._details.show(),this._positionDetails())}_layout(N){var A,O,M;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const R=f.getClientArea(this.element.domNode.ownerDocument.body),x=this.getLayoutInfo();N||(N=x.defaultSize);let F=N.height,W=N.width;if(this._status.element.style.height=`${x.itemHeight}px`,this._state===2||this._state===1)F=x.itemHeight+x.borderHeight,W=x.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new f.Dimension(W,F),this._contentWidget.setPreference(2);else{const H=R.width-x.borderHeight-2*x.horizontalPadding;W>H&&(W=H);const z=this._completionModel?this._completionModel.stats.pLabelLen*x.typicalHalfwidthCharacterWidth:W,j=x.statusBarHeight+this._list.contentHeight+x.borderHeight,K=x.itemHeight+x.statusBarHeight,U=f.getDomNodePagePosition(this.editor.getDomNode()),G=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),te=U.top+G.top+G.height,ee=Math.min(R.height-te-x.verticalPadding,j),Y=U.top+G.top-x.verticalPadding,P=Math.min(Y,j);let Z=Math.min(Math.max(P,ee)+x.borderHeight,j);F===((A=this._cappedHeight)===null||A===void 0?void 0:A.capped)&&(F=this._cappedHeight.wanted),F<K&&(F=K),F>Z&&(F=Z),F>ee||this._forceRenderingAbove&&Y>150?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),Z=P):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),Z=ee),this.element.preferredSize=new f.Dimension(z,x.defaultSize.height),this.element.maxSize=new f.Dimension(H,Z),this.element.minSize=new f.Dimension(220,K),this._cappedHeight=F===j?{wanted:(M=(O=this._cappedHeight)===null||O===void 0?void 0:O.wanted)!==null&&M!==void 0?M:N.height,capped:F}:void 0}this._resize(W,F)}_resize(N,A){const{width:O,height:M}=this.element.maxSize;N=Math.min(O,N),A=Math.min(M,A);const{statusBarHeight:R}=this.getLayoutInfo();this._list.layout(A-R,N),this._listElement.style.height=`${A-R}px`,this.element.layout(A,N),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var N;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((N=this._contentWidget.getPosition())===null||N===void 0?void 0:N.preference[0])===2)}getLayoutInfo(){const N=this.editor.getOption(50),A=(0,w.clamp)(this.editor.getOption(120)||N.lineHeight,8,1e3),O=!this.editor.getOption(118).showStatusBar||this._state===2||this._state===1?0:A,M=this._details.widget.borderWidth,R=2*M;return{itemHeight:A,statusBarHeight:O,borderWidth:M,borderHeight:R,typicalHalfwidthCharacterWidth:N.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new f.Dimension(430,O+12*A+R)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(N){this._storageService.store("expandSuggestionDocs",N,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};e.SuggestWidget=L,L.LOADING_MESSAGE=s.localize(9,null),L.NO_SUGGESTIONS_MESSAGE=s.localize(10,null),e.SuggestWidget=L=v=Ie([ue(1,n.IStorageService),ue(2,i.IContextKeyService),ue(3,u.IThemeService),ue(4,t.IInstantiationService)],L);class I{constructor(N,A){this._widget=N,this._editor=A,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:N,width:A}=this._widget.element.size,{borderWidth:O,horizontalPadding:M}=this._widget.getLayoutInfo();return new f.Dimension(A+2*O+M,N+2*O)}afterRender(N){this._widget._afterRender(N)}setPreference(N){this._preferenceLocked||(this._preference=N)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(N){this._position=N}}e.SuggestContentWidget=I}),define(ie[409],ne([1,0,42,37,28,766,33,23,512]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getHighlightDecorationOptions=u,e.getSelectionHighlightDecorationOptions=r;const w=(0,y.registerColor)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},D.localize(0,null),!0);(0,y.registerColor)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},D.localize(1,null),!0),(0,y.registerColor)("editor.wordHighlightTextBackground",{light:w,dark:w,hcDark:w,hcLight:w},D.localize(2,null),!0);const b=(0,y.registerColor)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},D.localize(3,null));(0,y.registerColor)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:y.activeContrastBorder,hcLight:y.activeContrastBorder},D.localize(4,null)),(0,y.registerColor)("editor.wordHighlightTextBorder",{light:b,dark:b,hcDark:b,hcLight:b},D.localize(5,null));const C=(0,y.registerColor)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},D.localize(6,null),!0),o=(0,y.registerColor)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},D.localize(7,null),!0),s=(0,y.registerColor)("editorOverviewRuler.wordHighlightTextForeground",{dark:y.overviewRulerSelectionHighlightForeground,light:y.overviewRulerSelectionHighlightForeground,hcDark:y.overviewRulerSelectionHighlightForeground,hcLight:y.overviewRulerSelectionHighlightForeground},D.localize(8,null),!0),i=k.ModelDecorationOptions.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,p.themeColorFromId)(o),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),t=k.ModelDecorationOptions.register({description:"word-highlight-text",stickiness:1,className:"wordHighlightText",overviewRuler:{color:(0,p.themeColorFromId)(s),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),n=k.ModelDecorationOptions.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,p.themeColorFromId)(y.overviewRulerSelectionHighlightForeground),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}}),c=k.ModelDecorationOptions.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),m=k.ModelDecorationOptions.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,p.themeColorFromId)(C),position:f.OverviewRulerLane.Center},minimap:{color:(0,p.themeColorFromId)(y.minimapSelectionOccurrenceHighlight),position:1}});function u(a){return a===E.DocumentHighlightKind.Write?i:a===E.DocumentHighlightKind.Text?t:m}function r(a){return a?c:n}(0,p.registerThemingParticipant)((a,h)=>{const l=a.getColor(y.editorSelectionHighlight);l&&h.addRule(`.monaco-editor .selectionHighlight { background-color: ${l.transparent(.5)}; }`)})}),define(ie[966],ne([1,0,47,15,69,2,16,229,5,24,21,407,743,29,14,18,409,8]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.FocusPreviousCursor=e.FocusNextCursor=e.SelectionHighlighter=e.CompatChangeAll=e.SelectHighlightsAction=e.MoveSelectionToPreviousFindMatchAction=e.MoveSelectionToNextFindMatchAction=e.AddSelectionToPreviousFindMatchAction=e.AddSelectionToNextFindMatchAction=e.MultiCursorSelectionControllerAction=e.MultiCursorSelectionController=e.MultiCursorSession=e.MultiCursorSessionResult=e.InsertCursorBelow=e.InsertCursorAbove=void 0;function r(j,K){const U=K.filter(G=>!j.find(te=>te.equals(G)));if(U.length>=1){const G=U.map(ee=>`line ${ee.viewState.position.lineNumber} column ${ee.viewState.position.column}`).join(", "),te=U.length===1?s.localize(0,null,G):s.localize(1,null,G);(0,f.status)(te)}}class a extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAbove",label:s.localize(2,null),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(3,null),order:2}})}run(K,U,G){if(!U.hasModel())return;let te=!0;G&&G.logicalLine===!1&&(te=!1);const ee=U._getViewModel();if(ee.cursorConfig.readOnly)return;ee.model.pushStackElement();const Y=ee.getCursorStates();ee.setCursorStates(G.source,3,p.CursorMoveCommands.addCursorUp(ee,Y,te)),ee.revealTopMostCursor(G.source),r(Y,ee.getCursorStates())}}e.InsertCursorAbove=a;class h extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorBelow",label:s.localize(4,null),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(5,null),order:3}})}run(K,U,G){if(!U.hasModel())return;let te=!0;G&&G.logicalLine===!1&&(te=!1);const ee=U._getViewModel();if(ee.cursorConfig.readOnly)return;ee.model.pushStackElement();const Y=ee.getCursorStates();ee.setCursorStates(G.source,3,p.CursorMoveCommands.addCursorDown(ee,Y,te)),ee.revealBottomMostCursor(G.source),r(Y,ee.getCursorStates())}}e.InsertCursorBelow=h;class l extends y.EditorAction{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:s.localize(6,null),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(7,null),order:4}})}getCursorsForSelection(K,U,G){if(!K.isEmpty()){for(let te=K.startLineNumber;te<K.endLineNumber;te++){const ee=U.getLineMaxColumn(te);G.push(new b.Selection(te,ee,te,ee))}K.endColumn>1&&G.push(new b.Selection(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn))}}run(K,U){if(!U.hasModel())return;const G=U.getModel(),te=U.getSelections(),ee=U._getViewModel(),Y=ee.getCursorStates(),P=[];te.forEach(Z=>this.getCursorsForSelection(Z,G,P)),P.length>0&&U.setSelections(P),r(Y,ee.getCursorStates())}}class g extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToBottom",label:s.localize(8,null),alias:"Add Cursors To Bottom",precondition:void 0})}run(K,U){if(!U.hasModel())return;const G=U.getSelections(),te=U.getModel().getLineCount(),ee=[];for(let Z=G[0].startLineNumber;Z<=te;Z++)ee.push(new b.Selection(Z,G[0].startColumn,Z,G[0].endColumn));const Y=U._getViewModel(),P=Y.getCursorStates();ee.length>0&&U.setSelections(ee),r(P,Y.getCursorStates())}}class d extends y.EditorAction{constructor(){super({id:"editor.action.addCursorsToTop",label:s.localize(9,null),alias:"Add Cursors To Top",precondition:void 0})}run(K,U){if(!U.hasModel())return;const G=U.getSelections(),te=[];for(let P=G[0].startLineNumber;P>=1;P--)te.push(new b.Selection(P,G[0].startColumn,P,G[0].endColumn));const ee=U._getViewModel(),Y=ee.getCursorStates();te.length>0&&U.setSelections(te),r(Y,ee.getCursorStates())}}class v{constructor(K,U,G){this.selections=K,this.revealRange=U,this.revealScrollType=G}}e.MultiCursorSessionResult=v;class _{static create(K,U){if(!K.hasModel())return null;const G=U.getState();if(!K.hasTextFocus()&&G.isRevealed&&G.searchString.length>0)return new _(K,U,!1,G.searchString,G.wholeWord,G.matchCase,null);let te=!1,ee,Y;const P=K.getSelections();P.length===1&&P[0].isEmpty()?(te=!0,ee=!0,Y=!0):(ee=G.wholeWord,Y=G.matchCase);const Z=K.getSelection();let re,ce=null;if(Z.isEmpty()){const he=K.getConfiguredWordAtPosition(Z.getStartPosition());if(!he)return null;re=he.word,ce=new b.Selection(Z.startLineNumber,he.startColumn,Z.startLineNumber,he.endColumn)}else re=K.getModel().getValueInRange(Z).replace(/\r\n/g,`
`);return new _(K,U,te,re,ee,Y,ce)}constructor(K,U,G,te,ee,Y,P){this._editor=K,this.findController=U,this.isDisconnectedFromFindController=G,this.searchText=te,this.wholeWord=ee,this.matchCase=Y,this.currentMatch=P}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const U=this._editor.getSelections();return new v(U.concat(K),K,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const K=this._getNextMatch();if(!K)return null;const U=this._editor.getSelections();return new v(U.slice(0,U.length-1).concat(K),K,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const te=this.currentMatch;return this.currentMatch=null,te}this.findController.highlightFindOptions();const K=this._editor.getSelections(),U=K[K.length-1],G=this._editor.getModel().findNextMatch(this.searchText,U.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return G?new b.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const U=this._editor.getSelections();return new v(U.concat(K),K,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const K=this._getPreviousMatch();if(!K)return null;const U=this._editor.getSelections();return new v(U.slice(0,U.length-1).concat(K),K,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const te=this.currentMatch;return this.currentMatch=null,te}this.findController.highlightFindOptions();const K=this._editor.getSelections(),U=K[K.length-1],G=this._editor.getModel().findPreviousMatch(this.searchText,U.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1);return G?new b.Selection(G.range.startLineNumber,G.range.startColumn,G.range.endLineNumber,G.range.endColumn):null}selectAll(K){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const U=this._editor.getModel();return K?U.findMatches(this.searchText,K,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824):U.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(131):null,!1,1073741824)}}e.MultiCursorSession=_;class S extends D.Disposable{static get(K){return K.getContribution(S.ID)}constructor(K){super(),this._sessionDispose=this._register(new D.DisposableStore),this._editor=K,this._ignoreSelectionChange=!1,this._session=null}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(K){if(!this._session){const U=_.create(this._editor,K);if(!U)return;this._session=U;const G={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(G.wholeWordOverride=1,G.matchCaseOverride=1,G.isRegexOverride=2),K.getState().change(G,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(te=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(K.getState().onFindReplaceStateChange(te=>{(te.matchCase||te.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const K={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(K,!1)}this._session=null}_setSelections(K){this._ignoreSelectionChange=!0,this._editor.setSelections(K),this._ignoreSelectionChange=!1}_expandEmptyToWord(K,U){if(!U.isEmpty())return U;const G=this._editor.getConfiguredWordAtPosition(U.getStartPosition());return G?new b.Selection(U.startLineNumber,G.startColumn,U.startLineNumber,G.endColumn):U}_applySessionResult(K){K&&(this._setSelections(K.selections),K.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(K.revealRange,K.revealScrollType))}getSession(K){return this._session}addSelectionToNextFindMatch(K){if(this._editor.hasModel()){if(!this._session){const U=this._editor.getSelections();if(U.length>1){const te=K.getState().matchCase;if(!F(this._editor.getModel(),U,te)){const Y=this._editor.getModel(),P=[];for(let Z=0,re=U.length;Z<re;Z++)P[Z]=this._expandEmptyToWord(Y,U[Z]);this._editor.setSelections(P);return}}}this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(K){this._beginSessionIfNeeded(K),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(K){if(!this._editor.hasModel())return;let U=null;const G=K.getState();if(G.isRevealed&&G.searchString.length>0&&G.isRegex){const te=this._editor.getModel();G.searchScope?U=te.findMatches(G.searchString,G.searchScope,G.isRegex,G.matchCase,G.wholeWord?this._editor.getOption(131):null,!1,1073741824):U=te.findMatches(G.searchString,!0,G.isRegex,G.matchCase,G.wholeWord?this._editor.getOption(131):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(K),!this._session)return;U=this._session.selectAll(G.searchScope)}if(U.length>0){const te=this._editor.getSelection();for(let ee=0,Y=U.length;ee<Y;ee++){const P=U[ee];if(P.range.intersectRanges(te)){U[ee]=U[0],U[0]=P;break}}this._setSelections(U.map(ee=>new b.Selection(ee.range.startLineNumber,ee.range.startColumn,ee.range.endLineNumber,ee.range.endColumn)))}}}e.MultiCursorSelectionController=S,S.ID="editor.contrib.multiCursorController";class L extends y.EditorAction{run(K,U){const G=S.get(U);if(!G)return;const te=U._getViewModel();if(te){const ee=te.getCursorStates(),Y=o.CommonFindController.get(U);if(Y)this._run(G,Y);else{const P=K.get(m.IInstantiationService).createInstance(o.CommonFindController,U);this._run(G,P),P.dispose()}r(ee,te.getCursorStates())}}}e.MultiCursorSelectionControllerAction=L;class I extends L{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:s.localize(10,null),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:2082,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(11,null),order:5}})}_run(K,U){K.addSelectionToNextFindMatch(U)}}e.AddSelectionToNextFindMatchAction=I;class T extends L{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:s.localize(12,null),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(13,null),order:6}})}_run(K,U){K.addSelectionToPreviousFindMatch(U)}}e.AddSelectionToPreviousFindMatchAction=T;class N extends L{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:s.localize(14,null),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:(0,E.KeyChord)(2089,2082),weight:100}})}_run(K,U){K.moveSelectionToNextFindMatch(U)}}e.MoveSelectionToNextFindMatchAction=N;class A extends L{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:s.localize(15,null),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(K,U){K.moveSelectionToPreviousFindMatch(U)}}e.MoveSelectionToPreviousFindMatchAction=A;class O extends L{constructor(){super({id:"editor.action.selectHighlights",label:s.localize(16,null),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:C.EditorContextKeys.focus,primary:3114,weight:100},menuOpts:{menuId:i.MenuId.MenubarSelectionMenu,group:"3_multi",title:s.localize(17,null),order:7}})}_run(K,U){K.selectAll(U)}}e.SelectHighlightsAction=O;class M extends L{constructor(){super({id:"editor.action.changeAll",label:s.localize(18,null),alias:"Change All Occurrences",precondition:t.ContextKeyExpr.and(C.EditorContextKeys.writable,C.EditorContextKeys.editorTextFocus),kbOpts:{kbExpr:C.EditorContextKeys.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(K,U){K.selectAll(U)}}e.CompatChangeAll=M;class R{constructor(K,U,G,te,ee){this._model=K,this._searchText=U,this._matchCase=G,this._wordSeparators=te,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,ee&&this._model===ee._model&&this._searchText===ee._searchText&&this._matchCase===ee._matchCase&&this._wordSeparators===ee._wordSeparators&&this._modelVersionId===ee._modelVersionId&&(this._cachedFindMatches=ee._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(K=>K.range),this._cachedFindMatches.sort(w.Range.compareRangesUsingStarts)),this._cachedFindMatches}}let x=u=class extends D.Disposable{constructor(K,U){super(),this._languageFeaturesService=U,this.editor=K,this._isEnabled=K.getOption(108),this._decorations=K.createDecorationsCollection(),this.updateSoon=this._register(new k.RunOnceScheduler(()=>this._update(),300)),this.state=null,this._register(K.onDidChangeConfiguration(te=>{this._isEnabled=K.getOption(108)})),this._register(K.onDidChangeCursorSelection(te=>{this._isEnabled&&(te.selection.isEmpty()?te.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(K.onDidChangeModel(te=>{this._setState(null)})),this._register(K.onDidChangeModelContent(te=>{this._isEnabled&&this.updateSoon.schedule()}));const G=o.CommonFindController.get(K);G&&this._register(G.getState().onFindReplaceStateChange(te=>{this._update()})),this.updateSoon.schedule()}_update(){this._setState(u._createState(this.state,this._isEnabled,this.editor))}static _createState(K,U,G){if(!U||!G.hasModel())return null;const te=G.getSelection();if(te.startLineNumber!==te.endLineNumber)return null;const ee=S.get(G);if(!ee)return null;const Y=o.CommonFindController.get(G);if(!Y)return null;let P=ee.getSession(Y);if(!P){const ce=G.getSelections();if(ce.length>1){const pe=Y.getState().matchCase;if(!F(G.getModel(),ce,pe))return null}P=_.create(G,Y)}if(!P||P.currentMatch||/^[ \t]+$/.test(P.searchText)||P.searchText.length>200)return null;const Z=Y.getState(),re=Z.matchCase;if(Z.isRevealed){let ce=Z.searchString;re||(ce=ce.toLowerCase());let he=P.searchText;if(re||(he=he.toLowerCase()),ce===he&&P.matchCase===Z.matchCase&&P.wholeWord===Z.wholeWord&&!Z.isRegex)return null}return new R(G.getModel(),P.searchText,P.matchCase,P.wholeWord?G.getOption(131):null,K)}_setState(K){if(this.state=K,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const U=this.editor.getModel();if(U.isTooLargeForTokenization())return;const G=this.state.findMatches(),te=this.editor.getSelections();te.sort(w.Range.compareRangesUsingStarts);const ee=[];for(let re=0,ce=0,he=G.length,pe=te.length;re<he;){const ge=G[re];if(ce>=pe)ee.push(ge),re++;else{const X=w.Range.compareRangesUsingStarts(ge,te[ce]);X<0?((te[ce].isEmpty()||!w.Range.areIntersecting(ge,te[ce]))&&ee.push(ge),re++):(X>0||re++,ce++)}}const Y=this.editor.getOption(81)!=="off",P=this._languageFeaturesService.documentHighlightProvider.has(U)&&Y,Z=ee.map(re=>({range:re,options:(0,c.getSelectionHighlightDecorationOptions)(P)}));this._decorations.set(Z)}dispose(){this._setState(null),super.dispose()}};e.SelectionHighlighter=x,x.ID="editor.contrib.selectionHighlighter",e.SelectionHighlighter=x=u=Ie([ue(1,n.ILanguageFeaturesService)],x);function F(j,K,U){const G=W(j,K[0],!U);for(let te=1,ee=K.length;te<ee;te++){const Y=K[te];if(Y.isEmpty())return!1;const P=W(j,Y,!U);if(G!==P)return!1}return!0}function W(j,K,U){const G=j.getValueInRange(K);return U?G.toLowerCase():G}class H extends y.EditorAction{constructor(){super({id:"editor.action.focusNextCursor",label:s.localize(19,null),metadata:{description:s.localize(20,null),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(K,U,G){if(!U.hasModel())return;const te=U._getViewModel();if(te.cursorConfig.readOnly)return;te.model.pushStackElement();const ee=Array.from(te.getCursorStates()),Y=ee.shift();Y&&(ee.push(Y),te.setCursorStates(G.source,3,ee),te.revealPrimaryCursor(G.source,!0),r(ee,te.getCursorStates()))}}e.FocusNextCursor=H;class z extends y.EditorAction{constructor(){super({id:"editor.action.focusPreviousCursor",label:s.localize(21,null),metadata:{description:s.localize(22,null),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(K,U,G){if(!U.hasModel())return;const te=U._getViewModel();if(te.cursorConfig.readOnly)return;te.model.pushStackElement();const ee=Array.from(te.getCursorStates()),Y=ee.pop();Y&&(ee.unshift(Y),te.setCursorStates(G.source,3,ee),te.revealPrimaryCursor(G.source,!0),r(ee,te.getCursorStates()))}}e.FocusPreviousCursor=z,(0,y.registerEditorContribution)(S.ID,S,4),(0,y.registerEditorContribution)(x.ID,x,1),(0,y.registerEditorAction)(a),(0,y.registerEditorAction)(h),(0,y.registerEditorAction)(l),(0,y.registerEditorAction)(I),(0,y.registerEditorAction)(T),(0,y.registerEditorAction)(N),(0,y.registerEditorAction)(A),(0,y.registerEditorAction)(O),(0,y.registerEditorAction)(M),(0,y.registerEditorAction)(g),(0,y.registerEditorAction)(d),(0,y.registerEditorAction)(H),(0,y.registerEditorAction)(z)}),define(ie[967],ne([1,0,767,13,47,15,19,10,2,164,16,36,5,21,28,42,18,409,14,49,45,351]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h){"use strict";var l,g;Object.defineProperty(e,"__esModule",{value:!0}),e.WordHighlighterContribution=void 0,e.getOccurrencesAtPosition=v,e.getOccurrencesAcrossMultipleModels=_;const d=new u.RawContextKey("hasWordHighlights",!1);function v(H,z,j,K){const U=H.ordered(z);return(0,D.first)(U.map(G=>()=>Promise.resolve(G.provideDocumentHighlights(z,j,K)).then(void 0,p.onUnexpectedExternalError)),k.isNonEmptyArray).then(G=>{if(G){const te=new a.ResourceMap;return te.set(z.uri,G),te}return new a.ResourceMap})}function _(H,z,j,K,U,G){const te=H.ordered(z);return(0,D.first)(te.map(ee=>()=>{const Y=G.filter(P=>(0,n.shouldSynchronizeModel)(P)).filter(P=>(0,h.score)(ee.selector,P.uri,P.getLanguageId(),!0,void 0,void 0)>0);return Promise.resolve(ee.provideMultiDocumentHighlights(z,j,Y,U)).then(void 0,p.onUnexpectedExternalError)}),ee=>ee instanceof a.ResourceMap&&ee.size>0)}class S{constructor(z,j,K){this._model=z,this._selection=j,this._wordSeparators=K,this._wordRange=this._getCurrentWordRange(z,j),this._result=null}get result(){return this._result||(this._result=(0,D.createCancelablePromise)(z=>this._compute(this._model,this._selection,this._wordSeparators,z))),this._result}_getCurrentWordRange(z,j){const K=z.getWordAtPosition(j.getPosition());return K?new s.Range(j.startLineNumber,K.startColumn,j.startLineNumber,K.endColumn):null}isValid(z,j,K){const U=j.startLineNumber,G=j.startColumn,te=j.endColumn,ee=this._getCurrentWordRange(z,j);let Y=!!(this._wordRange&&this._wordRange.equalsRange(ee));for(let P=0,Z=K.length;!Y&&P<Z;P++){const re=K.getRange(P);re&&re.startLineNumber===U&&re.startColumn<=G&&re.endColumn>=te&&(Y=!0)}return Y}cancel(){this.result.cancel()}}class L extends S{constructor(z,j,K,U){super(z,j,K),this._providers=U}_compute(z,j,K,U){return v(this._providers,z,j.getPosition(),U).then(G=>G||new a.ResourceMap)}}class I extends S{constructor(z,j,K,U,G){super(z,j,K),this._providers=U,this._otherModels=G}_compute(z,j,K,U){return _(this._providers,z,j.getPosition(),K,U,this._otherModels).then(G=>G||new a.ResourceMap)}}class T extends S{constructor(z,j,K,U,G){super(z,j,U),this._otherModels=G,this._selectionIsEmpty=j.isEmpty(),this._word=K}_compute(z,j,K,U){return(0,D.timeout)(250,U).then(()=>{const G=new a.ResourceMap;let te;if(this._word?te=this._word:te=z.getWordAtPosition(j.getPosition()),!te)return new a.ResourceMap;const ee=[z,...this._otherModels];for(const Y of ee){if(Y.isDisposed())continue;const Z=Y.findMatches(te.word,!0,!1,!0,K,!1).map(re=>({range:re.range,kind:t.DocumentHighlightKind.Text}));Z&&G.set(Y.uri,Z)}return G})}isValid(z,j,K){const U=j.isEmpty();return this._selectionIsEmpty!==U?!1:super.isValid(z,j,K)}}function N(H,z,j,K,U){return H.has(z)?new L(z,j,U,H):new T(z,j,K,U,[])}function A(H,z,j,K,U,G){return H.has(z)?new I(z,j,U,H,G):new T(z,j,K,U,G)}(0,C.registerModelAndPositionCommand)("_executeDocumentHighlights",async(H,z,j)=>{const K=H.get(c.ILanguageFeaturesService),U=await v(K.documentHighlightProvider,z,j,y.CancellationToken.None);return U?.get(z.uri)});let O=l=class{constructor(z,j,K,U,G){this.toUnhook=new w.DisposableStore,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=new a.ResourceMap,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=z,this.providers=j,this.multiDocumentProviders=K,this.codeEditorService=G,this._hasWordHighlights=d.bindTo(U),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(81),this.model=this.editor.getModel(),this.toUnhook.add(z.onDidChangeCursorPosition(te=>{this._ignorePositionChangeEvent||this.occurrencesHighlight!=="off"&&this._onPositionChanged(te)})),this.toUnhook.add(z.onDidFocusEditorText(te=>{this.occurrencesHighlight!=="off"&&(this.workerRequest||this._run())})),this.toUnhook.add(z.onDidChangeModelContent(te=>{this._stopAll()})),this.toUnhook.add(z.onDidChangeModel(te=>{!te.newModelUrl&&te.oldModelUrl?this._stopSingular():l.query&&this._run()})),this.toUnhook.add(z.onDidChangeConfiguration(te=>{const ee=this.editor.getOption(81);this.occurrencesHighlight!==ee&&(this.occurrencesHighlight=ee,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,l.query&&this._run()}hasDecorations(){return this.decorations.length>0}restore(){this.occurrencesHighlight!=="off"&&this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(s.Range.compareRangesUsingStarts)}moveNext(){const z=this._getSortedHighlights(),K=(z.findIndex(G=>G.containsPosition(this.editor.getPosition()))+1)%z.length,U=z[K];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const G=this._getWord();if(G){const te=this.editor.getModel().getLineContent(U.startLineNumber);(0,E.alert)(`${te}, ${K+1} of ${z.length} for '${G.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const z=this._getSortedHighlights(),K=(z.findIndex(G=>G.containsPosition(this.editor.getPosition()))-1+z.length)%z.length,U=z[K];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(U.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(U);const G=this._getWord();if(G){const te=this.editor.getModel().getLineContent(U.startLineNumber);(0,E.alert)(`${te}, ${K+1} of ${z.length} for '${G.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeSingleDecorations(){if(!this.editor.hasModel())return;const z=l.storedDecorations.get(this.editor.getModel().uri);z&&(this.editor.removeDecorations(z),l.storedDecorations.delete(this.editor.getModel().uri),this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1)))}_removeAllDecorations(){const z=this.codeEditorService.listCodeEditors(),j=[];for(const K of z){if(!K.hasModel())continue;const U=l.storedDecorations.get(K.getModel().uri);if(!U)continue;K.removeDecorations(U),j.push(K.getModel().uri);const G=M.get(K);G?.wordHighlighter&&G.wordHighlighter.decorations.length>0&&(G.wordHighlighter.decorations.clear(),G.wordHighlighter.workerRequest=null,G.wordHighlighter._hasWordHighlights.set(!1))}for(const K of j)l.storedDecorations.delete(K)}_stopSingular(){var z,j,K,U;this._removeSingleDecorations(),this.editor.hasTextFocus()&&(((z=this.editor.getModel())===null||z===void 0?void 0:z.uri.scheme)!==r.Schemas.vscodeNotebookCell&&((K=(j=l.query)===null||j===void 0?void 0:j.modelInfo)===null||K===void 0?void 0:K.model.uri.scheme)!==r.Schemas.vscodeNotebookCell?(l.query=null,this._run()):!((U=l.query)===null||U===void 0)&&U.modelInfo&&(l.query.modelInfo=null)),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_stopAll(){this._removeAllDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(z){var j;if(this.occurrencesHighlight==="off"){this._stopAll();return}if(z.reason!==3&&((j=this.editor.getModel())===null||j===void 0?void 0:j.uri.scheme)!==r.Schemas.vscodeNotebookCell){this._stopAll();return}this._run()}_getWord(){const z=this.editor.getSelection(),j=z.startLineNumber,K=z.startColumn;return this.model.isDisposed()?null:this.model.getWordAtPosition({lineNumber:j,column:K})}getOtherModelsToHighlight(z){if(!z)return[];if(z.uri.scheme===r.Schemas.vscodeNotebookCell){const G=[],te=this.codeEditorService.listCodeEditors();for(const ee of te){const Y=ee.getModel();Y&&Y!==z&&Y.uri.scheme===r.Schemas.vscodeNotebookCell&&G.push(Y)}return G}const K=[],U=this.codeEditorService.listCodeEditors();for(const G of U){if(!(0,b.isDiffEditor)(G))continue;const te=G.getModel();te&&z===te.modified&&K.push(te.modified)}if(K.length)return K;if(this.occurrencesHighlight==="singleFile")return[];for(const G of U){const te=G.getModel();te&&te!==z&&K.push(te)}return K}_run(){var z;let j;if(this.editor.hasTextFocus()){const U=this.editor.getSelection();if(!U||U.startLineNumber!==U.endLineNumber){l.query=null,this._stopAll();return}const G=U.startColumn,te=U.endColumn,ee=this._getWord();if(!ee||ee.startColumn>G||ee.endColumn<te){l.query=null,this._stopAll();return}j=this.workerRequest&&this.workerRequest.isValid(this.model,U,this.decorations),l.query={modelInfo:{model:this.model,selection:U},word:ee}}else if(!l.query)return;if(this.lastCursorPositionChangeTime=new Date().getTime(),j)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const U=++this.workerRequestTokenId;this.workerRequestCompleted=!1;const G=this.getOtherModelsToHighlight(this.editor.getModel());if(!l.query.modelInfo||l.query.modelInfo.model.isDisposed())return;this.workerRequest=this.computeWithModel(l.query.modelInfo.model,l.query.modelInfo.selection,l.query.word,G),(z=this.workerRequest)===null||z===void 0||z.result.then(te=>{U===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=te||[],this._beginRenderDecorations())},p.onUnexpectedError)}}computeWithModel(z,j,K,U){return U.length?A(this.multiDocumentProviders,z,j,K,this.editor.getOption(131),U):N(this.providers,z,j,K,this.editor.getOption(131))}_beginRenderDecorations(){const z=new Date().getTime(),j=this.lastCursorPositionChangeTime+250;z>=j?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},j-z)}renderDecorations(){var z,j,K;this.renderDecorationsTimer=-1;const U=this.codeEditorService.listCodeEditors();for(const G of U){const te=M.get(G);if(!te)continue;const ee=[],Y=(z=G.getModel())===null||z===void 0?void 0:z.uri;if(Y&&this.workerRequestValue.has(Y)){const P=l.storedDecorations.get(Y),Z=this.workerRequestValue.get(Y);if(Z)for(const ce of Z)ce.range&&ee.push({range:ce.range,options:(0,m.getHighlightDecorationOptions)(ce.kind)});let re=[];G.changeDecorations(ce=>{re=ce.deltaDecorations(P??[],ee)}),l.storedDecorations=l.storedDecorations.set(Y,re),ee.length>0&&((j=te.wordHighlighter)===null||j===void 0||j.decorations.set(ee),(K=te.wordHighlighter)===null||K===void 0||K._hasWordHighlights.set(!0))}}}dispose(){this._stopSingular(),this.toUnhook.dispose()}};O.storedDecorations=new a.ResourceMap,O.query=null,O=l=Ie([ue(4,o.ICodeEditorService)],O);let M=g=class extends w.Disposable{static get(z){return z.getContribution(g.ID)}constructor(z,j,K,U){super(),this._wordHighlighter=null;const G=()=>{z.hasModel()&&!z.getModel().isTooLargeForTokenization()&&(this._wordHighlighter=new O(z,K.documentHighlightProvider,K.multiDocumentHighlightProvider,j,U))};this._register(z.onDidChangeModel(te=>{this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),G()})),G()}get wordHighlighter(){return this._wordHighlighter}saveViewState(){return!!(this._wordHighlighter&&this._wordHighlighter.hasDecorations())}moveNext(){var z;(z=this._wordHighlighter)===null||z===void 0||z.moveNext()}moveBack(){var z;(z=this._wordHighlighter)===null||z===void 0||z.moveBack()}restoreViewState(z){this._wordHighlighter&&z&&this._wordHighlighter.restore()}dispose(){this._wordHighlighter&&(this._wordHighlighter.dispose(),this._wordHighlighter=null),super.dispose()}};e.WordHighlighterContribution=M,M.ID="editor.contrib.wordHighlighter",e.WordHighlighterContribution=M=g=Ie([ue(1,u.IContextKeyService),ue(2,c.ILanguageFeaturesService),ue(3,o.ICodeEditorService)],M);class R extends C.EditorAction{constructor(z,j){super(j),this._isNext=z}run(z,j){const K=M.get(j);K&&(this._isNext?K.moveNext():K.moveBack())}}class x extends R{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:f.localize(0,null),alias:"Go to Next Symbol Highlight",precondition:d,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:65,weight:100}})}}class F extends R{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:f.localize(1,null),alias:"Go to Previous Symbol Highlight",precondition:d,kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:1089,weight:100}})}}class W extends C.EditorAction{constructor(){super({id:"editor.action.wordHighlight.trigger",label:f.localize(2,null),alias:"Trigger Symbol Highlight",precondition:d.toNegated(),kbOpts:{kbExpr:i.EditorContextKeys.editorTextFocus,primary:0,weight:100}})}run(z,j,K){const U=M.get(j);U&&U.restoreViewState(!0)}}(0,C.registerEditorContribution)(M.ID,M,0),(0,C.registerEditorAction)(x),(0,C.registerEditorAction)(F),(0,C.registerEditorAction)(W)}),define(ie[968],ne([1,0,6,167,35,181,2,55,5,37,513]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ZoneWidget=e.OverlayWidgetDelegate=void 0;const C=new E.Color(new E.RGBA(0,122,204)),o={showArrow:!0,showFrame:!0,className:"",frameColor:C,arrowColor:C,keepEditorSelection:!1},s="vs.editor.contrib.zoneWidget";class i{constructor(u,r,a,h,l,g,d,v){this.id="",this.domNode=u,this.afterLineNumber=r,this.afterColumn=a,this.heightInLines=h,this.showInHiddenAreas=d,this.ordinal=v,this._onDomNodeTop=l,this._onComputedHeight=g}onDomNodeTop(u){this._onDomNodeTop(u)}onComputedHeight(u){this._onComputedHeight(u)}}class t{constructor(u,r){this._id=u,this._domNode=r}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}e.OverlayWidgetDelegate=t;class n{constructor(u){this._editor=u,this._ruleName=n._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),f.removeCSSRulesContainingSelector(this._ruleName)}set color(u){this._color!==u&&(this._color=u,this._updateStyle())}set height(u){this._height!==u&&(this._height=u,this._updateStyle())}_updateStyle(){f.removeCSSRulesContainingSelector(this._ruleName),f.createCSSRule(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px !important; margin-left: -${this._height}px; `)}show(u){u.column===1&&(u={lineNumber:u.lineNumber,column:2}),this._decorations.set([{range:w.Range.fromPositions(u),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}n._IdGenerator=new D.IdGenerator(".arrow-decoration-");class c{constructor(u,r={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new y.DisposableStore,this.container=null,this._isShowing=!1,this.editor=u,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=p.deepClone(r),p.mixin(this.options,o,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(a=>{const h=this._getWidth(a);this.domNode.style.width=h+"px",this.domNode.style.left=this._getLeft(a)+"px",this._onWidth(h)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(u=>{this._viewZone&&u.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new n(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(u){u.frameColor&&(this.options.frameColor=u.frameColor),u.arrowColor&&(this.options.arrowColor=u.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const u=this.options.frameColor.toString();this.container.style.borderTopColor=u,this.container.style.borderBottomColor=u}if(this._arrow&&this.options.arrowColor){const u=this.options.arrowColor.toString();this._arrow.color=u}}_getWidth(u){return u.width-u.minimap.minimapWidth-u.verticalScrollbarWidth}_getLeft(u){return u.minimap.minimapWidth>0&&u.minimap.minimapLeft===0?u.minimap.minimapWidth:0}_onViewZoneTop(u){this.domNode.style.top=u+"px"}_onViewZoneHeight(u){var r;if(this.domNode.style.height=`${u}px`,this.container){const a=u-this._decoratingElementsHeight();this.container.style.height=`${a}px`;const h=this.editor.getLayoutInfo();this._doLayout(a,this._getWidth(h))}(r=this._resizeSash)===null||r===void 0||r.layout()}get position(){const u=this._positionMarkerId.getRange(0);if(u)return u.getStartPosition()}show(u,r){const a=w.Range.isIRange(u)?w.Range.lift(u):w.Range.fromPositions(u);this._isShowing=!0,this._showImpl(a,r),this._isShowing=!1,this._positionMarkerId.set([{range:a,options:b.ModelDecorationOptions.EMPTY}])}hide(){var u;this._viewZone&&(this.editor.changeViewZones(r=>{this._viewZone&&r.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),(u=this._arrow)===null||u===void 0||u.hide(),this._positionMarkerId.clear()}_decoratingElementsHeight(){const u=this.editor.getOption(67);let r=0;if(this.options.showArrow){const a=Math.round(u/3);r+=2*a}if(this.options.showFrame){const a=Math.round(u/9);r+=2*a}return r}_showImpl(u,r){const a=u.getStartPosition(),h=this.editor.getLayoutInfo(),l=this._getWidth(h);this.domNode.style.width=`${l}px`,this.domNode.style.left=this._getLeft(h)+"px";const g=document.createElement("div");g.style.overflow="hidden";const d=this.editor.getOption(67);if(!this.options.allowUnlimitedHeight){const I=Math.max(12,this.editor.getLayoutInfo().height/d*.8);r=Math.min(r,I)}let v=0,_=0;if(this._arrow&&this.options.showArrow&&(v=Math.round(d/3),this._arrow.height=v,this._arrow.show(a)),this.options.showFrame&&(_=Math.round(d/9)),this.editor.changeViewZones(I=>{this._viewZone&&I.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new i(g,a.lineNumber,a.column,r,T=>this._onViewZoneTop(T),T=>this._onViewZoneHeight(T),this.options.showInHiddenAreas,this.options.ordinal),this._viewZone.id=I.addZone(this._viewZone),this._overlayWidget=new t(s+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const I=this.options.frameWidth?this.options.frameWidth:_;this.container.style.borderTopWidth=I+"px",this.container.style.borderBottomWidth=I+"px"}const S=r*d-this._decoratingElementsHeight();this.container&&(this.container.style.top=v+"px",this.container.style.height=S+"px",this.container.style.overflow="hidden"),this._doLayout(S,l),this.options.keepEditorSelection||this.editor.setSelection(u);const L=this.editor.getModel();if(L){const I=L.validateRange(new w.Range(u.startLineNumber,1,u.endLineNumber+1,1));this.revealRange(I,I.startLineNumber===L.getLineCount())}}revealRange(u,r){r?this.editor.revealLineNearTop(u.endLineNumber,0):this.editor.revealRange(u,0)}setCssClass(u,r){this.container&&(r&&this.container.classList.remove(r),this.container.classList.add(u))}_onWidth(u){}_doLayout(u,r){}_relayout(u){this._viewZone&&this._viewZone.heightInLines!==u&&this.editor.changeViewZones(r=>{this._viewZone&&(this._viewZone.heightInLines=u,r.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new k.Sash(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let u;this._disposables.add(this._resizeSash.onDidStart(r=>{this._viewZone&&(u={startY:r.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{u=void 0})),this._disposables.add(this._resizeSash.onDidChange(r=>{if(u){const a=(r.currentY-u.startY)/this.editor.getOption(67),h=a<0?Math.ceil(a):Math.floor(a),l=u.heightInLines+h;l>5&&l<35&&this._relayout(l)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const u=this.editor.getLayoutInfo();return u.width-u.minimap.minimapWidth}}e.ZoneWidget=c}),define(ie[153],ne([1,0,6,82,41,26,31,35,7,55,16,36,179,968,746,120,14,48,8,33,504]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.peekViewEditorMatchHighlightBorder=e.peekViewEditorMatchHighlight=e.peekViewResultsMatchHighlight=e.peekViewEditorStickyScrollBackground=e.peekViewEditorGutterBackground=e.peekViewEditorBackground=e.peekViewResultsSelectionForeground=e.peekViewResultsSelectionBackground=e.peekViewResultsFileForeground=e.peekViewResultsMatchForeground=e.peekViewResultsBackground=e.peekViewBorder=e.peekViewTitleInfoForeground=e.peekViewTitleForeground=e.peekViewTitleBackground=e.PeekViewWidget=e.PeekContext=e.IPeekViewService=void 0,e.getOuterEditor=l,e.IPeekViewService=(0,u.createDecorator)("IPeekViewService"),(0,m.registerSingleton)(e.IPeekViewService,class{constructor(){this._widgets=new Map}addExclusiveWidget(v,_){const S=this._widgets.get(v);S&&(S.listener.dispose(),S.widget.dispose());const L=()=>{const I=this._widgets.get(v);I&&I.widget===_&&(I.listener.dispose(),this._widgets.delete(v))};this._widgets.set(v,{widget:_,listener:_.onDidClose(L)})}},1);var a;(function(v){v.inPeekEditor=new c.RawContextKey("inReferenceSearchEditor",!0,t.localize(0,null)),v.notInPeekEditor=v.inPeekEditor.toNegated()})(a||(e.PeekContext=a={}));let h=class{constructor(_,S){_ instanceof s.EmbeddedCodeEditorWidget&&a.inPeekEditor.bindTo(S)}dispose(){}};h.ID="editor.contrib.referenceController",h=Ie([ue(1,c.IContextKeyService)],h),(0,C.registerEditorContribution)(h.ID,h,0);function l(v){const _=v.get(o.ICodeEditorService).getFocusedCodeEditor();return _ instanceof s.EmbeddedCodeEditorWidget?_.getParentEditor():_}const g={headerBackgroundColor:p.Color.white,primaryHeadingColor:p.Color.fromHex("#333333"),secondaryHeadingColor:p.Color.fromHex("#6c6c6cb3")};let d=class extends i.ZoneWidget{constructor(_,S,L){super(_,S),this.instantiationService=L,this._onDidClose=new w.Emitter,this.onDidClose=this._onDidClose.event,b.mixin(this.options,g,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(_){const S=this.options;_.headerBackgroundColor&&(S.headerBackgroundColor=_.headerBackgroundColor),_.primaryHeadingColor&&(S.primaryHeadingColor=_.primaryHeadingColor),_.secondaryHeadingColor&&(S.secondaryHeadingColor=_.secondaryHeadingColor),super.style(_)}_applyStyles(){super._applyStyles();const _=this.options;this._headElement&&_.headerBackgroundColor&&(this._headElement.style.backgroundColor=_.headerBackgroundColor.toString()),this._primaryHeading&&_.primaryHeadingColor&&(this._primaryHeading.style.color=_.primaryHeadingColor.toString()),this._secondaryHeading&&_.secondaryHeadingColor&&(this._secondaryHeading.style.color=_.secondaryHeadingColor.toString()),this._bodyElement&&_.frameColor&&(this._bodyElement.style.borderColor=_.frameColor.toString())}_fillContainer(_){this.setCssClass("peekview-widget"),this._headElement=f.$(".head"),this._bodyElement=f.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),_.appendChild(this._headElement),_.appendChild(this._bodyElement)}_fillHead(_,S){this._titleElement=f.$(".peekview-title"),this.options.supportOnTitleClick&&(this._titleElement.classList.add("clickable"),f.addStandardDisposableListener(this._titleElement,"click",T=>this._onTitleClick(T))),f.append(this._headElement,this._titleElement),this._fillTitleIcon(this._titleElement),this._primaryHeading=f.$("span.filename"),this._secondaryHeading=f.$("span.dirname"),this._metaHeading=f.$("span.meta"),f.append(this._titleElement,this._primaryHeading,this._secondaryHeading,this._metaHeading);const L=f.$(".peekview-actions");f.append(this._headElement,L);const I=this._getActionBarOptions();this._actionbarWidget=new k.ActionBar(L,I),this._disposables.add(this._actionbarWidget),S||this._actionbarWidget.push(new E.Action("peekview.close",t.localize(1,null),y.ThemeIcon.asClassName(D.Codicon.close),!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(_){}_getActionBarOptions(){return{actionViewItemProvider:n.createActionViewItem.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(_){}setTitle(_,S){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=_,this._primaryHeading.setAttribute("title",_),S?this._secondaryHeading.innerText=S:f.clearNode(this._secondaryHeading))}setMetaTitle(_){this._metaHeading&&(_?(this._metaHeading.innerText=_,f.show(this._metaHeading)):f.hide(this._metaHeading))}_doLayout(_,S){if(!this._isShowing&&_<0){this.dispose();return}const L=Math.ceil(this.editor.getOption(67)*1.2),I=Math.round(_-(L+2));this._doLayoutHead(L,S),this._doLayoutBody(I,S)}_doLayoutHead(_,S){this._headElement&&(this._headElement.style.height=`${_}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(_,S){this._bodyElement&&(this._bodyElement.style.height=`${_}px`)}};e.PeekViewWidget=d,e.PeekViewWidget=d=Ie([ue(2,u.IInstantiationService)],d),e.peekViewTitleBackground=(0,r.registerColor)("peekViewTitle.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(2,null)),e.peekViewTitleForeground=(0,r.registerColor)("peekViewTitleLabel.foreground",{dark:p.Color.white,light:p.Color.black,hcDark:p.Color.white,hcLight:r.editorForeground},t.localize(3,null)),e.peekViewTitleInfoForeground=(0,r.registerColor)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},t.localize(4,null)),e.peekViewBorder=(0,r.registerColor)("peekView.border",{dark:r.editorInfoForeground,light:r.editorInfoForeground,hcDark:r.contrastBorder,hcLight:r.contrastBorder},t.localize(5,null)),e.peekViewResultsBackground=(0,r.registerColor)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(6,null)),e.peekViewResultsMatchForeground=(0,r.registerColor)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:p.Color.white,hcLight:r.editorForeground},t.localize(7,null)),e.peekViewResultsFileForeground=(0,r.registerColor)("peekViewResult.fileForeground",{dark:p.Color.white,light:"#1E1E1E",hcDark:p.Color.white,hcLight:r.editorForeground},t.localize(8,null)),e.peekViewResultsSelectionBackground=(0,r.registerColor)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},t.localize(9,null)),e.peekViewResultsSelectionForeground=(0,r.registerColor)("peekViewResult.selectionForeground",{dark:p.Color.white,light:"#6C6C6C",hcDark:p.Color.white,hcLight:r.editorForeground},t.localize(10,null)),e.peekViewEditorBackground=(0,r.registerColor)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:p.Color.black,hcLight:p.Color.white},t.localize(11,null)),e.peekViewEditorGutterBackground=(0,r.registerColor)("peekViewEditorGutter.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(12,null)),e.peekViewEditorStickyScrollBackground=(0,r.registerColor)("peekViewEditorStickyScroll.background",{dark:e.peekViewEditorBackground,light:e.peekViewEditorBackground,hcDark:e.peekViewEditorBackground,hcLight:e.peekViewEditorBackground},t.localize(13,null)),e.peekViewResultsMatchHighlight=(0,r.registerColor)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},t.localize(14,null)),e.peekViewEditorMatchHighlight=(0,r.registerColor)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},t.localize(15,null)),e.peekViewEditorMatchHighlightBorder=(0,r.registerColor)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:r.activeContrastBorder,hcLight:r.activeContrastBorder},t.localize(16,null))}),define(ie[969],ne([1,0,6,81,13,35,7,2,50,12,5,153,719,120,29,14,8,175,104,61,852,33,23,491]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerNavigationWidget=void 0;class d{constructor(F,W,H,z,j){this._openerService=z,this._labelService=j,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new p.DisposableStore,this._editor=W;const K=document.createElement("div");K.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),K.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),K.appendChild(this._relatedBlock),this._disposables.add(f.addStandardDisposableListener(this._relatedBlock,"click",U=>{U.preventDefault();const G=this._relatedDiagnostics.get(U.target);G&&H(G)})),this._scrollable=new k.ScrollableElement(K,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),F.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(U=>{K.style.left=`-${U.scrollLeft}px`,K.style.top=`-${U.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,p.dispose)(this._disposables)}update(F){const{source:W,message:H,relatedInformation:z,code:j}=F;let K=(W?.length||0)+2;j&&(typeof j=="string"?K+=j.length:K+=j.value.length);const U=(0,b.splitLines)(H);this._lines=U.length,this._longestLineLength=0;for(const P of U)this._longestLineLength=Math.max(P.length+K,this._longestLineLength);f.clearNode(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(F)),this._editor.applyFontInfo(this._messageBlock);let G=this._messageBlock;for(const P of U)G=document.createElement("div"),G.innerText=P,P===""&&(G.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(G);if(W||j){const P=document.createElement("span");if(P.classList.add("details"),G.appendChild(P),W){const Z=document.createElement("span");Z.innerText=W,Z.classList.add("source"),P.appendChild(Z)}if(j)if(typeof j=="string"){const Z=document.createElement("span");Z.innerText=`(${j})`,Z.classList.add("code"),P.appendChild(Z)}else{this._codeLink=f.$("a.code-link"),this._codeLink.setAttribute("href",`${j.target.toString()}`),this._codeLink.onclick=re=>{this._openerService.open(j.target,{allowCommands:!0}),re.preventDefault(),re.stopPropagation()};const Z=f.append(this._codeLink,f.$("span"));Z.innerText=j.value,P.appendChild(this._codeLink)}}if(f.clearNode(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,E.isNonEmptyArray)(z)){const P=this._relatedBlock.appendChild(document.createElement("div"));P.style.paddingTop=`${Math.floor(this._editor.getOption(67)*.66)}px`,this._lines+=1;for(const Z of z){const re=document.createElement("div"),ce=document.createElement("a");ce.classList.add("filename"),ce.innerText=`${this._labelService.getUriBasenameLabel(Z.resource)}(${Z.startLineNumber}, ${Z.startColumn}): `,ce.title=this._labelService.getUriLabel(Z.resource),this._relatedDiagnostics.set(ce,Z);const he=document.createElement("span");he.innerText=Z.message,re.appendChild(ce),re.appendChild(he),this._lines+=1,P.appendChild(re)}}const te=this._editor.getOption(50),ee=Math.ceil(te.typicalFullwidthCharacterWidth*this._longestLineLength*.75),Y=te.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:ee,scrollHeight:Y})}layout(F,W){this._scrollable.getDomNode().style.height=`${F}px`,this._scrollable.getDomNode().style.width=`${W}px`,this._scrollable.setScrollDimensions({width:W,height:F})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(F){let W="";switch(F.severity){case u.MarkerSeverity.Error:W=s.localize(0,null);break;case u.MarkerSeverity.Warning:W=s.localize(1,null);break;case u.MarkerSeverity.Info:W=s.localize(2,null);break;case u.MarkerSeverity.Hint:W=s.localize(3,null);break}let H=s.localize(4,null,W,F.startLineNumber+":"+F.startColumn);const z=this._editor.getModel();return z&&F.startLineNumber<=z.getLineCount()&&F.startLineNumber>=1&&(H=`${z.getLineContent(F.startLineNumber)}, ${H}`),H}}let v=g=class extends o.PeekViewWidget{constructor(F,W,H,z,j,K,U){super(F,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},j),this._themeService=W,this._openerService=H,this._menuService=z,this._contextKeyService=K,this._labelService=U,this._callOnDispose=new p.DisposableStore,this._onDidSelectRelatedInformation=new y.Emitter,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=u.MarkerSeverity.Warning,this._backgroundColor=D.Color.white,this._applyTheme(W.getColorTheme()),this._callOnDispose.add(W.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(F){this._backgroundColor=F.getColor(R);let W=I,H=T;this._severity===u.MarkerSeverity.Warning?(W=N,H=A):this._severity===u.MarkerSeverity.Info&&(W=O,H=M);const z=F.getColor(W),j=F.getColor(H);this.style({arrowColor:z,frameColor:z,headerBackgroundColor:j,primaryHeadingColor:F.getColor(o.peekViewTitleForeground),secondaryHeadingColor:F.getColor(o.peekViewTitleInfoForeground)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(F){super._fillHead(F),this._disposables.add(this._actionbarWidget.actionRunner.onWillRun(z=>this.editor.focus()));const W=[],H=this._menuService.createMenu(g.TitleMenu,this._contextKeyService);(0,i.createAndFillInActionBarActions)(H,void 0,W),this._actionbarWidget.push(W,{label:!1,icon:!0,index:0}),H.dispose()}_fillTitleIcon(F){this._icon=f.append(F,f.$(""))}_fillBody(F){this._parentContainer=F,F.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),F.appendChild(this._container),this._message=new d(this._container,this.editor,W=>this._onDidSelectRelatedInformation.fire(W),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(F,W,H){this._container.classList.remove("stale"),this._message.update(F),this._severity=F.severity,this._applyTheme(this._themeService.getColorTheme());const z=C.Range.lift(F),j=this.editor.getPosition(),K=j&&z.containsPosition(j)?j:z.getStartPosition();super.show(K,this.computeRequiredHeight());const U=this.editor.getModel();if(U){const G=H>1?s.localize(5,null,W,H):s.localize(6,null,W,H);this.setTitle((0,w.basename)(U.uri),G)}this._icon.className=`codicon ${a.SeverityIcon.className(u.MarkerSeverity.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(K,0),this.editor.focus()}updateMarker(F){this._container.classList.remove("stale"),this._message.update(F)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(F,W){super._doLayoutBody(F,W),this._heightInPixel=F,this._message.layout(F,W),this._container.style.height=`${F}px`}_onWidth(F){this._message.layout(this._heightInPixel,F)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};e.MarkerNavigationWidget=v,v.TitleMenu=new t.MenuId("gotoErrorTitleMenu"),e.MarkerNavigationWidget=v=g=Ie([ue(1,l.IThemeService),ue(2,r.IOpenerService),ue(3,t.IMenuService),ue(4,c.IInstantiationService),ue(5,n.IContextKeyService),ue(6,m.ILabelService)],v);const _=(0,h.oneOf)(h.editorErrorForeground,h.editorErrorBorder),S=(0,h.oneOf)(h.editorWarningForeground,h.editorWarningBorder),L=(0,h.oneOf)(h.editorInfoForeground,h.editorInfoBorder),I=(0,h.registerColor)("editorMarkerNavigationError.background",{dark:_,light:_,hcDark:h.contrastBorder,hcLight:h.contrastBorder},s.localize(7,null)),T=(0,h.registerColor)("editorMarkerNavigationError.headerBackground",{dark:(0,h.transparent)(I,.1),light:(0,h.transparent)(I,.1),hcDark:null,hcLight:null},s.localize(8,null)),N=(0,h.registerColor)("editorMarkerNavigationWarning.background",{dark:S,light:S,hcDark:h.contrastBorder,hcLight:h.contrastBorder},s.localize(9,null)),A=(0,h.registerColor)("editorMarkerNavigationWarning.headerBackground",{dark:(0,h.transparent)(N,.1),light:(0,h.transparent)(N,.1),hcDark:"#0C141F",hcLight:(0,h.transparent)(N,.2)},s.localize(10,null)),O=(0,h.registerColor)("editorMarkerNavigationInfo.background",{dark:L,light:L,hcDark:h.contrastBorder,hcLight:h.contrastBorder},s.localize(11,null)),M=(0,h.registerColor)("editorMarkerNavigationInfo.headerBackground",{dark:(0,h.transparent)(O,.1),light:(0,h.transparent)(O,.1),hcDark:null,hcLight:null},s.localize(12,null)),R=(0,h.registerColor)("editorMarkerNavigation.background",{dark:h.editorBackground,light:h.editorBackground,hcDark:h.editorBackground,hcLight:h.editorBackground},s.localize(13,null))}),define(ie[410],ne([1,0,26,2,16,36,9,5,21,830,718,29,14,8,76,969]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.NextMarkerAction=e.MarkerController=void 0;let m=c=class{static get(_){return _.getContribution(c.ID)}constructor(_,S,L,I,T){this._markerNavigationService=S,this._contextKeyService=L,this._editorService=I,this._instantiationService=T,this._sessionDispoables=new k.DisposableStore,this._editor=_,this._widgetVisible=g.bindTo(this._contextKeyService)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(_){if(this._model&&this._model.matches(_))return this._model;let S=!1;return this._model&&(S=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(_),S&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(n.MarkerNavigationWidget,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(L=>{var I,T,N;(!(!((I=this._model)===null||I===void 0)&&I.selected)||!p.Range.containsPosition((T=this._model)===null||T===void 0?void 0:T.selected.marker,L.position))&&((N=this._model)===null||N===void 0||N.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const L=this._model.find(this._editor.getModel().uri,this._widget.position);L?this._widget.updateMarker(L.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(L=>{this._editorService.openCodeEditor({resource:L.resource,options:{pinned:!0,revealIfOpened:!0,selection:p.Range.lift(L).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(_=!0){this._cleanUp(),_&&this._editor.focus()}showAtMarker(_){if(this._editor.hasModel()){const S=this._getOrCreateModel(this._editor.getModel().uri);S.resetIndex(),S.move(!0,this._editor.getModel(),new y.Position(_.startLineNumber,_.startColumn)),S.selected&&this._widget.showAtMarker(S.selected.marker,S.selected.index,S.selected.total)}}async nagivate(_,S){var L,I;if(this._editor.hasModel()){const T=this._getOrCreateModel(S?void 0:this._editor.getModel().uri);if(T.move(_,this._editor.getModel(),this._editor.getPosition()),!T.selected)return;if(T.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const N=await this._editorService.openCodeEditor({resource:T.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:T.selected.marker}},this._editor);N&&((L=c.get(N))===null||L===void 0||L.close(),(I=c.get(N))===null||I===void 0||I.nagivate(_,S))}else this._widget.showAtMarker(T.selected.marker,T.selected.index,T.selected.total)}}};e.MarkerController=m,m.ID="editor.contrib.markerController",e.MarkerController=m=c=Ie([ue(1,b.IMarkerNavigationService),ue(2,s.IContextKeyService),ue(3,D.ICodeEditorService),ue(4,i.IInstantiationService)],m);class u extends E.EditorAction{constructor(_,S,L){super(L),this._next=_,this._multiFile=S}async run(_,S){var L;S.hasModel()&&((L=m.get(S))===null||L===void 0||L.nagivate(this._next,this._multiFile))}}class r extends u{constructor(){super(!0,!1,{id:r.ID,label:r.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:578,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:r.LABEL,icon:(0,t.registerIcon)("marker-navigation-next",f.Codicon.arrowDown,C.localize(1,null)),group:"navigation",order:1}})}}e.NextMarkerAction=r,r.ID="editor.action.marker.next",r.LABEL=C.localize(0,null);class a extends u{constructor(){super(!1,!1,{id:a.ID,label:a.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1602,weight:100},menuOpts:{menuId:n.MarkerNavigationWidget.TitleMenu,title:a.LABEL,icon:(0,t.registerIcon)("marker-navigation-previous",f.Codicon.arrowUp,C.localize(3,null)),group:"navigation",order:2}})}}a.ID="editor.action.marker.prev",a.LABEL=C.localize(2,null);class h extends u{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:C.localize(4,null),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:66,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:C.localize(5,null),group:"6_problem_nav",order:1}})}}class l extends u{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:C.localize(6,null),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.focus,primary:1090,weight:100},menuOpts:{menuId:o.MenuId.MenubarGoMenu,title:C.localize(7,null),group:"6_problem_nav",order:2}})}}(0,E.registerEditorContribution)(m.ID,m,4),(0,E.registerEditorAction)(r),(0,E.registerEditorAction)(a),(0,E.registerEditorAction)(h),(0,E.registerEditorAction)(l);const g=new s.RawContextKey("markersNavigationVisible",!1),d=E.EditorCommand.bindToContribution(m.get);(0,E.registerEditorCommand)(new d({id:"closeMarkersNavigation",precondition:g,handler:v=>v.close(),kbOpts:{weight:150,kbExpr:w.EditorContextKeys.focus,primary:9,secondary:[1033]}}))}),define(ie[970],ne([1,0,6,344,35,7,2,49,50,179,5,37,34,85,43,74,888,153,724,8,32,175,208,23,211,172,493]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReferenceWidget=e.LayoutData=void 0;class _{constructor(N,A){this._editor=N,this._model=A,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new y.DisposableStore,this._callOnModelChange=new y.DisposableStore,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const N=this._editor.getModel();if(N){for(const A of this._model.references)if(A.uri.toString()===N.uri.toString()){this._addDecorations(A.parent);return}}}_addDecorations(N){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const A=[],O=[];for(let M=0,R=N.children.length;M<R;M++){const x=N.children[M];this._decorationIgnoreSet.has(x.id)||x.uri.toString()===this._editor.getModel().uri.toString()&&(A.push({range:x.range,options:_.DecorationOptions}),O.push(M))}this._editor.changeDecorations(M=>{const R=M.deltaDecorations([],A);for(let x=0;x<R.length;x++)this._decorations.set(R[x],N.children[O[x]])})}_onDecorationChanged(){const N=[],A=this._editor.getModel();if(A){for(const[O,M]of this._decorations){const R=A.getDecorationRange(O);if(!R)continue;let x=!1;if(!C.Range.equalsRange(R,M.range)){if(C.Range.spansMultipleLines(R))x=!0;else{const F=M.range.endColumn-M.range.startColumn,W=R.endColumn-R.startColumn;F!==W&&(x=!0)}x?(this._decorationIgnoreSet.add(M.id),N.push(O)):M.range=R}}for(let O=0,M=N.length;O<M;O++)this._decorations.delete(N[O]);this._editor.removeDecorations(N)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}_.DecorationOptions=o.ModelDecorationOptions.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class S{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(N){let A,O;try{const M=JSON.parse(N);A=M.ratio,O=M.heightInLines}catch{}return{ratio:A||.7,heightInLines:O||18}}}e.LayoutData=S;class L extends l.WorkbenchAsyncDataTree{}let I=class extends m.PeekViewWidget{constructor(N,A,O,M,R,x,F,W,H,z,j,K){super(N,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},x),this._defaultTreeKeyboardSupport=A,this.layoutData=O,this._textModelResolverService=R,this._instantiationService=x,this._peekViewService=F,this._uriLabel=W,this._undoRedoService=H,this._keybindingService=z,this._languageService=j,this._languageConfigurationService=K,this._disposeOnNewModel=new y.DisposableStore,this._callOnDispose=new y.DisposableStore,this._onDidSelectReference=new D.Emitter,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new f.Dimension(0,0),this._applyTheme(M.getColorTheme()),this._callOnDispose.add(M.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(N,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,y.dispose)(this._preview),(0,y.dispose)(this._previewNotAvailableMessage),(0,y.dispose)(this._tree),(0,y.dispose)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(N){const A=N.getColor(m.peekViewBorder)||E.Color.transparent;this.style({arrowColor:A,frameColor:A,headerBackgroundColor:N.getColor(m.peekViewTitleBackground)||E.Color.transparent,primaryHeadingColor:N.getColor(m.peekViewTitleForeground),secondaryHeadingColor:N.getColor(m.peekViewTitleInfoForeground)})}show(N){super.show(N,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(N){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:N.ctrlKey||N.metaKey||N.altKey?"side":"open",source:"title"})}_fillBody(N){this.setCssClass("reference-zone-widget"),this._messageContainer=f.append(N,f.$("div.messages")),f.hide(this._messageContainer),this._splitView=new k.SplitView(N,{orientation:1}),this._previewContainer=f.append(N,f.$("div.preview.inline"));const A={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!0},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(b.EmbeddedCodeEditorWidget,this._previewContainer,A,{},this.editor),f.hide(this._previewContainer),this._previewNotAvailableMessage=new o.TextModel(u.localize(0,null),i.PLAINTEXT_LANGUAGE_ID,o.TextModel.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=f.append(N,f.$("div.ref-tree.inline"));const O={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new c.AccessibilityProvider,keyboardNavigationLabelProvider:this._instantiationService.createInstance(c.StringRepresentationProvider),identityProvider:new c.IdentityProvider,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:m.peekViewResultsBackground}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(f.addStandardDisposableListener(this._treeContainer,"keydown",R=>{R.equals(9)&&(this._keybindingService.dispatchEvent(R,R.target),R.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(L,"ReferencesWidget",this._treeContainer,new c.Delegate,[this._instantiationService.createInstance(c.FileReferencesRenderer),this._instantiationService.createInstance(c.OneReferenceRenderer)],this._instantiationService.createInstance(c.DataSource),O),this._splitView.addView({onDidChange:D.Event.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:R=>{this._preview.layout({height:this._dim.height,width:R})}},k.Sizing.Distribute),this._splitView.addView({onDidChange:D.Event.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:R=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${R}px`,this._tree.layout(this._dim.height,R)}},k.Sizing.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const M=(R,x)=>{R instanceof v.OneReference&&(x==="show"&&this._revealReference(R,!1),this._onDidSelectReference.fire({element:R,kind:x,source:"tree"}))};this._tree.onDidOpen(R=>{R.sideBySide?M(R.element,"side"):R.editorOptions.pinned?M(R.element,"goto"):M(R.element,"show")}),f.hide(this._treeContainer)}_onWidth(N){this._dim&&this._doLayoutBody(this._dim.height,N)}_doLayoutBody(N,A){super._doLayoutBody(N,A),this._dim=new f.Dimension(A,N),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(A),this._splitView.resizeView(0,A*this.layoutData.ratio)}setSelection(N){return this._revealReference(N,!0).then(()=>{this._model&&(this._tree.setSelection([N]),this._tree.setFocus([N]))})}setModel(N){return this._disposeOnNewModel.clear(),this._model=N,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=u.localize(1,null),f.show(this._messageContainer),Promise.resolve(void 0)):(f.hide(this._messageContainer),this._decorationsManager=new _(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(N=>this._tree.rerender(N))),this._disposeOnNewModel.add(this._preview.onMouseDown(N=>{const{event:A,target:O}=N;if(A.detail!==2)return;const M=this._getFocusedReference();M&&this._onDidSelectReference.fire({element:{uri:M.uri,range:O.range},kind:A.ctrlKey||A.metaKey||A.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),f.show(this._treeContainer),f.show(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[N]=this._tree.getFocus();if(N instanceof v.OneReference)return N;if(N instanceof v.FileReferences&&N.children.length>0)return N.children[0]}async revealReference(N){await this._revealReference(N,!1),this._onDidSelectReference.fire({element:N,kind:"goto",source:"tree"})}async _revealReference(N,A){if(this._revealedReference===N)return;this._revealedReference=N,N.uri.scheme!==p.Schemas.inMemory?this.setTitle((0,w.basenameOrAuthority)(N.uri),this._uriLabel.getUriLabel((0,w.dirname)(N.uri))):this.setTitle(u.localize(2,null));const O=this._textModelResolverService.createModelReference(N.uri);this._tree.getInput()===N.parent?this._tree.reveal(N):(A&&this._tree.reveal(N.parent),await this._tree.expand(N.parent),this._tree.reveal(N));const M=await O;if(!this._model){M.dispose();return}(0,y.dispose)(this._previewModelReference);const R=M.object;if(R){const x=this._preview.getModel()===R.textEditorModel?0:1,F=C.Range.lift(N.range).collapseToStart();this._previewModelReference=M,this._preview.setModel(R.textEditorModel),this._preview.setSelection(F),this._preview.revealRangeInCenter(F,x)}else this._preview.setModel(this._previewNotAvailableMessage),M.dispose()}};e.ReferenceWidget=I,e.ReferenceWidget=I=Ie([ue(3,g.IThemeService),ue(4,n.ITextModelService),ue(5,r.IInstantiationService),ue(6,m.IPeekViewService),ue(7,h.ILabelService),ue(8,d.IUndoRedoService),ue(9,a.IKeybindingService),ue(10,t.ILanguageService),ue(11,s.ILanguageConfigurationService)],I)}),define(ie[411],ne([1,0,15,10,69,2,36,9,5,153,722,25,27,14,8,133,208,51,98,172,970,21,204]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l){"use strict";var g;Object.defineProperty(e,"__esModule",{value:!0}),e.ReferencesController=e.ctxReferenceSearchVisible=void 0,e.ctxReferenceSearchVisible=new i.RawContextKey("referenceSearchVisible",!1,C.localize(0,null));let d=g=class{static get(S){return S.getContribution(g.ID)}constructor(S,L,I,T,N,A,O,M){this._defaultTreeKeyboardSupport=S,this._editor=L,this._editorService=T,this._notificationService=N,this._instantiationService=A,this._storageService=O,this._configurationService=M,this._disposables=new D.DisposableStore,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=e.ctxReferenceSearchVisible.bindTo(I)}dispose(){var S,L;this._referenceSearchVisible.reset(),this._disposables.dispose(),(S=this._widget)===null||S===void 0||S.dispose(),(L=this._model)===null||L===void 0||L.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(S,L,I){let T;if(this._widget&&(T=this._widget.position),this.closeWidget(),T&&S.containsPosition(T))return;this._peekMode=I,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const N="peekViewLayout",A=a.LayoutData.fromJSON(this._storageService.get(N,0,"{}"));this._widget=this._instantiationService.createInstance(a.ReferenceWidget,this._editor,this._defaultTreeKeyboardSupport,A),this._widget.setTitle(C.localize(1,null)),this._widget.show(S),this._disposables.add(this._widget.onDidClose(()=>{L.cancel(),this._widget&&(this._storageService.store(N,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(M=>{const{element:R,kind:x}=M;if(R)switch(x){case"open":(M.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(R,!1,!1);break;case"side":this.openReference(R,!0,!1);break;case"goto":I?this._gotoReference(R,!0):this.openReference(R,!1,!0);break}}));const O=++this._requestIdPool;L.then(M=>{var R;if(O!==this._requestIdPool||!this._widget){M.dispose();return}return(R=this._model)===null||R===void 0||R.dispose(),this._model=M,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(C.localize(2,null,this._model.title,this._model.references.length));const x=this._editor.getModel().uri,F=new p.Position(S.startLineNumber,S.startColumn),W=this._model.nearestReference(x,F);if(W)return this._widget.setSelection(W).then(()=>{this._widget&&this._editor.getOption(87)==="editor"&&this._widget.focusOnPreviewEditor()})}})},M=>{this._notificationService.error(M)})}changeFocusBetweenPreviewAndReferences(){this._widget&&(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}async goToNextOrPreviousReference(S){if(!this._editor.hasModel()||!this._model||!this._widget)return;const L=this._widget.position;if(!L)return;const I=this._model.nearestReference(this._editor.getModel().uri,L);if(!I)return;const T=this._model.nextOrPreviousReference(I,S),N=this._editor.hasTextFocus(),A=this._widget.isPreviewEditorFocused();await this._widget.setSelection(T),await this._gotoReference(T,!1),N?this._editor.focus():this._widget&&A&&this._widget.focusOnPreviewEditor()}async revealReference(S){!this._editor.hasModel()||!this._model||!this._widget||await this._widget.revealReference(S)}closeWidget(S=!0){var L,I;(L=this._widget)===null||L===void 0||L.dispose(),(I=this._model)===null||I===void 0||I.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,S&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(S,L){var I;(I=this._widget)===null||I===void 0||I.hide(),this._ignoreModelChangeEvent=!0;const T=w.Range.lift(S.range).collapseToStart();return this._editorService.openCodeEditor({resource:S.uri,options:{selection:T,selectionSource:"code.jump",pinned:L}},this._editor).then(N=>{var A;if(this._ignoreModelChangeEvent=!1,!N||!this._widget){this.closeWidget();return}if(this._editor===N)this._widget.show(T),this._widget.focusOnReferenceTree();else{const O=g.get(N),M=this._model.clone();this.closeWidget(),N.focus(),O?.toggleWidget(T,(0,f.createCancelablePromise)(R=>Promise.resolve(M)),(A=this._peekMode)!==null&&A!==void 0?A:!1)}},N=>{this._ignoreModelChangeEvent=!1,(0,k.onUnexpectedError)(N)})}openReference(S,L,I){L||this.closeWidget();const{uri:T,range:N}=S;this._editorService.openCodeEditor({resource:T,options:{selection:N,selectionSource:"code.jump",pinned:I}},this._editor,L)}};e.ReferencesController=d,d.ID="editor.contrib.referencesController",e.ReferencesController=d=g=Ie([ue(2,i.IContextKeyService),ue(3,y.ICodeEditorService),ue(4,m.INotificationService),ue(5,t.IInstantiationService),ue(6,u.IStorageService),ue(7,s.IConfigurationService)],d);function v(_,S){const L=(0,b.getOuterEditor)(_);if(!L)return;const I=d.get(L);I&&S(I)}n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,E.KeyChord)(2089,60),when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(_){v(_,S=>{S.changeFocusBetweenPreviewAndReferences()})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToNextReference",weight:90,primary:62,secondary:[70],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(_){v(_,S=>{S.goToNextOrPreviousReference(!0)})}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:90,primary:1086,secondary:[1094],when:i.ContextKeyExpr.or(e.ctxReferenceSearchVisible,b.PeekContext.inPeekEditor),handler(_){v(_,S=>{S.goToNextOrPreviousReference(!1)})}}),o.CommandsRegistry.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),o.CommandsRegistry.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),o.CommandsRegistry.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),o.CommandsRegistry.registerCommand("closeReferenceSearch",_=>v(_,S=>S.closeWidget())),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:-1,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(b.PeekContext.inPeekEditor,i.ContextKeyExpr.not("config.editor.stablePeek"))}),n.KeybindingsRegistry.registerKeybindingRule({id:"closeReferenceSearch",weight:250,primary:9,secondary:[1033],when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,i.ContextKeyExpr.not("config.editor.stablePeek"),i.ContextKeyExpr.or(h.EditorContextKeys.editorTextFocus,l.InputFocusedContext.negate()))}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(_){var S;const I=(S=_.get(c.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof r.OneReference&&v(_,T=>T.revealReference(I[0]))}}),n.KeybindingsRegistry.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:i.ContextKeyExpr.and(e.ctxReferenceSearchVisible,c.WorkbenchListFocusContextKey,c.WorkbenchTreeElementCanCollapse.negate(),c.WorkbenchTreeElementCanExpand.negate()),handler(_){var S;const I=(S=_.get(c.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof r.OneReference&&v(_,T=>T.openReference(I[0],!0,!0))}}),o.CommandsRegistry.registerCommand("openReference",_=>{var S;const I=(S=_.get(c.IListService).lastFocusedList)===null||S===void 0?void 0:S.getFocus();Array.isArray(I)&&I[0]instanceof r.OneReference&&v(_,T=>T.openReference(I[0],!1,!0))})}),define(ie[282],ne([1,0,47,15,69,20,22,118,164,16,36,179,9,5,21,28,411,172,866,177,153,720,29,25,14,8,51,92,270,18,54,204]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N){"use strict";var A,O,M,R,x,F,W,H;Object.defineProperty(e,"__esModule",{value:!0}),e.DefinitionAction=e.SymbolNavigationAction=e.SymbolNavigationAnchor=void 0,l.MenuRegistry.appendMenuItem(l.MenuId.EditorContext,{submenu:l.MenuId.EditorContextPeek,title:h.localize(0,null),group:"navigation",order:100});class z{static is(Z){return!Z||typeof Z!="object"?!1:!!(Z instanceof z||s.Position.isIPosition(Z.position)&&Z.model)}constructor(Z,re){this.model=Z,this.position=re}}e.SymbolNavigationAnchor=z;class j extends b.EditorAction2{static all(){return j._allSymbolNavigationCommands.values()}static _patchConfig(Z){const re={...Z,f1:!0};if(re.menu)for(const ce of T.Iterable.wrap(re.menu))(ce.id===l.MenuId.EditorContext||ce.id===l.MenuId.EditorContextPeek)&&(ce.when=d.ContextKeyExpr.and(Z.precondition,ce.when));return re}constructor(Z,re){super(j._patchConfig(re)),this.configuration=Z,j._allSymbolNavigationCommands.set(re.id,this)}runEditorCommand(Z,re,ce,he){if(!re.hasModel())return Promise.resolve(void 0);const pe=Z.get(_.INotificationService),ge=Z.get(C.ICodeEditorService),X=Z.get(S.IEditorProgressService),ae=Z.get(u.ISymbolNavigationService),oe=Z.get(I.ILanguageFeaturesService),B=Z.get(v.IInstantiationService),q=re.getModel(),V=re.getPosition(),$=z.is(ce)?ce:new z(q,V),J=new p.EditorStateCancellationTokenSource(re,5),se=(0,k.raceCancellation)(this._getLocationModel(oe,$.model,$.position,J.token),J.token).then(async de=>{var le;if(!de||J.token.isCancellationRequested)return;(0,f.alert)(de.ariaMessage);let fe;if(de.referenceAt(q.uri,V)){const Ce=this._getAlternativeCommand(re);!j._activeAlternativeCommands.has(Ce)&&j._allSymbolNavigationCommands.has(Ce)&&(fe=j._allSymbolNavigationCommands.get(Ce))}const ve=de.references.length;if(ve===0){if(!this.configuration.muteMessage){const Ce=q.getWordAtPosition(V);(le=r.MessageController.get(re))===null||le===void 0||le.showMessage(this._getNoResultFoundMessage(Ce),V)}}else if(ve===1&&fe)j._activeAlternativeCommands.add(this.desc.id),B.invokeFunction(Ce=>fe.runEditorCommand(Ce,re,ce,he).finally(()=>{j._activeAlternativeCommands.delete(this.desc.id)}));else return this._onResult(ge,ae,re,de,he)},de=>{pe.error(de)}).finally(()=>{J.dispose()});return X.showWhile(se,250),se}async _onResult(Z,re,ce,he,pe){const ge=this._getGoToPreference(ce);if(!(ce instanceof o.EmbeddedCodeEditorWidget)&&(this.configuration.openInPeek||ge==="peek"&&he.references.length>1))this._openInPeek(ce,he,pe);else{const X=he.firstReference(),ae=he.references.length>1&&ge==="gotoAndPeek",oe=await this._openReference(ce,Z,X,this.configuration.openToSide,!ae);ae&&oe?this._openInPeek(oe,he,pe):he.dispose(),ge==="goto"&&re.put(X)}}async _openReference(Z,re,ce,he,pe){let ge;if((0,n.isLocationLink)(ce)&&(ge=ce.targetSelectionRange),ge||(ge=ce.range),!ge)return;const X=await re.openCodeEditor({resource:ce.uri,options:{selection:i.Range.collapseToStart(ge),selectionRevealType:3,selectionSource:"code.jump"}},Z,he);if(X){if(pe){const ae=X.getModel(),oe=X.createDecorationsCollection([{range:ge,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{X.getModel()===ae&&oe.clear()},350)}return X}}_openInPeek(Z,re,ce){const he=c.ReferencesController.get(Z);he&&Z.hasModel()?he.toggleWidget(ce??Z.getSelection(),(0,k.createCancelablePromise)(pe=>Promise.resolve(re)),this.configuration.openInPeek):re.dispose()}}e.SymbolNavigationAction=j,j._allSymbolNavigationCommands=new Map,j._activeAlternativeCommands=new Set;class K extends j{async _getLocationModel(Z,re,ce,he){return new m.ReferencesModel(await(0,L.getDefinitionsAtPosition)(Z.definitionProvider,re,ce,he),h.localize(1,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?h.localize(2,null,Z.word):h.localize(3,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeDefinitionCommand}_getGoToPreference(Z){return Z.getOption(58).multipleDefinitions}}e.DefinitionAction=K,(0,l.registerAction2)((A=class extends K{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:A.id,title:{...h.localize2(27,"Go to Definition"),mnemonicTitle:h.localize(4,null)},precondition:t.EditorContextKeys.hasDefinitionProvider,keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:70,weight:100},{when:d.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:2118,weight:100}],menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.1},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:2}]}),g.CommandsRegistry.registerCommandAlias("editor.action.goToDeclaration",A.id)}},A.id="editor.action.revealDefinition",A)),(0,l.registerAction2)((O=class extends K{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:O.id,title:h.localize2(28,"Open Definition to the Side"),precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:[{when:t.EditorContextKeys.editorTextFocus,primary:(0,E.KeyChord)(2089,70),weight:100},{when:d.ContextKeyExpr.and(t.EditorContextKeys.editorTextFocus,N.IsWebContext),primary:(0,E.KeyChord)(2089,2118),weight:100}]}),g.CommandsRegistry.registerCommandAlias("editor.action.openDeclarationToTheSide",O.id)}},O.id="editor.action.revealDefinitionAside",O)),(0,l.registerAction2)((M=class extends K{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:M.id,title:h.localize2(29,"Peek Definition"),precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasDefinitionProvider,a.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:582,linux:{primary:3140},weight:100},menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:2}}),g.CommandsRegistry.registerCommandAlias("editor.action.previewDeclaration",M.id)}},M.id="editor.action.peekDefinition",M));class U extends j{async _getLocationModel(Z,re,ce,he){return new m.ReferencesModel(await(0,L.getDeclarationsAtPosition)(Z.declarationProvider,re,ce,he),h.localize(5,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?h.localize(6,null,Z.word):h.localize(7,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeDeclarationCommand}_getGoToPreference(Z){return Z.getOption(58).multipleDeclarations}}(0,l.registerAction2)((R=class extends U{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:R.id,title:{...h.localize2(30,"Go to Declaration"),mnemonicTitle:h.localize(8,null)},precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.3},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}_getNoResultFoundMessage(Z){return Z&&Z.word?h.localize(9,null,Z.word):h.localize(10,null)}},R.id="editor.action.revealDeclaration",R)),(0,l.registerAction2)(class extends U{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",title:h.localize2(31,"Peek Declaration"),precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasDeclarationProvider,a.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:3}})}});class G extends j{async _getLocationModel(Z,re,ce,he){return new m.ReferencesModel(await(0,L.getTypeDefinitionsAtPosition)(Z.typeDefinitionProvider,re,ce,he),h.localize(11,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?h.localize(12,null,Z.word):h.localize(13,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeTypeDefinitionCommand}_getGoToPreference(Z){return Z.getOption(58).multipleTypeDefinitions}}(0,l.registerAction2)((x=class extends G{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:x.ID,title:{...h.localize2(32,"Go to Type Definition"),mnemonicTitle:h.localize(14,null)},precondition:t.EditorContextKeys.hasTypeDefinitionProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:0,weight:100},menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.4},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:3}]})}},x.ID="editor.action.goToTypeDefinition",x)),(0,l.registerAction2)((F=class extends G{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:F.ID,title:h.localize2(33,"Peek Type Definition"),precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasTypeDefinitionProvider,a.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:4}})}},F.ID="editor.action.peekTypeDefinition",F));class te extends j{async _getLocationModel(Z,re,ce,he){return new m.ReferencesModel(await(0,L.getImplementationsAtPosition)(Z.implementationProvider,re,ce,he),h.localize(15,null))}_getNoResultFoundMessage(Z){return Z&&Z.word?h.localize(16,null,Z.word):h.localize(17,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeImplementationCommand}_getGoToPreference(Z){return Z.getOption(58).multipleImplementations}}(0,l.registerAction2)((W=class extends te{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:W.ID,title:{...h.localize2(34,"Go to Implementations"),mnemonicTitle:h.localize(18,null)},precondition:t.EditorContextKeys.hasImplementationProvider,keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:2118,weight:100},menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.45},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:4}]})}},W.ID="editor.action.goToImplementation",W)),(0,l.registerAction2)((H=class extends te{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:H.ID,title:h.localize2(35,"Peek Implementations"),precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasImplementationProvider,a.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:3142,weight:100},menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:5}})}},H.ID="editor.action.peekImplementation",H));class ee extends j{_getNoResultFoundMessage(Z){return Z?h.localize(19,null,Z.word):h.localize(20,null)}_getAlternativeCommand(Z){return Z.getOption(58).alternativeReferenceCommand}_getGoToPreference(Z){return Z.getOption(58).multipleReferences}}(0,l.registerAction2)(class extends ee{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",title:{...h.localize2(36,"Go to References"),mnemonicTitle:h.localize(21,null)},precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,a.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),keybinding:{when:t.EditorContextKeys.editorTextFocus,primary:1094,weight:100},menu:[{id:l.MenuId.EditorContext,group:"navigation",order:1.45},{id:l.MenuId.MenubarGoMenu,precondition:null,group:"4_symbol_nav",order:5}]})}async _getLocationModel(Z,re,ce,he){return new m.ReferencesModel(await(0,L.getReferencesAtPosition)(Z.referenceProvider,re,ce,!0,he),h.localize(22,null))}}),(0,l.registerAction2)(class extends ee{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",title:h.localize2(37,"Peek References"),precondition:d.ContextKeyExpr.and(t.EditorContextKeys.hasReferenceProvider,a.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated()),menu:{id:l.MenuId.EditorContextPeek,group:"peek",order:6}})}async _getLocationModel(Z,re,ce,he){return new m.ReferencesModel(await(0,L.getReferencesAtPosition)(Z.referenceProvider,re,ce,!1,he),h.localize(23,null))}});class Y extends j{constructor(Z,re,ce){super(Z,{id:"editor.action.goToLocation",title:h.localize2(38,"Go to Any Symbol"),precondition:d.ContextKeyExpr.and(a.PeekContext.notInPeekEditor,t.EditorContextKeys.isInEmbeddedEditor.toNegated())}),this._references=re,this._gotoMultipleBehaviour=ce}async _getLocationModel(Z,re,ce,he){return new m.ReferencesModel(this._references,h.localize(24,null))}_getNoResultFoundMessage(Z){return Z&&h.localize(25,null,Z.word)||""}_getGoToPreference(Z){var re;return(re=this._gotoMultipleBehaviour)!==null&&re!==void 0?re:Z.getOption(58).multipleReferences}_getAlternativeCommand(){return""}}g.CommandsRegistry.registerCommand({id:"editor.action.goToLocations",metadata:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:async(P,Z,re,ce,he,pe,ge)=>{(0,D.assertType)(y.URI.isUri(Z)),(0,D.assertType)(s.Position.isIPosition(re)),(0,D.assertType)(Array.isArray(ce)),(0,D.assertType)(typeof he>"u"||typeof he=="string"),(0,D.assertType)(typeof ge>"u"||typeof ge=="boolean");const X=P.get(C.ICodeEditorService),ae=await X.openCodeEditor({resource:Z},X.getFocusedCodeEditor());if((0,w.isCodeEditor)(ae))return ae.setPosition(re),ae.revealPositionInCenterIfOutsideViewport(re,0),ae.invokeWithinContext(oe=>{const B=new class extends Y{_getNoResultFoundMessage(q){return pe||super._getNoResultFoundMessage(q)}}({muteMessage:!pe,openInPeek:!!ge,openToSide:!1},ce,he);oe.get(v.IInstantiationService).invokeFunction(B.run.bind(B),ae)})}}),g.CommandsRegistry.registerCommand({id:"editor.action.peekLocations",metadata:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:y.URI},{name:"position",description:"The position at which to start",constraint:s.Position.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`"}]},handler:async(P,Z,re,ce,he)=>{P.get(g.ICommandService).executeCommand("editor.action.goToLocations",Z,re,ce,he,void 0,!0)}}),g.CommandsRegistry.registerCommand({id:"editor.action.findReferences",handler:(P,Z,re)=>{(0,D.assertType)(y.URI.isUri(Z)),(0,D.assertType)(s.Position.isIPosition(re));const ce=P.get(I.ILanguageFeaturesService),he=P.get(C.ICodeEditorService);return he.openCodeEditor({resource:Z},he.getFocusedCodeEditor()).then(pe=>{if(!(0,w.isCodeEditor)(pe)||!pe.hasModel())return;const ge=c.ReferencesController.get(pe);if(!ge)return;const X=(0,k.createCancelablePromise)(oe=>(0,L.getReferencesAtPosition)(ce.referenceProvider,pe.getModel(),s.Position.lift(re),!1,oe).then(B=>new m.ReferencesModel(B,h.localize(26,null)))),ae=new i.Range(re.lineNumber,re.column,re.lineNumber,re.column);return Promise.resolve(ge.toggleWidget(ae,X,!1))})}}),g.CommandsRegistry.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations")}),define(ie[412],ne([1,0,15,10,57,2,118,16,5,43,74,202,153,721,14,282,270,18,37,492]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.GotoDefinitionAtPositionEditorContribution=void 0;let a=r=class{constructor(l,g,d,v){this.textModelResolverService=g,this.languageService=d,this.languageFeaturesService=v,this.toUnhook=new D.DisposableStore,this.toUnhookForKeyboard=new D.DisposableStore,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=l,this.linkDecorations=this.editor.createDecorationsCollection();const _=new o.ClickLinkGesture(l);this.toUnhook.add(_),this.toUnhook.add(_.onMouseMoveOrRelevantKeyDown(([S,L])=>{this.startFindDefinitionFromMouse(S,L??void 0)})),this.toUnhook.add(_.onExecute(S=>{this.isEnabled(S)&&this.gotoDefinition(S.target.position,S.hasSideBySideModifier).catch(L=>{(0,k.onUnexpectedError)(L)}).finally(()=>{this.removeLinkDecorations()})})),this.toUnhook.add(_.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(l){return l.getContribution(r.ID)}async startFindDefinitionFromCursor(l){await this.startFindDefinition(l),this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(g=>{g&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))}startFindDefinitionFromMouse(l,g){if(l.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(l,g)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const d=l.target.position;this.startFindDefinition(d)}async startFindDefinition(l){var g;this.toUnhookForKeyboard.clear();const d=l?(g=this.editor.getModel())===null||g===void 0?void 0:g.getWordAtPosition(l):null;if(!d){this.currentWordAtPosition=null,this.removeLinkDecorations();return}if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===d.startColumn&&this.currentWordAtPosition.endColumn===d.endColumn&&this.currentWordAtPosition.word===d.word)return;this.currentWordAtPosition=d;const v=new y.EditorState(this.editor,15);this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,f.createCancelablePromise)(L=>this.findDefinition(l,L));let _;try{_=await this.previousPromise}catch(L){(0,k.onUnexpectedError)(L);return}if(!_||!_.length||!v.validate(this.editor)){this.removeLinkDecorations();return}const S=_[0].originSelectionRange?w.Range.lift(_[0].originSelectionRange):new w.Range(l.lineNumber,d.startColumn,l.lineNumber,d.endColumn);if(_.length>1){let L=S;for(const{originSelectionRange:I}of _)I&&(L=w.Range.plusRange(L,I));this.addDecoration(L,new E.MarkdownString().appendText(i.localize(0,null,_.length)))}else{const L=_[0];if(!L.uri)return;this.textModelResolverService.createModelReference(L.uri).then(I=>{if(!I.object||!I.object.textEditorModel){I.dispose();return}const{object:{textEditorModel:T}}=I,{startLineNumber:N}=L.range;if(N<1||N>T.getLineCount()){I.dispose();return}const A=this.getPreviewValue(T,N,L),O=this.languageService.guessLanguageIdByFilepathOrFirstLine(T.uri);this.addDecoration(S,A?new E.MarkdownString().appendCodeblock(O||"",A):void 0),I.dispose()})}}getPreviewValue(l,g,d){let v=d.range;return v.endLineNumber-v.startLineNumber>=r.MAX_SOURCE_PREVIEW_LINES&&(v=this.getPreviewRangeBasedOnIndentation(l,g)),this.stripIndentationFromPreviewRange(l,g,v)}stripIndentationFromPreviewRange(l,g,d){let _=l.getLineFirstNonWhitespaceColumn(g);for(let L=g+1;L<d.endLineNumber;L++){const I=l.getLineFirstNonWhitespaceColumn(L);_=Math.min(_,I)}return l.getValueInRange(d).replace(new RegExp(`^\\s{${_-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(l,g){const d=l.getLineFirstNonWhitespaceColumn(g),v=Math.min(l.getLineCount(),g+r.MAX_SOURCE_PREVIEW_LINES);let _=g+1;for(;_<v;_++){const S=l.getLineFirstNonWhitespaceColumn(_);if(d===S)break}return new w.Range(g,1,_+1,1)}addDecoration(l,g){const d={range:l,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:g}};this.linkDecorations.set([d])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(l,g){var d;return this.editor.hasModel()&&l.isLeftClick&&l.isNoneOrSingleMouseDown&&l.target.type===6&&!(((d=l.target.detail.injectedText)===null||d===void 0?void 0:d.options)instanceof u.ModelDecorationInjectedTextOptions)&&(l.hasTriggerModifier||(g?g.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(l,g){const d=this.editor.getModel();return d?(0,c.getDefinitionsAtPosition)(this.languageFeaturesService.definitionProvider,d,l,g):Promise.resolve(null)}gotoDefinition(l,g){return this.editor.setPosition(l),this.editor.invokeWithinContext(d=>{const v=!g&&this.editor.getOption(88)&&!this.isInPeekEditor(d);return new n.DefinitionAction({openToSide:g,openInPeek:v,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(d)})}isInPeekEditor(l){const g=l.get(t.IContextKeyService);return s.PeekContext.inPeekEditor.getValue(g)}dispose(){this.toUnhook.dispose(),this.toUnhookForKeyboard.dispose()}};e.GotoDefinitionAtPositionEditorContribution=a,a.ID="editor.contrib.gotodefinitionatposition",a.MAX_SOURCE_PREVIEW_LINES=8,e.GotoDefinitionAtPositionEditorContribution=a=r=Ie([ue(1,C.ITextModelService),ue(2,b.ILanguageService),ue(3,m.ILanguageFeaturesService)],a),(0,p.registerEditorContribution)(a.ID,a,2)}),define(ie[971],ne([1,0,6,13,15,10,2,50,5,18,258,152,279,129,410,729,104,61,92]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MarkerHoverParticipant=e.MarkerHover=void 0;const r=f.$;class a{constructor(d,v,_){this.owner=d,this.range=v,this.marker=_}isValidForHoverAnchor(d){return d.type===1&&this.range.startColumn<=d.range.startColumn&&this.range.endColumn>=d.range.endColumn}}e.MarkerHover=a;const h={type:1,filter:{include:i.CodeActionKind.QuickFix},triggerAction:i.CodeActionTriggerSource.QuickFixHover};let l=class{constructor(d,v,_,S){this._editor=d,this._markerDecorationsService=v,this._openerService=_,this._languageFeaturesService=S,this.hoverOrdinal=1,this.recentMarkerCodeActionsInfo=void 0}computeSync(d,v){if(!this._editor.hasModel()||d.type!==1&&!d.supportsMarkerHover)return[];const _=this._editor.getModel(),S=d.range.startLineNumber,L=_.getLineMaxColumn(S),I=[];for(const T of v){const N=T.range.startLineNumber===S?T.range.startColumn:1,A=T.range.endLineNumber===S?T.range.endColumn:L,O=this._markerDecorationsService.getMarker(_.uri,T);if(!O)continue;const M=new w.Range(d.range.startLineNumber,N,d.range.startLineNumber,A);I.push(new a(this,M,O))}return I}renderHoverParts(d,v){if(!v.length)return y.Disposable.None;const _=new y.DisposableStore;v.forEach(L=>d.fragment.appendChild(this.renderMarkerHover(L,_)));const S=v.length===1?v[0]:v.sort((L,I)=>c.MarkerSeverity.compare(L.marker.severity,I.marker.severity))[0];return this.renderMarkerStatusbar(d,S,_),_}renderMarkerHover(d,v){const _=r("div.hover-row");_.tabIndex=0;const S=f.append(_,r("div.marker.hover-contents")),{source:L,message:I,code:T,relatedInformation:N}=d.marker;this._editor.applyFontInfo(S);const A=f.append(S,r("span"));if(A.style.whiteSpace="pre-wrap",A.innerText=I,L||T)if(T&&typeof T!="string"){const O=r("span");if(L){const F=f.append(O,r("span"));F.innerText=L}const M=f.append(O,r("a.code-link"));M.setAttribute("href",T.target.toString()),v.add(f.addDisposableListener(M,"click",F=>{this._openerService.open(T.target,{allowCommands:!0}),F.preventDefault(),F.stopPropagation()}));const R=f.append(M,r("span"));R.innerText=T.value;const x=f.append(S,O);x.style.opacity="0.6",x.style.paddingLeft="6px"}else{const O=f.append(S,r("span"));O.style.opacity="0.6",O.style.paddingLeft="6px",O.innerText=L&&T?`${L}(${T})`:L||`(${T})`}if((0,k.isNonEmptyArray)(N))for(const{message:O,resource:M,startLineNumber:R,startColumn:x}of N){const F=f.append(S,r("div"));F.style.marginTop="8px";const W=f.append(F,r("a"));W.innerText=`${(0,p.basename)(M)}(${R}, ${x}): `,W.style.cursor="pointer",v.add(f.addDisposableListener(W,"click",z=>{z.stopPropagation(),z.preventDefault(),this._openerService&&this._openerService.open(M,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:R,startColumn:x}}}).catch(D.onUnexpectedError)}));const H=f.append(F,r("span"));H.innerText=O,this._editor.applyFontInfo(H)}return _}renderMarkerStatusbar(d,v,_){if(v.marker.severity===c.MarkerSeverity.Error||v.marker.severity===c.MarkerSeverity.Warning||v.marker.severity===c.MarkerSeverity.Info){const S=t.MarkerController.get(this._editor);S&&d.statusBar.addAction({label:n.localize(0,null),commandId:t.NextMarkerAction.ID,run:()=>{d.hide(),S.showAtMarker(v.marker),this._editor.focus()}})}if(!this._editor.getOption(91)){const S=d.statusBar.append(r("div"));this.recentMarkerCodeActionsInfo&&(c.IMarkerData.makeKey(this.recentMarkerCodeActionsInfo.marker)===c.IMarkerData.makeKey(v.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(S.textContent=n.localize(1,null)):this.recentMarkerCodeActionsInfo=void 0);const L=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?y.Disposable.None:(0,E.disposableTimeout)(()=>S.textContent=n.localize(2,null),200,_);S.textContent||(S.textContent="\xA0");const I=this.getCodeActions(v.marker);_.add((0,y.toDisposable)(()=>I.cancel())),I.then(T=>{if(L.dispose(),this.recentMarkerCodeActionsInfo={marker:v.marker,hasCodeActions:T.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){T.dispose(),S.textContent=n.localize(3,null);return}S.style.display="none";let N=!1;_.add((0,y.toDisposable)(()=>{N||T.dispose()})),d.statusBar.addAction({label:n.localize(4,null),commandId:o.quickFixCommandId,run:A=>{N=!0;const O=s.CodeActionController.get(this._editor),M=f.getDomNodePagePosition(A);d.hide(),O?.showCodeActions(h,T,{x:M.left,y:M.top,width:M.width,height:M.height})}})},D.onUnexpectedError)}}getCodeActions(d){return(0,E.createCancelablePromise)(v=>(0,o.getCodeActions)(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new w.Range(d.startLineNumber,d.startColumn,d.endLineNumber,d.endColumn),h,u.Progress.None,v))}};e.MarkerHoverParticipant=l,e.MarkerHoverParticipant=l=Ie([ue(1,C.IMarkerDecorationsService),ue(2,m.IOpenerService),ue(3,b.ILanguageFeaturesService)],l)}),define(ie[413],ne([1,0,6,41,19,188,5,74,282,153,29,25,14,58,8,51]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showGoToContextMenu=c,e.goToDefinitionWithLocation=m;async function c(u,r,a,h){var l;const g=u.get(p.ITextModelService),d=u.get(i.IContextMenuService),v=u.get(o.ICommandService),_=u.get(t.IInstantiationService),S=u.get(n.INotificationService);if(await h.item.resolve(E.CancellationToken.None),!h.part.location)return;const L=h.part.location,I=[],T=new Set(C.MenuRegistry.getMenuItems(C.MenuId.EditorContext).map(A=>(0,C.isIMenuItem)(A)?A.command.id:(0,D.generateUuid)()));for(const A of w.SymbolNavigationAction.all())T.has(A.desc.id)&&I.push(new k.Action(A.desc.id,C.MenuItemAction.label(A.desc,{renderShortTitle:!0}),void 0,!0,async()=>{const O=await g.createModelReference(L.uri);try{const M=new w.SymbolNavigationAnchor(O.object.textEditorModel,y.Range.getStartPosition(L.range)),R=h.item.anchor.range;await _.invokeFunction(A.runEditorCommand.bind(A),r,M,R)}finally{O.dispose()}}));if(h.part.command){const{command:A}=h.part;I.push(new k.Separator),I.push(new k.Action(A.id,A.title,void 0,!0,async()=>{var O;try{await v.executeCommand(A.id,...(O=A.arguments)!==null&&O!==void 0?O:[])}catch(M){S.notify({severity:n.Severity.Error,source:h.item.provider.displayName,message:M})}}))}const N=r.getOption(127);d.showContextMenu({domForShadowRoot:N&&(l=r.getDomNode())!==null&&l!==void 0?l:void 0,getAnchor:()=>{const A=f.getDomNodePagePosition(a);return{x:A.left,y:A.top+A.height+8}},getActions:()=>I,onHide:()=>{r.focus()},autoSelectFirstItem:!0})}async function m(u,r,a,h){const g=await u.get(p.ITextModelService).createModelReference(h.uri);await a.invokeWithinContext(async d=>{const v=r.hasSideBySideModifier,_=d.get(s.IContextKeyService),S=b.PeekContext.inPeekEditor.getValue(_),L=!v&&a.getOption(88)&&!S;return new w.DefinitionAction({openToSide:v,openInPeek:L,muteMessage:!0},{title:{value:"",original:""},id:"",precondition:void 0}).run(d,new w.SymbolNavigationAnchor(g.object.textEditorModel,y.Range.getStartPosition(h.range)),y.Range.lift(h.range))}),g.dispose()}}),define(ie[414],ne([1,0,6,13,15,19,10,2,45,20,22,178,138,38,72,5,28,42,37,84,18,74,202,354,413,25,48,8,51,33,23]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T){"use strict";var N;Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsController=e.RenderedInlayHintLabelPart=void 0;class A{constructor(){this._entries=new w.LRUCache(50)}get(H){const z=A._key(H);return this._entries.get(z)}set(H,z){const j=A._key(H);this._entries.set(j,z)}static _key(H){return`${H.uri.toString()}/${H.getVersionId()}`}}const O=(0,S.createDecorator)("IInlayHintsCache");(0,_.registerSingleton)(O,A,1);class M{constructor(H,z){this.item=H,this.index=z}get part(){const H=this.item.hint.label;return typeof H=="string"?{label:H}:H[this.index]}}e.RenderedInlayHintLabelPart=M;class R{constructor(H,z){this.part=H,this.hasTriggerModifier=z}}let x=N=class{static get(H){var z;return(z=H.getContribution(N.ID))!==null&&z!==void 0?z:void 0}constructor(H,z,j,K,U,G,te){this._editor=H,this._languageFeaturesService=z,this._inlayHintsCache=K,this._commandService=U,this._notificationService=G,this._instaService=te,this._disposables=new p.DisposableStore,this._sessionDisposables=new p.DisposableStore,this._decorationsMetadata=new Map,this._ruleFactory=new o.DynamicCssRules(this._editor),this._activeRenderMode=0,this._debounceInfo=j.for(z.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(z.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(H.onDidChangeModel(()=>this._update())),this._disposables.add(H.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(H.onDidChangeConfiguration(ee=>{ee.hasChanged(141)&&this._update()})),this._update()}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const H=this._editor.getOption(141);if(H.enabled==="off")return;const z=this._editor.getModel();if(!z||!this._languageFeaturesService.inlayHintsProvider.has(z))return;if(H.enabled==="on")this._activeRenderMode=0;else{let te,ee;H.enabled==="onUnlessPressed"?(te=0,ee=1):(te=1,ee=0),this._activeRenderMode=te,this._sessionDisposables.add(f.ModifierKeyEmitter.getInstance().event(Y=>{if(!this._editor.hasModel())return;const P=Y.altKey&&Y.ctrlKey&&!(Y.shiftKey||Y.metaKey)?ee:te;if(P!==this._activeRenderMode){this._activeRenderMode=P;const Z=this._editor.getModel(),re=this._copyInlayHintsWithCurrentAnchor(Z);this._updateHintsDecorators([Z.getFullModelRange()],re),G.schedule(0)}}))}const j=this._inlayHintsCache.get(z);j&&this._updateHintsDecorators([z.getFullModelRange()],j),this._sessionDisposables.add((0,p.toDisposable)(()=>{z.isDisposed()||this._cacheHintsForFastRestore(z)}));let K;const U=new Set,G=new E.RunOnceScheduler(async()=>{const te=Date.now();K?.dispose(!0),K=new D.CancellationTokenSource;const ee=z.onWillDispose(()=>K?.cancel());try{const Y=K.token,P=await g.InlayHintsFragments.create(this._languageFeaturesService.inlayHintsProvider,z,this._getHintsRanges(),Y);if(G.delay=this._debounceInfo.update(z,Date.now()-te),Y.isCancellationRequested){P.dispose();return}for(const Z of P.provider)typeof Z.onDidChangeInlayHints=="function"&&!U.has(Z)&&(U.add(Z),this._sessionDisposables.add(Z.onDidChangeInlayHints(()=>{G.isScheduled()||G.schedule()})));this._sessionDisposables.add(P),this._updateHintsDecorators(P.ranges,P.items),this._cacheHintsForFastRestore(z)}catch(Y){(0,y.onUnexpectedError)(Y)}finally{K.dispose(),ee.dispose()}},this._debounceInfo.get(z));this._sessionDisposables.add(G),this._sessionDisposables.add((0,p.toDisposable)(()=>K?.dispose(!0))),G.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(te=>{(te.scrollTopChanged||!G.isScheduled())&&G.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(te=>{K?.cancel();const ee=Math.max(G.delay,1250);G.schedule(ee)})),this._sessionDisposables.add(this._installDblClickGesture(()=>G.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const H=new p.DisposableStore,z=H.add(new l.ClickLinkGesture(this._editor)),j=new p.DisposableStore;return H.add(j),H.add(z.onMouseMoveOrRelevantKeyDown(K=>{const[U]=K,G=this._getInlayHintLabelPart(U),te=this._editor.getModel();if(!G||!te){j.clear();return}const ee=new D.CancellationTokenSource;j.add((0,p.toDisposable)(()=>ee.dispose(!0))),G.item.resolve(ee.token),this._activeInlayHintPart=G.part.command||G.part.location?new R(G,U.hasTriggerModifier):void 0;const Y=te.validatePosition(G.item.hint.position).lineNumber,P=new n.Range(Y,1,Y,te.getLineMaxColumn(Y)),Z=this._getInlineHintsForRange(P);this._updateHintsDecorators([P],Z),j.add((0,p.toDisposable)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([P],Z)}))})),H.add(z.onCancel(()=>j.clear())),H.add(z.onExecute(async K=>{const U=this._getInlayHintLabelPart(K);if(U){const G=U.part;G.location?this._instaService.invokeFunction(d.goToDefinitionWithLocation,K,this._editor,G.location):c.Command.is(G.command)&&await this._invokeCommand(G.command,U.item)}})),H}_getInlineHintsForRange(H){const z=new Set;for(const j of this._decorationsMetadata.values())H.containsRange(j.item.anchor.range)&&z.add(j.item);return Array.from(z)}_installDblClickGesture(H){return this._editor.onMouseUp(async z=>{if(z.event.detail!==2)return;const j=this._getInlayHintLabelPart(z);if(j&&(z.event.preventDefault(),await j.item.resolve(D.CancellationToken.None),(0,k.isNonEmptyArray)(j.item.hint.textEdits))){const K=j.item.hint.textEdits.map(U=>t.EditOperation.replace(n.Range.lift(U.range),U.text));this._editor.executeEdits("inlayHint.default",K),H()}})}_installContextMenu(){return this._editor.onContextMenu(async H=>{if(!(H.event.target instanceof HTMLElement))return;const z=this._getInlayHintLabelPart(H);z&&await this._instaService.invokeFunction(d.showGoToContextMenu,this._editor,H.event.target,z)})}_getInlayHintLabelPart(H){var z;if(H.target.type!==6)return;const j=(z=H.target.detail.injectedText)===null||z===void 0?void 0:z.options;if(j instanceof u.ModelDecorationInjectedTextOptions&&j?.attachedData instanceof M)return j.attachedData}async _invokeCommand(H,z){var j;try{await this._commandService.executeCommand(H.id,...(j=H.arguments)!==null&&j!==void 0?j:[])}catch(K){this._notificationService.notify({severity:L.Severity.Error,source:z.provider.displayName,message:K})}}_cacheHintsForFastRestore(H){const z=this._copyInlayHintsWithCurrentAnchor(H);this._inlayHintsCache.set(H,z)}_copyInlayHintsWithCurrentAnchor(H){const z=new Map;for(const[j,K]of this._decorationsMetadata){if(z.has(K.item))continue;const U=H.getDecorationRange(j);if(U){const G=new g.InlayHintAnchor(U,K.item.anchor.direction),te=K.item.with({anchor:G});z.set(K.item,te)}}return Array.from(z.values())}_getHintsRanges(){const z=this._editor.getModel(),j=this._editor.getVisibleRangesPlusViewportAboveBelow(),K=[];for(const U of j.sort(n.Range.compareRangesUsingStarts)){const G=z.validateRange(new n.Range(U.startLineNumber-30,U.startColumn,U.endLineNumber+30,U.endColumn));K.length===0||!n.Range.areIntersectingOrTouching(K[K.length-1],G)?K.push(G):K[K.length-1]=n.Range.plusRange(K[K.length-1],G)}return K}_updateHintsDecorators(H,z){var j,K;const U=[],G=(ge,X,ae,oe,B)=>{const q={content:ae,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:X.className,cursorStops:oe,attachedData:B};U.push({item:ge,classNameRef:X,decoration:{range:ge.anchor.range,options:{description:"InlayHint",showIfCollapsed:ge.anchor.range.isEmpty(),collapseOnReplaceEdit:!ge.anchor.range.isEmpty(),stickiness:0,[ge.anchor.direction]:this._activeRenderMode===0?q:void 0}}})},te=(ge,X)=>{const ae=this._ruleFactory.createClassNameRef({width:`${ee/3|0}px`,display:"inline-block"});G(ge,ae,"\u200A",X?m.InjectedTextCursorStops.Right:m.InjectedTextCursorStops.None)},{fontSize:ee,fontFamily:Y,padding:P,isUniform:Z}=this._getLayoutInfo(),re="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(re,Y);let ce={line:0,totalLen:0};for(const ge of z){if(ce.line!==ge.anchor.range.startLineNumber&&(ce={line:ge.anchor.range.startLineNumber,totalLen:0}),ce.totalLen>N._MAX_LABEL_LEN)continue;ge.hint.paddingLeft&&te(ge,!1);const X=typeof ge.hint.label=="string"?[{label:ge.hint.label}]:ge.hint.label;for(let ae=0;ae<X.length;ae++){const oe=X[ae],B=ae===0,q=ae===X.length-1,V={fontSize:`${ee}px`,fontFamily:`var(${re}), ${i.EDITOR_FONT_DEFAULTS.fontFamily}`,verticalAlign:Z?"baseline":"middle",unicodeBidi:"isolate"};(0,k.isNonEmptyArray)(ge.hint.textEdits)&&(V.cursor="default"),this._fillInColors(V,ge.hint),(oe.command||oe.location)&&((j=this._activeInlayHintPart)===null||j===void 0?void 0:j.part.item)===ge&&this._activeInlayHintPart.part.index===ae&&(V.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(V.color=(0,T.themeColorFromId)(I.editorActiveLinkForeground),V.cursor="pointer")),P&&(B&&q?(V.padding=`1px ${Math.max(1,ee/4)|0}px`,V.borderRadius=`${ee/4|0}px`):B?(V.padding=`1px 0 1px ${Math.max(1,ee/4)|0}px`,V.borderRadius=`${ee/4|0}px 0 0 ${ee/4|0}px`):q?(V.padding=`1px ${Math.max(1,ee/4)|0}px 1px 0`,V.borderRadius=`0 ${ee/4|0}px ${ee/4|0}px 0`):V.padding="1px 0 1px 0");let $=oe.label;ce.totalLen+=$.length;let J=!1;const se=ce.totalLen-N._MAX_LABEL_LEN;if(se>0&&($=$.slice(0,-se)+"\u2026",J=!0),G(ge,this._ruleFactory.createClassNameRef(V),F($),q&&!ge.hint.paddingRight?m.InjectedTextCursorStops.Right:m.InjectedTextCursorStops.None,new M(ge,ae)),J)break}if(ge.hint.paddingRight&&te(ge,!0),U.length>N._MAX_DECORATORS)break}const he=[];for(const[ge,X]of this._decorationsMetadata){const ae=(K=this._editor.getModel())===null||K===void 0?void 0:K.getDecorationRange(ge);ae&&H.some(oe=>oe.containsRange(ae))&&(he.push(ge),X.classNameRef.dispose(),this._decorationsMetadata.delete(ge))}const pe=s.StableEditorScrollState.capture(this._editor);this._editor.changeDecorations(ge=>{const X=ge.deltaDecorations(he,U.map(ae=>ae.decoration));for(let ae=0;ae<X.length;ae++){const oe=U[ae];this._decorationsMetadata.set(X[ae],oe)}}),pe.restore(this._editor)}_fillInColors(H,z){z.kind===c.InlayHintKind.Parameter?(H.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintParameterBackground),H.color=(0,T.themeColorFromId)(I.editorInlayHintParameterForeground)):z.kind===c.InlayHintKind.Type?(H.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintTypeBackground),H.color=(0,T.themeColorFromId)(I.editorInlayHintTypeForeground)):(H.backgroundColor=(0,T.themeColorFromId)(I.editorInlayHintBackground),H.color=(0,T.themeColorFromId)(I.editorInlayHintForeground))}_getLayoutInfo(){const H=this._editor.getOption(141),z=H.padding,j=this._editor.getOption(52),K=this._editor.getOption(49);let U=H.fontSize;(!U||U<5||U>j)&&(U=j);const G=H.fontFamily||K;return{fontSize:U,fontFamily:G,padding:z,isUniform:!z&&G===K&&U===j}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const H of this._decorationsMetadata.values())H.classNameRef.dispose();this._decorationsMetadata.clear()}};e.InlayHintsController=x,x.ID="editor.contrib.InlayHints",x._MAX_DECORATORS=1500,x._MAX_LABEL_LEN=43,e.InlayHintsController=x=N=Ie([ue(1,a.ILanguageFeaturesService),ue(2,r.ILanguageFeatureDebounceService),ue(3,O),ue(4,v.ICommandService),ue(5,L.INotificationService),ue(6,S.IInstantiationService)],x);function F(W){return W.replace(/[ \t]/g,"\xA0")}v.CommandsRegistry.registerCommand("_executeInlayHintProvider",async(W,...H)=>{const[z,j]=H;(0,b.assertType)(C.URI.isUri(z)),(0,b.assertType)(n.Range.isIRange(j));const{inlayHintsProvider:K}=W.get(a.ILanguageFeaturesService),U=await W.get(h.ITextModelService).createModelReference(z);try{const G=await g.InlayHintsFragments.create(K,U.object.textEditorModel,[n.Range.lift(j)],D.CancellationToken.None),te=G.items.map(ee=>ee.hint);return setTimeout(()=>G.dispose(),0),te}finally{U.dispose()}})}),define(ie[415],ne([1,0,15,57,9,37,96,43,74,391,209,414,27,61,18,732,17,354,13,32,115]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlayHintsHover=void 0;class h extends y.HoverForeignElementAnchor{constructor(d,v,_,S){super(10,v,d.item.anchor.range,_,S,!0),this.part=d}}let l=class extends C.MarkdownHoverParticipant{constructor(d,v,_,S,L,I,T,N){super(d,v,_,I,N,S,L),this._resolverService=T,this.hoverOrdinal=6}suggestHoverAnchor(d){var v;if(!o.InlayHintsController.get(this._editor)||d.target.type!==6)return null;const S=(v=d.target.detail.injectedText)===null||v===void 0?void 0:v.options;return S instanceof D.ModelDecorationInjectedTextOptions&&S.attachedData instanceof o.RenderedInlayHintLabelPart?new h(S.attachedData,this,d.event.posx,d.event.posy):null}computeSync(){return[]}computeAsync(d,v,_){return d instanceof h?new f.AsyncIterableObject(async S=>{const{part:L}=d;if(await L.item.resolve(_),_.isCancellationRequested)return;let I;typeof L.item.hint.tooltip=="string"?I=new k.MarkdownString().appendText(L.item.hint.tooltip):L.item.hint.tooltip&&(I=L.item.hint.tooltip),I&&S.emitOne(new C.MarkdownHover(this,d.range,[I],!1,0)),(0,u.isNonEmptyArray)(L.item.hint.textEdits)&&S.emitOne(new C.MarkdownHover(this,d.range,[new k.MarkdownString().appendText((0,n.localize)(0,null))],!1,10001));let T;if(typeof L.part.tooltip=="string"?T=new k.MarkdownString().appendText(L.part.tooltip):L.part.tooltip&&(T=L.part.tooltip),T&&S.emitOne(new C.MarkdownHover(this,d.range,[T],!1,1)),L.part.location||L.part.command){let A;const M=this._editor.getOption(78)==="altKey"?c.isMacintosh?(0,n.localize)(1,null):(0,n.localize)(2,null):c.isMacintosh?(0,n.localize)(3,null):(0,n.localize)(4,null);L.part.location&&L.part.command?A=new k.MarkdownString().appendText((0,n.localize)(5,null,M)):L.part.location?A=new k.MarkdownString().appendText((0,n.localize)(6,null,M)):L.part.command&&(A=new k.MarkdownString(`[${(0,n.localize)(7,null)}](${(0,m.asCommandLink)(L.part.command)} "${L.part.command.title}") (${M})`,{isTrusted:!0})),A&&S.emitOne(new C.MarkdownHover(this,d.range,[A],!1,1e4))}const N=await this._resolveInlayHintLabelPartHover(L,_);for await(const A of N)S.emitOne(A)}):f.AsyncIterableObject.EMPTY}async _resolveInlayHintLabelPartHover(d,v){if(!d.part.location)return f.AsyncIterableObject.EMPTY;const{uri:_,range:S}=d.part.location,L=await this._resolverService.createModelReference(_);try{const I=L.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(I)?(0,b.getHoverProviderResultsAsAsyncIterable)(this._languageFeaturesService.hoverProvider,I,new E.Position(S.startLineNumber,S.startColumn),v).filter(T=>!(0,k.isEmptyMarkdownString)(T.hover.contents)).map(T=>new C.MarkdownHover(this,d.item.anchor.range,T.hover.contents,!1,2+T.ordinal)):f.AsyncIterableObject.EMPTY}finally{L.dispose()}}};e.InlayHintsHover=l,e.InlayHintsHover=l=Ie([ue(1,p.ILanguageService),ue(2,i.IOpenerService),ue(3,r.IKeybindingService),ue(4,a.IHoverService),ue(5,s.IConfigurationService),ue(6,w.ITextModelService),ue(7,t.ILanguageFeaturesService)],l)}),define(ie[972],ne([1,0,6,2,9,5,37,28,353,96,8,32,209,415,372,652,593,371]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m){"use strict";var u;Object.defineProperty(e,"__esModule",{value:!0}),e.ContentHoverController=void 0;let r=u=class extends k.Disposable{constructor(h,l,g){super(),this._editor=h,this._instantiationService=l,this._keybindingService=g,this._currentResult=null,this._widget=this._register(this._instantiationService.createInstance(t.ContentHoverWidget,this._editor)),this._participants=[];for(const d of b.HoverParticipantRegistry.getAll()){const v=this._instantiationService.createInstance(d,this._editor);v instanceof s.MarkdownHoverParticipant&&!(v instanceof i.InlayHintsHover)&&(this._markdownHoverParticipant=v),this._participants.push(v)}this._participants.sort((d,v)=>d.hoverOrdinal-v.hoverOrdinal),this._computer=new n.ContentHoverComputer(this._editor,this._participants),this._hoverOperation=this._register(new w.HoverOperation(this._editor,this._computer)),this._register(this._hoverOperation.onResult(d=>{if(!this._computer.anchor)return;const v=d.hasLoadingMessage?this._addLoadingMessage(d.value):d.value;this._withResult(new c.HoverResult(this._computer.anchor,v,d.isComplete))})),this._register(f.addStandardDisposableListener(this._widget.getDomNode(),"keydown",d=>{d.equals(9)&&this.hide()})),this._register(p.TokenizationRegistry.onDidChange(()=>{this._widget.position&&this._currentResult&&this._setCurrentResult(this._currentResult)}))}_startShowingOrUpdateHover(h,l,g,d,v){return!this._widget.position||!this._currentResult?h?(this._startHoverOperationIfNecessary(h,l,g,d,!1),!0):!1:this._editor.getOption(60).sticky&&v&&this._widget.isMouseGettingCloser(v.event.posx,v.event.posy)?(h&&this._startHoverOperationIfNecessary(h,l,g,d,!0),!0):h?h&&this._currentResult.anchor.equals(h)?!0:h.canAdoptVisibleHover(this._currentResult.anchor,this._widget.position)?(this._setCurrentResult(this._currentResult.filter(h)),this._startHoverOperationIfNecessary(h,l,g,d,!1),!0):(this._setCurrentResult(null),this._startHoverOperationIfNecessary(h,l,g,d,!1),!0):(this._setCurrentResult(null),!1)}_startHoverOperationIfNecessary(h,l,g,d,v){this._computer.anchor&&this._computer.anchor.equals(h)||(this._hoverOperation.cancel(),this._computer.anchor=h,this._computer.shouldFocus=d,this._computer.source=g,this._computer.insistOnKeepingHoverVisible=v,this._hoverOperation.start(l))}_setCurrentResult(h){this._currentResult!==h&&(h&&h.messages.length===0&&(h=null),this._currentResult=h,this._currentResult?this._renderMessages(this._currentResult.anchor,this._currentResult.messages):this._widget.hide())}_addLoadingMessage(h){if(this._computer.anchor){for(const l of this._participants)if(l.createLoadingMessage){const g=l.createLoadingMessage(this._computer.anchor);if(g)return h.slice(0).concat([g])}}return h}_withResult(h){this._widget.position&&this._currentResult&&this._currentResult.isComplete&&(!h.isComplete||this._computer.insistOnKeepingHoverVisible&&h.messages.length===0)||this._setCurrentResult(h)}_renderMessages(h,l){const{showAtPosition:g,showAtSecondaryPosition:d,highlightRange:v}=u.computeHoverRanges(this._editor,h.range,l),_=new k.DisposableStore,S=_.add(new m.EditorHoverStatusBar(this._keybindingService)),L=document.createDocumentFragment();let I=null;const T={fragment:L,statusBar:S,setColorPicker:A=>I=A,onContentsChanged:()=>this._widget.onContentsChanged(),setMinimumDimensions:A=>this._widget.setMinimumDimensions(A),hide:()=>this.hide()};for(const A of this._participants){const O=l.filter(M=>M.owner===A);O.length>0&&_.add(A.renderHoverParts(T,O))}const N=l.some(A=>A.isBeforeContent);if(S.hasContent&&L.appendChild(S.hoverElement),L.hasChildNodes()){if(v){const A=this._editor.createDecorationsCollection();A.set([{range:v,options:u._DECORATION_OPTIONS}]),_.add((0,k.toDisposable)(()=>{A.clear()}))}this._widget.showAt(L,new c.ContentHoverVisibleData(h.initialMousePosX,h.initialMousePosY,I,g,d,this._editor.getOption(60).above,this._computer.shouldFocus,this._computer.source,N,_))}else _.dispose()}static computeHoverRanges(h,l,g){let d=1;if(h.hasModel()){const N=h._getViewModel(),A=N.coordinatesConverter,O=A.convertModelRangeToViewRange(l),M=new E.Position(O.startLineNumber,N.getLineMinColumn(O.startLineNumber));d=A.convertViewPositionToModelPosition(M).column}const v=l.startLineNumber;let _=l.startColumn,S=g[0].range,L=null;for(const N of g)S=D.Range.plusRange(S,N.range),N.range.startLineNumber===v&&N.range.endLineNumber===v&&(_=Math.max(Math.min(_,N.range.startColumn),d)),N.forceShowAtRange&&(L=N.range);const I=L?L.getStartPosition():new E.Position(v,l.startColumn),T=L?L.getStartPosition():new E.Position(v,_);return{showAtPosition:I,showAtSecondaryPosition:T,highlightRange:S}}showsOrWillShow(h){if(this._widget.isResizing)return!0;const l=[];for(const d of this._participants)if(d.suggestHoverAnchor){const v=d.suggestHoverAnchor(h);v&&l.push(v)}const g=h.target;if(g.type===6&&l.push(new b.HoverRangeAnchor(0,g.range,h.event.posx,h.event.posy)),g.type===7){const d=this._editor.getOption(50).typicalHalfwidthCharacterWidth/2;!g.detail.isAfterLines&&typeof g.detail.horizontalDistanceToText=="number"&&g.detail.horizontalDistanceToText<d&&l.push(new b.HoverRangeAnchor(0,g.range,h.event.posx,h.event.posy))}return l.length===0?this._startShowingOrUpdateHover(null,0,0,!1,h):(l.sort((d,v)=>v.priority-d.priority),this._startShowingOrUpdateHover(l[0],0,0,!1,h))}startShowingAtRange(h,l,g,d){this._startShowingOrUpdateHover(new b.HoverRangeAnchor(0,h,void 0,void 0),l,g,d,null)}async updateFocusedMarkdownHoverVerbosityLevel(h){var l;(l=this._markdownHoverParticipant)===null||l===void 0||l.updateFocusedMarkdownHoverPartVerbosityLevel(h)}containsNode(h){return h?this._widget.getDomNode().contains(h):!1}focus(){this._widget.focus()}scrollUp(){this._widget.scrollUp()}scrollDown(){this._widget.scrollDown()}scrollLeft(){this._widget.scrollLeft()}scrollRight(){this._widget.scrollRight()}pageUp(){this._widget.pageUp()}pageDown(){this._widget.pageDown()}goToTop(){this._widget.goToTop()}goToBottom(){this._widget.goToBottom()}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._setCurrentResult(null)}get isColorPickerVisible(){return this._widget.isColorPickerVisible}get isVisibleFromKeyboard(){return this._widget.isVisibleFromKeyboard}get isVisible(){return this._widget.isVisible}get isFocused(){return this._widget.isFocused}get isResizing(){return this._widget.isResizing}get widget(){return this._widget}};e.ContentHoverController=r,r._DECORATION_OPTIONS=y.ModelDecorationOptions.register({description:"content-hover-highlight",className:"hoverHighlight"}),e.ContentHoverController=r=u=Ie([ue(1,C.IInstantiationService),ue(2,o.IKeybindingService)],r)}),define(ie[283],ne([1,0,237,2,8,276,32,15,372,972,843,221]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";var o;Object.defineProperty(e,"__esModule",{value:!0}),e.HoverController=void 0;const s=!1;let i=o=class extends k.Disposable{constructor(n,c,m){super(),this._editor=n,this._instantiationService=c,this._keybindingService=m,this._listenersStore=new k.DisposableStore,this._hoverState={mouseDown:!1,activatedByDecoratorClick:!1},this._reactToEditorMouseMoveRunner=this._register(new p.RunOnceScheduler(()=>this._reactToEditorMouseMove(this._mouseMoveEvent),0)),this._hookListeners(),this._register(this._editor.onDidChangeConfiguration(u=>{u.hasChanged(60)&&(this._unhookListeners(),this._hookListeners())}))}static get(n){return n.getContribution(o.ID)}_hookListeners(){const n=this._editor.getOption(60);this._hoverSettings={enabled:n.enabled,sticky:n.sticky,hidingDelay:n.delay},n.enabled?(this._listenersStore.add(this._editor.onMouseDown(c=>this._onEditorMouseDown(c))),this._listenersStore.add(this._editor.onMouseUp(()=>this._onEditorMouseUp())),this._listenersStore.add(this._editor.onMouseMove(c=>this._onEditorMouseMove(c))),this._listenersStore.add(this._editor.onKeyDown(c=>this._onKeyDown(c)))):(this._listenersStore.add(this._editor.onMouseMove(c=>this._onEditorMouseMove(c))),this._listenersStore.add(this._editor.onKeyDown(c=>this._onKeyDown(c)))),this._listenersStore.add(this._editor.onMouseLeave(c=>this._onEditorMouseLeave(c))),this._listenersStore.add(this._editor.onDidChangeModel(()=>{this._cancelScheduler(),this._hideWidgets()})),this._listenersStore.add(this._editor.onDidChangeModelContent(()=>this._cancelScheduler())),this._listenersStore.add(this._editor.onDidScrollChange(c=>this._onEditorScrollChanged(c)))}_unhookListeners(){this._listenersStore.clear()}_cancelScheduler(){this._mouseMoveEvent=void 0,this._reactToEditorMouseMoveRunner.cancel()}_onEditorScrollChanged(n){(n.scrollTopChanged||n.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(n){this._hoverState.mouseDown=!0,!this._shouldNotHideCurrentHoverWidget(n)&&this._hideWidgets()}_shouldNotHideCurrentHoverWidget(n){return!!(this._isMouseOnContentHoverWidget(n)||this._isMouseOnMarginHoverWidget(n)||this._isContentWidgetResizing())}_isMouseOnMarginHoverWidget(n){const c=n.target;return c?c.type===12&&c.detail===C.MarginHoverWidget.ID:!1}_isMouseOnContentHoverWidget(n){const c=n.target;return c?c.type===9&&c.detail===w.ContentHoverWidget.ID:!1}_onEditorMouseUp(){this._hoverState.mouseDown=!1}_onEditorMouseLeave(n){this._cancelScheduler(),!this._shouldNotHideCurrentHoverWidget(n)&&(s||this._hideWidgets())}_shouldNotRecomputeCurrentHoverWidget(n){const c=this._hoverSettings.sticky,m=(h,l)=>{const g=this._isMouseOnMarginHoverWidget(h);return l&&g},u=(h,l)=>{const g=this._isMouseOnContentHoverWidget(h);return l&&g},r=h=>{var l;const g=this._isMouseOnContentHoverWidget(h),d=(l=this._contentWidget)===null||l===void 0?void 0:l.isColorPickerVisible;return g&&d},a=(h,l)=>{var g,d,v,_;return l&&((g=this._contentWidget)===null||g===void 0?void 0:g.containsNode((d=h.event.browserEvent.view)===null||d===void 0?void 0:d.document.activeElement))&&!(!((_=(v=h.event.browserEvent.view)===null||v===void 0?void 0:v.getSelection())===null||_===void 0)&&_.isCollapsed)};return!!(m(n,c)||u(n,c)||r(n)||a(n,c))}_onEditorMouseMove(n){var c,m,u,r;if(this._mouseMoveEvent=n,!((c=this._contentWidget)===null||c===void 0)&&c.isFocused||!((m=this._contentWidget)===null||m===void 0)&&m.isResizing)return;const a=this._hoverSettings.sticky;if(a&&(!((u=this._contentWidget)===null||u===void 0)&&u.isVisibleFromKeyboard))return;if(this._shouldNotRecomputeCurrentHoverWidget(n)){this._reactToEditorMouseMoveRunner.cancel();return}const l=this._hoverSettings.hidingDelay;if(((r=this._contentWidget)===null||r===void 0?void 0:r.isVisible)&&a&&l>0){this._reactToEditorMouseMoveRunner.isScheduled()||this._reactToEditorMouseMoveRunner.schedule(l);return}this._reactToEditorMouseMove(n)}_reactToEditorMouseMove(n){var c;if(!n)return;const u=(c=n.target.element)===null||c===void 0?void 0:c.classList.contains("colorpicker-color-decoration"),r=this._editor.getOption(148),a=this._hoverSettings.enabled,h=this._hoverState.activatedByDecoratorClick;if(u&&(r==="click"&&!h||r==="hover"&&!a&&!s||r==="clickAndHover"&&!a&&!h)||!u&&!a&&!h){this._hideWidgets();return}this._tryShowHoverWidget(n,0)||this._tryShowHoverWidget(n,1)||s||this._hideWidgets()}_tryShowHoverWidget(n,c){const m=this._getOrCreateContentWidget(),u=this._getOrCreateGlyphWidget();let r,a;switch(c){case 0:r=m,a=u;break;case 1:r=u,a=m;break;default:throw new Error(`HoverWidgetType ${c} is unrecognized`)}const h=r.showsOrWillShow(n);return h&&a.hide(),h}_onKeyDown(n){var c;if(!this._editor.hasModel())return;const m=this._keybindingService.softDispatch(n,this._editor.getDomNode()),u=m.kind===1||m.kind===2&&(m.commandId===f.SHOW_OR_FOCUS_HOVER_ACTION_ID||m.commandId===f.INCREASE_HOVER_VERBOSITY_ACTION_ID||m.commandId===f.DECREASE_HOVER_VERBOSITY_ACTION_ID)&&((c=this._contentWidget)===null||c===void 0?void 0:c.isVisible);n.keyCode===5||n.keyCode===6||n.keyCode===57||n.keyCode===4||u||this._hideWidgets()}_hideWidgets(){var n,c,m;s||this._hoverState.mouseDown&&(!((n=this._contentWidget)===null||n===void 0)&&n.isColorPickerVisible)||D.InlineSuggestionHintsContentWidget.dropDownVisible||(this._hoverState.activatedByDecoratorClick=!1,(c=this._glyphWidget)===null||c===void 0||c.hide(),(m=this._contentWidget)===null||m===void 0||m.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(b.ContentHoverController,this._editor)),this._contentWidget}_getOrCreateGlyphWidget(){return this._glyphWidget||(this._glyphWidget=this._instantiationService.createInstance(C.MarginHoverWidget,this._editor)),this._glyphWidget}showContentHover(n,c,m,u,r=!1){this._hoverState.activatedByDecoratorClick=r,this._getOrCreateContentWidget().startShowingAtRange(n,c,m,u)}_isContentWidgetResizing(){var n;return((n=this._contentWidget)===null||n===void 0?void 0:n.widget.isResizing)||!1}updateFocusedMarkdownHoverVerbosityLevel(n){this._getOrCreateContentWidget().updateFocusedMarkdownHoverVerbosityLevel(n)}focus(){var n;(n=this._contentWidget)===null||n===void 0||n.focus()}scrollUp(){var n;(n=this._contentWidget)===null||n===void 0||n.scrollUp()}scrollDown(){var n;(n=this._contentWidget)===null||n===void 0||n.scrollDown()}scrollLeft(){var n;(n=this._contentWidget)===null||n===void 0||n.scrollLeft()}scrollRight(){var n;(n=this._contentWidget)===null||n===void 0||n.scrollRight()}pageUp(){var n;(n=this._contentWidget)===null||n===void 0||n.pageUp()}pageDown(){var n;(n=this._contentWidget)===null||n===void 0||n.pageDown()}goToTop(){var n;(n=this._contentWidget)===null||n===void 0||n.goToTop()}goToBottom(){var n;(n=this._contentWidget)===null||n===void 0||n.goToBottom()}get isColorPickerVisible(){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.isColorPickerVisible}get isHoverVisible(){var n;return(n=this._contentWidget)===null||n===void 0?void 0:n.isVisible}dispose(){var n,c;super.dispose(),this._unhookListeners(),this._listenersStore.dispose(),(n=this._glyphWidget)===null||n===void 0||n.dispose(),(c=this._contentWidget)===null||c===void 0||c.dispose()}};e.HoverController=i,i.ID="editor.contrib.hover",e.HoverController=i=o=Ie([ue(1,E.IInstantiationService),ue(2,y.IKeybindingService)],i)}),define(ie[973],ne([1,0,2,16,5,405,406,283,96]),function(Q,e,f,k,E,D,y,p,w){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ColorContribution=void 0;class b extends f.Disposable{constructor(o){super(),this._editor=o,this._register(o.onMouseDown(s=>this.onMouseDown(s)))}dispose(){super.dispose()}onMouseDown(o){const s=this._editor.getOption(148);if(s!=="click"&&s!=="clickAndHover")return;const i=o.target;if(i.type!==6||!i.detail.injectedText||i.detail.injectedText.options.attachedData!==D.ColorDecorationInjectedTextMarker||!i.range)return;const t=this._editor.getContribution(p.HoverController.ID);if(t&&!t.isColorPickerVisible){const n=new E.Range(i.range.startLineNumber,i.range.startColumn+1,i.range.endLineNumber,i.range.endColumn+1);t.showContentHover(n,1,0,!1,!0)}}}e.ColorContribution=b,b.ID="editor.contrib.colorContribution",(0,k.registerEditorContribution)(b.ID,b,2),w.HoverParticipantRegistry.register(y.ColorHoverParticipant)}),define(ie[974],ne([1,0,237,69,16,5,21,412,283,28,727,221]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DecreaseHoverVerbosityLevel=e.IncreaseHoverVerbosityLevel=e.GoToBottomHoverAction=e.GoToTopHoverAction=e.PageDownHoverAction=e.PageUpHoverAction=e.ScrollRightHoverAction=e.ScrollLeftHoverAction=e.ScrollDownHoverAction=e.ScrollUpHoverAction=e.ShowDefinitionPreviewHoverAction=e.ShowOrFocusHoverAction=void 0;var o;(function(d){d.NoAutoFocus="noAutoFocus",d.FocusIfVisible="focusIfVisible",d.AutoFocusImmediately="autoFocusImmediately"})(o||(o={}));class s extends E.EditorAction{constructor(){super({id:f.SHOW_OR_FOCUS_HOVER_ACTION_ID,label:C.localize(0,null),metadata:{description:C.localize2(15,"Show or focus the editor hover which shows documentation, references, and other content for a symbol at the current cursor position."),args:[{name:"args",schema:{type:"object",properties:{focus:{description:"Controls if and when the hover should take focus upon being triggered by this action.",enum:[o.NoAutoFocus,o.FocusIfVisible,o.AutoFocusImmediately],enumDescriptions:[C.localize(1,null),C.localize(2,null),C.localize(3,null)],default:o.FocusIfVisible}}}}]},alias:"Show or Focus Hover",precondition:void 0,kbOpts:{kbExpr:y.EditorContextKeys.editorTextFocus,primary:(0,k.KeyChord)(2089,2087),weight:100}})}run(v,_,S){if(!_.hasModel())return;const L=w.HoverController.get(_);if(!L)return;const I=S?.focus;let T=o.FocusIfVisible;Object.values(o).includes(I)?T=I:typeof I=="boolean"&&I&&(T=o.AutoFocusImmediately);const N=O=>{const M=_.getPosition(),R=new D.Range(M.lineNumber,M.column,M.lineNumber,M.column);L.showContentHover(R,1,1,O)},A=_.getOption(2)===2;L.isHoverVisible?T!==o.NoAutoFocus?L.focus():N(A):N(A||T===o.AutoFocusImmediately)}}e.ShowOrFocusHoverAction=s;class i extends E.EditorAction{constructor(){super({id:f.SHOW_DEFINITION_PREVIEW_HOVER_ACTION_ID,label:C.localize(4,null),alias:"Show Definition Preview Hover",precondition:void 0,metadata:{description:C.localize2(16,"Show the definition preview hover in the editor.")}})}run(v,_){const S=w.HoverController.get(_);if(!S)return;const L=_.getPosition();if(!L)return;const I=new D.Range(L.lineNumber,L.column,L.lineNumber,L.column),T=p.GotoDefinitionAtPositionEditorContribution.get(_);if(!T)return;T.startFindDefinitionFromCursor(L).then(()=>{S.showContentHover(I,1,1,!0)})}}e.ShowDefinitionPreviewHoverAction=i;class t extends E.EditorAction{constructor(){super({id:f.SCROLL_UP_HOVER_ACTION_ID,label:C.localize(5,null),alias:"Scroll Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:16,weight:100},metadata:{description:C.localize2(17,"Scroll up the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.scrollUp()}}e.ScrollUpHoverAction=t;class n extends E.EditorAction{constructor(){super({id:f.SCROLL_DOWN_HOVER_ACTION_ID,label:C.localize(6,null),alias:"Scroll Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:18,weight:100},metadata:{description:C.localize2(18,"Scroll down the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.scrollDown()}}e.ScrollDownHoverAction=n;class c extends E.EditorAction{constructor(){super({id:f.SCROLL_LEFT_HOVER_ACTION_ID,label:C.localize(7,null),alias:"Scroll Left Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:15,weight:100},metadata:{description:C.localize2(19,"Scroll left the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.scrollLeft()}}e.ScrollLeftHoverAction=c;class m extends E.EditorAction{constructor(){super({id:f.SCROLL_RIGHT_HOVER_ACTION_ID,label:C.localize(8,null),alias:"Scroll Right Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:17,weight:100},metadata:{description:C.localize2(20,"Scroll right the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.scrollRight()}}e.ScrollRightHoverAction=m;class u extends E.EditorAction{constructor(){super({id:f.PAGE_UP_HOVER_ACTION_ID,label:C.localize(9,null),alias:"Page Up Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:11,secondary:[528],weight:100},metadata:{description:C.localize2(21,"Page up the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.pageUp()}}e.PageUpHoverAction=u;class r extends E.EditorAction{constructor(){super({id:f.PAGE_DOWN_HOVER_ACTION_ID,label:C.localize(10,null),alias:"Page Down Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:12,secondary:[530],weight:100},metadata:{description:C.localize2(22,"Page down the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.pageDown()}}e.PageDownHoverAction=r;class a extends E.EditorAction{constructor(){super({id:f.GO_TO_TOP_HOVER_ACTION_ID,label:C.localize(11,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:14,secondary:[2064],weight:100},metadata:{description:C.localize2(23,"Go to the top of the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.goToTop()}}e.GoToTopHoverAction=a;class h extends E.EditorAction{constructor(){super({id:f.GO_TO_BOTTOM_HOVER_ACTION_ID,label:C.localize(12,null),alias:"Go To Bottom Hover",precondition:y.EditorContextKeys.hoverFocused,kbOpts:{kbExpr:y.EditorContextKeys.hoverFocused,primary:13,secondary:[2066],weight:100},metadata:{description:C.localize2(24,"Go to the bottom of the editor hover.")}})}run(v,_){const S=w.HoverController.get(_);S&&S.goToBottom()}}e.GoToBottomHoverAction=h;class l extends E.EditorAction{constructor(){super({id:f.INCREASE_HOVER_VERBOSITY_ACTION_ID,label:C.localize(13,null),alias:"Increase Hover Verbosity Level",precondition:y.EditorContextKeys.hoverFocused})}run(v,_){var S;(S=w.HoverController.get(_))===null||S===void 0||S.updateFocusedMarkdownHoverVerbosityLevel(b.HoverVerbosityAction.Increase)}}e.IncreaseHoverVerbosityLevel=l;class g extends E.EditorAction{constructor(){super({id:f.DECREASE_HOVER_VERBOSITY_ACTION_ID,label:C.localize(14,null),alias:"Decrease Hover Verbosity Level",precondition:y.EditorContextKeys.hoverFocused})}run(v,_,S){var L;(L=w.HoverController.get(_))===null||L===void 0||L.updateFocusedMarkdownHoverVerbosityLevel(b.HoverVerbosityAction.Decrease)}}e.DecreaseHoverVerbosityLevel=g}),define(ie[975],ne([1,0,974,16,33,23,96,209,971,283,221]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(b.HoverController.ID,b.HoverController,2),(0,k.registerEditorAction)(f.ShowOrFocusHoverAction),(0,k.registerEditorAction)(f.ShowDefinitionPreviewHoverAction),(0,k.registerEditorAction)(f.ScrollUpHoverAction),(0,k.registerEditorAction)(f.ScrollDownHoverAction),(0,k.registerEditorAction)(f.ScrollLeftHoverAction),(0,k.registerEditorAction)(f.ScrollRightHoverAction),(0,k.registerEditorAction)(f.PageUpHoverAction),(0,k.registerEditorAction)(f.PageDownHoverAction),(0,k.registerEditorAction)(f.GoToTopHoverAction),(0,k.registerEditorAction)(f.GoToBottomHoverAction),(0,k.registerEditorAction)(f.IncreaseHoverVerbosityLevel),(0,k.registerEditorAction)(f.DecreaseHoverVerbosityLevel),y.HoverParticipantRegistry.register(p.MarkdownHoverParticipant),y.HoverParticipantRegistry.register(w.MarkerHoverParticipant),(0,D.registerThemingParticipant)((C,o)=>{const s=C.getColor(E.editorHoverBorder);s&&(o.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${s.transparent(.5)}; }`),o.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${s.transparent(.5)}; }`),o.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${s.transparent(.5)}; }`))})}),define(ie[976],ne([1,0,16,96,414,415]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(E.InlayHintsController.ID,E.InlayHintsController,1),k.HoverParticipantRegistry.register(D.InlayHintsHover)}),define(ie[416],ne([1,0,2,18,964,963,8,58,29,14,21,202,5,270,413,9,19,34,84,6,331,73,280,324]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.StickyScrollController=void 0;let v=d=class extends f.Disposable{constructor(S,L,I,T,N,A,O){super(),this._editor=S,this._contextMenuService=L,this._languageFeaturesService=I,this._instaService=T,this._contextKeyService=O,this._sessionStore=new f.DisposableStore,this._foldingModel=null,this._maxStickyLines=Number.MAX_SAFE_INTEGER,this._candidateDefinitionsLength=-1,this._focusedStickyElementIndex=-1,this._enabled=!1,this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1,this._endLineNumbers=[],this._showEndForLine=null,this._stickyScrollWidget=new E.StickyScrollWidget(this._editor),this._stickyLineCandidateProvider=new D.StickyLineCandidateProvider(this._editor,I,N),this._register(this._stickyScrollWidget),this._register(this._stickyLineCandidateProvider),this._widgetState=new E.StickyScrollWidgetState([],[],0),this._onDidResize(),this._readConfiguration();const M=this._stickyScrollWidget.getDomNode();this._register(this._editor.onDidChangeConfiguration(x=>{this._readConfigurationChange(x)})),this._register(r.addDisposableListener(M,r.EventType.CONTEXT_MENU,async x=>{this._onContextMenu(r.getWindow(M),x)})),this._stickyScrollFocusedContextKey=C.EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService),this._stickyScrollVisibleContextKey=C.EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);const R=this._register(r.trackFocus(M));this._register(R.onDidBlur(x=>{this._positionRevealed===!1&&M.clientHeight===0?(this._focusedStickyElementIndex=-1,this.focus()):this._disposeFocusStickyScrollStore()})),this._register(R.onDidFocus(x=>{this.focus()})),this._registerMouseListeners(),this._register(r.addDisposableListener(M,r.EventType.MOUSE_DOWN,x=>{this._onMouseDown=!0}))}static get(S){return S.getContribution(d.ID)}_disposeFocusStickyScrollStore(){var S;this._stickyScrollFocusedContextKey.set(!1),(S=this._focusDisposableStore)===null||S===void 0||S.dispose(),this._focused=!1,this._positionRevealed=!1,this._onMouseDown=!1}focus(){if(this._onMouseDown){this._onMouseDown=!1,this._editor.focus();return}this._stickyScrollFocusedContextKey.get()!==!0&&(this._focused=!0,this._focusDisposableStore=new f.DisposableStore,this._stickyScrollFocusedContextKey.set(!0),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumbers.length-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}focusNext(){this._focusedStickyElementIndex<this._stickyScrollWidget.lineNumberCount-1&&this._focusNav(!0)}focusPrevious(){this._focusedStickyElementIndex>0&&this._focusNav(!1)}selectEditor(){this._editor.focus()}_focusNav(S){this._focusedStickyElementIndex=S?this._focusedStickyElementIndex+1:this._focusedStickyElementIndex-1,this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex)}goToFocused(){const S=this._stickyScrollWidget.lineNumbers;this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:S[this._focusedStickyElementIndex],column:1})}_revealPosition(S){this._reveaInEditor(S,()=>this._editor.revealPosition(S))}_revealLineInCenterIfOutsideViewport(S){this._reveaInEditor(S,()=>this._editor.revealLineInCenterIfOutsideViewport(S.lineNumber,0))}_reveaInEditor(S,L){this._focused&&this._disposeFocusStickyScrollStore(),this._positionRevealed=!0,L(),this._editor.setSelection(s.Range.fromPositions(S)),this._editor.focus()}_registerMouseListeners(){const S=this._register(new f.DisposableStore),L=this._register(new o.ClickLinkGesture(this._editor,{extractLineNumberFromMouseEvent:N=>{const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);return A?A.lineNumber:0}})),I=N=>{if(!this._editor.hasModel()||N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return null;const A=N.target.element;if(!A||A.innerText!==A.innerHTML)return null;const O=this._stickyScrollWidget.getEditorPositionFromNode(A);return O?{range:new s.Range(O.lineNumber,O.column,O.lineNumber,O.column+A.innerText.length),textElement:A}:null},T=this._stickyScrollWidget.getDomNode();this._register(r.addStandardDisposableListener(T,r.EventType.CLICK,N=>{if(N.ctrlKey||N.altKey||N.metaKey||!N.leftButton)return;if(N.shiftKey){const R=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(R===null)return;const x=new n.Position(this._endLineNumbers[R],1);this._revealLineInCenterIfOutsideViewport(x);return}if(this._stickyScrollWidget.isInFoldingIconDomNode(N.target)){const R=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);this._toggleFoldingRegionForLine(R);return}if(!this._stickyScrollWidget.isInStickyLine(N.target))return;let M=this._stickyScrollWidget.getEditorPositionFromNode(N.target);if(!M){const R=this._stickyScrollWidget.getLineNumberFromChildDomNode(N.target);if(R===null)return;M=new n.Position(R,1)}this._revealPosition(M)})),this._register(r.addStandardDisposableListener(T,r.EventType.MOUSE_MOVE,N=>{if(N.shiftKey){const A=this._stickyScrollWidget.getLineIndexFromChildDomNode(N.target);if(A===null||this._showEndForLine!==null&&this._showEndForLine===A)return;this._showEndForLine=A,this._renderStickyScroll();return}this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(r.addDisposableListener(T,r.EventType.MOUSE_LEAVE,N=>{this._showEndForLine!==null&&(this._showEndForLine=null,this._renderStickyScroll())})),this._register(L.onMouseMoveOrRelevantKeyDown(([N,A])=>{const O=I(N);if(!O||!N.hasTriggerModifier||!this._editor.hasModel()){S.clear();return}const{range:M,textElement:R}=O;if(!M.equalsRange(this._stickyRangeProjectedOnEditor))this._stickyRangeProjectedOnEditor=M,S.clear();else if(R.style.textDecoration==="underline")return;const x=new c.CancellationTokenSource;S.add((0,f.toDisposable)(()=>x.dispose(!0)));let F;(0,i.getDefinitionsAtPosition)(this._languageFeaturesService.definitionProvider,this._editor.getModel(),new n.Position(M.startLineNumber,M.startColumn+1),x.token).then(W=>{if(!x.token.isCancellationRequested)if(W.length!==0){this._candidateDefinitionsLength=W.length;const H=R;F!==H?(S.clear(),F=H,F.style.textDecoration="underline",S.add((0,f.toDisposable)(()=>{F.style.textDecoration="none"}))):F||(F=H,F.style.textDecoration="underline",S.add((0,f.toDisposable)(()=>{F.style.textDecoration="none"})))}else S.clear()})})),this._register(L.onCancel(()=>{S.clear()})),this._register(L.onExecute(async N=>{if(N.target.type!==12||N.target.detail!==this._stickyScrollWidget.getId())return;const A=this._stickyScrollWidget.getEditorPositionFromNode(N.target.element);A&&(!this._editor.hasModel()||!this._stickyRangeProjectedOnEditor||(this._candidateDefinitionsLength>1&&(this._focused&&this._disposeFocusStickyScrollStore(),this._revealPosition({lineNumber:A.lineNumber,column:1})),this._instaService.invokeFunction(t.goToDefinitionWithLocation,N,this._editor,{uri:this._editor.getModel().uri,range:this._stickyRangeProjectedOnEditor})))}))}_onContextMenu(S,L){const I=new h.StandardMouseEvent(S,L);this._contextMenuService.showContextMenu({menuId:w.MenuId.StickyScrollContext,getAnchor:()=>I})}_toggleFoldingRegionForLine(S){if(!this._foldingModel||S===null)return;const L=this._stickyScrollWidget.getRenderedStickyLine(S),I=L?.foldingIcon;if(!I)return;(0,g.toggleCollapseState)(this._foldingModel,Number.MAX_VALUE,[S]),I.isCollapsed=!I.isCollapsed;const T=(I.isCollapsed?this._editor.getTopForLineNumber(I.foldingEndLine):this._editor.getTopForLineNumber(I.foldingStartLine))-this._editor.getOption(67)*L.index+1;this._editor.setScrollTop(T),this._renderStickyScroll(S)}_readConfiguration(){const S=this._editor.getOption(115);if(S.enabled===!1){this._editor.removeOverlayWidget(this._stickyScrollWidget),this._sessionStore.clear(),this._enabled=!1;return}else S.enabled&&!this._enabled&&(this._editor.addOverlayWidget(this._stickyScrollWidget),this._sessionStore.add(this._editor.onDidScrollChange(I=>{I.scrollTopChanged&&(this._showEndForLine=null,this._renderStickyScroll())})),this._sessionStore.add(this._editor.onDidLayoutChange(()=>this._onDidResize())),this._sessionStore.add(this._editor.onDidChangeModelTokens(I=>this._onTokensChange(I))),this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(()=>{this._showEndForLine=null,this._renderStickyScroll()})),this._enabled=!0);this._editor.getOption(68).renderType===2&&this._sessionStore.add(this._editor.onDidChangeCursorPosition(()=>{this._showEndForLine=null,this._renderStickyScroll(0)}))}_readConfigurationChange(S){(S.hasChanged(115)||S.hasChanged(73)||S.hasChanged(67)||S.hasChanged(110)||S.hasChanged(68))&&this._readConfiguration(),S.hasChanged(68)&&this._renderStickyScroll(0)}_needsUpdate(S){const L=this._stickyScrollWidget.getCurrentLines();for(const I of L)for(const T of S.ranges)if(I>=T.fromLineNumber&&I<=T.toLineNumber)return!0;return!1}_onTokensChange(S){this._needsUpdate(S)&&this._renderStickyScroll(0)}_onDidResize(){const L=this._editor.getLayoutInfo().height/this._editor.getOption(67);this._maxStickyLines=Math.round(L*.25)}async _renderStickyScroll(S){var L,I;const T=this._editor.getModel();if(!T||T.isTooLargeForTokenization()){this._foldingModel=null,this._stickyScrollWidget.setState(void 0,null);return}const N=this._stickyLineCandidateProvider.getVersionId();if(N===void 0||N===T.getVersionId())if(this._foldingModel=(I=await((L=l.FoldingController.get(this._editor))===null||L===void 0?void 0:L.getFoldingModel()))!==null&&I!==void 0?I:null,this._widgetState=this.findScrollWidgetState(),this._stickyScrollVisibleContextKey.set(this._widgetState.startLineNumbers.length!==0),!this._focused)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S);else if(this._focusedStickyElementIndex===-1)this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1,this._focusedStickyElementIndex!==-1&&this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);else{const A=this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];this._stickyScrollWidget.setState(this._widgetState,this._foldingModel,S),this._stickyScrollWidget.lineNumberCount===0?this._focusedStickyElementIndex=-1:(this._stickyScrollWidget.lineNumbers.includes(A)||(this._focusedStickyElementIndex=this._stickyScrollWidget.lineNumberCount-1),this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex))}}findScrollWidgetState(){const S=this._editor.getOption(67),L=Math.min(this._maxStickyLines,this._editor.getOption(115).maxLineCount),I=this._editor.getScrollTop();let T=0;const N=[],A=[],O=this._editor.getVisibleRanges();if(O.length!==0){const M=new a.StickyRange(O[0].startLineNumber,O[O.length-1].endLineNumber),R=this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(M);for(const x of R){const F=x.startLineNumber,W=x.endLineNumber,H=x.nestingDepth;if(W-F>0){const z=(H-1)*S,j=H*S,K=this._editor.getBottomForLineNumber(F)-I,U=this._editor.getTopForLineNumber(W)-I,G=this._editor.getBottomForLineNumber(W)-I;if(z>U&&z<=G){N.push(F),A.push(W+1),T=G-j;break}else j>K&&j<=G&&(N.push(F),A.push(W+1));if(N.length===L)break}}}return this._endLineNumbers=A,new E.StickyScrollWidgetState(N,A,T,this._showEndForLine)}dispose(){super.dispose(),this._sessionStore.dispose()}};e.StickyScrollController=v,v.ID="store.contrib.stickyScrollController",e.StickyScrollController=v=d=Ie([ue(1,p.IContextMenuService),ue(2,k.ILanguageFeaturesService),ue(3,y.IInstantiationService),ue(4,m.ILanguageConfigurationService),ue(5,u.ILanguageFeatureDebounceService),ue(6,b.IContextKeyService)],v)}),define(ie[977],ne([1,0,16,754,804,29,27,14,21,416]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SelectEditor=e.GoToStickyScrollLine=e.SelectPreviousStickyScrollLine=e.SelectNextStickyScrollLine=e.FocusStickyScroll=e.ToggleStickyScroll=void 0;class C extends D.Action2{constructor(){super({id:"editor.action.toggleStickyScroll",title:{...(0,k.localize2)(4,"Toggle Editor Sticky Scroll"),mnemonicTitle:(0,k.localize)(0,null)},metadata:{description:(0,k.localize2)(5,"Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport")},category:E.Categories.View,toggled:{condition:p.ContextKeyExpr.equals("config.editor.stickyScroll.enabled",!0),title:(0,k.localize)(1,null),mnemonicTitle:(0,k.localize)(2,null)},menu:[{id:D.MenuId.CommandPalette},{id:D.MenuId.MenubarAppearanceMenu,group:"4_editor",order:3},{id:D.MenuId.StickyScrollContext}]})}async run(u){const r=u.get(y.IConfigurationService),a=!r.getValue("editor.stickyScroll.enabled");return r.updateValue("editor.stickyScroll.enabled",a)}}e.ToggleStickyScroll=C;const o=100;class s extends f.EditorAction2{constructor(){super({id:"editor.action.focusStickyScroll",title:{...(0,k.localize2)(6,"Focus on the editor sticky scroll"),mnemonicTitle:(0,k.localize)(3,null)},precondition:p.ContextKeyExpr.and(p.ContextKeyExpr.has("config.editor.stickyScroll.enabled"),w.EditorContextKeys.stickyScrollVisible),menu:[{id:D.MenuId.CommandPalette}]})}runEditorCommand(u,r){var a;(a=b.StickyScrollController.get(r))===null||a===void 0||a.focus()}}e.FocusStickyScroll=s;class i extends f.EditorAction2{constructor(){super({id:"editor.action.selectNextStickyScrollLine",title:(0,k.localize2)(7,"Select the next editor sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:18}})}runEditorCommand(u,r){var a;(a=b.StickyScrollController.get(r))===null||a===void 0||a.focusNext()}}e.SelectNextStickyScrollLine=i;class t extends f.EditorAction2{constructor(){super({id:"editor.action.selectPreviousStickyScrollLine",title:(0,k.localize2)(8,"Select the previous sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:16}})}runEditorCommand(u,r){var a;(a=b.StickyScrollController.get(r))===null||a===void 0||a.focusPrevious()}}e.SelectPreviousStickyScrollLine=t;class n extends f.EditorAction2{constructor(){super({id:"editor.action.goToFocusedStickyScrollLine",title:(0,k.localize2)(9,"Go to the focused sticky scroll line"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:3}})}runEditorCommand(u,r){var a;(a=b.StickyScrollController.get(r))===null||a===void 0||a.goToFocused()}}e.GoToStickyScrollLine=n;class c extends f.EditorAction2{constructor(){super({id:"editor.action.selectEditor",title:(0,k.localize2)(10,"Select Editor"),precondition:w.EditorContextKeys.stickyScrollFocused.isEqualTo(!0),keybinding:{weight:o,primary:9}})}runEditorCommand(u,r){var a;(a=b.StickyScrollController.get(r))===null||a===void 0||a.selectEditor()}}e.SelectEditor=c}),define(ie[978],ne([1,0,16,977,416,29]),function(Q,e,f,k,E,D){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(E.StickyScrollController.ID,E.StickyScrollController,1),(0,D.registerAction2)(k.ToggleStickyScroll),(0,D.registerAction2)(k.FocusStickyScroll),(0,D.registerAction2)(k.SelectPreviousStickyScrollLine),(0,D.registerAction2)(k.SelectNextStickyScrollLine),(0,D.registerAction2)(k.GoToStickyScrollLine),(0,D.registerAction2)(k.SelectEditor)}),define(ie[979],ne([1,0,16,36,411,27,14,8,51,98]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneReferencesController=void 0;let C=class extends E.ReferencesController{constructor(s,i,t,n,c,m,u){super(!0,s,i,t,n,c,m,u)}};e.StandaloneReferencesController=C,e.StandaloneReferencesController=C=Ie([ue(1,y.IContextKeyService),ue(2,k.ICodeEditorService),ue(3,w.INotificationService),ue(4,p.IInstantiationService),ue(5,b.IStorageService),ue(6,D.IConfigurationService)],C),(0,f.registerEditorContribution)(E.ReferencesController.ID,C,4)}),define(ie[980],ne([1,0,10,2,49,107,802,173,48,51,211]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.UndoRedoService=void 0;const o=!1;function s(g){return g.scheme===E.Schemas.file?g.fsPath:g.path}let i=0;class t{constructor(d,v,_,S,L,I,T){this.id=++i,this.type=0,this.actual=d,this.label=d.label,this.confirmBeforeUndo=d.confirmBeforeUndo||!1,this.resourceLabel=v,this.strResource=_,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=S,this.groupOrder=L,this.sourceId=I,this.sourceOrder=T,this.isValid=!0}setValid(d){this.isValid=d}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class n{constructor(d,v){this.resourceLabel=d,this.reason=v}}class c{constructor(){this.elements=new Map}createMessage(){const d=[],v=[];for(const[,S]of this.elements)(S.reason===0?d:v).push(S.resourceLabel);const _=[];return d.length>0&&_.push(y.localize(0,null,d.join(", "))),v.length>0&&_.push(y.localize(1,null,v.join(", "))),_.join(`
`)}get size(){return this.elements.size}has(d){return this.elements.has(d)}set(d,v){this.elements.set(d,v)}delete(d){return this.elements.delete(d)}}class m{constructor(d,v,_,S,L,I,T){this.id=++i,this.type=1,this.actual=d,this.label=d.label,this.confirmBeforeUndo=d.confirmBeforeUndo||!1,this.resourceLabels=v,this.strResources=_,this.groupId=S,this.groupOrder=L,this.sourceId=I,this.sourceOrder=T,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(d,v,_){this.removedResources||(this.removedResources=new c),this.removedResources.has(v)||this.removedResources.set(v,new n(d,_))}setValid(d,v,_){_?this.invalidatedResources&&(this.invalidatedResources.delete(v),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new c),this.invalidatedResources.has(v)||this.invalidatedResources.set(v,new n(d,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class u{constructor(d,v){this.resourceLabel=d,this.strResource=v,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const d of this._past)d.type===1&&d.removeResource(this.resourceLabel,this.strResource,0);for(const d of this._future)d.type===1&&d.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const d=[];d.push(`* ${this.strResource}:`);for(let v=0;v<this._past.length;v++)d.push(`   * [UNDO] ${this._past[v]}`);for(let v=this._future.length-1;v>=0;v--)d.push(`   * [REDO] ${this._future[v]}`);return d.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(d,v){d.type===1?d.setValid(this.resourceLabel,this.strResource,v):d.setValid(v)}setElementsValidFlag(d,v){for(const _ of this._past)v(_.actual)&&this._setElementValidFlag(_,d);for(const _ of this._future)v(_.actual)&&this._setElementValidFlag(_,d)}pushElement(d){for(const v of this._future)v.type===1&&v.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(d),this.versionId++}createSnapshot(d){const v=[];for(let _=0,S=this._past.length;_<S;_++)v.push(this._past[_].id);for(let _=this._future.length-1;_>=0;_--)v.push(this._future[_].id);return new C.ResourceEditStackSnapshot(d,v)}restoreSnapshot(d){const v=d.elements.length;let _=!0,S=0,L=-1;for(let T=0,N=this._past.length;T<N;T++,S++){const A=this._past[T];_&&(S>=v||A.id!==d.elements[S])&&(_=!1,L=0),!_&&A.type===1&&A.removeResource(this.resourceLabel,this.strResource,0)}let I=-1;for(let T=this._future.length-1;T>=0;T--,S++){const N=this._future[T];_&&(S>=v||N.id!==d.elements[S])&&(_=!1,I=T),!_&&N.type===1&&N.removeResource(this.resourceLabel,this.strResource,0)}L!==-1&&(this._past=this._past.slice(0,L)),I!==-1&&(this._future=this._future.slice(I+1)),this.versionId++}getElements(){const d=[],v=[];for(const _ of this._past)d.push(_.actual);for(const _ of this._future)v.push(_.actual);return{past:d,future:v}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(d,v){for(let _=this._past.length-1;_>=0;_--)if(this._past[_]===d){v.has(this.strResource)?this._past[_]=v.get(this.strResource):this._past.splice(_,1);break}this.versionId++}splitFutureWorkspaceElement(d,v){for(let _=this._future.length-1;_>=0;_--)if(this._future[_]===d){v.has(this.strResource)?this._future[_]=v.get(this.strResource):this._future.splice(_,1);break}this.versionId++}moveBackward(d){this._past.pop(),this._future.push(d),this.versionId++}moveForward(d){this._future.pop(),this._past.push(d),this.versionId++}}class r{constructor(d){this.editStacks=d,this._versionIds=[];for(let v=0,_=this.editStacks.length;v<_;v++)this._versionIds[v]=this.editStacks[v].versionId}isValid(){for(let d=0,v=this.editStacks.length;d<v;d++)if(this._versionIds[d]!==this.editStacks[d].versionId)return!1;return!0}}const a=new u("","");a.locked=!0;let h=class{constructor(d,v){this._dialogService=d,this._notificationService=v,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(d){for(const v of this._uriComparisonKeyComputers)if(v[0]===d.scheme)return v[1].getComparisonKey(d);return d.toString()}_print(d){console.log("------------------------------------"),console.log(`AFTER ${d}: `);const v=[];for(const _ of this._editStacks)v.push(_[1].toString());console.log(v.join(`
`))}pushElement(d,v=C.UndoRedoGroup.None,_=C.UndoRedoSource.None){if(d.type===0){const S=s(d.resource),L=this.getUriComparisonKey(d.resource);this._pushElement(new t(d,S,L,v.id,v.nextOrder(),_.id,_.nextOrder()))}else{const S=new Set,L=[],I=[];for(const T of d.resources){const N=s(T),A=this.getUriComparisonKey(T);S.has(A)||(S.add(A),L.push(N),I.push(A))}L.length===1?this._pushElement(new t(d,L[0],I[0],v.id,v.nextOrder(),_.id,_.nextOrder())):this._pushElement(new m(d,L,I,v.id,v.nextOrder(),_.id,_.nextOrder()))}o&&this._print("pushElement")}_pushElement(d){for(let v=0,_=d.strResources.length;v<_;v++){const S=d.resourceLabels[v],L=d.strResources[v];let I;this._editStacks.has(L)?I=this._editStacks.get(L):(I=new u(S,L),this._editStacks.set(L,I)),I.pushElement(d)}}getLastElement(d){const v=this.getUriComparisonKey(d);if(this._editStacks.has(v)){const _=this._editStacks.get(v);if(_.hasFutureElements())return null;const S=_.getClosestPastElement();return S?S.actual:null}return null}_splitPastWorkspaceElement(d,v){const _=d.actual.split(),S=new Map;for(const L of _){const I=s(L.resource),T=this.getUriComparisonKey(L.resource),N=new t(L,I,T,0,0,0,0);S.set(N.strResource,N)}for(const L of d.strResources){if(v&&v.has(L))continue;this._editStacks.get(L).splitPastWorkspaceElement(d,S)}}_splitFutureWorkspaceElement(d,v){const _=d.actual.split(),S=new Map;for(const L of _){const I=s(L.resource),T=this.getUriComparisonKey(L.resource),N=new t(L,I,T,0,0,0,0);S.set(N.strResource,N)}for(const L of d.strResources){if(v&&v.has(L))continue;this._editStacks.get(L).splitFutureWorkspaceElement(d,S)}}removeElements(d){const v=typeof d=="string"?d:this.getUriComparisonKey(d);this._editStacks.has(v)&&(this._editStacks.get(v).dispose(),this._editStacks.delete(v)),o&&this._print("removeElements")}setElementsValidFlag(d,v,_){const S=this.getUriComparisonKey(d);this._editStacks.has(S)&&this._editStacks.get(S).setElementsValidFlag(v,_),o&&this._print("setElementsValidFlag")}createSnapshot(d){const v=this.getUriComparisonKey(d);return this._editStacks.has(v)?this._editStacks.get(v).createSnapshot(d):new C.ResourceEditStackSnapshot(d,[])}restoreSnapshot(d){const v=this.getUriComparisonKey(d.resource);if(this._editStacks.has(v)){const _=this._editStacks.get(v);_.restoreSnapshot(d),!_.hasPastElements()&&!_.hasFutureElements()&&(_.dispose(),this._editStacks.delete(v))}o&&this._print("restoreSnapshot")}getElements(d){const v=this.getUriComparisonKey(d);return this._editStacks.has(v)?this._editStacks.get(v).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(d){if(!d)return[null,null];let v=null,_=null;for(const[S,L]of this._editStacks){const I=L.getClosestPastElement();I&&I.sourceId===d&&(!v||I.sourceOrder>v.sourceOrder)&&(v=I,_=S)}return[v,_]}canUndo(d){if(d instanceof C.UndoRedoSource){const[,_]=this._findClosestUndoElementWithSource(d.id);return!!_}const v=this.getUriComparisonKey(d);return this._editStacks.has(v)?this._editStacks.get(v).hasPastElements():!1}_onError(d,v){(0,f.onUnexpectedError)(d);for(const _ of v.strResources)this.removeElements(_);this._notificationService.error(d)}_acquireLocks(d){for(const v of d.editStacks)if(v.locked)throw new Error("Cannot acquire edit stack lock");for(const v of d.editStacks)v.locked=!0;return()=>{for(const v of d.editStacks)v.locked=!1}}_safeInvokeWithLocks(d,v,_,S,L){const I=this._acquireLocks(_);let T;try{T=v()}catch(N){return I(),S.dispose(),this._onError(N,d)}return T?T.then(()=>(I(),S.dispose(),L()),N=>(I(),S.dispose(),this._onError(N,d))):(I(),S.dispose(),L())}async _invokeWorkspacePrepare(d){if(typeof d.actual.prepareUndoRedo>"u")return k.Disposable.None;const v=d.actual.prepareUndoRedo();return typeof v>"u"?k.Disposable.None:v}_invokeResourcePrepare(d,v){if(d.actual.type!==1||typeof d.actual.prepareUndoRedo>"u")return v(k.Disposable.None);const _=d.actual.prepareUndoRedo();return _?(0,k.isDisposable)(_)?v(_):_.then(S=>v(S)):v(k.Disposable.None)}_getAffectedEditStacks(d){const v=[];for(const _ of d.strResources)v.push(this._editStacks.get(_)||a);return new r(v)}_tryToSplitAndUndo(d,v,_,S){if(v.canSplit())return this._splitPastWorkspaceElement(v,_),this._notificationService.warn(S),new l(this._undo(d,0,!0));for(const L of v.strResources)this.removeElements(L);return this._notificationService.warn(S),new l}_checkWorkspaceUndo(d,v,_,S){if(v.removedResources)return this._tryToSplitAndUndo(d,v,v.removedResources,y.localize(2,null,v.label,v.removedResources.createMessage()));if(S&&v.invalidatedResources)return this._tryToSplitAndUndo(d,v,v.invalidatedResources,y.localize(3,null,v.label,v.invalidatedResources.createMessage()));const L=[];for(const T of _.editStacks)T.getClosestPastElement()!==v&&L.push(T.resourceLabel);if(L.length>0)return this._tryToSplitAndUndo(d,v,null,y.localize(4,null,v.label,L.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndUndo(d,v,null,y.localize(5,null,v.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndUndo(d,v,null,y.localize(6,null,v.label))}_workspaceUndo(d,v,_){const S=this._getAffectedEditStacks(v),L=this._checkWorkspaceUndo(d,v,S,!1);return L?L.returnValue:this._confirmAndExecuteWorkspaceUndo(d,v,S,_)}_isPartOfUndoGroup(d){if(!d.groupId)return!1;for(const[,v]of this._editStacks){const _=v.getClosestPastElement();if(_){if(_===d){const S=v.getSecondClosestPastElement();if(S&&S.groupId===d.groupId)return!0}if(_.groupId===d.groupId)return!0}}return!1}async _confirmAndExecuteWorkspaceUndo(d,v,_,S){if(v.canSplit()&&!this._isPartOfUndoGroup(v)){let T;(function(O){O[O.All=0]="All",O[O.This=1]="This",O[O.Cancel=2]="Cancel"})(T||(T={}));const{result:N}=await this._dialogService.prompt({type:D.default.Info,message:y.localize(7,null,v.label),buttons:[{label:y.localize(8,null,_.editStacks.length),run:()=>T.All},{label:y.localize(9,null),run:()=>T.This}],cancelButton:{run:()=>T.Cancel}});if(N===T.Cancel)return;if(N===T.This)return this._splitPastWorkspaceElement(v,null),this._undo(d,0,!0);const A=this._checkWorkspaceUndo(d,v,_,!1);if(A)return A.returnValue;S=!0}let L;try{L=await this._invokeWorkspacePrepare(v)}catch(T){return this._onError(T,v)}const I=this._checkWorkspaceUndo(d,v,_,!0);if(I)return L.dispose(),I.returnValue;for(const T of _.editStacks)T.moveBackward(v);return this._safeInvokeWithLocks(v,()=>v.actual.undo(),_,L,()=>this._continueUndoInGroup(v.groupId,S))}_resourceUndo(d,v,_){if(!v.isValid){d.flushAllElements();return}if(d.locked){const S=y.localize(10,null,v.label);this._notificationService.warn(S);return}return this._invokeResourcePrepare(v,S=>(d.moveBackward(v),this._safeInvokeWithLocks(v,()=>v.actual.undo(),new r([d]),S,()=>this._continueUndoInGroup(v.groupId,_))))}_findClosestUndoElementInGroup(d){if(!d)return[null,null];let v=null,_=null;for(const[S,L]of this._editStacks){const I=L.getClosestPastElement();I&&I.groupId===d&&(!v||I.groupOrder>v.groupOrder)&&(v=I,_=S)}return[v,_]}_continueUndoInGroup(d,v){if(!d)return;const[,_]=this._findClosestUndoElementInGroup(d);if(_)return this._undo(_,0,v)}undo(d){if(d instanceof C.UndoRedoSource){const[,v]=this._findClosestUndoElementWithSource(d.id);return v?this._undo(v,d.id,!1):void 0}return typeof d=="string"?this._undo(d,0,!1):this._undo(this.getUriComparisonKey(d),0,!1)}_undo(d,v=0,_){if(!this._editStacks.has(d))return;const S=this._editStacks.get(d),L=S.getClosestPastElement();if(!L)return;if(L.groupId){const[T,N]=this._findClosestUndoElementInGroup(L.groupId);if(L!==T&&N)return this._undo(N,v,_)}if((L.sourceId!==v||L.confirmBeforeUndo)&&!_)return this._confirmAndContinueUndo(d,v,L);try{return L.type===1?this._workspaceUndo(d,L,_):this._resourceUndo(S,L,_)}finally{o&&this._print("undo")}}async _confirmAndContinueUndo(d,v,_){if((await this._dialogService.confirm({message:y.localize(11,null,_.label),primaryButton:y.localize(12,null),cancelButton:y.localize(13,null)})).confirmed)return this._undo(d,v,!0)}_findClosestRedoElementWithSource(d){if(!d)return[null,null];let v=null,_=null;for(const[S,L]of this._editStacks){const I=L.getClosestFutureElement();I&&I.sourceId===d&&(!v||I.sourceOrder<v.sourceOrder)&&(v=I,_=S)}return[v,_]}canRedo(d){if(d instanceof C.UndoRedoSource){const[,_]=this._findClosestRedoElementWithSource(d.id);return!!_}const v=this.getUriComparisonKey(d);return this._editStacks.has(v)?this._editStacks.get(v).hasFutureElements():!1}_tryToSplitAndRedo(d,v,_,S){if(v.canSplit())return this._splitFutureWorkspaceElement(v,_),this._notificationService.warn(S),new l(this._redo(d));for(const L of v.strResources)this.removeElements(L);return this._notificationService.warn(S),new l}_checkWorkspaceRedo(d,v,_,S){if(v.removedResources)return this._tryToSplitAndRedo(d,v,v.removedResources,y.localize(14,null,v.label,v.removedResources.createMessage()));if(S&&v.invalidatedResources)return this._tryToSplitAndRedo(d,v,v.invalidatedResources,y.localize(15,null,v.label,v.invalidatedResources.createMessage()));const L=[];for(const T of _.editStacks)T.getClosestFutureElement()!==v&&L.push(T.resourceLabel);if(L.length>0)return this._tryToSplitAndRedo(d,v,null,y.localize(16,null,v.label,L.join(", ")));const I=[];for(const T of _.editStacks)T.locked&&I.push(T.resourceLabel);return I.length>0?this._tryToSplitAndRedo(d,v,null,y.localize(17,null,v.label,I.join(", "))):_.isValid()?null:this._tryToSplitAndRedo(d,v,null,y.localize(18,null,v.label))}_workspaceRedo(d,v){const _=this._getAffectedEditStacks(v),S=this._checkWorkspaceRedo(d,v,_,!1);return S?S.returnValue:this._executeWorkspaceRedo(d,v,_)}async _executeWorkspaceRedo(d,v,_){let S;try{S=await this._invokeWorkspacePrepare(v)}catch(I){return this._onError(I,v)}const L=this._checkWorkspaceRedo(d,v,_,!0);if(L)return S.dispose(),L.returnValue;for(const I of _.editStacks)I.moveForward(v);return this._safeInvokeWithLocks(v,()=>v.actual.redo(),_,S,()=>this._continueRedoInGroup(v.groupId))}_resourceRedo(d,v){if(!v.isValid){d.flushAllElements();return}if(d.locked){const _=y.localize(19,null,v.label);this._notificationService.warn(_);return}return this._invokeResourcePrepare(v,_=>(d.moveForward(v),this._safeInvokeWithLocks(v,()=>v.actual.redo(),new r([d]),_,()=>this._continueRedoInGroup(v.groupId))))}_findClosestRedoElementInGroup(d){if(!d)return[null,null];let v=null,_=null;for(const[S,L]of this._editStacks){const I=L.getClosestFutureElement();I&&I.groupId===d&&(!v||I.groupOrder<v.groupOrder)&&(v=I,_=S)}return[v,_]}_continueRedoInGroup(d){if(!d)return;const[,v]=this._findClosestRedoElementInGroup(d);if(v)return this._redo(v)}redo(d){if(d instanceof C.UndoRedoSource){const[,v]=this._findClosestRedoElementWithSource(d.id);return v?this._redo(v):void 0}return typeof d=="string"?this._redo(d):this._redo(this.getUriComparisonKey(d))}_redo(d){if(!this._editStacks.has(d))return;const v=this._editStacks.get(d),_=v.getClosestFutureElement();if(_){if(_.groupId){const[S,L]=this._findClosestRedoElementInGroup(_.groupId);if(_!==S&&L)return this._redo(L)}try{return _.type===1?this._workspaceRedo(d,_):this._resourceRedo(v,_)}finally{o&&this._print("redo")}}}};e.UndoRedoService=h,e.UndoRedoService=h=Ie([ue(0,p.IDialogService),ue(1,b.INotificationService)],h);class l{constructor(d){this.returnValue=d}}(0,w.registerSingleton)(C.IUndoRedoService,h,1)}),define(ie[180],ne([1,0,803,97,218,22,8]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.STANDALONE_EDITOR_WORKSPACE_ID=e.WORKSPACE_FILTER=e.WORKSPACE_EXTENSION=e.WorkspaceFolder=e.Workspace=e.UNKNOWN_EMPTY_WINDOW_WORKSPACE=e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE=e.IWorkspaceContextService=void 0,e.isSingleFolderWorkspaceIdentifier=p,e.isEmptyWorkspaceIdentifier=w,e.toWorkspaceIdentifier=b,e.isWorkspaceIdentifier=C,e.isStandaloneEditorWorkspace=i,e.IWorkspaceContextService=(0,y.createDecorator)("contextService");function p(t){const n=t;return typeof n?.id=="string"&&D.URI.isUri(n.uri)}function w(t){const n=t;return typeof n?.id=="string"&&!p(t)&&!C(t)}e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE={id:"ext-dev"},e.UNKNOWN_EMPTY_WINDOW_WORKSPACE={id:"empty-window"};function b(t,n){if(typeof t=="string"||typeof t>"u")return typeof t=="string"?{id:(0,k.basename)(t)}:n?e.EXTENSION_DEVELOPMENT_EMPTY_WINDOW_WORKSPACE:e.UNKNOWN_EMPTY_WINDOW_WORKSPACE;const c=t;return c.configuration?{id:c.id,configPath:c.configuration}:c.folders.length===1?{id:c.id,uri:c.folders[0].uri}:{id:c.id}}function C(t){const n=t;return typeof n?.id=="string"&&D.URI.isUri(n.configPath)}class o{constructor(n,c,m,u,r){this._id=n,this._transient=m,this._configuration=u,this._ignorePathCasing=r,this._foldersMap=E.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=c}get folders(){return this._folders}set folders(n){this._folders=n,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(n){this._configuration=n}getFolder(n){return n&&this._foldersMap.findSubstr(n)||null}updateFoldersMap(){this._foldersMap=E.TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const n of this.folders)this._foldersMap.set(n.uri,n)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}e.Workspace=o;class s{constructor(n,c){this.raw=c,this.uri=n.uri,this.index=n.index,this.name=n.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}e.WorkspaceFolder=s,e.WORKSPACE_EXTENSION="code-workspace",e.WORKSPACE_FILTER=[{name:(0,f.localize)(0,null),extensions:[e.WORKSPACE_EXTENSION]}],e.STANDALONE_EDITOR_WORKSPACE_ID="4064f6ec-cb38-4ad0-af64-ee6467e63c82";function i(t){return t.id===e.STANDALONE_EDITOR_WORKSPACE_ID}}),define(ie[981],ne([1,0,6,147,41,2,17,16,21,704,29,14,58,32,27,180]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";var c;Object.defineProperty(e,"__esModule",{value:!0}),e.ContextMenuController=void 0;let m=c=class{static get(a){return a.getContribution(c.ID)}constructor(a,h,l,g,d,v,_,S){this._contextMenuService=h,this._contextViewService=l,this._contextKeyService=g,this._keybindingService=d,this._menuService=v,this._configurationService=_,this._workspaceContextService=S,this._toDispose=new D.DisposableStore,this._contextMenuIsBeingShownCount=0,this._editor=a,this._toDispose.add(this._editor.onContextMenu(L=>this._onContextMenu(L))),this._toDispose.add(this._editor.onMouseWheel(L=>{if(this._contextMenuIsBeingShownCount>0){const I=this._contextViewService.getContextViewElement(),T=L.srcElement;T.shadowRoot&&f.getShadowRoot(I)===T.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(L=>{this._editor.getOption(24)&&L.keyCode===58&&(L.preventDefault(),L.stopPropagation(),this.showContextMenu())}))}_onContextMenu(a){if(!this._editor.hasModel())return;if(!this._editor.getOption(24)){this._editor.focus(),a.target.position&&!this._editor.getSelection().containsPosition(a.target.position)&&this._editor.setPosition(a.target.position);return}if(a.target.type===12||a.target.type===6&&a.target.detail.injectedText)return;if(a.event.preventDefault(),a.event.stopPropagation(),a.target.type===11)return this._showScrollbarContextMenu(a.event);if(a.target.type!==6&&a.target.type!==7&&a.target.type!==1)return;if(this._editor.focus(),a.target.position){let l=!1;for(const g of this._editor.getSelections())if(g.containsPosition(a.target.position)){l=!0;break}l||this._editor.setPosition(a.target.position)}let h=null;a.target.type!==1&&(h=a.event),this.showContextMenu(h)}showContextMenu(a){if(!this._editor.getOption(24)||!this._editor.hasModel())return;const h=this._getMenuActions(this._editor.getModel(),this._editor.contextMenuId);h.length>0&&this._doShowContextMenu(h,a)}_getMenuActions(a,h){const l=[],g=this._menuService.createMenu(h,this._contextKeyService),d=g.getActions({arg:a.uri});g.dispose();for(const v of d){const[,_]=v;let S=0;for(const L of _)if(L instanceof C.SubmenuItemAction){const I=this._getMenuActions(a,L.item.submenu);I.length>0&&(l.push(new E.SubmenuAction(L.id,L.label,I)),S++)}else l.push(L),S++;S&&l.push(new E.Separator)}return l.length&&l.pop(),l}_doShowContextMenu(a,h=null){if(!this._editor.hasModel())return;const l=this._editor.getOption(60);this._editor.updateOptions({hover:{enabled:!1}});let g=h;if(!g){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const v=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),_=f.getDomNodePagePosition(this._editor.getDomNode()),S=_.left+v.left,L=_.top+v.top+v.height;g={x:S,y:L}}const d=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:d?this._editor.getDomNode():void 0,getAnchor:()=>g,getActions:()=>a,getActionViewItem:v=>{const _=this._keybindingFor(v);if(_)return new k.ActionViewItem(v,v,{label:!0,keybinding:_.getLabel(),isMenu:!0});const S=v;return typeof S.getActionViewItem=="function"?S.getActionViewItem():new k.ActionViewItem(v,v,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:v=>this._keybindingFor(v),onHide:v=>{this._contextMenuIsBeingShownCount--,this._editor.updateOptions({hover:l})}})}_showScrollbarContextMenu(a){if(!this._editor.hasModel()||(0,n.isStandaloneEditorWorkspace)(this._workspaceContextService.getWorkspace()))return;const h=this._editor.getOption(73);let l=0;const g=L=>({id:`menu-action-${++l}`,label:L.label,tooltip:"",class:void 0,enabled:typeof L.enabled>"u"?!0:L.enabled,checked:L.checked,run:L.run}),d=(L,I)=>new E.SubmenuAction(`menu-action-${++l}`,L,I,void 0),v=(L,I,T,N,A)=>{if(!I)return g({label:L,enabled:I,run:()=>{}});const O=R=>()=>{this._configurationService.updateValue(T,R)},M=[];for(const R of A)M.push(g({label:R.label,checked:N===R.value,run:O(R.value)}));return d(L,M)},_=[];_.push(g({label:b.localize(0,null),checked:h.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!h.enabled)}})),_.push(new E.Separator),_.push(g({label:b.localize(1,null),enabled:h.enabled,checked:h.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!h.renderCharacters)}})),_.push(v(b.localize(2,null),h.enabled,"editor.minimap.size",h.size,[{label:b.localize(3,null),value:"proportional"},{label:b.localize(4,null),value:"fill"},{label:b.localize(5,null),value:"fit"}])),_.push(v(b.localize(6,null),h.enabled,"editor.minimap.showSlider",h.showSlider,[{label:b.localize(7,null),value:"mouseover"},{label:b.localize(8,null),value:"always"}]));const S=this._editor.getOption(127)&&!y.isIOS;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:S?this._editor.getDomNode():void 0,getAnchor:()=>a,getActions:()=>_,onHide:L=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(a){return this._keybindingService.lookupKeybinding(a.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};e.ContextMenuController=m,m.ID="editor.contrib.contextmenu",e.ContextMenuController=m=c=Ie([ue(1,s.IContextMenuService),ue(2,s.IContextViewService),ue(3,o.IContextKeyService),ue(4,i.IKeybindingService),ue(5,C.IMenuService),ue(6,t.IConfigurationService),ue(7,n.IWorkspaceContextService)],m);class u extends p.EditorAction{constructor(){super({id:"editor.action.showContextMenu",label:b.localize(9,null),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:1092,weight:100}})}run(a,h){var l;(l=m.get(h))===null||l===void 0||l.showContextMenu()}}(0,p.registerEditorContribution)(m.ID,m,2),(0,p.registerEditorAction)(u)}),define(ie[284],ne([1,0,13,189,88,2,123,49,50,22,28,18,708,180]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DefaultPasteProvidersFeature=e.DefaultDropProvidersFeature=e.DefaultTextPasteOrDropEditProvider=void 0;class t{async provideDocumentPasteEdits(g,d,v,_,S){const L=await this.getEdit(v,S);if(L)return{dispose(){},edits:[{insertText:L.insertText,title:L.title,kind:L.kind,handledMimeType:L.handledMimeType,yieldTo:L.yieldTo}]}}async provideDocumentDropEdits(g,d,v,_){const S=await this.getEdit(v,_);return S?[{insertText:S.insertText,title:S.title,kind:S.kind,handledMimeType:S.handledMimeType,yieldTo:S.yieldTo}]:void 0}}class n extends t{constructor(){super(...arguments),this.kind=n.kind,this.dropMimeTypes=[y.Mimes.text],this.pasteMimeTypes=[y.Mimes.text]}async getEdit(g,d){const v=g.get(y.Mimes.text);if(!v||g.has(y.Mimes.uriList))return;const _=await v.asString();return{handledMimeType:y.Mimes.text,title:(0,s.localize)(0,null),insertText:_,kind:this.kind}}}e.DefaultTextPasteOrDropEditProvider=n,n.id="text",n.kind=new E.HierarchicalKind("text.plain");class c extends t{constructor(){super(...arguments),this.kind=new E.HierarchicalKind("uri.absolute"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(g,d){const v=await r(g);if(!v.length||d.isCancellationRequested)return;let _=0;const S=v.map(({uri:I,originalText:T})=>I.scheme===p.Schemas.file?I.fsPath:(_++,T)).join(" ");let L;return _>0?L=v.length>1?(0,s.localize)(1,null):(0,s.localize)(2,null):L=v.length>1?(0,s.localize)(3,null):(0,s.localize)(4,null),{handledMimeType:y.Mimes.uriList,insertText:S,title:L,kind:this.kind}}}let m=class extends t{constructor(g){super(),this._workspaceContextService=g,this.kind=new E.HierarchicalKind("uri.relative"),this.dropMimeTypes=[y.Mimes.uriList],this.pasteMimeTypes=[y.Mimes.uriList]}async getEdit(g,d){const v=await r(g);if(!v.length||d.isCancellationRequested)return;const _=(0,f.coalesce)(v.map(({uri:S})=>{const L=this._workspaceContextService.getWorkspaceFolder(S);return L?(0,w.relativePath)(L.uri,S):void 0}));if(_.length)return{handledMimeType:y.Mimes.uriList,insertText:_.join(" "),title:v.length>1?(0,s.localize)(5,null):(0,s.localize)(6,null),kind:this.kind}}};m=Ie([ue(0,i.IWorkspaceContextService)],m);class u{constructor(){this.kind=new E.HierarchicalKind("html"),this.pasteMimeTypes=["text/html"],this._yieldTo=[{mimeType:y.Mimes.text}]}async provideDocumentPasteEdits(g,d,v,_,S){var L;if(_.triggerKind!==C.DocumentPasteTriggerKind.PasteAs&&!(!((L=_.only)===null||L===void 0)&&L.contains(this.kind)))return;const I=v.get("text/html"),T=await I?.asString();if(!(!T||S.isCancellationRequested))return{dispose(){},edits:[{insertText:T,yieldTo:this._yieldTo,title:(0,s.localize)(7,null),kind:this.kind}]}}}async function r(l){const g=l.get(y.Mimes.uriList);if(!g)return[];const d=await g.asString(),v=[];for(const _ of k.UriList.parse(d))try{v.push({uri:b.URI.parse(_),originalText:_})}catch{}return v}let a=class extends D.Disposable{constructor(g,d){super(),this._register(g.documentDropEditProvider.register("*",new n)),this._register(g.documentDropEditProvider.register("*",new c)),this._register(g.documentDropEditProvider.register("*",new m(d)))}};e.DefaultDropProvidersFeature=a,e.DefaultDropProvidersFeature=a=Ie([ue(0,o.ILanguageFeaturesService),ue(1,i.IWorkspaceContextService)],a);let h=class extends D.Disposable{constructor(g,d){super(),this._register(g.documentPasteEditProvider.register("*",new n)),this._register(g.documentPasteEditProvider.register("*",new c)),this._register(g.documentPasteEditProvider.register("*",new m(d))),this._register(g.documentPasteEditProvider.register("*",new u))}};e.DefaultPasteProvidersFeature=h,e.DefaultPasteProvidersFeature=h=Ie([ue(0,o.ILanguageFeaturesService),ue(1,i.IWorkspaceContextService)],h)}),define(ie[417],ne([1,0,6,13,15,189,88,2,123,17,188,205,379,148,5,28,18,284,260,118,281,177,707,114,14,8,92,75,370]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L){"use strict";var I;Object.defineProperty(e,"__esModule",{value:!0}),e.CopyPasteController=e.pasteWidgetVisibleCtx=e.changePasteTypeCommandId=void 0,e.changePasteTypeCommandId="editor.changePasteType",e.pasteWidgetVisibleCtx=new d.RawContextKey("pasteWidgetVisible",!1,(0,l.localize)(0,null));const T="application/vnd.code.copyMetadata";let N=I=class extends p.Disposable{static get(O){return O.getContribution(I.ID)}constructor(O,M,R,x,F,W,H){super(),this._bulkEditService=R,this._clipboardService=x,this._languageFeaturesService=F,this._quickInputService=W,this._progressService=H,this._editor=O;const z=O.getContainerDomNode();this._register((0,f.addDisposableListener)(z,"copy",j=>this.handleCopy(j))),this._register((0,f.addDisposableListener)(z,"cut",j=>this.handleCopy(j))),this._register((0,f.addDisposableListener)(z,"paste",j=>this.handlePaste(j),!0)),this._pasteProgressManager=this._register(new a.InlineProgressManager("pasteIntoEditor",O,M)),this._postPasteWidgetManager=this._register(M.createInstance(L.PostEditWidgetManager,"pasteIntoEditor",O,e.pasteWidgetVisibleCtx,{id:e.changePasteTypeCommandId,label:(0,l.localize)(1,null)}))}changePasteType(){this._postPasteWidgetManager.tryShowSelector()}pasteAs(O){this._editor.focus();try{this._pasteAsActionContext={preferred:O},(0,f.getActiveDocument)().execCommand("paste")}finally{this._pasteAsActionContext=void 0}}clearWidgets(){this._postPasteWidgetManager.clear()}isPasteAsEnabled(){return this._editor.getOption(85).enabled&&!this._editor.getOption(91)}async finishedPaste(){await this._currentPasteOperation}handleCopy(O){var M,R;if(!this._editor.hasTextFocus()||(b.isWeb&&this._clipboardService.writeResources([]),!O.clipboardData||!this.isPasteAsEnabled()))return;const x=this._editor.getModel(),F=this._editor.getSelections();if(!x||!F?.length)return;const W=this._editor.getOption(37);let H=F;const z=F.length===1&&F[0].isEmpty();if(z){if(!W)return;H=[new t.Range(H[0].startLineNumber,1,H[0].startLineNumber,1+x.getLineLength(H[0].startLineNumber))]}const j=(M=this._editor._getViewModel())===null||M===void 0?void 0:M.getPlainTextToCopy(F,W,b.isWindows),U={multicursorText:Array.isArray(j)?j:null,pasteOnNewLine:z,mode:null},G=this._languageFeaturesService.documentPasteEditProvider.ordered(x).filter(Z=>!!Z.prepareDocumentPaste);if(!G.length){this.setCopyMetadata(O.clipboardData,{defaultPastePayload:U});return}const te=(0,s.toVSDataTransfer)(O.clipboardData),ee=G.flatMap(Z=>{var re;return(re=Z.copyMimeTypes)!==null&&re!==void 0?re:[]}),Y=(0,C.generateUuid)();this.setCopyMetadata(O.clipboardData,{id:Y,providerCopyMimeTypes:ee,defaultPastePayload:U});const P=(0,E.createCancelablePromise)(async Z=>{const re=(0,k.coalesce)(await Promise.all(G.map(async ce=>{try{return await ce.prepareDocumentPaste(x,H,te,Z)}catch(he){console.error(he);return}})));re.reverse();for(const ce of re)for(const[he,pe]of ce)te.replace(he,pe);return te});(R=I._currentCopyOperation)===null||R===void 0||R.dataTransferPromise.cancel(),I._currentCopyOperation={handle:Y,dataTransferPromise:P}}async handlePaste(O){var M,R,x,F;if(!O.clipboardData||!this._editor.hasTextFocus())return;(M=h.MessageController.get(this._editor))===null||M===void 0||M.closeMessage(),(R=this._currentPasteOperation)===null||R===void 0||R.cancel(),this._currentPasteOperation=void 0;const W=this._editor.getModel(),H=this._editor.getSelections();if(!H?.length||!W||!this.isPasteAsEnabled()&&!this._pasteAsActionContext)return;const z=this.fetchCopyMetadata(O),j=(0,s.toExternalVSDataTransfer)(O.clipboardData);j.delete(T);const K=[...O.clipboardData.types,...(x=z?.providerCopyMimeTypes)!==null&&x!==void 0?x:[],w.Mimes.uriList],U=this._languageFeaturesService.documentPasteEditProvider.ordered(W).filter(G=>{var te,ee;const Y=(te=this._pasteAsActionContext)===null||te===void 0?void 0:te.preferred;return Y&&G.providedPasteEditKinds&&!this.providerMatchesPreference(G,Y)?!1:(ee=G.pasteMimeTypes)===null||ee===void 0?void 0:ee.some(P=>(0,D.matchesMimeType)(P,K))});if(!U.length){!((F=this._pasteAsActionContext)===null||F===void 0)&&F.preferred&&this.showPasteAsNoEditMessage(H,this._pasteAsActionContext.preferred);return}O.preventDefault(),O.stopImmediatePropagation(),this._pasteAsActionContext?this.showPasteAsPick(this._pasteAsActionContext.preferred,U,H,j,z):this.doPasteInline(U,H,j,z,O)}showPasteAsNoEditMessage(O,M){var R;(R=h.MessageController.get(this._editor))===null||R===void 0||R.showMessage((0,l.localize)(2,null,M instanceof y.HierarchicalKind?M.value:M.providerId),O[0].getStartPosition())}doPasteInline(O,M,R,x,F){const W=(0,E.createCancelablePromise)(async H=>{const z=this._editor;if(!z.hasModel())return;const j=z.getModel(),K=new r.EditorStateCancellationTokenSource(z,3,void 0,H);try{if(await this.mergeInDataFromCopy(R,x,K.token),K.token.isCancellationRequested)return;const U=O.filter(ee=>this.isSupportedPasteProvider(ee,R));if(!U.length||U.length===1&&U[0]instanceof m.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(R,x,K.token,F);const G={triggerKind:n.DocumentPasteTriggerKind.Automatic},te=await this.getPasteEdits(U,R,j,M,G,K.token);if(K.token.isCancellationRequested)return;if(te.length===1&&te[0].provider instanceof m.DefaultTextPasteOrDropEditProvider)return this.applyDefaultPasteHandler(R,x,K.token,F);if(te.length){const ee=z.getOption(85).showPasteSelector==="afterPaste";return this._postPasteWidgetManager.applyEditAndShowIfNeeded(M,{activeEditIndex:0,allEdits:te},ee,async(Y,P)=>{var Z,re;const ce=await((re=(Z=Y.provider).resolveDocumentPasteEdit)===null||re===void 0?void 0:re.call(Z,Y,P));return ce&&(Y.additionalEdit=ce.additionalEdit),Y},K.token)}await this.applyDefaultPasteHandler(R,x,K.token,F)}finally{K.dispose(),this._currentPasteOperation===W&&(this._currentPasteOperation=void 0)}});this._pasteProgressManager.showWhile(M[0].getEndPosition(),(0,l.localize)(3,null),W),this._currentPasteOperation=W}showPasteAsPick(O,M,R,x,F){const W=(0,E.createCancelablePromise)(async H=>{const z=this._editor;if(!z.hasModel())return;const j=z.getModel(),K=new r.EditorStateCancellationTokenSource(z,3,void 0,H);try{if(await this.mergeInDataFromCopy(x,F,K.token),K.token.isCancellationRequested)return;let U=M.filter(P=>this.isSupportedPasteProvider(P,x,O));O&&(U=U.filter(P=>this.providerMatchesPreference(P,O)));const G={triggerKind:n.DocumentPasteTriggerKind.PasteAs,only:O&&O instanceof y.HierarchicalKind?O:void 0};let te=await this.getPasteEdits(U,x,j,R,G,K.token);if(K.token.isCancellationRequested)return;if(O&&(te=te.filter(P=>O instanceof y.HierarchicalKind?O.contains(P.kind):O.providerId===P.provider.id)),!te.length){G.only&&this.showPasteAsNoEditMessage(R,G.only);return}let ee;if(O)ee=te.at(0);else{const P=await this._quickInputService.pick(te.map(Z=>{var re;return{label:Z.title,description:(re=Z.kind)===null||re===void 0?void 0:re.value,edit:Z}}),{placeHolder:(0,l.localize)(4,null)});ee=P?.edit}if(!ee)return;const Y=(0,u.createCombinedWorkspaceEdit)(j.uri,R,ee);await this._bulkEditService.apply(Y,{editor:this._editor})}finally{K.dispose(),this._currentPasteOperation===W&&(this._currentPasteOperation=void 0)}});this._progressService.withProgress({location:10,title:(0,l.localize)(5,null)},()=>W)}setCopyMetadata(O,M){O.setData(T,JSON.stringify(M))}fetchCopyMetadata(O){var M;if(!O.clipboardData)return;const R=O.clipboardData.getData(T);if(R)try{return JSON.parse(R)}catch{return}const[x,F]=o.ClipboardEventUtils.getTextData(O.clipboardData);if(F)return{defaultPastePayload:{mode:F.mode,multicursorText:(M=F.multicursorText)!==null&&M!==void 0?M:null,pasteOnNewLine:!!F.isFromEmptySelection}}}async mergeInDataFromCopy(O,M,R){var x;if(M?.id&&((x=I._currentCopyOperation)===null||x===void 0?void 0:x.handle)===M.id){const F=await I._currentCopyOperation.dataTransferPromise;if(R.isCancellationRequested)return;for(const[W,H]of F)O.replace(W,H)}if(!O.has(w.Mimes.uriList)){const F=await this._clipboardService.readResources();if(R.isCancellationRequested)return;F.length&&O.append(w.Mimes.uriList,(0,D.createStringDataTransferItem)(D.UriList.create(F)))}}async getPasteEdits(O,M,R,x,F,W){const H=await(0,E.raceCancellation)(Promise.all(O.map(async j=>{var K,U;try{const G=await((K=j.provideDocumentPasteEdits)===null||K===void 0?void 0:K.call(j,R,x,M,F,W));return(U=G?.edits)===null||U===void 0?void 0:U.map(te=>({...te,provider:j}))}catch(G){console.error(G)}})),W),z=(0,k.coalesce)(H??[]).flat().filter(j=>!F.only||F.only.contains(j.kind));return(0,u.sortEditsByYieldTo)(z)}async applyDefaultPasteHandler(O,M,R,x){var F,W,H,z;const j=(F=O.get(w.Mimes.text))!==null&&F!==void 0?F:O.get("text"),K=(W=await j?.asString())!==null&&W!==void 0?W:"";if(R.isCancellationRequested)return;const U={clipboardEvent:x,text:K,pasteOnNewLine:(H=M?.defaultPastePayload.pasteOnNewLine)!==null&&H!==void 0?H:!1,multicursorText:(z=M?.defaultPastePayload.multicursorText)!==null&&z!==void 0?z:null,mode:null};this._editor.trigger("keyboard","paste",U)}isSupportedPasteProvider(O,M,R){var x;return!((x=O.pasteMimeTypes)===null||x===void 0)&&x.some(F=>M.matches(F))?!R||this.providerMatchesPreference(O,R):!1}providerMatchesPreference(O,M){return M instanceof y.HierarchicalKind?O.providedPasteEditKinds?O.providedPasteEditKinds.some(R=>M.contains(R)):!0:O.id===M.providerId}};e.CopyPasteController=N,N.ID="editor.contrib.copyPasteActionController",e.CopyPasteController=N=I=Ie([ue(1,v.IInstantiationService),ue(2,i.IBulkEditService),ue(3,g.IClipboardService),ue(4,c.ILanguageFeaturesService),ue(5,S.IQuickInputService),ue(6,_.IProgressService)],N)}),define(ie[982],ne([1,0,63,6,17,205,16,36,21,417,693,29,114,14]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PasteAction=e.CopyAction=e.CutAction=void 0;const t="9_cutcopypaste",n=E.isNative||document.queryCommandSupported("cut"),c=E.isNative||document.queryCommandSupported("copy"),m=typeof navigator.clipboard>"u"||f.isFirefox?document.queryCommandSupported("paste"):!0;function u(h){return h.register(),h}e.CutAction=n?u(new y.MultiCommand({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:E.isNative?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:o.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(0,null),order:1},{menuId:o.MenuId.EditorContext,group:t,title:C.localize(1,null),when:w.EditorContextKeys.writable,order:1},{menuId:o.MenuId.CommandPalette,group:"",title:C.localize(2,null),order:1},{menuId:o.MenuId.SimpleEditorContext,group:t,title:C.localize(3,null),when:w.EditorContextKeys.writable,order:1}]})):void 0,e.CopyAction=c?u(new y.MultiCommand({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:E.isNative?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:o.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(4,null),order:2},{menuId:o.MenuId.EditorContext,group:t,title:C.localize(5,null),order:2},{menuId:o.MenuId.CommandPalette,group:"",title:C.localize(6,null),order:1},{menuId:o.MenuId.SimpleEditorContext,group:t,title:C.localize(7,null),order:2}]})):void 0,o.MenuRegistry.appendMenuItem(o.MenuId.MenubarEditMenu,{submenu:o.MenuId.MenubarCopy,title:C.localize2(13,"Copy As"),group:"2_ccp",order:3}),o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,{submenu:o.MenuId.EditorContextCopy,title:C.localize2(14,"Copy As"),group:t,order:3}),o.MenuRegistry.appendMenuItem(o.MenuId.EditorContext,{submenu:o.MenuId.EditorContextShare,title:C.localize2(15,"Share"),group:"11_share",order:-1,when:i.ContextKeyExpr.and(i.ContextKeyExpr.notEquals("resourceScheme","output"),w.EditorContextKeys.editorTextFocus)}),o.MenuRegistry.appendMenuItem(o.MenuId.EditorTitleContext,{submenu:o.MenuId.EditorTitleContextShare,title:C.localize2(16,"Share"),group:"11_share",order:-1}),o.MenuRegistry.appendMenuItem(o.MenuId.ExplorerContext,{submenu:o.MenuId.ExplorerContextShare,title:C.localize2(17,"Share"),group:"11_share",order:-1}),e.PasteAction=m?u(new y.MultiCommand({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:E.isNative?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:o.MenuId.MenubarEditMenu,group:"2_ccp",title:C.localize(8,null),order:4},{menuId:o.MenuId.EditorContext,group:t,title:C.localize(9,null),when:w.EditorContextKeys.writable,order:4},{menuId:o.MenuId.CommandPalette,group:"",title:C.localize(10,null),order:1},{menuId:o.MenuId.SimpleEditorContext,group:t,title:C.localize(11,null),when:w.EditorContextKeys.writable,order:4}]})):void 0;class r extends y.EditorAction{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:C.localize(12,null),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:w.EditorContextKeys.textInputFocus,primary:0,weight:100}})}run(l,g){!g.hasModel()||!g.getOption(37)&&g.getSelection().isEmpty()||(D.CopyOptions.forceCopyWithSyntaxHighlighting=!0,g.focus(),g.getContainerDomNode().ownerDocument.execCommand("copy"),D.CopyOptions.forceCopyWithSyntaxHighlighting=!1)}}function a(h,l){h&&(h.addImplementation(1e4,"code-editor",(g,d)=>{const v=g.get(p.ICodeEditorService).getFocusedCodeEditor();if(v&&v.hasTextFocus()){const _=v.getOption(37),S=v.getSelection();return S&&S.isEmpty()&&!_||v.getContainerDomNode().ownerDocument.execCommand(l),!0}return!1}),h.addImplementation(0,"generic-dom",(g,d)=>((0,k.getActiveDocument)().execCommand(l),!0)))}a(e.CutAction,"cut"),a(e.CopyAction,"copy"),e.PasteAction&&(e.PasteAction.addImplementation(1e4,"code-editor",(h,l)=>{var g,d;const v=h.get(p.ICodeEditorService),_=h.get(s.IClipboardService),S=v.getFocusedCodeEditor();return S&&S.hasTextFocus()?S.getContainerDomNode().ownerDocument.execCommand("paste")?(d=(g=b.CopyPasteController.get(S))===null||g===void 0?void 0:g.finishedPaste())!==null&&d!==void 0?d:Promise.resolve():E.isWeb?(async()=>{const I=await _.readText();if(I!==""){const T=D.InMemoryClipboardMetadataManager.INSTANCE.get(I);let N=!1,A=null,O=null;T&&(N=S.getOption(37)&&!!T.isFromEmptySelection,A=typeof T.multicursorText<"u"?T.multicursorText:null,O=T.mode),S.trigger("keyboard","paste",{text:I,pasteOnNewLine:N,multicursorText:A,mode:O})}})():!0:!1}),e.PasteAction.addImplementation(0,"generic-dom",(h,l)=>((0,k.getActiveDocument)().execCommand("paste"),!0))),c&&(0,y.registerEditorAction)(r)}),define(ie[983],ne([1,0,88,16,21,142,417,284,706]),function(Q,e,f,k,E,D,y,p,w){"use strict";var b;Object.defineProperty(e,"__esModule",{value:!0}),(0,k.registerEditorContribution)(y.CopyPasteController.ID,y.CopyPasteController,0),(0,D.registerEditorFeature)(p.DefaultPasteProvidersFeature),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:y.changePasteTypeCommandId,precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(C,o){var s;return(s=y.CopyPasteController.get(o))===null||s===void 0?void 0:s.changePasteType()}}),(0,k.registerEditorCommand)(new class extends k.EditorCommand{constructor(){super({id:"editor.hidePasteWidget",precondition:y.pasteWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(C,o){var s;(s=y.CopyPasteController.get(o))===null||s===void 0||s.clearWidgets()}}),(0,k.registerEditorAction)((b=class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAs",label:w.localize(1,null),alias:"Paste As...",precondition:E.EditorContextKeys.writable,metadata:{description:"Paste as",args:[{name:"args",schema:b.argsSchema}]}})}run(o,s,i){var t;let n=typeof i?.kind=="string"?i.kind:void 0;return!n&&i&&(n=typeof i.id=="string"?i.id:void 0),(t=y.CopyPasteController.get(s))===null||t===void 0?void 0:t.pasteAs(n?new f.HierarchicalKind(n):void 0)}},b.argsSchema={type:"object",properties:{kind:{type:"string",description:w.localize(0,null)}}},b)),(0,k.registerEditorAction)(class extends k.EditorAction{constructor(){super({id:"editor.action.pasteAsText",label:w.localize(2,null),alias:"Paste as Text",precondition:E.EditorContextKeys.writable})}run(C,o){var s;return(s=y.CopyPasteController.get(o))===null||s===void 0?void 0:s.pasteAs({providerId:p.DefaultTextPasteOrDropEditProvider.id})}})}),define(ie[984],ne([1,0,16,265,142,284,709,105,39,958]),function(Q,e,f,k,E,D,y,p,w,b){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(b.DropIntoEditorController.ID,b.DropIntoEditorController,2),(0,E.registerEditorFeature)(D.DefaultDropProvidersFeature),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:b.changeDropTypeCommandId,precondition:b.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:2137}})}runEditorCommand(C,o,s){var i;(i=b.DropIntoEditorController.get(o))===null||i===void 0||i.changeDropType()}}),(0,f.registerEditorCommand)(new class extends f.EditorCommand{constructor(){super({id:"editor.hideDropWidget",precondition:b.dropWidgetVisibleCtx,kbOpts:{weight:100,primary:9}})}runEditorCommand(C,o,s){var i;(i=b.DropIntoEditorController.get(o))===null||i===void 0||i.clearWidgets()}}),w.Registry.as(p.Extensions.Configuration).registerConfiguration({...k.editorConfigurationBaseNode,properties:{[b.defaultProviderConfig]:{type:"object",scope:5,description:y.localize(0,null),default:{},additionalProperties:{type:"string"}}}})}),define(ie[985],ne([1,0,622,97,50,12,188,34,130,753,180]),function(Q,e,f,k,E,D,y,p,w,b,C){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RandomBasedVariableResolver=e.WorkspaceBasedVariableResolver=e.TimeBasedVariableResolver=e.CommentBasedVariableResolver=e.ClipboardBasedVariableResolver=e.ModelBasedVariableResolver=e.SelectionBasedVariableResolver=e.CompositeSnippetVariableResolver=e.KnownSnippetVariableNames=void 0,e.KnownSnippetVariableNames=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,CURRENT_TIMEZONE_OFFSET:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class o{constructor(a){this._delegates=a}resolve(a){for(const h of this._delegates){const l=h.resolve(a);if(l!==void 0)return l}}}e.CompositeSnippetVariableResolver=o;class s{constructor(a,h,l,g){this._model=a,this._selection=h,this._selectionIdx=l,this._overtypingCapturer=g}resolve(a){const{name:h}=a;if(h==="SELECTION"||h==="TM_SELECTED_TEXT"){let l=this._model.getValueInRange(this._selection)||void 0,g=this._selection.startLineNumber!==this._selection.endLineNumber;if(!l&&this._overtypingCapturer){const d=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);d&&(l=d.value,g=d.multiline)}if(l&&g&&a.snippet){const d=this._model.getLineContent(this._selection.startLineNumber),v=(0,D.getLeadingWhitespace)(d,0,this._selection.startColumn-1);let _=v;a.snippet.walk(L=>L===a?!1:(L instanceof w.Text&&(_=(0,D.getLeadingWhitespace)((0,D.splitLines)(L.value).pop())),!0));const S=(0,D.commonPrefixLength)(_,v);l=l.replace(/(\r\n|\r|\n)(.*)/g,(L,I,T)=>`${I}${_.substr(S)}${T}`)}return l}else{if(h==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(h==="TM_CURRENT_WORD"){const l=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return l&&l.word||void 0}else{if(h==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(h==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(h==="CURSOR_INDEX")return String(this._selectionIdx);if(h==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}e.SelectionBasedVariableResolver=s;class i{constructor(a,h){this._labelService=a,this._model=h}resolve(a){const{name:h}=a;if(h==="TM_FILENAME")return k.basename(this._model.uri.fsPath);if(h==="TM_FILENAME_BASE"){const l=k.basename(this._model.uri.fsPath),g=l.lastIndexOf(".");return g<=0?l:l.slice(0,g)}else{if(h==="TM_DIRECTORY")return k.dirname(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,E.dirname)(this._model.uri));if(h==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(h==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}e.ModelBasedVariableResolver=i;class t{constructor(a,h,l,g){this._readClipboardText=a,this._selectionIdx=h,this._selectionCount=l,this._spread=g}resolve(a){if(a.name!=="CLIPBOARD")return;const h=this._readClipboardText();if(h){if(this._spread){const l=h.split(/\r\n|\n|\r/).filter(g=>!(0,D.isFalsyOrWhitespace)(g));if(l.length===this._selectionCount)return l[this._selectionIdx]}return h}}}e.ClipboardBasedVariableResolver=t;let n=class{constructor(a,h,l){this._model=a,this._selection=h,this._languageConfigurationService=l}resolve(a){const{name:h}=a,l=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),g=this._languageConfigurationService.getLanguageConfiguration(l).comments;if(g){if(h==="LINE_COMMENT")return g.lineCommentToken||void 0;if(h==="BLOCK_COMMENT_START")return g.blockCommentStartToken||void 0;if(h==="BLOCK_COMMENT_END")return g.blockCommentEndToken||void 0}}};e.CommentBasedVariableResolver=n,e.CommentBasedVariableResolver=n=Ie([ue(2,p.ILanguageConfigurationService)],n);class c{constructor(){this._date=new Date}resolve(a){const{name:h}=a;if(h==="CURRENT_YEAR")return String(this._date.getFullYear());if(h==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(h==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(h==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(h==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(h==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(h==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(h==="CURRENT_DAY_NAME")return c.dayNames[this._date.getDay()];if(h==="CURRENT_DAY_NAME_SHORT")return c.dayNamesShort[this._date.getDay()];if(h==="CURRENT_MONTH_NAME")return c.monthNames[this._date.getMonth()];if(h==="CURRENT_MONTH_NAME_SHORT")return c.monthNamesShort[this._date.getMonth()];if(h==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3));if(h==="CURRENT_TIMEZONE_OFFSET"){const l=this._date.getTimezoneOffset(),g=l>0?"-":"+",d=Math.trunc(Math.abs(l/60)),v=d<10?"0"+d:d,_=Math.abs(l)-d*60,S=_<10?"0"+_:_;return g+v+":"+S}}}e.TimeBasedVariableResolver=c,c.dayNames=[b.localize(0,null),b.localize(1,null),b.localize(2,null),b.localize(3,null),b.localize(4,null),b.localize(5,null),b.localize(6,null)],c.dayNamesShort=[b.localize(7,null),b.localize(8,null),b.localize(9,null),b.localize(10,null),b.localize(11,null),b.localize(12,null),b.localize(13,null)],c.monthNames=[b.localize(14,null),b.localize(15,null),b.localize(16,null),b.localize(17,null),b.localize(18,null),b.localize(19,null),b.localize(20,null),b.localize(21,null),b.localize(22,null),b.localize(23,null),b.localize(24,null),b.localize(25,null)],c.monthNamesShort=[b.localize(26,null),b.localize(27,null),b.localize(28,null),b.localize(29,null),b.localize(30,null),b.localize(31,null),b.localize(32,null),b.localize(33,null),b.localize(34,null),b.localize(35,null),b.localize(36,null),b.localize(37,null)];class m{constructor(a){this._workspaceService=a}resolve(a){if(!this._workspaceService)return;const h=(0,C.toWorkspaceIdentifier)(this._workspaceService.getWorkspace());if(!(0,C.isEmptyWorkspaceIdentifier)(h)){if(a.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(h);if(a.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(h)}}_resolveWorkspaceName(a){if((0,C.isSingleFolderWorkspaceIdentifier)(a))return k.basename(a.uri.path);let h=k.basename(a.configPath.path);return h.endsWith(C.WORKSPACE_EXTENSION)&&(h=h.substr(0,h.length-C.WORKSPACE_EXTENSION.length-1)),h}_resoveWorkspacePath(a){if((0,C.isSingleFolderWorkspaceIdentifier)(a))return(0,f.normalizeDriveLetter)(a.uri.fsPath);const h=k.basename(a.configPath.path);let l=a.configPath.fsPath;return l.endsWith(h)&&(l=l.substr(0,l.length-h.length-1)),l?(0,f.normalizeDriveLetter)(l):"/"}}e.WorkspaceBasedVariableResolver=m;class u{resolve(a){const{name:h}=a;if(h==="RANDOM")return Math.random().toString().slice(-6);if(h==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(h==="UUID")return(0,y.generateUuid)()}}e.RandomBasedVariableResolver=u}),define(ie[418],ne([1,0,13,2,12,72,5,24,34,37,175,180,130,985,506]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetSession=e.OneSnippet=void 0;class n{constructor(r,a,h){this._editor=r,this._snippet=a,this._snippetLineLeadingWhitespace=h,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,f.groupBy)(a.placeholders,s.Placeholder.compareByIndex),this._placeholderGroupsIdx=-1}initialize(r){this._offset=r.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const r=this._editor.getModel();this._editor.changeDecorations(a=>{for(const h of this._snippet.placeholders){const l=this._snippet.offset(h),g=this._snippet.fullLen(h),d=y.Range.fromPositions(r.getPositionAt(this._offset+l),r.getPositionAt(this._offset+l+g)),v=h.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive,_=a.addDecoration(d,v);this._placeholderDecorations.set(h,_)}})}move(r){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const l=[];for(const g of this._placeholderGroups[this._placeholderGroupsIdx])if(g.transform){const d=this._placeholderDecorations.get(g),v=this._editor.getModel().getDecorationRange(d),_=this._editor.getModel().getValueInRange(v),S=g.transform.resolve(_).split(/\r\n|\r|\n/);for(let L=1;L<S.length;L++)S[L]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+S[L]);l.push(D.EditOperation.replace(v,S.join(this._editor.getModel().getEOL())))}l.length>0&&this._editor.executeEdits("snippet.placeholderTransform",l)}let a=!1;r===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,a=!0):r===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,a=!0);const h=this._editor.getModel().changeDecorations(l=>{const g=new Set,d=[];for(const v of this._placeholderGroups[this._placeholderGroupsIdx]){const _=this._placeholderDecorations.get(v),S=this._editor.getModel().getDecorationRange(_);d.push(new p.Selection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn)),a=a&&this._hasPlaceholderBeenCollapsed(v),l.changeDecorationOptions(_,v.isFinalTabstop?n._decor.activeFinal:n._decor.active),g.add(v);for(const L of this._snippet.enclosingPlaceholders(v)){const I=this._placeholderDecorations.get(L);l.changeDecorationOptions(I,L.isFinalTabstop?n._decor.activeFinal:n._decor.active),g.add(L)}}for(const[v,_]of this._placeholderDecorations)g.has(v)||l.changeDecorationOptions(_,v.isFinalTabstop?n._decor.inactiveFinal:n._decor.inactive);return d});return a?this.move(r):h??[]}_hasPlaceholderBeenCollapsed(r){let a=r;for(;a;){if(a instanceof s.Placeholder){const h=this._placeholderDecorations.get(a);if(this._editor.getModel().getDecorationRange(h).isEmpty()&&a.toString().length>0)return!0}a=a.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){if(this._snippet.placeholders.length===0)return!0;if(this._snippet.placeholders.length===1){const[r]=this._snippet.placeholders;if(r.isFinalTabstop&&this._snippet.rightMostDescendant===r)return!0}return!1}computePossibleSelections(){const r=new Map;for(const a of this._placeholderGroups){let h;for(const l of a){if(l.isFinalTabstop)break;h||(h=[],r.set(l.index,h));const g=this._placeholderDecorations.get(l),d=this._editor.getModel().getDecorationRange(g);if(!d){r.delete(l.index);break}h.push(d)}}return r}get activeChoice(){if(!this._placeholderDecorations)return;const r=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!r?.choice)return;const a=this._placeholderDecorations.get(r);if(!a)return;const h=this._editor.getModel().getDecorationRange(a);if(h)return{range:h,choice:r.choice}}get hasChoice(){let r=!1;return this._snippet.walk(a=>(r=a instanceof s.Choice,!r)),r}merge(r){const a=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(h=>{for(const l of this._placeholderGroups[this._placeholderGroupsIdx]){const g=r.shift();console.assert(g._offset!==-1),console.assert(!g._placeholderDecorations);const d=g._snippet.placeholderInfo.last.index;for(const _ of g._snippet.placeholderInfo.all)_.isFinalTabstop?_.index=l.index+(d+1)/this._nestingLevel:_.index=l.index+_.index/this._nestingLevel;this._snippet.replace(l,g._snippet.children);const v=this._placeholderDecorations.get(l);h.removeDecoration(v),this._placeholderDecorations.delete(l);for(const _ of g._snippet.placeholders){const S=g._snippet.offset(_),L=g._snippet.fullLen(_),I=y.Range.fromPositions(a.getPositionAt(g._offset+S),a.getPositionAt(g._offset+S+L)),T=h.addDecoration(I,n._decor.inactive);this._placeholderDecorations.set(_,T)}}this._placeholderGroups=(0,f.groupBy)(this._snippet.placeholders,s.Placeholder.compareByIndex)})}}e.OneSnippet=n,n._decor={active:b.ModelDecorationOptions.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:b.ModelDecorationOptions.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:b.ModelDecorationOptions.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const c={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let m=t=class{static adjustWhitespace(r,a,h,l,g){const d=r.getLineContent(a.lineNumber),v=(0,E.getLeadingWhitespace)(d,0,a.column-1);let _;return l.walk(S=>{if(!(S instanceof s.Text)||S.parent instanceof s.Choice||g&&!g.has(S))return!0;const L=S.value.split(/\r\n|\r|\n/);if(h){const T=l.offset(S);if(T===0)L[0]=r.normalizeIndentation(L[0]);else{_=_??l.toString();const N=_.charCodeAt(T-1);(N===10||N===13)&&(L[0]=r.normalizeIndentation(v+L[0]))}for(let N=1;N<L.length;N++)L[N]=r.normalizeIndentation(v+L[N])}const I=L.join(r.getEOL());return I!==S.value&&(S.parent.replace(S,[new s.Text(I)]),_=void 0),!0}),v}static adjustSelection(r,a,h,l){if(h!==0||l!==0){const{positionLineNumber:g,positionColumn:d}=a,v=d-h,_=d+l,S=r.validateRange({startLineNumber:g,startColumn:v,endLineNumber:g,endColumn:_});a=p.Selection.createWithDirection(S.startLineNumber,S.startColumn,S.endLineNumber,S.endColumn,a.getDirection())}return a}static createEditsAndSnippetsFromSelections(r,a,h,l,g,d,v,_,S){const L=[],I=[];if(!r.hasModel())return{edits:L,snippets:I};const T=r.getModel(),N=r.invokeWithinContext(W=>W.get(o.IWorkspaceContextService)),A=r.invokeWithinContext(W=>new i.ModelBasedVariableResolver(W.get(C.ILabelService),T)),O=()=>v,M=T.getValueInRange(t.adjustSelection(T,r.getSelection(),h,0)),R=T.getValueInRange(t.adjustSelection(T,r.getSelection(),0,l)),x=T.getLineFirstNonWhitespaceColumn(r.getSelection().positionLineNumber),F=r.getSelections().map((W,H)=>({selection:W,idx:H})).sort((W,H)=>y.Range.compareRangesUsingStarts(W.selection,H.selection));for(const{selection:W,idx:H}of F){let z=t.adjustSelection(T,W,h,0),j=t.adjustSelection(T,W,0,l);M!==T.getValueInRange(z)&&(z=W),R!==T.getValueInRange(j)&&(j=W);const K=W.setStartPosition(z.startLineNumber,z.startColumn).setEndPosition(j.endLineNumber,j.endColumn),U=new s.SnippetParser().parse(a,!0,g),G=K.getStartPosition(),te=t.adjustWhitespace(T,G,d||H>0&&x!==T.getLineFirstNonWhitespaceColumn(W.positionLineNumber),U);U.resolveVariables(new i.CompositeSnippetVariableResolver([A,new i.ClipboardBasedVariableResolver(O,H,F.length,r.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(T,W,H,_),new i.CommentBasedVariableResolver(T,W,S),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(N),new i.RandomBasedVariableResolver])),L[H]=D.EditOperation.replace(K,U.toString()),L[H].identifier={major:H,minor:0},L[H]._isTracked=!0,I[H]=new n(r,U,te)}return{edits:L,snippets:I}}static createEditsAndSnippetsFromEdits(r,a,h,l,g,d,v){if(!r.hasModel()||a.length===0)return{edits:[],snippets:[]};const _=[],S=r.getModel(),L=new s.SnippetParser,I=new s.TextmateSnippet,T=new i.CompositeSnippetVariableResolver([r.invokeWithinContext(A=>new i.ModelBasedVariableResolver(A.get(C.ILabelService),S)),new i.ClipboardBasedVariableResolver(()=>g,0,r.getSelections().length,r.getOption(79)==="spread"),new i.SelectionBasedVariableResolver(S,r.getSelection(),0,d),new i.CommentBasedVariableResolver(S,r.getSelection(),v),new i.TimeBasedVariableResolver,new i.WorkspaceBasedVariableResolver(r.invokeWithinContext(A=>A.get(o.IWorkspaceContextService))),new i.RandomBasedVariableResolver]);a=a.sort((A,O)=>y.Range.compareRangesUsingStarts(A.range,O.range));let N=0;for(let A=0;A<a.length;A++){const{range:O,template:M}=a[A];if(A>0){const H=a[A-1].range,z=y.Range.fromPositions(H.getEndPosition(),O.getStartPosition()),j=new s.Text(S.getValueInRange(z));I.appendChild(j),N+=j.value.length}const R=L.parseFragment(M,I);t.adjustWhitespace(S,O.getStartPosition(),!0,I,new Set(R)),I.resolveVariables(T);const x=I.toString(),F=x.slice(N);N=x.length;const W=D.EditOperation.replace(O,F);W.identifier={major:A,minor:0},W._isTracked=!0,_.push(W)}return L.ensureFinalTabstop(I,h,!0),{edits:_,snippets:[new n(r,I,"")]}}constructor(r,a,h=c,l){this._editor=r,this._template=a,this._options=h,this._languageConfigurationService=l,this._templateMerges=[],this._snippets=[]}dispose(){(0,k.dispose)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:r,snippets:a}=typeof this._template=="string"?t.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):t.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=a,this._editor.executeEdits("snippet",r,h=>{const l=h.filter(g=>!!g.identifier);for(let g=0;g<a.length;g++)a[g].initialize(l[g].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):l.map(g=>p.Selection.fromPositions(g.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(r,a=c){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,r]);const{edits:h,snippets:l}=t.createEditsAndSnippetsFromSelections(this._editor,r,a.overwriteBefore,a.overwriteAfter,!0,a.adjustWhitespace,a.clipboardText,a.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",h,g=>{const d=g.filter(_=>!!_.identifier);for(let _=0;_<l.length;_++)l[_].initialize(d[_].textChange);const v=l[0].isTrivialSnippet;if(!v){for(const _ of this._snippets)_.merge(l);console.assert(l.length===0)}return this._snippets[0].hasPlaceholder&&!v?this._move(void 0):d.map(_=>p.Selection.fromPositions(_.range.getEndPosition()))})}next(){const r=this._move(!0);this._editor.setSelections(r),this._editor.revealPositionInCenterIfOutsideViewport(r[0].getPosition())}prev(){const r=this._move(!1);this._editor.setSelections(r),this._editor.revealPositionInCenterIfOutsideViewport(r[0].getPosition())}_move(r){const a=[];for(const h of this._snippets){const l=h.move(r);a.push(...l)}return a}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const r=this._editor.getSelections();if(r.length<this._snippets.length)return!1;const a=new Map;for(const h of this._snippets){const l=h.computePossibleSelections();if(a.size===0)for(const[g,d]of l){d.sort(y.Range.compareRangesUsingStarts);for(const v of r)if(d[0].containsRange(v)){a.set(g,[]);break}}if(a.size===0)return!1;a.forEach((g,d)=>{g.push(...l.get(d))})}r.sort(y.Range.compareRangesUsingStarts);for(const[h,l]of a){if(l.length!==r.length){a.delete(h);continue}l.sort(y.Range.compareRangesUsingStarts);for(let g=0;g<l.length;g++)if(!l[g].containsRange(r[g])){a.delete(h);continue}}return a.size>0}};e.SnippetSession=m,e.SnippetSession=m=t=Ie([ue(3,w.ILanguageConfigurationService)],m)}),define(ie[215],ne([1,0,2,20,16,9,21,34,18,150,752,14,60,418]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";var t;Object.defineProperty(e,"__esModule",{value:!0}),e.SnippetController2=void 0;const n={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let c=t=class{static get(r){return r.getContribution(t.ID)}constructor(r,a,h,l,g){this._editor=r,this._logService=a,this._languageFeaturesService=h,this._languageConfigurationService=g,this._snippetListener=new f.DisposableStore,this._modelVersionId=-1,this._inSnippet=t.InSnippetMode.bindTo(l),this._hasNextTabstop=t.HasNextTabstop.bindTo(l),this._hasPrevTabstop=t.HasPrevTabstop.bindTo(l)}dispose(){var r;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(r=this._session)===null||r===void 0||r.dispose(),this._snippetListener.dispose()}insert(r,a){try{this._doInsert(r,typeof a>"u"?n:{...n,...a})}catch(h){this.cancel(),this._logService.error(h),this._logService.error("snippet_error"),this._logService.error("insert_template=",r),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(r,a){var h;if(this._editor.hasModel()){if(this._snippetListener.clear(),a.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof r!="string"&&this.cancel(),this._session?((0,k.assertType)(typeof r=="string"),this._session.merge(r,a)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new i.SnippetSession(this._editor,r,a,this._languageConfigurationService),this._session.insert()),a.undoStopAfter&&this._editor.getModel().pushStackElement(),!((h=this._session)===null||h===void 0)&&h.hasChoice){const l={_debugDisplayName:"snippetChoiceCompletions",provideCompletionItems:(L,I)=>{if(!this._session||L!==this._editor.getModel()||!D.Position.equals(this._editor.getPosition(),I))return;const{activeChoice:T}=this._session;if(!T||T.choice.options.length===0)return;const N=L.getValueInRange(T.range),A=!!T.choice.options.find(M=>M.value===N),O=[];for(let M=0;M<T.choice.options.length;M++){const R=T.choice.options[M];O.push({kind:13,label:R.value,insertText:R.value,sortText:"a".repeat(M+1),range:T.range,filterText:A?`${N}_${R.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,C.localize)(3,null)}})}return{suggestions:O}}},g=this._editor.getModel();let d,v=!1;const _=()=>{d?.dispose(),v=!1},S=()=>{v||(d=this._languageFeaturesService.completionProvider.register({language:g.getLanguageId(),pattern:g.uri.fsPath,scheme:g.uri.scheme,exclusive:!0},l),this._snippetListener.add(d),v=!0)};this._choiceCompletions={provider:l,enable:S,disable:_}}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(l=>l.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){var r;if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:a}=this._session;if(!a||!this._choiceCompletions){(r=this._choiceCompletions)===null||r===void 0||r.disable(),this._currentChoice=void 0;return}this._currentChoice!==a.choice&&(this._currentChoice=a.choice,this._choiceCompletions.enable(),queueMicrotask(()=>{(0,b.showSimpleSuggestions)(this._editor,this._choiceCompletions.provider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(r=!1){var a;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(a=this._session)===null||a===void 0||a.dispose(),this._session=void 0,this._modelVersionId=-1,r&&this._editor.setSelections([this._editor.getSelection()])}prev(){var r;(r=this._session)===null||r===void 0||r.prev(),this._updateState()}next(){var r;(r=this._session)===null||r===void 0||r.next(),this._updateState()}isInSnippet(){return!!this._inSnippet.get()}};e.SnippetController2=c,c.ID="snippetController2",c.InSnippetMode=new o.RawContextKey("inSnippetMode",!1,(0,C.localize)(0,null)),c.HasNextTabstop=new o.RawContextKey("hasNextTabstop",!1,(0,C.localize)(1,null)),c.HasPrevTabstop=new o.RawContextKey("hasPrevTabstop",!1,(0,C.localize)(2,null)),e.SnippetController2=c=t=Ie([ue(1,s.ILogService),ue(2,w.ILanguageFeaturesService),ue(3,o.IContextKeyService),ue(4,p.ILanguageConfigurationService)],c),(0,E.registerEditorContribution)(c.ID,c,4);const m=E.EditorCommand.bindToContribution(c.get);(0,E.registerEditorCommand)(new m({id:"jumpToNextSnippetPlaceholder",precondition:o.ContextKeyExpr.and(c.InSnippetMode,c.HasNextTabstop),handler:u=>u.next(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:2}})),(0,E.registerEditorCommand)(new m({id:"jumpToPrevSnippetPlaceholder",precondition:o.ContextKeyExpr.and(c.InSnippetMode,c.HasPrevTabstop),handler:u=>u.prev(),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:1026}})),(0,E.registerEditorCommand)(new m({id:"leaveSnippet",precondition:c.InSnippetMode,handler:u=>u.cancel(!0),kbOpts:{weight:130,kbExpr:y.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,E.registerEditorCommand)(new m({id:"acceptSnippet",precondition:c.InSnippetMode,handler:u=>u.finish()}))}),define(ie[986],ne([1,0,13,67,155,10,2,30,12,20,72,9,5,24,109,108,28,34,198,845,239,199,215,25,8]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsModel=e.VersionIdChangeReason=void 0,e.getSecondaryEdits=S;var v;(function(T){T[T.Undo=0]="Undo",T[T.Redo=1]="Redo",T[T.AcceptWord=2]="AcceptWord",T[T.Other=3]="Other"})(v||(e.VersionIdChangeReason=v={}));let _=class extends y.Disposable{get isAcceptingPartially(){return this._isAcceptingPartially}constructor(N,A,O,M,R,x,F,W,H,z,j,K){super(),this.textModel=N,this.selectedSuggestItem=A,this.textModelVersionId=O,this._positions=M,this._debounceValue=R,this._suggestPreviewEnabled=x,this._suggestPreviewMode=F,this._inlineSuggestMode=W,this._enabled=H,this._instantiationService=z,this._commandService=j,this._languageConfigurationService=K,this._source=this._register(this._instantiationService.createInstance(r.InlineCompletionsSource,this.textModel,this.textModelVersionId,this._debounceValue)),this._isActive=(0,p.observableValue)(this,!1),this._forceUpdateExplicitlySignal=(0,p.observableSignal)(this),this._selectedInlineCompletionId=(0,p.observableValue)(this,void 0),this._primaryPosition=(0,p.derived)(this,G=>{var te;return(te=this._positions.read(G)[0])!==null&&te!==void 0?te:new o.Position(1,1)}),this._isAcceptingPartially=!1,this._preserveCurrentCompletionReasons=new Set([v.Redo,v.Undo,v.AcceptWord]),this._fetchInlineCompletionsPromise=(0,p.derivedHandleChanges)({owner:this,createEmptyChangeSummary:()=>({preserveCurrentCompletion:!1,inlineCompletionTriggerKind:c.InlineCompletionTriggerKind.Automatic}),handleChange:(G,te)=>(G.didChange(this.textModelVersionId)&&this._preserveCurrentCompletionReasons.has(G.change)?te.preserveCurrentCompletion=!0:G.didChange(this._forceUpdateExplicitlySignal)&&(te.inlineCompletionTriggerKind=c.InlineCompletionTriggerKind.Explicit),!0)},(G,te)=>{if(this._forceUpdateExplicitlySignal.read(G),!(this._enabled.read(G)&&this.selectedSuggestItem.read(G)||this._isActive.read(G))){this._source.cancelUpdate();return}this.textModelVersionId.read(G);const Y=this._source.suggestWidgetInlineCompletions.get(),P=this.selectedSuggestItem.read(G);if(Y&&!P){const pe=this._source.inlineCompletions.get();(0,p.transaction)(ge=>{(!pe||Y.request.versionId>pe.request.versionId)&&this._source.inlineCompletions.set(Y.clone(),ge),this._source.clearSuggestWidgetInlineCompletions(ge)})}const Z=this._primaryPosition.read(G),re={triggerKind:te.inlineCompletionTriggerKind,selectedSuggestionInfo:P?.toSelectedSuggestionInfo()},ce=this.selectedInlineCompletion.get(),he=te.preserveCurrentCompletion||ce?.forwardStable?ce:void 0;return this._source.fetch(Z,re,he)}),this._filteredInlineCompletionItems=(0,p.derivedOpts)({owner:this,equalsFn:(0,E.itemsEquals)()},G=>{const te=this._source.inlineCompletions.read(G);if(!te)return[];const ee=this._primaryPosition.read(G);return te.inlineCompletions.filter(P=>P.isVisible(this.textModel,ee,G))}),this.selectedInlineCompletionIndex=(0,p.derived)(this,G=>{const te=this._selectedInlineCompletionId.read(G),ee=this._filteredInlineCompletionItems.read(G),Y=this._selectedInlineCompletionId===void 0?-1:ee.findIndex(P=>P.semanticId===te);return Y===-1?(this._selectedInlineCompletionId.set(void 0,void 0),0):Y}),this.selectedInlineCompletion=(0,p.derived)(this,G=>{const te=this._filteredInlineCompletionItems.read(G),ee=this.selectedInlineCompletionIndex.read(G);return te[ee]}),this.activeCommands=(0,p.derivedOpts)({owner:this,equalsFn:(0,E.itemsEquals)()},G=>{var te,ee;return(ee=(te=this.selectedInlineCompletion.read(G))===null||te===void 0?void 0:te.inlineCompletion.source.inlineCompletions.commands)!==null&&ee!==void 0?ee:[]}),this.lastTriggerKind=this._source.inlineCompletions.map(this,G=>G?.request.context.triggerKind),this.inlineCompletionsCount=(0,p.derived)(this,G=>{if(this.lastTriggerKind.read(G)===c.InlineCompletionTriggerKind.Explicit)return this._filteredInlineCompletionItems.read(G).length}),this.state=(0,p.derivedOpts)({owner:this,equalsFn:(G,te)=>!G||!te?G===te:(0,u.ghostTextsOrReplacementsEqual)(G.ghostTexts,te.ghostTexts)&&G.inlineCompletion===te.inlineCompletion&&G.suggestItem===te.suggestItem},G=>{var te,ee;const Y=this.textModel,P=this.selectedSuggestItem.read(G);if(P){const Z=(0,a.singleTextRemoveCommonPrefix)(P.toSingleTextEdit(),Y),re=this._computeAugmentation(Z,G);if(!this._suggestPreviewEnabled.read(G)&&!re)return;const he=(te=re?.edit)!==null&&te!==void 0?te:Z,pe=re?re.edit.text.length-Z.text.length:0,ge=this._suggestPreviewMode.read(G),X=this._positions.read(G),ae=[he,...S(this.textModel,X,he)],oe=ae.map((q,V)=>(0,a.computeGhostText)(q,Y,ge,X[V],pe)).filter(b.isDefined),B=(ee=oe[0])!==null&&ee!==void 0?ee:new u.GhostText(he.range.endLineNumber,[]);return{edits:ae,primaryGhostText:B,ghostTexts:oe,inlineCompletion:re?.completion,suggestItem:P}}else{if(!this._isActive.read(G))return;const Z=this.selectedInlineCompletion.read(G);if(!Z)return;const re=Z.toSingleTextEdit(G),ce=this._inlineSuggestMode.read(G),he=this._positions.read(G),pe=[re,...S(this.textModel,he,re)],ge=pe.map((X,ae)=>(0,a.computeGhostText)(X,Y,ce,he[ae],0)).filter(b.isDefined);return ge[0]?{edits:pe,primaryGhostText:ge[0],ghostTexts:ge,inlineCompletion:Z,suggestItem:void 0}:void 0}}),this.ghostTexts=(0,p.derivedOpts)({owner:this,equalsFn:u.ghostTextsOrReplacementsEqual},G=>{const te=this.state.read(G);if(te)return te.ghostTexts}),this.primaryGhostText=(0,p.derivedOpts)({owner:this,equalsFn:u.ghostTextOrReplacementEquals},G=>{const te=this.state.read(G);if(te)return te?.primaryGhostText}),this._register((0,p.recomputeInitiallyAndOnChange)(this._fetchInlineCompletionsPromise));let U;this._register((0,p.autorun)(G=>{var te,ee;const Y=this.state.read(G),P=Y?.inlineCompletion;if(P?.semanticId!==U?.semanticId&&(U=P,P)){const Z=P.inlineCompletion,re=Z.source;(ee=(te=re.provider).handleItemDidShow)===null||ee===void 0||ee.call(te,re.inlineCompletions,Z.sourceInlineCompletion,Z.insertText)}}))}async trigger(N){this._isActive.set(!0,N),await this._fetchInlineCompletionsPromise.get()}async triggerExplicitly(N){(0,p.subtransaction)(N,A=>{this._isActive.set(!0,A),this._forceUpdateExplicitlySignal.trigger(A)}),await this._fetchInlineCompletionsPromise.get()}stop(N){(0,p.subtransaction)(N,A=>{this._isActive.set(!1,A),this._source.clear(A)})}_computeAugmentation(N,A){const O=this.textModel,M=this._source.suggestWidgetInlineCompletions.read(A),R=M?M.inlineCompletions:[this.selectedInlineCompletion.read(A)].filter(b.isDefined);return(0,k.mapFindFirst)(R,F=>{let W=F.toSingleTextEdit(A);return W=(0,a.singleTextRemoveCommonPrefix)(W,O,s.Range.fromPositions(W.range.getStartPosition(),N.range.getEndPosition())),(0,a.singleTextEditAugments)(W,N)?{completion:F,edit:W}:void 0})}async _deltaSelectedInlineCompletionIndex(N){await this.triggerExplicitly();const A=this._filteredInlineCompletionItems.get()||[];if(A.length>0){const O=(this.selectedInlineCompletionIndex.get()+N+A.length)%A.length;this._selectedInlineCompletionId.set(A[O].semanticId,void 0)}else this._selectedInlineCompletionId.set(void 0,void 0)}async next(){await this._deltaSelectedInlineCompletionIndex(1)}async previous(){await this._deltaSelectedInlineCompletionIndex(-1)}async accept(N){var A;if(N.getModel()!==this.textModel)throw new D.BugIndicatingError;const O=this.state.get();if(!O||O.primaryGhostText.isEmpty()||!O.inlineCompletion)return;const M=O.inlineCompletion.toInlineCompletion(void 0);if(N.pushUndoStop(),M.snippetInfo)N.executeEdits("inlineSuggestion.accept",[C.EditOperation.replace(M.range,""),...M.additionalTextEdits]),N.setPosition(M.snippetInfo.range.getStartPosition(),"inlineCompletionAccept"),(A=l.SnippetController2.get(N))===null||A===void 0||A.insert(M.snippetInfo.snippet,{undoStopBefore:!1});else{const R=O.edits,x=I(R).map(F=>i.Selection.fromPositions(F));N.executeEdits("inlineSuggestion.accept",[...R.map(F=>C.EditOperation.replace(F.range,F.text)),...M.additionalTextEdits]),N.setSelections(x,"inlineCompletionAccept")}M.command&&M.source.addRef(),(0,p.transaction)(R=>{this._source.clear(R),this._isActive.set(!1,R)}),M.command&&(await this._commandService.executeCommand(M.command.id,...M.command.arguments||[]).then(void 0,D.onUnexpectedExternalError),M.source.removeRef())}async acceptNextWord(N){await this._acceptNext(N,(A,O)=>{const M=this.textModel.getLanguageIdAtPosition(A.lineNumber,A.column),R=this._languageConfigurationService.getLanguageConfiguration(M),x=new RegExp(R.wordDefinition.source,R.wordDefinition.flags.replace("g","")),F=O.match(x);let W=0;F&&F.index!==void 0?F.index===0?W=F[0].length:W=F.index:W=O.length;const z=/\s+/g.exec(O);return z&&z.index!==void 0&&z.index+z[0].length<W&&(W=z.index+z[0].length),W},0)}async acceptNextLine(N){await this._acceptNext(N,(A,O)=>{const M=O.match(/\n/);return M&&M.index!==void 0?M.index+1:O.length},1)}async _acceptNext(N,A,O){if(N.getModel()!==this.textModel)throw new D.BugIndicatingError;const M=this.state.get();if(!M||M.primaryGhostText.isEmpty()||!M.inlineCompletion)return;const R=M.primaryGhostText,x=M.inlineCompletion.toInlineCompletion(void 0);if(x.snippetInfo||x.filterText!==x.insertText){await this.accept(N);return}const F=R.parts[0],W=new o.Position(R.lineNumber,F.column),H=F.text,z=A(W,H);if(z===H.length&&R.parts.length===1){this.accept(N);return}const j=H.substring(0,z),K=this._positions.get(),U=K[0];x.source.addRef();try{this._isAcceptingPartially=!0;try{N.pushUndoStop();const G=s.Range.fromPositions(U,W),te=N.getModel().getValueInRange(G)+j,ee=new t.SingleTextEdit(G,te),Y=[ee,...S(this.textModel,K,ee)],P=I(Y).map(Z=>i.Selection.fromPositions(Z));N.executeEdits("inlineSuggestion.accept",Y.map(Z=>C.EditOperation.replace(Z.range,Z.text))),N.setSelections(P,"inlineCompletionPartialAccept")}finally{this._isAcceptingPartially=!1}if(x.source.provider.handlePartialAccept){const G=s.Range.fromPositions(x.range.getStartPosition(),n.TextLength.ofText(j).addToPosition(W)),te=N.getModel().getValueInRange(G,1);x.source.provider.handlePartialAccept(x.source.inlineCompletions,x.sourceInlineCompletion,te.length,{kind:O})}}finally{x.source.removeRef()}}handleSuggestAccepted(N){var A,O;const M=(0,a.singleTextRemoveCommonPrefix)(N.toSingleTextEdit(),this.textModel),R=this._computeAugmentation(M,void 0);if(!R)return;const x=R.completion.inlineCompletion;(O=(A=x.source.provider).handlePartialAccept)===null||O===void 0||O.call(A,x.source.inlineCompletions,x.sourceInlineCompletion,M.text.length,{kind:2})}};e.InlineCompletionsModel=_,e.InlineCompletionsModel=_=Ie([ue(9,d.IInstantiationService),ue(10,g.ICommandService),ue(11,m.ILanguageConfigurationService)],_);function S(T,N,A){if(N.length===1)return[];const O=N[0],M=N.slice(1),R=A.range.getStartPosition(),x=A.range.getEndPosition(),F=T.getValueInRange(s.Range.fromPositions(O,x)),W=(0,h.subtractPositions)(O,R);if(W.lineNumber<1)return(0,D.onUnexpectedError)(new D.BugIndicatingError(`positionWithinTextEdit line number should be bigger than 0.
			Invalid subtraction between ${O.toString()} and ${R.toString()}`)),[];const H=L(A.text,W);return M.map(z=>{const j=(0,h.addPositions)((0,h.subtractPositions)(z,R),x),K=T.getValueInRange(s.Range.fromPositions(z,j)),U=(0,w.commonPrefixLength)(F,K),G=s.Range.fromPositions(z,z.delta(0,U));return new t.SingleTextEdit(G,H)})}function L(T,N){let A="";const O=(0,w.splitLinesIncludeSeparators)(T);for(let M=N.lineNumber-1;M<O.length;M++)A+=O[M].substring(M===N.lineNumber-1?N.column-1:0);return A}function I(T){const N=f.Permutation.createSortPermutation(T,(R,x)=>s.Range.compareRangesUsingStarts(R.range,x.range)),O=new t.TextEdit(N.apply(T)).getNewRanges();return N.inverse().apply(O).map(R=>R.getEndPosition())}}),define(ie[419],ne([1,0,15,19,10,7,2,12,24,113,333,114,27,14,60,62,332,150,18,78,20,261,215,263]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g){"use strict";var d;Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestModel=e.LineContext=void 0;class v{static shouldAutoTrigger(T){if(!T.hasModel())return!1;const N=T.getModel(),A=T.getPosition();N.tokenization.tokenizeIfCheap(A.lineNumber);const O=N.getWordAtPosition(A);return!(!O||O.endColumn!==A.column&&O.startColumn+1!==A.column||!isNaN(Number(O.word)))}constructor(T,N,A){this.leadingLineContent=T.getLineContent(N.lineNumber).substr(0,N.column-1),this.leadingWord=T.getWordUntilPosition(N),this.lineNumber=N.lineNumber,this.column=N.column,this.triggerOptions=A}}e.LineContext=v;function _(I,T,N){if(!T.getContextKeyValue(h.InlineCompletionContextKeys.inlineSuggestionVisible.key))return!0;const A=T.getContextKeyValue(h.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!I.getOption(62).suppressSuggestions}function S(I,T,N){if(!T.getContextKeyValue("inlineSuggestionVisible"))return!0;const A=T.getContextKeyValue(h.InlineCompletionContextKeys.suppressSuggestions.key);return A!==void 0?!A:!I.getOption(62).suppressSuggestions}let L=d=class{constructor(T,N,A,O,M,R,x,F,W){this._editor=T,this._editorWorkerService=N,this._clipboardService=A,this._telemetryService=O,this._logService=M,this._contextKeyService=R,this._configurationService=x,this._languageFeaturesService=F,this._envService=W,this._toDispose=new y.DisposableStore,this._triggerCharacterListener=new y.DisposableStore,this._triggerQuickSuggest=new f.TimeoutTimer,this._triggerState=void 0,this._completionDisposables=new y.DisposableStore,this._onDidCancel=new D.Emitter,this._onDidTrigger=new D.Emitter,this._onDidSuggest=new D.Emitter,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new w.Selection(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let H=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{H=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{H=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(z=>{H||this._onCursorChange(z)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{!H&&this._triggerState!==void 0&&this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,y.dispose)(this._triggerCharacterListener),(0,y.dispose)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(91)||!this._editor.hasModel()||!this._editor.getOption(121))return;const T=new Map;for(const A of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const O of A.triggerCharacters||[]){let M=T.get(O);M||(M=new Set,M.add((0,m.getSnippetSuggestSupport)()),T.set(O,M)),M.add(A)}const N=A=>{var O;if(!S(this._editor,this._contextKeyService,this._configurationService)||v.shouldAutoTrigger(this._editor))return;if(!A){const x=this._editor.getPosition();A=this._editor.getModel().getLineContent(x.lineNumber).substr(0,x.column-1)}let M="";(0,p.isLowSurrogate)(A.charCodeAt(A.length-1))?(0,p.isHighSurrogate)(A.charCodeAt(A.length-2))&&(M=A.substr(A.length-2)):M=A.charAt(A.length-1);const R=T.get(M);if(R){const x=new Map;if(this._completionModel)for(const[F,W]of this._completionModel.getItemsByProvider())R.has(F)||x.set(F,W);this.trigger({auto:!0,triggerKind:1,triggerCharacter:M,retrigger:!!this._completionModel,clipboardText:(O=this._completionModel)===null||O===void 0?void 0:O.clipboardText,completionOptions:{providerFilter:R,providerItemsToReuse:x}})}};this._triggerCharacterListener.add(this._editor.onDidType(N)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>N()))}get state(){return this._triggerState?this._triggerState.auto?2:1:0}cancel(T=!1){var N;this._triggerState!==void 0&&(this._triggerQuickSuggest.cancel(),(N=this._requestToken)===null||N===void 0||N.cancel(),this._requestToken=void 0,this._triggerState=void 0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:T}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._triggerState!==void 0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._triggerState.auto,retrigger:!0}))}_onCursorChange(T){if(!this._editor.hasModel())return;const N=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!T.selection.isEmpty()||T.reason!==0&&T.reason!==3||T.source!=="keyboard"&&T.source!=="deleteLeft"){this.cancel();return}this._triggerState===void 0&&T.reason===0?(N.containsRange(this._currentSelection)||N.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._triggerState!==void 0&&T.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._triggerState===void 0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var T;m.QuickSuggestionsOptions.isAllOff(this._editor.getOption(89))||this._editor.getOption(118).snippetsPreventQuickSuggestions&&(!((T=l.SnippetController2.get(this._editor))===null||T===void 0)&&T.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._triggerState!==void 0||!v.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const N=this._editor.getModel(),A=this._editor.getPosition(),O=this._editor.getOption(89);if(!m.QuickSuggestionsOptions.isAllOff(O)){if(!m.QuickSuggestionsOptions.isAllOn(O)){N.tokenization.tokenizeIfCheap(A.lineNumber);const M=N.tokenization.getLineTokens(A.lineNumber),R=M.getStandardTokenType(M.findTokenIndexAtOffset(Math.max(A.column-1-1,0)));if(m.QuickSuggestionsOptions.valueFor(O,R)!=="on")return}_(this._editor,this._contextKeyService,this._configurationService)&&this._languageFeaturesService.completionProvider.has(N)&&this.trigger({auto:!0})}},this._editor.getOption(90)))}_refilterCompletionItems(){(0,a.assertType)(this._editor.hasModel()),(0,a.assertType)(this._triggerState!==void 0);const T=this._editor.getModel(),N=this._editor.getPosition(),A=new v(T,N,{...this._triggerState,refilter:!0});this._onNewContext(A)}trigger(T){var N,A,O,M,R,x;if(!this._editor.hasModel())return;const F=this._editor.getModel(),W=new v(F,this._editor.getPosition(),T);this.cancel(T.retrigger),this._triggerState=T,this._onDidTrigger.fire({auto:T.auto,shy:(N=T.shy)!==null&&N!==void 0?N:!1,position:this._editor.getPosition()}),this._context=W;let H={triggerKind:(A=T.triggerKind)!==null&&A!==void 0?A:0};T.triggerCharacter&&(H={triggerKind:1,triggerCharacter:T.triggerCharacter}),this._requestToken=new k.CancellationTokenSource;const z=this._editor.getOption(112);let j=1;switch(z){case"top":j=0;break;case"bottom":j=2;break}const{itemKind:K,showDeprecated:U}=d.createSuggestFilter(this._editor),G=new m.CompletionOptions(j,(M=(O=T.completionOptions)===null||O===void 0?void 0:O.kindFilter)!==null&&M!==void 0?M:K,(R=T.completionOptions)===null||R===void 0?void 0:R.providerFilter,(x=T.completionOptions)===null||x===void 0?void 0:x.providerItemsToReuse,U),te=C.WordDistance.create(this._editorWorkerService,this._editor),ee=(0,m.provideSuggestionItems)(this._languageFeaturesService.completionProvider,F,this._editor.getPosition(),G,H,this._requestToken.token);Promise.all([ee,te]).then(async([Y,P])=>{var Z;if((Z=this._requestToken)===null||Z===void 0||Z.dispose(),!this._editor.hasModel())return;let re=T?.clipboardText;if(!re&&Y.needsClipboard&&(re=await this._clipboardService.readText()),this._triggerState===void 0)return;const ce=this._editor.getModel(),he=new v(ce,this._editor.getPosition(),T),pe={...r.FuzzyScoreOptions.default,firstMatchCanBeWeak:!this._editor.getOption(118).matchOnWordStartOnly};if(this._completionModel=new c.CompletionModel(Y.items,this._context.column,{leadingLineContent:he.leadingLineContent,characterCountDelta:he.column-this._context.column},P,this._editor.getOption(118),this._editor.getOption(112),pe,re),this._completionDisposables.add(Y.disposable),this._onNewContext(he),this._reportDurationsTelemetry(Y.durations),!this._envService.isBuilt||this._envService.isExtensionDevelopment)for(const ge of Y.items)ge.isInvalid&&this._logService.warn(`[suggest] did IGNORE invalid completion item from ${ge.provider._debugDisplayName}`,ge.completion)}).catch(E.onUnexpectedError)}_reportDurationsTelemetry(T){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(T)}),this._logService.debug("suggest.durations.json",T)})}static createSuggestFilter(T){const N=new Set;T.getOption(112)==="none"&&N.add(27);const O=T.getOption(118);return O.showMethods||N.add(0),O.showFunctions||N.add(1),O.showConstructors||N.add(2),O.showFields||N.add(3),O.showVariables||N.add(4),O.showClasses||N.add(5),O.showStructs||N.add(6),O.showInterfaces||N.add(7),O.showModules||N.add(8),O.showProperties||N.add(9),O.showEvents||N.add(10),O.showOperators||N.add(11),O.showUnits||N.add(12),O.showValues||N.add(13),O.showConstants||N.add(14),O.showEnums||N.add(15),O.showEnumMembers||N.add(16),O.showKeywords||N.add(17),O.showWords||N.add(18),O.showColors||N.add(19),O.showFiles||N.add(20),O.showReferences||N.add(21),O.showColors||N.add(22),O.showFolders||N.add(23),O.showTypeParameters||N.add(24),O.showSnippets||N.add(27),O.showUsers||N.add(25),O.showIssues||N.add(26),{itemKind:N,showDeprecated:O.showDeprecated}}_onNewContext(T){if(this._context){if(T.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,p.getLeadingWhitespace)(T.leadingLineContent)!==(0,p.getLeadingWhitespace)(this._context.leadingLineContent)){this.cancel();return}if(T.column<this._context.column){T.leadingWord.word?this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0}):this.cancel();return}if(this._completionModel){if(T.leadingWord.word.length!==0&&T.leadingWord.startColumn>this._context.leadingWord.startColumn){if(v.shouldAutoTrigger(this._editor)&&this._context){const A=this._completionModel.getItemsByProvider();this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerItemsToReuse:A}})}return}if(T.column>this._context.column&&this._completionModel.getIncompleteProvider().size>0&&T.leadingWord.word.length!==0){const N=new Map,A=new Set;for(const[O,M]of this._completionModel.getItemsByProvider())M.length>0&&M[0].container.incomplete?A.add(O):N.set(O,M);this.trigger({auto:this._context.triggerOptions.auto,triggerKind:2,retrigger:!0,clipboardText:this._completionModel.clipboardText,completionOptions:{providerFilter:A,providerItemsToReuse:N}})}else{const N=this._completionModel.lineContext;let A=!1;if(this._completionModel.lineContext={leadingLineContent:T.leadingLineContent,characterCountDelta:T.column-this._context.column},this._completionModel.items.length===0){const O=v.shouldAutoTrigger(this._editor);if(!this._context){this.cancel();return}if(O&&this._context.leadingWord.endColumn<T.leadingWord.startColumn){this.trigger({auto:this._context.triggerOptions.auto,retrigger:!0});return}if(this._context.triggerOptions.auto){this.cancel();return}else if(this._completionModel.lineContext=N,A=this._completionModel.items.length>0,A&&T.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,triggerOptions:T.triggerOptions,isFrozen:A})}}}}};e.SuggestModel=L,e.SuggestModel=L=d=Ie([ue(1,b.IEditorWorkerService),ue(2,o.IClipboardService),ue(3,n.ITelemetryService),ue(4,t.ILogService),ue(5,i.IContextKeyService),ue(6,s.IConfigurationService),ue(7,u.ILanguageFeaturesService),ue(8,g.IEnvironmentService)],L)}),define(ie[420],ne([1,0,47,13,19,10,7,135,2,17,64,20,138,16,72,9,5,21,215,130,385,817,756,25,14,8,60,150,816,599,419,600,965,62,50,125,6,37]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N,A,O,M,R,x,F){"use strict";var W;Object.defineProperty(e,"__esModule",{value:!0}),e.TriggerSuggestAction=e.SuggestController=void 0;const H=!1;class z{constructor(Y,P){if(this._model=Y,this._position=P,this._decorationOptions=F.ModelDecorationOptions.register({description:"suggest-line-suffix",stickiness:1}),Y.getLineMaxColumn(P.lineNumber)!==P.column){const re=Y.getOffsetAt(P),ce=Y.getPositionAt(re+1);Y.changeDecorations(he=>{this._marker&&he.removeDecoration(this._marker),this._marker=he.addDecoration(c.Range.fromPositions(P,ce),this._decorationOptions)})}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.changeDecorations(Y=>{Y.removeDecoration(this._marker),this._marker=void 0})}delta(Y){if(this._model.isDisposed()||this._position.lineNumber!==Y.lineNumber)return 0;if(this._marker){const P=this._model.getDecorationRange(this._marker);return this._model.getOffsetAt(P.getStartPosition())-this._model.getOffsetAt(Y)}else return this._model.getLineMaxColumn(Y.lineNumber)-Y.column}}let j=W=class{static get(Y){return Y.getContribution(W.ID)}constructor(Y,P,Z,re,ce,he,pe){this._memoryService=P,this._commandService=Z,this._contextKeyService=re,this._instantiationService=ce,this._logService=he,this._telemetryService=pe,this._lineSuffix=new w.MutableDisposable,this._toDispose=new w.DisposableStore,this._selectors=new K(oe=>oe.priority),this._onWillInsertSuggestItem=new y.Emitter,this.onWillInsertSuggestItem=this._onWillInsertSuggestItem.event,this.editor=Y,this.model=ce.createInstance(T.SuggestModel,this.editor),this._selectors.register({priority:0,select:(oe,B,q)=>this._memoryService.select(oe,B,q)});const ge=S.Context.InsertMode.bindTo(re);ge.set(Y.getOption(118).insertMode),this._toDispose.add(this.model.onDidTrigger(()=>ge.set(Y.getOption(118).insertMode))),this.widget=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(Y.getDomNode()),()=>{const oe=this._instantiationService.createInstance(A.SuggestWidget,this.editor);this._toDispose.add(oe),this._toDispose.add(oe.onDidSelect(J=>this._insertSuggestion(J,0),this));const B=new I.CommitCharacterController(this.editor,oe,this.model,J=>this._insertSuggestion(J,2));this._toDispose.add(B);const q=S.Context.MakesTextEdit.bindTo(this._contextKeyService),V=S.Context.HasInsertAndReplaceRange.bindTo(this._contextKeyService),$=S.Context.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,w.toDisposable)(()=>{q.reset(),V.reset(),$.reset()})),this._toDispose.add(oe.onDidFocus(({item:J})=>{const se=this.editor.getPosition(),de=J.editStart.column,le=se.column;let fe=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!J.completion.additionalTextEdits&&!(J.completion.insertTextRules&4)&&le-de===J.completion.insertText.length&&(fe=this.editor.getModel().getValueInRange({startLineNumber:se.lineNumber,startColumn:de,endLineNumber:se.lineNumber,endColumn:le})!==J.completion.insertText),q.set(fe),V.set(!n.Position.equals(J.editInsertEnd,J.editReplaceEnd)),$.set(!!J.provider.resolveCompletionItem||!!J.completion.documentation||J.completion.detail!==J.completion.label)})),this._toDispose.add(oe.onDetailsKeyDown(J=>{if(J.toKeyCodeChord().equals(new p.KeyCodeChord(!0,!1,!1,!1,33))||b.isMacintosh&&J.toKeyCodeChord().equals(new p.KeyCodeChord(!1,!1,!1,!0,33))){J.stopPropagation();return}J.toKeyCodeChord().isModifierKey()||this.editor.focus()})),oe})),this._overtypingCapturer=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(Y.getDomNode()),()=>this._toDispose.add(new N.OvertypingCapturer(this.editor,this.model)))),this._alternatives=this._toDispose.add(new x.WindowIdleValue((0,x.getWindow)(Y.getDomNode()),()=>this._toDispose.add(new L.SuggestAlternatives(this.editor,this._contextKeyService)))),this._toDispose.add(ce.createInstance(h.WordContextKey,Y)),this._toDispose.add(this.model.onDidTrigger(oe=>{this.widget.value.showTriggered(oe.auto,oe.shy?250:50),this._lineSuffix.value=new z(this.editor.getModel(),oe.position)})),this._toDispose.add(this.model.onDidSuggest(oe=>{if(oe.triggerOptions.shy)return;let B=-1;for(const V of this._selectors.itemsOrderedByPriorityDesc)if(B=V.select(this.editor.getModel(),this.editor.getPosition(),oe.completionModel.items),B!==-1)break;if(B===-1&&(B=0),this.model.state===0)return;let q=!1;if(oe.triggerOptions.auto){const V=this.editor.getOption(118);V.selectionMode==="never"||V.selectionMode==="always"?q=V.selectionMode==="never":V.selectionMode==="whenTriggerCharacter"?q=oe.triggerOptions.triggerKind!==1:V.selectionMode==="whenQuickSuggestion"&&(q=oe.triggerOptions.triggerKind===1&&!oe.triggerOptions.refilter)}this.widget.value.showSuggestions(oe.completionModel,B,oe.isFrozen,oe.triggerOptions.auto,q)})),this._toDispose.add(this.model.onDidCancel(oe=>{oe.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{H||(this.model.cancel(),this.model.clear())}));const X=S.Context.AcceptSuggestionsOnEnter.bindTo(re),ae=()=>{const oe=this.editor.getOption(1);X.set(oe==="on"||oe==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>ae())),ae()}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose(),this._onWillInsertSuggestItem.dispose()}_insertSuggestion(Y,P){if(!Y||!Y.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const Z=u.SnippetController2.get(this.editor);if(!Z)return;this._onWillInsertSuggestItem.fire({item:Y.item});const re=this.editor.getModel(),ce=re.getAlternativeVersionId(),{item:he}=Y,pe=[],ge=new E.CancellationTokenSource;P&1||this.editor.pushUndoStop();const X=this.getOverwriteInfo(he,!!(P&8));this._memoryService.memorize(re,this.editor.getPosition(),he);const ae=he.isResolved;let oe=-1,B=-1;if(Array.isArray(he.completion.additionalTextEdits)){this.model.cancel();const V=s.StableEditorScrollState.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",he.completion.additionalTextEdits.map($=>{let J=c.Range.lift($.range);if(J.startLineNumber===he.position.lineNumber&&J.startColumn>he.position.column){const se=this.editor.getPosition().column-he.position.column,de=se,le=c.Range.spansMultipleLines(J)?0:se;J=new c.Range(J.startLineNumber,J.startColumn+de,J.endLineNumber,J.endColumn+le)}return t.EditOperation.replaceMove(J,$.text)})),V.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!ae){const V=new C.StopWatch;let $;const J=re.onDidChangeContent(fe=>{if(fe.isFlush){ge.cancel(),J.dispose();return}for(const ve of fe.changes){const Ce=c.Range.getEndPosition(ve.range);(!$||n.Position.isBefore(Ce,$))&&($=Ce)}}),se=P;P|=2;let de=!1;const le=this.editor.onWillType(()=>{le.dispose(),de=!0,se&2||this.editor.pushUndoStop()});pe.push(he.resolve(ge.token).then(()=>{if(!he.completion.additionalTextEdits||ge.token.isCancellationRequested)return;if($&&he.completion.additionalTextEdits.some(ve=>n.Position.isBefore($,c.Range.getStartPosition(ve.range))))return!1;de&&this.editor.pushUndoStop();const fe=s.StableEditorScrollState.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",he.completion.additionalTextEdits.map(ve=>t.EditOperation.replaceMove(c.Range.lift(ve.range),ve.text))),fe.restoreRelativeVerticalPositionOfCursor(this.editor),(de||!(se&2))&&this.editor.pushUndoStop(),!0}).then(fe=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",V.elapsed(),fe),B=fe===!0?1:fe===!1?0:-2}).finally(()=>{J.dispose(),le.dispose()}))}let{insertText:q}=he.completion;if(he.completion.insertTextRules&4||(q=r.SnippetParser.escape(q)),this.model.cancel(),Z.insert(q,{overwriteBefore:X.overwriteBefore,overwriteAfter:X.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(he.completion.insertTextRules&1),clipboardText:Y.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),P&2||this.editor.pushUndoStop(),he.completion.command)if(he.completion.command.id===U.id)this.model.trigger({auto:!0,retrigger:!0});else{const V=new C.StopWatch;pe.push(this._commandService.executeCommand(he.completion.command.id,...he.completion.command.arguments?[...he.completion.command.arguments]:[]).catch($=>{he.completion.extensionId?(0,D.onUnexpectedExternalError)($):(0,D.onUnexpectedError)($)}).finally(()=>{oe=V.elapsed()}))}P&4&&this._alternatives.value.set(Y,V=>{for(ge.cancel();re.canUndo();){ce!==re.getAlternativeVersionId()&&re.undo(),this._insertSuggestion(V,3|(P&8?8:0));break}}),this._alertCompletionItem(he),Promise.all(pe).finally(()=>{this._reportSuggestionAcceptedTelemetry(he,re,ae,oe,B),this.model.clear(),ge.dispose()})}_reportSuggestionAcceptedTelemetry(Y,P,Z,re,ce){var he,pe,ge;Math.floor(Math.random()*100)!==0&&this._telemetryService.publicLog2("suggest.acceptedSuggestion",{extensionId:(pe=(he=Y.extensionId)===null||he===void 0?void 0:he.value)!==null&&pe!==void 0?pe:"unknown",providerId:(ge=Y.provider._debugDisplayName)!==null&&ge!==void 0?ge:"unknown",kind:Y.completion.kind,basenameHash:(0,R.hash)((0,M.basename)(P.uri)).toString(16),languageId:P.getLanguageId(),fileExtension:(0,M.extname)(P.uri),resolveInfo:Y.provider.resolveCompletionItem?Z?1:0:-1,resolveDuration:Y.resolveDuration,commandDuration:re,additionalEditsAsync:ce})}getOverwriteInfo(Y,P){(0,o.assertType)(this.editor.hasModel());let Z=this.editor.getOption(118).insertMode==="replace";P&&(Z=!Z);const re=Y.position.column-Y.editStart.column,ce=(Z?Y.editReplaceEnd.column:Y.editInsertEnd.column)-Y.position.column,he=this.editor.getPosition().column-Y.position.column,pe=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:re+he,overwriteAfter:ce+pe}}_alertCompletionItem(Y){if((0,k.isNonEmptyArray)(Y.completion.additionalTextEdits)){const P=l.localize(0,null,Y.textLabel,Y.completion.additionalTextEdits.length);(0,f.alert)(P)}}triggerSuggest(Y,P,Z){this.editor.hasModel()&&(this.model.trigger({auto:P??!1,completionOptions:{providerFilter:Y,kindFilter:Z?new Set:void 0}}),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(Y){if(!this.editor.hasModel())return;const P=this.editor.getPosition(),Z=()=>{P.equals(this.editor.getPosition())&&this._commandService.executeCommand(Y.fallback)},re=ce=>{if(ce.completion.insertTextRules&4||ce.completion.additionalTextEdits)return!0;const he=this.editor.getPosition(),pe=ce.editStart.column,ge=he.column;return ge-pe!==ce.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:he.lineNumber,startColumn:pe,endLineNumber:he.lineNumber,endColumn:ge})!==ce.completion.insertText};y.Event.once(this.model.onDidTrigger)(ce=>{const he=[];y.Event.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,w.dispose)(he),Z()},void 0,he),this.model.onDidSuggest(({completionModel:pe})=>{if((0,w.dispose)(he),pe.items.length===0){Z();return}const ge=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),pe.items),X=pe.items[ge];if(!re(X)){Z();return}this.editor.pushUndoStop(),this._insertSuggestion({index:ge,item:X,model:pe},7)},void 0,he)}),this.model.trigger({auto:!1,shy:!0}),this.editor.revealPosition(P,0),this.editor.focus()}acceptSelectedSuggestion(Y,P){const Z=this.widget.value.getFocusedItem();let re=0;Y&&(re|=4),P&&(re|=8),this._insertSuggestion(Z,re)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}focusSuggestion(){this.widget.value.focusSelected()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){this.widget.isInitialized&&this.widget.value.stopForceRenderingAbove()}registerSelector(Y){return this._selectors.register(Y)}};e.SuggestController=j,j.ID="editor.contrib.suggestController",e.SuggestController=j=W=Ie([ue(1,a.ISuggestMemoryService),ue(2,g.ICommandService),ue(3,d.IContextKeyService),ue(4,v.IInstantiationService),ue(5,_.ILogService),ue(6,O.ITelemetryService)],j);class K{constructor(Y){this.prioritySelector=Y,this._items=new Array}register(Y){if(this._items.indexOf(Y)!==-1)throw new Error("Value is already registered");return this._items.push(Y),this._items.sort((P,Z)=>this.prioritySelector(Z)-this.prioritySelector(P)),{dispose:()=>{const P=this._items.indexOf(Y);P>=0&&this._items.splice(P,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class U extends i.EditorAction{constructor(){super({id:U.id,label:l.localize(1,null),alias:"Trigger Suggest",precondition:d.ContextKeyExpr.and(m.EditorContextKeys.writable,m.EditorContextKeys.hasCompletionItemProvider,S.Context.Visible.toNegated()),kbOpts:{kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(Y,P,Z){const re=j.get(P);if(!re)return;let ce;Z&&typeof Z=="object"&&Z.auto===!0&&(ce=!0),re.triggerSuggest(void 0,ce,void 0)}}e.TriggerSuggestAction=U,U.id="editor.action.triggerSuggest",(0,i.registerEditorContribution)(j.ID,j,2),(0,i.registerEditorAction)(U);const G=190,te=i.EditorCommand.bindToContribution(j.get);(0,i.registerEditorCommand)(new te({id:"acceptSelectedSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler(ee){ee.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:d.ContextKeyExpr.and(S.Context.Visible,m.EditorContextKeys.textInputFocus),weight:G},{primary:3,kbExpr:d.ContextKeyExpr.and(S.Context.Visible,m.EditorContextKeys.textInputFocus,S.Context.AcceptSuggestionsOnEnter,S.Context.MakesTextEdit),weight:G}],menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,title:l.localize(2,null),group:"left",order:1,when:S.Context.HasInsertAndReplaceRange.toNegated()},{menuId:S.suggestWidgetStatusbarMenu,title:l.localize(3,null),group:"left",order:1,when:d.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert"))},{menuId:S.suggestWidgetStatusbarMenu,title:l.localize(4,null),group:"left",order:1,when:d.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace"))}]})),(0,i.registerEditorCommand)(new te({id:"acceptAlternativeSelectedSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,m.EditorContextKeys.textInputFocus,S.Context.HasFocusedSuggestion),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:1027,secondary:[1026]},handler(ee){ee.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:d.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("insert")),title:l.localize(5,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"left",order:2,when:d.ContextKeyExpr.and(S.Context.HasInsertAndReplaceRange,S.Context.InsertMode.isEqualTo("replace")),title:l.localize(6,null)}]})),g.CommandsRegistry.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,i.registerEditorCommand)(new te({id:"hideSuggestWidget",precondition:S.Context.Visible,handler:ee=>ee.cancelSuggestWidget(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:9,secondary:[1033]}})),(0,i.registerEditorCommand)(new te({id:"selectNextSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,d.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectNextSuggestion(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,i.registerEditorCommand)(new te({id:"selectNextPageSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,d.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectNextPageSuggestion(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:12,secondary:[2060]}})),(0,i.registerEditorCommand)(new te({id:"selectLastSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,d.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectLastSuggestion()})),(0,i.registerEditorCommand)(new te({id:"selectPrevSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,d.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectPrevSuggestion(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,i.registerEditorCommand)(new te({id:"selectPrevPageSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,d.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectPrevPageSuggestion(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:11,secondary:[2059]}})),(0,i.registerEditorCommand)(new te({id:"selectFirstSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,d.ContextKeyExpr.or(S.Context.MultipleSuggestions,S.Context.HasFocusedSuggestion.negate())),handler:ee=>ee.selectFirstSuggestion()})),(0,i.registerEditorCommand)(new te({id:"focusSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:ee=>ee.focusSuggestion(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}}})),(0,i.registerEditorCommand)(new te({id:"focusAndAcceptSuggestion",precondition:d.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion.negate()),handler:ee=>{ee.focusSuggestion(),ee.acceptSelectedSuggestion(!0,!1)}})),(0,i.registerEditorCommand)(new te({id:"toggleSuggestionDetails",precondition:d.ContextKeyExpr.and(S.Context.Visible,S.Context.HasFocusedSuggestion),handler:ee=>ee.toggleSuggestionDetails(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:d.ContextKeyExpr.and(S.Context.DetailsVisible,S.Context.CanResolve),title:l.localize(7,null)},{menuId:S.suggestWidgetStatusbarMenu,group:"right",order:1,when:d.ContextKeyExpr.and(S.Context.DetailsVisible.toNegated(),S.Context.CanResolve),title:l.localize(8,null)}]})),(0,i.registerEditorCommand)(new te({id:"toggleExplainMode",precondition:S.Context.Visible,handler:ee=>ee.toggleExplainMode(),kbOpts:{weight:100,primary:2138}})),(0,i.registerEditorCommand)(new te({id:"toggleSuggestionFocus",precondition:S.Context.Visible,handler:ee=>ee.toggleSuggestionFocus(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:2570,mac:{primary:778}}})),(0,i.registerEditorCommand)(new te({id:"insertBestCompletion",precondition:d.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,d.ContextKeyExpr.equals("config.editor.tabCompletion","on"),h.WordContextKey.AtEnd,S.Context.Visible.toNegated(),L.SuggestAlternatives.OtherSuggestions.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:(ee,Y)=>{ee.triggerSuggestAndAcceptBest((0,o.isObject)(Y)?{fallback:"tab",...Y}:{fallback:"tab"})},kbOpts:{weight:G,primary:2}})),(0,i.registerEditorCommand)(new te({id:"insertNextSuggestion",precondition:d.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,d.ContextKeyExpr.equals("config.editor.tabCompletion","on"),L.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:ee=>ee.acceptNextSuggestion(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:2}})),(0,i.registerEditorCommand)(new te({id:"insertPrevSuggestion",precondition:d.ContextKeyExpr.and(m.EditorContextKeys.textInputFocus,d.ContextKeyExpr.equals("config.editor.tabCompletion","on"),L.SuggestAlternatives.OtherSuggestions,S.Context.Visible.toNegated(),u.SnippetController2.InSnippetMode.toNegated()),handler:ee=>ee.acceptPrevSuggestion(),kbOpts:{weight:G,kbExpr:m.EditorContextKeys.textInputFocus,primary:1026}})),(0,i.registerEditorAction)(class extends i.EditorAction{constructor(){super({id:"editor.action.resetSuggestSize",label:l.localize(9,null),alias:"Reset Suggest Widget Size",precondition:void 0})}run(ee,Y){var P;(P=j.get(Y))===null||P===void 0||P.resetWidgetSize()}})}),define(ie[987],ne([1,0,7,2,9,5,28,130,418,420,30,109,13,67,239]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestItemInfo=e.SuggestWidgetAdaptor=void 0;class n extends k.Disposable{get selectedItem(){return this._selectedItem}constructor(r,a,h,l){super(),this.editor=r,this.suggestControllerPreselector=a,this.checkModelVersion=h,this.onWillAccept=l,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this._selectedItem=(0,C.observableValue)(this,void 0),this._register(r.onKeyDown(d=>{d.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(r.onKeyUp(d=>{d.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const g=b.SuggestController.get(this.editor);if(g){this._register(g.registerSelector({priority:100,select:(_,S,L)=>{(0,C.transaction)(R=>this.checkModelVersion(R));const I=this.editor.getModel();if(!I)return-1;const T=this.suggestControllerPreselector(),N=T?(0,t.singleTextRemoveCommonPrefix)(T,I):void 0;if(!N)return-1;const A=E.Position.lift(S),O=L.map((R,x)=>{const F=c.fromSuggestion(g,I,A,R,this.isShiftKeyPressed),W=(0,t.singleTextRemoveCommonPrefix)(F.toSingleTextEdit(),I),H=(0,t.singleTextEditAugments)(N,W);return{index:x,valid:H,prefixLength:W.text.length,suggestItem:R}}).filter(R=>R&&R.valid&&R.prefixLength>0),M=(0,i.findFirstMax)(O,(0,s.compareBy)(R=>R.prefixLength,s.numberComparator));return M?M.index:-1}}));let d=!1;const v=()=>{d||(d=!0,this._register(g.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(g.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.update(!1)})),this._register(g.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(f.Event.once(g.model.onDidTrigger)(_=>{v()})),this._register(g.onWillInsertSuggestItem(_=>{const S=this.editor.getPosition(),L=this.editor.getModel();if(!S||!L)return;const I=c.fromSuggestion(g,L,S,_.item,this.isShiftKeyPressed);this.onWillAccept(I)}))}this.update(this._isActive)}update(r){const a=this.getSuggestItemInfo();(this._isActive!==r||!m(this._currentSuggestItemInfo,a))&&(this._isActive=r,this._currentSuggestItemInfo=a,(0,C.transaction)(h=>{this.checkModelVersion(h),this._selectedItem.set(this._isActive?this._currentSuggestItemInfo:void 0,h)}))}getSuggestItemInfo(){const r=b.SuggestController.get(this.editor);if(!r||!this.isSuggestWidgetVisible)return;const a=r.widget.value.getFocusedItem(),h=this.editor.getPosition(),l=this.editor.getModel();if(!(!a||!h||!l))return c.fromSuggestion(r,l,h,a.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const r=b.SuggestController.get(this.editor);r?.stopForceRenderingAbove()}forceRenderingAbove(){const r=b.SuggestController.get(this.editor);r?.forceRenderingAbove()}}e.SuggestWidgetAdaptor=n;class c{static fromSuggestion(r,a,h,l,g){let{insertText:d}=l.completion,v=!1;if(l.completion.insertTextRules&4){const S=new p.SnippetParser().parse(d);S.children.length<100&&w.SnippetSession.adjustWhitespace(a,h,!0,S),d=S.toString(),v=!0}const _=r.getOverwriteInfo(l,g);return new c(D.Range.fromPositions(h.delta(0,-_.overwriteBefore),h.delta(0,Math.max(_.overwriteAfter,0))),d,l.completion.kind,v)}constructor(r,a,h,l){this.range=r,this.insertText=a,this.completionItemKind=h,this.isSnippetText=l}equals(r){return this.range.equalsRange(r.range)&&this.insertText===r.insertText&&this.completionItemKind===r.completionItemKind&&this.isSnippetText===r.isSnippetText}toSelectedSuggestionInfo(){return new y.SelectedSuggestionInfo(this.range,this.insertText,this.completionItemKind,this.isSnippetText)}toSingleTextEdit(){return new o.SingleTextEdit(this.range,this.insertText)}}e.SuggestItemInfo=c;function m(u,r){return u===r?!0:!u||!r?!1:u.equals(r)}}),define(ie[285],ne([1,0,6,47,15,19,155,2,30,124,292,20,207,9,84,18,238,366,261,276,986,987,736,66,132,25,27,14,8,32]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I){"use strict";var T;Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsController=void 0;let N=T=class extends p.Disposable{static get(M){return M.getContribution(T.ID)}constructor(M,R,x,F,W,H,z,j,K,U){super(),this.editor=M,this._instantiationService=R,this._contextKeyService=x,this._configurationService=F,this._commandService=W,this._debounceService=H,this._languageFeaturesService=z,this._accessibilitySignalService=j,this._keybindingService=K,this._accessibilityService=U,this.model=this._register((0,w.disposableObservableValue)("inlineCompletionModel",void 0)),this._textModelVersionId=(0,w.observableValue)(this,-1),this._positions=(0,b.observableValueOpts)({owner:this,equalsFn:(0,y.itemsEquals)((0,y.itemEquals)())},[new i.Position(1,1)]),this._suggestWidgetAdaptor=this._register(new h.SuggestWidgetAdaptor(this.editor,()=>{var P,Z;return(Z=(P=this.model.get())===null||P===void 0?void 0:P.selectedInlineCompletion.get())===null||Z===void 0?void 0:Z.toSingleTextEdit(void 0)},P=>this.updateObservables(P,a.VersionIdChangeReason.Other),P=>{(0,w.transaction)(Z=>{var re;this.updateObservables(Z,a.VersionIdChangeReason.Other),(re=this.model.get())===null||re===void 0||re.handleSuggestAccepted(P)})})),this._enabledInConfig=(0,w.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).enabled),this._isScreenReaderEnabled=(0,w.observableFromEvent)(this._accessibilityService.onDidChangeScreenReaderOptimized,()=>this._accessibilityService.isScreenReaderOptimized()),this._editorDictationInProgress=(0,w.observableFromEvent)(this._contextKeyService.onDidChangeContext,()=>this._contextKeyService.getContext(this.editor.getDomNode()).getValue("editorDictation.inProgress")===!0),this._enabled=(0,w.derived)(this,P=>this._enabledInConfig.read(P)&&(!this._isScreenReaderEnabled.read(P)||!this._editorDictationInProgress.read(P))),this._fontFamily=(0,w.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(62).fontFamily),this._ghostTexts=(0,w.derived)(this,P=>{var Z;const re=this.model.read(P);return(Z=re?.ghostTexts.read(P))!==null&&Z!==void 0?Z:[]}),this._stablizedGhostTexts=A(this._ghostTexts,this._store),this._ghostTextWidgets=(0,C.mapObservableArrayCached)(this,this._stablizedGhostTexts,(P,Z)=>Z.add(this._instantiationService.createInstance(m.GhostTextWidget,this.editor,{ghostText:P,minReservedLineCount:(0,w.constObservable)(0),targetTextModel:this.model.map(re=>re?.textModel)}))).recomputeInitiallyAndOnChange(this._store),this._debounceValue=this._debounceService.for(this._languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._playAccessibilitySignal=(0,w.observableSignal)(this),this._isReadonly=(0,w.observableFromEvent)(this.editor.onDidChangeConfiguration,()=>this.editor.getOption(91)),this._textModel=(0,w.observableFromEvent)(this.editor.onDidChangeModel,()=>this.editor.getModel()),this._textModelIfWritable=(0,w.derived)(P=>this._isReadonly.read(P)?void 0:this._textModel.read(P)),this._register(new u.InlineCompletionContextKeys(this._contextKeyService,this.model)),this._register((0,w.autorun)(P=>{const Z=this._textModelIfWritable.read(P);(0,w.transaction)(re=>{if(this.model.set(void 0,re),this.updateObservables(re,a.VersionIdChangeReason.Other),Z){const ce=R.createInstance(a.InlineCompletionsModel,Z,this._suggestWidgetAdaptor.selectedItem,this._textModelVersionId,this._positions,this._debounceValue,(0,w.observableFromEvent)(M.onDidChangeConfiguration,()=>M.getOption(118).preview),(0,w.observableFromEvent)(M.onDidChangeConfiguration,()=>M.getOption(118).previewMode),(0,w.observableFromEvent)(M.onDidChangeConfiguration,()=>M.getOption(62).mode),this._enabled);this.model.set(ce,re)}})}));const G=this._register((0,f.createStyleSheet2)());this._register((0,w.autorun)(P=>{const Z=this._fontFamily.read(P);G.setStyle(Z===""||Z==="default"?"":`
.monaco-editor .ghost-text-decoration,
.monaco-editor .ghost-text-decoration-preview,
.monaco-editor .ghost-text {
	font-family: ${Z};
}`)}));const te=P=>{var Z;return P.isUndoing?a.VersionIdChangeReason.Undo:P.isRedoing?a.VersionIdChangeReason.Redo:!((Z=this.model.get())===null||Z===void 0)&&Z.isAcceptingPartially?a.VersionIdChangeReason.AcceptWord:a.VersionIdChangeReason.Other};this._register(M.onDidChangeModelContent(P=>(0,w.transaction)(Z=>this.updateObservables(Z,te(P))))),this._register(M.onDidChangeCursorPosition(P=>(0,w.transaction)(Z=>{var re;this.updateObservables(Z,a.VersionIdChangeReason.Other),(P.reason===3||P.source==="api")&&((re=this.model.get())===null||re===void 0||re.stop(Z))}))),this._register(M.onDidType(()=>(0,w.transaction)(P=>{var Z;this.updateObservables(P,a.VersionIdChangeReason.Other),this._enabled.get()&&((Z=this.model.get())===null||Z===void 0||Z.trigger(P))}))),this._register(this._commandService.onDidExecuteCommand(P=>{new Set([s.CoreEditingCommands.Tab.id,s.CoreEditingCommands.DeleteLeft.id,s.CoreEditingCommands.DeleteRight.id,c.inlineSuggestCommitId,"acceptSelectedSuggestion"]).has(P.commandId)&&M.hasTextFocus()&&this._enabled.get()&&(0,w.transaction)(re=>{var ce;(ce=this.model.get())===null||ce===void 0||ce.trigger(re)})})),this._register(this.editor.onDidBlurEditorWidget(()=>{this._contextKeyService.getContextKeyValue("accessibleViewIsShown")||this._configurationService.getValue("editor.inlineSuggest.keepOnBlur")||M.getOption(62).keepOnBlur||r.InlineSuggestionHintsContentWidget.dropDownVisible||(0,w.transaction)(P=>{var Z;(Z=this.model.get())===null||Z===void 0||Z.stop(P)})})),this._register((0,w.autorun)(P=>{var Z;const re=(Z=this.model.read(P))===null||Z===void 0?void 0:Z.state.read(P);re?.suggestItem?re.primaryGhostText.lineCount>=2&&this._suggestWidgetAdaptor.forceRenderingAbove():this._suggestWidgetAdaptor.stopForceRenderingAbove()})),this._register((0,p.toDisposable)(()=>{this._suggestWidgetAdaptor.stopForceRenderingAbove()}));const ee=this._register(new p.DisposableStore);let Y;this._register((0,w.autorunHandleChanges)({handleChange:(P,Z)=>(P.didChange(this._playAccessibilitySignal)&&(Y=void 0),!0)},async(P,Z)=>{this._playAccessibilitySignal.read(P);const re=this.model.read(P),ce=re?.state.read(P);if(!re||!ce||!ce.inlineCompletion){Y=void 0;return}if(ce.inlineCompletion.semanticId!==Y){ee.clear(),Y=ce.inlineCompletion.semanticId;const he=re.textModel.getLineContent(ce.primaryGhostText.lineNumber);await(0,E.timeout)(50,(0,D.cancelOnDispose)(ee)),await(0,w.waitForState)(this._suggestWidgetAdaptor.selectedItem,o.isUndefined,()=>!1,(0,D.cancelOnDispose)(ee)),await this._accessibilitySignalService.playSignal(d.AccessibilitySignal.inlineSuggestion),this.editor.getOption(8)&&this.provideScreenReaderUpdate(ce.primaryGhostText.renderForScreenReader(he))}})),this._register(new r.InlineCompletionsHintsWidget(this.editor,this.model,this._instantiationService)),this._register(this._configurationService.onDidChangeConfiguration(P=>{P.affectsConfiguration("accessibility.verbosity.inlineCompletions")&&this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})})),this.editor.updateOptions({inlineCompletionsAccessibilityVerbose:this._configurationService.getValue("accessibility.verbosity.inlineCompletions")})}playAccessibilitySignal(M){this._playAccessibilitySignal.trigger(M)}provideScreenReaderUpdate(M){const R=this._contextKeyService.getContextKeyValue("accessibleViewIsShown"),x=this._keybindingService.lookupKeybinding("editor.action.accessibleView");let F;!R&&x&&this.editor.getOption(149)&&(F=(0,l.localize)(0,null,x.getAriaLabel())),F?(0,k.alert)(M+", "+F):(0,k.alert)(M)}updateObservables(M,R){var x,F,W;const H=this.editor.getModel();this._textModelVersionId.set((x=H?.getVersionId())!==null&&x!==void 0?x:-1,M,R),this._positions.set((W=(F=this.editor.getSelections())===null||F===void 0?void 0:F.map(z=>z.getPosition()))!==null&&W!==void 0?W:[new i.Position(1,1)],M)}shouldShowHoverAt(M){var R;const x=(R=this.model.get())===null||R===void 0?void 0:R.primaryGhostText.get();return x?x.parts.some(F=>M.containsPosition(new i.Position(x.lineNumber,F.column))):!1}shouldShowHoverAtViewZone(M){var R,x;return(x=(R=this._ghostTextWidgets.get()[0])===null||R===void 0?void 0:R.ownsViewZone(M))!==null&&x!==void 0?x:!1}};e.InlineCompletionsController=N,N.ID="editor.contrib.inlineCompletionsController",e.InlineCompletionsController=N=T=Ie([ue(1,L.IInstantiationService),ue(2,S.IContextKeyService),ue(3,_.IConfigurationService),ue(4,v.ICommandService),ue(5,t.ILanguageFeatureDebounceService),ue(6,n.ILanguageFeaturesService),ue(7,d.IAccessibilitySignalService),ue(8,I.IKeybindingService),ue(9,g.IAccessibilityService)],N);function A(O,M){const R=(0,w.observableValue)("result",[]),x=[];return M.add((0,w.autorun)(F=>{const W=O.read(F);(0,w.transaction)(H=>{if(W.length!==x.length){x.length=W.length;for(let z=0;z<x.length;z++)x[z]||(x[z]=(0,w.observableValue)("item",W[z]));R.set([...x],H)}x.forEach((z,j)=>z.set(W[j],H))})})),R}}),define(ie[988],ne([1,0,30,124,16,21,238,261,285,150,733,29,27,14]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ToggleAlwaysShowInlineSuggestionToolbar=e.HideInlineCompletion=e.AcceptInlineCompletion=e.AcceptNextLineOfInlineCompletion=e.AcceptNextWordOfInlineCompletion=e.TriggerInlineSuggestionAction=e.ShowPreviousInlineSuggestionAction=e.ShowNextInlineSuggestionAction=void 0;class t extends E.EditorAction{constructor(){super({id:t.ID,label:C.localize(0,null),alias:"Show Next Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:606}})}async run(g,d){var v;const _=w.InlineCompletionsController.get(d);(v=_?.model.get())===null||v===void 0||v.next()}}e.ShowNextInlineSuggestionAction=t,t.ID=y.showNextInlineSuggestionActionId;class n extends E.EditorAction{constructor(){super({id:n.ID,label:C.localize(1,null),alias:"Show Previous Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:100,primary:604}})}async run(g,d){var v;const _=w.InlineCompletionsController.get(d);(v=_?.model.get())===null||v===void 0||v.previous()}}e.ShowPreviousInlineSuggestionAction=n,n.ID=y.showPreviousInlineSuggestionActionId;class c extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:C.localize(2,null),alias:"Trigger Inline Suggestion",precondition:D.EditorContextKeys.writable})}async run(g,d){const v=w.InlineCompletionsController.get(d);await(0,k.asyncTransaction)(async _=>{var S;await((S=v?.model.get())===null||S===void 0?void 0:S.triggerExplicitly(_)),v?.playAccessibilitySignal(_)})}}e.TriggerInlineSuggestionAction=c;class m extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextWord",label:C.localize(3,null),alias:"Accept Next Word Of Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101,primary:2065,kbExpr:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible)},menuOpts:[{menuId:o.MenuId.InlineSuggestionToolbar,title:C.localize(4,null),group:"primary",order:2}]})}async run(g,d){var v;const _=w.InlineCompletionsController.get(d);await((v=_?.model.get())===null||v===void 0?void 0:v.acceptNextWord(_.editor))}}e.AcceptNextWordOfInlineCompletion=m;class u extends E.EditorAction{constructor(){super({id:"editor.action.inlineSuggest.acceptNextLine",label:C.localize(5,null),alias:"Accept Next Line Of Inline Suggestion",precondition:i.ContextKeyExpr.and(D.EditorContextKeys.writable,p.InlineCompletionContextKeys.inlineSuggestionVisible),kbOpts:{weight:101},menuOpts:[{menuId:o.MenuId.InlineSuggestionToolbar,title:C.localize(6,null),group:"secondary",order:2}]})}async run(g,d){var v;const _=w.InlineCompletionsController.get(d);await((v=_?.model.get())===null||v===void 0?void 0:v.acceptNextLine(_.editor))}}e.AcceptNextLineOfInlineCompletion=u;class r extends E.EditorAction{constructor(){super({id:y.inlineSuggestCommitId,label:C.localize(7,null),alias:"Accept Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,menuOpts:[{menuId:o.MenuId.InlineSuggestionToolbar,title:C.localize(8,null),group:"primary",order:1}],kbOpts:{primary:2,weight:200,kbExpr:i.ContextKeyExpr.and(p.InlineCompletionContextKeys.inlineSuggestionVisible,D.EditorContextKeys.tabMovesFocus.toNegated(),p.InlineCompletionContextKeys.inlineSuggestionHasIndentationLessThanTabSize,b.Context.Visible.toNegated(),D.EditorContextKeys.hoverFocused.toNegated())}})}async run(g,d){var v;const _=w.InlineCompletionsController.get(d);_&&((v=_.model.get())===null||v===void 0||v.accept(_.editor),_.editor.focus())}}e.AcceptInlineCompletion=r;class a extends E.EditorAction{constructor(){super({id:a.ID,label:C.localize(9,null),alias:"Hide Inline Suggestion",precondition:p.InlineCompletionContextKeys.inlineSuggestionVisible,kbOpts:{weight:100,primary:9}})}async run(g,d){const v=w.InlineCompletionsController.get(d);(0,f.transaction)(_=>{var S;(S=v?.model.get())===null||S===void 0||S.stop(_)})}}e.HideInlineCompletion=a,a.ID="editor.action.inlineSuggest.hide";class h extends o.Action2{constructor(){super({id:h.ID,title:C.localize(10,null),f1:!1,precondition:void 0,menu:[{id:o.MenuId.InlineSuggestionToolbar,group:"secondary",order:10}],toggled:i.ContextKeyExpr.equals("config.editor.inlineSuggest.showToolbar","always")})}async run(g,d){const v=g.get(s.IConfigurationService),S=v.getValue("editor.inlineSuggest.showToolbar")==="always"?"onHover":"always";v.updateValue("editor.inlineSuggest.showToolbar",S)}}e.ToggleAlwaysShowInlineSuggestionToolbar=h,h.ID="editor.action.inlineSuggest.toggleAlwaysShowToolbar"}),define(ie[989],ne([1,0,6,57,2,30,5,43,96,285,276,117,734,66,8,61,62]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.InlineCompletionsHoverParticipant=e.InlineCompletionsHover=void 0;class m{constructor(a,h,l){this.owner=a,this.range=h,this.controller=l}isValidForHoverAnchor(a){return a.type===1&&this.range.startColumn<=a.range.startColumn&&this.range.endColumn>=a.range.endColumn}}e.InlineCompletionsHover=m;let u=class{constructor(a,h,l,g,d,v){this._editor=a,this._languageService=h,this._openerService=l,this.accessibilityService=g,this._instantiationService=d,this._telemetryService=v,this.hoverOrdinal=4}suggestHoverAnchor(a){const h=b.InlineCompletionsController.get(this._editor);if(!h)return null;const l=a.target;if(l.type===8){const g=l.detail;if(h.shouldShowHoverAtViewZone(g.viewZoneId))return new w.HoverForeignElementAnchor(1e3,this,y.Range.fromPositions(this._editor.getModel().validatePosition(g.positionBefore||g.position)),a.event.posx,a.event.posy,!1)}return l.type===7&&h.shouldShowHoverAt(l.range)?new w.HoverForeignElementAnchor(1e3,this,l.range,a.event.posx,a.event.posy,!1):l.type===6&&l.detail.mightBeForeignElement&&h.shouldShowHoverAt(l.range)?new w.HoverForeignElementAnchor(1e3,this,l.range,a.event.posx,a.event.posy,!1):null}computeSync(a,h){if(this._editor.getOption(62).showToolbar!=="onHover")return[];const l=b.InlineCompletionsController.get(this._editor);return l&&l.shouldShowHoverAt(a.range)?[new m(this,a.range,l)]:[]}renderHoverParts(a,h){const l=new E.DisposableStore,g=h[0];this._telemetryService.publicLog2("inlineCompletionHover.shown"),this.accessibilityService.isScreenReaderOptimized()&&!this._editor.getOption(8)&&this.renderScreenReaderText(a,g,l);const d=g.controller.model.get(),v=this._instantiationService.createInstance(C.InlineSuggestionHintsContentWidget,this._editor,!1,(0,D.constObservable)(null),d.selectedInlineCompletionIndex,d.inlineCompletionsCount,d.activeCommands);return a.fragment.appendChild(v.getDomNode()),d.triggerExplicitly(),l.add(v),l}renderScreenReaderText(a,h,l){const g=f.$,d=g("div.hover-row.markdown-hover"),v=f.append(d,g("div.hover-contents",{"aria-live":"assertive"})),_=l.add(new o.MarkdownRenderer({editor:this._editor},this._languageService,this._openerService)),S=L=>{l.add(_.onDidRenderAsync(()=>{v.className="hover-contents code-hover-contents",a.onContentsChanged()}));const I=s.localize(0,null),T=l.add(_.render(new k.MarkdownString().appendText(I).appendCodeblock("text",L)));v.replaceChildren(T.element)};l.add((0,D.autorun)(L=>{var I;const T=(I=h.controller.model.read(L))===null||I===void 0?void 0:I.primaryGhostText.read(L);if(T){const N=this._editor.getModel().getLineContent(T.lineNumber);S(T.renderForScreenReader(N))}else f.reset(v)})),a.fragment.appendChild(d)}};e.InlineCompletionsHoverParticipant=u,e.InlineCompletionsHoverParticipant=u=Ie([ue(1,p.ILanguageService),ue(2,n.IOpenerService),ue(3,i.IAccessibilityService),ue(4,t.IInstantiationService),ue(5,c.ITelemetryService)],u)}),define(ie[990],ne([1,0,16,96,988,989,285,29]),function(Q,e,f,k,E,D,y,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),(0,f.registerEditorContribution)(y.InlineCompletionsController.ID,y.InlineCompletionsController,3),(0,f.registerEditorAction)(E.TriggerInlineSuggestionAction),(0,f.registerEditorAction)(E.ShowNextInlineSuggestionAction),(0,f.registerEditorAction)(E.ShowPreviousInlineSuggestionAction),(0,f.registerEditorAction)(E.AcceptNextWordOfInlineCompletion),(0,f.registerEditorAction)(E.AcceptNextLineOfInlineCompletion),(0,f.registerEditorAction)(E.AcceptInlineCompletion),(0,f.registerEditorAction)(E.HideInlineCompletion),(0,p.registerAction2)(E.ToggleAlwaysShowInlineSuggestionToolbar),k.HoverParticipantRegistry.register(D.InlineCompletionsHoverParticipant)}),define(ie[991],ne([1,0,19,78,54,2,36,5,142,18,332,150,385,419,333,114]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SuggestInlineCompletions=void 0;class c{constructor(a,h,l,g,d,v){this.range=a,this.insertText=h,this.filterText=l,this.additionalTextEdits=g,this.command=d,this.completion=v}}let m=class extends D.RefCountedDisposable{constructor(a,h,l,g,d,v){super(d.disposable),this.model=a,this.line=h,this.word=l,this.completionModel=g,this._suggestMemoryService=v}canBeReused(a,h,l){return this.model===a&&this.line===h&&this.word.word.length>0&&this.word.startColumn===l.startColumn&&this.word.endColumn<l.endColumn&&this.completionModel.getIncompleteProvider().size===0}get items(){var a;const h=[],{items:l}=this.completionModel,g=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},l),d=E.Iterable.slice(l,g),v=E.Iterable.slice(l,0,g);let _=5;for(const S of E.Iterable.concat(d,v)){if(S.score===k.FuzzyScore.Default)continue;const L=new p.Range(S.editStart.lineNumber,S.editStart.column,S.editInsertEnd.lineNumber,S.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),I=S.completion.insertTextRules&&S.completion.insertTextRules&4?{snippet:S.completion.insertText}:S.completion.insertText;h.push(new c(L,I,(a=S.filterTextLow)!==null&&a!==void 0?a:S.labelLow,S.completion.additionalTextEdits,S.completion.command,S)),_-->=0&&S.resolve(f.CancellationToken.None)}return h}};m=Ie([ue(5,s.ISuggestMemoryService)],m);let u=class extends D.Disposable{constructor(a,h,l,g){super(),this._languageFeatureService=a,this._clipboardService=h,this._suggestMemoryService=l,this._editorService=g,this._store.add(a.inlineCompletionsProvider.register("*",this))}async provideInlineCompletions(a,h,l,g){var d;if(l.selectedSuggestionInfo)return;let v;for(const O of this._editorService.listCodeEditors())if(O.getModel()===a){v=O;break}if(!v)return;const _=v.getOption(89);if(o.QuickSuggestionsOptions.isAllOff(_))return;a.tokenization.tokenizeIfCheap(h.lineNumber);const S=a.tokenization.getLineTokens(h.lineNumber),L=S.getStandardTokenType(S.findTokenIndexAtOffset(Math.max(h.column-1-1,0)));if(o.QuickSuggestionsOptions.valueFor(_,L)!=="inline")return;let I=a.getWordAtPosition(h),T;if(I?.word||(T=this._getTriggerCharacterInfo(a,h)),!I?.word&&!T||(I||(I=a.getWordUntilPosition(h)),I.endColumn!==h.column))return;let N;const A=a.getValueInRange(new p.Range(h.lineNumber,1,h.lineNumber,h.column));if(!T&&(!((d=this._lastResult)===null||d===void 0)&&d.canBeReused(a,h.lineNumber,I))){const O=new C.LineContext(A,h.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=O,this._lastResult.acquire(),N=this._lastResult}else{const O=await(0,o.provideSuggestionItems)(this._languageFeatureService.completionProvider,a,h,new o.CompletionOptions(void 0,i.SuggestModel.createSuggestFilter(v).itemKind,T?.providers),T&&{triggerKind:1,triggerCharacter:T.ch},g);let M;O.needsClipboard&&(M=await this._clipboardService.readText());const R=new C.CompletionModel(O.items,h.column,new C.LineContext(A,0),t.WordDistance.None,v.getOption(118),v.getOption(112),{boostFullMatch:!1,firstMatchCanBeWeak:!1},M);N=new m(a,h.lineNumber,I,R,O,this._suggestMemoryService)}return this._lastResult=N,N}handleItemDidShow(a,h){h.completion.resolve(f.CancellationToken.None)}freeInlineCompletions(a){a.release()}_getTriggerCharacterInfo(a,h){var l;const g=a.getValueInRange(p.Range.fromPositions({lineNumber:h.lineNumber,column:h.column-1},h)),d=new Set;for(const v of this._languageFeatureService.completionProvider.all(a))!((l=v.triggerCharacters)===null||l===void 0)&&l.includes(g)&&d.add(v);if(d.size!==0)return{providers:d,ch:g}}};e.SuggestInlineCompletions=u,e.SuggestInlineCompletions=u=Ie([ue(0,b.ILanguageFeaturesService),ue(1,n.IClipboardService),ue(2,s.ISuggestMemoryService),ue(3,y.ICodeEditorService)],u),(0,w.registerEditorFeature)(u)}),define(ie[421],ne([1,0,8]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.IWorkspaceTrustManagementService=void 0,e.IWorkspaceTrustManagementService=(0,f.createDecorator)("workspaceTrustManagementService")}),define(ie[992],ne([1,0,15,26,57,2,17,12,16,38,37,318,113,43,357,96,209,896,764,27,8,61,75,76,421,511]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ShowExcludeOptions=e.DisableHighlightingOfNonBasicAsciiCharactersAction=e.DisableHighlightingOfInvisibleCharactersAction=e.DisableHighlightingOfAmbiguousCharactersAction=e.DisableHighlightingInStringsAction=e.DisableHighlightingInCommentsAction=e.UnicodeHighlighterHoverParticipant=e.UnicodeHighlighter=e.warningIcon=void 0,e.warningIcon=(0,g.registerIcon)("extensions-warning-message",k.Codicon.warning,u.localize(0,null));let v=class extends D.Disposable{constructor(ee,Y,P,Z){super(),this._editor=ee,this._editorWorkerService=Y,this._workspaceTrustService=P,this._highlighter=null,this._bannerClosed=!1,this._updateState=re=>{if(re&&re.hasMore){if(this._bannerClosed)return;const ce=Math.max(re.ambiguousCharacterCount,re.nonBasicAsciiCharacterCount,re.invisibleCharacterCount);let he;if(re.nonBasicAsciiCharacterCount>=ce)he={message:u.localize(1,null),command:new z};else if(re.ambiguousCharacterCount>=ce)he={message:u.localize(2,null),command:new W};else if(re.invisibleCharacterCount>=ce)he={message:u.localize(3,null),command:new H};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:he.message,icon:e.warningIcon,actions:[{label:he.command.shortLabel,href:`command:${he.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(Z.createInstance(m.BannerController,ee)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=ee.getOption(125),this._register(P.onDidChangeTrust(re=>{this._updateHighlighter()})),this._register(ee.onDidChangeConfiguration(re=>{re.hasChanged(125)&&(this._options=ee.getOption(125),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const ee=_(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([ee.nonBasicASCII,ee.ambiguousCharacters,ee.invisibleCharacters].every(P=>P===!1))return;const Y={nonBasicASCII:ee.nonBasicASCII,ambiguousCharacters:ee.ambiguousCharacters,invisibleCharacters:ee.invisibleCharacters,includeComments:ee.includeComments,includeStrings:ee.includeStrings,allowedCodePoints:Object.keys(ee.allowedCharacters).map(P=>P.codePointAt(0)),allowedLocales:Object.keys(ee.allowedLocales).map(P=>P==="_os"?new Intl.NumberFormat().resolvedOptions().locale:P==="_vscode"?y.language:P)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new S(this._editor,Y,this._updateState,this._editorWorkerService):this._highlighter=new L(this._editor,Y,this._updateState)}getDecorationInfo(ee){return this._highlighter?this._highlighter.getDecorationInfo(ee):null}};e.UnicodeHighlighter=v,v.ID="editor.contrib.unicodeHighlighter",e.UnicodeHighlighter=v=Ie([ue(1,s.IEditorWorkerService),ue(2,d.IWorkspaceTrustManagementService),ue(3,a.IInstantiationService)],v);function _(te,ee){return{nonBasicASCII:ee.nonBasicASCII===b.inUntrustedWorkspace?!te:ee.nonBasicASCII,ambiguousCharacters:ee.ambiguousCharacters,invisibleCharacters:ee.invisibleCharacters,includeComments:ee.includeComments===b.inUntrustedWorkspace?!te:ee.includeComments,includeStrings:ee.includeStrings===b.inUntrustedWorkspace?!te:ee.includeStrings,allowedCharacters:ee.allowedCharacters,allowedLocales:ee.allowedLocales}}let S=class extends D.Disposable{constructor(ee,Y,P,Z){super(),this._editor=ee,this._options=Y,this._updateState=P,this._editorWorkerService=Z,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ee=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(Y=>{if(this._model.isDisposed()||this._model.getVersionId()!==ee)return;this._updateState(Y);const P=[];if(!Y.hasMore)for(const Z of Y.ranges)P.push({range:Z,options:R.instance.getDecorationFromOptions(this._options)});this._decorations.set(P)})}getDecorationInfo(ee){if(!this._decorations.has(ee))return null;const Y=this._editor.getModel();if(!(0,t.isModelDecorationVisible)(Y,ee))return null;const P=Y.getValueInRange(ee.range);return{reason:M(P,this._options),inComment:(0,t.isModelDecorationInComment)(Y,ee),inString:(0,t.isModelDecorationInString)(Y,ee)}}};S=Ie([ue(3,s.IEditorWorkerService)],S);class L extends D.Disposable{constructor(ee,Y,P){super(),this._editor=ee,this._options=Y,this._updateState=P,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new f.RunOnceScheduler(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const ee=this._editor.getVisibleRanges(),Y=[],P={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const Z of ee){const re=o.UnicodeTextModelHighlighter.computeUnicodeHighlights(this._model,this._options,Z);for(const ce of re.ranges)P.ranges.push(ce);P.ambiguousCharacterCount+=P.ambiguousCharacterCount,P.invisibleCharacterCount+=P.invisibleCharacterCount,P.nonBasicAsciiCharacterCount+=P.nonBasicAsciiCharacterCount,P.hasMore=P.hasMore||re.hasMore}if(!P.hasMore)for(const Z of P.ranges)Y.push({range:Z,options:R.instance.getDecorationFromOptions(this._options)});this._updateState(P),this._decorations.set(Y)}getDecorationInfo(ee){if(!this._decorations.has(ee))return null;const Y=this._editor.getModel(),P=Y.getValueInRange(ee.range);return(0,t.isModelDecorationVisible)(Y,ee)?{reason:M(P,this._options),inComment:(0,t.isModelDecorationInComment)(Y,ee),inString:(0,t.isModelDecorationInString)(Y,ee)}:null}}const I=u.localize(4,null);let T=class{constructor(ee,Y,P){this._editor=ee,this._languageService=Y,this._openerService=P,this.hoverOrdinal=5}computeSync(ee,Y){if(!this._editor.hasModel()||ee.type!==1)return[];const P=this._editor.getModel(),Z=this._editor.getContribution(v.ID);if(!Z)return[];const re=[],ce=new Set;let he=300;for(const pe of Y){const ge=Z.getDecorationInfo(pe);if(!ge)continue;const ae=P.getValueInRange(pe.range).codePointAt(0),oe=A(ae);let B;switch(ge.reason.kind){case 0:{(0,p.isBasicASCII)(ge.reason.confusableWith)?B=u.localize(5,null,oe,A(ge.reason.confusableWith.codePointAt(0))):B=u.localize(6,null,oe,A(ge.reason.confusableWith.codePointAt(0)));break}case 1:B=u.localize(7,null,oe);break;case 2:B=u.localize(8,null,oe);break}if(ce.has(B))continue;ce.add(B);const q={codePoint:ae,reason:ge.reason,inComment:ge.inComment,inString:ge.inString},V=u.localize(9,null),$=`command:${j.ID}?${encodeURIComponent(JSON.stringify(q))}`,J=new E.MarkdownString("",!0).appendMarkdown(B).appendText(" ").appendLink($,V,I);re.push(new c.MarkdownHover(this,pe.range,[J],!1,he++))}return re}renderHoverParts(ee,Y){return(0,c.renderMarkdownHovers)(ee,Y,this._editor,this._languageService,this._openerService)}};e.UnicodeHighlighterHoverParticipant=T,e.UnicodeHighlighterHoverParticipant=T=Ie([ue(1,i.ILanguageService),ue(2,h.IOpenerService)],T);function N(te){return`U+${te.toString(16).padStart(4,"0")}`}function A(te){let ee=`\`${N(te)}\``;return p.InvisibleCharacters.isInvisibleCharacter(te)||(ee+=` "${`${O(te)}`}"`),ee}function O(te){return te===96?"`` ` ``":"`"+String.fromCodePoint(te)+"`"}function M(te,ee){return o.UnicodeTextModelHighlighter.computeUnicodeHighlightReason(te,ee)}class R{constructor(){this.map=new Map}getDecorationFromOptions(ee){return this.getDecoration(!ee.includeComments,!ee.includeStrings)}getDecoration(ee,Y){const P=`${ee}${Y}`;let Z=this.map.get(P);return Z||(Z=C.ModelDecorationOptions.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:ee,hideInStringTokens:Y}),this.map.set(P,Z)),Z}}R.instance=new R;class x extends w.EditorAction{constructor(){super({id:W.ID,label:u.localize(11,null),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=u.localize(10,null)}async run(ee,Y,P){const Z=ee?.get(r.IConfigurationService);Z&&this.runAction(Z)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.includeComments,!1,2)}}e.DisableHighlightingInCommentsAction=x;class F extends w.EditorAction{constructor(){super({id:W.ID,label:u.localize(13,null),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=u.localize(12,null)}async run(ee,Y,P){const Z=ee?.get(r.IConfigurationService);Z&&this.runAction(Z)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.includeStrings,!1,2)}}e.DisableHighlightingInStringsAction=F;class W extends w.EditorAction{constructor(){super({id:W.ID,label:u.localize(15,null),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=u.localize(14,null)}async run(ee,Y,P){const Z=ee?.get(r.IConfigurationService);Z&&this.runAction(Z)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.ambiguousCharacters,!1,2)}}e.DisableHighlightingOfAmbiguousCharactersAction=W,W.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class H extends w.EditorAction{constructor(){super({id:H.ID,label:u.localize(17,null),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=u.localize(16,null)}async run(ee,Y,P){const Z=ee?.get(r.IConfigurationService);Z&&this.runAction(Z)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.invisibleCharacters,!1,2)}}e.DisableHighlightingOfInvisibleCharactersAction=H,H.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class z extends w.EditorAction{constructor(){super({id:z.ID,label:u.localize(19,null),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=u.localize(18,null)}async run(ee,Y,P){const Z=ee?.get(r.IConfigurationService);Z&&this.runAction(Z)}async runAction(ee){await ee.updateValue(b.unicodeHighlightConfigKeys.nonBasicASCII,!1,2)}}e.DisableHighlightingOfNonBasicAsciiCharactersAction=z,z.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class j extends w.EditorAction{constructor(){super({id:j.ID,label:u.localize(20,null),alias:"Show Exclude Options",precondition:void 0})}async run(ee,Y,P){const{codePoint:Z,reason:re,inString:ce,inComment:he}=P,pe=String.fromCodePoint(Z),ge=ee.get(l.IQuickInputService),X=ee.get(r.IConfigurationService);function ae(q){return p.InvisibleCharacters.isInvisibleCharacter(q)?u.localize(21,null,N(q)):u.localize(22,null,`${N(q)} "${pe}"`)}const oe=[];if(re.kind===0)for(const q of re.notAmbiguousInLocales)oe.push({label:u.localize(23,null,q),run:async()=>{U(X,[q])}});if(oe.push({label:ae(Z),run:()=>K(X,[Z])}),he){const q=new x;oe.push({label:q.label,run:async()=>q.runAction(X)})}else if(ce){const q=new F;oe.push({label:q.label,run:async()=>q.runAction(X)})}if(re.kind===0){const q=new W;oe.push({label:q.label,run:async()=>q.runAction(X)})}else if(re.kind===1){const q=new H;oe.push({label:q.label,run:async()=>q.runAction(X)})}else if(re.kind===2){const q=new z;oe.push({label:q.label,run:async()=>q.runAction(X)})}else G(re);const B=await ge.pick(oe,{title:I});B&&await B.run()}}e.ShowExcludeOptions=j,j.ID="editor.action.unicodeHighlight.showExcludeOptions";async function K(te,ee){const Y=te.getValue(b.unicodeHighlightConfigKeys.allowedCharacters);let P;typeof Y=="object"&&Y?P=Y:P={};for(const Z of ee)P[String.fromCodePoint(Z)]=!0;await te.updateValue(b.unicodeHighlightConfigKeys.allowedCharacters,P,2)}async function U(te,ee){var Y;const P=(Y=te.inspect(b.unicodeHighlightConfigKeys.allowedLocales).user)===null||Y===void 0?void 0:Y.value;let Z;typeof P=="object"&&P?Z=Object.assign({},P):Z={};for(const re of ee)Z[re]=!0;await te.updateValue(b.unicodeHighlightConfigKeys.allowedLocales,Z,2)}function G(te){throw new Error(`Unexpected value: ${te}`)}(0,w.registerEditorAction)(W),(0,w.registerEditorAction)(H),(0,w.registerEditorAction)(z),(0,w.registerEditorAction)(j),(0,w.registerEditorContribution)(v.ID,v,1),n.HoverParticipantRegistry.register(T)}),define(ie[993],ne([1,0,207,213,942,857,945,858,859,982,947,949,973,951,860,981,861,952,983,984,407,280,864,865,827,990,281,282,412,410,975,867,976,957,868,869,959,960,870,966,931,895,919,961,920,921,872,215,978,420,991,873,848,992,874,967,392,875,871,826,103,190]),function(Q,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0})}),define(ie[286],ne([1,0,12,6,46,7,135,2,17,107,22,148,265,72,9,5,53,74,203,25,27,383,14,173,8,823,32,373,133,374,824,175,51,92,62,180,116,103,50,36,60,421,58,376,842,932,48,832,113,266,43,914,258,938,935,400,149,825,66,29,386,828,114,820,257,821,174,208,104,831,61,75,98,847,132,829,142,10,263,52,45,34,399,375,980,84,915,810,902]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N,A,O,M,R,x,F,W,H,z,j,K,U,G,te,ee,Y,P,Z,re,ce,he,pe,ge,X,ae,oe,B,q,V,$,J,se,de,le,fe,ve,Ce,Se,_e,ke,Ee,Ae,xe,We,Be,De,Ne,me,be){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneServices=e.StandaloneConfigurationService=e.StandaloneKeybindingService=e.StandaloneCommandService=e.StandaloneNotificationService=void 0,e.updateConfigurationService=Me;class Re{constructor(Fe){this.disposed=!1,this.model=Fe,this._onWillDispose=new D.Emitter}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let He=class{constructor(Fe){this.modelService=Fe}createModelReference(Fe){const Ve=this.modelService.getModel(Fe);return Ve?Promise.resolve(new p.ImmortalReference(new Re(Ve))):Promise.reject(new Error("Model not found"))}};He=Ie([ue(0,c.IModelService)],He);class qe{show(){return qe.NULL_PROGRESS_RUNNER}async showWhile(Fe,Ve){await Fe}}qe.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Ue{withProgress(Fe,Ve,Ke){return Ve({report:()=>{}})}}class Ze{constructor(){this.isExtensionDevelopment=!1,this.isBuilt=!1}}class et{async confirm(Fe){return{confirmed:this.doConfirm(Fe.message,Fe.detail),checkboxChecked:!1}}doConfirm(Fe,Ve){let Ke=Fe;return Ve&&(Ke=Ke+`

`+Ve),me.mainWindow.confirm(Ke)}async prompt(Fe){var Ve,Ke;let Ge;if(this.doConfirm(Fe.message,Fe.detail)){const Je=[...(Ve=Fe.buttons)!==null&&Ve!==void 0?Ve:[]];Fe.cancelButton&&typeof Fe.cancelButton!="string"&&typeof Fe.cancelButton!="boolean"&&Je.push(Fe.cancelButton),Ge=await((Ke=Je[0])===null||Ke===void 0?void 0:Ke.run({checkboxChecked:!1}))}return{result:Ge}}async error(Fe,Ve){await this.prompt({type:b.default.Error,message:Fe,detail:Ve})}}class nt{info(Fe){return this.notify({severity:b.default.Info,message:Fe})}warn(Fe){return this.notify({severity:b.default.Warning,message:Fe})}error(Fe){return this.notify({severity:b.default.Error,message:Fe})}notify(Fe){switch(Fe.severity){case b.default.Error:console.error(Fe.message);break;case b.default.Warning:console.warn(Fe.message);break;default:console.log(Fe.message);break}return nt.NO_OP}prompt(Fe,Ve,Ke,Ge){return nt.NO_OP}status(Fe,Ve){return p.Disposable.None}}e.StandaloneNotificationService=nt,nt.NO_OP=new A.NoOpNotification;let at=class{constructor(Fe){this._onWillExecuteCommand=new D.Emitter,this._onDidExecuteCommand=new D.Emitter,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=Fe}executeCommand(Fe,...Ve){const Ke=r.CommandsRegistry.getCommand(Fe);if(!Ke)return Promise.reject(new Error(`command '${Fe}' not found`));try{this._onWillExecuteCommand.fire({commandId:Fe,args:Ve});const Ge=this._instantiationService.invokeFunction.apply(this._instantiationService,[Ke.handler,...Ve]);return this._onDidExecuteCommand.fire({commandId:Fe,args:Ve}),Promise.resolve(Ge)}catch(Ge){return Promise.reject(Ge)}}};e.StandaloneCommandService=at,e.StandaloneCommandService=at=Ie([ue(0,d.IInstantiationService)],at);let ft=class extends v.AbstractKeybindingService{constructor(Fe,Ve,Ke,Ge,it,Je){super(Fe,Ve,Ke,Ge,it),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const lt=dt=>{const yt=new p.DisposableStore;yt.add(k.addDisposableListener(dt,k.EventType.KEY_DOWN,Et=>{const Dt=new E.StandardKeyboardEvent(Et);this._dispatch(Dt,Dt.target)&&(Dt.preventDefault(),Dt.stopPropagation())})),yt.add(k.addDisposableListener(dt,k.EventType.KEY_UP,Et=>{const Dt=new E.StandardKeyboardEvent(Et);this._singleModifierDispatch(Dt,Dt.target)&&Dt.preventDefault()})),this._domNodeListeners.push(new tt(dt,yt))},st=dt=>{for(let yt=0;yt<this._domNodeListeners.length;yt++){const Et=this._domNodeListeners[yt];Et.domNode===dt&&(this._domNodeListeners.splice(yt,1),Et.dispose())}},rt=dt=>{dt.getOption(61)||lt(dt.getContainerDomNode())},ut=dt=>{dt.getOption(61)||st(dt.getContainerDomNode())};this._register(Je.onCodeEditorAdd(rt)),this._register(Je.onCodeEditorRemove(ut)),Je.listCodeEditors().forEach(rt);const ct=dt=>{lt(dt.getContainerDomNode())},Lt=dt=>{st(dt.getContainerDomNode())};this._register(Je.onDiffEditorAdd(ct)),this._register(Je.onDiffEditorRemove(Lt)),Je.listDiffEditors().forEach(ct)}addDynamicKeybinding(Fe,Ve,Ke,Ge){return(0,p.combinedDisposable)(r.CommandsRegistry.registerCommand(Fe,Ke),this.addDynamicKeybindings([{keybinding:Ve,command:Fe,when:Ge}]))}addDynamicKeybindings(Fe){const Ve=Fe.map(Ke=>{var Ge;return{keybinding:(0,y.decodeKeybinding)(Ke.keybinding,w.OS),command:(Ge=Ke.command)!==null&&Ge!==void 0?Ge:null,commandArgs:Ke.commandArgs,when:Ke.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(Ve),this.updateResolver(),(0,p.toDisposable)(()=>{for(let Ke=0;Ke<this._dynamicKeybindings.length;Ke++)if(this._dynamicKeybindings[Ke]===Ve[0]){this._dynamicKeybindings.splice(Ke,Ve.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const Fe=this._toNormalizedKeybindingItems(L.KeybindingsRegistry.getDefaultKeybindings(),!0),Ve=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new S.KeybindingResolver(Fe,Ve,Ke=>this._log(Ke))}return this._cachedResolver}_documentHasFocus(){return me.mainWindow.document.hasFocus()}_toNormalizedKeybindingItems(Fe,Ve){const Ke=[];let Ge=0;for(const it of Fe){const Je=it.when||void 0,lt=it.keybinding;if(!lt)Ke[Ge++]=new I.ResolvedKeybindingItem(void 0,it.command,it.commandArgs,Je,Ve,null,!1);else{const st=T.USLayoutResolvedKeybinding.resolveKeybinding(lt,w.OS);for(const rt of st)Ke[Ge++]=new I.ResolvedKeybindingItem(rt,it.command,it.commandArgs,Je,Ve,null,!1)}}return Ke}resolveKeyboardEvent(Fe){const Ve=new y.KeyCodeChord(Fe.ctrlKey,Fe.shiftKey,Fe.altKey,Fe.metaKey,Fe.keyCode);return new T.USLayoutResolvedKeybinding([Ve],w.OS)}};e.StandaloneKeybindingService=ft,e.StandaloneKeybindingService=ft=Ie([ue(0,l.IContextKeyService),ue(1,r.ICommandService),ue(2,M.ITelemetryService),ue(3,A.INotificationService),ue(4,z.ILogService),ue(5,H.ICodeEditorService)],ft);class tt extends p.Disposable{constructor(Fe,Ve){super(),this.domNode=Fe,this._register(Ve)}}function ht(Ye){return Ye&&typeof Ye=="object"&&(!Ye.overrideIdentifier||typeof Ye.overrideIdentifier=="string")&&(!Ye.resource||Ye.resource instanceof C.URI)}let ot=class{constructor(Fe){this.logService=Fe,this._onDidChangeConfiguration=new D.Emitter,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event;const Ve=new Ae.DefaultConfiguration(Fe);this._configuration=new h.Configuration(Ve.reload(),h.ConfigurationModel.createEmptyModel(Fe),h.ConfigurationModel.createEmptyModel(Fe),h.ConfigurationModel.createEmptyModel(Fe),h.ConfigurationModel.createEmptyModel(Fe),h.ConfigurationModel.createEmptyModel(Fe),new be.ResourceMap,h.ConfigurationModel.createEmptyModel(Fe),new be.ResourceMap,Fe),Ve.dispose()}getValue(Fe,Ve){const Ke=typeof Fe=="string"?Fe:void 0,Ge=ht(Fe)?Fe:ht(Ve)?Ve:{};return this._configuration.getValue(Ke,Ge,void 0)}updateValues(Fe){const Ve={data:this._configuration.toData()},Ke=[];for(const Ge of Fe){const[it,Je]=Ge;this.getValue(it)!==Je&&(this._configuration.updateValue(it,Je),Ke.push(it))}if(Ke.length>0){const Ge=new h.ConfigurationChangeEvent({keys:Ke,overrides:[]},Ve,this._configuration,void 0,this.logService);Ge.source=8,this._onDidChangeConfiguration.fire(Ge)}return Promise.resolve()}updateValue(Fe,Ve,Ke,Ge){return this.updateValues([[Fe,Ve]])}inspect(Fe,Ve={}){return this._configuration.inspect(Fe,Ve,void 0)}};e.StandaloneConfigurationService=ot,e.StandaloneConfigurationService=ot=Ie([ue(0,z.ILogService)],ot);let _t=class{constructor(Fe,Ve,Ke){this.configurationService=Fe,this.modelService=Ve,this.languageService=Ke,this._onDidChangeConfiguration=new D.Emitter,this.configurationService.onDidChangeConfiguration(Ge=>{this._onDidChangeConfiguration.fire({affectedKeys:Ge.affectedKeys,affectsConfiguration:(it,Je)=>Ge.affectsConfiguration(Je)})})}getValue(Fe,Ve,Ke){const Ge=t.Position.isIPosition(Ve)?Ve:null,it=Ge?typeof Ke=="string"?Ke:void 0:typeof Ve=="string"?Ve:void 0,Je=Fe?this.getLanguage(Fe,Ge):void 0;return typeof it>"u"?this.configurationService.getValue({resource:Fe,overrideIdentifier:Je}):this.configurationService.getValue(it,{resource:Fe,overrideIdentifier:Je})}getLanguage(Fe,Ve){const Ke=this.modelService.getModel(Fe);return Ke?Ve?Ke.getLanguageIdAtPosition(Ve.lineNumber,Ve.column):Ke.getLanguageId():this.languageService.guessLanguageIdByFilepathOrFirstLine(Fe)}};_t=Ie([ue(0,a.IConfigurationService),ue(1,c.IModelService),ue(2,re.ILanguageService)],_t);let pt=class{constructor(Fe){this.configurationService=Fe}getEOL(Fe,Ve){const Ke=this.configurationService.getValue("files.eol",{overrideIdentifier:Ve,resource:Fe});return Ke&&typeof Ke=="string"&&Ke!=="auto"?Ke:w.isLinux||w.isMacintosh?`
`:`\r
`}};pt=Ie([ue(0,a.IConfigurationService)],pt);class ye{publicLog2(){}}class we{constructor(){const Fe=C.URI.from({scheme:we.SCHEME,authority:"model",path:"/"});this.workspace={id:R.STANDALONE_EDITOR_WORKSPACE_ID,folders:[new R.WorkspaceFolder({uri:Fe,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(Fe){return Fe&&Fe.scheme===we.SCHEME?this.workspace.folders[0]:null}}we.SCHEME="inmemory";function Me(Ye,Fe,Ve){if(!Fe||!(Ye instanceof ot))return;const Ke=[];Object.keys(Fe).forEach(Ge=>{(0,s.isEditorConfigurationKey)(Ge)&&Ke.push([`editor.${Ge}`,Fe[Ge]]),Ve&&(0,s.isDiffEditorConfigurationKey)(Ge)&&Ke.push([`diffEditor.${Ge}`,Fe[Ge]])}),Ke.length>0&&Ye.updateValues(Ke)}let Te=class{constructor(Fe){this._modelService=Fe}hasPreviewHandler(){return!1}async apply(Fe,Ve){const Ke=Array.isArray(Fe)?Fe:o.ResourceEdit.convert(Fe),Ge=new Map;for(const lt of Ke){if(!(lt instanceof o.ResourceTextEdit))throw new Error("bad edit - only text edits are supported");const st=this._modelService.getModel(lt.resource);if(!st)throw new Error("bad edit - model not found");if(typeof lt.versionId=="number"&&st.getVersionId()!==lt.versionId)throw new Error("bad state - model changed in the meantime");let rt=Ge.get(st);rt||(rt=[],Ge.set(st,rt)),rt.push(i.EditOperation.replaceMove(n.Range.lift(lt.textEdit.range),lt.textEdit.text))}let it=0,Je=0;for(const[lt,st]of Ge)lt.pushStackElement(),lt.pushEditOperations([],st,()=>[]),lt.pushStackElement(),Je+=1,it+=st.length;return{ariaSummary:f.format(F.StandaloneServicesNLS.bulkEditServiceSummary,it,Je),isApplied:it>0}}};Te=Ie([ue(0,c.IModelService)],Te);class Le{getUriLabel(Fe,Ve){return Fe.scheme==="file"?Fe.fsPath:Fe.path}getUriBasenameLabel(Fe){return(0,W.basename)(Fe)}}let Oe=class extends U.ContextViewService{constructor(Fe,Ve){super(Fe),this._codeEditorService=Ve}showContextView(Fe,Ve,Ke){if(!Ve){const Ge=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Ge&&(Ve=Ge.getContainerDomNode())}return super.showContextView(Fe,Ve,Ke)}};Oe=Ie([ue(0,x.ILayoutService),ue(1,H.ICodeEditorService)],Oe);class Pe{constructor(){this._neverEmitter=new D.Emitter,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class ze extends G.LanguageService{constructor(){super()}}class je extends We.LogService{constructor(){super(new z.ConsoleLogger)}}let $e=class extends te.ContextMenuService{constructor(Fe,Ve,Ke,Ge,it,Je){super(Fe,Ve,Ke,Ge,it,Je),this.configure({blockMouse:!1})}};$e=Ie([ue(0,M.ITelemetryService),ue(1,A.INotificationService),ue(2,K.IContextViewService),ue(3,_.IKeybindingService),ue(4,q.IMenuService),ue(5,l.IContextKeyService)],$e);class Qe{async playSignal(Fe,Ve){}}(0,ee.registerSingleton)(z.ILogService,je,0),(0,ee.registerSingleton)(a.IConfigurationService,ot,0),(0,ee.registerSingleton)(u.ITextResourceConfigurationService,_t,0),(0,ee.registerSingleton)(u.ITextResourcePropertiesService,pt,0),(0,ee.registerSingleton)(R.IWorkspaceContextService,we,0),(0,ee.registerSingleton)(N.ILabelService,Le,0),(0,ee.registerSingleton)(M.ITelemetryService,ye,0),(0,ee.registerSingleton)(g.IDialogService,et,0),(0,ee.registerSingleton)(Ne.IEnvironmentService,Ze,0),(0,ee.registerSingleton)(A.INotificationService,nt,0),(0,ee.registerSingleton)(Ce.IMarkerService,Se.MarkerService,0),(0,ee.registerSingleton)(re.ILanguageService,ze,0),(0,ee.registerSingleton)(ae.IStandaloneThemeService,X.StandaloneThemeService,0),(0,ee.registerSingleton)(c.IModelService,pe.ModelService,0),(0,ee.registerSingleton)(he.IMarkerDecorationsService,ce.MarkerDecorationsService,0),(0,ee.registerSingleton)(l.IContextKeyService,se.ContextKeyService,0),(0,ee.registerSingleton)(O.IProgressService,Ue,0),(0,ee.registerSingleton)(O.IEditorProgressService,qe,0),(0,ee.registerSingleton)(Ee.IStorageService,Ee.InMemoryStorageService,0),(0,ee.registerSingleton)(P.IEditorWorkerService,Z.EditorWorkerService,0),(0,ee.registerSingleton)(o.IBulkEditService,Te,0),(0,ee.registerSingleton)(j.IWorkspaceTrustManagementService,Pe,0),(0,ee.registerSingleton)(m.ITextModelService,He,0),(0,ee.registerSingleton)(B.IAccessibilityService,oe.AccessibilityService,0),(0,ee.registerSingleton)(ve.IListService,ve.ListService,0),(0,ee.registerSingleton)(r.ICommandService,at,0),(0,ee.registerSingleton)(_.IKeybindingService,ft,0),(0,ee.registerSingleton)(ke.IQuickInputService,ge.StandaloneQuickInputService,0),(0,ee.registerSingleton)(K.IContextViewService,Oe,0),(0,ee.registerSingleton)(_e.IOpenerService,Y.OpenerService,0),(0,ee.registerSingleton)(J.IClipboardService,$.BrowserClipboardService,0),(0,ee.registerSingleton)(K.IContextMenuService,$e,0),(0,ee.registerSingleton)(q.IMenuService,V.MenuService,0),(0,ee.registerSingleton)(xe.IAccessibilitySignalService,Qe,0);var gt;(function(Ye){const Fe=new fe.ServiceCollection;for(const[st,rt]of(0,ee.getSingletonServiceDescriptors)())Fe.set(st,rt);const Ve=new le.InstantiationService(Fe,!0);Fe.set(d.IInstantiationService,Ve);function Ke(st){Ge||Je({});const rt=Fe.get(st);if(!rt)throw new Error("Missing service "+st);return rt instanceof de.SyncDescriptor?Ve.invokeFunction(ut=>ut.get(st)):rt}Ye.get=Ke;let Ge=!1;const it=new D.Emitter;function Je(st){if(Ge)return Ve;Ge=!0;for(const[ut,ct]of(0,ee.getSingletonServiceDescriptors)())Fe.get(ut)||Fe.set(ut,ct);for(const ut in st)if(st.hasOwnProperty(ut)){const ct=(0,d.createDecorator)(ut);Fe.get(ct)instanceof de.SyncDescriptor&&Fe.set(ct,st[ut])}const rt=(0,Be.getEditorFeatures)();for(const ut of rt)try{Ve.createInstance(ut)}catch(ct){(0,De.onUnexpectedError)(ct)}return it.fire(),Ve}Ye.initialize=Je;function lt(st){if(Ge)return st();const rt=new p.DisposableStore,ut=rt.add(it.event(()=>{ut.dispose(),rt.add(st())}));return rt}Ye.withServices=lt})(gt||(e.StandaloneServices=gt={}))}),define(ie[994],ne([1,0,47,2,36,213,309,286,149,29,25,27,14,58,8,32,51,23,66,103,114,92,53,43,399,85,34,18,278,132,52,44,115,77]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N,A,O){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.StandaloneDiffEditor2=e.StandaloneEditor=e.StandaloneCodeEditor=void 0,e.createTextModel=z;let M=0,R=!1;function x(K){if(!K){if(R)return;R=!0}f.setARIAContainer(K||T.mainWindow.document.body)}let F=class extends D.CodeEditorWidget{constructor(U,G,te,ee,Y,P,Z,re,ce,he,pe,ge,X){const ae={...G};ae.ariaLabel=ae.ariaLabel||r.StandaloneCodeEditorNLS.editorViewAccessibleLabel,ae.ariaLabel=ae.ariaLabel+";"+r.StandaloneCodeEditorNLS.accessibilityHelpMessage,super(U,ae,{},te,ee,Y,P,ce,he,pe,ge,X),re instanceof p.StandaloneKeybindingService?this._standaloneKeybindingService=re:this._standaloneKeybindingService=null,x(ae.ariaContainerElement),(0,N.setHoverDelegateFactory)((oe,B)=>te.createInstance(A.WorkbenchHoverDelegate,oe,B,{})),(0,O.setBaseLayerHoverDelegate)(Z)}addCommand(U,G,te){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const ee="DYNAMIC_"+ ++M,Y=s.ContextKeyExpr.deserialize(te);return this._standaloneKeybindingService.addDynamicKeybinding(ee,U,G,Y),ee}createContextKey(U,G){return this._contextKeyService.createKey(U,G)}addAction(U){if(typeof U.id!="string"||typeof U.label!="string"||typeof U.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None;const G=U.id,te=U.label,ee=s.ContextKeyExpr.and(s.ContextKeyExpr.equals("editorId",this.getId()),s.ContextKeyExpr.deserialize(U.precondition)),Y=U.keybindings,P=s.ContextKeyExpr.and(ee,s.ContextKeyExpr.deserialize(U.keybindingContext)),Z=U.contextMenuGroupId||null,re=U.contextMenuOrder||0,ce=(X,...ae)=>Promise.resolve(U.run(this,...ae)),he=new k.DisposableStore,pe=this.getId()+":"+G;if(he.add(C.CommandsRegistry.registerCommand(pe,ce)),Z){const X={command:{id:pe,title:te},when:ee,group:Z,order:re};he.add(b.MenuRegistry.appendMenuItem(b.MenuId.EditorContext,X))}if(Array.isArray(Y))for(const X of Y)he.add(this._standaloneKeybindingService.addDynamicKeybinding(pe,X,ce,P));const ge=new y.InternalEditorAction(pe,te,te,void 0,ee,(...X)=>Promise.resolve(U.run(this,...X)),this._contextKeyService);return this._actions.set(G,ge),he.add((0,k.toDisposable)(()=>{this._actions.delete(G)})),he}_triggerCommand(U,G){if(this._codeEditorService instanceof d.StandaloneCodeEditorService)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(U,G)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(U,G)}};e.StandaloneCodeEditor=F,e.StandaloneCodeEditor=F=Ie([ue(2,t.IInstantiationService),ue(3,E.ICodeEditorService),ue(4,C.ICommandService),ue(5,s.IContextKeyService),ue(6,A.IHoverService),ue(7,n.IKeybindingService),ue(8,m.IThemeService),ue(9,c.INotificationService),ue(10,u.IAccessibilityService),ue(11,_.ILanguageConfigurationService),ue(12,S.ILanguageFeaturesService)],F);let W=class extends F{constructor(U,G,te,ee,Y,P,Z,re,ce,he,pe,ge,X,ae,oe,B){const q={...G};(0,p.updateConfigurationService)(pe,q,!1);const V=ce.registerEditorContainer(U);typeof q.theme=="string"&&ce.setTheme(q.theme),typeof q.autoDetectHighContrast<"u"&&ce.setAutoDetectHighContrast(!!q.autoDetectHighContrast);const $=q.model;delete q.model,super(U,q,te,ee,Y,P,Z,re,ce,he,ge,oe,B),this._configurationService=pe,this._standaloneThemeService=ce,this._register(V);let J;if(typeof $>"u"){const se=ae.getLanguageIdByMimeType(q.language)||q.language||v.PLAINTEXT_LANGUAGE_ID;J=z(X,ae,q.value||"",se,void 0),this._ownsModel=!0}else J=$,this._ownsModel=!1;if(this._attachModel(J),J){const se={oldModelUrl:null,newModelUrl:J.uri};this._onDidChangeModel.fire(se)}}dispose(){super.dispose()}updateOptions(U){(0,p.updateConfigurationService)(this._configurationService,U,!1),typeof U.theme=="string"&&this._standaloneThemeService.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!U.autoDetectHighContrast),super.updateOptions(U)}_postDetachModelCleanup(U){super._postDetachModelCleanup(U),U&&this._ownsModel&&(U.dispose(),this._ownsModel=!1)}};e.StandaloneEditor=W,e.StandaloneEditor=W=Ie([ue(2,t.IInstantiationService),ue(3,E.ICodeEditorService),ue(4,C.ICommandService),ue(5,s.IContextKeyService),ue(6,A.IHoverService),ue(7,n.IKeybindingService),ue(8,w.IStandaloneThemeService),ue(9,c.INotificationService),ue(10,o.IConfigurationService),ue(11,u.IAccessibilityService),ue(12,l.IModelService),ue(13,g.ILanguageService),ue(14,_.ILanguageConfigurationService),ue(15,S.ILanguageFeaturesService)],W);let H=class extends L.DiffEditorWidget{constructor(U,G,te,ee,Y,P,Z,re,ce,he,pe,ge){const X={...G};(0,p.updateConfigurationService)(re,X,!0);const ae=P.registerEditorContainer(U);typeof X.theme=="string"&&P.setTheme(X.theme),typeof X.autoDetectHighContrast<"u"&&P.setAutoDetectHighContrast(!!X.autoDetectHighContrast),super(U,X,{},ee,te,Y,ge,he),this._configurationService=re,this._standaloneThemeService=P,this._register(ae)}dispose(){super.dispose()}updateOptions(U){(0,p.updateConfigurationService)(this._configurationService,U,!0),typeof U.theme=="string"&&this._standaloneThemeService.setTheme(U.theme),typeof U.autoDetectHighContrast<"u"&&this._standaloneThemeService.setAutoDetectHighContrast(!!U.autoDetectHighContrast),super.updateOptions(U)}_createInnerEditor(U,G,te){return U.createInstance(F,G,te)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(U,G,te){return this.getModifiedEditor().addCommand(U,G,te)}createContextKey(U,G){return this.getModifiedEditor().createContextKey(U,G)}addAction(U){return this.getModifiedEditor().addAction(U)}};e.StandaloneDiffEditor2=H,e.StandaloneDiffEditor2=H=Ie([ue(2,t.IInstantiationService),ue(3,s.IContextKeyService),ue(4,E.ICodeEditorService),ue(5,w.IStandaloneThemeService),ue(6,c.INotificationService),ue(7,o.IConfigurationService),ue(8,i.IContextMenuService),ue(9,h.IEditorProgressService),ue(10,a.IClipboardService),ue(11,I.IAccessibilitySignalService)],H);function z(K,U,G,te,ee){if(G=G||"",!te){const Y=G.indexOf(`
`);let P=G;return Y!==-1&&(P=G.substring(0,Y)),j(K,G,U.createByFilepathOrFirstLine(ee||null,P),ee)}return j(K,G,U.createById(te),ee)}function j(K,U,G,te){return K.createModel(U,G,te)}}),define(ie[995],ne([1,0,52,2,12,22,356,16,36,837,38,160,256,192,28,43,34,85,171,42,53,232,814,994,286,149,29,25,14,32,104,61,944,517]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n,c,m,u,r,a,h,l,g,d,v,_,S,L,I,T,N,A){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.create=O,e.onDidCreateEditor=M,e.onDidCreateDiffEditor=R,e.getEditors=x,e.getDiffEditors=F,e.createDiffEditor=W,e.createMultiFileDiffEditor=H,e.addCommand=z,e.addEditorAction=j,e.addKeybindingRule=K,e.addKeybindingRules=U,e.createModel=G,e.setModelLanguage=te,e.setModelMarkers=ee,e.removeAllMarkers=Y,e.getModelMarkers=P,e.onDidChangeMarkers=Z,e.getModel=re,e.getModels=ce,e.onDidCreateModel=he,e.onWillDisposeModel=pe,e.onDidChangeModelLanguage=ge,e.createWebWorker=X,e.colorizeElement=ae,e.colorize=oe,e.colorizeModelLine=B,e.tokenize=V,e.defineTheme=$,e.setTheme=J,e.remeasureFonts=se,e.registerCommand=de,e.registerLinkOpener=le,e.registerEditorOpener=fe,e.createMonacoEditorAPI=ve;function O(Ce,Se,_e){return d.StandaloneServices.initialize(_e||{}).createInstance(g.StandaloneEditor,Ce,Se)}function M(Ce){return d.StandaloneServices.get(w.ICodeEditorService).onCodeEditorAdd(_e=>{Ce(_e)})}function R(Ce){return d.StandaloneServices.get(w.ICodeEditorService).onDiffEditorAdd(_e=>{Ce(_e)})}function x(){return d.StandaloneServices.get(w.ICodeEditorService).listCodeEditors()}function F(){return d.StandaloneServices.get(w.ICodeEditorService).listDiffEditors()}function W(Ce,Se,_e){return d.StandaloneServices.initialize(_e||{}).createInstance(g.StandaloneDiffEditor2,Ce,Se)}function H(Ce,Se){const _e=d.StandaloneServices.initialize(Se||{});return new A.MultiDiffEditorWidget(Ce,{},_e)}function z(Ce){if(typeof Ce.id!="string"||typeof Ce.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return S.CommandsRegistry.registerCommand(Ce.id,Ce.run)}function j(Ce){if(typeof Ce.id!="string"||typeof Ce.label!="string"||typeof Ce.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const Se=L.ContextKeyExpr.deserialize(Ce.precondition),_e=(Ee,...Ae)=>p.EditorCommand.runEditorCommand(Ee,Ae,Se,(xe,We,Be)=>Promise.resolve(Ce.run(We,...Be))),ke=new k.DisposableStore;if(ke.add(S.CommandsRegistry.registerCommand(Ce.id,_e)),Ce.contextMenuGroupId){const Ee={command:{id:Ce.id,title:Ce.label},when:Se,group:Ce.contextMenuGroupId,order:Ce.contextMenuOrder||0};ke.add(_.MenuRegistry.appendMenuItem(_.MenuId.EditorContext,Ee))}if(Array.isArray(Ce.keybindings)){const Ee=d.StandaloneServices.get(I.IKeybindingService);if(!(Ee instanceof d.StandaloneKeybindingService))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const Ae=L.ContextKeyExpr.and(Se,L.ContextKeyExpr.deserialize(Ce.keybindingContext));ke.add(Ee.addDynamicKeybindings(Ce.keybindings.map(xe=>({keybinding:xe,command:Ce.id,when:Ae}))))}}return ke}function K(Ce){return U([Ce])}function U(Ce){const Se=d.StandaloneServices.get(I.IKeybindingService);return Se instanceof d.StandaloneKeybindingService?Se.addDynamicKeybindings(Ce.map(_e=>({keybinding:_e.keybinding,command:_e.command,commandArgs:_e.commandArgs,when:L.ContextKeyExpr.deserialize(_e.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),k.Disposable.None)}function G(Ce,Se,_e){const ke=d.StandaloneServices.get(n.ILanguageService),Ee=ke.getLanguageIdByMimeType(Se)||Se;return(0,g.createTextModel)(d.StandaloneServices.get(a.IModelService),ke,Ce,Ee,_e)}function te(Ce,Se){const _e=d.StandaloneServices.get(n.ILanguageService),ke=_e.getLanguageIdByMimeType(Se)||Se||m.PLAINTEXT_LANGUAGE_ID;Ce.setLanguage(_e.createById(ke))}function ee(Ce,Se,_e){Ce&&d.StandaloneServices.get(T.IMarkerService).changeOne(Se,Ce.uri,_e)}function Y(Ce){d.StandaloneServices.get(T.IMarkerService).changeAll(Ce,[])}function P(Ce){return d.StandaloneServices.get(T.IMarkerService).read(Ce)}function Z(Ce){return d.StandaloneServices.get(T.IMarkerService).onMarkerChanged(Ce)}function re(Ce){return d.StandaloneServices.get(a.IModelService).getModel(Ce)}function ce(){return d.StandaloneServices.get(a.IModelService).getModels()}function he(Ce){return d.StandaloneServices.get(a.IModelService).onModelAdded(Ce)}function pe(Ce){return d.StandaloneServices.get(a.IModelService).onModelRemoved(Ce)}function ge(Ce){return d.StandaloneServices.get(a.IModelService).onModelLanguageChanged(_e=>{Ce({model:_e.model,oldLanguage:_e.oldLanguageId})})}function X(Ce){return(0,b.createWebWorker)(d.StandaloneServices.get(a.IModelService),d.StandaloneServices.get(c.ILanguageConfigurationService),Ce)}function ae(Ce,Se){const _e=d.StandaloneServices.get(n.ILanguageService),ke=d.StandaloneServices.get(v.IStandaloneThemeService);return l.Colorizer.colorizeElement(ke,_e,Ce,Se).then(()=>{ke.registerEditorContainer(Ce)})}function oe(Ce,Se,_e){const ke=d.StandaloneServices.get(n.ILanguageService);return d.StandaloneServices.get(v.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),l.Colorizer.colorize(ke,Ce,Se,_e)}function B(Ce,Se,_e=4){return d.StandaloneServices.get(v.IStandaloneThemeService).registerEditorContainer(f.mainWindow.document.body),l.Colorizer.colorizeModelLine(Ce,Se,_e)}function q(Ce){const Se=t.TokenizationRegistry.get(Ce);return Se||{getInitialState:()=>u.NullState,tokenize:(_e,ke,Ee)=>(0,u.nullTokenize)(Ce,Ee)}}function V(Ce,Se){t.TokenizationRegistry.getOrCreate(Se);const _e=q(Se),ke=(0,E.splitLines)(Ce),Ee=[];let Ae=_e.getInitialState();for(let xe=0,We=ke.length;xe<We;xe++){const Be=ke[xe],De=_e.tokenize(Be,!0,Ae);Ee[xe]=De.tokens,Ae=De.endState}return Ee}function $(Ce,Se){d.StandaloneServices.get(v.IStandaloneThemeService).defineTheme(Ce,Se)}function J(Ce){d.StandaloneServices.get(v.IStandaloneThemeService).setTheme(Ce)}function se(){y.FontMeasurements.clearAllFontInfos()}function de(Ce,Se){return S.CommandsRegistry.registerCommand({id:Ce,handler:Se})}function le(Ce){return d.StandaloneServices.get(N.IOpenerService).registerOpener({async open(_e){return typeof _e=="string"&&(_e=D.URI.parse(_e)),Ce.open(_e)}})}function fe(Ce){return d.StandaloneServices.get(w.ICodeEditorService).registerCodeEditorOpenHandler(async(_e,ke,Ee)=>{var Ae;if(!ke)return null;const xe=(Ae=_e.options)===null||Ae===void 0?void 0:Ae.selection;let We;return xe&&typeof xe.endLineNumber=="number"&&typeof xe.endColumn=="number"?We=xe:xe&&(We={lineNumber:xe.startLineNumber,column:xe.startColumn}),await Ce.openCodeEditor(ke,_e.resource,We)?ke:null})}function ve(){return{create:O,getEditors:x,getDiffEditors:F,onDidCreateEditor:M,onDidCreateDiffEditor:R,createDiffEditor:W,addCommand:z,addEditorAction:j,addKeybindingRule:K,addKeybindingRules:U,createModel:G,setModelLanguage:te,setModelMarkers:ee,getModelMarkers:P,removeAllMarkers:Y,onDidChangeMarkers:Z,getModels:ce,getModel:re,onDidCreateModel:he,onWillDisposeModel:pe,onDidChangeModelLanguage:ge,createWebWorker:X,colorizeElement:ae,colorize:oe,colorizeModelLine:B,tokenize:V,defineTheme:$,setTheme:J,remeasureFonts:se,registerCommand:de,registerLinkOpener:le,registerEditorOpener:fe,AccessibilitySupport:h.AccessibilitySupport,ContentWidgetPositionPreference:h.ContentWidgetPositionPreference,CursorChangeReason:h.CursorChangeReason,DefaultEndOfLine:h.DefaultEndOfLine,EditorAutoIndentStrategy:h.EditorAutoIndentStrategy,EditorOption:h.EditorOption,EndOfLinePreference:h.EndOfLinePreference,EndOfLineSequence:h.EndOfLineSequence,MinimapPosition:h.MinimapPosition,MinimapSectionHeaderStyle:h.MinimapSectionHeaderStyle,MouseTargetType:h.MouseTargetType,OverlayWidgetPositionPreference:h.OverlayWidgetPositionPreference,OverviewRulerLane:h.OverviewRulerLane,GlyphMarginLane:h.GlyphMarginLane,RenderLineNumbersType:h.RenderLineNumbersType,RenderMinimap:h.RenderMinimap,ScrollbarVisibility:h.ScrollbarVisibility,ScrollType:h.ScrollType,TextEditorCursorBlinkingStyle:h.TextEditorCursorBlinkingStyle,TextEditorCursorStyle:h.TextEditorCursorStyle,TrackedRangeStickiness:h.TrackedRangeStickiness,WrappingIndent:h.WrappingIndent,InjectedTextCursorStops:h.InjectedTextCursorStops,PositionAffinity:h.PositionAffinity,ShowLightbulbIconMode:h.ShowLightbulbIconMode,ConfigurationChangedEvent:C.ConfigurationChangedEvent,BareFontInfo:s.BareFontInfo,FontInfo:s.FontInfo,TextModelResolvedOptions:r.TextModelResolvedOptions,FindMatch:r.FindMatch,ApplyUpdateResult:C.ApplyUpdateResult,EditorZoom:o.EditorZoom,createMultiFileDiffEditor:H,EditorType:i.EditorType,EditorOptions:C.EditorOptions}}}),define(ie[996],ne([1,0,35,5,28,43,34,85,18,232,286,601,369,149,27,104]),function(Q,e,f,k,E,D,y,p,w,b,C,o,s,i,t,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TokenizationSupportAdapter=e.EncodedTokenizationSupportAdapter=void 0,e.register=c,e.getLanguages=m,e.getEncodedLanguageId=u,e.onLanguage=r,e.onLanguageEncountered=a,e.setLanguageConfiguration=h,e.setColorMap=S,e.registerTokensProviderFactory=I,e.setTokensProvider=T,e.setMonarchTokensProvider=N,e.registerReferenceProvider=A,e.registerRenameProvider=O,e.registerNewSymbolNameProvider=M,e.registerSignatureHelpProvider=R,e.registerHoverProvider=x,e.registerDocumentSymbolProvider=F,e.registerDocumentHighlightProvider=W,e.registerLinkedEditingRangeProvider=H,e.registerDefinitionProvider=z,e.registerImplementationProvider=j,e.registerTypeDefinitionProvider=K,e.registerCodeLensProvider=U,e.registerCodeActionProvider=G,e.registerDocumentFormattingEditProvider=te,e.registerDocumentRangeFormattingEditProvider=ee,e.registerOnTypeFormattingEditProvider=Y,e.registerLinkProvider=P,e.registerCompletionItemProvider=Z,e.registerColorProvider=re,e.registerFoldingRangeProvider=ce,e.registerDeclarationProvider=he,e.registerSelectionRangeProvider=pe,e.registerDocumentSemanticTokensProvider=ge,e.registerDocumentRangeSemanticTokensProvider=X,e.registerInlineCompletionsProvider=ae,e.registerInlineEditProvider=oe,e.registerInlayHintsProvider=B,e.createMonacoLanguagesAPI=q;function c(V){p.ModesRegistry.registerLanguage(V)}function m(){let V=[];return V=V.concat(p.ModesRegistry.getLanguages()),V}function u(V){return C.StandaloneServices.get(D.ILanguageService).languageIdCodec.encodeLanguageId(V)}function r(V,$){return C.StandaloneServices.withServices(()=>{const se=C.StandaloneServices.get(D.ILanguageService).onDidRequestRichLanguageFeatures(de=>{de===V&&(se.dispose(),$())});return se})}function a(V,$){return C.StandaloneServices.withServices(()=>{const se=C.StandaloneServices.get(D.ILanguageService).onDidRequestBasicLanguageFeatures(de=>{de===V&&(se.dispose(),$())});return se})}function h(V,$){if(!C.StandaloneServices.get(D.ILanguageService).isRegisteredLanguageId(V))throw new Error(`Cannot set configuration for unknown language ${V}`);return C.StandaloneServices.get(y.ILanguageConfigurationService).register(V,$,100)}class l{constructor($,J){this._languageId=$,this._actual=J}dispose(){}getInitialState(){return this._actual.getInitialState()}tokenize($,J,se){if(typeof this._actual.tokenize=="function")return g.adaptTokenize(this._languageId,this._actual,$,se);throw new Error("Not supported!")}tokenizeEncoded($,J,se){const de=this._actual.tokenizeEncoded($,se);return new E.EncodedTokenizationResult(de.tokens,de.endState)}}e.EncodedTokenizationSupportAdapter=l;class g{constructor($,J,se,de){this._languageId=$,this._actual=J,this._languageService=se,this._standaloneThemeService=de}dispose(){}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens($,J){const se=[];let de=0;for(let le=0,fe=$.length;le<fe;le++){const ve=$[le];let Ce=ve.startIndex;le===0?Ce=0:Ce<de&&(Ce=de),se[le]=new E.Token(Ce,ve.scopes,J),de=Ce}return se}static adaptTokenize($,J,se,de){const le=J.tokenize(se,de),fe=g._toClassicTokens(le.tokens,$);let ve;return le.endState.equals(de)?ve=de:ve=le.endState,new E.TokenizationResult(fe,ve)}tokenize($,J,se){return g.adaptTokenize(this._languageId,this._actual,$,se)}_toBinaryTokens($,J){const se=$.encodeLanguageId(this._languageId),de=this._standaloneThemeService.getColorTheme().tokenTheme,le=[];let fe=0,ve=0;for(let Se=0,_e=J.length;Se<_e;Se++){const ke=J[Se],Ee=de.match(se,ke.scopes)|1024;if(fe>0&&le[fe-1]===Ee)continue;let Ae=ke.startIndex;Se===0?Ae=0:Ae<ve&&(Ae=ve),le[fe++]=Ae,le[fe++]=Ee,ve=Ae}const Ce=new Uint32Array(fe);for(let Se=0;Se<fe;Se++)Ce[Se]=le[Se];return Ce}tokenizeEncoded($,J,se){const de=this._actual.tokenize($,se),le=this._toBinaryTokens(this._languageService.languageIdCodec,de.tokens);let fe;return de.endState.equals(se)?fe=se:fe=de.endState,new E.EncodedTokenizationResult(le,fe)}}e.TokenizationSupportAdapter=g;function d(V){return typeof V.getInitialState=="function"}function v(V){return"tokenizeEncoded"in V}function _(V){return V&&typeof V.then=="function"}function S(V){const $=C.StandaloneServices.get(i.IStandaloneThemeService);if(V){const J=[null];for(let se=1,de=V.length;se<de;se++)J[se]=f.Color.fromHex(V[se]);$.setColorMapOverride(J)}else $.setColorMapOverride(null)}function L(V,$){return v($)?new l(V,$):new g(V,$,C.StandaloneServices.get(D.ILanguageService),C.StandaloneServices.get(i.IStandaloneThemeService))}function I(V,$){const J=new E.LazyTokenizationSupport(async()=>{const se=await Promise.resolve($.create());return se?d(se)?L(V,se):new s.MonarchTokenizer(C.StandaloneServices.get(D.ILanguageService),C.StandaloneServices.get(i.IStandaloneThemeService),V,(0,o.compile)(V,se),C.StandaloneServices.get(t.IConfigurationService)):null});return E.TokenizationRegistry.registerFactory(V,J)}function T(V,$){if(!C.StandaloneServices.get(D.ILanguageService).isRegisteredLanguageId(V))throw new Error(`Cannot set tokens provider for unknown language ${V}`);return _($)?I(V,{create:()=>$}):E.TokenizationRegistry.register(V,L(V,$))}function N(V,$){const J=se=>new s.MonarchTokenizer(C.StandaloneServices.get(D.ILanguageService),C.StandaloneServices.get(i.IStandaloneThemeService),V,(0,o.compile)(V,se),C.StandaloneServices.get(t.IConfigurationService));return _($)?I(V,{create:()=>$}):E.TokenizationRegistry.register(V,J($))}function A(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).referenceProvider.register(V,$)}function O(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).renameProvider.register(V,$)}function M(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).newSymbolNamesProvider.register(V,$)}function R(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).signatureHelpProvider.register(V,$)}function x(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).hoverProvider.register(V,{provideHover:async(se,de,le,fe)=>{const ve=se.getWordAtPosition(de);return Promise.resolve($.provideHover(se,de,le,fe)).then(Ce=>{if(Ce)return!Ce.range&&ve&&(Ce.range=new k.Range(de.lineNumber,ve.startColumn,de.lineNumber,ve.endColumn)),Ce.range||(Ce.range=new k.Range(de.lineNumber,de.column,de.lineNumber,de.column)),Ce})}})}function F(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentSymbolProvider.register(V,$)}function W(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentHighlightProvider.register(V,$)}function H(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).linkedEditingRangeProvider.register(V,$)}function z(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).definitionProvider.register(V,$)}function j(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).implementationProvider.register(V,$)}function K(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).typeDefinitionProvider.register(V,$)}function U(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).codeLensProvider.register(V,$)}function G(V,$,J){return C.StandaloneServices.get(w.ILanguageFeaturesService).codeActionProvider.register(V,{providedCodeActionKinds:J?.providedCodeActionKinds,documentation:J?.documentation,provideCodeActions:(de,le,fe,ve)=>{const Se=C.StandaloneServices.get(n.IMarkerService).read({resource:de.uri}).filter(_e=>k.Range.areIntersectingOrTouching(_e,le));return $.provideCodeActions(de,le,{markers:Se,only:fe.only,trigger:fe.trigger},ve)},resolveCodeAction:$.resolveCodeAction})}function te(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentFormattingEditProvider.register(V,$)}function ee(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentRangeFormattingEditProvider.register(V,$)}function Y(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).onTypeFormattingEditProvider.register(V,$)}function P(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).linkProvider.register(V,$)}function Z(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).completionProvider.register(V,$)}function re(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).colorProvider.register(V,$)}function ce(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).foldingRangeProvider.register(V,$)}function he(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).declarationProvider.register(V,$)}function pe(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).selectionRangeProvider.register(V,$)}function ge(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentSemanticTokensProvider.register(V,$)}function X(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).documentRangeSemanticTokensProvider.register(V,$)}function ae(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).inlineCompletionsProvider.register(V,$)}function oe(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).inlineEditProvider.register(V,$)}function B(V,$){return C.StandaloneServices.get(w.ILanguageFeaturesService).inlayHintsProvider.register(V,$)}function q(){return{register:c,getLanguages:m,onLanguage:r,onLanguageEncountered:a,getEncodedLanguageId:u,setLanguageConfiguration:h,setColorMap:S,registerTokensProviderFactory:I,setTokensProvider:T,setMonarchTokensProvider:N,registerReferenceProvider:A,registerRenameProvider:O,registerNewSymbolNameProvider:M,registerCompletionItemProvider:Z,registerSignatureHelpProvider:R,registerHoverProvider:x,registerDocumentSymbolProvider:F,registerDocumentHighlightProvider:W,registerLinkedEditingRangeProvider:H,registerDefinitionProvider:z,registerImplementationProvider:j,registerTypeDefinitionProvider:K,registerCodeLensProvider:U,registerCodeActionProvider:G,registerDocumentFormattingEditProvider:te,registerDocumentRangeFormattingEditProvider:ee,registerOnTypeFormattingEditProvider:Y,registerLinkProvider:P,registerColorProvider:re,registerFoldingRangeProvider:ce,registerDeclarationProvider:he,registerSelectionRangeProvider:pe,registerDocumentSemanticTokensProvider:ge,registerDocumentRangeSemanticTokensProvider:X,registerInlineCompletionsProvider:ae,registerInlineEditProvider:oe,registerInlayHintsProvider:B,DocumentHighlightKind:b.DocumentHighlightKind,CompletionItemKind:b.CompletionItemKind,CompletionItemTag:b.CompletionItemTag,CompletionItemInsertTextRule:b.CompletionItemInsertTextRule,SymbolKind:b.SymbolKind,SymbolTag:b.SymbolTag,IndentAction:b.IndentAction,CompletionTriggerKind:b.CompletionTriggerKind,SignatureHelpTriggerKind:b.SignatureHelpTriggerKind,InlayHintKind:b.InlayHintKind,InlineCompletionTriggerKind:b.InlineCompletionTriggerKind,InlineEditTriggerKind:b.InlineEditTriggerKind,CodeActionTriggerType:b.CodeActionTriggerType,NewSymbolNameTag:b.NewSymbolNameTag,NewSymbolNameTriggerKind:b.NewSymbolNameTriggerKind,PartialAcceptTriggerKind:b.PartialAcceptTriggerKind,HoverVerbosityAction:b.HoverVerbosityAction,FoldingRangeKind:E.FoldingRangeKind,SelectedSuggestionInfo:E.SelectedSuggestionInfo}}}),define(ie[997],ne([1,0,38,359,995,996,390]),function(Q,e,f,k,E,D,y){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.languages=e.editor=e.Token=e.Uri=e.MarkerTag=e.MarkerSeverity=e.SelectionDirection=e.Selection=e.Range=e.Position=e.KeyMod=e.KeyCode=e.Emitter=e.CancellationTokenSource=void 0,f.EditorOptions.wrappingIndent.defaultValue=0,f.EditorOptions.glyphMargin.defaultValue=!1,f.EditorOptions.autoIndent.defaultValue=3,f.EditorOptions.overviewRulerLanes.defaultValue=2,y.FormattingConflicts.setFormatterSelector((b,C,o)=>Promise.resolve(b[0]));const p=(0,k.createMonacoBaseAPI)();p.editor=(0,E.createMonacoEditorAPI)(),p.languages=(0,D.createMonacoLanguagesAPI)(),e.CancellationTokenSource=p.CancellationTokenSource,e.Emitter=p.Emitter,e.KeyCode=p.KeyCode,e.KeyMod=p.KeyMod,e.Position=p.Position,e.Range=p.Range,e.Selection=p.Selection,e.SelectionDirection=p.SelectionDirection,e.MarkerSeverity=p.MarkerSeverity,e.MarkerTag=p.MarkerTag,e.Uri=p.Uri,e.Token=p.Token,e.editor=p.editor,e.languages=p.languages;const w=globalThis.MonacoEnvironment;(w?.globalAPI||typeof define=="function"&&define.amd)&&(globalThis.monaco=p),typeof globalThis.require<"u"&&typeof globalThis.require.config=="function"&&globalThis.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})});var Ht=this&&this.__createBinding||(Object.create?function(Q,e,f,k){k===void 0&&(k=f);var E=Object.getOwnPropertyDescriptor(e,f);(!E||("get"in E?!e.__esModule:E.writable||E.configurable))&&(E={enumerable:!0,get:function(){return e[f]}}),Object.defineProperty(Q,k,E)}:function(Q,e,f,k){k===void 0&&(k=f),Q[k]=e[f]}),Ct=this&&this.__exportStar||function(Q,e){for(var f in Q)f!=="default"&&!Object.prototype.hasOwnProperty.call(e,f)&&Ht(e,Q,f)};define(ie[999],ne([1,0,997,993,876,877,850,923,924,880,979,926]),function(Q,e,f){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),Ct(f,e)})}).call(this);


/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.49.0(383fdf3fc0e1e1a024068b8d0fd4f3dcbae74d04)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/basic-languages/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var g=Object.defineProperty;var x=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var A=Object.getPrototypeOf,M=Object.prototype.hasOwnProperty;var a=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,s)=>(typeof require<"u"?require:r)[s]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var D=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var l=(e,r,s,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of q(r))!M.call(e,o)&&o!==s&&g(e,o,{get:()=>r[o],enumerable:!(n=x(r,o))||n.enumerable});return e},p=(e,r,s)=>(l(e,r,"default"),s&&l(s,r,"default")),c=(e,r,s)=>(s=e!=null?y(A(e)):{},l(r||!e||!e.__esModule?g(s,"default",{value:e,enumerable:!0}):s,e));var v=D((w,d)=>{var b=c(a("vs/editor/editor.api"));d.exports=b});var t={};p(t,c(v()));var f={},m={},u=class e{static getOrCreate(r){return m[r]||(m[r]=new e(r)),m[r]}constructor(r){this._languageId=r,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((s,n)=>{this._lazyLoadPromiseResolve=s,this._lazyLoadPromiseReject=n})}load(){return this._loadingTriggered||(this._loadingTriggered=!0,f[this._languageId].loader().then(r=>this._lazyLoadPromiseResolve(r),r=>this._lazyLoadPromiseReject(r))),this._lazyLoadPromise}};function i(e){let r=e.id;f[r]=e,t.languages.register(e);let s=u.getOrCreate(r);t.languages.registerTokensProviderFactory(r,{create:async()=>(await s.load()).language}),t.languages.onLanguageEncountered(r,async()=>{let n=await s.load();t.languages.setLanguageConfiguration(r,n.conf)})}i({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/abap/abap"],e,r)})});i({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/apex/apex"],e,r)})});i({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/azcli/azcli"],e,r)})});i({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bat/bat"],e,r)})});i({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/bicep/bicep"],e,r)})});i({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cameligo/cameligo"],e,r)})});i({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/clojure/clojure"],e,r)})});i({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/coffee/coffee"],e,r)})});i({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cpp/cpp"],e,r)})});i({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csharp/csharp"],e,r)})});i({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/csp/csp"],e,r)})});i({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/css/css"],e,r)})});i({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/cypher/cypher"],e,r)})});i({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dart/dart"],e,r)})});i({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/dockerfile/dockerfile"],e,r)})});i({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ecl/ecl"],e,r)})});i({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/elixir/elixir"],e,r)})});i({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/flow9/flow9"],e,r)})});i({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/fsharp/fsharp"],e,r)})});i({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationDollar)});i({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationDollar)});i({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAngleInterpolationBracket)});i({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagBracketInterpolationBracket)});i({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationDollar)});i({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/freemarker2/freemarker2"],e,r)}).then(e=>e.TagAutoInterpolationBracket)});i({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/go/go"],e,r)})});i({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/graphql/graphql"],e,r)})});i({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/handlebars/handlebars"],e,r)})});i({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/hcl/hcl"],e,r)})});i({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/html/html"],e,r)})});i({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ini/ini"],e,r)})});i({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/java/java"],e,r)})});i({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/javascript/javascript"],e,r)})});i({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/julia/julia"],e,r)})});i({id:"kotlin",extensions:[".kt",".kts"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/kotlin/kotlin"],e,r)})});i({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/less/less"],e,r)})});i({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lexon/lexon"],e,r)})});i({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/lua/lua"],e,r)})});i({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/liquid/liquid"],e,r)})});i({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/m3/m3"],e,r)})});i({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/markdown/markdown"],e,r)})});i({id:"mdx",extensions:[".mdx"],aliases:["MDX","mdx"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mdx/mdx"],e,r)})});i({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mips/mips"],e,r)})});i({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/msdax/msdax"],e,r)})});i({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/mysql/mysql"],e,r)})});i({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/objective-c/objective-c"],e,r)})});i({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascal/pascal"],e,r)})});i({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pascaligo/pascaligo"],e,r)})});i({id:"perl",extensions:[".pl",".pm"],aliases:["Perl","pl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/perl/perl"],e,r)})});i({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pgsql/pgsql"],e,r)})});i({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/php/php"],e,r)})});i({id:"pla",extensions:[".pla"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pla/pla"],e,r)})});i({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/postiats/postiats"],e,r)})});i({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powerquery/powerquery"],e,r)})});i({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/powershell/powershell"],e,r)})});i({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/protobuf/protobuf"],e,r)})});i({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/pug/pug"],e,r)})});i({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/python/python"],e,r)})});i({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/qsharp/qsharp"],e,r)})});i({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/r/r"],e,r)})});i({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/razor/razor"],e,r)})});i({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redis/redis"],e,r)})});i({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/redshift/redshift"],e,r)})});i({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/restructuredtext/restructuredtext"],e,r)})});i({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/ruby/ruby"],e,r)})});i({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/rust/rust"],e,r)})});i({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sb/sb"],e,r)})});i({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scala/scala"],e,r)})});i({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scheme/scheme"],e,r)})});i({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/scss/scss"],e,r)})});i({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/shell/shell"],e,r)})});i({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/solidity/solidity"],e,r)})});i({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sophia/sophia"],e,r)})});i({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sparql/sparql"],e,r)})});i({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/sql/sql"],e,r)})});i({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib",".TcPOU",".TcDUT",".TcGVL",".TcIO"],aliases:["StructuredText","scl","stl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/st/st"],e,r)})});i({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/swift/swift"],e,r)})});i({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/systemverilog/systemverilog"],e,r)})});i({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/tcl/tcl"],e,r)})});i({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/twig/twig"],e,r)})});i({id:"typescript",extensions:[".ts",".tsx",".cts",".mts"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typescript/typescript"],e,r)})});i({id:"typespec",extensions:[".tsp"],aliases:["TypeSpec"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/typespec/typespec"],e,r)})});i({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/vb/vb"],e,r)})});i({id:"wgsl",extensions:[".wgsl"],aliases:["WebGPU Shading Language","WGSL","wgsl"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/wgsl/wgsl"],e,r)})});i({id:"xml",extensions:[".xml",".xsd",".dtd",".ascx",".csproj",".config",".props",".targets",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xslt",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/xml/xml"],e,r)})});i({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>new Promise((e,r)=>{a(["vs/basic-languages/yaml/yaml"],e,r)})});})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.49.0(383fdf3fc0e1e1a024068b8d0fd4f3dcbae74d04)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/css/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var C=Object.create;var g=Object.defineProperty;var S=Object.getOwnPropertyDescriptor;var b=Object.getOwnPropertyNames;var x=Object.getPrototypeOf,h=Object.prototype.hasOwnProperty;var l=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,r)=>(typeof require<"u"?require:n)[r]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var I=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),M=(e,n)=>{for(var r in n)g(e,r,{get:n[r],enumerable:!0})},s=(e,n,r,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let t of b(n))!h.call(e,t)&&t!==r&&g(e,t,{get:()=>n[t],enumerable:!(a=S(n,t))||a.enumerable});return e},y=(e,n,r)=>(s(e,n,"default"),r&&s(r,n,"default")),w=(e,n,r)=>(r=e!=null?C(x(e)):{},s(n||!e||!e.__esModule?g(r,"default",{value:e,enumerable:!0}):r,e)),P=e=>s(g({},"__esModule",{value:!0}),e);var v=I((k,D)=>{var O=w(l("vs/editor/editor.api"));D.exports=O});var R={};M(R,{cssDefaults:()=>p,lessDefaults:()=>f,scssDefaults:()=>c});var o={};y(o,w(v()));var i=class{constructor(n,r,a){this._onDidChange=new o.Emitter;this._languageId=n,this.setOptions(r),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(n){this.setOptions(n)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},d={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},u={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},p=new i("css",d,u),c=new i("scss",d,u),f=new i("less",d,u);o.languages.css={cssDefaults:p,lessDefaults:f,scssDefaults:c};function m(){return new Promise((e,n)=>{l(["vs/language/css/cssMode"],e,n)})}o.languages.onLanguage("less",()=>{m().then(e=>e.setupMode(f))});o.languages.onLanguage("scss",()=>{m().then(e=>e.setupMode(c))});o.languages.onLanguage("css",()=>{m().then(e=>e.setupMode(p))});return P(R);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.49.0(383fdf3fc0e1e1a024068b8d0fd4f3dcbae74d04)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/html/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var w=Object.create;var l=Object.defineProperty;var R=Object.getOwnPropertyDescriptor;var H=Object.getOwnPropertyNames;var O=Object.getPrototypeOf,_=Object.prototype.hasOwnProperty;var f=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,t)=>(typeof require<"u"?require:n)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var k=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),T=(e,n)=>{for(var t in n)l(e,t,{get:n[t],enumerable:!0})},d=(e,n,t,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let o of H(n))!_.call(e,o)&&o!==t&&l(e,o,{get:()=>n[o],enumerable:!(r=R(n,o))||r.enumerable});return e},b=(e,n,t)=>(d(e,n,"default"),t&&d(t,n,"default")),v=(e,n,t)=>(t=e!=null?w(O(e)):{},d(n||!e||!e.__esModule?l(t,"default",{value:e,enumerable:!0}):t,e)),A=e=>d(l({},"__esModule",{value:!0}),e);var C=k((z,h)=>{var E=v(f("vs/editor/editor.api"));h.exports=E});var V={};T(V,{handlebarDefaults:()=>M,handlebarLanguageService:()=>m,htmlDefaults:()=>x,htmlLanguageService:()=>c,razorDefaults:()=>I,razorLanguageService:()=>y,registerHTMLLanguageService:()=>s});var a={};b(a,v(C()));var p=class{constructor(n,t,r){this._onDidChange=new a.Emitter;this._languageId=n,this.setOptions(t),this.setModeConfiguration(r)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(n){this._options=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},F={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},u={format:F,suggest:{},data:{useDefaultDataProvider:!0}};function g(e){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:e===i,documentFormattingEdits:e===i,documentRangeFormattingEdits:e===i}}var i="html",D="handlebars",L="razor",c=s(i,u,g(i)),x=c.defaults,m=s(D,u,g(D)),M=m.defaults,y=s(L,u,g(L)),I=y.defaults;a.languages.html={htmlDefaults:x,razorDefaults:I,handlebarDefaults:M,htmlLanguageService:c,handlebarLanguageService:m,razorLanguageService:y,registerHTMLLanguageService:s};function P(){return new Promise((e,n)=>{f(["vs/language/html/htmlMode"],e,n)})}function s(e,n=u,t=g(e)){let r=new p(e,n,t),o,S=a.languages.onLanguage(e,async()=>{o=(await P()).setupMode(r)});return{defaults:r,dispose(){S.dispose(),o?.dispose(),o=void 0}}}return A(V);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.49.0(383fdf3fc0e1e1a024068b8d0fd4f3dcbae74d04)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/json/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var y=Object.create;var i=Object.defineProperty;var f=Object.getOwnPropertyDescriptor;var h=Object.getOwnPropertyNames;var N=Object.getPrototypeOf,b=Object.prototype.hasOwnProperty;var s=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(n,o)=>(typeof require<"u"?require:n)[o]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var O=(e,n)=>()=>(n||e((n={exports:{}}).exports,n),n.exports),v=(e,n)=>{for(var o in n)i(e,o,{get:n[o],enumerable:!0})},g=(e,n,o,a)=>{if(n&&typeof n=="object"||typeof n=="function")for(let r of h(n))!b.call(e,r)&&r!==o&&i(e,r,{get:()=>n[r],enumerable:!(a=f(n,r))||a.enumerable});return e};var m=(e,n,o)=>(o=e!=null?y(N(e)):{},g(n||!e||!e.__esModule?i(o,"default",{value:e,enumerable:!0}):o,e)),x=e=>g(i({},"__esModule",{value:!0}),e);var u=O((J,c)=>{var A=m(s("vs/editor/editor.api"));c.exports=A});var C={};v(C,{getWorker:()=>S,jsonDefaults:()=>l});var t=m(u());var d=class{constructor(n,o,a){this._onDidChange=new t.Emitter;this._languageId=n,this.setDiagnosticsOptions(o),this.setModeConfiguration(a)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(n){this._diagnosticsOptions=n||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(n){this._modeConfiguration=n||Object.create(null),this._onDidChange.fire(this)}},T={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},D={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},l=new d("json",T,D),S=()=>p().then(e=>e.getWorker());t.languages.json={jsonDefaults:l,getWorker:S};function p(){return new Promise((e,n)=>{s(["vs/language/json/jsonMode"],e,n)})}t.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]});t.languages.onLanguage("json",()=>{p().then(e=>e.setupMode(l))});return x(C);})();
return moduleExports;
});

/*!-----------------------------------------------------------------------------
 * Copyright (c) Microsoft Corporation. All rights reserved.
 * Version: 0.49.0(383fdf3fc0e1e1a024068b8d0fd4f3dcbae74d04)
 * Released under the MIT license
 * https://github.com/microsoft/monaco-editor/blob/main/LICENSE.txt
 *-----------------------------------------------------------------------------*/
define("vs/language/typescript/monaco.contribution", ["require","require","vs/editor/editor.api"],(require)=>{
"use strict";var moduleExports=(()=>{var N=Object.create;var d=Object.defineProperty;var H=Object.getOwnPropertyDescriptor;var M=Object.getOwnPropertyNames;var R=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty;var c=(n=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(n,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):n)(function(n){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+n+'" is not supported')});var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports),A=(n,e)=>{for(var t in e)d(n,t,{get:e[t],enumerable:!0})},g=(n,e,t,i)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of M(e))!F.call(n,r)&&r!==t&&d(n,r,{get:()=>e[r],enumerable:!(i=H(e,r))||i.enumerable});return n},D=(n,e,t)=>(g(n,e,"default"),t&&g(t,e,"default")),C=(n,e,t)=>(t=n!=null?N(R(n)):{},g(e||!n||!n.__esModule?d(t,"default",{value:n,enumerable:!0}):t,n)),W=n=>g(d({},"__esModule",{value:!0}),n);var _=w((B,E)=>{var V=C(c("vs/editor/editor.api"));E.exports=V});var T={};A(T,{JsxEmit:()=>f,ModuleKind:()=>b,ModuleResolutionKind:()=>O,NewLineKind:()=>y,ScriptTarget:()=>h,getJavaScriptWorker:()=>k,getTypeScriptWorker:()=>P,javascriptDefaults:()=>v,typescriptDefaults:()=>x,typescriptVersion:()=>I});var L="5.0.2";var l={};D(l,C(_()));var b=(s=>(s[s.None=0]="None",s[s.CommonJS=1]="CommonJS",s[s.AMD=2]="AMD",s[s.UMD=3]="UMD",s[s.System=4]="System",s[s.ES2015=5]="ES2015",s[s.ESNext=99]="ESNext",s))(b||{}),f=(a=>(a[a.None=0]="None",a[a.Preserve=1]="Preserve",a[a.React=2]="React",a[a.ReactNative=3]="ReactNative",a[a.ReactJSX=4]="ReactJSX",a[a.ReactJSXDev=5]="ReactJSXDev",a))(f||{}),y=(t=>(t[t.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",t[t.LineFeed=1]="LineFeed",t))(y||{}),h=(o=>(o[o.ES3=0]="ES3",o[o.ES5=1]="ES5",o[o.ES2015=2]="ES2015",o[o.ES2016=3]="ES2016",o[o.ES2017=4]="ES2017",o[o.ES2018=5]="ES2018",o[o.ES2019=6]="ES2019",o[o.ES2020=7]="ES2020",o[o.ESNext=99]="ESNext",o[o.JSON=100]="JSON",o[o.Latest=99]="Latest",o))(h||{}),O=(t=>(t[t.Classic=1]="Classic",t[t.NodeJs=2]="NodeJs",t))(O||{}),m=class{constructor(e,t,i,r,p){this._onDidChange=new l.Emitter;this._onDidExtraLibsChange=new l.Emitter;this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(e),this.setDiagnosticsOptions(t),this.setWorkerOptions(i),this.setInlayHintsOptions(r),this.setModeConfiguration(p),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get modeConfiguration(){return this._modeConfiguration}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(e,t){let i;if(typeof t>"u"?i=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:i=t,this._extraLibs[i]&&this._extraLibs[i].content===e)return{dispose:()=>{}};let r=1;return this._removedExtraLibs[i]&&(r=this._removedExtraLibs[i]+1),this._extraLibs[i]&&(r=this._extraLibs[i].version+1),this._extraLibs[i]={content:e,version:r},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let p=this._extraLibs[i];p&&p.version===r&&(delete this._extraLibs[i],this._removedExtraLibs[i]=r,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(e){for(let t in this._extraLibs)this._removedExtraLibs[t]=this._extraLibs[t].version;if(this._extraLibs=Object.create(null),e&&e.length>0)for(let t of e){let i=t.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,r=t.content,p=1;this._removedExtraLibs[i]&&(p=this._removedExtraLibs[i]+1),this._extraLibs[i]={content:r,version:p}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(e){this._compilerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(e){this._diagnosticsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(e){this._workerOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(e){this._inlayHintsOptions=e||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(e){}setEagerModelSync(e){this._eagerModelSync=e}getEagerModelSync(){return this._eagerModelSync}setModeConfiguration(e){this._modeConfiguration=e||Object.create(null),this._onDidChange.fire(void 0)}},I=L,S={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,diagnostics:!0,documentRangeFormattingEdits:!0,signatureHelp:!0,onTypeFormattingEdits:!0,codeActions:!0,inlayHints:!0},x=new m({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),v=new m({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{},S),P=()=>u().then(n=>n.getTypeScriptWorker()),k=()=>u().then(n=>n.getJavaScriptWorker());l.languages.typescript={ModuleKind:b,JsxEmit:f,NewLineKind:y,ScriptTarget:h,ModuleResolutionKind:O,typescriptVersion:I,typescriptDefaults:x,javascriptDefaults:v,getTypeScriptWorker:P,getJavaScriptWorker:k};function u(){return new Promise((n,e)=>{c(["vs/language/typescript/tsMode"],n,e)})}l.languages.onLanguage("typescript",()=>u().then(n=>n.setupTypeScript(x)));l.languages.onLanguage("javascript",()=>u().then(n=>n.setupJavaScript(v)));return W(T);})();
return moduleExports;
});

define("vs/editor/editor.main", ["vs/editor/edcore.main","vs/basic-languages/monaco.contribution","vs/language/css/monaco.contribution","vs/language/html/monaco.contribution","vs/language/json/monaco.contribution","vs/language/typescript/monaco.contribution"], function(api) { return api; });
//# sourceMappingURL=../../../min-maps/vs/editor/editor.main.js.map